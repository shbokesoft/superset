{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime-corejs3/core-js-stable/date/now.js","webpack:///./node_modules/@babel/runtime-corejs3/core-js-stable/set-interval.js","webpack:///./node_modules/@babel/runtime-corejs3/core-js-stable/url-search-params.js","webpack:///./node_modules/@babel/runtime/helpers/objectSpread.js","webpack:///./node_modules/core-js-pure/es/date/now.js","webpack:///./node_modules/core-js-pure/internals/get-iterator.js","webpack:///./node_modules/core-js-pure/internals/native-url.js","webpack:///./node_modules/core-js-pure/modules/es.date.now.js","webpack:///./node_modules/core-js-pure/modules/web.url-search-params.js","webpack:///./node_modules/core-js-pure/stable/date/now.js","webpack:///./node_modules/core-js-pure/stable/set-interval.js","webpack:///./node_modules/core-js-pure/stable/url-search-params/index.js","webpack:///./node_modules/core-js-pure/web/url-search-params.js","webpack:///./src/explore/main.less","webpack:///./stylesheets/reactable-pagination.less","webpack:///./node_modules/dom-to-image/src/dom-to-image.js","webpack:///./node_modules/escape-html/index.js","webpack:///./node_modules/fast-memoize/src/index.js","webpack:///./node_modules/fault/index.js","webpack:///./node_modules/format/format.js","webpack:///./node_modules/highlight.js/lib/core.js","webpack:///./node_modules/highlight.js/lib/languages/htmlbars.js","webpack:///./node_modules/highlight.js/lib/languages/json.js","webpack:///./node_modules/highlight.js/lib/languages/markdown.js","webpack:///./node_modules/highlight.js/lib/languages/sql.js","webpack:///./node_modules/immer/dist/immer.esm.js","webpack:///./node_modules/interweave/esm/Element.js","webpack:///./node_modules/interweave/esm/Filter.js","webpack:///./node_modules/interweave/esm/Interweave.js","webpack:///./node_modules/interweave/esm/Markup.js","webpack:///./node_modules/interweave/esm/Matcher.js","webpack:///./node_modules/interweave/esm/Parser.js","webpack:///./node_modules/interweave/esm/StyleFilter.js","webpack:///./node_modules/interweave/esm/constants.js","webpack:///./node_modules/interweave/module.js","webpack:///./node_modules/lodash.debounce/index.js","webpack:///./node_modules/lodash.throttle/index.js","webpack:///./node_modules/lodash/_LazyWrapper.js","webpack:///./node_modules/lodash/_LodashWrapper.js","webpack:///./node_modules/lodash/_arrayAggregator.js","webpack:///./node_modules/lodash/_arrayIncludes.js","webpack:///./node_modules/lodash/_baseAggregator.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_baseIndexOf.js","webpack:///./node_modules/lodash/_baseIsNaN.js","webpack:///./node_modules/lodash/_baseLodash.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/_baseSetData.js","webpack:///./node_modules/lodash/_composeArgs.js","webpack:///./node_modules/lodash/_composeArgsRight.js","webpack:///./node_modules/lodash/_countHolders.js","webpack:///./node_modules/lodash/_createAggregator.js","webpack:///./node_modules/lodash/_createBind.js","webpack:///./node_modules/lodash/_createCtor.js","webpack:///./node_modules/lodash/_createCurry.js","webpack:///./node_modules/lodash/_createFlow.js","webpack:///./node_modules/lodash/_createHybrid.js","webpack:///./node_modules/lodash/_createPartial.js","webpack:///./node_modules/lodash/_createRecurry.js","webpack:///./node_modules/lodash/_createWrap.js","webpack:///./node_modules/lodash/_flatRest.js","webpack:///./node_modules/lodash/_getData.js","webpack:///./node_modules/lodash/_getFuncName.js","webpack:///./node_modules/lodash/_getHolder.js","webpack:///./node_modules/lodash/_getWrapDetails.js","webpack:///./node_modules/lodash/_insertWrapDetails.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_isLaziable.js","webpack:///./node_modules/lodash/_mergeData.js","webpack:///./node_modules/lodash/_metaMap.js","webpack:///./node_modules/lodash/_realNames.js","webpack:///./node_modules/lodash/_reorder.js","webpack:///./node_modules/lodash/_replaceHolders.js","webpack:///./node_modules/lodash/_setData.js","webpack:///./node_modules/lodash/_setWrapToString.js","webpack:///./node_modules/lodash/_strictIndexOf.js","webpack:///./node_modules/lodash/_updateWrapDetails.js","webpack:///./node_modules/lodash/_wrapperClone.js","webpack:///./node_modules/lodash/ary.js","webpack:///./node_modules/lodash/clone.js","webpack:///./node_modules/lodash/curry.js","webpack:///./node_modules/lodash/flatten.js","webpack:///./node_modules/lodash/flow.js","webpack:///./node_modules/lodash/fp/_baseConvert.js","webpack:///./node_modules/lodash/fp/_mapping.js","webpack:///./node_modules/lodash/fp/_util.js","webpack:///./node_modules/lodash/fp/convert.js","webpack:///./node_modules/lodash/fp/flow.js","webpack:///./node_modules/lodash/fp/keyBy.js","webpack:///./node_modules/lodash/fp/mapValues.js","webpack:///./node_modules/lodash/fp/placeholder.js","webpack:///./node_modules/lodash/isError.js","webpack:///./node_modules/lodash/isUndefined.js","webpack:///./node_modules/lodash/isWeakMap.js","webpack:///./node_modules/lodash/iteratee.js","webpack:///./node_modules/lodash/keyBy.js","webpack:///./node_modules/lodash/mapValues.js","webpack:///./node_modules/lodash/negate.js","webpack:///./node_modules/lodash/noop.js","webpack:///./node_modules/lodash/omitBy.js","webpack:///./node_modules/lodash/pickBy.js","webpack:///./node_modules/lodash/rearg.js","webpack:///./node_modules/lodash/snakeCase.js","webpack:///./node_modules/lodash/toPath.js","webpack:///./node_modules/lodash/wrapperLodash.js","webpack:///./node_modules/lowlight/lib/core.js","webpack:///./node_modules/match-sorter/dist/match-sorter.esm.js","webpack:///./node_modules/raf-schd/dist/raf-schd.esm.js","webpack:///./node_modules/re-resizable/lib/index.js","webpack:///./node_modules/re-resizable/lib/resizer.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/BrowserDetector.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/EnterLeaveCounter.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/HTML5BackendImpl.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/MonotonicInterpolant.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/NativeDragSource.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/getDataFromDataTransfer.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/index.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeDragSources/nativeTypesConfig.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/NativeTypes.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/OffsetUtils.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/OptionsReader.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/index.js","webpack:///./node_modules/react-dnd-html5-backend/dist/esm/utils/js_utils.js","webpack:///./node_modules/react-dnd/dist/esm/common/DndProvider.js","webpack:///./node_modules/react-resize-detector/build/index.esm.js","webpack:///./node_modules/react-split/dist/react-split.es.js","webpack:///./node_modules/react-split/node_modules/split.js/dist/split.es.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/checkForListedLanguage.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/create-element.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/highlight.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/json.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/markdown.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/sql.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/light.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/styles/hljs/github.js","webpack:///./node_modules/redux-localstorage/lib/createSlicer.js","webpack:///./node_modules/redux-localstorage/lib/getSubset.js","webpack:///./node_modules/redux-localstorage/lib/persistState.js","webpack:///./node_modules/redux-localstorage/lib/util/mergeState.js","webpack:///./node_modules/redux-localstorage/lib/util/typeOf.js","webpack:///./node_modules/redux-thunk/es/index.js","webpack:///./node_modules/remove-accents/index.js","webpack:///./src/chart/Chart.jsx","webpack:///./src/chart/ChartContainer.jsx","webpack:///./src/chart/ChartErrorMessage.tsx","webpack:///./src/chart/ChartRenderer.jsx","webpack:///./src/chart/chartReducer.ts","webpack:///./src/common/hooks/apiResources/apiResources.ts","webpack:///./src/common/hooks/apiResources/charts.ts","webpack:///./src/common/hooks/apiResources/dashboards.ts","webpack:///./src/common/hooks/apiResources/index.ts","webpack:///./src/common/hooks/useComponentDidMount/index.ts","webpack:///./src/common/hooks/useComponentDidMount/useComponentDidMount.ts","webpack:///./src/common/hooks/useUrlShortener.ts","webpack:///./src/components/AlteredSliceTag/index.jsx","webpack:///./src/components/ButtonGroup/index.tsx","webpack:///./src/components/CachedLabel/TooltipContent.tsx","webpack:///./src/components/CachedLabel/index.tsx","webpack:///./src/components/EditableTitle/index.tsx","webpack:///./src/components/FaveStar/index.tsx","webpack:///./src/components/Timer/index.tsx","webpack:///./src/dashboard/actions/dashboardFilters.js","webpack:///./src/dashboard/actions/dashboardInfo.ts","webpack:///./src/dashboard/actions/datasources.js","webpack:///./src/dashboard/actions/hydrate.js","webpack:///./src/dashboard/actions/nativeFilters.ts","webpack:///./src/dashboard/actions/sliceEntities.js","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/utils.ts","webpack:///./src/dashboard/reducers/dashboardFilters.js","webpack:///./src/dashboard/reducers/nativeFilters.ts","webpack:///./src/dashboard/reducers/sliceEntities.js","webpack:///./src/dashboard/util/activeDashboardFilters.js","webpack:///./src/dashboard/util/backgroundStyleOptions.ts","webpack:///./src/dashboard/util/findFirstParentContainer.js","webpack:///./src/dashboard/util/findPermission.ts","webpack:///./src/dashboard/util/getDashboardFilterKey.ts","webpack:///./src/dashboard/util/getEmptyLayout.js","webpack:///./src/dashboard/util/getFilterConfigsFromFormdata.js","webpack:///./src/dashboard/util/getLocationHash.ts","webpack:///./src/dashboard/util/headerStyleOptions.ts","webpack:///./src/dashboard/util/newComponentFactory.js","webpack:///./src/dashboard/util/propShapes.jsx","webpack:///./src/dataMask/reducer.ts","webpack:///./src/explore/App.jsx","webpack:///./src/explore/actions/exploreActions.ts","webpack:///./src/explore/actions/saveModalActions.js","webpack:///./src/explore/components/ControlPanelsContainer.tsx","webpack:///./src/explore/components/DataTableControl/index.tsx","webpack:///./src/explore/components/DataTablesPane/index.tsx","webpack:///./src/explore/components/DatasourcePanel/DatasourcePanelDragWrapper/index.tsx","webpack:///./src/explore/components/DatasourcePanel/index.tsx","webpack:///./src/explore/components/EmbedCodeButton.jsx","webpack:///./src/explore/components/ExploreActionButtons.tsx","webpack:///./src/explore/components/ExploreAdditionalActionsMenu/index.jsx","webpack:///./src/explore/components/ExploreChartHeader.jsx","webpack:///./src/explore/components/ExploreChartPanel.jsx","webpack:///./src/explore/components/ExploreViewContainer.jsx","webpack:///./src/explore/components/PropertiesModal/index.tsx","webpack:///./src/explore/components/QueryAndSaveBtns.jsx","webpack:///./src/explore/components/RowCountLabel.jsx","webpack:///./src/explore/components/SaveModal.tsx","webpack:///./src/explore/components/controls/ViewQueryModal.tsx","webpack:///./src/explore/index.jsx","webpack:///./src/explore/main.less?9e1a","webpack:///./src/explore/reducers/exploreReducer.js","webpack:///./src/explore/reducers/getInitialState.ts","webpack:///./src/explore/reducers/index.js","webpack:///./src/explore/reducers/saveModalReducer.js","webpack:///./src/messageToasts/components/Toast.tsx","webpack:///./src/messageToasts/components/ToastPresenter.tsx","webpack:///./src/messageToasts/constants.ts","webpack:///./src/messageToasts/containers/ToastPresenter.jsx","webpack:///./src/messageToasts/reducers/index.js","webpack:///./src/messageToasts/utils/getToastsFromPyFlashMessages.js","webpack:///./src/middleware/loggerMiddleware.js","webpack:///./src/modules/dates.js","webpack:///./src/reduxUtils.ts","webpack:///./src/utils/DebouncedMessageQueue.js","webpack:///./src/utils/downloadAsImage.ts","webpack:///./src/utils/getControlsForVizType.js","webpack:///./src/utils/localStorageHelpers.ts","webpack:///./src/utils/urlUtils.ts","webpack:///./stylesheets/reactable-pagination.less?537b"],"names":["propTypes","annotationData","PropTypes","object","actions","chartId","number","isRequired","datasource","dashboardId","initialValues","formData","width","height","setControlValue","func","timeout","vizType","string","triggerRender","bool","isFiltersInitialized","chartAlert","chartStatus","chartStackTrace","queriesResponse","arrayOf","triggerQuery","refreshOverlayVisible","errorMessage","node","addFilter","onQuery","onFilterMenuOpen","onFilterMenuClose","ownState","BLANK","defaultProps","Styles","styled","div","p","theme","typography","sizes","s","RefreshOverlayWrapper","Chart","React","PureComponent","constructor","props","handleRenderContainerFailure","componentDidMount","runQuery","componentDidUpdate","isFeatureEnabled","FeatureFlag","CLIENT_CACHE","getSavedChart","postChartFormData","error","info","logging","warn","chartRenderingFailed","toString","componentStack","logEvent","LOG_ACTIONS_RENDER_CHART","slice_id","has_err","error_details","start_offset","renderStartTime","ts","Date","getTime","duration","Logger","getTimestamp","renderErrorMessage","queryResponse","errors","message","link","render","isLoading","isFaded","renderContainerStartTime","item","t","mapDispatchToProps","dispatch","bindActionCreators","updateDataMask","connect","setDataMask","ChartRenderer","Component","hasQueryResponseChange","handleAddFilter","handleRenderSuccess","handleRenderFailure","handleSetControlValue","hooks","onAddFilter","onError","dataMask","shouldComponentUpdate","nextProps","resultsReady","filterState","color_scheme","cacheBusterProp","col","vals","merge","refresh","chartRenderingSucceeded","viz_type","args","snakeCaseVizType","chartClassName","webpackHash","process","__webpack_require__","h","Behavior","INTERACTIVE_CHART","origFormData","currentFormData","alterForComparison","value","undefined","length","keys","AlteredSliceTag","diffs","getDiffs","controlsMap","getControlsForVizType","rows","getRowsFromDiffs","state","hasDiffs","UNSAFE_componentWillReceiveProps","newProps","setState","prevState","key","diff","control","label","before","formatValue","after","ofd","cfd","fdKeys","fdKey","isEqualish","val1","val2","type","v","filterVal","comparator","Array","join","subject","operator","safeStringify","renderModalBody","columns","accessor","Header","renderTriggerNode","fontSize","isValidFilter","getState","dashboardState","sliceIds","ADD_FILTER","component","form_data","dashboardFilters","REMOVE_FILTER","removeFilter","CHANGE_FILTER","changeFilter","newSelectedValues","components","dashboardLayout","present","UPDATE_DIRECT_PATH_TO_FILTER","updateDirectPathToFilter","path","UPDATE_LAYOUT_COMPONENTS","updateLayoutComponents","UPDATE_DASHBOARD_FILTERS_SCOPE","updateDashboardFiltersScope","scopes","SET_DATASOURCE","setDatasource","FETCH_DATASOURCE_STARTED","fetchDatasourceStarted","FETCH_DATASOURCE_FAILED","fetchDatasourceFailed","fetchDatasourceMetadata","datasources","SupersetClient","get","endpoint","then","json","catch","response","getClientErrorObject","HYDRATE_DASHBOARD","hydrateDashboard","dashboardData","chartData","datasourcesData","user","common","metadata","regularUrlParams","extractUrlParams","reservedUrlParams","editMode","edit","preselectFilters","chart","getUrlParam","URL_PARAMS","JSON","parse","default_filters","e","label_colors","scheme","namespace","color_namespace","colorMap","CategoricalColorNamespace","getScale","setColor","position_data","layout","getEmptyLayout","chartIdToLayoutId","layoutComponent","CHART_TYPE","meta","id","parentId","findFirstParentContainerId","parent","newSlicesContainer","newSlicesContainerWidth","filterScopes","filter_scopes","chartQueries","slices","slice","url_params","applyDefaultFormData","slice_url","slice_name","description","description_markeddown","owners","modified","changed_on","add","GRID_DEFAULT_CHART_WIDTH","GRID_COLUMN_COUNT","newComponentFactory","ROW_TYPE","parents","children","push","chartHolder","configs","getFilterConfigsFromFormdata","labels","scopesByChartId","map","column","scopeSettings","scope","immune","DASHBOARD_FILTER_SCOPE_GLOBAL","componentId","directPathToFilter","dashboardFilter","datasourceId","filterName","isInstantFilter","instant_filtering","isDateFilter","TIME_RANGE","layoutId","sliceName","buildActiveFilters","DASHBOARD_HEADER_ID","DASHBOARD_HEADER_TYPE","text","dashboard_title","past","future","directLinkComponentId","getLocationHash","directPathToChild","nativeFilters","getInitialNativeFilterState","filterConfig","native_filter_configuration","filterSetsConfig","filter_sets_configuration","show_native_filters","DASHBOARD_CROSS_FILTERS","layoutItem","behaviors","getChartMetadataRegistry","chart_configuration","crossFilters","rootPath","DASHBOARD_ROOT_ID","excluded","roles","canEdit","canUserEditDashboard","data","sliceEntities","initSliceEntities","charts","dashboardInfo","userId","String","dash_edit_perm","dash_save_perm","findPermission","dash_share_perm","superset_can_explore","superset_can_share","superset_can_csv","slice_can_edit","flash_messages","conf","directPathLastUpdated","focusedFilterField","expandedSlices","expanded_slices","refreshFrequency","refresh_frequency","shouldPersistRefreshFrequency","css","colorNamespace","colorScheme","isPublished","published","hasUnsavedChanges","maxUndoHistoryExceeded","lastModifiedTime","lastFocusedTabId","SET_ALL_SLICES","setAllSlices","payload","FETCH_ALL_SLICES_STARTED","fetchAllSlicesStarted","FETCH_ALL_SLICES_FAILED","fetchAllSlicesFailed","FETCH_SLICES_PAGE_SIZE","fetchAllSlices","lastUpdated","rison","encode","filters","opr","page_size","order_column","order_direction","result","params","getDatasourceParameter","datasource_id","datasource_type","url","datasource_name","datasource_name_text","datasource_url","changed_on_utc","description_markdown","changed_on_delta_humanized","changed_on_humanized","errorResponse","console","log","addDangerToast","CHANGE_FILTER_VALUE_ACTIONS","dashboardFiltersReducer","action","actionHandlers","newFilter","updatedColumns","name","allDashboardFiltersScope","updatedFilters","entry","filterKey","getChartIdAndColumnFromFilterKey","deletedFilter","sliceEntitiesReducer","allFilterBoxChartIds","activeFilters","appliedFilterValuesByChart","allComponents","getActiveFilters","isFilterBox","getAppliedFilterValues","applicableFilters","chartIds","values","getChartIdsInFilterScope","filterScope","traverse","immuneChartIds","child","scopeComponentIds","filter","nonEmptyFilters","getDashboardFilterKey","TABS_TYPE","tabs","DASHBOARD_VERSION_KEY","DASHBOARD_ROOT_TYPE","DASHBOARD_GRID_ID","DASHBOARD_GRID_TYPE","date_filter","filter_configs","show_druid_time_granularity","show_druid_time_origin","show_sqla_time_column","show_sqla_time_granularity","config","defaultValues","FILTER_CONFIG_ATTRIBUTES","DEFAULT_VALUE","MULTIPLE","defaultValue","split","updatedLabels","TIME_FILTER_MAP","time_range","TIME_FILTER_LABELS","time_grain_sqla","granularity_sqla","granularity","druid_time_origin","typeToDefaultMetaData","COLUMN_TYPE","background","BACKGROUND_TRANSPARENT","DIVIDER_TYPE","HEADER_TYPE","headerSize","MEDIUM_HEADER","MARKDOWN_TYPE","TAB_TYPE","defaultText","placeholder","uuid","shortid","generate","entityFactory","componentShape","shape","oneOf","componentTypes","headerStyleOptions","opt","backgroundStyleOptions","chartPropShape","chartUpdateEndTime","chartUpdateStartTime","latestQueryFormData","queryController","abort","lastRendered","slicePropShape","datasource_link","dashboardFilterPropShape","dashboardStatePropShape","updatedColorScheme","dashboardInfoPropShape","slug","lazyFunction","f","apply","arguments","leafType","oneOfType","parentShape","filterScopeSelectorTreeNodePropShape","setupApp","setupPlugins","App","store","HTML5Backend","hot","FETCH_DASHBOARDS_SUCCEEDED","fetchDashboardsSucceeded","choices","FETCH_DASHBOARDS_FAILED","fetchDashboardsFailed","fetchDashboards","fetchDashboardsThunk","pks","index","SAVE_SLICE_FAILED","saveSliceFailed","SAVE_SLICE_SUCCESS","saveSliceSuccess","REMOVE_SAVE_MODAL_ALERT","removeSaveModalAlert","saveSlice","requestParams","getExploreUrl","endpointType","force","curUrl","post","postPayload","EmbedCodeButton","shortUrlId","handleInputChange","getCopyUrl","onShortUrlSuccess","shortUrl","substring","getShortUrl","getExploreLongUrl","currentTarget","generateEmbedHTML","srcLink","window","location","origin","getURIDirectory","standalone","renderPopoverContent","html","display","alignItems","onOpenPropertiesModal","onOpenInEditor","MENU_KEYS","EDIT_PROPERTIES","RUN_IN_SQL_LAB","DOWNLOAD_AS_IMAGE","VIEW_QUERY","ExploreAdditionalActionsMenu","sqlSupported","handleMenuClick","domEvent","downloadAsImage","sliceUpdated","CHART_STATUS_MAP","failed","loading","success","addHistory","can_overwrite","can_download","isStarred","table_name","StyledHeader","gridUnit","StyledButtons","span","ExploreChartHeader","isPropertiesModalOpen","openPropertiesModal","closePropertiesModal","getSliceName","chartFinished","updateChartTitle","fetchFaveStar","saveFaveStar","sliceFormData","Number","rowcount","row_limit","is_cached","cached_dttm","column_formats","containerId","GUTTER_SIZE_FACTOR","CHART_PANEL_PADDING_HORIZ","CHART_PANEL_PADDING_VERTICAL","HEADER_PADDING","STORAGE_KEYS","INITIAL_SIZES","MIN_SIZES","DEFAULT_SOUTH_PANE_HEIGHT_PERCENT","colors","grayscale","light2","ExploreChartPanel","useTheme","gutterMargin","gutterHeight","hHeight","ref","headerRef","useResizeDetector","refreshMode","refreshRate","chartPanelWidth","chartPanelRef","splitSizes","setSplitSizes","useState","getFromLocalStorage","calcSectionHeight","useCallback","percent","headerHeight","containerHeight","tableSectionHeight","setTableSectionHeight","recalcPanelSizes","southPercent","useEffect","setInLocalStorage","onDragEnd","onCollapseChange","openPanelName","renderChart","newHeight","chartWidth","Math","floor","panelBody","useMemo","standaloneChartBody","standaloneClass","bodyClasses","document","body","className","header","elementStyle","dimension","elementSize","gutterSize","isDatasourceMetaLoading","controls","forcedHeight","impressionId","light5","light4","light1","primary","base","getWindowSize","innerHeight","innerWidth","useWindowSize","delayMs","size","setSize","onWindowResize","addEventListener","removeEventListener","ExploreViewContainer","dynamicPluginContext","useDynamicPluginContext","dynamicPlugin","plugins","isDynamicPluginLoading","wasDynamicPluginLoading","usePrevious","previousControls","windowSize","showingModal","setShowingModal","isCollapsed","setIsCollapsed","navHeight","storageKeys","controlsWidth","dataSourceWidth","defaultSidebarsWidth","controls_width","datasource_width","isReplace","title","longUrl","history","replaceState","pushState","handlePopstate","setExploreControls","handleKeydown","event","controlOrCommand","ctrlKey","metaKey","isEnter","keyCode","isS","add_to_dash","goto_dash","onStop","toggleModal","toggleCollapse","LOG_ACTIONS_MOUNT_EXPLORER","dynamicPluginControlsReady","hasError","validationErrors","reRenderChart","updateQueryFormData","getFormDataFromControls","renderTriggered","changedControlKeys","areObjectsEqual","hasDisplayControlChanged","renderTrigger","chartIsStale","dontRefreshOnChange","LOG_ACTIONS_CHANGE_EXPLORE_CONTROLS","controlsWithErrors","errorMessages","uniqueErrorMessages","matchingLabels","textAlign","renderChartContainer","getSidebarWidths","setSidebarWidths","newDimension","evt","direction","d","right","marginTop","can_add","cx","mapStateToProps","explore","extra_form_data","mergeExtraFormData","chartKey","forced_height","SUPERSET_WEBSERVER_TIMEOUT","user_id","exploreActions","saveModalActions","chartActions","logActions","canAdd","onSave","QueryAndSaveBtns","qryButtonStyle","saveButtonDisabled","qryOrStopButton","flexShrink","flexDirection","paddingTop","paddingRight","paddingBottom","paddingLeft","marginLeft","limit","suffix","RowCountLabel","limitReached","formattedRowCount","getNumberFormatter","tooltip","exploreViewContainer","getElementById","bootstrapData","getAttribute","initFeatureFlags","feature_flags","initState","getInitialState","createStore","rootReducer","compose","applyMiddleware","thunk","logger","initEnhancer","ReactDOM","exploreReducer","DYNAMIC_PLUGIN_CONTROLS_READY","controlsState","newFormData","DEFAULT_TIME_RANGE","controlName","controlState","valueKey","newState","getControlsState","isDatasourcesLoading","new_form_data","controlConfig","getControlConfig","getControlStateFromControlConfig","rerenderedControls","rerender","err","hasErrors","currentControlsState","combineReducers","saveModal","messageToasts","saveModalReducer","dashboards","saveModalAlert","toasts","removeToast","ToastPresenter","messageToastsReducer","ADD_TOAST","toast","noDuplicate","x","REMOVE_TOAST","toastsFromPyFlashMessages","flashMessages","messageType","toastType","ToastType","DANGER","SUCCESS","INFO","addToast","LOG_ENDPOINT","sendBeacon","events","source","source_id","navigator","FormData","append","parseMethod","MAX_EVENTS_PER_REQUEST","logMessageQueue","DebouncedMessageQueue","callback","sizeThreshold","delayThreshold","lastEventId","loggerMiddleware","next","LOG_EVENT","logMetadata","impression_id","version","eventName","eventData","event_name","LOG_EVENT_TYPE_TIMING","has","event_type","trigger_event","event_id","visibility","visibilityState","target_id","target_name","fDuration","t1","t2","format","diffSec","moment","utc","now","valueOf","epochTimeXHoursAgo","subtract","epochTimeXDaysAgo","epochTimeXYearsAgo","y","queue","delayThrehold","trigger","call","memoizedControls","memoize","controlPanel","controlPanelSections","section","controlSetRows","row","getChartControlPanelRegistry"],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,0CAA0C;QAC1C;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;;;QAGA;;QAEA;QACA,iCAAiC;;QAEjC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,MAAM;QACN;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,wBAAwB,kCAAkC;QAC1D,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA,0CAA0C,oBAAoB,WAAW;;QAEzE;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;QACA;QACA;;;;;;;;;;;;AC5NA,iBAAiB,mBAAO,CAAC,oFAA8B,E;;;;;;;;;;;ACAvD,iBAAiB,mBAAO,CAAC,4FAAkC,E;;;;;;;;;;;ACA3D,iBAAiB,mBAAO,CAAC,4GAAuC,E;;;;;;;;;;;ACAhE,qBAAqB,mBAAO,CAAC,oFAAqB;;AAElD;AACA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA,6E;;;;;;;;;;;ACtBA,mBAAO,CAAC,qFAA2B;AACnC,WAAW,mBAAO,CAAC,2EAAsB;;AAEzC;;;;;;;;;;;;ACHA,eAAe,mBAAO,CAAC,kFAAwB;AAC/C,wBAAwB,mBAAO,CAAC,sGAAkC;;AAElE;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACRA,YAAY,mBAAO,CAAC,0EAAoB;AACxC,sBAAsB,mBAAO,CAAC,kGAAgC;AAC9D,cAAc,mBAAO,CAAC,8EAAsB;;AAE5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AChCD,QAAQ,mBAAO,CAAC,4EAAqB;;AAErC;AACA;AACA,GAAG,6BAA6B;AAChC;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACRY;AACb;AACA,mBAAO,CAAC,8FAA8B;AACtC,QAAQ,mBAAO,CAAC,4EAAqB;AACrC,iBAAiB,mBAAO,CAAC,wFAA2B;AACpD,qBAAqB,mBAAO,CAAC,oFAAyB;AACtD,eAAe,mBAAO,CAAC,gFAAuB;AAC9C,kBAAkB,mBAAO,CAAC,wFAA2B;AACrD,qBAAqB,mBAAO,CAAC,kGAAgC;AAC7D,gCAAgC,mBAAO,CAAC,sHAA0C;AAClF,0BAA0B,mBAAO,CAAC,4FAA6B;AAC/D,iBAAiB,mBAAO,CAAC,sFAA0B;AACnD,aAAa,mBAAO,CAAC,sEAAkB;AACvC,WAAW,mBAAO,CAAC,0GAAoC;AACvD,cAAc,mBAAO,CAAC,8EAAsB;AAC5C,eAAe,mBAAO,CAAC,kFAAwB;AAC/C,eAAe,mBAAO,CAAC,kFAAwB;AAC/C,aAAa,mBAAO,CAAC,0FAA4B;AACjD,+BAA+B,mBAAO,CAAC,oHAAyC;AAChF,kBAAkB,mBAAO,CAAC,wFAA2B;AACrD,wBAAwB,mBAAO,CAAC,sGAAkC;AAClE,sBAAsB,mBAAO,CAAC,kGAAgC;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+EAA+E,EAAE,EAAE,cAAc;AACjG;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kDAAkD;AAC1E;AACA,OAAO,6DAA6D,kCAAkC;AACtG,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oCAAoC;AAC5D;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wBAAwB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,uBAAuB;AACrD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,CAAC,GAAG,mBAAmB;;AAEvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,GAAG,mBAAmB;;AAEvB;;AAEA,GAAG,wCAAwC;AAC3C;AACA,CAAC;;AAED;AACA;AACA;AACA,KAAK,+CAA+C;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;AC1VA,aAAa,mBAAO,CAAC,qEAAmB;;AAExC;;;;;;;;;;;;ACFA,mBAAO,CAAC,gFAAuB;AAC/B,WAAW,mBAAO,CAAC,wEAAmB;;AAEtC;;;;;;;;;;;;ACHA,aAAa,mBAAO,CAAC,yFAA6B;;AAElD;;;;;;;;;;;;ACFA,mBAAO,CAAC,sGAAkC;AAC1C,WAAW,mBAAO,CAAC,wEAAmB;;AAEtC;;;;;;;;;;;;ACHA,2BAA2B,mBAAO,CAAC,gGAA+C;AAClF;;;AAGA;AACA,cAAc,QAAS,uUAAuU,+zBAA+zB,kvJAAkvJ,ihBAAihB,uBAAuB,qBAAqB,gBAAgB,iBAAiB,GAAG,sBAAsB,uBAAuB,aAAa,cAAc,eAAe,gBAAgB,qBAAqB,sBAAsB,wBAAwB,GAAG,mBAAmB,yBAAyB,oBAAoB,GAAG,aAAa,gBAAgB,oBAAoB,sBAAsB,GAAG,2BAA2B,6CAA6C,GAAG,gBAAgB,gBAAgB,GAAG,eAAe,wBAAwB,GAAG,0BAA0B,iBAAiB,kCAAkC,GAAG,mCAAmC,eAAe,kCAAkC,GAAG,kBAAkB,qBAAqB,GAAG,yBAAyB,mBAAmB,GAAG,uCAAuC,uBAAuB,GAAG,gDAAgD,6BAA6B,GAAG,yBAAyB,oBAAoB,GAAG,0CAA0C,sBAAsB,GAAG,iBAAiB,oBAAoB,GAAG,oCAAoC,oBAAoB,cAAc,eAAe,qBAAqB,GAAG,6CAA6C,8BAA8B,GAAG,oBAAoB,oBAAoB,GAAG,sBAAsB,oBAAoB,qBAAqB,qBAAqB,GAAG,iCAAiC,uBAAuB,GAAG,0CAA0C,iBAAiB,GAAG,qBAAqB,oBAAoB,qBAAqB,qBAAqB,kBAAkB,wBAAwB,GAAG,qBAAqB,oBAAoB,qBAAqB,qBAAqB,kBAAkB,wBAAwB,GAAG,UAAU,0TAA0T,MAAM,qBAAqB,MAAM,YAAY,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,sBAAsB,MAAM,MAAM,WAAW,WAAW,UAAU,UAAU,MAAM,MAAM,WAAW,UAAU,UAAU,UAAU,UAAU,WAAW,WAAW,WAAW,MAAM,MAAM,WAAW,WAAW,MAAM,MAAM,UAAU,WAAW,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,UAAU,MAAM,MAAM,WAAW,MAAM,MAAM,UAAU,WAAW,MAAM,MAAM,UAAU,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,UAAU,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,UAAU,UAAU,WAAW,MAAM,OAAO,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,WAAW,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,UAAU,MAAM,MAAM,WAAW,WAAW,WAAW,UAAU,WAAW,MAAM,MAAM,WAAW,WAAW,WAAW,UAAU,WAAW,iXAAiX,+zBAA+zB,kvJAAkvJ,ihBAAihB,uBAAuB,qBAAqB,gBAAgB,iBAAiB,GAAG,sBAAsB,uBAAuB,aAAa,cAAc,eAAe,gBAAgB,qBAAqB,sBAAsB,wBAAwB,GAAG,mBAAmB,yBAAyB,oBAAoB,GAAG,aAAa,gBAAgB,oBAAoB,sBAAsB,GAAG,2BAA2B,6CAA6C,GAAG,gBAAgB,gBAAgB,GAAG,eAAe,wBAAwB,GAAG,0BAA0B,iBAAiB,kCAAkC,GAAG,mCAAmC,eAAe,kCAAkC,GAAG,kBAAkB,qBAAqB,GAAG,yBAAyB,mBAAmB,GAAG,uCAAuC,uBAAuB,GAAG,gDAAgD,6BAA6B,GAAG,yBAAyB,oBAAoB,GAAG,0CAA0C,sBAAsB,GAAG,iBAAiB,oBAAoB,GAAG,oCAAoC,oBAAoB,cAAc,eAAe,qBAAqB,GAAG,6CAA6C,8BAA8B,GAAG,oBAAoB,oBAAoB,GAAG,sBAAsB,oBAAoB,qBAAqB,qBAAqB,GAAG,iCAAiC,uBAAuB,GAAG,0CAA0C,iBAAiB,GAAG,qBAAqB,oBAAoB,qBAAqB,qBAAqB,kBAAkB,wBAAwB,GAAG,qBAAqB,oBAAoB,qBAAqB,qBAAqB,kBAAkB,wBAAwB,GAAG,yUAAyU,2iBAA2iB,0BAA0B,uBAAuB,qBAAqB,gBAAgB,iBAAiB,GAAG,wBAAwB,uBAAuB,aAAa,cAAc,eAAe,gBAAgB,qBAAqB,sBAAsB,wBAAwB,GAAG,qBAAqB,yBAAyB,4BAA4B,GAAG,eAAe,gBAAgB,oBAAoB,sBAAsB,GAAG,6BAA6B,6CAA6C,GAAG,kBAAkB,gBAAgB,GAAG,iBAAiB,wBAAwB,GAAG,4BAA4B,iBAAiB,kCAAkC,GAAG,qCAAqC,eAAe,kCAAkC,GAAG,oBAAoB,qBAAqB,GAAG,2BAA2B,mBAAmB,GAAG,yCAAyC,uBAAuB,kBAAkB,+BAA+B,KAAK,GAAG,2BAA2B,oBAAoB,wBAAwB,wBAAwB,sDAAsD,GAAG,mBAAmB,oBAAoB,GAAG,sCAAsC,oBAAoB,cAAc,eAAe,qBAAqB,GAAG,+CAA+C,iCAAiC,GAAG,sBAAsB,oBAAoB,GAAG,wBAAwB,4BAA4B,qBAAqB,qBAAqB,GAAG,mCAAmC,uBAAuB,kBAAkB,mBAAmB,KAAK,GAAG,uBAAuB,4BAA4B,mCAAmC,qBAAqB,kBAAkB,wBAAwB,GAAG,uBAAuB,4BAA4B,mCAAmC,qBAAqB,kBAAkB,wBAAwB,GAAG,qBAAqB;;AAEn+pB;;;;;;;;;;;;ACPA,2BAA2B,mBAAO,CAAC,6FAA4C;AAC/E;;;AAGA;AACA,cAAc,QAAS,uUAAuU,+zBAA+zB,kvJAAkvJ,qhBAAqhB,mCAAmC,GAAG,iCAAiC,0BAA0B,mBAAmB,eAAe,GAAG,4EAA4E,wBAAwB,uBAAuB,8BAA8B,mBAAmB,0BAA0B,oBAAoB,sBAAsB,sBAAsB,uBAAuB,0BAA0B,2BAA2B,wBAAwB,GAAG,8FAA8F,8BAA8B,0BAA0B,mBAAmB,0BAA0B,GAAG,2BAA2B,8BAA8B,mBAAmB,qBAAqB,yBAAyB,kBAAkB,GAAG,UAAU,0VAA0V,MAAM,qBAAqB,MAAM,YAAY,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,aAAa,sBAAsB,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,UAAU,UAAU,MAAM,QAAQ,WAAW,WAAW,WAAW,UAAU,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,WAAW,MAAM,QAAQ,WAAW,WAAW,UAAU,WAAW,MAAM,MAAM,WAAW,UAAU,WAAW,WAAW,UAAU,iYAAiY,+zBAA+zB,kvJAAkvJ,qhBAAqhB,mCAAmC,GAAG,iCAAiC,0BAA0B,mBAAmB,eAAe,GAAG,4EAA4E,wBAAwB,uBAAuB,8BAA8B,mBAAmB,0BAA0B,oBAAoB,sBAAsB,sBAAsB,uBAAuB,0BAA0B,2BAA2B,wBAAwB,GAAG,8FAA8F,8BAA8B,0BAA0B,mBAAmB,0BAA0B,GAAG,2BAA2B,8BAA8B,mBAAmB,qBAAqB,yBAAyB,kBAAkB,GAAG,yUAAyU,wiBAAwiB,8BAA8B,mCAAmC,GAAG,mCAAmC,0BAA0B,sBAAsB,eAAe,GAAG,8EAA8E,0BAA0B,yCAAyC,kCAAkC,sBAAsB,0BAA0B,4BAA4B,sBAAsB,sBAAsB,uBAAuB,0BAA0B,2BAA2B,wBAAwB,eAAe,iCAAiC,0BAA0B,wBAAwB,4BAA4B,KAAK,GAAG,6BAA6B,kCAAkC,sBAAsB,mCAAmC,yBAAyB,kBAAkB,GAAG,qBAAqB;;AAE1ojB;;;;;;;;;;;;ACPA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,IAA6B;AACrC;AACA;AACA,QAAQ,EAA+B;;;AAGvC;AACA,eAAe,KAAK;AACpB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA,eAAe,KAAK;AACpB,eAAe,OAAO,oCAAoC;AAC1D,gBAAgB,QAAQ;AACxB;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,eAAe,KAAK;AACpB,eAAe,OAAO,oCAAoC;AAC1D,gBAAgB,QAAQ;AACxB;AACA;AACA,uCAAuC;AACvC;AACA;AACA,aAAa;AACb;;AAEA;AACA,eAAe,KAAK;AACpB,eAAe,OAAO,oCAAoC;AAC1D,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,eAAe,KAAK;AACpB,eAAe,OAAO,oCAAoC;AAC1D,gBAAgB,QAAQ;AACxB;AACA;AACA,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oEAAoE,gBAAgB;;AAEpF;AACA;AACA,8EAA8E;AAC9E;;AAEA;;AAEA;AACA;AACA,wCAAwC,QAAQ;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA,2CAA2C;AAC3C,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,YAAY;AAC3C;;AAEA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,sCAAsC;AACtC;;AAEA;AACA,6CAA6C;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,YAAY;AACvC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA,yEAAyE;AACzE;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,iBAAiB;;AAEjB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AChwBD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA2B,oBAAoB;AAC/C;AACA;AACA,wBAAwB;AACxB;AACA;AACA,uBAAuB;AACvB;AACA;AACA,uBAAuB;AACvB;AACA;AACA,sBAAsB;AACtB;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;AC7EA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/IY;;AAEZ,gBAAgB,mBAAO,CAAC,+CAAQ;;AAEhC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;;AAEA;AACA,MAAM,IAA6B;AACnC;AACA;;AAEA;AACA,OAAO,EAGJ;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,yBAAyB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;;AC/HD;AACA,YAAY,IAAI;AAChB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA,yBAAyB;AACzB,wBAAwB;AACxB,wBAAwB;AACxB,0BAA0B;AAC1B,0BAA0B;AAC1B;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,qBAAqB;AAChC,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,oBAAoB,EAAE;AACtB;;AAEA;;AAEA;AACA;AACA,cAAc,eAAe;AAC7B,cAAc,OAAO;AACrB,cAAc,KAAK;AACnB;;AAEA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA,qCAAqC,OAAO;AAC5C;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,WAAW,IAAI;AACf,WAAW,IAAI;AACf,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,KAAK;AAClB;AACA;AACA,gBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,aAAa,OAAO;AACpB,cAAc,uBAAuB;AACrC,cAAc,qBAAqB;AACnC,cAAc,qBAAqB;AACnC,cAAc,aAAa;AAC3B;;AAEA,eAAe,sCAAsC;AACrD,eAAe,6BAA6B;AAC5C;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;;AAEA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,cAAc,qBAAqB;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;;AAEA;AACA;AACA,qBAAqB,iBAAiB,EAAE,UAAU;AAClD;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA,mCAAmC,UAAU;AAC7C;AACA;;AAEA,eAAe,uDAAuD,UAAU;AAChF,eAAe,uDAAuD,EAAE;AACxE;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;;AAEA,cAAc,sBAAsB;;AAEpC,cAAc,KAAK;AACnB;AACA;AACA;;AAEA,cAAc,OAAO;AACrB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,eAAe,qCAAqC;AACpD,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,SAAS;AACtB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA,sBAAsB,QAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB;AACA;AACA,sBAAsB,QAAQ;;AAE9B;AACA;;AAEA;AACA,aAAa,WAAW,gBAAgB;AACxC,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA,sDAAsD;AACtD;;AAEA;AACA,WAAW,iBAAiB;AAC5B,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,sBAAsB;AACjC,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6FAA6F;AAC7F,wCAAwC;AACxC,+EAA+E,sDAAsD;;AAErI;AACA,UAAU,kBAAkB,yBAAyB,EAAE;AACvD;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,gBAAgB;AAC3B,WAAW,UAAU;AACrB,aAAa;AACb;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA,iBAAiB,aAAa;AAC9B,gCAAgC,8BAA8B,EAAE;AAChE,iBAAiB,aAAa;AAC9B,8BAA8B,wDAAwD;AACtF,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA,mBAAmB,aAAa;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,OAAO;AAC/D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,eAAe;AACf;AACA;AACA;;AAEA,0DAA0D,4BAA4B;;AAEtF;AACA,uCAAuC,cAAc;AACrD;AACA;AACA,gCAAgC,kBAAkB;AAClD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,oBAAoB;AACjC,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,uCAAuC,2CAA2C,EAAE;;AAEpF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,aAAa;AACb;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B,oDAAoD;AAC9E;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,+BAA+B;AAC1C,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA,wCAAwC;AACxC;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA,sCAAsC,cAAc;AACpD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,mBAAmB,+BAA+B;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO,yDAAyD;AAChE;;AAEA;AACA,WAAW,IAAI;AACf,aAAa;AACb;AACA;AACA;AACA,aAAa,UAAU;AACvB;;AAEA;AACA,aAAa,yBAAyB;AACtC;AACA,aAAa,uBAAuB;AACpC;AACA,aAAa,aAAa;AAC1B;;AAEA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D,aAAa,SAAS;AACtB,8BAA8B;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA,aAAa,uBAAuB;AACpC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,KAAK;AAClB;AACA,eAAe,gBAAgB;AAC/B,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,gBAAgB,KAAK;AACrB,gBAAgB,QAAQ;AACxB;AACA;AACA,gBAAgB,gDAAgD;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,KAAK;AAClB;AACA;AACA;;AAEA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,iBAAiB;AAChC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA,iCAAiC,UAAU,aAAa,EAAE;AAC1D;AACA;;AAEA;AACA,eAAe,cAAc;AAC7B,eAAe,iBAAiB;AAChC,eAAe,OAAO;AACtB,iBAAiB,oBAAoB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,cAAc;AAC7B,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,iBAAiB;;AAEtC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,gDAAgD;AAChE;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,cAAc;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD;AAClD;AACA;;AAEA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,YAAY,OAAO;AACnB,YAAY,cAAc;AAC1B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,YAAY,OAAO;AACnB,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,OAAO,qCAAqC;;AAE5C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,iCAAiC;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,YAAY;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,gDAAgD,uCAAuC;AACvF;AACA,uBAAuB,aAAa,EAAE,OAAO,sBAAsB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,eAAe;AACpD;AACA;;AAEA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,YAAY,OAAO;AACnB,cAAc;AACd;AACA;AACA;AACA,eAAe,aAAa;;AAE5B,iCAAiC,qDAAqD;AACtF;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,gBAAgB;AAC7B,cAAc,sBAAsB;AACpC;AACA,uCAAuC,eAAe;AACtD;AACA;AACA;AACA,gCAAgC,+BAA+B,EAAE;AACjE;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,WAAW;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,YAAY;AACzB,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA,UAAU,OAAO;AACjB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,+BAA+B,mBAAmB;AAClD,8BAA8B,kBAAkB;AAChD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB;;AAEvB;;;;;;;;;;;;AC9pEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;;AAEA;AACA,WAAW,iBAAiB;AAC5B,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,sBAAsB;AACjC,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,aAAa,EAAE;AAC1D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,kBAAkB,KAAK,OAAO;AAC/D;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,GAAG;;AAEH,qDAAqD,YAAY,EAAE;AACnE,4DAA4D,iBAAiB,EAAE;;AAE/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,EAAE,WAAW,EAAE;AACrC,sBAAsB,EAAE,OAAO,EAAE;AACjC;AACA,+BAA+B,OAAO,2BAA2B,QAAQ;AACzE;AACA,kBAAkB,EAAE,EAAE,EAAE;AACxB,gBAAgB,EAAE,EAAE,EAAE;AACtB;AACA,iBAAiB,QAAQ,EAAE,EAAE,EAAE;AAC/B,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE,EAAE,EAAE;AACxB,gBAAgB,EAAE,EAAE,EAAE;AACtB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA,kBAAkB,EAAE,SAAS,EAAE;AAC/B,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE,EAAE;AACtB,gBAAgB,EAAE,EAAE;AACpB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AC/SA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY,GAAG,uBAAuB;AAC7C,OAAO,YAAY,GAAG,uBAAuB;AAC7C;AACA,OAAO,iCAAiC;AACxC,OAAO,iCAAiC;AACxC,OAAO,iBAAiB;AACxB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,WAAW,aAAa,EAAE;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,UAAU,EAAE,WAAW,EAAE,GAAG;AACnC,OAAO,WAAW,EAAE,YAAY,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,+BAA+B;AACtC,OAAO,yCAAyC;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,IAAI;AACvB;AACA;AACA,QAAQ;AACR;AACA,+BAA+B,GAAG;AAClC;AACA,WAAW,mBAAmB;AAC9B,WAAW,gDAAgD;AAC3D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5JA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,wBAAwB,cAAc;AACtC,WAAW;AACX;AACA;AACA;AACA,wBAAwB,YAAY;AACpC,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACzKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA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e,GAAG,wCAAwC;;AAEpT;AACA;AACA;AACA;AACA;AACA;AACA;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC,YAAY;AACjD;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACM;AACA;AACA;AACP;AACA,CAAC;AACM;AACA;AACA;AACA;AACA;AACA;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,E;;;;;;;;;;;;ACzPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE0C;AACR;AACA;AACE;AACA;AACF;;AAEkB;;AAErC,sHAAU,EAAC;;;;;;;;;;;;AClB1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO,YAAY;AAC9B,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB;AACA,WAAW,QAAQ;AACnB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,8CAA8C,kBAAkB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACxXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO,YAAY;AAC9B,WAAW,QAAQ;AACnB;AACA,WAAW,OAAO;AAClB;AACA,WAAW,QAAQ;AACnB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,8CAA8C,kBAAkB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO,YAAY;AAC9B,WAAW,QAAQ;AACnB;AACA,WAAW,QAAQ;AACnB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,oBAAoB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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A;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClDA,eAAe,mBAAO,CAAC,qDAAY;AACnC,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY,QAAQ;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACxCA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtBA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3BA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpCA,YAAY,mBAAO,CAAC,iDAAU;AAC9B,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC7CA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,eAAe,mBAAO,CAAC,uDAAa;AACpC,cAAc,mBAAO,CAAC,qDAAY;AAClC,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,cAAc,mBAAO,CAAC,mDAAW;AACjC,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;;AC7EA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,cAAc,mBAAO,CAAC,qDAAY;AAClC,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3FA,YAAY,mBAAO,CAAC,iDAAU;AAC9B,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC1CA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,cAAc,mBAAO,CAAC,qDAAY;AAClC,sBAAsB,mBAAO,CAAC,qEAAoB;;AAElD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,MAAM;AACjB;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvDA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,cAAc,mBAAO,CAAC,qDAAY;AAClC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,cAAc,mBAAO,CAAC,qDAAY;AAClC,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzGA,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACfA,cAAc,mBAAO,CAAC,qDAAY;AAClC,WAAW,mBAAO,CAAC,6CAAQ;;AAE3B;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACdA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACZA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChBA;AACA,uBAAuB;;AAEvB;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;;AAEA;;;;;;;;;;;;ACtBA,aAAa,mBAAO,CAAC,mDAAW;AAChC,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnBA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,cAAc,mBAAO,CAAC,qDAAY;AAClC,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,aAAa,mBAAO,CAAC,+DAAiB;;AAEtC;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3BA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,qBAAqB,mBAAO,CAAC,mEAAmB;;AAEhD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACzFA,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;;AAEA;;;;;;;;;;;;ACLA;AACA;;AAEA;;;;;;;;;;;;ACHA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;;AAEA;;;;;;;;;;;;ACnBA,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,wBAAwB,mBAAO,CAAC,yEAAsB;AACtD,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,wBAAwB,mBAAO,CAAC,yEAAsB;;AAEtD;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtBA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,oBAAoB,mBAAO,CAAC,iEAAkB;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;;AC7CA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA;AACA,mBAAmB,SAAS,GAAG,SAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnCA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACxDA,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC1BA,cAAc,mBAAO,CAAC,wDAAY;AAClC,qBAAqB,mBAAO,CAAC,8DAAe;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA,sBAAsB,yCAAyC;AAC/D,mBAAmB,yCAAyC;AAC5D;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA,sBAAsB,mBAAmB;AACzC,mBAAmB,gBAAgB;AACnC;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,aAAa;AAC1B,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,OAAO;AACpB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;;;;;;;;;;;;ACxjBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,aAAa;AAC7B,oBAAoB,aAAa;AACjC,kBAAkB,aAAa;AAC/B,sBAAsB,aAAa;AACnC,kBAAkB,aAAa;AAC/B,sBAAsB,aAAa;AACnC,iBAAiB,aAAa;AAC9B,oBAAoB,aAAa;AACjC,eAAe,aAAa;AAC5B,mBAAmB,aAAa;AAChC,cAAc,aAAa;AAC3B,mBAAmB,aAAa;AAChC,cAAc,aAAa;AAC3B,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrWA;AACA,SAAS,mBAAO,CAAC,4CAAQ;AACzB,YAAY,mBAAO,CAAC,4DAAgB;AACpC,WAAW,mBAAO,CAAC,gDAAU;AAC7B,WAAW,mBAAO,CAAC,gDAAU;AAC7B,aAAa,mBAAO,CAAC,0DAAe;AACpC,aAAa,mBAAO,CAAC,oDAAY;AACjC,aAAa,mBAAO,CAAC,oDAAY;AACjC,gBAAgB,mBAAO,CAAC,0DAAe;AACvC,eAAe,mBAAO,CAAC,wDAAc;AACrC,cAAc,mBAAO,CAAC,sDAAa;AACnC,UAAU,mBAAO,CAAC,wDAAc;AAChC,WAAW,mBAAO,CAAC,gDAAU;AAC7B,eAAe,mBAAO,CAAC,wDAAc;AACrC,YAAY,mBAAO,CAAC,kDAAW;AAC/B;;;;;;;;;;;;ACfA,kBAAkB,mBAAO,CAAC,gEAAgB;AAC1C,WAAW,mBAAO,CAAC,kDAAS;;AAE5B;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACjBA,cAAc,mBAAO,CAAC,sDAAW;AACjC,2BAA2B,mBAAO,CAAC,8CAAS;;AAE5C,mBAAmB,mBAAO,CAAC,8DAAe;AAC1C;;;;;;;;;;;;ACJA,cAAc,mBAAO,CAAC,sDAAW;AACjC,4BAA4B,mBAAO,CAAC,gDAAU;;AAE9C,mBAAmB,mBAAO,CAAC,8DAAe;AAC1C;;;;;;;;;;;;ACJA,cAAc,mBAAO,CAAC,sDAAW;AACjC,gCAAgC,mBAAO,CAAC,wDAAc;;AAEtD,mBAAmB,mBAAO,CAAC,8DAAe;AAC1C;;;;;;;;;;;;ACJA;AACA;AACA;AACA,UAAU;AACV;AACA;;;;;;;;;;;;ACLA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;AAC3C,oBAAoB,mBAAO,CAAC,+DAAiB;;AAE7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrBA,aAAa,mBAAO,CAAC,mDAAW;AAChC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3BA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA,MAAM,8CAA8C;AACpD,MAAM;AACN;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE,WAAW,8CAA8C;AACzD;AACA;AACA;AACA,WAAW,4BAA4B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpDA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,uBAAuB,mBAAO,CAAC,uEAAqB;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA,MAAM,4BAA4B;AAClC,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ,UAAU,OAAO,4BAA4B,QAAQ,8BAA8B;AACnF;AACA;AACA,UAAU,UAAU,4BAA4B,YAAY,8BAA8B;AAC1F;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;ACnCA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD,iBAAiB;AACjB;AACA;AACA,mCAAmC,cAAc,EAAE;AACnD,UAAU,2BAA2B;AACrC;AACA;AACA;AACA,UAAU,2BAA2B;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;;AC1CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChBA,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,aAAa,mBAAO,CAAC,iDAAU;AAC/B,aAAa,mBAAO,CAAC,iDAAU;;AAE/B;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA,eAAe,mBAAO,CAAC,uDAAa;AACpC,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;;ACpCA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,qBAAqB;AAChC,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;AChCA,uBAAuB,mBAAO,CAAC,uEAAqB;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;AC3BA,eAAe,mBAAO,CAAC,uDAAa;AACpC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;AACnC,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,YAAY,mBAAO,CAAC,iDAAU;AAC9B,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,cAAc,mBAAO,CAAC,mDAAW;AACjC,mBAAmB,mBAAO,CAAC,6DAAgB;AAC3C,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;AClJY;;AAEZ,WAAW,mBAAO,CAAC,sEAAuB;AAC1C,YAAY,mBAAO,CAAC,4CAAO;;AAE3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,wCAAwC;;AAE1D;;AAEA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB;AAChB,YAAY;;AAEZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,kBAAkB;AACtD;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH,2BAA2B,2BAA2B;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;;AC9MA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACf;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,kFAAQ,GAAG;AAC9B;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,sDAAsD;AACnE;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA,kEAAkE;;AAElE;AACA;AACA,GAAG;;;AAGH;AACA;AACA,GAAG;;;AAGH;AACA,4CAA4C;;AAE5C;AACA;AACA,GAAG;;;AAGH;AACA;AACA,GAAG;;;AAGH;AACA;AACA,GAAG;;;AAGH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,0CAA0C,OAAO;AACjD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,0CAA0C,OAAO;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO,YAAY;AAC9B,YAAY,OAAO;AACnB;;;AAGA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA,YAAY,qDAAa;AACzB;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,gBAAgB;AAC3B,YAAY,MAAM;AAClB;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;;;AAGH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,MAAM,MAAM;AAC1B;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA,kCAAkC,OAAO;AACzC;AACA;;AAEA,sCAAsC,OAAO;AAC7C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;;AAGA;AACA;;AAEA,kCAAkC,OAAO;AACzC;AACA;AACA;;AAEA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS,kFAAQ,GAAG;AACpB;AACA;AACA;AACA;AACA;;AAEoD;;;;;;;;;;;;;AC/bpD;AAAA;AACA;AACA;;AAEA;AACA,uEAAuE,aAAa;AACpF;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEe,sEAAO,EAAC;;;;;;;;;;;;;ACjCvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,gBAAgB,SAAI,IAAI,SAAI;AAC5B;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC+B;AACK;AACD;AACnC;AACA;AACA;AACA;AACA,YAAY,mDAAO,yBAAyB,wCAAwC,EAAE;AACtF,WAAW,mDAAO,qBAAqB,oCAAoC,EAAE;AAC7E,mBAAmB,mDAAO;AAC1B;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mDAAO;AAC7B,6BAA6B,aAAa;AAC1C,yEAAyE,4EAA4E,EAAE;AACvJ;AACA;AACA,CAAC;AACD,eAAe,mDAAO;AACtB;AACA,CAAC;AACD,oBAAoB,mDAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,wBAAwB;AACxB;AACA,oBAAoB;AACpB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iCAAiC;AAChE;AACA;AACA,+BAA+B,+BAA+B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,iDAAiD,gCAAgC,sEAAsE;AACvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,6DAA6D,GAAG,qCAAqC;AACtL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gCAAgC,iBAAiB;AAClG,SAAS;AACT;AACA;AACA,uBAAuB,yCAAyC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mDAAmB,CAAC,gDAAO,GAAG,iKAAiK;AACvN;AACA;AACA,SAAS;AACT;AACA,gBAAgB,mDAAmB,UAAU,2DAA2D;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,IAAI;AACb,gDAAgD,4EAA4E,uCAAuC,yKAAyK;AAC5U;AACA;AACA;AACA;AACA,gBAAgB,mDAAmB,oBAAoB,+DAA+D;AACtH,qCAAqC,mDAAmB,SAAS,oCAAoC;AACrG;AACA;AACA;AACA;AACA;AACA,oCAAoC,EAAE;AACtC,+BAA+B,EAAE;AACjC,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,mDAAmB;AACA;;;;;;;;;;;;;ACpuBrB;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,gBAAgB,SAAI,IAAI,SAAI;AAC5B;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mDAAmB,SAAS,kEAAkE,2CAA2C,gEAAgE,oEAAoE;AAC7R;AACA;AACA,CAAC,CAAC,mDAAmB;AACF;;;;;;;;;;;;;ACxGnB;AAAA;AAAA;AAAA;AAA2C;AACpC,gBAAgB,+DAAO;AAC9B;AACA,CAAC;AACM,eAAe,+DAAO;AAC7B;AACA,CAAC,E;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAEnK;AAC3C;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,qBAAqB,6DAAK;AAC1B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,qBAAqB,+DAAO;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC,G;;;;;;;;;;;;AC5CD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,2CAA2C,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAEphB,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAE7J;AACV;AACkD;AACd;AACrC;AACG;AACzC;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,wEAAmB;AAC1C;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,yEAAoB,IAAI;;AAEjD;AACA;AACA,OAAO;;;AAGP;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,uBAAuB,8EAAmB;;AAE1C;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,yEAAoB;AACxD;AACA;AACA;;AAEA;AACA;AACA,iHAAiH;AACjH,SAAS,eAAe;AACxB;AACA;;;AAGA,iDAAiD;;;AAGjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,uBAAuB,8EAAmB;;AAE1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,WAAW,kEAAS;AACpB;AACA;AACA;AACA;AACA;AACA,wBAAwB,yEAAoB;AAC5C,SAAS;AACT;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,sBAAsB,yEAAoB;AAC1C,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB,yEAAoB;AAC1C,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B;;AAEA;AACA;AACA,OAAO;;;AAGP;AACA;AACA,OAAO;AACP;;;AAGA;AACA;AACA;;AAEA,uBAAuB,4DAAa;AACpC;AACA;AACA;AACA,iCAAiC,oEAAiB;AAClD;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,yBAAyB;AAChC;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,gCAAgC;AACvC;AACA,GAAG;AACH;AACA;AACA;AACA,yBAAyB,yCAAW;AACpC,eAAe,yCAAW;AAC1B,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA,iCAAiC,iFAAsB;AACvD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,wCAAwC;AACxC;AACA;AACA;;AAEA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC,G;;;;;;;;;;;;ACzpBD;AAAA;AAAA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAE9M;AACP;AACA;;AAEA,2BAA2B;;AAE3B;;AAEA,mBAAmB,YAAY;AAC/B;AACA;;AAEA;AACA;AACA,KAAK,EAAE;;AAEP;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;;AAEA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC;;AAEhC;AACA;AACA;;AAEA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;;AAEzB;;AAEA;AACA;AACA,OAAO;;;AAGP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AA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AAA;AAA2Q;AAC3Q;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,mBAAmB,sDAAQ;AAC3B;AACA,mBAAmB,sDAAQ;AAC3B;AACA;AACA;AACA;AACA,gCAAgC,iCAAiC;AACjE,yBAAyB,sCAAsC;AAC/D,uCAAuC,sEAAsE,GAAG;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6DAAW;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wDAAO;AAC/B;AACA;AACA;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA,6BAA6B,+BAA+B;AAC5D;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,4DAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uDAAS;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0DAAY;AACvC;AACA;AACA,uBAAuB,0DAAY;AACnC;AACA;AACA,wDAAwD,gBAAgB,0DAAY,iBAAiB,EAAE;AACvG;AACA,uBAAuB,4CAAK;AAC5B;AACA;AACA;AACA,CAAC,CAAC,mDAAa,GAAG;AAClB;AACA;AACA;AACA;AACA,wBAAwB,uDAAS;AACjC;AACA;AACA;AACA;AACA;AACA,oBAAoB,4CAAK,0CAA0C,YAAY,uBAAuB;AACtG,gBAAgB,4CAAK,yCAAyC,uBAAuB;AACrF;AACA;AACA,KAAK,CAAC,+CAAS;AACf;AACA,eAAe,4CAAK,6CAA6C,UAAU,oBAAoB;AAC/F;AACA;AACA;AACA,WAAW,wDAAU;AACrB,CAAC;AACD,WAAW,wDAAO;AAClB;AACA;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD,KAAK;AACL;AACA;AACA,2BAA2B,YAAY;AACvC;AACA,qBAAqB,oDAAM;AAC3B,cAAc,oDAAM;AACpB,wBAAwB,oDAAM;AAC9B,2BAA2B,oDAAM;AACjC,IAAI,uDAAS;AACb;AACA;AACA;AACA,KAAK;AACL,aAAa,sDAAQ;AACrB;AACA;AACA,KAAK;AACL,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA,uCAAuC,+BAA+B;AACtE;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,qBAAqB,WAAW;AAChC,CAAgB,6EAAc,EAA8C;;;;;;;;;;;;;ACnT5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0B;AACS;AACN;;AAE7B,iDAAiD,iBAAiB,sHAAsH,eAAe;;AAEvM;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,qBAAqB,wDAAK;AAC1B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,+CAA+C,EAAE;AACnF,4CAA4C,sBAAsB,EAAE;;AAEpE;AACA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iEAAiE,8BAA8B;AAC/F,yBAAyB,wDAAK;AAC9B;AACA;AACA,wCAAwC,iCAAiC;AACzE;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,4CAAK,uCAAuC;AACxD,iBAAiB;AACjB;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA,CAAC,CAAC,4CAAK;;AAEP;AACA,WAAW,iDAAS,SAAS,iDAAS;AACtC,aAAa,iDAAS;AACtB,QAAQ,iDAAS;AACjB,QAAQ,iDAAS,SAAS,iDAAS;AACnC,iBAAiB,iDAAS;AAC1B,gBAAgB,iDAAS;AACzB,iBAAiB,iDAAS;AAC1B,gBAAgB,iDAAS;AACzB,kBAAkB,iDAAS;AAC3B,eAAe,iDAAS;AACxB,YAAY,iDAAS;AACrB,YAAY,iDAAS;AACrB,kBAAkB,iDAAS;AAC3B,iBAAiB,iDAAS;AAC1B,YAAY,iDAAS;AACrB,iBAAiB,iDAAS;AAC1B,eAAe,iDAAS;AACxB,eAAe,iDAAS;AACxB,cAAc,iDAAS,SAAS,iDAAS;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,2EAAY,EAAC;;;;;;;;;;;;;AC3M5B;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,cAAc;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;;AAEA;AACA,6BAA6B,qDAAqD;;AAElF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,UAAU;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oEAAoE,yBAAyB,EAAE;;AAE/F;AACA;AACA;AACA,2EAA2E,gBAAgB,EAAE;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA,gDAAgD,qBAAqB,EAAE;AACvE;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;;AAEhC;;AAEA,6BAA6B;;AAE7B;;AAEA,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA6C,cAAc,EAAE;AAC7D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEe,oEAAK,EAAC;;;;;;;;;;;;;ACtvBR;;AAEb;AACA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;;AAEA,2B;;;;;;;;;;;;ACZa;;AAEb,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA,uCAAuC,mBAAO,CAAC,wFAAgC;;AAE/E,4CAA4C,mBAAO,CAAC,kGAAqC;;AAEzF,oCAAoC,mBAAO,CAAC,4CAAO;;AAEnD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,yCAAyC;AACzC,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,4CAA4C;AAC5C;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO,MAAM;;AAEb;AACA;AACA;AACA,OAAO;AACP,4CAA4C;AAC5C;AACA,uEAAuE;AACvE,OAAO;AACP;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,C;;;;;;;;;;;;AC9Ha;;AAEb,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF;AACA;AACA,CAAC;AACD;;AAEA,uDAAuD,mBAAO,CAAC,wHAAgD;;AAE/G,iDAAiD,mBAAO,CAAC,4GAA0C;;AAEnG,4CAA4C,mBAAO,CAAC,kGAAqC;;AAEzF,oCAAoC,mBAAO,CAAC,4CAAO;;AAEnD,4CAA4C,mBAAO,CAAC,4FAAkB;;AAEtE,qDAAqD,mBAAO,CAAC,4GAA0B;;AAEvF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,qDAAqD;AACrD;AACA;AACA,2BAA2B;AAC3B,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ,oHAAoH;;AAEpH,qDAAqD;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qDAAqD;AACrD;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;;AAEV;AACA;AACA;AACA;AACA,WAAW;;AAEX;;AAEA,8BAA8B;AAC9B,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,WAAW;AACX;;AAEA;;AAEA;AACA,WAAW;;AAEX,SAAS;AACT;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,CAAC;;;AAGD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA,2CAA2C;AAC3C,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qDAAqD;AACrD,6BAA6B;AAC7B,KAAK,oBAAoB;AACzB;AACA,6BAA6B;AAC7B,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;;AAGL;AACA;;AAEA;AACA,yDAAyD;AACzD;AACA,OAAO;AACP,KAAK;AACL,yDAAyD;AACzD;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,C;;;;;;;;;;;;ACzaa;;AAEb,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF;AACA;AACA,CAAC;AACD;;AAEA,uCAAuC,mBAAO,CAAC,kGAAqC;;AAEpF;AACA,2B;;;;;;;;;;;;ACZa;;AAEb,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF;AACA;AACA,CAAC;AACD;;AAEA,mCAAmC,mBAAO,CAAC,0FAAiC;;AAE5E;AACA,2B;;;;;;;;;;;;ACZa;;AAEb,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF;AACA;AACA,CAAC;AACD;;AAEA,uCAAuC,mBAAO,CAAC,kGAAqC;;AAEpF;AACA,2B;;;;;;;;;;;;ACZa;;AAEb,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF;AACA;AACA,CAAC;AACD;;AAEA,kCAAkC,mBAAO,CAAC,wFAAgC;;AAE1E;AACA,2B;;;;;;;;;;;;ACZa;;AAEb,6BAA6B,mBAAO,CAAC,oHAA8C;;AAEnF;AACA;AACA,CAAC;AACD;;AAEA,wCAAwC,mBAAO,CAAC,kFAAa;;AAE7D,mCAAmC,mBAAO,CAAC,8DAAmB;;AAE9D,iEAAiE;AACjE;AACA;AACA,2B;;;;;;;;;;;;AChBa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,2B;;;;;;;;;;;;AC1Ha;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F,mBAAmB,mBAAO,CAAC,0EAAgB;;AAE3C;;AAEA,oBAAoB,mBAAO,CAAC,8EAAkB;;AAE9C;;AAEA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA,YAAY,SAAS;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oC;;;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA,YAAY,OAAO;AACnB;AACa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA,oC;;;;;;;;;;;;AC5Ba;;AAEb;AACA;AACA,CAAC;;AAED,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F,sBAAsB,mBAAO,CAAC,gFAAmB;;AAEjD;;AAEA,wBAAwB,mBAAO,CAAC,sFAAsB;;AAEtD;;AAEA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA;AACA,YAAY,SAAS;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA,oC;;;;;;;;;;;;ACxFa;;AAEb;AACA;AACA,CAAC;;AAED,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA;AACA,qCAAqC;AACrC;;AAEA,oC;;;;;;;;;;;;ACda;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA,4BAA4B;AAC5B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,YAAY,OAAO;AACnB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oC;;;;;;;;;;;;AChCA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEe,oEAAK,E;;;;;;;;;;;ACnBpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"explore.9ed865ea.entry.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"explore\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".\" + \"9ed865ea\" + \".chunk.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/assets/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([9,\"thumbnail\",4,5,6,7,8,9]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = require(\"core-js-pure/stable/date/now\");","module.exports = require(\"core-js-pure/stable/set-interval\");","module.exports = require(\"core-js-pure/stable/url-search-params\");","var defineProperty = require(\"./defineProperty.js\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","require('../../modules/es.date.now');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Date.now;\n","var anObject = require('../internals/an-object');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (it) {\n  var iteratorMethod = getIteratorMethod(it);\n  if (typeof iteratorMethod != 'function') {\n    throw TypeError(String(it) + ' is not iterable');\n  } return anObject(iteratorMethod.call(it));\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = !fails(function () {\n  var url = new URL('b?a=1&b=2&c=3', 'http://a');\n  var searchParams = url.searchParams;\n  var result = '';\n  url.pathname = 'c%20d';\n  searchParams.forEach(function (value, key) {\n    searchParams['delete']('b');\n    result += key + value;\n  });\n  return (IS_PURE && !url.toJSON)\n    || !searchParams.sort\n    || url.href !== 'http://a/c%20d?a=1&c=3'\n    || searchParams.get('c') !== '3'\n    || String(new URLSearchParams('?a=1')) !== 'a=1'\n    || !searchParams[ITERATOR]\n    // throws in Edge\n    || new URL('https://a@b').username !== 'a'\n    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'\n    // not punycoded in Edge\n    || new URL('http://').host !== 'xn--e1aybc'\n    // not escaped in Chrome 62-\n    || new URL('http://a#').hash !== '#%D0%B1'\n    // fails in Chrome 66-\n    || result !== 'a1c3'\n    // throws in Safari\n    || new URL('http://x', undefined).host !== 'x';\n});\n","var $ = require('../internals/export');\n\n// `Date.now` method\n// https://tc39.github.io/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return new Date().getTime();\n  }\n});\n","'use strict';\n// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`\nrequire('../modules/es.array.iterator');\nvar $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar USE_NATIVE_URL = require('../internals/native-url');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar InternalStateModule = require('../internals/internal-state');\nvar anInstance = require('../internals/an-instance');\nvar hasOwn = require('../internals/has');\nvar bind = require('../internals/function-bind-context');\nvar classof = require('../internals/classof');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $fetch = getBuiltIn('fetch');\nvar Headers = getBuiltIn('Headers');\nvar ITERATOR = wellKnownSymbol('iterator');\nvar URL_SEARCH_PARAMS = 'URLSearchParams';\nvar URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);\nvar getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);\n\nvar plus = /\\+/g;\nvar sequences = Array(4);\n\nvar percentSequence = function (bytes) {\n  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\\\da-f]{2}){' + bytes + '})', 'gi'));\n};\n\nvar percentDecode = function (sequence) {\n  try {\n    return decodeURIComponent(sequence);\n  } catch (error) {\n    return sequence;\n  }\n};\n\nvar deserialize = function (it) {\n  var result = it.replace(plus, ' ');\n  var bytes = 4;\n  try {\n    return decodeURIComponent(result);\n  } catch (error) {\n    while (bytes) {\n      result = result.replace(percentSequence(bytes--), percentDecode);\n    }\n    return result;\n  }\n};\n\nvar find = /[!'()~]|%20/g;\n\nvar replace = {\n  '!': '%21',\n  \"'\": '%27',\n  '(': '%28',\n  ')': '%29',\n  '~': '%7E',\n  '%20': '+'\n};\n\nvar replacer = function (match) {\n  return replace[match];\n};\n\nvar serialize = function (it) {\n  return encodeURIComponent(it).replace(find, replacer);\n};\n\nvar parseSearchParams = function (result, query) {\n  if (query) {\n    var attributes = query.split('&');\n    var index = 0;\n    var attribute, entry;\n    while (index < attributes.length) {\n      attribute = attributes[index++];\n      if (attribute.length) {\n        entry = attribute.split('=');\n        result.push({\n          key: deserialize(entry.shift()),\n          value: deserialize(entry.join('='))\n        });\n      }\n    }\n  }\n};\n\nvar updateSearchParams = function (query) {\n  this.entries.length = 0;\n  parseSearchParams(this.entries, query);\n};\n\nvar validateArgumentsLength = function (passed, required) {\n  if (passed < required) throw TypeError('Not enough arguments');\n};\n\nvar URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {\n  setInternalState(this, {\n    type: URL_SEARCH_PARAMS_ITERATOR,\n    iterator: getIterator(getInternalParamsState(params).entries),\n    kind: kind\n  });\n}, 'Iterator', function next() {\n  var state = getInternalIteratorState(this);\n  var kind = state.kind;\n  var step = state.iterator.next();\n  var entry = step.value;\n  if (!step.done) {\n    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];\n  } return step;\n});\n\n// `URLSearchParams` constructor\n// https://url.spec.whatwg.org/#interface-urlsearchparams\nvar URLSearchParamsConstructor = function URLSearchParams(/* init */) {\n  anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n  var init = arguments.length > 0 ? arguments[0] : undefined;\n  var that = this;\n  var entries = [];\n  var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;\n\n  setInternalState(that, {\n    type: URL_SEARCH_PARAMS,\n    entries: entries,\n    updateURL: function () { /* empty */ },\n    updateSearchParams: updateSearchParams\n  });\n\n  if (init !== undefined) {\n    if (isObject(init)) {\n      iteratorMethod = getIteratorMethod(init);\n      if (typeof iteratorMethod === 'function') {\n        iterator = iteratorMethod.call(init);\n        next = iterator.next;\n        while (!(step = next.call(iterator)).done) {\n          entryIterator = getIterator(anObject(step.value));\n          entryNext = entryIterator.next;\n          if (\n            (first = entryNext.call(entryIterator)).done ||\n            (second = entryNext.call(entryIterator)).done ||\n            !entryNext.call(entryIterator).done\n          ) throw TypeError('Expected sequence with length 2');\n          entries.push({ key: first.value + '', value: second.value + '' });\n        }\n      } else for (key in init) if (hasOwn(init, key)) entries.push({ key: key, value: init[key] + '' });\n    } else {\n      parseSearchParams(entries, typeof init === 'string' ? init.charAt(0) === '?' ? init.slice(1) : init : init + '');\n    }\n  }\n};\n\nvar URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;\n\nredefineAll(URLSearchParamsPrototype, {\n  // `URLSearchParams.prototype.appent` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-append\n  append: function append(name, value) {\n    validateArgumentsLength(arguments.length, 2);\n    var state = getInternalParamsState(this);\n    state.entries.push({ key: name + '', value: value + '' });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.delete` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete\n  'delete': function (name) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index].key === key) entries.splice(index, 1);\n      else index++;\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.get` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-get\n  get: function get(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) return entries[index].value;\n    }\n    return null;\n  },\n  // `URLSearchParams.prototype.getAll` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall\n  getAll: function getAll(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var result = [];\n    var index = 0;\n    for (; index < entries.length; index++) {\n      if (entries[index].key === key) result.push(entries[index].value);\n    }\n    return result;\n  },\n  // `URLSearchParams.prototype.has` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-has\n  has: function has(name) {\n    validateArgumentsLength(arguments.length, 1);\n    var entries = getInternalParamsState(this).entries;\n    var key = name + '';\n    var index = 0;\n    while (index < entries.length) {\n      if (entries[index++].key === key) return true;\n    }\n    return false;\n  },\n  // `URLSearchParams.prototype.set` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-set\n  set: function set(name, value) {\n    validateArgumentsLength(arguments.length, 1);\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    var found = false;\n    var key = name + '';\n    var val = value + '';\n    var index = 0;\n    var entry;\n    for (; index < entries.length; index++) {\n      entry = entries[index];\n      if (entry.key === key) {\n        if (found) entries.splice(index--, 1);\n        else {\n          found = true;\n          entry.value = val;\n        }\n      }\n    }\n    if (!found) entries.push({ key: key, value: val });\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.sort` method\n  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort\n  sort: function sort() {\n    var state = getInternalParamsState(this);\n    var entries = state.entries;\n    // Array#sort is not stable in some engines\n    var slice = entries.slice();\n    var entry, entriesIndex, sliceIndex;\n    entries.length = 0;\n    for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {\n      entry = slice[sliceIndex];\n      for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {\n        if (entries[entriesIndex].key > entry.key) {\n          entries.splice(entriesIndex, 0, entry);\n          break;\n        }\n      }\n      if (entriesIndex === sliceIndex) entries.push(entry);\n    }\n    state.updateURL();\n  },\n  // `URLSearchParams.prototype.forEach` method\n  forEach: function forEach(callback /* , thisArg */) {\n    var entries = getInternalParamsState(this).entries;\n    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined, 3);\n    var index = 0;\n    var entry;\n    while (index < entries.length) {\n      entry = entries[index++];\n      boundFunction(entry.value, entry.key, this);\n    }\n  },\n  // `URLSearchParams.prototype.keys` method\n  keys: function keys() {\n    return new URLSearchParamsIterator(this, 'keys');\n  },\n  // `URLSearchParams.prototype.values` method\n  values: function values() {\n    return new URLSearchParamsIterator(this, 'values');\n  },\n  // `URLSearchParams.prototype.entries` method\n  entries: function entries() {\n    return new URLSearchParamsIterator(this, 'entries');\n  }\n}, { enumerable: true });\n\n// `URLSearchParams.prototype[@@iterator]` method\nredefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);\n\n// `URLSearchParams.prototype.toString` method\n// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior\nredefine(URLSearchParamsPrototype, 'toString', function toString() {\n  var entries = getInternalParamsState(this).entries;\n  var result = [];\n  var index = 0;\n  var entry;\n  while (index < entries.length) {\n    entry = entries[index++];\n    result.push(serialize(entry.key) + '=' + serialize(entry.value));\n  } return result.join('&');\n}, { enumerable: true });\n\nsetToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);\n\n$({ global: true, forced: !USE_NATIVE_URL }, {\n  URLSearchParams: URLSearchParamsConstructor\n});\n\n// Wrap `fetch` for correct work with polyfilled `URLSearchParams`\n// https://github.com/zloirock/core-js/issues/674\nif (!USE_NATIVE_URL && typeof $fetch == 'function' && typeof Headers == 'function') {\n  $({ global: true, enumerable: true, forced: true }, {\n    fetch: function fetch(input /* , init */) {\n      var args = [input];\n      var init, body, headers;\n      if (arguments.length > 1) {\n        init = arguments[1];\n        if (isObject(init)) {\n          body = init.body;\n          if (classof(body) === URL_SEARCH_PARAMS) {\n            headers = init.headers ? new Headers(init.headers) : new Headers();\n            if (!headers.has('content-type')) {\n              headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n            }\n            init = create(init, {\n              body: createPropertyDescriptor(0, String(body)),\n              headers: createPropertyDescriptor(0, headers)\n            });\n          }\n        }\n        args.push(init);\n      } return $fetch.apply(this, args);\n    }\n  });\n}\n\nmodule.exports = {\n  URLSearchParams: URLSearchParamsConstructor,\n  getState: getInternalParamsState\n};\n","var parent = require('../../es/date/now');\n\nmodule.exports = parent;\n","require('../modules/web.timers');\nvar path = require('../internals/path');\n\nmodule.exports = path.setInterval;\n","var parent = require('../../web/url-search-params');\n\nmodule.exports = parent;\n","require('../modules/web.url-search-params');\nvar path = require('../internals/path');\n\nmodule.exports = path.URLSearchParams;\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/************************************************************************/\\n/* COLORS                                                               */\\n/* Please attempt to use and standardize on these colors,               */\\n/* rather than including specific color values in                       */\\n/* component styles. This will allow us to more easily adjust theming   */\\n/************************************************************************/\\n/**************************** text-specific *****************************/\\n/***************************** status colors ****************************/\\n/* general component effects */\\n/************************************************************************/\\n/* OPACITIES                                                            */\\n/* Used in LESS filters, e.g. fade(@someColorVar, @someOpacityBelow)    */\\n/************************************************************************/\\n/************************************************************************/\\n/* SHADES & TINTS                                                       */\\n/* Used in LESS filters for shadint/tinting,                            */\\n/* e.g. shade(@someColorVar, @colorstop-one) to darken                  */\\n/* or tint(@someColorVar, @colorstop-one) to lighten                    */\\n/************************************************************************/\\n/************************************************************************/\\n/* LAYOUT                                                               */\\n/* Widths and heights of things, that might be referred to often        */\\n/************************************************************************/\\n/* builder component pane */\\n/************************************************************************/\\n/* Z-INDEX                                                              */\\n/* Think of the site as \\\"layers\\\" rather than an arms race of numbers    */\\n/* Keep these to a minimum                                              */\\n/* Label semantic \\\"layers\\\" and add comments for usage notes             */\\n/* Use double dash modifiers to step up/down from a base layer          */\\n/* e.g. z-whatever--modifier                                            */\\n/************************************************************************/\\n/************************ toast messages, popovers **********************/\\n/***** filters, dashboard editor widgets, Explore reloading overlay *****/\\n/******************************** charts ********************************/\\n/************************************************************************/\\n/* TYPOGRAPHY                                                           */\\n/* Commonly used font weights, line heights, etc. These should be the   */\\n/* core values used to build more complex styles for headers, etc.      */\\n/************************************************************************/\\n/************************************************************************/\\n/* TRANSITIONS                                                          */\\n/* Timing and easings presets used in CSS transitions                   */\\n/************************************************************************/\\n/************************************************************************/\\n/* BORDER RADII                                                         */\\n/* Standard border-radius settings                                      */\\n/************************************************************************/\\n/************************************************************************/\\n/* BOOTSTRAP/BOOTSWATCH/COSMO                                           */\\n/* These are the legacy Cosmo theme overrides to Bootswatch's           */\\n/* overrides to Bootstrap. We should consolidate/deprecate these        */\\n/* in favor of custom/reusable CSS wherever possible                    */\\n/************************************************************************/\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.scrollbar-container {\\n  position: relative;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 100%;\\n}\\n.scrollbar-content {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  right: 0px;\\n  bottom: 0px;\\n  overflow-y: auto;\\n  margin-right: 0px;\\n  margin-bottom: 40px;\\n}\\n.edit-desc-icon {\\n  padding: 0 0 0 0.5em;\\n  font-size: 14px;\\n}\\n.checkbox {\\n  float: left;\\n  margin-top: 0px;\\n  margin-right: 3px;\\n}\\n.background-transparent {\\n  background-color: transparent !important;\\n}\\n.fa.expander {\\n  width: 15px;\\n}\\n.list-group {\\n  margin-bottom: 10px;\\n}\\n.color-popover.popover {\\n  border: none;\\n  background-color: transparent;\\n}\\n.color-popover .popover-content {\\n  padding: 0;\\n  background-color: transparent;\\n}\\n.column-option {\\n  margin-left: 3px;\\n}\\n.datasource-container {\\n  overflow: auto;\\n}\\n.adhoc-metric-edit-tabs > .nav-tabs {\\n  margin-bottom: 6px;\\n}\\n.adhoc-metric-edit-tabs > .nav-tabs > li > a {\\n  padding: 4px 4px 4px 4px;\\n}\\n#metrics-edit-popover {\\n  max-width: none;\\n}\\n#metrics-edit-popover .inline-editable {\\n  line-height: 30px;\\n}\\n.adhoc-option {\\n  cursor: pointer;\\n}\\n.label-dropdown ul.dropdown-menu {\\n  position: fixed;\\n  top: auto;\\n  left: auto;\\n  margin: 20px 0 0;\\n}\\n.label-btn:hover,\\n.label-btn-label:hover {\\n  background-color: #333333;\\n}\\n.label-btn-label {\\n  cursor: pointer;\\n}\\n.adhoc-label-arrow {\\n  font-size: 12px;\\n  margin-left: 3px;\\n  position: static;\\n}\\n.time-filter-tabs > .nav-tabs {\\n  margin-bottom: 8px;\\n}\\n.time-filter-tabs > .nav-tabs > li > a {\\n  padding: 4px;\\n}\\nh1.section-header {\\n  font-size: 14px;\\n  font-weight: 700;\\n  margin-bottom: 0;\\n  margin-top: 0;\\n  padding-bottom: 5px;\\n}\\nh2.section-header {\\n  font-size: 12px;\\n  font-weight: 700;\\n  margin-bottom: 0;\\n  margin-top: 0;\\n  padding-bottom: 5px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/explore/main.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/explore/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/explore/main.less\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;;;;GAiBG;AACH;;;;;;;;;;;;;;;;;GAiBG;AACH,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,+BAA+B;AAC/B,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,4BAA4B;AAC5B,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E;;;;;;;;;;;;;;;;;GAiBG;ACvFH;EACE,mBAAA;EACA,iBAAA;EACA,YAAA;EACA,aAAA;CDyFD;ACtFD;EACE,mBAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,YAAA;EACA,iBAAA;EACA,kBAAA;EACA,oBAAA;CDwFD;ACrFD;EACE,qBAAA;EACA,gBAAA;CDuFD;ACpFD;EACE,YAAA;EACA,gBAAA;EACA,kBAAA;CDsFD;ACnFD;EACE,yCAAA;CDqFD;AClFD;EACE,YAAA;CDoFD;ACjFD;EACE,oBAAA;CDmFD;AChFD;EACE,aAAA;EACA,8BAAA;CDkFD;AC/ED;EACE,WAAA;EACA,8BAAA;CDiFD;AC9ED;EACE,iBAAA;CDgFD;AC7ED;EACE,eAAA;CD+ED;AC5ED;EACE,mBAAA;CD8ED;AC5EC;EACE,yBAAA;CD8EH;AC1ED;EACE,gBAAA;CD4ED;AC7ED;EAII,kBAAA;CD4EH;ACxED;EACE,gBAAA;CD0ED;ACvED;EACE,gBAAA;EACA,UAAA;EACA,WAAA;EACA,iBAAA;CDyED;ACtED;;EAEE,0BAAA;CDwED;ACrED;EACE,gBAAA;CDuED;ACpED;EACE,gBAAA;EACA,iBAAA;EACA,iBAAA;CDsED;ACnED;EACE,mBAAA;CDqED;ACnEC;EACE,aAAA;CDqEH;ACjED;EACE,gBAAA;EACA,iBAAA;EACA,iBAAA;EACA,cAAA;EACA,oBAAA;CDmED;AChED;EACE,gBAAA;EACA,iBAAA;EACA,iBAAA;EACA,cAAA;EACA,oBAAA;CDkED\",\"file\":\"main.less\",\"sourcesContent\":[\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/************************************************************************/\\n/* COLORS                                                               */\\n/* Please attempt to use and standardize on these colors,               */\\n/* rather than including specific color values in                       */\\n/* component styles. This will allow us to more easily adjust theming   */\\n/************************************************************************/\\n/**************************** text-specific *****************************/\\n/***************************** status colors ****************************/\\n/* general component effects */\\n/************************************************************************/\\n/* OPACITIES                                                            */\\n/* Used in LESS filters, e.g. fade(@someColorVar, @someOpacityBelow)    */\\n/************************************************************************/\\n/************************************************************************/\\n/* SHADES & TINTS                                                       */\\n/* Used in LESS filters for shadint/tinting,                            */\\n/* e.g. shade(@someColorVar, @colorstop-one) to darken                  */\\n/* or tint(@someColorVar, @colorstop-one) to lighten                    */\\n/************************************************************************/\\n/************************************************************************/\\n/* LAYOUT                                                               */\\n/* Widths and heights of things, that might be referred to often        */\\n/************************************************************************/\\n/* builder component pane */\\n/************************************************************************/\\n/* Z-INDEX                                                              */\\n/* Think of the site as \\\"layers\\\" rather than an arms race of numbers    */\\n/* Keep these to a minimum                                              */\\n/* Label semantic \\\"layers\\\" and add comments for usage notes             */\\n/* Use double dash modifiers to step up/down from a base layer          */\\n/* e.g. z-whatever--modifier                                            */\\n/************************************************************************/\\n/************************ toast messages, popovers **********************/\\n/***** filters, dashboard editor widgets, Explore reloading overlay *****/\\n/******************************** charts ********************************/\\n/************************************************************************/\\n/* TYPOGRAPHY                                                           */\\n/* Commonly used font weights, line heights, etc. These should be the   */\\n/* core values used to build more complex styles for headers, etc.      */\\n/************************************************************************/\\n/************************************************************************/\\n/* TRANSITIONS                                                          */\\n/* Timing and easings presets used in CSS transitions                   */\\n/************************************************************************/\\n/************************************************************************/\\n/* BORDER RADII                                                         */\\n/* Standard border-radius settings                                      */\\n/************************************************************************/\\n/************************************************************************/\\n/* BOOTSTRAP/BOOTSWATCH/COSMO                                           */\\n/* These are the legacy Cosmo theme overrides to Bootswatch's           */\\n/* overrides to Bootstrap. We should consolidate/deprecate these        */\\n/* in favor of custom/reusable CSS wherever possible                    */\\n/************************************************************************/\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.scrollbar-container {\\n  position: relative;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 100%;\\n}\\n.scrollbar-content {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  right: 0px;\\n  bottom: 0px;\\n  overflow-y: auto;\\n  margin-right: 0px;\\n  margin-bottom: 40px;\\n}\\n.edit-desc-icon {\\n  padding: 0 0 0 0.5em;\\n  font-size: 14px;\\n}\\n.checkbox {\\n  float: left;\\n  margin-top: 0px;\\n  margin-right: 3px;\\n}\\n.background-transparent {\\n  background-color: transparent !important;\\n}\\n.fa.expander {\\n  width: 15px;\\n}\\n.list-group {\\n  margin-bottom: 10px;\\n}\\n.color-popover.popover {\\n  border: none;\\n  background-color: transparent;\\n}\\n.color-popover .popover-content {\\n  padding: 0;\\n  background-color: transparent;\\n}\\n.column-option {\\n  margin-left: 3px;\\n}\\n.datasource-container {\\n  overflow: auto;\\n}\\n.adhoc-metric-edit-tabs > .nav-tabs {\\n  margin-bottom: 6px;\\n}\\n.adhoc-metric-edit-tabs > .nav-tabs > li > a {\\n  padding: 4px 4px 4px 4px;\\n}\\n#metrics-edit-popover {\\n  max-width: none;\\n}\\n#metrics-edit-popover .inline-editable {\\n  line-height: 30px;\\n}\\n.adhoc-option {\\n  cursor: pointer;\\n}\\n.label-dropdown ul.dropdown-menu {\\n  position: fixed;\\n  top: auto;\\n  left: auto;\\n  margin: 20px 0 0;\\n}\\n.label-btn:hover,\\n.label-btn-label:hover {\\n  background-color: #333333;\\n}\\n.label-btn-label {\\n  cursor: pointer;\\n}\\n.adhoc-label-arrow {\\n  font-size: 12px;\\n  margin-left: 3px;\\n  position: static;\\n}\\n.time-filter-tabs > .nav-tabs {\\n  margin-bottom: 8px;\\n}\\n.time-filter-tabs > .nav-tabs > li > a {\\n  padding: 4px;\\n}\\nh1.section-header {\\n  font-size: 14px;\\n  font-weight: 700;\\n  margin-bottom: 0;\\n  margin-top: 0;\\n  padding-bottom: 5px;\\n}\\nh2.section-header {\\n  font-size: 12px;\\n  font-weight: 700;\\n  margin-bottom: 0;\\n  margin-top: 0;\\n  padding-bottom: 5px;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n@import '../../stylesheets/less/variables.less';\\n\\n.scrollbar-container {\\n  position: relative;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.scrollbar-content {\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  right: 0px;\\n  bottom: 0px;\\n  overflow-y: auto;\\n  margin-right: 0px;\\n  margin-bottom: 40px;\\n}\\n\\n.edit-desc-icon {\\n  padding: 0 0 0 0.5em;\\n  font-size: @font-size-m;\\n}\\n\\n.checkbox {\\n  float: left;\\n  margin-top: 0px;\\n  margin-right: 3px;\\n}\\n\\n.background-transparent {\\n  background-color: transparent !important;\\n}\\n\\n.fa.expander {\\n  width: 15px;\\n}\\n\\n.list-group {\\n  margin-bottom: 10px;\\n}\\n\\n.color-popover.popover {\\n  border: none;\\n  background-color: transparent;\\n}\\n\\n.color-popover .popover-content {\\n  padding: 0;\\n  background-color: transparent;\\n}\\n\\n.column-option {\\n  margin-left: 3px;\\n}\\n\\n.datasource-container {\\n  overflow: auto;\\n}\\n\\n.adhoc-metric-edit-tabs > .nav-tabs {\\n  margin-bottom: 6px;\\n\\n  & > li > a {\\n    padding: 4px 4px 4px 4px;\\n  }\\n}\\n\\n#metrics-edit-popover {\\n  max-width: none;\\n\\n  .inline-editable {\\n    line-height: 30px; // hand-tweaked to match the height of the input\\n  }\\n}\\n\\n.adhoc-option {\\n  cursor: pointer;\\n}\\n\\n.label-dropdown ul.dropdown-menu {\\n  position: fixed;\\n  top: auto;\\n  left: auto;\\n  margin: 20px 0 0;\\n}\\n\\n.label-btn:hover,\\n.label-btn-label:hover {\\n  background-color: @gray-dark;\\n}\\n\\n.label-btn-label {\\n  cursor: pointer;\\n}\\n\\n.adhoc-label-arrow {\\n  font-size: @font-size-s;\\n  margin-left: 3px;\\n  position: static;\\n}\\n\\n.time-filter-tabs > .nav-tabs {\\n  margin-bottom: 8px;\\n\\n  & > li > a {\\n    padding: 4px;\\n  }\\n}\\n\\nh1.section-header {\\n  font-size: @font-size-m;\\n  font-weight: @font-weight-bold;\\n  margin-bottom: 0;\\n  margin-top: 0;\\n  padding-bottom: 5px;\\n}\\n\\nh2.section-header {\\n  font-size: @font-size-s;\\n  font-weight: @font-weight-bold;\\n  margin-bottom: 0;\\n  margin-top: 0;\\n  padding-bottom: 5px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/************************************************************************/\\n/* COLORS                                                               */\\n/* Please attempt to use and standardize on these colors,               */\\n/* rather than including specific color values in                       */\\n/* component styles. This will allow us to more easily adjust theming   */\\n/************************************************************************/\\n/**************************** text-specific *****************************/\\n/***************************** status colors ****************************/\\n/* general component effects */\\n/************************************************************************/\\n/* OPACITIES                                                            */\\n/* Used in LESS filters, e.g. fade(@someColorVar, @someOpacityBelow)    */\\n/************************************************************************/\\n/************************************************************************/\\n/* SHADES & TINTS                                                       */\\n/* Used in LESS filters for shadint/tinting,                            */\\n/* e.g. shade(@someColorVar, @colorstop-one) to darken                  */\\n/* or tint(@someColorVar, @colorstop-one) to lighten                    */\\n/************************************************************************/\\n/************************************************************************/\\n/* LAYOUT                                                               */\\n/* Widths and heights of things, that might be referred to often        */\\n/************************************************************************/\\n/* builder component pane */\\n/************************************************************************/\\n/* Z-INDEX                                                              */\\n/* Think of the site as \\\"layers\\\" rather than an arms race of numbers    */\\n/* Keep these to a minimum                                              */\\n/* Label semantic \\\"layers\\\" and add comments for usage notes             */\\n/* Use double dash modifiers to step up/down from a base layer          */\\n/* e.g. z-whatever--modifier                                            */\\n/************************************************************************/\\n/************************ toast messages, popovers **********************/\\n/***** filters, dashboard editor widgets, Explore reloading overlay *****/\\n/******************************** charts ********************************/\\n/************************************************************************/\\n/* TYPOGRAPHY                                                           */\\n/* Commonly used font weights, line heights, etc. These should be the   */\\n/* core values used to build more complex styles for headers, etc.      */\\n/************************************************************************/\\n/************************************************************************/\\n/* TRANSITIONS                                                          */\\n/* Timing and easings presets used in CSS transitions                   */\\n/************************************************************************/\\n/************************************************************************/\\n/* BORDER RADII                                                         */\\n/* Standard border-radius settings                                      */\\n/************************************************************************/\\n/************************************************************************/\\n/* BOOTSTRAP/BOOTSWATCH/COSMO                                           */\\n/* These are the legacy Cosmo theme overrides to Bootswatch's           */\\n/* overrides to Bootstrap. We should consolidate/deprecate these        */\\n/* in favor of custom/reusable CSS wherever possible                    */\\n/************************************************************************/\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.reactable-pagination td {\\n  padding: 15px 0 0 0 !important;\\n}\\n.reactable-pagination a:focus {\\n  text-decoration: none;\\n  color: #333333;\\n  outline: 1;\\n}\\n.reactable-page-button,\\n.reactable-next-page,\\n.reactable-previous-page {\\n  background: #ffffff;\\n  border-radius: 4px;\\n  border: 1px solid #e0e0e0;\\n  color: #333333;\\n  display: inline-block;\\n  font-size: 12px;\\n  margin-right: 5px;\\n  padding: 5px 10px;\\n  text-align: center;\\n  text-decoration: none;\\n  vertical-align: middle;\\n  white-space: nowrap;\\n}\\n.reactable-page-button:hover,\\n.reactable-next-page:hover,\\n.reactable-previous-page:hover {\\n  background-color: #f7f7f7;\\n  border-color: #879399;\\n  color: #333333;\\n  text-decoration: none;\\n}\\n.reactable-current-page {\\n  border: 1px solid #e0e0e0;\\n  color: #333333;\\n  font-weight: 700;\\n  pointer-events: none;\\n  opacity: 0.65;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/stylesheets/reactable-pagination.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/stylesheets/reactable-pagination.less\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;;;;GAiBG;AACH;;;;;;;;;;;;;;;;;GAiBG;AACH,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,+BAA+B;AAC/B,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,4BAA4B;AAC5B,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E;;;;;;;;;;;;;;;;;GAiBG;ACvFH;EACE,+BAAA;CDyFD;ACtFD;EACE,sBAAA;EACA,eAAA;EACA,WAAA;CDwFD;ACrFD;;;EAGE,oBAAA;EACA,mBAAA;EACA,0BAAA;EACA,eAAA;EACA,sBAAA;EACA,gBAAA;EACA,kBAAA;EACA,kBAAA;EACA,mBAAA;EACA,sBAAA;EACA,uBAAA;EACA,oBAAA;CDuFD;ACrFC;;;EACE,0BAAA;EACA,sBAAA;EACA,eAAA;EACA,sBAAA;CDyFH;ACrFD;EACE,0BAAA;EACA,eAAA;EACA,iBAAA;EACA,qBAAA;EACA,cAAA;CDuFD\",\"file\":\"reactable-pagination.less\",\"sourcesContent\":[\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/************************************************************************/\\n/* COLORS                                                               */\\n/* Please attempt to use and standardize on these colors,               */\\n/* rather than including specific color values in                       */\\n/* component styles. This will allow us to more easily adjust theming   */\\n/************************************************************************/\\n/**************************** text-specific *****************************/\\n/***************************** status colors ****************************/\\n/* general component effects */\\n/************************************************************************/\\n/* OPACITIES                                                            */\\n/* Used in LESS filters, e.g. fade(@someColorVar, @someOpacityBelow)    */\\n/************************************************************************/\\n/************************************************************************/\\n/* SHADES & TINTS                                                       */\\n/* Used in LESS filters for shadint/tinting,                            */\\n/* e.g. shade(@someColorVar, @colorstop-one) to darken                  */\\n/* or tint(@someColorVar, @colorstop-one) to lighten                    */\\n/************************************************************************/\\n/************************************************************************/\\n/* LAYOUT                                                               */\\n/* Widths and heights of things, that might be referred to often        */\\n/************************************************************************/\\n/* builder component pane */\\n/************************************************************************/\\n/* Z-INDEX                                                              */\\n/* Think of the site as \\\"layers\\\" rather than an arms race of numbers    */\\n/* Keep these to a minimum                                              */\\n/* Label semantic \\\"layers\\\" and add comments for usage notes             */\\n/* Use double dash modifiers to step up/down from a base layer          */\\n/* e.g. z-whatever--modifier                                            */\\n/************************************************************************/\\n/************************ toast messages, popovers **********************/\\n/***** filters, dashboard editor widgets, Explore reloading overlay *****/\\n/******************************** charts ********************************/\\n/************************************************************************/\\n/* TYPOGRAPHY                                                           */\\n/* Commonly used font weights, line heights, etc. These should be the   */\\n/* core values used to build more complex styles for headers, etc.      */\\n/************************************************************************/\\n/************************************************************************/\\n/* TRANSITIONS                                                          */\\n/* Timing and easings presets used in CSS transitions                   */\\n/************************************************************************/\\n/************************************************************************/\\n/* BORDER RADII                                                         */\\n/* Standard border-radius settings                                      */\\n/************************************************************************/\\n/************************************************************************/\\n/* BOOTSTRAP/BOOTSWATCH/COSMO                                           */\\n/* These are the legacy Cosmo theme overrides to Bootswatch's           */\\n/* overrides to Bootstrap. We should consolidate/deprecate these        */\\n/* in favor of custom/reusable CSS wherever possible                    */\\n/************************************************************************/\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.reactable-pagination td {\\n  padding: 15px 0 0 0 !important;\\n}\\n.reactable-pagination a:focus {\\n  text-decoration: none;\\n  color: #333333;\\n  outline: 1;\\n}\\n.reactable-page-button,\\n.reactable-next-page,\\n.reactable-previous-page {\\n  background: #ffffff;\\n  border-radius: 4px;\\n  border: 1px solid #e0e0e0;\\n  color: #333333;\\n  display: inline-block;\\n  font-size: 12px;\\n  margin-right: 5px;\\n  padding: 5px 10px;\\n  text-align: center;\\n  text-decoration: none;\\n  vertical-align: middle;\\n  white-space: nowrap;\\n}\\n.reactable-page-button:hover,\\n.reactable-next-page:hover,\\n.reactable-previous-page:hover {\\n  background-color: #f7f7f7;\\n  border-color: #879399;\\n  color: #333333;\\n  text-decoration: none;\\n}\\n.reactable-current-page {\\n  border: 1px solid #e0e0e0;\\n  color: #333333;\\n  font-weight: 700;\\n  pointer-events: none;\\n  opacity: 0.65;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n@import '../stylesheets/less/variables.less';\\n\\n.reactable-pagination td {\\n  padding: 15px 0 0 0 !important;\\n}\\n\\n.reactable-pagination a:focus {\\n  text-decoration: none;\\n  color: @gray-dark;\\n  outline: 1;\\n}\\n\\n.reactable-page-button,\\n.reactable-next-page,\\n.reactable-previous-page {\\n  background: @lightest;\\n  border-radius: @border-radius-normal;\\n  border: 1px solid @gray-light;\\n  color: @gray-dark;\\n  display: inline-block;\\n  font-size: @font-size-s;\\n  margin-right: 5px;\\n  padding: 5px 10px;\\n  text-align: center;\\n  text-decoration: none;\\n  vertical-align: middle;\\n  white-space: nowrap;\\n\\n  &:hover {\\n    background-color: @gray-bg;\\n    border-color: @gray;\\n    color: @gray-dark;\\n    text-decoration: none;\\n  }\\n}\\n\\n.reactable-current-page {\\n  border: 1px solid @gray-light;\\n  color: @gray-dark;\\n  font-weight: @font-weight-bold;\\n  pointer-events: none;\\n  opacity: 0.65;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","(function (global) {\n    'use strict';\n\n    var util = newUtil();\n    var inliner = newInliner();\n    var fontFaces = newFontFaces();\n    var images = newImages();\n\n    // Default impl options\n    var defaultOptions = {\n        // Default is to fail on error, no placeholder\n        imagePlaceholder: undefined,\n        // Default cache bust is false, it will use the cache\n        cacheBust: false\n    };\n\n    var domtoimage = {\n        toSvg: toSvg,\n        toPng: toPng,\n        toJpeg: toJpeg,\n        toBlob: toBlob,\n        toPixelData: toPixelData,\n        impl: {\n            fontFaces: fontFaces,\n            images: images,\n            util: util,\n            inliner: inliner,\n            options: {}\n        }\n    };\n\n    if (typeof module !== 'undefined')\n        module.exports = domtoimage;\n    else\n        global.domtoimage = domtoimage;\n\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options\n     * @param {Function} options.filter - Should return true if passed node should be included in the output\n     *          (excluding node means excluding it's children as well). Not called on the root node.\n     * @param {String} options.bgcolor - color for the background, any valid CSS color value.\n     * @param {Number} options.width - width to be applied to node before rendering.\n     * @param {Number} options.height - height to be applied to node before rendering.\n     * @param {Object} options.style - an object whose properties to be copied to node's style before rendering.\n     * @param {Number} options.quality - a Number between 0 and 1 indicating image quality (applicable to JPEG only),\n                defaults to 1.0.\n     * @param {String} options.imagePlaceholder - dataURL to use as a placeholder for failed images, default behaviour is to fail fast on images we can't fetch\n     * @param {Boolean} options.cacheBust - set to true to cache bust by appending the time to the request url\n     * @return {Promise} - A promise that is fulfilled with a SVG image data URL\n     * */\n    function toSvg(node, options) {\n        options = options || {};\n        copyOptions(options);\n        return Promise.resolve(node)\n            .then(function (node) {\n                return cloneNode(node, options.filter, true);\n            })\n            .then(embedFonts)\n            .then(inlineImages)\n            .then(applyOptions)\n            .then(function (clone) {\n                return makeSvgDataUri(clone,\n                    options.width || util.width(node),\n                    options.height || util.height(node)\n                );\n            });\n\n        function applyOptions(clone) {\n            if (options.bgcolor) clone.style.backgroundColor = options.bgcolor;\n\n            if (options.width) clone.style.width = options.width + 'px';\n            if (options.height) clone.style.height = options.height + 'px';\n\n            if (options.style)\n                Object.keys(options.style).forEach(function (property) {\n                    clone.style[property] = options.style[property];\n                });\n\n            return clone;\n        }\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a Uint8Array containing RGBA pixel data.\n     * */\n    function toPixelData(node, options) {\n        return draw(node, options || {})\n            .then(function (canvas) {\n                return canvas.getContext('2d').getImageData(\n                    0,\n                    0,\n                    util.width(node),\n                    util.height(node)\n                ).data;\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a PNG image data URL\n     * */\n    function toPng(node, options) {\n        return draw(node, options || {})\n            .then(function (canvas) {\n                return canvas.toDataURL();\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a JPEG image data URL\n     * */\n    function toJpeg(node, options) {\n        options = options || {};\n        return draw(node, options)\n            .then(function (canvas) {\n                return canvas.toDataURL('image/jpeg', options.quality || 1.0);\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a PNG image blob\n     * */\n    function toBlob(node, options) {\n        return draw(node, options || {})\n            .then(util.canvasToBlob);\n    }\n\n    function copyOptions(options) {\n        // Copy options to impl options for use in impl\n        if(typeof(options.imagePlaceholder) === 'undefined') {\n            domtoimage.impl.options.imagePlaceholder = defaultOptions.imagePlaceholder;\n        } else {\n            domtoimage.impl.options.imagePlaceholder = options.imagePlaceholder;\n        }\n\n        if(typeof(options.cacheBust) === 'undefined') {\n            domtoimage.impl.options.cacheBust = defaultOptions.cacheBust;\n        } else {\n            domtoimage.impl.options.cacheBust = options.cacheBust;\n        }\n    }\n\n    function draw(domNode, options) {\n        return toSvg(domNode, options)\n            .then(util.makeImage)\n            .then(util.delay(100))\n            .then(function (image) {\n                var canvas = newCanvas(domNode);\n                canvas.getContext('2d').drawImage(image, 0, 0);\n                return canvas;\n            });\n\n        function newCanvas(domNode) {\n            var canvas = document.createElement('canvas');\n            canvas.width = options.width || util.width(domNode);\n            canvas.height = options.height || util.height(domNode);\n\n            if (options.bgcolor) {\n                var ctx = canvas.getContext('2d');\n                ctx.fillStyle = options.bgcolor;\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n            }\n\n            return canvas;\n        }\n    }\n\n    function cloneNode(node, filter, root) {\n        if (!root && filter && !filter(node)) return Promise.resolve();\n\n        return Promise.resolve(node)\n            .then(makeNodeCopy)\n            .then(function (clone) {\n                return cloneChildren(node, clone, filter);\n            })\n            .then(function (clone) {\n                return processClone(node, clone);\n            });\n\n        function makeNodeCopy(node) {\n            if (node instanceof HTMLCanvasElement) return util.makeImage(node.toDataURL());\n            return node.cloneNode(false);\n        }\n\n        function cloneChildren(original, clone, filter) {\n            var children = original.childNodes;\n            if (children.length === 0) return Promise.resolve(clone);\n\n            return cloneChildrenInOrder(clone, util.asArray(children), filter)\n                .then(function () {\n                    return clone;\n                });\n\n            function cloneChildrenInOrder(parent, children, filter) {\n                var done = Promise.resolve();\n                children.forEach(function (child) {\n                    done = done\n                        .then(function () {\n                            return cloneNode(child, filter);\n                        })\n                        .then(function (childClone) {\n                            if (childClone) parent.appendChild(childClone);\n                        });\n                });\n                return done;\n            }\n        }\n\n        function processClone(original, clone) {\n            if (!(clone instanceof Element)) return clone;\n\n            return Promise.resolve()\n                .then(cloneStyle)\n                .then(clonePseudoElements)\n                .then(copyUserInput)\n                .then(fixSvg)\n                .then(function () {\n                    return clone;\n                });\n\n            function cloneStyle() {\n                copyStyle(window.getComputedStyle(original), clone.style);\n\n                function copyStyle(source, target) {\n                    if (source.cssText) target.cssText = source.cssText;\n                    else copyProperties(source, target);\n\n                    function copyProperties(source, target) {\n                        util.asArray(source).forEach(function (name) {\n                            target.setProperty(\n                                name,\n                                source.getPropertyValue(name),\n                                source.getPropertyPriority(name)\n                            );\n                        });\n                    }\n                }\n            }\n\n            function clonePseudoElements() {\n                [':before', ':after'].forEach(function (element) {\n                    clonePseudoElement(element);\n                });\n\n                function clonePseudoElement(element) {\n                    var style = window.getComputedStyle(original, element);\n                    var content = style.getPropertyValue('content');\n\n                    if (content === '' || content === 'none') return;\n\n                    var className = util.uid();\n                    clone.className = clone.className + ' ' + className;\n                    var styleElement = document.createElement('style');\n                    styleElement.appendChild(formatPseudoElementStyle(className, element, style));\n                    clone.appendChild(styleElement);\n\n                    function formatPseudoElementStyle(className, element, style) {\n                        var selector = '.' + className + ':' + element;\n                        var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n                        return document.createTextNode(selector + '{' + cssText + '}');\n\n                        function formatCssText(style) {\n                            var content = style.getPropertyValue('content');\n                            return style.cssText + ' content: ' + content + ';';\n                        }\n\n                        function formatCssProperties(style) {\n\n                            return util.asArray(style)\n                                .map(formatProperty)\n                                .join('; ') + ';';\n\n                            function formatProperty(name) {\n                                return name + ': ' +\n                                    style.getPropertyValue(name) +\n                                    (style.getPropertyPriority(name) ? ' !important' : '');\n                            }\n                        }\n                    }\n                }\n            }\n\n            function copyUserInput() {\n                if (original instanceof HTMLTextAreaElement) clone.innerHTML = original.value;\n                if (original instanceof HTMLInputElement) clone.setAttribute(\"value\", original.value);\n            }\n\n            function fixSvg() {\n                if (!(clone instanceof SVGElement)) return;\n                clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n                if (!(clone instanceof SVGRectElement)) return;\n                ['width', 'height'].forEach(function (attribute) {\n                    var value = clone.getAttribute(attribute);\n                    if (!value) return;\n\n                    clone.style.setProperty(attribute, value);\n                });\n            }\n        }\n    }\n\n    function embedFonts(node) {\n        return fontFaces.resolveAll()\n            .then(function (cssText) {\n                var styleNode = document.createElement('style');\n                node.appendChild(styleNode);\n                styleNode.appendChild(document.createTextNode(cssText));\n                return node;\n            });\n    }\n\n    function inlineImages(node) {\n        return images.inlineAll(node)\n            .then(function () {\n                return node;\n            });\n    }\n\n    function makeSvgDataUri(node, width, height) {\n        return Promise.resolve(node)\n            .then(function (node) {\n                node.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');\n                return new XMLSerializer().serializeToString(node);\n            })\n            .then(util.escapeXhtml)\n            .then(function (xhtml) {\n                return '<foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">' + xhtml + '</foreignObject>';\n            })\n            .then(function (foreignObject) {\n                return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"' + width + '\" height=\"' + height + '\">' +\n                    foreignObject + '</svg>';\n            })\n            .then(function (svg) {\n                return 'data:image/svg+xml;charset=utf-8,' + svg;\n            });\n    }\n\n    function newUtil() {\n        return {\n            escape: escape,\n            parseExtension: parseExtension,\n            mimeType: mimeType,\n            dataAsUrl: dataAsUrl,\n            isDataUrl: isDataUrl,\n            canvasToBlob: canvasToBlob,\n            resolveUrl: resolveUrl,\n            getAndEncode: getAndEncode,\n            uid: uid(),\n            delay: delay,\n            asArray: asArray,\n            escapeXhtml: escapeXhtml,\n            makeImage: makeImage,\n            width: width,\n            height: height\n        };\n\n        function mimes() {\n            /*\n             * Only WOFF and EOT mime types for fonts are 'real'\n             * see http://www.iana.org/assignments/media-types/media-types.xhtml\n             */\n            var WOFF = 'application/font-woff';\n            var JPEG = 'image/jpeg';\n\n            return {\n                'woff': WOFF,\n                'woff2': WOFF,\n                'ttf': 'application/font-truetype',\n                'eot': 'application/vnd.ms-fontobject',\n                'png': 'image/png',\n                'jpg': JPEG,\n                'jpeg': JPEG,\n                'gif': 'image/gif',\n                'tiff': 'image/tiff',\n                'svg': 'image/svg+xml'\n            };\n        }\n\n        function parseExtension(url) {\n            var match = /\\.([^\\.\\/]*?)$/g.exec(url);\n            if (match) return match[1];\n            else return '';\n        }\n\n        function mimeType(url) {\n            var extension = parseExtension(url).toLowerCase();\n            return mimes()[extension] || '';\n        }\n\n        function isDataUrl(url) {\n            return url.search(/^(data:)/) !== -1;\n        }\n\n        function toBlob(canvas) {\n            return new Promise(function (resolve) {\n                var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n                var length = binaryString.length;\n                var binaryArray = new Uint8Array(length);\n\n                for (var i = 0; i < length; i++)\n                    binaryArray[i] = binaryString.charCodeAt(i);\n\n                resolve(new Blob([binaryArray], {\n                    type: 'image/png'\n                }));\n            });\n        }\n\n        function canvasToBlob(canvas) {\n            if (canvas.toBlob)\n                return new Promise(function (resolve) {\n                    canvas.toBlob(resolve);\n                });\n\n            return toBlob(canvas);\n        }\n\n        function resolveUrl(url, baseUrl) {\n            var doc = document.implementation.createHTMLDocument();\n            var base = doc.createElement('base');\n            doc.head.appendChild(base);\n            var a = doc.createElement('a');\n            doc.body.appendChild(a);\n            base.href = baseUrl;\n            a.href = url;\n            return a.href;\n        }\n\n        function uid() {\n            var index = 0;\n\n            return function () {\n                return 'u' + fourRandomChars() + index++;\n\n                function fourRandomChars() {\n                    /* see http://stackoverflow.com/a/6248722/2519373 */\n                    return ('0000' + (Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\n                }\n            };\n        }\n\n        function makeImage(uri) {\n            return new Promise(function (resolve, reject) {\n                var image = new Image();\n                image.onload = function () {\n                    resolve(image);\n                };\n                image.onerror = reject;\n                image.src = uri;\n            });\n        }\n\n        function getAndEncode(url) {\n            var TIMEOUT = 30000;\n            if(domtoimage.impl.options.cacheBust) {\n                // Cache bypass so we dont have CORS issues with cached images\n                // Source: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n                url += ((/\\?/).test(url) ? \"&\" : \"?\") + (new Date()).getTime();\n            }\n\n            return new Promise(function (resolve) {\n                var request = new XMLHttpRequest();\n\n                request.onreadystatechange = done;\n                request.ontimeout = timeout;\n                request.responseType = 'blob';\n                request.timeout = TIMEOUT;\n                request.open('GET', url, true);\n                request.send();\n\n                var placeholder;\n                if(domtoimage.impl.options.imagePlaceholder) {\n                    var split = domtoimage.impl.options.imagePlaceholder.split(/,/);\n                    if(split && split[1]) {\n                        placeholder = split[1];\n                    }\n                }\n\n                function done() {\n                    if (request.readyState !== 4) return;\n\n                    if (request.status !== 200) {\n                        if(placeholder) {\n                            resolve(placeholder);\n                        } else {\n                            fail('cannot fetch resource: ' + url + ', status: ' + request.status);\n                        }\n\n                        return;\n                    }\n\n                    var encoder = new FileReader();\n                    encoder.onloadend = function () {\n                        var content = encoder.result.split(/,/)[1];\n                        resolve(content);\n                    };\n                    encoder.readAsDataURL(request.response);\n                }\n\n                function timeout() {\n                    if(placeholder) {\n                        resolve(placeholder);\n                    } else {\n                        fail('timeout of ' + TIMEOUT + 'ms occured while fetching resource: ' + url);\n                    }\n                }\n\n                function fail(message) {\n                    console.error(message);\n                    resolve('');\n                }\n            });\n        }\n\n        function dataAsUrl(content, type) {\n            return 'data:' + type + ';base64,' + content;\n        }\n\n        function escape(string) {\n            return string.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }\n\n        function delay(ms) {\n            return function (arg) {\n                return new Promise(function (resolve) {\n                    setTimeout(function () {\n                        resolve(arg);\n                    }, ms);\n                });\n            };\n        }\n\n        function asArray(arrayLike) {\n            var array = [];\n            var length = arrayLike.length;\n            for (var i = 0; i < length; i++) array.push(arrayLike[i]);\n            return array;\n        }\n\n        function escapeXhtml(string) {\n            return string.replace(/#/g, '%23').replace(/\\n/g, '%0A');\n        }\n\n        function width(node) {\n            var leftBorder = px(node, 'border-left-width');\n            var rightBorder = px(node, 'border-right-width');\n            return node.scrollWidth + leftBorder + rightBorder;\n        }\n\n        function height(node) {\n            var topBorder = px(node, 'border-top-width');\n            var bottomBorder = px(node, 'border-bottom-width');\n            return node.scrollHeight + topBorder + bottomBorder;\n        }\n\n        function px(node, styleProperty) {\n            var value = window.getComputedStyle(node).getPropertyValue(styleProperty);\n            return parseFloat(value.replace('px', ''));\n        }\n    }\n\n    function newInliner() {\n        var URL_REGEX = /url\\(['\"]?([^'\"]+?)['\"]?\\)/g;\n\n        return {\n            inlineAll: inlineAll,\n            shouldProcess: shouldProcess,\n            impl: {\n                readUrls: readUrls,\n                inline: inline\n            }\n        };\n\n        function shouldProcess(string) {\n            return string.search(URL_REGEX) !== -1;\n        }\n\n        function readUrls(string) {\n            var result = [];\n            var match;\n            while ((match = URL_REGEX.exec(string)) !== null) {\n                result.push(match[1]);\n            }\n            return result.filter(function (url) {\n                return !util.isDataUrl(url);\n            });\n        }\n\n        function inline(string, url, baseUrl, get) {\n            return Promise.resolve(url)\n                .then(function (url) {\n                    return baseUrl ? util.resolveUrl(url, baseUrl) : url;\n                })\n                .then(get || util.getAndEncode)\n                .then(function (data) {\n                    return util.dataAsUrl(data, util.mimeType(url));\n                })\n                .then(function (dataUrl) {\n                    return string.replace(urlAsRegex(url), '$1' + dataUrl + '$3');\n                });\n\n            function urlAsRegex(url) {\n                return new RegExp('(url\\\\([\\'\"]?)(' + util.escape(url) + ')([\\'\"]?\\\\))', 'g');\n            }\n        }\n\n        function inlineAll(string, baseUrl, get) {\n            if (nothingToInline()) return Promise.resolve(string);\n\n            return Promise.resolve(string)\n                .then(readUrls)\n                .then(function (urls) {\n                    var done = Promise.resolve(string);\n                    urls.forEach(function (url) {\n                        done = done.then(function (string) {\n                            return inline(string, url, baseUrl, get);\n                        });\n                    });\n                    return done;\n                });\n\n            function nothingToInline() {\n                return !shouldProcess(string);\n            }\n        }\n    }\n\n    function newFontFaces() {\n        return {\n            resolveAll: resolveAll,\n            impl: {\n                readAll: readAll\n            }\n        };\n\n        function resolveAll() {\n            return readAll(document)\n                .then(function (webFonts) {\n                    return Promise.all(\n                        webFonts.map(function (webFont) {\n                            return webFont.resolve();\n                        })\n                    );\n                })\n                .then(function (cssStrings) {\n                    return cssStrings.join('\\n');\n                });\n        }\n\n        function readAll() {\n            return Promise.resolve(util.asArray(document.styleSheets))\n                .then(getCssRules)\n                .then(selectWebFontRules)\n                .then(function (rules) {\n                    return rules.map(newWebFont);\n                });\n\n            function selectWebFontRules(cssRules) {\n                return cssRules\n                    .filter(function (rule) {\n                        return rule.type === CSSRule.FONT_FACE_RULE;\n                    })\n                    .filter(function (rule) {\n                        return inliner.shouldProcess(rule.style.getPropertyValue('src'));\n                    });\n            }\n\n            function getCssRules(styleSheets) {\n                var cssRules = [];\n                styleSheets.forEach(function (sheet) {\n                    try {\n                        util.asArray(sheet.cssRules || []).forEach(cssRules.push.bind(cssRules));\n                    } catch (e) {\n                        console.log('Error while reading CSS rules from ' + sheet.href, e.toString());\n                    }\n                });\n                return cssRules;\n            }\n\n            function newWebFont(webFontRule) {\n                return {\n                    resolve: function resolve() {\n                        var baseUrl = (webFontRule.parentStyleSheet || {}).href;\n                        return inliner.inlineAll(webFontRule.cssText, baseUrl);\n                    },\n                    src: function () {\n                        return webFontRule.style.getPropertyValue('src');\n                    }\n                };\n            }\n        }\n    }\n\n    function newImages() {\n        return {\n            inlineAll: inlineAll,\n            impl: {\n                newImage: newImage\n            }\n        };\n\n        function newImage(element) {\n            return {\n                inline: inline\n            };\n\n            function inline(get) {\n                if (util.isDataUrl(element.src)) return Promise.resolve();\n\n                return Promise.resolve(element.src)\n                    .then(get || util.getAndEncode)\n                    .then(function (data) {\n                        return util.dataAsUrl(data, util.mimeType(element.src));\n                    })\n                    .then(function (dataUrl) {\n                        return new Promise(function (resolve, reject) {\n                            element.onload = resolve;\n                            element.onerror = reject;\n                            element.src = dataUrl;\n                        });\n                    });\n            }\n        }\n\n        function inlineAll(node) {\n            if (!(node instanceof Element)) return Promise.resolve(node);\n\n            return inlineBackground(node)\n                .then(function () {\n                    if (node instanceof HTMLImageElement)\n                        return newImage(node).inline();\n                    else\n                        return Promise.all(\n                            util.asArray(node.childNodes).map(function (child) {\n                                return inlineAll(child);\n                            })\n                        );\n                });\n\n            function inlineBackground(node) {\n                var background = node.style.getPropertyValue('background');\n\n                if (!background) return Promise.resolve(node);\n\n                return inliner.inlineAll(background)\n                    .then(function (inlined) {\n                        node.style.setProperty(\n                            'background',\n                            inlined,\n                            node.style.getPropertyPriority('background')\n                        );\n                    })\n                    .then(function () {\n                        return node;\n                    });\n            }\n        }\n    }\n})(this);\n","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3)\n  var cacheKey = serializer(args)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null)\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n}\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n}\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value\n}\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n}\n\n//\n// API\n//\n\nmodule.exports = memoize\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n}\n","'use strict'\n\nvar formatter = require('format')\n\nvar fault = create(Error)\n\nmodule.exports = fault\n\nfault.eval = create(EvalError)\nfault.range = create(RangeError)\nfault.reference = create(ReferenceError)\nfault.syntax = create(SyntaxError)\nfault.type = create(TypeError)\nfault.uri = create(URIError)\n\nfault.create = create\n\n/* Create a new `EConstructor`, with the formatted\n * `format` as a first argument. */\nfunction create(EConstructor) {\n  FormattedError.displayName = EConstructor.displayName || EConstructor.name\n\n  return FormattedError\n\n  function FormattedError(format) {\n    if (format) {\n      format = formatter.apply(null, arguments)\n    }\n\n    return new EConstructor(format)\n  }\n}\n","//\n// format - printf-like string formatting for JavaScript\n// github.com/samsonjs/format\n// @_sjs\n//\n// Copyright 2010 - 2013 Sami Samhuri <sami@samhuri.net>\n//\n// MIT License\n// http://sjs.mit-license.org\n//\n\n;(function() {\n\n  //// Export the API\n  var namespace;\n\n  // CommonJS / Node module\n  if (typeof module !== 'undefined') {\n    namespace = module.exports = format;\n  }\n\n  // Browsers and other environments\n  else {\n    // Get the global object. Works in ES3, ES5, and ES5 strict mode.\n    namespace = (function(){ return this || (1,eval)('this') }());\n  }\n\n  namespace.format = format;\n  namespace.vsprintf = vsprintf;\n\n  if (typeof console !== 'undefined' && typeof console.log === 'function') {\n    namespace.printf = printf;\n  }\n\n  function printf(/* ... */) {\n    console.log(format.apply(null, arguments));\n  }\n\n  function vsprintf(fmt, replacements) {\n    return format.apply(null, [fmt].concat(replacements));\n  }\n\n  function format(fmt) {\n    var argIndex = 1 // skip initial format argument\n      , args = [].slice.call(arguments)\n      , i = 0\n      , n = fmt.length\n      , result = ''\n      , c\n      , escaped = false\n      , arg\n      , tmp\n      , leadingZero = false\n      , precision\n      , nextArg = function() { return args[argIndex++]; }\n      , slurpNumber = function() {\n          var digits = '';\n          while (/\\d/.test(fmt[i])) {\n            digits += fmt[i++];\n            c = fmt[i];\n          }\n          return digits.length > 0 ? parseInt(digits) : null;\n        }\n      ;\n    for (; i < n; ++i) {\n      c = fmt[i];\n      if (escaped) {\n        escaped = false;\n        if (c == '.') {\n          leadingZero = false;\n          c = fmt[++i];\n        }\n        else if (c == '0' && fmt[i + 1] == '.') {\n          leadingZero = true;\n          i += 2;\n          c = fmt[i];\n        }\n        else {\n          leadingZero = true;\n        }\n        precision = slurpNumber();\n        switch (c) {\n        case 'b': // number in binary\n          result += parseInt(nextArg(), 10).toString(2);\n          break;\n        case 'c': // character\n          arg = nextArg();\n          if (typeof arg === 'string' || arg instanceof String)\n            result += arg;\n          else\n            result += String.fromCharCode(parseInt(arg, 10));\n          break;\n        case 'd': // number in decimal\n          result += parseInt(nextArg(), 10);\n          break;\n        case 'f': // floating point number\n          tmp = String(parseFloat(nextArg()).toFixed(precision || 6));\n          result += leadingZero ? tmp : tmp.replace(/^0/, '');\n          break;\n        case 'j': // JSON\n          result += JSON.stringify(nextArg());\n          break;\n        case 'o': // number in octal\n          result += '0' + parseInt(nextArg(), 10).toString(8);\n          break;\n        case 's': // string\n          result += nextArg();\n          break;\n        case 'x': // lowercase hexadecimal\n          result += '0x' + parseInt(nextArg(), 10).toString(16);\n          break;\n        case 'X': // uppercase hexadecimal\n          result += '0x' + parseInt(nextArg(), 10).toString(16).toUpperCase();\n          break;\n        default:\n          result += c;\n          break;\n        }\n      } else if (c === '%') {\n        escaped = true;\n      } else {\n        result += c;\n      }\n    }\n    return result;\n  }\n\n}());\n","// https://github.com/substack/deep-freeze/blob/master/index.js\n/** @param {any} obj */\nfunction deepFreeze(obj) {\n  Object.freeze(obj);\n\n  var objIsFunction = typeof obj === 'function';\n\n  Object.getOwnPropertyNames(obj).forEach(function(prop) {\n    if (Object.hasOwnProperty.call(obj, prop)\n    && obj[prop] !== null\n    && (typeof obj[prop] === \"object\" || typeof obj[prop] === \"function\")\n    // IE11 fix: https://github.com/highlightjs/highlight.js/issues/2318\n    // TODO: remove in the future\n    && (objIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true)\n    && !Object.isFrozen(obj[prop])) {\n      deepFreeze(obj[prop]);\n    }\n  });\n\n  return obj;\n}\n\nclass Response {\n  /**\n   * @param {CompiledMode} mode\n   */\n  constructor(mode) {\n    // eslint-disable-next-line no-undefined\n    if (mode.data === undefined) mode.data = {};\n\n    this.data = mode.data;\n  }\n\n  ignoreMatch() {\n    this.ignore = true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHTML(value) {\n  return value\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n}\n\n/**\n * performs a shallow merge of multiple objects into one\n *\n * @template T\n * @param {T} original\n * @param {Record<string,any>[]} objects\n * @returns {T} a single new object\n */\nfunction inherit(original, ...objects) {\n  /** @type Record<string,any> */\n  var result = {};\n\n  for (const key in original) {\n    result[key] = original[key];\n  }\n  objects.forEach(function(obj) {\n    for (const key in obj) {\n      result[key] = obj[key];\n    }\n  });\n  return /** @type {T} */ (result);\n}\n\n/* Stream merging */\n\n/**\n * @typedef Event\n * @property {'start'|'stop'} event\n * @property {number} offset\n * @property {Node} node\n */\n\n/**\n * @param {Node} node\n */\nfunction tag(node) {\n  return node.nodeName.toLowerCase();\n}\n\n/**\n * @param {Node} node\n */\nfunction nodeStream(node) {\n  /** @type Event[] */\n  var result = [];\n  (function _nodeStream(node, offset) {\n    for (var child = node.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 3) {\n        offset += child.nodeValue.length;\n      } else if (child.nodeType === 1) {\n        result.push({\n          event: 'start',\n          offset: offset,\n          node: child\n        });\n        offset = _nodeStream(child, offset);\n        // Prevent void elements from having an end tag that would actually\n        // double them in the output. There are more void elements in HTML\n        // but we list only those realistically expected in code display.\n        if (!tag(child).match(/br|hr|img|input/)) {\n          result.push({\n            event: 'stop',\n            offset: offset,\n            node: child\n          });\n        }\n      }\n    }\n    return offset;\n  })(node, 0);\n  return result;\n}\n\n/**\n * @param {any} original - the original stream\n * @param {any} highlighted - stream of the highlighted source\n * @param {string} value - the original source itself\n */\nfunction mergeStreams(original, highlighted, value) {\n  var processed = 0;\n  var result = '';\n  var nodeStack = [];\n\n  function selectStream() {\n    if (!original.length || !highlighted.length) {\n      return original.length ? original : highlighted;\n    }\n    if (original[0].offset !== highlighted[0].offset) {\n      return (original[0].offset < highlighted[0].offset) ? original : highlighted;\n    }\n\n    /*\n    To avoid starting the stream just before it should stop the order is\n    ensured that original always starts first and closes last:\n\n    if (event1 == 'start' && event2 == 'start')\n      return original;\n    if (event1 == 'start' && event2 == 'stop')\n      return highlighted;\n    if (event1 == 'stop' && event2 == 'start')\n      return original;\n    if (event1 == 'stop' && event2 == 'stop')\n      return highlighted;\n\n    ... which is collapsed to:\n    */\n    return highlighted[0].event === 'start' ? original : highlighted;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  function open(node) {\n    /** @param {Attr} attr */\n    function attributeString(attr) {\n      return ' ' + attr.nodeName + '=\"' + escapeHTML(attr.value) + '\"';\n    }\n    // @ts-ignore\n    result += '<' + tag(node) + [].map.call(node.attributes, attributeString).join('') + '>';\n  }\n\n  /**\n   * @param {Node} node\n   */\n  function close(node) {\n    result += '</' + tag(node) + '>';\n  }\n\n  /**\n   * @param {Event} event\n   */\n  function render(event) {\n    (event.event === 'start' ? open : close)(event.node);\n  }\n\n  while (original.length || highlighted.length) {\n    var stream = selectStream();\n    result += escapeHTML(value.substring(processed, stream[0].offset));\n    processed = stream[0].offset;\n    if (stream === original) {\n      /*\n      On any opening or closing tag of the original markup we first close\n      the entire highlighted node stack, then render the original tag along\n      with all the following original tags at the same offset and then\n      reopen all the tags on the highlighted stack.\n      */\n      nodeStack.reverse().forEach(close);\n      do {\n        render(stream.splice(0, 1)[0]);\n        stream = selectStream();\n      } while (stream === original && stream.length && stream[0].offset === processed);\n      nodeStack.reverse().forEach(open);\n    } else {\n      if (stream[0].event === 'start') {\n        nodeStack.push(stream[0].node);\n      } else {\n        nodeStack.pop();\n      }\n      render(stream.splice(0, 1)[0]);\n    }\n  }\n  return result + escapeHTML(value.substr(processed));\n}\n\nvar utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  escapeHTML: escapeHTML,\n  inherit: inherit,\n  nodeStream: nodeStream,\n  mergeStreams: mergeStreams\n});\n\n/**\n * @typedef {object} Renderer\n * @property {(text: string) => void} addText\n * @property {(node: Node) => void} openNode\n * @property {(node: Node) => void} closeNode\n * @property {() => string} value\n */\n\n/** @typedef {{kind?: string, sublanguage?: boolean}} Node */\n/** @typedef {{walk: (r: Renderer) => void}} Tree */\n/** */\n\nconst SPAN_CLOSE = '</span>';\n\n/**\n * Determines if a node needs to be wrapped in <span>\n *\n * @param {Node} node */\nconst emitsWrappingTags = (node) => {\n  return !!node.kind;\n};\n\n/** @type {Renderer} */\nclass HTMLRenderer {\n  /**\n   * Creates a new HTMLRenderer\n   *\n   * @param {Tree} parseTree - the parse tree (must support `walk` API)\n   * @param {{classPrefix: string}} options\n   */\n  constructor(parseTree, options) {\n    this.buffer = \"\";\n    this.classPrefix = options.classPrefix;\n    parseTree.walk(this);\n  }\n\n  /**\n   * Adds texts to the output stream\n   *\n   * @param {string} text */\n  addText(text) {\n    this.buffer += escapeHTML(text);\n  }\n\n  /**\n   * Adds a node open to the output stream (if needed)\n   *\n   * @param {Node} node */\n  openNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    let className = node.kind;\n    if (!node.sublanguage) {\n      className = `${this.classPrefix}${className}`;\n    }\n    this.span(className);\n  }\n\n  /**\n   * Adds a node close to the output stream (if needed)\n   *\n   * @param {Node} node */\n  closeNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    this.buffer += SPAN_CLOSE;\n  }\n\n  /**\n   * returns the accumulated buffer\n  */\n  value() {\n    return this.buffer;\n  }\n\n  // helpers\n\n  /**\n   * Builds a span element\n   *\n   * @param {string} className */\n  span(className) {\n    this.buffer += `<span class=\"${className}\">`;\n  }\n}\n\n/** @typedef {{kind?: string, sublanguage?: boolean, children: Node[]} | string} Node */\n/** @typedef {{kind?: string, sublanguage?: boolean, children: Node[]} } DataNode */\n/**  */\n\nclass TokenTree {\n  constructor() {\n    /** @type DataNode */\n    this.rootNode = { children: [] };\n    this.stack = [this.rootNode];\n  }\n\n  get top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n  get root() { return this.rootNode; }\n\n  /** @param {Node} node */\n  add(node) {\n    this.top.children.push(node);\n  }\n\n  /** @param {string} kind */\n  openNode(kind) {\n    /** @type Node */\n    const node = { kind, children: [] };\n    this.add(node);\n    this.stack.push(node);\n  }\n\n  closeNode() {\n    if (this.stack.length > 1) {\n      return this.stack.pop();\n    }\n    // eslint-disable-next-line no-undefined\n    return undefined;\n  }\n\n  closeAllNodes() {\n    while (this.closeNode());\n  }\n\n  toJSON() {\n    return JSON.stringify(this.rootNode, null, 4);\n  }\n\n  /**\n   * @typedef { import(\"./html_renderer\").Renderer } Renderer\n   * @param {Renderer} builder\n   */\n  walk(builder) {\n    // this does not\n    return this.constructor._walk(builder, this.rootNode);\n    // this works\n    // return TokenTree._walk(builder, this.rootNode);\n  }\n\n  /**\n   * @param {Renderer} builder\n   * @param {Node} node\n   */\n  static _walk(builder, node) {\n    if (typeof node === \"string\") {\n      builder.addText(node);\n    } else if (node.children) {\n      builder.openNode(node);\n      node.children.forEach((child) => this._walk(builder, child));\n      builder.closeNode(node);\n    }\n    return builder;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  static _collapse(node) {\n    if (typeof node === \"string\") return;\n    if (!node.children) return;\n\n    if (node.children.every(el => typeof el === \"string\")) {\n      // node.text = node.children.join(\"\");\n      // delete node.children;\n      node.children = [node.children.join(\"\")];\n    } else {\n      node.children.forEach((child) => {\n        TokenTree._collapse(child);\n      });\n    }\n  }\n}\n\n/**\n  Currently this is all private API, but this is the minimal API necessary\n  that an Emitter must implement to fully support the parser.\n\n  Minimal interface:\n\n  - addKeyword(text, kind)\n  - addText(text)\n  - addSublanguage(emitter, subLanguageName)\n  - finalize()\n  - openNode(kind)\n  - closeNode()\n  - closeAllNodes()\n  - toHTML()\n\n*/\n\n/**\n * @implements {Emitter}\n */\nclass TokenTreeEmitter extends TokenTree {\n  /**\n   * @param {*} options\n   */\n  constructor(options) {\n    super();\n    this.options = options;\n  }\n\n  /**\n   * @param {string} text\n   * @param {string} kind\n   */\n  addKeyword(text, kind) {\n    if (text === \"\") { return; }\n\n    this.openNode(kind);\n    this.addText(text);\n    this.closeNode();\n  }\n\n  /**\n   * @param {string} text\n   */\n  addText(text) {\n    if (text === \"\") { return; }\n\n    this.add(text);\n  }\n\n  /**\n   * @param {Emitter & {root: DataNode}} emitter\n   * @param {string} name\n   */\n  addSublanguage(emitter, name) {\n    /** @type DataNode */\n    const node = emitter.root;\n    node.kind = name;\n    node.sublanguage = true;\n    this.add(node);\n  }\n\n  toHTML() {\n    const renderer = new HTMLRenderer(this, this.options);\n    return renderer.value();\n  }\n\n  finalize() {\n    return true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\nfunction escape(value) {\n  return new RegExp(value.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'm');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/**\n * @param {RegExp} re\n * @returns {number}\n */\nfunction countMatchGroups(re) {\n  return (new RegExp(re.toString() + '|')).exec('').length - 1;\n}\n\n/**\n * Does lexeme start with a regular expression match at the beginning\n * @param {RegExp} re\n * @param {string} lexeme\n */\nfunction startsWith(re, lexeme) {\n  var match = re && re.exec(lexeme);\n  return match && match.index === 0;\n}\n\n// join logically computes regexps.join(separator), but fixes the\n// backreferences so they continue to match.\n// it also places each individual regular expression into it's own\n// match group, keeping track of the sequencing of those match groups\n// is currently an exercise for the caller. :-)\n/**\n * @param {(string | RegExp)[]} regexps\n * @param {string} separator\n * @returns {string}\n */\nfunction join(regexps, separator = \"|\") {\n  // backreferenceRe matches an open parenthesis or backreference. To avoid\n  // an incorrect parse, it additionally matches the following:\n  // - [...] elements, where the meaning of parentheses and escapes change\n  // - other escape sequences, so we do not misparse escape sequences as\n  //   interesting elements\n  // - non-matching or lookahead parentheses, which do not capture. These\n  //   follow the '(' with a '?'.\n  var backreferenceRe = /\\[(?:[^\\\\\\]]|\\\\.)*\\]|\\(\\??|\\\\([1-9][0-9]*)|\\\\./;\n  var numCaptures = 0;\n  var ret = '';\n  for (var i = 0; i < regexps.length; i++) {\n    numCaptures += 1;\n    var offset = numCaptures;\n    var re = source(regexps[i]);\n    if (i > 0) {\n      ret += separator;\n    }\n    ret += \"(\";\n    while (re.length > 0) {\n      var match = backreferenceRe.exec(re);\n      if (match == null) {\n        ret += re;\n        break;\n      }\n      ret += re.substring(0, match.index);\n      re = re.substring(match.index + match[0].length);\n      if (match[0][0] === '\\\\' && match[1]) {\n        // Adjust the backreference.\n        ret += '\\\\' + String(Number(match[1]) + offset);\n      } else {\n        ret += match[0];\n        if (match[0] === '(') {\n          numCaptures++;\n        }\n      }\n    }\n    ret += \")\";\n  }\n  return ret;\n}\n\n// Common regexps\nconst IDENT_RE = '[a-zA-Z]\\\\w*';\nconst UNDERSCORE_IDENT_RE = '[a-zA-Z_]\\\\w*';\nconst NUMBER_RE = '\\\\b\\\\d+(\\\\.\\\\d+)?';\nconst C_NUMBER_RE = '(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)'; // 0x..., 0..., decimal, float\nconst BINARY_NUMBER_RE = '\\\\b(0b[01]+)'; // 0b...\nconst RE_STARTERS_RE = '!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~';\n\n/**\n* @param { Partial<Mode> & {binary?: string | RegExp} } opts\n*/\nconst SHEBANG = (opts = {}) => {\n  const beginShebang = /^#![ ]*\\//;\n  if (opts.binary) {\n    opts.begin = concat(\n      beginShebang,\n      /.*\\b/,\n      opts.binary,\n      /\\b.*/);\n  }\n  return inherit({\n    className: 'meta',\n    begin: beginShebang,\n    end: /$/,\n    relevance: 0,\n    /** @type {ModeCallback} */\n    \"on:begin\": (m, resp) => {\n      if (m.index !== 0) resp.ignoreMatch();\n    }\n  }, opts);\n};\n\n// Common modes\nconst BACKSLASH_ESCAPE = {\n  begin: '\\\\\\\\[\\\\s\\\\S]', relevance: 0\n};\nconst APOS_STRING_MODE = {\n  className: 'string',\n  begin: '\\'',\n  end: '\\'',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst QUOTE_STRING_MODE = {\n  className: 'string',\n  begin: '\"',\n  end: '\"',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst PHRASAL_WORDS_MODE = {\n  begin: /\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\\b/\n};\n/**\n * Creates a comment mode\n *\n * @param {string | RegExp} begin\n * @param {string | RegExp} end\n * @param {Mode | {}} [modeOptions]\n * @returns {Partial<Mode>}\n */\nconst COMMENT = function(begin, end, modeOptions = {}) {\n  var mode = inherit(\n    {\n      className: 'comment',\n      begin,\n      end,\n      contains: []\n    },\n    modeOptions\n  );\n  mode.contains.push(PHRASAL_WORDS_MODE);\n  mode.contains.push({\n    className: 'doctag',\n    begin: '(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):',\n    relevance: 0\n  });\n  return mode;\n};\nconst C_LINE_COMMENT_MODE = COMMENT('//', '$');\nconst C_BLOCK_COMMENT_MODE = COMMENT('/\\\\*', '\\\\*/');\nconst HASH_COMMENT_MODE = COMMENT('#', '$');\nconst NUMBER_MODE = {\n  className: 'number',\n  begin: NUMBER_RE,\n  relevance: 0\n};\nconst C_NUMBER_MODE = {\n  className: 'number',\n  begin: C_NUMBER_RE,\n  relevance: 0\n};\nconst BINARY_NUMBER_MODE = {\n  className: 'number',\n  begin: BINARY_NUMBER_RE,\n  relevance: 0\n};\nconst CSS_NUMBER_MODE = {\n  className: 'number',\n  begin: NUMBER_RE + '(' +\n    '%|em|ex|ch|rem' +\n    '|vw|vh|vmin|vmax' +\n    '|cm|mm|in|pt|pc|px' +\n    '|deg|grad|rad|turn' +\n    '|s|ms' +\n    '|Hz|kHz' +\n    '|dpi|dpcm|dppx' +\n    ')?',\n  relevance: 0\n};\nconst REGEXP_MODE = {\n  // this outer rule makes sure we actually have a WHOLE regex and not simply\n  // an expression such as:\n  //\n  //     3 / something\n  //\n  // (which will then blow up when regex's `illegal` sees the newline)\n  begin: /(?=\\/[^/\\n]*\\/)/,\n  contains: [{\n    className: 'regexp',\n    begin: /\\//,\n    end: /\\/[gimuy]*/,\n    illegal: /\\n/,\n    contains: [\n      BACKSLASH_ESCAPE,\n      {\n        begin: /\\[/,\n        end: /\\]/,\n        relevance: 0,\n        contains: [BACKSLASH_ESCAPE]\n      }\n    ]\n  }]\n};\nconst TITLE_MODE = {\n  className: 'title',\n  begin: IDENT_RE,\n  relevance: 0\n};\nconst UNDERSCORE_TITLE_MODE = {\n  className: 'title',\n  begin: UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\nconst METHOD_GUARD = {\n  // excludes method names from keyword processing\n  begin: '\\\\.\\\\s*' + UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\n\n/**\n * Adds end same as begin mechanics to a mode\n *\n * Your mode must include at least a single () match group as that first match\n * group is what is used for comparison\n * @param {Partial<Mode>} mode\n */\nconst END_SAME_AS_BEGIN = function(mode) {\n  return Object.assign(mode,\n    {\n      /** @type {ModeCallback} */\n      'on:begin': (m, resp) => { resp.data._beginMatch = m[1]; },\n      /** @type {ModeCallback} */\n      'on:end': (m, resp) => { if (resp.data._beginMatch !== m[1]) resp.ignoreMatch(); }\n    });\n};\n\nvar MODES = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  IDENT_RE: IDENT_RE,\n  UNDERSCORE_IDENT_RE: UNDERSCORE_IDENT_RE,\n  NUMBER_RE: NUMBER_RE,\n  C_NUMBER_RE: C_NUMBER_RE,\n  BINARY_NUMBER_RE: BINARY_NUMBER_RE,\n  RE_STARTERS_RE: RE_STARTERS_RE,\n  SHEBANG: SHEBANG,\n  BACKSLASH_ESCAPE: BACKSLASH_ESCAPE,\n  APOS_STRING_MODE: APOS_STRING_MODE,\n  QUOTE_STRING_MODE: QUOTE_STRING_MODE,\n  PHRASAL_WORDS_MODE: PHRASAL_WORDS_MODE,\n  COMMENT: COMMENT,\n  C_LINE_COMMENT_MODE: C_LINE_COMMENT_MODE,\n  C_BLOCK_COMMENT_MODE: C_BLOCK_COMMENT_MODE,\n  HASH_COMMENT_MODE: HASH_COMMENT_MODE,\n  NUMBER_MODE: NUMBER_MODE,\n  C_NUMBER_MODE: C_NUMBER_MODE,\n  BINARY_NUMBER_MODE: BINARY_NUMBER_MODE,\n  CSS_NUMBER_MODE: CSS_NUMBER_MODE,\n  REGEXP_MODE: REGEXP_MODE,\n  TITLE_MODE: TITLE_MODE,\n  UNDERSCORE_TITLE_MODE: UNDERSCORE_TITLE_MODE,\n  METHOD_GUARD: METHOD_GUARD,\n  END_SAME_AS_BEGIN: END_SAME_AS_BEGIN\n});\n\n// keywords that should have no default relevance value\nvar COMMON_KEYWORDS = 'of and for in not or if then'.split(' ');\n\n// compilation\n\n/**\n * Compiles a language definition result\n *\n * Given the raw result of a language definition (Language), compiles this so\n * that it is ready for highlighting code.\n * @param {Language} language\n * @returns {CompiledLanguage}\n */\nfunction compileLanguage(language) {\n  /**\n   * Builds a regex with the case sensativility of the current language\n   *\n   * @param {RegExp | string} value\n   * @param {boolean} [global]\n   */\n  function langRe(value, global) {\n    return new RegExp(\n      source(value),\n      'm' + (language.case_insensitive ? 'i' : '') + (global ? 'g' : '')\n    );\n  }\n\n  /**\n    Stores multiple regular expressions and allows you to quickly search for\n    them all in a string simultaneously - returning the first match.  It does\n    this by creating a huge (a|b|c) regex - each individual item wrapped with ()\n    and joined by `|` - using match groups to track position.  When a match is\n    found checking which position in the array has content allows us to figure\n    out which of the original regexes / match groups triggered the match.\n\n    The match object itself (the result of `Regex.exec`) is returned but also\n    enhanced by merging in any meta-data that was registered with the regex.\n    This is how we keep track of which mode matched, and what type of rule\n    (`illegal`, `begin`, end, etc).\n  */\n  class MultiRegex {\n    constructor() {\n      this.matchIndexes = {};\n      // @ts-ignore\n      this.regexes = [];\n      this.matchAt = 1;\n      this.position = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      opts.position = this.position++;\n      // @ts-ignore\n      this.matchIndexes[this.matchAt] = opts;\n      this.regexes.push([opts, re]);\n      this.matchAt += countMatchGroups(re) + 1;\n    }\n\n    compile() {\n      if (this.regexes.length === 0) {\n        // avoids the need to check length every time exec is called\n        // @ts-ignore\n        this.exec = () => null;\n      }\n      const terminators = this.regexes.map(el => el[1]);\n      this.matcherRe = langRe(join(terminators), true);\n      this.lastIndex = 0;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      this.matcherRe.lastIndex = this.lastIndex;\n      const match = this.matcherRe.exec(s);\n      if (!match) { return null; }\n\n      // eslint-disable-next-line no-undefined\n      const i = match.findIndex((el, i) => i > 0 && el !== undefined);\n      // @ts-ignore\n      const matchData = this.matchIndexes[i];\n      // trim off any earlier non-relevant match groups (ie, the other regex\n      // match groups that make up the multi-matcher)\n      match.splice(0, i);\n\n      return Object.assign(match, matchData);\n    }\n  }\n\n  /*\n    Created to solve the key deficiently with MultiRegex - there is no way to\n    test for multiple matches at a single location.  Why would we need to do\n    that?  In the future a more dynamic engine will allow certain matches to be\n    ignored.  An example: if we matched say the 3rd regex in a large group but\n    decided to ignore it - we'd need to started testing again at the 4th\n    regex... but MultiRegex itself gives us no real way to do that.\n\n    So what this class creates MultiRegexs on the fly for whatever search\n    position they are needed.\n\n    NOTE: These additional MultiRegex objects are created dynamically.  For most\n    grammars most of the time we will never actually need anything more than the\n    first MultiRegex - so this shouldn't have too much overhead.\n\n    Say this is our search group, and we match regex3, but wish to ignore it.\n\n      regex1 | regex2 | regex3 | regex4 | regex5    ' ie, startAt = 0\n\n    What we need is a new MultiRegex that only includes the remaining\n    possibilities:\n\n      regex4 | regex5                               ' ie, startAt = 3\n\n    This class wraps all that complexity up in a simple API... `startAt` decides\n    where in the array of expressions to start doing the matching. It\n    auto-increments, so if a match is found at position 2, then startAt will be\n    set to 3.  If the end is reached startAt will return to 0.\n\n    MOST of the time the parser will be setting startAt manually to 0.\n  */\n  class ResumableMultiRegex {\n    constructor() {\n      // @ts-ignore\n      this.rules = [];\n      // @ts-ignore\n      this.multiRegexes = [];\n      this.count = 0;\n\n      this.lastIndex = 0;\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    getMatcher(index) {\n      if (this.multiRegexes[index]) return this.multiRegexes[index];\n\n      const matcher = new MultiRegex();\n      this.rules.slice(index).forEach(([re, opts]) => matcher.addRule(re, opts));\n      matcher.compile();\n      this.multiRegexes[index] = matcher;\n      return matcher;\n    }\n\n    resumingScanAtSamePosition() {\n      return this.regexIndex !== 0;\n    }\n\n    considerAll() {\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      this.rules.push([re, opts]);\n      if (opts.type === \"begin\") this.count++;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      const m = this.getMatcher(this.regexIndex);\n      m.lastIndex = this.lastIndex;\n      let result = m.exec(s);\n\n      // The following is because we have no easy way to say \"resume scanning at the\n      // existing position but also skip the current rule ONLY\". What happens is\n      // all prior rules are also skipped which can result in matching the wrong\n      // thing. Example of matching \"booger\":\n\n      // our matcher is [string, \"booger\", number]\n      //\n      // ....booger....\n\n      // if \"booger\" is ignored then we'd really need a regex to scan from the\n      // SAME position for only: [string, number] but ignoring \"booger\" (if it\n      // was the first match), a simple resume would scan ahead who knows how\n      // far looking only for \"number\", ignoring potential string matches (or\n      // future \"booger\" matches that might be valid.)\n\n      // So what we do: We execute two matchers, one resuming at the same\n      // position, but the second full matcher starting at the position after:\n\n      //     /--- resume first regex match here (for [number])\n      //     |/---- full match here for [string, \"booger\", number]\n      //     vv\n      // ....booger....\n\n      // Which ever results in a match first is then used. So this 3-4 step\n      // process essentially allows us to say \"match at this position, excluding\n      // a prior rule that was ignored\".\n      //\n      // 1. Match \"booger\" first, ignore. Also proves that [string] does non match.\n      // 2. Resume matching for [number]\n      // 3. Match at index + 1 for [string, \"booger\", number]\n      // 4. If #2 and #3 result in matches, which came first?\n      if (this.resumingScanAtSamePosition()) {\n        if (result && result.index === this.lastIndex) ; else { // use the second matcher result\n          const m2 = this.getMatcher(0);\n          m2.lastIndex = this.lastIndex + 1;\n          result = m2.exec(s);\n        }\n      }\n\n      if (result) {\n        this.regexIndex += result.position + 1;\n        if (this.regexIndex === this.count) {\n          // wrap-around to considering all matches again\n          this.considerAll();\n        }\n      }\n\n      return result;\n    }\n  }\n\n  /**\n   * Given a mode, builds a huge ResumableMultiRegex that can be used to walk\n   * the content and find matches.\n   *\n   * @param {CompiledMode} mode\n   * @returns {ResumableMultiRegex}\n   */\n  function buildModeRegex(mode) {\n    const mm = new ResumableMultiRegex();\n\n    mode.contains.forEach(term => mm.addRule(term.begin, { rule: term, type: \"begin\" }));\n\n    if (mode.terminator_end) {\n      mm.addRule(mode.terminator_end, { type: \"end\" });\n    }\n    if (mode.illegal) {\n      mm.addRule(mode.illegal, { type: \"illegal\" });\n    }\n\n    return mm;\n  }\n\n  // TODO: We need negative look-behind support to do this properly\n  /**\n   * Skip a match if it has a preceding or trailing dot\n   *\n   * This is used for `beginKeywords` to prevent matching expressions such as\n   * `bob.keyword.do()`. The mode compiler automatically wires this up as a\n   * special _internal_ 'on:begin' callback for modes with `beginKeywords`\n   * @param {RegExpMatchArray} match\n   * @param {CallbackResponse} response\n   */\n  function skipIfhasPrecedingOrTrailingDot(match, response) {\n    const before = match.input[match.index - 1];\n    const after = match.input[match.index + match[0].length];\n    if (before === \".\" || after === \".\") {\n      response.ignoreMatch();\n    }\n  }\n\n  /** skip vs abort vs ignore\n   *\n   * @skip   - The mode is still entered and exited normally (and contains rules apply),\n   *           but all content is held and added to the parent buffer rather than being\n   *           output when the mode ends.  Mostly used with `sublanguage` to build up\n   *           a single large buffer than can be parsed by sublanguage.\n   *\n   *             - The mode begin ands ends normally.\n   *             - Content matched is added to the parent mode buffer.\n   *             - The parser cursor is moved forward normally.\n   *\n   * @abort  - A hack placeholder until we have ignore.  Aborts the mode (as if it\n   *           never matched) but DOES NOT continue to match subsequent `contains`\n   *           modes.  Abort is bad/suboptimal because it can result in modes\n   *           farther down not getting applied because an earlier rule eats the\n   *           content but then aborts.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is added to the mode buffer.\n   *             - The parser cursor is moved forward accordingly.\n   *\n   * @ignore - Ignores the mode (as if it never matched) and continues to match any\n   *           subsequent `contains` modes.  Ignore isn't technically possible with\n   *           the current parser implementation.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is ignored.\n   *             - The parser cursor is not moved forward.\n   */\n\n  /**\n   * Compiles an individual mode\n   *\n   * This can raise an error if the mode contains certain detectable known logic\n   * issues.\n   * @param {Mode} mode\n   * @param {CompiledMode | null} [parent]\n   * @returns {CompiledMode | never}\n   */\n  function compileMode(mode, parent) {\n    const cmode = /** @type CompiledMode */ (mode);\n    if (mode.compiled) return cmode;\n    mode.compiled = true;\n\n    // __beforeBegin is considered private API, internal use only\n    mode.__beforeBegin = null;\n\n    mode.keywords = mode.keywords || mode.beginKeywords;\n\n    let keywordPattern = null;\n    if (typeof mode.keywords === \"object\") {\n      keywordPattern = mode.keywords.$pattern;\n      delete mode.keywords.$pattern;\n    }\n\n    if (mode.keywords) {\n      mode.keywords = compileKeywords(mode.keywords, language.case_insensitive);\n    }\n\n    // both are not allowed\n    if (mode.lexemes && keywordPattern) {\n      throw new Error(\"ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) \");\n    }\n\n    // `mode.lexemes` was the old standard before we added and now recommend\n    // using `keywords.$pattern` to pass the keyword pattern\n    cmode.keywordPatternRe = langRe(mode.lexemes || keywordPattern || /\\w+/, true);\n\n    if (parent) {\n      if (mode.beginKeywords) {\n        // for languages with keywords that include non-word characters checking for\n        // a word boundary is not sufficient, so instead we check for a word boundary\n        // or whitespace - this does no harm in any case since our keyword engine\n        // doesn't allow spaces in keywords anyways and we still check for the boundary\n        // first\n        mode.begin = '\\\\b(' + mode.beginKeywords.split(' ').join('|') + ')(?=\\\\b|\\\\s)';\n        mode.__beforeBegin = skipIfhasPrecedingOrTrailingDot;\n      }\n      if (!mode.begin) mode.begin = /\\B|\\b/;\n      cmode.beginRe = langRe(mode.begin);\n      if (mode.endSameAsBegin) mode.end = mode.begin;\n      if (!mode.end && !mode.endsWithParent) mode.end = /\\B|\\b/;\n      if (mode.end) cmode.endRe = langRe(mode.end);\n      cmode.terminator_end = source(mode.end) || '';\n      if (mode.endsWithParent && parent.terminator_end) {\n        cmode.terminator_end += (mode.end ? '|' : '') + parent.terminator_end;\n      }\n    }\n    if (mode.illegal) cmode.illegalRe = langRe(mode.illegal);\n    // eslint-disable-next-line no-undefined\n    if (mode.relevance === undefined) mode.relevance = 1;\n    if (!mode.contains) mode.contains = [];\n\n    mode.contains = [].concat(...mode.contains.map(function(c) {\n      return expandOrCloneMode(c === 'self' ? mode : c);\n    }));\n    mode.contains.forEach(function(c) { compileMode(/** @type Mode */ (c), cmode); });\n\n    if (mode.starts) {\n      compileMode(mode.starts, parent);\n    }\n\n    cmode.matcher = buildModeRegex(cmode);\n    return cmode;\n  }\n\n  // self is not valid at the top-level\n  if (language.contains && language.contains.includes('self')) {\n    throw new Error(\"ERR: contains `self` is not supported at the top-level of a language.  See documentation.\");\n  }\n  return compileMode(/** @type Mode */ (language));\n}\n\n/**\n * Determines if a mode has a dependency on it's parent or not\n *\n * If a mode does have a parent dependency then often we need to clone it if\n * it's used in multiple places so that each copy points to the correct parent,\n * where-as modes without a parent can often safely be re-used at the bottom of\n * a mode chain.\n *\n * @param {Mode | null} mode\n * @returns {boolean} - is there a dependency on the parent?\n * */\nfunction dependencyOnParent(mode) {\n  if (!mode) return false;\n\n  return mode.endsWithParent || dependencyOnParent(mode.starts);\n}\n\n/**\n * Expands a mode or clones it if necessary\n *\n * This is necessary for modes with parental dependenceis (see notes on\n * `dependencyOnParent`) and for nodes that have `variants` - which must then be\n * exploded into their own individual modes at compile time.\n *\n * @param {Mode} mode\n * @returns {Mode | Mode[]}\n * */\nfunction expandOrCloneMode(mode) {\n  if (mode.variants && !mode.cached_variants) {\n    mode.cached_variants = mode.variants.map(function(variant) {\n      return inherit(mode, { variants: null }, variant);\n    });\n  }\n\n  // EXPAND\n  // if we have variants then essentially \"replace\" the mode with the variants\n  // this happens in compileMode, where this function is called from\n  if (mode.cached_variants) {\n    return mode.cached_variants;\n  }\n\n  // CLONE\n  // if we have dependencies on parents then we need a unique\n  // instance of ourselves, so we can be reused with many\n  // different parents without issue\n  if (dependencyOnParent(mode)) {\n    return inherit(mode, { starts: mode.starts ? inherit(mode.starts) : null });\n  }\n\n  if (Object.isFrozen(mode)) {\n    return inherit(mode);\n  }\n\n  // no special dependency issues, just return ourselves\n  return mode;\n}\n\n/***********************************************\n  Keywords\n***********************************************/\n\n/**\n * Given raw keywords from a language definition, compile them.\n *\n * @param {string | Record<string,string>} rawKeywords\n * @param {boolean} caseInsensitive\n */\nfunction compileKeywords(rawKeywords, caseInsensitive) {\n  /** @type KeywordDict */\n  var compiledKeywords = {};\n\n  if (typeof rawKeywords === 'string') { // string\n    splitAndCompile('keyword', rawKeywords);\n  } else {\n    Object.keys(rawKeywords).forEach(function(className) {\n      splitAndCompile(className, rawKeywords[className]);\n    });\n  }\n  return compiledKeywords;\n\n  // ---\n\n  /**\n   * Compiles an individual list of keywords\n   *\n   * Ex: \"for if when while|5\"\n   *\n   * @param {string} className\n   * @param {string} keywordList\n   */\n  function splitAndCompile(className, keywordList) {\n    if (caseInsensitive) {\n      keywordList = keywordList.toLowerCase();\n    }\n    keywordList.split(' ').forEach(function(keyword) {\n      var pair = keyword.split('|');\n      compiledKeywords[pair[0]] = [className, scoreForKeyword(pair[0], pair[1])];\n    });\n  }\n}\n\n/**\n * Returns the proper score for a given keyword\n *\n * Also takes into account comment keywords, which will be scored 0 UNLESS\n * another score has been manually assigned.\n * @param {string} keyword\n * @param {string} [providedScore]\n */\nfunction scoreForKeyword(keyword, providedScore) {\n  // manual scores always win over common keywords\n  // so you can force a score of 1 if you really insist\n  if (providedScore) {\n    return Number(providedScore);\n  }\n\n  return commonKeyword(keyword) ? 0 : 1;\n}\n\n/**\n * Determines if a given keyword is common or not\n *\n * @param {string} keyword */\nfunction commonKeyword(keyword) {\n  return COMMON_KEYWORDS.includes(keyword.toLowerCase());\n}\n\nvar version = \"10.3.2\";\n\n// @ts-nocheck\n\nfunction hasValueOrEmptyAttribute(value) {\n  return Boolean(value || value === \"\");\n}\n\nconst Component = {\n  props: [\"language\", \"code\", \"autodetect\"],\n  data: function() {\n    return {\n      detectedLanguage: \"\",\n      unknownLanguage: false\n    };\n  },\n  computed: {\n    className() {\n      if (this.unknownLanguage) return \"\";\n\n      return \"hljs \" + this.detectedLanguage;\n    },\n    highlighted() {\n      // no idea what language to use, return raw code\n      if (!this.autoDetect && !hljs.getLanguage(this.language)) {\n        console.warn(`The language \"${this.language}\" you specified could not be found.`);\n        this.unknownLanguage = true;\n        return escapeHTML(this.code);\n      }\n\n      let result;\n      if (this.autoDetect) {\n        result = hljs.highlightAuto(this.code);\n        this.detectedLanguage = result.language;\n      } else {\n        result = hljs.highlight(this.language, this.code, this.ignoreIllegals);\n        this.detectectLanguage = this.language;\n      }\n      return result.value;\n    },\n    autoDetect() {\n      return !this.language || hasValueOrEmptyAttribute(this.autodetect);\n    },\n    ignoreIllegals() {\n      return true;\n    }\n  },\n  // this avoids needing to use a whole Vue compilation pipeline just\n  // to build Highlight.js\n  render(createElement) {\n    return createElement(\"pre\", {}, [\n      createElement(\"code\", {\n        class: this.className,\n        domProps: { innerHTML: this.highlighted }})\n    ]);\n  }\n  // template: `<pre><code :class=\"className\" v-html=\"highlighted\"></code></pre>`\n};\n\nconst VuePlugin = {\n  install(Vue) {\n    Vue.component('highlightjs', Component);\n  }\n};\n\n/*\nSyntax highlighting with language autodetection.\nhttps://highlightjs.org/\n*/\n\nconst escape$1 = escapeHTML;\nconst inherit$1 = inherit;\n\nconst { nodeStream: nodeStream$1, mergeStreams: mergeStreams$1 } = utils;\nconst NO_MATCH = Symbol(\"nomatch\");\n\n/**\n * @param {any} hljs - object that is extended (legacy)\n * @returns {HLJSApi}\n */\nconst HLJS = function(hljs) {\n  // Convenience variables for build-in objects\n  /** @type {unknown[]} */\n  var ArrayProto = [];\n\n  // Global internal variables used within the highlight.js library.\n  /** @type {Record<string, Language>} */\n  var languages = Object.create(null);\n  /** @type {Record<string, string>} */\n  var aliases = Object.create(null);\n  /** @type {HLJSPlugin[]} */\n  var plugins = [];\n\n  // safe/production mode - swallows more errors, tries to keep running\n  // even if a single syntax or parse hits a fatal error\n  var SAFE_MODE = true;\n  var fixMarkupRe = /(^(<[^>]+>|\\t|)+|\\n)/gm;\n  var LANGUAGE_NOT_FOUND = \"Could not find the language '{}', did you forget to load/include a language module?\";\n  /** @type {Language} */\n  const PLAINTEXT_LANGUAGE = { disableAutodetect: true, name: 'Plain text', contains: [] };\n\n  // Global options used when within external APIs. This is modified when\n  // calling the `hljs.configure` function.\n  /** @type HLJSOptions */\n  var options = {\n    noHighlightRe: /^(no-?highlight)$/i,\n    languageDetectRe: /\\blang(?:uage)?-([\\w-]+)\\b/i,\n    classPrefix: 'hljs-',\n    tabReplace: null,\n    useBR: false,\n    languages: null,\n    // beta configuration options, subject to change, welcome to discuss\n    // https://github.com/highlightjs/highlight.js/issues/1086\n    __emitter: TokenTreeEmitter\n  };\n\n  /* Utility functions */\n\n  /**\n   * Tests a language name to see if highlighting should be skipped\n   * @param {string} languageName\n   */\n  function shouldNotHighlight(languageName) {\n    return options.noHighlightRe.test(languageName);\n  }\n\n  /**\n   * @param {HighlightedHTMLElement} block - the HTML element to determine language for\n   */\n  function blockLanguage(block) {\n    var classes = block.className + ' ';\n\n    classes += block.parentNode ? block.parentNode.className : '';\n\n    // language-* takes precedence over non-prefixed class names.\n    const match = options.languageDetectRe.exec(classes);\n    if (match) {\n      var language = getLanguage(match[1]);\n      if (!language) {\n        console.warn(LANGUAGE_NOT_FOUND.replace(\"{}\", match[1]));\n        console.warn(\"Falling back to no-highlight mode for this block.\", block);\n      }\n      return language ? match[1] : 'no-highlight';\n    }\n\n    return classes\n      .split(/\\s+/)\n      .find((_class) => shouldNotHighlight(_class) || getLanguage(_class));\n  }\n\n  /**\n   * Core highlighting function.\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} code - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {Mode} [continuation] - current continuation mode, if any\n   *\n   * @returns {HighlightResult} Result - an object that represents the result\n   * @property {string} language - the language name\n   * @property {number} relevance - the relevance score\n   * @property {string} value - the highlighted HTML code\n   * @property {string} code - the original raw code\n   * @property {Mode} top - top of the current mode stack\n   * @property {boolean} illegal - indicates whether any illegal matches were found\n  */\n  function highlight(languageName, code, ignoreIllegals, continuation) {\n    /** @type {{ code: string, language: string, result?: any }} */\n    var context = {\n      code,\n      language: languageName\n    };\n    // the plugin can change the desired language or the code to be highlighted\n    // just be changing the object it was passed\n    fire(\"before:highlight\", context);\n\n    // a before plugin can usurp the result completely by providing it's own\n    // in which case we don't even need to call highlight\n    var result = context.result ?\n      context.result :\n      _highlight(context.language, context.code, ignoreIllegals, continuation);\n\n    result.code = context.code;\n    // the plugin can change anything in result to suite it\n    fire(\"after:highlight\", result);\n\n    return result;\n  }\n\n  /**\n   * private highlight that's used internally and does not fire callbacks\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} code - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {Mode} [continuation] - current continuation mode, if any\n  */\n  function _highlight(languageName, code, ignoreIllegals, continuation) {\n    var codeToHighlight = code;\n\n    /**\n     * Return keyword data if a match is a keyword\n     * @param {CompiledMode} mode - current mode\n     * @param {RegExpMatchArray} match - regexp match data\n     * @returns {KeywordData | false}\n     */\n    function keywordData(mode, match) {\n      var matchText = language.case_insensitive ? match[0].toLowerCase() : match[0];\n      return Object.prototype.hasOwnProperty.call(mode.keywords, matchText) && mode.keywords[matchText];\n    }\n\n    function processKeywords() {\n      if (!top.keywords) {\n        emitter.addText(modeBuffer);\n        return;\n      }\n\n      let lastIndex = 0;\n      top.keywordPatternRe.lastIndex = 0;\n      let match = top.keywordPatternRe.exec(modeBuffer);\n      let buf = \"\";\n\n      while (match) {\n        buf += modeBuffer.substring(lastIndex, match.index);\n        const data = keywordData(top, match);\n        if (data) {\n          const [kind, keywordRelevance] = data;\n          emitter.addText(buf);\n          buf = \"\";\n\n          relevance += keywordRelevance;\n          emitter.addKeyword(match[0], kind);\n        } else {\n          buf += match[0];\n        }\n        lastIndex = top.keywordPatternRe.lastIndex;\n        match = top.keywordPatternRe.exec(modeBuffer);\n      }\n      buf += modeBuffer.substr(lastIndex);\n      emitter.addText(buf);\n    }\n\n    function processSubLanguage() {\n      if (modeBuffer === \"\") return;\n      /** @type HighlightResult */\n      var result = null;\n\n      if (typeof top.subLanguage === 'string') {\n        if (!languages[top.subLanguage]) {\n          emitter.addText(modeBuffer);\n          return;\n        }\n        result = _highlight(top.subLanguage, modeBuffer, true, continuations[top.subLanguage]);\n        continuations[top.subLanguage] = result.top;\n      } else {\n        result = highlightAuto(modeBuffer, top.subLanguage.length ? top.subLanguage : null);\n      }\n\n      // Counting embedded language score towards the host language may be disabled\n      // with zeroing the containing mode relevance. Use case in point is Markdown that\n      // allows XML everywhere and makes every XML snippet to have a much larger Markdown\n      // score.\n      if (top.relevance > 0) {\n        relevance += result.relevance;\n      }\n      emitter.addSublanguage(result.emitter, result.language);\n    }\n\n    function processBuffer() {\n      if (top.subLanguage != null) {\n        processSubLanguage();\n      } else {\n        processKeywords();\n      }\n      modeBuffer = '';\n    }\n\n    /**\n     * @param {Mode} mode - new mode to start\n     */\n    function startNewMode(mode) {\n      if (mode.className) {\n        emitter.openNode(mode.className);\n      }\n      top = Object.create(mode, { parent: { value: top } });\n      return top;\n    }\n\n    /**\n     * @param {CompiledMode } mode - the mode to potentially end\n     * @param {RegExpMatchArray} match - the latest match\n     * @param {string} matchPlusRemainder - match plus remainder of content\n     * @returns {CompiledMode | void} - the next mode, or if void continue on in current mode\n     */\n    function endOfMode(mode, match, matchPlusRemainder) {\n      let matched = startsWith(mode.endRe, matchPlusRemainder);\n\n      if (matched) {\n        if (mode[\"on:end\"]) {\n          const resp = new Response(mode);\n          mode[\"on:end\"](match, resp);\n          if (resp.ignore) matched = false;\n        }\n\n        if (matched) {\n          while (mode.endsParent && mode.parent) {\n            mode = mode.parent;\n          }\n          return mode;\n        }\n      }\n      // even if on:end fires an `ignore` it's still possible\n      // that we might trigger the end node because of a parent mode\n      if (mode.endsWithParent) {\n        return endOfMode(mode.parent, match, matchPlusRemainder);\n      }\n    }\n\n    /**\n     * Handle matching but then ignoring a sequence of text\n     *\n     * @param {string} lexeme - string containing full match text\n     */\n    function doIgnore(lexeme) {\n      if (top.matcher.regexIndex === 0) {\n        // no more regexs to potentially match here, so we move the cursor forward one\n        // space\n        modeBuffer += lexeme[0];\n        return 1;\n      } else {\n        // no need to move the cursor, we still have additional regexes to try and\n        // match at this very spot\n        resumeScanAtSamePosition = true;\n        return 0;\n      }\n    }\n\n    /**\n     * Handle the start of a new potential mode match\n     *\n     * @param {EnhancedMatch} match - the current match\n     * @returns {number} how far to advance the parse cursor\n     */\n    function doBeginMatch(match) {\n      var lexeme = match[0];\n      var newMode = match.rule;\n\n      const resp = new Response(newMode);\n      // first internal before callbacks, then the public ones\n      const beforeCallbacks = [newMode.__beforeBegin, newMode[\"on:begin\"]];\n      for (const cb of beforeCallbacks) {\n        if (!cb) continue;\n        cb(match, resp);\n        if (resp.ignore) return doIgnore(lexeme);\n      }\n\n      if (newMode && newMode.endSameAsBegin) {\n        newMode.endRe = escape(lexeme);\n      }\n\n      if (newMode.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (newMode.excludeBegin) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (!newMode.returnBegin && !newMode.excludeBegin) {\n          modeBuffer = lexeme;\n        }\n      }\n      startNewMode(newMode);\n      // if (mode[\"after:begin\"]) {\n      //   let resp = new Response(mode);\n      //   mode[\"after:begin\"](match, resp);\n      // }\n      return newMode.returnBegin ? 0 : lexeme.length;\n    }\n\n    /**\n     * Handle the potential end of mode\n     *\n     * @param {RegExpMatchArray} match - the current match\n     */\n    function doEndMatch(match) {\n      var lexeme = match[0];\n      var matchPlusRemainder = codeToHighlight.substr(match.index);\n\n      var endMode = endOfMode(top, match, matchPlusRemainder);\n      if (!endMode) { return NO_MATCH; }\n\n      var origin = top;\n      if (origin.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (!(origin.returnEnd || origin.excludeEnd)) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (origin.excludeEnd) {\n          modeBuffer = lexeme;\n        }\n      }\n      do {\n        if (top.className) {\n          emitter.closeNode();\n        }\n        if (!top.skip && !top.subLanguage) {\n          relevance += top.relevance;\n        }\n        top = top.parent;\n      } while (top !== endMode.parent);\n      if (endMode.starts) {\n        if (endMode.endSameAsBegin) {\n          endMode.starts.endRe = endMode.endRe;\n        }\n        startNewMode(endMode.starts);\n      }\n      return origin.returnEnd ? 0 : lexeme.length;\n    }\n\n    function processContinuations() {\n      var list = [];\n      for (var current = top; current !== language; current = current.parent) {\n        if (current.className) {\n          list.unshift(current.className);\n        }\n      }\n      list.forEach(item => emitter.openNode(item));\n    }\n\n    /** @type {{type?: MatchType, index?: number, rule?: Mode}}} */\n    var lastMatch = {};\n\n    /**\n     *  Process an individual match\n     *\n     * @param {string} textBeforeMatch - text preceeding the match (since the last match)\n     * @param {EnhancedMatch} [match] - the match itself\n     */\n    function processLexeme(textBeforeMatch, match) {\n      var lexeme = match && match[0];\n\n      // add non-matched text to the current mode buffer\n      modeBuffer += textBeforeMatch;\n\n      if (lexeme == null) {\n        processBuffer();\n        return 0;\n      }\n\n      // we've found a 0 width match and we're stuck, so we need to advance\n      // this happens when we have badly behaved rules that have optional matchers to the degree that\n      // sometimes they can end up matching nothing at all\n      // Ref: https://github.com/highlightjs/highlight.js/issues/2140\n      if (lastMatch.type === \"begin\" && match.type === \"end\" && lastMatch.index === match.index && lexeme === \"\") {\n        // spit the \"skipped\" character that our regex choked on back into the output sequence\n        modeBuffer += codeToHighlight.slice(match.index, match.index + 1);\n        if (!SAFE_MODE) {\n          /** @type {AnnotatedError} */\n          const err = new Error('0 width match regex');\n          err.languageName = languageName;\n          err.badRule = lastMatch.rule;\n          throw err;\n        }\n        return 1;\n      }\n      lastMatch = match;\n\n      if (match.type === \"begin\") {\n        return doBeginMatch(match);\n      } else if (match.type === \"illegal\" && !ignoreIllegals) {\n        // illegal match, we do not continue processing\n        /** @type {AnnotatedError} */\n        const err = new Error('Illegal lexeme \"' + lexeme + '\" for mode \"' + (top.className || '<unnamed>') + '\"');\n        err.mode = top;\n        throw err;\n      } else if (match.type === \"end\") {\n        var processed = doEndMatch(match);\n        if (processed !== NO_MATCH) {\n          return processed;\n        }\n      }\n\n      // edge case for when illegal matches $ (end of line) which is technically\n      // a 0 width match but not a begin/end match so it's not caught by the\n      // first handler (when ignoreIllegals is true)\n      if (match.type === \"illegal\" && lexeme === \"\") {\n        // advance so we aren't stuck in an infinite loop\n        return 1;\n      }\n\n      // infinite loops are BAD, this is a last ditch catch all. if we have a\n      // decent number of iterations yet our index (cursor position in our\n      // parsing) still 3x behind our index then something is very wrong\n      // so we bail\n      if (iterations > 100000 && iterations > match.index * 3) {\n        const err = new Error('potential infinite loop, way more iterations than matches');\n        throw err;\n      }\n\n      /*\n      Why might be find ourselves here?  Only one occasion now.  An end match that was\n      triggered but could not be completed.  When might this happen?  When an `endSameasBegin`\n      rule sets the end rule to a specific match.  Since the overall mode termination rule that's\n      being used to scan the text isn't recompiled that means that any match that LOOKS like\n      the end (but is not, because it is not an exact match to the beginning) will\n      end up here.  A definite end match, but when `doEndMatch` tries to \"reapply\"\n      the end rule and fails to match, we wind up here, and just silently ignore the end.\n\n      This causes no real harm other than stopping a few times too many.\n      */\n\n      modeBuffer += lexeme;\n      return lexeme.length;\n    }\n\n    var language = getLanguage(languageName);\n    if (!language) {\n      console.error(LANGUAGE_NOT_FOUND.replace(\"{}\", languageName));\n      throw new Error('Unknown language: \"' + languageName + '\"');\n    }\n\n    var md = compileLanguage(language);\n    var result = '';\n    /** @type {CompiledMode} */\n    var top = continuation || md;\n    /** @type Record<string,Mode> */\n    var continuations = {}; // keep continuations for sub-languages\n    var emitter = new options.__emitter(options);\n    processContinuations();\n    var modeBuffer = '';\n    var relevance = 0;\n    var index = 0;\n    var iterations = 0;\n    var resumeScanAtSamePosition = false;\n\n    try {\n      top.matcher.considerAll();\n\n      for (;;) {\n        iterations++;\n        if (resumeScanAtSamePosition) {\n          // only regexes not matched previously will now be\n          // considered for a potential match\n          resumeScanAtSamePosition = false;\n        } else {\n          top.matcher.considerAll();\n        }\n        top.matcher.lastIndex = index;\n\n        const match = top.matcher.exec(codeToHighlight);\n        // console.log(\"match\", match[0], match.rule && match.rule.begin)\n\n        if (!match) break;\n\n        const beforeMatch = codeToHighlight.substring(index, match.index);\n        const processedCount = processLexeme(beforeMatch, match);\n        index = match.index + processedCount;\n      }\n      processLexeme(codeToHighlight.substr(index));\n      emitter.closeAllNodes();\n      emitter.finalize();\n      result = emitter.toHTML();\n\n      return {\n        relevance: relevance,\n        value: result,\n        language: languageName,\n        illegal: false,\n        emitter: emitter,\n        top: top\n      };\n    } catch (err) {\n      if (err.message && err.message.includes('Illegal')) {\n        return {\n          illegal: true,\n          illegalBy: {\n            msg: err.message,\n            context: codeToHighlight.slice(index - 100, index + 100),\n            mode: err.mode\n          },\n          sofar: result,\n          relevance: 0,\n          value: escape$1(codeToHighlight),\n          emitter: emitter\n        };\n      } else if (SAFE_MODE) {\n        return {\n          illegal: false,\n          relevance: 0,\n          value: escape$1(codeToHighlight),\n          emitter: emitter,\n          language: languageName,\n          top: top,\n          errorRaised: err\n        };\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\n   * returns a valid highlight result, without actually doing any actual work,\n   * auto highlight starts with this and it's possible for small snippets that\n   * auto-detection may not find a better match\n   * @param {string} code\n   * @returns {HighlightResult}\n   */\n  function justTextHighlightResult(code) {\n    const result = {\n      relevance: 0,\n      emitter: new options.__emitter(options),\n      value: escape$1(code),\n      illegal: false,\n      top: PLAINTEXT_LANGUAGE\n    };\n    result.emitter.addText(code);\n    return result;\n  }\n\n  /**\n  Highlighting with language detection. Accepts a string with the code to\n  highlight. Returns an object with the following properties:\n\n  - language (detected language)\n  - relevance (int)\n  - value (an HTML string with highlighting markup)\n  - second_best (object with the same structure for second-best heuristically\n    detected language, may be absent)\n\n    @param {string} code\n    @param {Array<string>} [languageSubset]\n    @returns {AutoHighlightResult}\n  */\n  function highlightAuto(code, languageSubset) {\n    languageSubset = languageSubset || options.languages || Object.keys(languages);\n    var result = justTextHighlightResult(code);\n    var secondBest = result;\n    languageSubset.filter(getLanguage).filter(autoDetection).forEach(function(name) {\n      var current = _highlight(name, code, false);\n      current.language = name;\n      if (current.relevance > secondBest.relevance) {\n        secondBest = current;\n      }\n      if (current.relevance > result.relevance) {\n        secondBest = result;\n        result = current;\n      }\n    });\n    if (secondBest.language) {\n      // second_best (with underscore) is the expected API\n      result.second_best = secondBest;\n    }\n    return result;\n  }\n\n  /**\n  Post-processing of the highlighted markup:\n\n  - replace TABs with something more useful\n  - replace real line-breaks with '<br>' for non-pre containers\n\n    @param {string} html\n    @returns {string}\n  */\n  function fixMarkup(html) {\n    if (!(options.tabReplace || options.useBR)) {\n      return html;\n    }\n\n    return html.replace(fixMarkupRe, match => {\n      if (match === '\\n') {\n        return options.useBR ? '<br>' : match;\n      } else if (options.tabReplace) {\n        return match.replace(/\\t/g, options.tabReplace);\n      }\n      return match;\n    });\n  }\n\n  /**\n   * Builds new class name for block given the language name\n   *\n   * @param {string} prevClassName\n   * @param {string} [currentLang]\n   * @param {string} [resultLang]\n   */\n  function buildClassName(prevClassName, currentLang, resultLang) {\n    var language = currentLang ? aliases[currentLang] : resultLang;\n    var result = [prevClassName.trim()];\n\n    if (!prevClassName.match(/\\bhljs\\b/)) {\n      result.push('hljs');\n    }\n\n    if (!prevClassName.includes(language)) {\n      result.push(language);\n    }\n\n    return result.join(' ').trim();\n  }\n\n  /**\n   * Applies highlighting to a DOM node containing code. Accepts a DOM node and\n   * two optional parameters for fixMarkup.\n   *\n   * @param {HighlightedHTMLElement} element - the HTML element to highlight\n  */\n  function highlightBlock(element) {\n    /** @type HTMLElement */\n    let node = null;\n    const language = blockLanguage(element);\n\n    if (shouldNotHighlight(language)) return;\n\n    fire(\"before:highlightBlock\",\n      { block: element, language: language });\n\n    if (options.useBR) {\n      node = document.createElement('div');\n      node.innerHTML = element.innerHTML.replace(/\\n/g, '').replace(/<br[ /]*>/g, '\\n');\n    } else {\n      node = element;\n    }\n    const text = node.textContent;\n    const result = language ? highlight(language, text, true) : highlightAuto(text);\n\n    const originalStream = nodeStream$1(node);\n    if (originalStream.length) {\n      const resultNode = document.createElement('div');\n      resultNode.innerHTML = result.value;\n      result.value = mergeStreams$1(originalStream, nodeStream$1(resultNode), text);\n    }\n    result.value = fixMarkup(result.value);\n\n    fire(\"after:highlightBlock\", { block: element, result: result });\n\n    element.innerHTML = result.value;\n    element.className = buildClassName(element.className, language, result.language);\n    element.result = {\n      language: result.language,\n      // TODO: remove with version 11.0\n      re: result.relevance,\n      relavance: result.relevance\n    };\n    if (result.second_best) {\n      element.second_best = {\n        language: result.second_best.language,\n        // TODO: remove with version 11.0\n        re: result.second_best.relevance,\n        relavance: result.second_best.relevance\n      };\n    }\n  }\n\n  /**\n   * Updates highlight.js global options with the passed options\n   *\n   * @param {{}} userOptions\n   */\n  function configure(userOptions) {\n    if (userOptions.useBR) {\n      console.warn(\"'useBR' option is deprecated and will be removed entirely in v11.0\");\n      console.warn(\"Please see https://github.com/highlightjs/highlight.js/issues/2559\");\n    }\n    options = inherit$1(options, userOptions);\n  }\n\n  /**\n   * Highlights to all <pre><code> blocks on a page\n   *\n   * @type {Function & {called?: boolean}}\n   */\n  const initHighlighting = () => {\n    if (initHighlighting.called) return;\n    initHighlighting.called = true;\n\n    var blocks = document.querySelectorAll('pre code');\n    ArrayProto.forEach.call(blocks, highlightBlock);\n  };\n\n  // Higlights all when DOMContentLoaded fires\n  function initHighlightingOnLoad() {\n    // @ts-ignore\n    window.addEventListener('DOMContentLoaded', initHighlighting, false);\n  }\n\n  /**\n   * Register a language grammar module\n   *\n   * @param {string} languageName\n   * @param {LanguageFn} languageDefinition\n   */\n  function registerLanguage(languageName, languageDefinition) {\n    var lang = null;\n    try {\n      lang = languageDefinition(hljs);\n    } catch (error) {\n      console.error(\"Language definition for '{}' could not be registered.\".replace(\"{}\", languageName));\n      // hard or soft error\n      if (!SAFE_MODE) { throw error; } else { console.error(error); }\n      // languages that have serious errors are replaced with essentially a\n      // \"plaintext\" stand-in so that the code blocks will still get normal\n      // css classes applied to them - and one bad language won't break the\n      // entire highlighter\n      lang = PLAINTEXT_LANGUAGE;\n    }\n    // give it a temporary name if it doesn't have one in the meta-data\n    if (!lang.name) lang.name = languageName;\n    languages[languageName] = lang;\n    lang.rawDefinition = languageDefinition.bind(null, hljs);\n\n    if (lang.aliases) {\n      registerAliases(lang.aliases, { languageName });\n    }\n  }\n\n  /**\n   * @returns {string[]} List of language internal names\n   */\n  function listLanguages() {\n    return Object.keys(languages);\n  }\n\n  /**\n    intended usage: When one language truly requires another\n\n    Unlike `getLanguage`, this will throw when the requested language\n    is not available.\n\n    @param {string} name - name of the language to fetch/require\n    @returns {Language | never}\n  */\n  function requireLanguage(name) {\n    var lang = getLanguage(name);\n    if (lang) { return lang; }\n\n    var err = new Error('The \\'{}\\' language is required, but not loaded.'.replace('{}', name));\n    throw err;\n  }\n\n  /**\n   * @param {string} name - name of the language to retrieve\n   * @returns {Language | undefined}\n   */\n  function getLanguage(name) {\n    name = (name || '').toLowerCase();\n    return languages[name] || languages[aliases[name]];\n  }\n\n  /**\n   *\n   * @param {string|string[]} aliasList - single alias or list of aliases\n   * @param {{languageName: string}} opts\n   */\n  function registerAliases(aliasList, { languageName }) {\n    if (typeof aliasList === 'string') {\n      aliasList = [aliasList];\n    }\n    aliasList.forEach(alias => { aliases[alias] = languageName; });\n  }\n\n  /**\n   * Determines if a given language has auto-detection enabled\n   * @param {string} name - name of the language\n   */\n  function autoDetection(name) {\n    var lang = getLanguage(name);\n    return lang && !lang.disableAutodetect;\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function addPlugin(plugin) {\n    plugins.push(plugin);\n  }\n\n  /**\n   *\n   * @param {PluginEvent} event\n   * @param {any} args\n   */\n  function fire(event, args) {\n    var cb = event;\n    plugins.forEach(function(plugin) {\n      if (plugin[cb]) {\n        plugin[cb](args);\n      }\n    });\n  }\n\n  /**\n  Note: fixMarkup is deprecated and will be removed entirely in v11\n\n  @param {string} arg\n  @returns {string}\n  */\n  function deprecateFixMarkup(arg) {\n    console.warn(\"fixMarkup is deprecated and will be removed entirely in v11.0\");\n    console.warn(\"Please see https://github.com/highlightjs/highlight.js/issues/2534\");\n\n    return fixMarkup(arg);\n  }\n\n  /* Interface definition */\n  Object.assign(hljs, {\n    highlight,\n    highlightAuto,\n    fixMarkup: deprecateFixMarkup,\n    highlightBlock,\n    configure,\n    initHighlighting,\n    initHighlightingOnLoad,\n    registerLanguage,\n    listLanguages,\n    getLanguage,\n    registerAliases,\n    requireLanguage,\n    autoDetection,\n    inherit: inherit$1,\n    addPlugin,\n    // plugins for frameworks\n    vuePlugin: VuePlugin\n  });\n\n  hljs.debugMode = function() { SAFE_MODE = false; };\n  hljs.safeMode = function() { SAFE_MODE = true; };\n  hljs.versionString = version;\n\n  for (const key in MODES) {\n    // @ts-ignore\n    if (typeof MODES[key] === \"object\") {\n      // @ts-ignore\n      deepFreeze(MODES[key]);\n    }\n  }\n\n  // merge all the modes/regexs into our main object\n  Object.assign(hljs, MODES);\n\n  return hljs;\n};\n\n// export an \"instance\" of the highlighter\nvar highlight = HLJS({});\n\nmodule.exports = highlight;\n","/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/*\nLanguage: Handlebars\nRequires: xml.js\nAuthor: Robin Ward <robin.ward@gmail.com>\nDescription: Matcher for Handlebars as well as EmberJS additions.\nWebsite: https://handlebarsjs.com\nCategory: template\n*/\n\nfunction handlebars(hljs) {\n  const BUILT_INS = {\n    'builtin-name': [\n      'action',\n      'bindattr',\n      'collection',\n      'component',\n      'concat',\n      'debugger',\n      'each',\n      'each-in',\n      'get',\n      'hash',\n      'if',\n      'in',\n      'input',\n      'link-to',\n      'loc',\n      'log',\n      'lookup',\n      'mut',\n      'outlet',\n      'partial',\n      'query-params',\n      'render',\n      'template',\n      'textarea',\n      'unbound',\n      'unless',\n      'view',\n      'with',\n      'yield'\n    ].join(\" \")\n  };\n\n  const LITERALS = {\n    literal: [\n      'true',\n      'false',\n      'undefined',\n      'null'\n    ].join(\" \")\n  };\n\n  // as defined in https://handlebarsjs.com/guide/expressions.html#literal-segments\n  // this regex matches literal segments like ' abc ' or [ abc ] as well as helpers and paths\n  // like a/b, ./abc/cde, and abc.bcd\n\n  const DOUBLE_QUOTED_ID_REGEX=/\".*?\"/;\n  const SINGLE_QUOTED_ID_REGEX=/'.*?'/;\n  const BRACKET_QUOTED_ID_REGEX=/\\[.*?\\]/;\n  const PLAIN_ID_REGEX=/[^\\s!\"#%&'()*+,.\\/;<=>@\\[\\\\\\]^`{|}~]+/;\n  const PATH_DELIMITER_REGEX=/\\.|\\//;\n\n  const IDENTIFIER_REGEX = concat(\n    '(',\n    SINGLE_QUOTED_ID_REGEX, '|',\n    DOUBLE_QUOTED_ID_REGEX, '|',\n    BRACKET_QUOTED_ID_REGEX, '|',\n    PLAIN_ID_REGEX, '|',\n    PATH_DELIMITER_REGEX,\n    ')+'\n  );\n\n  // identifier followed by a equal-sign (without the equal sign)\n  const HASH_PARAM_REGEX = concat(\n    '(',\n    BRACKET_QUOTED_ID_REGEX, '|',\n    PLAIN_ID_REGEX,\n    ')(?==)'\n  );\n\n  const HELPER_NAME_OR_PATH_EXPRESSION = {\n    begin: IDENTIFIER_REGEX,\n    lexemes: /[\\w.\\/]+/\n  };\n\n  const HELPER_PARAMETER = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: LITERALS\n  });\n\n  const SUB_EXPRESSION = {\n    begin: /\\(/,\n    end: /\\)/\n    // the \"contains\" is added below when all necessary sub-modes are defined\n  };\n\n  const HASH = {\n    // fka \"attribute-assignment\", parameters of the form 'key=value'\n    className: 'attr',\n    begin: HASH_PARAM_REGEX,\n    relevance: 0,\n    starts: {\n      begin: /=/,\n      end: /=/,\n      starts: {\n        contains: [\n          hljs.NUMBER_MODE,\n          hljs.QUOTE_STRING_MODE,\n          hljs.APOS_STRING_MODE,\n          HELPER_PARAMETER,\n          SUB_EXPRESSION\n        ]\n      }\n    }\n  };\n\n  const BLOCK_PARAMS = {\n    // parameters of the form '{{#with x as | y |}}...{{/with}}'\n    begin: /as\\s+\\|/,\n    keywords: { keyword: 'as' },\n    end: /\\|/,\n    contains: [\n      {\n        // define sub-mode in order to prevent highlighting of block-parameter named \"as\"\n        begin: /\\w+/\n      }\n    ]\n  };\n\n  const HELPER_PARAMETERS = {\n    contains: [\n      hljs.NUMBER_MODE,\n      hljs.QUOTE_STRING_MODE,\n      hljs.APOS_STRING_MODE,\n      BLOCK_PARAMS,\n      HASH,\n      HELPER_PARAMETER,\n      SUB_EXPRESSION\n    ],\n    returnEnd: true\n    // the property \"end\" is defined through inheritance when the mode is used. If depends\n    // on the surrounding mode, but \"endsWithParent\" does not work here (i.e. it includes the\n    // end-token of the surrounding mode)\n  };\n\n  const SUB_EXPRESSION_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    className: 'name',\n    keywords: BUILT_INS,\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /\\)/,\n    })\n  });\n\n  SUB_EXPRESSION.contains = [\n    SUB_EXPRESSION_CONTENTS\n  ];\n\n  const OPENING_BLOCK_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: BUILT_INS,\n    className: 'name',\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /}}/,\n    })\n  });\n\n  const CLOSING_BLOCK_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: BUILT_INS,\n    className: 'name'\n  });\n\n  const BASIC_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    className: 'name',\n    keywords: BUILT_INS,\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /}}/,\n    })\n  });\n\n  const ESCAPE_MUSTACHE_WITH_PRECEEDING_BACKSLASH = {begin: /\\\\\\{\\{/, skip: true};\n  const PREVENT_ESCAPE_WITH_ANOTHER_PRECEEDING_BACKSLASH = {begin: /\\\\\\\\(?=\\{\\{)/, skip: true};\n\n  return {\n    name: 'Handlebars',\n    aliases: ['hbs', 'html.hbs', 'html.handlebars', 'htmlbars'],\n    case_insensitive: true,\n    subLanguage: 'xml',\n    contains: [\n      ESCAPE_MUSTACHE_WITH_PRECEEDING_BACKSLASH,\n      PREVENT_ESCAPE_WITH_ANOTHER_PRECEEDING_BACKSLASH,\n      hljs.COMMENT(/\\{\\{!--/, /--\\}\\}/),\n      hljs.COMMENT(/\\{\\{!/, /\\}\\}/),\n      {\n        // open raw block \"{{{{raw}}}} content not evaluated {{{{/raw}}}}\"\n        className: 'template-tag',\n        begin: /\\{\\{\\{\\{(?!\\/)/,\n        end: /\\}\\}\\}\\}/,\n        contains: [OPENING_BLOCK_MUSTACHE_CONTENTS],\n        starts: {end: /\\{\\{\\{\\{\\//, returnEnd: true, subLanguage: 'xml'}\n      },\n      {\n        // close raw block\n        className: 'template-tag',\n        begin: /\\{\\{\\{\\{\\//,\n        end: /\\}\\}\\}\\}/,\n        contains: [CLOSING_BLOCK_MUSTACHE_CONTENTS]\n      },\n      {\n        // open block statement\n        className: 'template-tag',\n        begin: /\\{\\{#/,\n        end: /\\}\\}/,\n        contains: [OPENING_BLOCK_MUSTACHE_CONTENTS],\n      },\n      {\n        className: 'template-tag',\n        begin: /\\{\\{(?=else\\}\\})/,\n        end: /\\}\\}/,\n        keywords: 'else'\n      },\n      {\n        className: 'template-tag',\n        begin: /\\{\\{(?=else if)/,\n        end: /\\}\\}/,\n        keywords: 'else if'\n      },\n      {\n        // closing block statement\n        className: 'template-tag',\n        begin: /\\{\\{\\//,\n        end: /\\}\\}/,\n        contains: [CLOSING_BLOCK_MUSTACHE_CONTENTS],\n      },\n      {\n        // template variable or helper-call that is NOT html-escaped\n        className: 'template-variable',\n        begin: /\\{\\{\\{/,\n        end: /\\}\\}\\}/,\n        contains: [BASIC_MUSTACHE_CONTENTS]\n      },\n      {\n        // template variable or helper-call that is html-escaped\n        className: 'template-variable',\n        begin: /\\{\\{/,\n        end: /\\}\\}/,\n        contains: [BASIC_MUSTACHE_CONTENTS]\n      }\n    ]\n  };\n}\n\n/*\n Language: HTMLBars (legacy)\n Requires: xml.js\n Description: Matcher for Handlebars as well as EmberJS additions.\n Website: https://github.com/tildeio/htmlbars\n Category: template\n */\n\nfunction htmlbars(hljs) {\n  const definition = handlebars(hljs);\n\n  definition.name = \"HTMLbars\";\n\n  // HACK: This lets handlebars do the auto-detection if it's been loaded (by\n  // default the build script will load in alphabetical order) and if not (perhaps\n  // an install is only using `htmlbars`, not `handlebars`) then this will still\n  // allow HTMLBars to participate in the auto-detection\n\n  // worse case someone will have HTMLbars and handlebars competing for the same\n  // content and will need to change their setup to only require handlebars, but\n  // I don't consider this a breaking change\n  if (hljs.getLanguage(\"handlebars\")) {\n    definition.disableAutodetect = true;\n  }\n\n  return definition\n}\n\nmodule.exports = htmlbars;\n","/*\nLanguage: JSON\nDescription: JSON (JavaScript Object Notation) is a lightweight data-interchange format.\nAuthor: Ivan Sagalaev <maniac@softwaremaniacs.org>\nWebsite: http://www.json.org\nCategory: common, protocols\n*/\n\nfunction json(hljs) {\n  var LITERALS = {literal: 'true false null'};\n  var ALLOWED_COMMENTS = [\n    hljs.C_LINE_COMMENT_MODE,\n    hljs.C_BLOCK_COMMENT_MODE\n  ];\n  var TYPES = [\n    hljs.QUOTE_STRING_MODE,\n    hljs.C_NUMBER_MODE\n  ];\n  var VALUE_CONTAINER = {\n    end: ',', endsWithParent: true, excludeEnd: true,\n    contains: TYPES,\n    keywords: LITERALS\n  };\n  var OBJECT = {\n    begin: '{', end: '}',\n    contains: [\n      {\n        className: 'attr',\n        begin: /\"/, end: /\"/,\n        contains: [hljs.BACKSLASH_ESCAPE],\n        illegal: '\\\\n',\n      },\n      hljs.inherit(VALUE_CONTAINER, {begin: /:/})\n    ].concat(ALLOWED_COMMENTS),\n    illegal: '\\\\S'\n  };\n  var ARRAY = {\n    begin: '\\\\[', end: '\\\\]',\n    contains: [hljs.inherit(VALUE_CONTAINER)], // inherit is a workaround for a bug that makes shared modes with endsWithParent compile only the ending of one of the parents\n    illegal: '\\\\S'\n  };\n  TYPES.push(OBJECT, ARRAY);\n  ALLOWED_COMMENTS.forEach(function(rule) {\n    TYPES.push(rule);\n  });\n  return {\n    name: 'JSON',\n    contains: TYPES,\n    keywords: LITERALS,\n    illegal: '\\\\S'\n  };\n}\n\nmodule.exports = json;\n","/*\nLanguage: Markdown\nRequires: xml.js\nAuthor: John Crepezzi <john.crepezzi@gmail.com>\nWebsite: https://daringfireball.net/projects/markdown/\nCategory: common, markup\n*/\n\nfunction markdown(hljs) {\n  const INLINE_HTML = {\n    begin: '<', end: '>',\n    subLanguage: 'xml',\n    relevance: 0\n  };\n  const HORIZONTAL_RULE = {\n    begin: '^[-\\\\*]{3,}', end: '$'\n  };\n  const CODE = {\n    className: 'code',\n    variants: [\n      // TODO: fix to allow these to work with sublanguage also\n      { begin: '(`{3,})(.|\\\\n)*?\\\\1`*[ ]*', },\n      { begin: '(~{3,})(.|\\\\n)*?\\\\1~*[ ]*', },\n      // needed to allow markdown as a sublanguage to work\n      { begin: '```', end: '```+[ ]*$' },\n      { begin: '~~~', end: '~~~+[ ]*$' },\n      { begin: '`.+?`' },\n      {\n        begin: '(?=^( {4}|\\\\t))',\n        // use contains to gobble up multiple lines to allow the block to be whatever size\n        // but only have a single open/close tag vs one per line\n        contains: [\n          { begin: '^( {4}|\\\\t)', end: '(\\\\n)$' }\n        ],\n        relevance: 0\n      }\n    ]\n  };\n  const LIST = {\n    className: 'bullet',\n    begin: '^[ \\t]*([*+-]|(\\\\d+\\\\.))(?=\\\\s+)',\n    end: '\\\\s+',\n    excludeEnd: true\n  };\n  const LINK_REFERENCE = {\n    begin: /^\\[[^\\n]+\\]:/,\n    returnBegin: true,\n    contains: [\n      {\n        className: 'symbol',\n        begin: /\\[/, end: /\\]/,\n        excludeBegin: true, excludeEnd: true\n      },\n      {\n        className: 'link',\n        begin: /:\\s*/, end: /$/,\n        excludeBegin: true\n      }\n    ]\n  };\n  const LINK = {\n    begin: '\\\\[.+?\\\\][\\\\(\\\\[].*?[\\\\)\\\\]]',\n    returnBegin: true,\n    contains: [\n      {\n        className: 'string',\n        begin: '\\\\[', end: '\\\\]',\n        excludeBegin: true,\n        returnEnd: true,\n        relevance: 0\n      },\n      {\n        className: 'link',\n        begin: '\\\\]\\\\(', end: '\\\\)',\n        excludeBegin: true, excludeEnd: true\n      },\n      {\n        className: 'symbol',\n        begin: '\\\\]\\\\[', end: '\\\\]',\n        excludeBegin: true, excludeEnd: true\n      }\n    ],\n    relevance: 10\n  };\n  const BOLD = {\n    className: 'strong',\n    contains: [],\n    variants: [\n      {begin: /_{2}/, end: /_{2}/ },\n      {begin: /\\*{2}/, end: /\\*{2}/ }\n    ]\n  };\n  const ITALIC = {\n    className: 'emphasis',\n    contains: [],\n    variants: [\n      { begin: /\\*(?!\\*)/, end: /\\*/ },\n      { begin: /_(?!_)/, end: /_/, relevance: 0},\n    ]\n  };\n  BOLD.contains.push(ITALIC);\n  ITALIC.contains.push(BOLD);\n\n  var CONTAINABLE = [\n    INLINE_HTML,\n    LINK\n  ];\n\n  BOLD.contains = BOLD.contains.concat(CONTAINABLE);\n  ITALIC.contains = ITALIC.contains.concat(CONTAINABLE);\n\n  CONTAINABLE = CONTAINABLE.concat(BOLD,ITALIC);\n\n  const HEADER = {\n    className: 'section',\n    variants: [\n      {\n        begin: '^#{1,6}',\n        end: '$',\n        contains: CONTAINABLE\n       },\n      {\n        begin: '(?=^.+?\\\\n[=-]{2,}$)',\n        contains: [\n          { begin: '^[=-]*$' },\n          { begin: '^', end: \"\\\\n\", contains: CONTAINABLE },\n        ]\n       }\n    ]\n  };\n\n  const BLOCKQUOTE = {\n    className: 'quote',\n    begin: '^>\\\\s+',\n    contains: CONTAINABLE,\n    end: '$',\n  };\n\n  return {\n    name: 'Markdown',\n    aliases: ['md', 'mkdown', 'mkd'],\n    contains: [\n      HEADER,\n      INLINE_HTML,\n      LIST,\n      BOLD,\n      ITALIC,\n      BLOCKQUOTE,\n      CODE,\n      HORIZONTAL_RULE,\n      LINK,\n      LINK_REFERENCE\n    ]\n  };\n}\n\nmodule.exports = markdown;\n","/*\n Language: SQL\n Contributors: Nikolay Lisienko <info@neor.ru>, Heiko August <post@auge8472.de>, Travis Odom <travis.a.odom@gmail.com>, Vadimtro <vadimtro@yahoo.com>, Benjamin Auder <benjamin.auder@gmail.com>\n Website: https://en.wikipedia.org/wiki/SQL\n Category: common\n */\n\nfunction sql(hljs) {\n  var COMMENT_MODE = hljs.COMMENT('--', '$');\n  return {\n    name: 'SQL',\n    case_insensitive: true,\n    illegal: /[<>{}*]/,\n    contains: [\n      {\n        beginKeywords:\n          'begin end start commit rollback savepoint lock alter create drop rename call ' +\n          'delete do handler insert load replace select truncate update set show pragma grant ' +\n          'merge describe use explain help declare prepare execute deallocate release ' +\n          'unlock purge reset change stop analyze cache flush optimize repair kill ' +\n          'install uninstall checksum restore check backup revoke comment values with',\n        end: /;/, endsWithParent: true,\n        keywords: {\n          $pattern: /[\\w\\.]+/,\n          keyword:\n            'as abort abs absolute acc acce accep accept access accessed accessible account acos action activate add ' +\n            'addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias ' +\n            'all allocate allow alter always analyze ancillary and anti any anydata anydataset anyschema anytype apply ' +\n            'archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan ' +\n            'atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid ' +\n            'authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile ' +\n            'before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float ' +\n            'binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound ' +\n            'bucket buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel ' +\n            'capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base ' +\n            'char_length character_length characters characterset charindex charset charsetform charsetid check ' +\n            'checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close ' +\n            'cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation ' +\n            'collect colu colum column column_value columns columns_updated comment commit compact compatibility ' +\n            'compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn ' +\n            'connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection ' +\n            'consider consistent constant constraint constraints constructor container content contents context ' +\n            'contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost ' +\n            'count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation ' +\n            'critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user ' +\n            'cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add ' +\n            'date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts ' +\n            'day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate ' +\n            'declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults ' +\n            'deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank ' +\n            'depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor ' +\n            'deterministic diagnostics difference dimension direct_load directory disable disable_all ' +\n            'disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div ' +\n            'do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable ' +\n            'editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt ' +\n            'end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors ' +\n            'escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding ' +\n            'execu execut execute exempt exists exit exp expire explain explode export export_set extended extent external ' +\n            'external_1 external_2 externally extract failed failed_login_attempts failover failure far fast ' +\n            'feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final ' +\n            'finish first first_value fixed flash_cache flashback floor flush following follows for forall force foreign ' +\n            'form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ' +\n            'ftp full function general generated get get_format get_lock getdate getutcdate global global_name ' +\n            'globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups ' +\n            'gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex ' +\n            'hierarchy high high_priority hosts hour hours http id ident_current ident_incr ident_seed identified ' +\n            'identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment ' +\n            'index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile ' +\n            'initial initialized initially initrans inmemory inner innodb input insert install instance instantiable ' +\n            'instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat ' +\n            'is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists ' +\n            'keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lateral lax lcase ' +\n            'lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit ' +\n            'lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate ' +\n            'locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call ' +\n            'logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime ' +\n            'managed management manual map mapping mask master master_pos_wait match matched materialized max ' +\n            'maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans ' +\n            'md5 measures median medium member memcompress memory merge microsecond mid migration min minextents ' +\n            'minimum mining minus minute minutes minvalue missing mod mode model modification modify module monitoring month ' +\n            'months mount move movement multiset mutex name name_const names nan national native natural nav nchar ' +\n            'nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile ' +\n            'nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile ' +\n            'nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder ' +\n            'nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck ' +\n            'noswitch not nothing notice notnull notrim novalidate now nowait nth_value nullif nulls num numb numbe ' +\n            'nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ' +\n            'ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old ' +\n            'on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date ' +\n            'oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary ' +\n            'out outer outfile outline output over overflow overriding package pad parallel parallel_enable ' +\n            'parameters parent parse partial partition partitions pascal passing password password_grace_time ' +\n            'password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex ' +\n            'pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc ' +\n            'performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin ' +\n            'policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction ' +\n            'prediction_cost prediction_details prediction_probability prediction_set prepare present preserve ' +\n            'prior priority private private_sga privileges procedural procedure procedure_analyze processlist ' +\n            'profiles project prompt protection public publishingservername purge quarter query quick quiesce quota ' +\n            'quotename radians raise rand range rank raw read reads readsize rebuild record records ' +\n            'recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh ' +\n            'regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy ' +\n            'reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename ' +\n            'repair repeat replace replicate replication required reset resetlogs resize resource respect restore ' +\n            'restricted result result_cache resumable resume retention return returning returns reuse reverse revoke ' +\n            'right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows ' +\n            'rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll ' +\n            'sdo_georaster sdo_topo_geometry search sec_to_time second seconds section securefile security seed segment select ' +\n            'self semi sequence sequential serializable server servererror session session_user sessions_per_user set ' +\n            'sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor ' +\n            'si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin ' +\n            'size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex ' +\n            'source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows ' +\n            'sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone ' +\n            'standby start starting startup statement static statistics stats_binomial_test stats_crosstab ' +\n            'stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep ' +\n            'stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev ' +\n            'stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate ' +\n            'subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum ' +\n            'suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate ' +\n            'sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tablesample tan tdo ' +\n            'template temporary terminated tertiary_weights test than then thread through tier ties time time_format ' +\n            'time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr ' +\n            'timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking ' +\n            'transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate ' +\n            'try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress ' +\n            'under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unnest unpivot ' +\n            'unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert ' +\n            'url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date ' +\n            'utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var ' +\n            'var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray ' +\n            'verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear ' +\n            'wellformed when whene whenev wheneve whenever where while whitespace window with within without work wrapped ' +\n            'xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces ' +\n            'xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek',\n          literal:\n            'true false null unknown',\n          built_in:\n            'array bigint binary bit blob bool boolean char character date dec decimal float int int8 integer interval number ' +\n            'numeric real record serial serial8 smallint text time timestamp tinyint varchar varchar2 varying void'\n        },\n        contains: [\n          {\n            className: 'string',\n            begin: '\\'', end: '\\'',\n            contains: [{begin: '\\'\\''}]\n          },\n          {\n            className: 'string',\n            begin: '\"', end: '\"',\n            contains: [{begin: '\"\"'}]\n          },\n          {\n            className: 'string',\n            begin: '`', end: '`'\n          },\n          hljs.C_NUMBER_MODE,\n          hljs.C_BLOCK_COMMENT_MODE,\n          COMMENT_MODE,\n          hljs.HASH_COMMENT_MODE\n        ]\n      },\n      hljs.C_BLOCK_COMMENT_MODE,\n      COMMENT_MODE,\n      hljs.HASH_COMMENT_MODE\n    ]\n  };\n}\n\nmodule.exports = sql;\n","function t(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[t],o=i?\"function\"==typeof i?i.apply(null,r):i:\"unknown error nr: \"+t;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+t+(r.length?\" \"+r.map((function(t){return\"'\"+t+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function n(t){return!!t&&!!t[Q]}function r(t){return!!t&&(function(t){if(!t||\"object\"!=typeof t)return!1;var n=Object.getPrototypeOf(t);return!n||n===Object.prototype}(t)||Array.isArray(t)||!!t[L]||!!t.constructor[L]||s(t)||v(t))}function e(r){return n(r)||t(23,r),r[Q].t}function i(t,n,r){void 0===r&&(r=!1),0===o(t)?(r?Object.keys:Z)(t).forEach((function(e){r&&\"symbol\"==typeof e||n(e,t[e],t)})):t.forEach((function(r,e){return n(e,r,t)}))}function o(t){var n=t[Q];return n?n.i>3?n.i-4:n.i:Array.isArray(t)?1:s(t)?2:v(t)?3:0}function u(t,n){return 2===o(t)?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function a(t,n){return 2===o(t)?t.get(n):t[n]}function f(t,n,r){var e=o(t);2===e?t.set(n,r):3===e?(t.delete(n),t.add(r)):t[n]=r}function c(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}function s(t){return X&&t instanceof Map}function v(t){return q&&t instanceof Set}function p(t){return t.o||t.t}function l(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=tt(t);delete n[Q];for(var r=Z(n),e=0;e<r.length;e++){var i=r[e],o=n[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),n)}function d(t,e){return void 0===e&&(e=!1),y(t)||n(t)||!r(t)?t:(o(t)>1&&(t.set=t.add=t.clear=t.delete=h),Object.freeze(t),e&&i(t,(function(t,n){return d(n,!0)}),!0),t)}function h(){t(2)}function y(t){return null==t||\"object\"!=typeof t||Object.isFrozen(t)}function b(n){var r=nt[n];return r||t(18,n),r}function m(t,n){nt[t]||(nt[t]=n)}function _(){return\"production\"===process.env.NODE_ENV||U||t(0),U}function j(t,n){n&&(b(\"Patches\"),t.u=[],t.s=[],t.v=n)}function g(t){w(t),t.p.forEach(S),t.p=null}function w(t){t===U&&(U=t.l)}function O(t){return U={p:[],l:U,h:t,m:!0,_:0}}function S(t){var n=t[Q];0===n.i||1===n.i?n.j():n.g=!0}function P(n,e){e._=e.p.length;var i=e.p[0],o=void 0!==n&&n!==i;return e.h.O||b(\"ES5\").S(e,n,o),o?(i[Q].P&&(g(e),t(4)),r(n)&&(n=M(e,n),e.l||x(e,n)),e.u&&b(\"Patches\").M(i[Q],n,e.u,e.s)):n=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),n!==H?n:void 0}function M(t,n,r){if(y(n))return n;var e=n[Q];if(!e)return i(n,(function(i,o){return A(t,e,n,i,o,r)}),!0),n;if(e.A!==t)return n;if(!e.P)return x(t,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o;i(3===e.i?new Set(o):o,(function(n,i){return A(t,e,o,n,i,r)})),x(t,o,!1),r&&t.u&&b(\"Patches\").R(e,r,t.u,t.s)}return e.o}function A(e,i,o,a,c,s){if(\"production\"!==process.env.NODE_ENV&&c===o&&t(5),n(c)){var v=M(e,c,s&&i&&3!==i.i&&!u(i.D,a)?s.concat(a):void 0);if(f(o,a,v),!n(v))return;e.m=!1}if(r(c)&&!y(c)){if(!e.h.N&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(t,n,r){void 0===r&&(r=!1),t.h.N&&t.m&&d(n,r)}function z(t,n){var r=t[Q];return(r?p(r):t)[n]}function I(t,n){if(n in t)for(var r=Object.getPrototypeOf(t);r;){var e=Object.getOwnPropertyDescriptor(r,n);if(e)return e;r=Object.getPrototypeOf(r)}}function k(t){t.P||(t.P=!0,t.l&&k(t.l))}function E(t){t.o||(t.o=l(t.t))}function R(t,n,r){var e=s(n)?b(\"MapSet\").T(n,r):v(n)?b(\"MapSet\").F(n,r):t.O?function(t,n){var r=Array.isArray(t),e={i:r?1:0,A:n?n.A:_(),P:!1,I:!1,D:{},l:n,t:t,k:null,o:null,j:null,C:!1},i=e,o=rt;r&&(i=[e],o=et);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(n,r):b(\"ES5\").J(n,r);return(r?r.A:_()).p.push(e),e}function D(e){return n(e)||t(22,e),function t(n){if(!r(n))return n;var e,u=n[Q],c=o(n);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=N(n,c),u.I=!1}else e=N(n,c);return i(e,(function(n,r){u&&a(u.t,n)===r||f(e,n,t(r))})),3===c?new Set(e):e}(e)}function N(t,n){switch(n){case 2:return new Map(t);case 3:return Array.from(t)}return l(t)}function T(){function r(t,n){var r=s[t];return r?r.enumerable=n:s[t]=r={configurable:!0,enumerable:n,get:function(){var n=this[Q];return\"production\"!==process.env.NODE_ENV&&f(n),rt.get(n,t)},set:function(n){var r=this[Q];\"production\"!==process.env.NODE_ENV&&f(r),rt.set(r,t,n)}},r}function e(t){for(var n=t.length-1;n>=0;n--){var r=t[n][Q];if(!r.P)switch(r.i){case 5:a(r)&&k(r);break;case 4:o(r)&&k(r)}}}function o(t){for(var n=t.t,r=t.k,e=Z(r),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=n[o];if(void 0===a&&!u(n,o))return!0;var f=r[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!n[Q];return e.length!==Z(n).length+(v?0:1)}function a(t){var n=t.k;if(n.length!==t.t.length)return!0;var r=Object.getOwnPropertyDescriptor(n,n.length-1);return!(!r||r.get)}function f(n){n.g&&t(3,JSON.stringify(p(n)))}var s={};m(\"ES5\",{J:function(t,n){var e=Array.isArray(t),i=function(t,n){if(t){for(var e=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(e,\"\"+i,r(i,!0));return e}var o=tt(n);delete o[Q];for(var u=Z(o),a=0;a<u.length;a++){var f=u[a];o[f]=r(f,t||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(e,t),o={i:e?5:4,A:n?n.A:_(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(t,r,o){o?n(r)&&r[Q].A===t&&e(t.p):(t.u&&function t(n){if(n&&\"object\"==typeof n){var r=n[Q];if(r){var e=r.t,o=r.k,f=r.D,c=r.i;if(4===c)i(o,(function(n){n!==Q&&(void 0!==e[n]||u(e,n)?f[n]||t(o[n]):(f[n]=!0,k(r)))})),i(e,(function(t){void 0!==o[t]||u(o,t)||(f[t]=!1,k(r))}));else if(5===c){if(a(r)&&(k(r),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)void 0===f[l]&&t(o[l])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?o(t):a(t)}})}function F(){function e(t){if(!r(t))return t;if(Array.isArray(t))return t.map(e);if(s(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(v(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var i in t)n[i]=e(t[i]);return n}function f(t){return n(t)?e(t):t}var c=\"add\";m(\"Patches\",{$:function(n,r){return r.forEach((function(r){for(var i=r.path,u=r.op,f=n,s=0;s<i.length-1;s++){var v=o(f),p=i[s];0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||t(24),\"function\"==typeof f&&\"prototype\"===p&&t(24),\"object\"!=typeof(f=a(f,p))&&t(15,i.join(\"/\"))}var l=o(f),d=e(r.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:t(16);default:return f[h]=d}case c:switch(l){case 1:return f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(r.value);default:return delete f[h]}default:t(17,u)}})),n},R:function(t,n,r,e){switch(t.i){case 0:case 4:case 2:return function(t,n,r,e){var o=t.t,s=t.o;i(t.D,(function(t,i){var v=a(o,t),p=a(s,t),l=i?u(o,t)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=n.concat(t);r.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(t,n,r,e);case 5:case 1:return function(t,n,r,e){var i=t.t,o=t.D,u=t.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,r];r=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=n.concat([v]);r.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=n.concat([l]);r.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:n.concat([\"length\"]),value:i.length})}(t,n,r,e);case 3:return function(t,n,r,e){var i=t.t,o=t.o,u=0;i.forEach((function(t){if(!o.has(t)){var i=n.concat([u]);r.push({op:\"remove\",path:i,value:t}),e.unshift({op:c,path:i,value:t})}u++})),u=0,o.forEach((function(t){if(!i.has(t)){var o=n.concat([u]);r.push({op:c,path:o,value:t}),e.unshift({op:\"remove\",path:o,value:t})}u++}))}(t,n,r,e)}},M:function(t,n,r,e){r.push({op:\"replace\",path:[],value:n}),e.push({op:\"replace\",path:[],value:t.t})}})}function C(){function n(t,n){function r(){this.constructor=t}a(t,n),t.prototype=(r.prototype=n.prototype,new r)}function e(t){t.o||(t.D=new Map,t.o=new Map(t.t))}function o(t){t.o||(t.o=new Set,t.t.forEach((function(n){if(r(n)){var e=R(t.A.h,n,t);t.p.set(n,e),t.o.add(e)}else t.o.add(n)})))}function u(n){n.g&&t(3,JSON.stringify(p(n)))}var a=function(t,n){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},f=function(){function t(t,n){return this[Q]={i:2,l:n,A:n?n.A:_(),P:!1,I:!1,o:void 0,D:void 0,t:t,k:this,C:!1,g:!1},this}n(t,Map);var o=t.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(t){return p(this[Q]).has(t)},o.set=function(t,n){var r=this[Q];return u(r),p(r).has(t)&&p(r).get(t)===n||(e(r),k(r),r.D.set(t,!0),r.o.set(t,n),r.D.set(t,!0)),this},o.delete=function(t){if(!this.has(t))return!1;var n=this[Q];return u(n),e(n),k(n),n.D.set(t,!1),n.o.delete(t),!0},o.clear=function(){var t=this[Q];u(t),p(t).size&&(e(t),k(t),t.D=new Map,i(t.t,(function(n){t.D.set(n,!1)})),t.o.clear())},o.forEach=function(t,n){var r=this;p(this[Q]).forEach((function(e,i){t.call(n,r.get(i),i,r)}))},o.get=function(t){var n=this[Q];u(n);var i=p(n).get(t);if(n.I||!r(i))return i;if(i!==n.t.get(t))return i;var o=R(n.A.h,i,n);return e(n),n.o.set(t,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var t,n=this,r=this.keys();return(t={})[V]=function(){return n.values()},t.next=function(){var t=r.next();return t.done?t:{done:!1,value:n.get(t.value)}},t},o.entries=function(){var t,n=this,r=this.keys();return(t={})[V]=function(){return n.entries()},t.next=function(){var t=r.next();if(t.done)return t;var e=n.get(t.value);return{done:!1,value:[t.value,e]}},t},o[V]=function(){return this.entries()},t}(),c=function(){function t(t,n){return this[Q]={i:3,l:n,A:n?n.A:_(),P:!1,I:!1,o:void 0,t:t,k:this,p:new Map,g:!1,C:!1},this}n(t,Set);var r=t.prototype;return Object.defineProperty(r,\"size\",{get:function(){return p(this[Q]).size}}),r.has=function(t){var n=this[Q];return u(n),n.o?!!n.o.has(t)||!(!n.p.has(t)||!n.o.has(n.p.get(t))):n.t.has(t)},r.add=function(t){var n=this[Q];return u(n),this.has(t)||(o(n),k(n),n.o.add(t)),this},r.delete=function(t){if(!this.has(t))return!1;var n=this[Q];return u(n),o(n),k(n),n.o.delete(t)||!!n.p.has(t)&&n.o.delete(n.p.get(t))},r.clear=function(){var t=this[Q];u(t),p(t).size&&(o(t),k(t),t.o.clear())},r.values=function(){var t=this[Q];return u(t),o(t),t.o.values()},r.entries=function(){var t=this[Q];return u(t),o(t),t.o.entries()},r.keys=function(){return this.values()},r[V]=function(){return this.values()},r.forEach=function(t,n){for(var r=this.values(),e=r.next();!e.done;)t.call(n,e.value,e.value,this),e=r.next()},t}();m(\"MapSet\",{T:function(t,n){return new f(t,n)},F:function(t,n){return new c(t,n)}})}function J(){T(),C(),F()}function K(t){return t}function $(t){return t}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(t){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+t},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(t){return\"Cannot apply patch, path doesn't resolve: \"+t},16:'Sets cannot have \"replace\" patches.',17:function(t){return\"Unsupported patch operation: \"+t},18:function(t){return\"The plugin for '\"+t+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+t+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(t){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+t+\"'\"},22:function(t){return\"'current' expects a draft, got: \"+t},23:function(t){return\"'original' expects a draft, got: \"+t},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,tt=Object.getOwnPropertyDescriptors||function(t){var n={};return Z(t).forEach((function(r){n[r]=Object.getOwnPropertyDescriptor(t,r)})),n},nt={},rt={get:function(t,n){if(n===Q)return t;var e=p(t);if(!u(e,n))return function(t,n,r){var e,i=I(n,r);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(t.k):void 0}(t,e,n);var i=e[n];return t.I||!r(i)?i:i===z(t.t,n)?(E(t),t.o[n]=R(t.A.h,i,t)):i},has:function(t,n){return n in p(t)},ownKeys:function(t){return Reflect.ownKeys(p(t))},set:function(t,n,r){var e=I(p(t),n);if(null==e?void 0:e.set)return e.set.call(t.k,r),!0;if(!t.P){var i=z(p(t),n),o=null==i?void 0:i[Q];if(o&&o.t===r)return t.o[n]=r,t.D[n]=!1,!0;if(c(r,i)&&(void 0!==r||u(t.t,n)))return!0;E(t),k(t)}return t.o[n]=r,t.D[n]=!0,!0},deleteProperty:function(t,n){return void 0!==z(t.t,n)||n in t.t?(t.D[n]=!1,E(t),k(t)):delete t.D[n],t.o&&delete t.o[n],!0},getOwnPropertyDescriptor:function(t,n){var r=p(t),e=Reflect.getOwnPropertyDescriptor(r,n);return e?{writable:!0,configurable:1!==t.i||\"length\"!==n,enumerable:e.enumerable,value:r[n]}:e},defineProperty:function(){t(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){t(12)}},et={};i(rt,(function(t,n){et[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),et.deleteProperty=function(n,r){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(r))&&t(13),rt.deleteProperty.call(this,n[0],r)},et.set=function(n,r,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==r&&isNaN(parseInt(r))&&t(14),rt.set.call(this,n[0],r,e,n[0])};var it=function(){function e(t){this.O=B,this.N=!0,\"boolean\"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),\"boolean\"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var i=e.prototype;return i.produce=function(n,e,i){if(\"function\"==typeof n&&\"function\"!=typeof e){var o=e;e=n;var u=this;return function(t){var n=this;void 0===t&&(t=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return u.produce(t,(function(t){var r;return(r=e).call.apply(r,[n,t].concat(i))}))}}var a;if(\"function\"!=typeof e&&t(6),void 0!==i&&\"function\"!=typeof i&&t(7),r(n)){var f=O(this),c=R(this,n,void 0),s=!0;try{a=e(c),s=!1}finally{s?g(f):w(f)}return\"undefined\"!=typeof Promise&&a instanceof Promise?a.then((function(t){return j(f,i),P(t,f)}),(function(t){throw g(f),t})):(j(f,i),P(a,f))}if(!n||\"object\"!=typeof n){if((a=e(n))===H)return;return void 0===a&&(a=n),this.N&&d(a,!0),a}t(21,n)},i.produceWithPatches=function(t,n){var r,e,i=this;return\"function\"==typeof t?function(n){for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return i.produceWithPatches(n,(function(n){return t.apply(void 0,[n].concat(e))}))}:[this.produce(t,n,(function(t,n){r=t,e=n})),r,e]},i.createDraft=function(e){r(e)||t(8),n(e)&&(e=D(e));var i=O(this),o=R(this,e,void 0);return o[Q].C=!0,w(i),o},i.finishDraft=function(n,r){var e=n&&n[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||t(9),e.I&&t(10));var i=e.A;return j(i,r),P(void 0,i)},i.setAutoFreeze=function(t){this.N=t},i.setUseProxies=function(n){n&&!B&&t(20),this.O=n},i.applyPatches=function(t,r){var e;for(e=r.length-1;e>=0;e--){var i=r[e];if(0===i.path.length&&\"replace\"===i.op){t=i.value;break}}var o=b(\"Patches\").$;return n(t)?o(t,r):this.produce(t,(function(t){return o(t,r.slice(e+1))}))},e}(),ot=new it,ut=ot.produce,at=ot.produceWithPatches.bind(ot),ft=ot.setAutoFreeze.bind(ot),ct=ot.setUseProxies.bind(ot),st=ot.applyPatches.bind(ot),vt=ot.createDraft.bind(ot),pt=ot.finishDraft.bind(ot);export default ut;export{it as Immer,st as applyPatches,K as castDraft,$ as castImmutable,vt as createDraft,D as current,J as enableAllPlugins,T as enableES5,C as enableMapSet,F as enablePatches,pt as finishDraft,d as freeze,L as immerable,n as isDraft,r as isDraftable,H as nothing,e as original,ut as produce,at as produceWithPatches,ft as setAutoFreeze,ct as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","import _pt from \"prop-types\";\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\n\nvar Element = function (_React$PureComponent) {\n  _inheritsLoose(Element, _React$PureComponent);\n\n  function Element() {\n    return _React$PureComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = Element.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _this$props$attribute = _this$props.attributes,\n        attributes = _this$props$attribute === void 0 ? {} : _this$props$attribute,\n        _this$props$children = _this$props.children,\n        children = _this$props$children === void 0 ? null : _this$props$children,\n        _this$props$selfClose = _this$props.selfClose,\n        selfClose = _this$props$selfClose === void 0 ? false : _this$props$selfClose,\n        Tag = _this$props.tagName;\n    return selfClose ? React.createElement(Tag, attributes) : React.createElement(Tag, attributes, children);\n  };\n\n  return Element;\n}(React.PureComponent);\n\n_defineProperty(Element, \"propTypes\", {\n  attributes: _pt.any,\n  children: _pt.node,\n  selfClose: _pt.bool,\n  tagName: _pt.string.isRequired\n});\n\nexport { Element as default };","var Filter = function () {\n  function Filter() {}\n\n  var _proto = Filter.prototype;\n\n  _proto.attribute = function attribute(name, value) {\n    return value;\n  };\n\n  _proto.node = function (_node) {\n    function node(_x, _x2) {\n      return _node.apply(this, arguments);\n    }\n\n    node.toString = function () {\n      return _node.toString();\n    };\n\n    return node;\n  }(function (name, node) {\n    return node;\n  });\n\n  return Filter;\n}();\n\nexport { Filter as default };","import _pt from \"prop-types\";\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Parser from './Parser';\nimport Markup from './Markup';\n\nvar Interweave = function (_React$PureComponent) {\n  _inheritsLoose(Interweave, _React$PureComponent);\n\n  function Interweave() {\n    return _React$PureComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = Interweave.prototype;\n\n  _proto.parseMarkup = function parseMarkup() {\n    var _this = this;\n\n    var _ref = this.props,\n        content = _ref.content,\n        disableFilters = _ref.disableFilters,\n        disableMatchers = _ref.disableMatchers,\n        emptyContent = _ref.emptyContent,\n        filters = _ref.filters,\n        matchers = _ref.matchers,\n        onAfterParse = _ref.onAfterParse,\n        onBeforeParse = _ref.onBeforeParse,\n        tagName = _ref.tagName,\n        props = _objectWithoutPropertiesLoose(_ref, [\"content\", \"disableFilters\", \"disableMatchers\", \"emptyContent\", \"filters\", \"matchers\", \"onAfterParse\", \"onBeforeParse\", \"tagName\"]);\n\n    var allMatchers = disableMatchers ? [] : matchers;\n    var allFilters = disableFilters ? [] : filters;\n    var beforeCallbacks = onBeforeParse ? [onBeforeParse] : [];\n    var afterCallbacks = onAfterParse ? [onAfterParse] : [];\n    allMatchers.forEach(function (matcher) {\n      if (matcher.onBeforeParse) {\n        beforeCallbacks.push(matcher.onBeforeParse.bind(matcher));\n      }\n\n      if (matcher.onAfterParse) {\n        afterCallbacks.push(matcher.onAfterParse.bind(matcher));\n      }\n    });\n    var markup = beforeCallbacks.reduce(function (string, callback) {\n      var nextString = callback(string, _this.props);\n\n      if (\"production\" !== process.env.NODE_ENV) {\n        if (typeof nextString !== 'string') {\n          throw new TypeError('Interweave `onBeforeParse` must return a valid HTML string.');\n        }\n      }\n\n      return nextString;\n    }, content || '');\n    var parser = new Parser(markup, props, allMatchers, allFilters);\n    var nodes = afterCallbacks.reduce(function (parserNodes, callback) {\n      var nextNodes = callback(parserNodes, _this.props);\n\n      if (\"production\" !== process.env.NODE_ENV) {\n        if (!Array.isArray(nextNodes)) {\n          throw new TypeError('Interweave `onAfterParse` must return an array of strings and React elements.');\n        }\n      }\n\n      return nextNodes;\n    }, parser.parse());\n\n    if (nodes.length === 0) {\n      return emptyContent;\n    }\n\n    return nodes;\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        emptyContent = _this$props.emptyContent,\n        tagName = _this$props.tagName;\n    return React.createElement(Markup, {\n      emptyContent: emptyContent,\n      tagName: tagName,\n      parsedContent: this.parseMarkup()\n    });\n  };\n\n  return Interweave;\n}(React.PureComponent);\n\n_defineProperty(Interweave, \"propTypes\", {\n  disableFilters: _pt.bool,\n  disableMatchers: _pt.bool,\n  filters: _pt.arrayOf(_pt.any),\n  matchers: _pt.arrayOf(_pt.any),\n  onAfterParse: _pt.oneOfType([_pt.any, _pt.oneOf([null])]),\n  onBeforeParse: _pt.oneOfType([_pt.any, _pt.oneOf([null])])\n});\n\n_defineProperty(Interweave, \"defaultProps\", {\n  content: '',\n  disableFilters: false,\n  disableMatchers: false,\n  emptyContent: null,\n  filters: [],\n  matchers: [],\n  onAfterParse: null,\n  onBeforeParse: null,\n  tagName: 'span'\n});\n\nexport { Interweave as default };","import _pt from \"prop-types\";\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Element from './Element';\nimport Parser from './Parser';\n\nvar Markup = function (_React$PureComponent) {\n  _inheritsLoose(Markup, _React$PureComponent);\n\n  function Markup() {\n    return _React$PureComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = Markup.prototype;\n\n  _proto.getContent = function getContent() {\n    var _this$props = this.props,\n        content = _this$props.content,\n        emptyContent = _this$props.emptyContent,\n        parsedContent = _this$props.parsedContent,\n        tagName = _this$props.tagName,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"content\", \"emptyContent\", \"parsedContent\", \"tagName\"]);\n\n    if (parsedContent) {\n      return parsedContent;\n    }\n\n    var markup = new Parser(content || '', props).parse();\n    return markup.length > 0 ? markup : null;\n  };\n\n  _proto.render = function render() {\n    var content = this.getContent() || this.props.emptyContent;\n    var tag = this.props.tagName || 'div';\n    return tag === 'fragment' ? React.createElement(React.Fragment, null, content) : React.createElement(Element, {\n      tagName: tag\n    }, content);\n  };\n\n  return Markup;\n}(React.PureComponent);\n\n_defineProperty(Markup, \"propTypes\", {\n  content: _pt.oneOfType([_pt.string, _pt.oneOf([null])]),\n  emptyContent: _pt.node,\n  parsedContent: _pt.node,\n  tagName: _pt.oneOfType([_pt.oneOf(['fragment']), _pt.string])\n});\n\n_defineProperty(Markup, \"defaultProps\", {\n  content: '',\n  emptyContent: null,\n  parsedContent: null,\n  tagName: 'div'\n});\n\nexport { Markup as default };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\n\nvar Matcher = function () {\n  function Matcher(name, options, factory) {\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"propName\", void 0);\n\n    _defineProperty(this, \"inverseName\", void 0);\n\n    _defineProperty(this, \"factory\", void 0);\n\n    if (\"production\" !== process.env.NODE_ENV) {\n      if (!name || name.toLowerCase() === 'html') {\n        throw new Error(\"The matcher name \\\"\" + name + \"\\\" is not allowed.\");\n      }\n    }\n\n    this.options = _extends({}, options);\n    this.propName = name;\n    this.inverseName = \"no\" + (name.charAt(0).toUpperCase() + name.slice(1));\n    this.factory = factory || null;\n  }\n\n  var _proto = Matcher.prototype;\n\n  _proto.createElement = function createElement(match, props) {\n    var element = null;\n\n    if (this.factory) {\n      element = React.createElement(this.factory, props, match);\n    } else {\n      element = this.replaceWith(match, props);\n    }\n\n    if (\"production\" !== process.env.NODE_ENV) {\n      if (typeof element !== 'string' && !React.isValidElement(element)) {\n        throw new Error(\"Invalid React element created from \" + this.constructor.name + \".\");\n      }\n    }\n\n    return element;\n  };\n\n  _proto.doMatch = function doMatch(string, pattern, callback) {\n    var matches = string.match(pattern instanceof RegExp ? pattern : new RegExp(pattern, 'i'));\n\n    if (!matches) {\n      return null;\n    }\n\n    return _extends({}, callback(matches), {\n      match: matches[0]\n    });\n  };\n\n  _proto.onBeforeParse = function onBeforeParse(content, props) {\n    return content;\n  };\n\n  _proto.onAfterParse = function onAfterParse(content, props) {\n    return content;\n  };\n\n  return Matcher;\n}();\n\nexport { Matcher as default };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport escapeHtml from 'escape-html';\nimport Element from './Element';\nimport StyleFilter from './StyleFilter';\nimport { FILTER_DENY, FILTER_CAST_NUMBER, FILTER_CAST_BOOL, FILTER_NO_CAST, TAGS, BANNED_TAG_LIST, ALLOWED_TAG_LIST, ATTRIBUTES, ATTRIBUTES_TO_PROPS } from './constants';\nvar ELEMENT_NODE = 1;\nvar TEXT_NODE = 3;\nvar INVALID_ROOTS = /^<(!doctype|(html|head|body)(\\s|>))/i;\nvar ALLOWED_ATTRS = /^(aria\\x2D|data\\x2D|[0-9A-Z_a-z\\u017F\\u212A]+:)/i;\n\nvar Parser = function () {\n  function Parser(markup, props, matchers, filters) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (matchers === void 0) {\n      matchers = [];\n    }\n\n    if (filters === void 0) {\n      filters = [];\n    }\n\n    _defineProperty(this, \"allowed\", void 0);\n\n    _defineProperty(this, \"banned\", void 0);\n\n    _defineProperty(this, \"blocked\", void 0);\n\n    _defineProperty(this, \"doc\", void 0);\n\n    _defineProperty(this, \"content\", []);\n\n    _defineProperty(this, \"props\", void 0);\n\n    _defineProperty(this, \"matchers\", void 0);\n\n    _defineProperty(this, \"filters\", void 0);\n\n    _defineProperty(this, \"keyIndex\", void 0);\n\n    if (\"production\" !== process.env.NODE_ENV) {\n      if (markup && typeof markup !== 'string') {\n        throw new TypeError('Interweave parser requires a valid string.');\n      }\n    }\n\n    this.props = props;\n    this.matchers = matchers;\n    this.filters = [].concat(filters, [new StyleFilter()]);\n    this.keyIndex = -1;\n    this.doc = this.createDocument(markup || '');\n    this.allowed = new Set(props.allowList || ALLOWED_TAG_LIST);\n    this.banned = new Set(BANNED_TAG_LIST);\n    this.blocked = new Set(props.blockList);\n  }\n\n  var _proto = Parser.prototype;\n\n  _proto.applyAttributeFilters = function applyAttributeFilters(name, value) {\n    return this.filters.reduce(function (nextValue, filter) {\n      return nextValue !== null && typeof filter.attribute === 'function' ? filter.attribute(name, nextValue) : nextValue;\n    }, value);\n  };\n\n  _proto.applyNodeFilters = function applyNodeFilters(name, node) {\n    return this.filters.reduce(function (nextNode, filter) {\n      return nextNode !== null && typeof filter.node === 'function' ? filter.node(name, nextNode) : nextNode;\n    }, node);\n  };\n\n  _proto.applyMatchers = function applyMatchers(string, parentConfig) {\n    var _this = this;\n\n    var elements = [];\n    var props = this.props;\n    var matchedString = string;\n    var parts = null;\n    this.matchers.forEach(function (matcher) {\n      var tagName = matcher.asTag().toLowerCase();\n\n      var config = _this.getTagConfig(tagName);\n\n      if (props[matcher.inverseName] || !_this.isTagAllowed(tagName)) {\n        return;\n      }\n\n      if (!_this.canRenderChild(parentConfig, config)) {\n        return;\n      }\n\n      while (parts = matcher.match(matchedString)) {\n        var _ref = parts,\n            match = _ref.match,\n            partProps = _objectWithoutPropertiesLoose(_ref, [\"match\"]);\n\n        matchedString = matchedString.replace(match, \"#{{\" + elements.length + \"}}#\");\n        _this.keyIndex += 1;\n        var element = matcher.createElement(match, _extends({}, props, {}, partProps, {\n          key: _this.keyIndex\n        }));\n\n        if (element) {\n          elements.push(element);\n        }\n      }\n    });\n\n    if (elements.length === 0) {\n      return matchedString;\n    }\n\n    var matchedArray = [];\n    var lastIndex = 0;\n\n    while (parts = matchedString.match(/#\\{\\{(\\d+)\\}\\}#/)) {\n      var _ref2 = parts,\n          no = _ref2[1];\n      var _ref3 = parts,\n          _ref3$index = _ref3.index,\n          index = _ref3$index === void 0 ? 0 : _ref3$index;\n\n      if (lastIndex !== index) {\n        matchedArray.push(matchedString.slice(lastIndex, index));\n      }\n\n      matchedArray.push(elements[parseInt(no, 10)]);\n      lastIndex = index + parts[0].length;\n      matchedString = matchedString.replace(\"#{{\" + no + \"}}#\", \"%{{\" + no + \"}}%\");\n    }\n\n    if (lastIndex < matchedString.length) {\n      matchedArray.push(matchedString.slice(lastIndex));\n    }\n\n    return matchedArray;\n  };\n\n  _proto.canRenderChild = function canRenderChild(parentConfig, childConfig) {\n    if (!parentConfig.tagName || !childConfig.tagName) {\n      return false;\n    }\n\n    if (parentConfig.void) {\n      return false;\n    }\n\n    if (parentConfig.children.length > 0) {\n      return parentConfig.children.includes(childConfig.tagName);\n    }\n\n    if (parentConfig.invalid.length > 0 && parentConfig.invalid.includes(childConfig.tagName)) {\n      return false;\n    }\n\n    if (childConfig.parent.length > 0) {\n      return childConfig.parent.includes(parentConfig.tagName);\n    }\n\n    if (!parentConfig.self && parentConfig.tagName === childConfig.tagName) {\n      return false;\n    }\n\n    return Boolean(parentConfig && parentConfig.content & childConfig.type);\n  };\n\n  _proto.convertLineBreaks = function convertLineBreaks(markup) {\n    var _this$props = this.props,\n        noHtml = _this$props.noHtml,\n        disableLineBreaks = _this$props.disableLineBreaks;\n\n    if (noHtml || disableLineBreaks || markup.match(/<((?:\\/[a-z ]+)|(?:[a-z ]+\\/))>/gi)) {\n      return markup;\n    }\n\n    var nextMarkup = markup.replace(/\\r\\n/g, '\\n');\n    nextMarkup = nextMarkup.replace(/\\n{3,}/g, '\\n\\n\\n');\n    nextMarkup = nextMarkup.replace(/\\n/g, '<br/>');\n    return nextMarkup;\n  };\n\n  _proto.createDocument = function createDocument(markup) {\n    var doc = document.implementation.createHTMLDocument('Interweave');\n\n    if (markup.match(INVALID_ROOTS)) {\n      if (\"production\" !== process.env.NODE_ENV) {\n        throw new Error('HTML documents as Interweave content are not supported.');\n      }\n    } else {\n      doc.body.innerHTML = this.convertLineBreaks(this.props.escapeHtml ? escapeHtml(markup) : markup);\n    }\n\n    return doc;\n  };\n\n  _proto.extractAttributes = function extractAttributes(node) {\n    var _this2 = this;\n\n    var allowAttributes = this.props.allowAttributes;\n    var attributes = {};\n    var count = 0;\n\n    if (node.nodeType !== ELEMENT_NODE || !node.attributes) {\n      return null;\n    }\n\n    Array.from(node.attributes).forEach(function (attr) {\n      var name = attr.name,\n          value = attr.value;\n      var newName = name.toLowerCase();\n      var filter = ATTRIBUTES[newName] || ATTRIBUTES[name];\n\n      if (!_this2.isSafe(node)) {\n        return;\n      }\n\n      if (!newName.match(ALLOWED_ATTRS)) {\n        if (!allowAttributes && (!filter || filter === FILTER_DENY) || newName.match(/^on/) || value.replace(/(\\s|\\0|&#x0(9|A|D);)/, '').match(/(javascript|vbscript|livescript|xss):/i)) {\n          return;\n        }\n      }\n\n      var newValue = newName === 'style' ? _this2.extractStyleAttribute(node) : value;\n\n      if (filter === FILTER_CAST_BOOL) {\n        newValue = true;\n      } else if (filter === FILTER_CAST_NUMBER) {\n        newValue = parseFloat(String(newValue));\n      } else if (filter !== FILTER_NO_CAST) {\n        newValue = String(newValue);\n      }\n\n      attributes[ATTRIBUTES_TO_PROPS[newName] || newName] = _this2.applyAttributeFilters(newName, newValue);\n      count += 1;\n    });\n\n    if (count === 0) {\n      return null;\n    }\n\n    return attributes;\n  };\n\n  _proto.extractStyleAttribute = function extractStyleAttribute(node) {\n    var styles = {};\n\n    var camelCase = function camelCase(match, letter) {\n      return letter.toUpperCase();\n    };\n\n    Array.from(node.style).forEach(function (key) {\n      var value = node.style[key];\n      styles[key.replace(/-([a-z])/g, camelCase)] = value;\n    });\n    return styles;\n  };\n\n  _proto.getTagConfig = function getTagConfig(tagName) {\n    var common = {\n      children: [],\n      content: 0,\n      invalid: [],\n      parent: [],\n      self: true,\n      tagName: '',\n      type: 0,\n      void: false\n    };\n\n    if (TAGS[tagName]) {\n      return _extends({}, common, {}, TAGS[tagName], {\n        tagName: tagName\n      });\n    }\n\n    return common;\n  };\n\n  _proto.isSafe = function isSafe(node) {\n    if (typeof HTMLAnchorElement !== 'undefined' && node instanceof HTMLAnchorElement) {\n      var href = node.getAttribute('href');\n\n      if (href && href.charAt(0) === '#') {\n        return true;\n      }\n\n      var protocol = node.protocol.toLowerCase();\n      return protocol === ':' || protocol === 'http:' || protocol === 'https:' || protocol === 'mailto:';\n    }\n\n    return true;\n  };\n\n  _proto.isTagAllowed = function isTagAllowed(tagName) {\n    if (this.banned.has(tagName) || this.blocked.has(tagName)) {\n      return false;\n    }\n\n    return this.props.allowElements || this.allowed.has(tagName);\n  };\n\n  _proto.parse = function parse() {\n    return this.parseNode(this.doc.body, this.getTagConfig('body'));\n  };\n\n  _proto.parseNode = function parseNode(parentNode, parentConfig) {\n    var _this3 = this;\n\n    var _this$props2 = this.props,\n        noHtml = _this$props2.noHtml,\n        noHtmlExceptMatchers = _this$props2.noHtmlExceptMatchers,\n        allowElements = _this$props2.allowElements,\n        transform = _this$props2.transform;\n    var content = [];\n    var mergedText = '';\n    Array.from(parentNode.childNodes).forEach(function (node) {\n      if (node.nodeType === ELEMENT_NODE) {\n        var tagName = node.nodeName.toLowerCase();\n\n        var config = _this3.getTagConfig(tagName);\n\n        if (mergedText) {\n          content.push(mergedText);\n          mergedText = '';\n        }\n\n        var nextNode = _this3.applyNodeFilters(tagName, node);\n\n        if (!nextNode) {\n          return;\n        }\n\n        var children;\n\n        if (transform) {\n          _this3.keyIndex += 1;\n          var _key = _this3.keyIndex;\n          children = _this3.parseNode(nextNode, config);\n          var transformed = transform(nextNode, children, config);\n\n          if (transformed === null) {\n            return;\n          } else if (typeof transformed !== 'undefined') {\n            content.push(React.cloneElement(transformed, {\n              key: _key\n            }));\n            return;\n          }\n\n          _this3.keyIndex = _key - 1;\n        }\n\n        if (_this3.banned.has(tagName)) {\n          return;\n        }\n\n        if (!(noHtml || noHtmlExceptMatchers && tagName !== 'br') && _this3.isTagAllowed(tagName) && (allowElements || _this3.canRenderChild(parentConfig, config))) {\n          _this3.keyIndex += 1;\n\n          var attributes = _this3.extractAttributes(nextNode);\n\n          var elementProps = {\n            tagName: tagName\n          };\n\n          if (attributes) {\n            elementProps.attributes = attributes;\n          }\n\n          if (config.void) {\n            elementProps.selfClose = config.void;\n          }\n\n          content.push(React.createElement(Element, _extends({}, elementProps, {\n            key: _this3.keyIndex\n          }), children || _this3.parseNode(nextNode, config)));\n        } else {\n          content = content.concat(_this3.parseNode(nextNode, config.tagName ? config : parentConfig));\n        }\n      } else if (node.nodeType === TEXT_NODE) {\n        var text = noHtml && !noHtmlExceptMatchers ? node.textContent : _this3.applyMatchers(node.textContent || '', parentConfig);\n\n        if (Array.isArray(text)) {\n          content = content.concat(text);\n        } else {\n          mergedText += text;\n        }\n      }\n    });\n\n    if (mergedText) {\n      content.push(mergedText);\n    }\n\n    return content;\n  };\n\n  return Parser;\n}();\n\nexport { Parser as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nimport Filter from './Filter';\nvar INVALID_STYLES = /(url|image|image-set)\\(/i;\n\nvar StyleFilter = function (_Filter) {\n  _inheritsLoose(StyleFilter, _Filter);\n\n  function StyleFilter() {\n    return _Filter.apply(this, arguments) || this;\n  }\n\n  var _proto = StyleFilter.prototype;\n\n  _proto.attribute = function attribute(name, value) {\n    if (name === 'style') {\n      Object.keys(value).forEach(function (key) {\n        if (String(value[key]).match(INVALID_STYLES)) {\n          delete value[key];\n        }\n      });\n    }\n\n    return value;\n  };\n\n  return StyleFilter;\n}(Filter);\n\nexport { StyleFilter as default };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nexport var TYPE_FLOW = 1;\nexport var TYPE_SECTION = 1 << 1;\nexport var TYPE_HEADING = 1 << 2;\nexport var TYPE_PHRASING = 1 << 3;\nexport var TYPE_EMBEDDED = 1 << 4;\nexport var TYPE_INTERACTIVE = 1 << 5;\nexport var TYPE_PALPABLE = 1 << 6;\nvar tagConfigs = {\n  a: {\n    content: TYPE_FLOW | TYPE_PHRASING,\n    self: false,\n    type: TYPE_FLOW | TYPE_PHRASING | TYPE_INTERACTIVE | TYPE_PALPABLE\n  },\n  address: {\n    invalid: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'address', 'article', 'aside', 'section', 'div', 'header', 'footer'],\n    self: false\n  },\n  audio: {\n    children: ['track', 'source']\n  },\n  br: {\n    type: TYPE_FLOW | TYPE_PHRASING,\n    void: true\n  },\n  body: {\n    content: TYPE_FLOW | TYPE_SECTION | TYPE_HEADING | TYPE_PHRASING | TYPE_EMBEDDED | TYPE_INTERACTIVE | TYPE_PALPABLE\n  },\n  button: {\n    content: TYPE_PHRASING,\n    type: TYPE_FLOW | TYPE_PHRASING | TYPE_INTERACTIVE | TYPE_PALPABLE\n  },\n  caption: {\n    content: TYPE_FLOW,\n    parent: ['table']\n  },\n  col: {\n    parent: ['colgroup'],\n    void: true\n  },\n  colgroup: {\n    children: ['col'],\n    parent: ['table']\n  },\n  details: {\n    children: ['summary'],\n    type: TYPE_FLOW | TYPE_INTERACTIVE | TYPE_PALPABLE\n  },\n  dd: {\n    content: TYPE_FLOW,\n    parent: ['dl']\n  },\n  dl: {\n    children: ['dt', 'dd'],\n    type: TYPE_FLOW\n  },\n  dt: {\n    content: TYPE_FLOW,\n    invalid: ['footer', 'header'],\n    parent: ['dl']\n  },\n  figcaption: {\n    content: TYPE_FLOW,\n    parent: ['figure']\n  },\n  footer: {\n    invalid: ['footer', 'header']\n  },\n  header: {\n    invalid: ['footer', 'header']\n  },\n  hr: {\n    type: TYPE_FLOW,\n    void: true\n  },\n  img: {\n    void: true\n  },\n  li: {\n    content: TYPE_FLOW,\n    parent: ['ul', 'ol', 'menu']\n  },\n  main: {\n    self: false\n  },\n  ol: {\n    children: ['li'],\n    type: TYPE_FLOW\n  },\n  picture: {\n    children: ['source', 'img'],\n    type: TYPE_FLOW | TYPE_PHRASING | TYPE_EMBEDDED\n  },\n  rb: {\n    parent: ['ruby', 'rtc']\n  },\n  rp: {\n    parent: ['ruby', 'rtc']\n  },\n  rt: {\n    content: TYPE_PHRASING,\n    parent: ['ruby', 'rtc']\n  },\n  rtc: {\n    content: TYPE_PHRASING,\n    parent: ['ruby']\n  },\n  ruby: {\n    children: ['rb', 'rp', 'rt', 'rtc']\n  },\n  source: {\n    parent: ['audio', 'video', 'picture'],\n    void: true\n  },\n  summary: {\n    content: TYPE_PHRASING,\n    parent: ['details']\n  },\n  table: {\n    children: ['caption', 'colgroup', 'thead', 'tbody', 'tfoot', 'tr'],\n    type: TYPE_FLOW\n  },\n  tbody: {\n    parent: ['table'],\n    children: ['tr']\n  },\n  td: {\n    content: TYPE_FLOW,\n    parent: ['tr']\n  },\n  tfoot: {\n    parent: ['table'],\n    children: ['tr']\n  },\n  th: {\n    content: TYPE_FLOW,\n    parent: ['tr']\n  },\n  thead: {\n    parent: ['table'],\n    children: ['tr']\n  },\n  tr: {\n    parent: ['table', 'tbody', 'thead', 'tfoot'],\n    children: ['th', 'td']\n  },\n  track: {\n    parent: ['audio', 'video'],\n    void: true\n  },\n  ul: {\n    children: ['li'],\n    type: TYPE_FLOW\n  },\n  video: {\n    children: ['track', 'source']\n  },\n  wbr: {\n    type: TYPE_FLOW | TYPE_PHRASING,\n    void: true\n  }\n};\n\nfunction createConfigBuilder(config) {\n  return function (tagName) {\n    tagConfigs[tagName] = _extends({}, config, {}, tagConfigs[tagName]);\n  };\n}\n\n['address', 'main', 'div', 'figure', 'p', 'pre'].forEach(createConfigBuilder({\n  content: TYPE_FLOW,\n  type: TYPE_FLOW | TYPE_PALPABLE\n}));\n['abbr', 'b', 'bdi', 'bdo', 'cite', 'code', 'data', 'dfn', 'em', 'i', 'kbd', 'mark', 'q', 'ruby', 'samp', 'strong', 'sub', 'sup', 'time', 'u', 'var'].forEach(createConfigBuilder({\n  content: TYPE_PHRASING,\n  type: TYPE_FLOW | TYPE_PHRASING | TYPE_PALPABLE\n}));\n['p', 'pre'].forEach(createConfigBuilder({\n  content: TYPE_PHRASING,\n  type: TYPE_FLOW | TYPE_PALPABLE\n}));\n['s', 'small', 'span', 'del', 'ins'].forEach(createConfigBuilder({\n  content: TYPE_PHRASING,\n  type: TYPE_FLOW | TYPE_PHRASING\n}));\n['article', 'aside', 'footer', 'header', 'nav', 'section', 'blockquote'].forEach(createConfigBuilder({\n  content: TYPE_FLOW,\n  type: TYPE_FLOW | TYPE_SECTION | TYPE_PALPABLE\n}));\n['h1', 'h2', 'h3', 'h4', 'h5', 'h6'].forEach(createConfigBuilder({\n  content: TYPE_PHRASING,\n  type: TYPE_FLOW | TYPE_HEADING | TYPE_PALPABLE\n}));\n['audio', 'canvas', 'iframe', 'img', 'video'].forEach(createConfigBuilder({\n  type: TYPE_FLOW | TYPE_PHRASING | TYPE_EMBEDDED | TYPE_PALPABLE\n}));\nexport var TAGS = Object.freeze(tagConfigs);\nexport var BANNED_TAG_LIST = ['applet', 'base', 'body', 'command', 'embed', 'frame', 'frameset', 'head', 'html', 'link', 'meta', 'noscript', 'object', 'script', 'style', 'title'];\nexport var ALLOWED_TAG_LIST = Object.keys(TAGS).filter(function (tag) {\n  return tag !== 'canvas' && tag !== 'iframe';\n});\nexport var FILTER_ALLOW = 1;\nexport var FILTER_DENY = 2;\nexport var FILTER_CAST_NUMBER = 3;\nexport var FILTER_CAST_BOOL = 4;\nexport var FILTER_NO_CAST = 5;\nexport var ATTRIBUTES = Object.freeze({\n  alt: FILTER_ALLOW,\n  cite: FILTER_ALLOW,\n  class: FILTER_ALLOW,\n  colspan: FILTER_CAST_NUMBER,\n  controls: FILTER_CAST_BOOL,\n  datetime: FILTER_ALLOW,\n  default: FILTER_CAST_BOOL,\n  disabled: FILTER_CAST_BOOL,\n  dir: FILTER_ALLOW,\n  height: FILTER_ALLOW,\n  href: FILTER_ALLOW,\n  id: FILTER_ALLOW,\n  kind: FILTER_ALLOW,\n  label: FILTER_ALLOW,\n  lang: FILTER_ALLOW,\n  loop: FILTER_CAST_BOOL,\n  media: FILTER_ALLOW,\n  muted: FILTER_CAST_BOOL,\n  poster: FILTER_ALLOW,\n  role: FILTER_ALLOW,\n  rowspan: FILTER_CAST_NUMBER,\n  scope: FILTER_ALLOW,\n  sizes: FILTER_ALLOW,\n  span: FILTER_CAST_NUMBER,\n  start: FILTER_CAST_NUMBER,\n  style: FILTER_NO_CAST,\n  src: FILTER_ALLOW,\n  srclang: FILTER_ALLOW,\n  srcset: FILTER_ALLOW,\n  target: FILTER_ALLOW,\n  title: FILTER_ALLOW,\n  type: FILTER_ALLOW,\n  width: FILTER_ALLOW\n});\nexport var ATTRIBUTES_TO_PROPS = Object.freeze({\n  class: 'className',\n  colspan: 'colSpan',\n  datetime: 'dateTime',\n  rowspan: 'rowSpan',\n  srclang: 'srcLang',\n  srcset: 'srcSet'\n});","/**\n * @copyright   2016-2019, Miles Johnson\n * @license     https://opensource.org/licenses/MIT\n */\n\n// Our index re-exports TypeScript types, which Babel is unable to detect and omit.\n// Because of this, Webpack and other bundlers attempt to import values that do not exist.\n// To mitigate this issue, we need this module specific index file that manually exports.\n\nimport Interweave from './esm/Interweave';\nimport Markup from './esm/Markup';\nimport Filter from './esm/Filter';\nimport Matcher from './esm/Matcher';\nimport Element from './esm/Element';\nimport Parser from './esm/Parser';\n\nexport { Markup, Filter, Matcher, Element, Parser };\n\nexport default Interweave;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nmodule.exports = LazyWrapper;\n","var baseCreate = require('./_baseCreate'),\n    baseLodash = require('./_baseLodash');\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nmodule.exports = LodashWrapper;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nmodule.exports = baseLodash;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var identity = require('./identity'),\n    metaMap = require('./_metaMap');\n\n/**\n * The base implementation of `setData` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nmodule.exports = baseSetData;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","var LodashWrapper = require('./_LodashWrapper'),\n    flatRest = require('./_flatRest'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    isArray = require('./isArray'),\n    isLaziable = require('./_isLaziable');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a `_.flow` or `_.flowRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new flow function.\n */\nfunction createFlow(fromRight) {\n  return flatRest(function(funcs) {\n    var length = funcs.length,\n        index = length,\n        prereq = LodashWrapper.prototype.thru;\n\n    if (fromRight) {\n      funcs.reverse();\n    }\n    while (index--) {\n      var func = funcs[index];\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n        var wrapper = new LodashWrapper([], true);\n      }\n    }\n    index = wrapper ? index : length;\n    while (++index < length) {\n      func = funcs[index];\n\n      var funcName = getFuncName(func),\n          data = funcName == 'wrapper' ? getData(func) : undefined;\n\n      if (data && isLaziable(data[0]) &&\n            data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n            !data[4].length && data[9] == 1\n          ) {\n        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n      } else {\n        wrapper = (func.length == 1 && isLaziable(func))\n          ? wrapper[funcName]()\n          : wrapper.thru(func);\n      }\n    }\n    return function() {\n      var args = arguments,\n          value = args[0];\n\n      if (wrapper && args.length == 1 && isArray(value)) {\n        return wrapper.plant(value).value();\n      }\n      var index = 0,\n          result = length ? funcs[index].apply(this, args) : value;\n\n      while (++index < length) {\n        result = funcs[index].call(this, result);\n      }\n      return result;\n    };\n  });\n}\n\nmodule.exports = createFlow;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","var metaMap = require('./_metaMap'),\n    noop = require('./noop');\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nmodule.exports = getData;\n","var realNames = require('./_realNames');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nmodule.exports = getFuncName;\n","/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getHolder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nmodule.exports = getHolder;\n","/** Used to match wrap detail comments. */\nvar reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n    reSplitDetails = /,? & /;\n\n/**\n * Extracts wrapper details from the `source` body comment.\n *\n * @private\n * @param {string} source The source to inspect.\n * @returns {Array} Returns the wrapper details.\n */\nfunction getWrapDetails(source) {\n  var match = source.match(reWrapDetails);\n  return match ? match[1].split(reSplitDetails) : [];\n}\n\nmodule.exports = getWrapDetails;\n","/** Used to match wrap detail comments. */\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;\n\n/**\n * Inserts wrapper `details` in a comment at the top of the `source` body.\n *\n * @private\n * @param {string} source The source to modify.\n * @returns {Array} details The details to insert.\n * @returns {string} Returns the modified source.\n */\nfunction insertWrapDetails(source, details) {\n  var length = details.length;\n  if (!length) {\n    return source;\n  }\n  var lastIndex = length - 1;\n  details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n  details = details.join(length > 2 ? ', ' : ' ');\n  return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\n\nmodule.exports = insertWrapDetails;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var LazyWrapper = require('./_LazyWrapper'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    lodash = require('./wrapperLodash');\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nmodule.exports = isLaziable;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    replaceHolders = require('./_replaceHolders');\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and\n * `_.rearg` modify function arguments, making the order in which they are\n * executed important, preventing the merging of metadata. However, we make\n * an exception for a safe combined case where curried functions have `_.ary`\n * and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n    ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & WRAP_BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = value;\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & WRAP_ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nmodule.exports = mergeData;\n","var WeakMap = require('./_WeakMap');\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nmodule.exports = metaMap;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nmodule.exports = realNames;\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nmodule.exports = replaceHolders;\n","var baseSetData = require('./_baseSetData'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity\n * function to avoid garbage collection pauses in V8. See\n * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = shortOut(baseSetData);\n\nmodule.exports = setData;\n","var getWrapDetails = require('./_getWrapDetails'),\n    insertWrapDetails = require('./_insertWrapDetails'),\n    setToString = require('./_setToString'),\n    updateWrapDetails = require('./_updateWrapDetails');\n\n/**\n * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n * with wrapper details in a comment at the top of the source body.\n *\n * @private\n * @param {Function} wrapper The function to modify.\n * @param {Function} reference The reference function.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Function} Returns `wrapper`.\n */\nfunction setWrapToString(wrapper, reference, bitmask) {\n  var source = (reference + '');\n  return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n}\n\nmodule.exports = setWrapToString;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var arrayEach = require('./_arrayEach'),\n    arrayIncludes = require('./_arrayIncludes');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256,\n    WRAP_FLIP_FLAG = 512;\n\n/** Used to associate wrap methods with their bit flags. */\nvar wrapFlags = [\n  ['ary', WRAP_ARY_FLAG],\n  ['bind', WRAP_BIND_FLAG],\n  ['bindKey', WRAP_BIND_KEY_FLAG],\n  ['curry', WRAP_CURRY_FLAG],\n  ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n  ['flip', WRAP_FLIP_FLAG],\n  ['partial', WRAP_PARTIAL_FLAG],\n  ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n  ['rearg', WRAP_REARG_FLAG]\n];\n\n/**\n * Updates wrapper `details` based on `bitmask` flags.\n *\n * @private\n * @returns {Array} details The details to modify.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @returns {Array} Returns `details`.\n */\nfunction updateWrapDetails(details, bitmask) {\n  arrayEach(wrapFlags, function(pair) {\n    var value = '_.' + pair[0];\n    if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n      details.push(value);\n    }\n  });\n  return details.sort();\n}\n\nmodule.exports = updateWrapDetails;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    copyArray = require('./_copyArray');\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nmodule.exports = wrapperClone;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_ARY_FLAG = 128;\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments,\n * ignoring any additional arguments.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to cap arguments for.\n * @param {number} [n=func.length] The arity cap.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new capped function.\n * @example\n *\n * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n * // => [6, 8, 10]\n */\nfunction ary(func, n, guard) {\n  n = guard ? undefined : n;\n  n = (func && n == null) ? func.length : n;\n  return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n}\n\nmodule.exports = ary;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8;\n\n/**\n * Creates a function that accepts arguments of `func` and either invokes\n * `func` returning its result, if at least `arity` number of arguments have\n * been provided, or returns a function that accepts the remaining `func`\n * arguments, and so on. The arity of `func` may be specified if `func.length`\n * is not sufficient.\n *\n * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curry(abc);\n *\n * curried(1)(2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(1)(_, 3)(2);\n * // => [1, 2, 3]\n */\nfunction curry(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curry.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurry.placeholder = {};\n\nmodule.exports = curry;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var createFlow = require('./_createFlow');\n\n/**\n * Creates a function that returns the result of invoking the given functions\n * with the `this` binding of the created function, where each successive\n * invocation is supplied the return value of the previous.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {...(Function|Function[])} [funcs] The functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flowRight\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flow([_.add, square]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flow = createFlow();\n\nmodule.exports = flow;\n","var mapping = require('./_mapping'),\n    fallbackHolder = require('./placeholder');\n\n/** Built-in value reference. */\nvar push = Array.prototype.push;\n\n/**\n * Creates a function, with an arity of `n`, that invokes `func` with the\n * arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} n The arity of the new function.\n * @returns {Function} Returns the new function.\n */\nfunction baseArity(func, n) {\n  return n == 2\n    ? function(a, b) { return func.apply(undefined, arguments); }\n    : function(a) { return func.apply(undefined, arguments); };\n}\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments, ignoring\n * any additional arguments.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @param {number} n The arity cap.\n * @returns {Function} Returns the new function.\n */\nfunction baseAry(func, n) {\n  return n == 2\n    ? function(a, b) { return func(a, b); }\n    : function(a) { return func(a); };\n}\n\n/**\n * Creates a clone of `array`.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the cloned array.\n */\nfunction cloneArray(array) {\n  var length = array ? array.length : 0,\n      result = Array(length);\n\n  while (length--) {\n    result[length] = array[length];\n  }\n  return result;\n}\n\n/**\n * Creates a function that clones a given object using the assignment `func`.\n *\n * @private\n * @param {Function} func The assignment function.\n * @returns {Function} Returns the new cloner function.\n */\nfunction createCloner(func) {\n  return function(object) {\n    return func({}, object);\n  };\n}\n\n/**\n * A specialized version of `_.spread` which flattens the spread array into\n * the arguments of the invoked `func`.\n *\n * @private\n * @param {Function} func The function to spread arguments over.\n * @param {number} start The start position of the spread.\n * @returns {Function} Returns the new function.\n */\nfunction flatSpread(func, start) {\n  return function() {\n    var length = arguments.length,\n        lastIndex = length - 1,\n        args = Array(length);\n\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var array = args[start],\n        otherArgs = args.slice(0, start);\n\n    if (array) {\n      push.apply(otherArgs, array);\n    }\n    if (start != lastIndex) {\n      push.apply(otherArgs, args.slice(start + 1));\n    }\n    return func.apply(this, otherArgs);\n  };\n}\n\n/**\n * Creates a function that wraps `func` and uses `cloner` to clone the first\n * argument it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} cloner The function to clone arguments.\n * @returns {Function} Returns the new immutable function.\n */\nfunction wrapImmutable(func, cloner) {\n  return function() {\n    var length = arguments.length;\n    if (!length) {\n      return;\n    }\n    var args = Array(length);\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var result = args[0] = cloner.apply(undefined, args);\n    func.apply(undefined, args);\n    return result;\n  };\n}\n\n/**\n * The base implementation of `convert` which accepts a `util` object of methods\n * required to perform conversions.\n *\n * @param {Object} util The util object.\n * @param {string} name The name of the function to convert.\n * @param {Function} func The function to convert.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.cap=true] Specify capping iteratee arguments.\n * @param {boolean} [options.curry=true] Specify currying.\n * @param {boolean} [options.fixed=true] Specify fixed arity.\n * @param {boolean} [options.immutable=true] Specify immutable operations.\n * @param {boolean} [options.rearg=true] Specify rearranging arguments.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction baseConvert(util, name, func, options) {\n  var isLib = typeof name == 'function',\n      isObj = name === Object(name);\n\n  if (isObj) {\n    options = func;\n    func = name;\n    name = undefined;\n  }\n  if (func == null) {\n    throw new TypeError;\n  }\n  options || (options = {});\n\n  var config = {\n    'cap': 'cap' in options ? options.cap : true,\n    'curry': 'curry' in options ? options.curry : true,\n    'fixed': 'fixed' in options ? options.fixed : true,\n    'immutable': 'immutable' in options ? options.immutable : true,\n    'rearg': 'rearg' in options ? options.rearg : true\n  };\n\n  var defaultHolder = isLib ? func : fallbackHolder,\n      forceCurry = ('curry' in options) && options.curry,\n      forceFixed = ('fixed' in options) && options.fixed,\n      forceRearg = ('rearg' in options) && options.rearg,\n      pristine = isLib ? func.runInContext() : undefined;\n\n  var helpers = isLib ? func : {\n    'ary': util.ary,\n    'assign': util.assign,\n    'clone': util.clone,\n    'curry': util.curry,\n    'forEach': util.forEach,\n    'isArray': util.isArray,\n    'isError': util.isError,\n    'isFunction': util.isFunction,\n    'isWeakMap': util.isWeakMap,\n    'iteratee': util.iteratee,\n    'keys': util.keys,\n    'rearg': util.rearg,\n    'toInteger': util.toInteger,\n    'toPath': util.toPath\n  };\n\n  var ary = helpers.ary,\n      assign = helpers.assign,\n      clone = helpers.clone,\n      curry = helpers.curry,\n      each = helpers.forEach,\n      isArray = helpers.isArray,\n      isError = helpers.isError,\n      isFunction = helpers.isFunction,\n      isWeakMap = helpers.isWeakMap,\n      keys = helpers.keys,\n      rearg = helpers.rearg,\n      toInteger = helpers.toInteger,\n      toPath = helpers.toPath;\n\n  var aryMethodKeys = keys(mapping.aryMethod);\n\n  var wrappers = {\n    'castArray': function(castArray) {\n      return function() {\n        var value = arguments[0];\n        return isArray(value)\n          ? castArray(cloneArray(value))\n          : castArray.apply(undefined, arguments);\n      };\n    },\n    'iteratee': function(iteratee) {\n      return function() {\n        var func = arguments[0],\n            arity = arguments[1],\n            result = iteratee(func, arity),\n            length = result.length;\n\n        if (config.cap && typeof arity == 'number') {\n          arity = arity > 2 ? (arity - 2) : 1;\n          return (length && length <= arity) ? result : baseAry(result, arity);\n        }\n        return result;\n      };\n    },\n    'mixin': function(mixin) {\n      return function(source) {\n        var func = this;\n        if (!isFunction(func)) {\n          return mixin(func, Object(source));\n        }\n        var pairs = [];\n        each(keys(source), function(key) {\n          if (isFunction(source[key])) {\n            pairs.push([key, func.prototype[key]]);\n          }\n        });\n\n        mixin(func, Object(source));\n\n        each(pairs, function(pair) {\n          var value = pair[1];\n          if (isFunction(value)) {\n            func.prototype[pair[0]] = value;\n          } else {\n            delete func.prototype[pair[0]];\n          }\n        });\n        return func;\n      };\n    },\n    'nthArg': function(nthArg) {\n      return function(n) {\n        var arity = n < 0 ? 1 : (toInteger(n) + 1);\n        return curry(nthArg(n), arity);\n      };\n    },\n    'rearg': function(rearg) {\n      return function(func, indexes) {\n        var arity = indexes ? indexes.length : 0;\n        return curry(rearg(func, indexes), arity);\n      };\n    },\n    'runInContext': function(runInContext) {\n      return function(context) {\n        return baseConvert(util, runInContext(context), options);\n      };\n    }\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Casts `func` to a function with an arity capped iteratee if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCap(name, func) {\n    if (config.cap) {\n      var indexes = mapping.iterateeRearg[name];\n      if (indexes) {\n        return iterateeRearg(func, indexes);\n      }\n      var n = !isLib && mapping.iterateeAry[name];\n      if (n) {\n        return iterateeAry(func, n);\n      }\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to a curried function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCurry(name, func, n) {\n    return (forceCurry || (config.curry && n > 1))\n      ? curry(func, n)\n      : func;\n  }\n\n  /**\n   * Casts `func` to a fixed arity function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the cast function.\n   */\n  function castFixed(name, func, n) {\n    if (config.fixed && (forceFixed || !mapping.skipFixed[name])) {\n      var data = mapping.methodSpread[name],\n          start = data && data.start;\n\n      return start  === undefined ? ary(func, n) : flatSpread(func, start);\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to an rearged function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castRearg(name, func, n) {\n    return (config.rearg && n > 1 && (forceRearg || !mapping.skipRearg[name]))\n      ? rearg(func, mapping.methodRearg[name] || mapping.aryRearg[n])\n      : func;\n  }\n\n  /**\n   * Creates a clone of `object` by `path`.\n   *\n   * @private\n   * @param {Object} object The object to clone.\n   * @param {Array|string} path The path to clone by.\n   * @returns {Object} Returns the cloned object.\n   */\n  function cloneByPath(object, path) {\n    path = toPath(path);\n\n    var index = -1,\n        length = path.length,\n        lastIndex = length - 1,\n        result = clone(Object(object)),\n        nested = result;\n\n    while (nested != null && ++index < length) {\n      var key = path[index],\n          value = nested[key];\n\n      if (value != null &&\n          !(isFunction(value) || isError(value) || isWeakMap(value))) {\n        nested[key] = clone(index == lastIndex ? value : Object(value));\n      }\n      nested = nested[key];\n    }\n    return result;\n  }\n\n  /**\n   * Converts `lodash` to an immutable auto-curried iteratee-first data-last\n   * version with conversion `options` applied.\n   *\n   * @param {Object} [options] The options object. See `baseConvert` for more details.\n   * @returns {Function} Returns the converted `lodash`.\n   */\n  function convertLib(options) {\n    return _.runInContext.convert(options)(undefined);\n  }\n\n  /**\n   * Create a converter function for `func` of `name`.\n   *\n   * @param {string} name The name of the function to convert.\n   * @param {Function} func The function to convert.\n   * @returns {Function} Returns the new converter function.\n   */\n  function createConverter(name, func) {\n    var realName = mapping.aliasToReal[name] || name,\n        methodName = mapping.remap[realName] || realName,\n        oldOptions = options;\n\n    return function(options) {\n      var newUtil = isLib ? pristine : helpers,\n          newFunc = isLib ? pristine[methodName] : func,\n          newOptions = assign(assign({}, oldOptions), options);\n\n      return baseConvert(newUtil, realName, newFunc, newOptions);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee, with up to `n`\n   * arguments, ignoring any additional arguments.\n   *\n   * @private\n   * @param {Function} func The function to cap iteratee arguments for.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeAry(func, n) {\n    return overArg(func, function(func) {\n      return typeof func == 'function' ? baseAry(func, n) : func;\n    });\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee with arguments\n   * arranged according to the specified `indexes` where the argument value at\n   * the first index is provided as the first argument, the argument value at\n   * the second index is provided as the second argument, and so on.\n   *\n   * @private\n   * @param {Function} func The function to rearrange iteratee arguments for.\n   * @param {number[]} indexes The arranged argument indexes.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeRearg(func, indexes) {\n    return overArg(func, function(func) {\n      var n = indexes.length;\n      return baseArity(rearg(baseAry(func, n), indexes), n);\n    });\n  }\n\n  /**\n   * Creates a function that invokes `func` with its first argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function() {\n      var length = arguments.length;\n      if (!length) {\n        return func();\n      }\n      var args = Array(length);\n      while (length--) {\n        args[length] = arguments[length];\n      }\n      var index = config.rearg ? 0 : (length - 1);\n      args[index] = transform(args[index]);\n      return func.apply(undefined, args);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` and applys the conversions\n   * rules by `name`.\n   *\n   * @private\n   * @param {string} name The name of the function to wrap.\n   * @param {Function} func The function to wrap.\n   * @returns {Function} Returns the converted function.\n   */\n  function wrap(name, func, placeholder) {\n    var result,\n        realName = mapping.aliasToReal[name] || name,\n        wrapped = func,\n        wrapper = wrappers[realName];\n\n    if (wrapper) {\n      wrapped = wrapper(func);\n    }\n    else if (config.immutable) {\n      if (mapping.mutate.array[realName]) {\n        wrapped = wrapImmutable(func, cloneArray);\n      }\n      else if (mapping.mutate.object[realName]) {\n        wrapped = wrapImmutable(func, createCloner(func));\n      }\n      else if (mapping.mutate.set[realName]) {\n        wrapped = wrapImmutable(func, cloneByPath);\n      }\n    }\n    each(aryMethodKeys, function(aryKey) {\n      each(mapping.aryMethod[aryKey], function(otherName) {\n        if (realName == otherName) {\n          var data = mapping.methodSpread[realName],\n              afterRearg = data && data.afterRearg;\n\n          result = afterRearg\n            ? castFixed(realName, castRearg(realName, wrapped, aryKey), aryKey)\n            : castRearg(realName, castFixed(realName, wrapped, aryKey), aryKey);\n\n          result = castCap(realName, result);\n          result = castCurry(realName, result, aryKey);\n          return false;\n        }\n      });\n      return !result;\n    });\n\n    result || (result = wrapped);\n    if (result == func) {\n      result = forceCurry ? curry(result, 1) : function() {\n        return func.apply(this, arguments);\n      };\n    }\n    result.convert = createConverter(realName, func);\n    result.placeholder = func.placeholder = placeholder;\n\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  if (!isObj) {\n    return wrap(name, func, defaultHolder);\n  }\n  var _ = func;\n\n  // Convert methods by ary cap.\n  var pairs = [];\n  each(aryMethodKeys, function(aryKey) {\n    each(mapping.aryMethod[aryKey], function(key) {\n      var func = _[mapping.remap[key] || key];\n      if (func) {\n        pairs.push([key, wrap(key, func, _)]);\n      }\n    });\n  });\n\n  // Convert remaining methods.\n  each(keys(_), function(key) {\n    var func = _[key];\n    if (typeof func == 'function') {\n      var length = pairs.length;\n      while (length--) {\n        if (pairs[length][0] == key) {\n          return;\n        }\n      }\n      func.convert = createConverter(key, func);\n      pairs.push([key, func]);\n    }\n  });\n\n  // Assign to `_` leaving `_.prototype` unchanged to allow chaining.\n  each(pairs, function(pair) {\n    _[pair[0]] = pair[1];\n  });\n\n  _.convert = convertLib;\n  _.placeholder = _;\n\n  // Assign aliases.\n  each(keys(_), function(key) {\n    each(mapping.realToAlias[key] || [], function(alias) {\n      _[alias] = _[key];\n    });\n  });\n\n  return _;\n}\n\nmodule.exports = baseConvert;\n","/** Used to map aliases to their real names. */\nexports.aliasToReal = {\n\n  // Lodash aliases.\n  'each': 'forEach',\n  'eachRight': 'forEachRight',\n  'entries': 'toPairs',\n  'entriesIn': 'toPairsIn',\n  'extend': 'assignIn',\n  'extendAll': 'assignInAll',\n  'extendAllWith': 'assignInAllWith',\n  'extendWith': 'assignInWith',\n  'first': 'head',\n\n  // Methods that are curried variants of others.\n  'conforms': 'conformsTo',\n  'matches': 'isMatch',\n  'property': 'get',\n\n  // Ramda aliases.\n  '__': 'placeholder',\n  'F': 'stubFalse',\n  'T': 'stubTrue',\n  'all': 'every',\n  'allPass': 'overEvery',\n  'always': 'constant',\n  'any': 'some',\n  'anyPass': 'overSome',\n  'apply': 'spread',\n  'assoc': 'set',\n  'assocPath': 'set',\n  'complement': 'negate',\n  'compose': 'flowRight',\n  'contains': 'includes',\n  'dissoc': 'unset',\n  'dissocPath': 'unset',\n  'dropLast': 'dropRight',\n  'dropLastWhile': 'dropRightWhile',\n  'equals': 'isEqual',\n  'identical': 'eq',\n  'indexBy': 'keyBy',\n  'init': 'initial',\n  'invertObj': 'invert',\n  'juxt': 'over',\n  'omitAll': 'omit',\n  'nAry': 'ary',\n  'path': 'get',\n  'pathEq': 'matchesProperty',\n  'pathOr': 'getOr',\n  'paths': 'at',\n  'pickAll': 'pick',\n  'pipe': 'flow',\n  'pluck': 'map',\n  'prop': 'get',\n  'propEq': 'matchesProperty',\n  'propOr': 'getOr',\n  'props': 'at',\n  'symmetricDifference': 'xor',\n  'symmetricDifferenceBy': 'xorBy',\n  'symmetricDifferenceWith': 'xorWith',\n  'takeLast': 'takeRight',\n  'takeLastWhile': 'takeRightWhile',\n  'unapply': 'rest',\n  'unnest': 'flatten',\n  'useWith': 'overArgs',\n  'where': 'conformsTo',\n  'whereEq': 'isMatch',\n  'zipObj': 'zipObject'\n};\n\n/** Used to map ary to method names. */\nexports.aryMethod = {\n  '1': [\n    'assignAll', 'assignInAll', 'attempt', 'castArray', 'ceil', 'create',\n    'curry', 'curryRight', 'defaultsAll', 'defaultsDeepAll', 'floor', 'flow',\n    'flowRight', 'fromPairs', 'invert', 'iteratee', 'memoize', 'method', 'mergeAll',\n    'methodOf', 'mixin', 'nthArg', 'over', 'overEvery', 'overSome','rest', 'reverse',\n    'round', 'runInContext', 'spread', 'template', 'trim', 'trimEnd', 'trimStart',\n    'uniqueId', 'words', 'zipAll'\n  ],\n  '2': [\n    'add', 'after', 'ary', 'assign', 'assignAllWith', 'assignIn', 'assignInAllWith',\n    'at', 'before', 'bind', 'bindAll', 'bindKey', 'chunk', 'cloneDeepWith',\n    'cloneWith', 'concat', 'conformsTo', 'countBy', 'curryN', 'curryRightN',\n    'debounce', 'defaults', 'defaultsDeep', 'defaultTo', 'delay', 'difference',\n    'divide', 'drop', 'dropRight', 'dropRightWhile', 'dropWhile', 'endsWith', 'eq',\n    'every', 'filter', 'find', 'findIndex', 'findKey', 'findLast', 'findLastIndex',\n    'findLastKey', 'flatMap', 'flatMapDeep', 'flattenDepth', 'forEach',\n    'forEachRight', 'forIn', 'forInRight', 'forOwn', 'forOwnRight', 'get',\n    'groupBy', 'gt', 'gte', 'has', 'hasIn', 'includes', 'indexOf', 'intersection',\n    'invertBy', 'invoke', 'invokeMap', 'isEqual', 'isMatch', 'join', 'keyBy',\n    'lastIndexOf', 'lt', 'lte', 'map', 'mapKeys', 'mapValues', 'matchesProperty',\n    'maxBy', 'meanBy', 'merge', 'mergeAllWith', 'minBy', 'multiply', 'nth', 'omit',\n    'omitBy', 'overArgs', 'pad', 'padEnd', 'padStart', 'parseInt', 'partial',\n    'partialRight', 'partition', 'pick', 'pickBy', 'propertyOf', 'pull', 'pullAll',\n    'pullAt', 'random', 'range', 'rangeRight', 'rearg', 'reject', 'remove',\n    'repeat', 'restFrom', 'result', 'sampleSize', 'some', 'sortBy', 'sortedIndex',\n    'sortedIndexOf', 'sortedLastIndex', 'sortedLastIndexOf', 'sortedUniqBy',\n    'split', 'spreadFrom', 'startsWith', 'subtract', 'sumBy', 'take', 'takeRight',\n    'takeRightWhile', 'takeWhile', 'tap', 'throttle', 'thru', 'times', 'trimChars',\n    'trimCharsEnd', 'trimCharsStart', 'truncate', 'union', 'uniqBy', 'uniqWith',\n    'unset', 'unzipWith', 'without', 'wrap', 'xor', 'zip', 'zipObject',\n    'zipObjectDeep'\n  ],\n  '3': [\n    'assignInWith', 'assignWith', 'clamp', 'differenceBy', 'differenceWith',\n    'findFrom', 'findIndexFrom', 'findLastFrom', 'findLastIndexFrom', 'getOr',\n    'includesFrom', 'indexOfFrom', 'inRange', 'intersectionBy', 'intersectionWith',\n    'invokeArgs', 'invokeArgsMap', 'isEqualWith', 'isMatchWith', 'flatMapDepth',\n    'lastIndexOfFrom', 'mergeWith', 'orderBy', 'padChars', 'padCharsEnd',\n    'padCharsStart', 'pullAllBy', 'pullAllWith', 'rangeStep', 'rangeStepRight',\n    'reduce', 'reduceRight', 'replace', 'set', 'slice', 'sortedIndexBy',\n    'sortedLastIndexBy', 'transform', 'unionBy', 'unionWith', 'update', 'xorBy',\n    'xorWith', 'zipWith'\n  ],\n  '4': [\n    'fill', 'setWith', 'updateWith'\n  ]\n};\n\n/** Used to map ary to rearg configs. */\nexports.aryRearg = {\n  '2': [1, 0],\n  '3': [2, 0, 1],\n  '4': [3, 2, 0, 1]\n};\n\n/** Used to map method names to their iteratee ary. */\nexports.iterateeAry = {\n  'dropRightWhile': 1,\n  'dropWhile': 1,\n  'every': 1,\n  'filter': 1,\n  'find': 1,\n  'findFrom': 1,\n  'findIndex': 1,\n  'findIndexFrom': 1,\n  'findKey': 1,\n  'findLast': 1,\n  'findLastFrom': 1,\n  'findLastIndex': 1,\n  'findLastIndexFrom': 1,\n  'findLastKey': 1,\n  'flatMap': 1,\n  'flatMapDeep': 1,\n  'flatMapDepth': 1,\n  'forEach': 1,\n  'forEachRight': 1,\n  'forIn': 1,\n  'forInRight': 1,\n  'forOwn': 1,\n  'forOwnRight': 1,\n  'map': 1,\n  'mapKeys': 1,\n  'mapValues': 1,\n  'partition': 1,\n  'reduce': 2,\n  'reduceRight': 2,\n  'reject': 1,\n  'remove': 1,\n  'some': 1,\n  'takeRightWhile': 1,\n  'takeWhile': 1,\n  'times': 1,\n  'transform': 2\n};\n\n/** Used to map method names to iteratee rearg configs. */\nexports.iterateeRearg = {\n  'mapKeys': [1],\n  'reduceRight': [1, 0]\n};\n\n/** Used to map method names to rearg configs. */\nexports.methodRearg = {\n  'assignInAllWith': [1, 0],\n  'assignInWith': [1, 2, 0],\n  'assignAllWith': [1, 0],\n  'assignWith': [1, 2, 0],\n  'differenceBy': [1, 2, 0],\n  'differenceWith': [1, 2, 0],\n  'getOr': [2, 1, 0],\n  'intersectionBy': [1, 2, 0],\n  'intersectionWith': [1, 2, 0],\n  'isEqualWith': [1, 2, 0],\n  'isMatchWith': [2, 1, 0],\n  'mergeAllWith': [1, 0],\n  'mergeWith': [1, 2, 0],\n  'padChars': [2, 1, 0],\n  'padCharsEnd': [2, 1, 0],\n  'padCharsStart': [2, 1, 0],\n  'pullAllBy': [2, 1, 0],\n  'pullAllWith': [2, 1, 0],\n  'rangeStep': [1, 2, 0],\n  'rangeStepRight': [1, 2, 0],\n  'setWith': [3, 1, 2, 0],\n  'sortedIndexBy': [2, 1, 0],\n  'sortedLastIndexBy': [2, 1, 0],\n  'unionBy': [1, 2, 0],\n  'unionWith': [1, 2, 0],\n  'updateWith': [3, 1, 2, 0],\n  'xorBy': [1, 2, 0],\n  'xorWith': [1, 2, 0],\n  'zipWith': [1, 2, 0]\n};\n\n/** Used to map method names to spread configs. */\nexports.methodSpread = {\n  'assignAll': { 'start': 0 },\n  'assignAllWith': { 'start': 0 },\n  'assignInAll': { 'start': 0 },\n  'assignInAllWith': { 'start': 0 },\n  'defaultsAll': { 'start': 0 },\n  'defaultsDeepAll': { 'start': 0 },\n  'invokeArgs': { 'start': 2 },\n  'invokeArgsMap': { 'start': 2 },\n  'mergeAll': { 'start': 0 },\n  'mergeAllWith': { 'start': 0 },\n  'partial': { 'start': 1 },\n  'partialRight': { 'start': 1 },\n  'without': { 'start': 1 },\n  'zipAll': { 'start': 0 }\n};\n\n/** Used to identify methods which mutate arrays or objects. */\nexports.mutate = {\n  'array': {\n    'fill': true,\n    'pull': true,\n    'pullAll': true,\n    'pullAllBy': true,\n    'pullAllWith': true,\n    'pullAt': true,\n    'remove': true,\n    'reverse': true\n  },\n  'object': {\n    'assign': true,\n    'assignAll': true,\n    'assignAllWith': true,\n    'assignIn': true,\n    'assignInAll': true,\n    'assignInAllWith': true,\n    'assignInWith': true,\n    'assignWith': true,\n    'defaults': true,\n    'defaultsAll': true,\n    'defaultsDeep': true,\n    'defaultsDeepAll': true,\n    'merge': true,\n    'mergeAll': true,\n    'mergeAllWith': true,\n    'mergeWith': true,\n  },\n  'set': {\n    'set': true,\n    'setWith': true,\n    'unset': true,\n    'update': true,\n    'updateWith': true\n  }\n};\n\n/** Used to map real names to their aliases. */\nexports.realToAlias = (function() {\n  var hasOwnProperty = Object.prototype.hasOwnProperty,\n      object = exports.aliasToReal,\n      result = {};\n\n  for (var key in object) {\n    var value = object[key];\n    if (hasOwnProperty.call(result, value)) {\n      result[value].push(key);\n    } else {\n      result[value] = [key];\n    }\n  }\n  return result;\n}());\n\n/** Used to map method names to other names. */\nexports.remap = {\n  'assignAll': 'assign',\n  'assignAllWith': 'assignWith',\n  'assignInAll': 'assignIn',\n  'assignInAllWith': 'assignInWith',\n  'curryN': 'curry',\n  'curryRightN': 'curryRight',\n  'defaultsAll': 'defaults',\n  'defaultsDeepAll': 'defaultsDeep',\n  'findFrom': 'find',\n  'findIndexFrom': 'findIndex',\n  'findLastFrom': 'findLast',\n  'findLastIndexFrom': 'findLastIndex',\n  'getOr': 'get',\n  'includesFrom': 'includes',\n  'indexOfFrom': 'indexOf',\n  'invokeArgs': 'invoke',\n  'invokeArgsMap': 'invokeMap',\n  'lastIndexOfFrom': 'lastIndexOf',\n  'mergeAll': 'merge',\n  'mergeAllWith': 'mergeWith',\n  'padChars': 'pad',\n  'padCharsEnd': 'padEnd',\n  'padCharsStart': 'padStart',\n  'propertyOf': 'get',\n  'rangeStep': 'range',\n  'rangeStepRight': 'rangeRight',\n  'restFrom': 'rest',\n  'spreadFrom': 'spread',\n  'trimChars': 'trim',\n  'trimCharsEnd': 'trimEnd',\n  'trimCharsStart': 'trimStart',\n  'zipAll': 'zip'\n};\n\n/** Used to track methods that skip fixing their arity. */\nexports.skipFixed = {\n  'castArray': true,\n  'flow': true,\n  'flowRight': true,\n  'iteratee': true,\n  'mixin': true,\n  'rearg': true,\n  'runInContext': true\n};\n\n/** Used to track methods that skip rearranging arguments. */\nexports.skipRearg = {\n  'add': true,\n  'assign': true,\n  'assignIn': true,\n  'bind': true,\n  'bindKey': true,\n  'concat': true,\n  'difference': true,\n  'divide': true,\n  'eq': true,\n  'gt': true,\n  'gte': true,\n  'isEqual': true,\n  'lt': true,\n  'lte': true,\n  'matchesProperty': true,\n  'merge': true,\n  'multiply': true,\n  'overArgs': true,\n  'partial': true,\n  'partialRight': true,\n  'propertyOf': true,\n  'random': true,\n  'range': true,\n  'rangeRight': true,\n  'subtract': true,\n  'zip': true,\n  'zipObject': true,\n  'zipObjectDeep': true\n};\n","module.exports = {\n  'ary': require('../ary'),\n  'assign': require('../_baseAssign'),\n  'clone': require('../clone'),\n  'curry': require('../curry'),\n  'forEach': require('../_arrayEach'),\n  'isArray': require('../isArray'),\n  'isError': require('../isError'),\n  'isFunction': require('../isFunction'),\n  'isWeakMap': require('../isWeakMap'),\n  'iteratee': require('../iteratee'),\n  'keys': require('../_baseKeys'),\n  'rearg': require('../rearg'),\n  'toInteger': require('../toInteger'),\n  'toPath': require('../toPath')\n};\n","var baseConvert = require('./_baseConvert'),\n    util = require('./_util');\n\n/**\n * Converts `func` of `name` to an immutable auto-curried iteratee-first data-last\n * version with conversion `options` applied. If `name` is an object its methods\n * will be converted.\n *\n * @param {string} name The name of the function to wrap.\n * @param {Function} [func] The function to wrap.\n * @param {Object} [options] The options object. See `baseConvert` for more details.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction convert(name, func, options) {\n  return baseConvert(util, name, func, options);\n}\n\nmodule.exports = convert;\n","var convert = require('./convert'),\n    func = convert('flow', require('../flow'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var convert = require('./convert'),\n    func = convert('keyBy', require('../keyBy'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var convert = require('./convert'),\n    func = convert('mapValues', require('../mapValues'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","/**\n * The default argument placeholder value for methods.\n *\n * @type {Object}\n */\nmodule.exports = {};\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike'),\n    isPlainObject = require('./isPlainObject');\n\n/** `Object#toString` result references. */\nvar domExcTag = '[object DOMException]',\n    errorTag = '[object Error]';\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  if (!isObjectLike(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == errorTag || tag == domExcTag ||\n    (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n}\n\nmodule.exports = isError;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar weakMapTag = '[object WeakMap]';\n\n/**\n * Checks if `value` is classified as a `WeakMap` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n * @example\n *\n * _.isWeakMap(new WeakMap);\n * // => true\n *\n * _.isWeakMap(new Map);\n * // => false\n */\nfunction isWeakMap(value) {\n  return isObjectLike(value) && getTag(value) == weakMapTag;\n}\n\nmodule.exports = isWeakMap;\n","var baseClone = require('./_baseClone'),\n    baseIteratee = require('./_baseIteratee');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1;\n\n/**\n * Creates a function that invokes `func` with the arguments of the created\n * function. If `func` is a property name, the created function returns the\n * property value for a given element. If `func` is an array or object, the\n * created function returns `true` for elements that contain the equivalent\n * source properties, otherwise it returns `false`.\n *\n * @static\n * @since 4.0.0\n * @memberOf _\n * @category Util\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @returns {Function} Returns the callback.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, _.iteratee(['user', 'fred']));\n * // => [{ 'user': 'fred', 'age': 40 }]\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, _.iteratee('user'));\n * // => ['barney', 'fred']\n *\n * // Create custom iteratee shorthands.\n * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n *     return func.test(string);\n *   };\n * });\n *\n * _.filter(['abc', 'def'], /ef/);\n * // => ['def']\n */\nfunction iteratee(func) {\n  return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n}\n\nmodule.exports = iteratee;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that negates the result of the predicate `func`. The\n * `func` predicate is invoked with the `this` binding and arguments of the\n * created function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} predicate The predicate to negate.\n * @returns {Function} Returns the new negated function.\n * @example\n *\n * function isEven(n) {\n *   return n % 2 == 0;\n * }\n *\n * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n * // => [1, 3, 5]\n */\nfunction negate(predicate) {\n  if (typeof predicate != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return function() {\n    var args = arguments;\n    switch (args.length) {\n      case 0: return !predicate.call(this);\n      case 1: return !predicate.call(this, args[0]);\n      case 2: return !predicate.call(this, args[0], args[1]);\n      case 3: return !predicate.call(this, args[0], args[1], args[2]);\n    }\n    return !predicate.apply(this, args);\n  };\n}\n\nmodule.exports = negate;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var baseIteratee = require('./_baseIteratee'),\n    negate = require('./negate'),\n    pickBy = require('./pickBy');\n\n/**\n * The opposite of `_.pickBy`; this method creates an object composed of\n * the own and inherited enumerable string keyed properties of `object` that\n * `predicate` doesn't return truthy for. The predicate is invoked with two\n * arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omitBy(object, _.isNumber);\n * // => { 'b': '2' }\n */\nfunction omitBy(object, predicate) {\n  return pickBy(object, negate(baseIteratee(predicate)));\n}\n\nmodule.exports = omitBy;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","var createWrap = require('./_createWrap'),\n    flatRest = require('./_flatRest');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a function that invokes `func` with arguments arranged according\n * to the specified `indexes` where the argument value at the first index is\n * provided as the first argument, the argument value at the second index is\n * provided as the second argument, and so on.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to rearrange arguments for.\n * @param {...(number|number[])} indexes The arranged argument indexes.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var rearged = _.rearg(function(a, b, c) {\n *   return [a, b, c];\n * }, [2, 0, 1]);\n *\n * rearged('b', 'c', 'a')\n * // => ['a', 'b', 'c']\n */\nvar rearg = flatRest(function(func, indexes) {\n  return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n});\n\nmodule.exports = rearg;\n","var createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nmodule.exports = snakeCase;\n","var arrayMap = require('./_arrayMap'),\n    copyArray = require('./_copyArray'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol'),\n    stringToPath = require('./_stringToPath'),\n    toKey = require('./_toKey'),\n    toString = require('./toString');\n\n/**\n * Converts `value` to a property path array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {*} value The value to convert.\n * @returns {Array} Returns the new property path array.\n * @example\n *\n * _.toPath('a.b.c');\n * // => ['a', 'b', 'c']\n *\n * _.toPath('a[0].b.c');\n * // => ['a', '0', 'b', 'c']\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return arrayMap(value, toKey);\n  }\n  return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n}\n\nmodule.exports = toPath;\n","var LazyWrapper = require('./_LazyWrapper'),\n    LodashWrapper = require('./_LodashWrapper'),\n    baseLodash = require('./_baseLodash'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike'),\n    wrapperClone = require('./_wrapperClone');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array and iteratees accept only\n * one argument. The heuristic for whether a section qualifies for shortcut\n * fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nmodule.exports = lodash;\n","'use strict'\n\nvar high = require('highlight.js/lib/core')\nvar fault = require('fault')\n\nexports.highlight = highlight\nexports.highlightAuto = highlightAuto\nexports.registerLanguage = registerLanguage\nexports.listLanguages = listLanguages\nexports.registerAlias = registerAlias\n\nEmitter.prototype.addText = text\nEmitter.prototype.addKeyword = addKeyword\nEmitter.prototype.addSublanguage = addSublanguage\nEmitter.prototype.openNode = open\nEmitter.prototype.closeNode = close\nEmitter.prototype.closeAllNodes = noop\nEmitter.prototype.finalize = noop\nEmitter.prototype.toHTML = toHtmlNoop\n\nvar defaultPrefix = 'hljs-'\n\n// Highlighting `value` in the language `name`.\nfunction highlight(name, value, options) {\n  var before = high.configure({})\n  var settings = options || {}\n  var prefix = settings.prefix\n  var result\n\n  if (typeof name !== 'string') {\n    throw fault('Expected `string` for name, got `%s`', name)\n  }\n\n  if (!high.getLanguage(name)) {\n    throw fault('Unknown language: `%s` is not registered', name)\n  }\n\n  if (typeof value !== 'string') {\n    throw fault('Expected `string` for value, got `%s`', value)\n  }\n\n  if (prefix === null || prefix === undefined) {\n    prefix = defaultPrefix\n  }\n\n  high.configure({__emitter: Emitter, classPrefix: prefix})\n\n  result = high.highlight(name, value, true)\n\n  high.configure(before || {})\n\n  /* istanbul ignore if - Highlight.js seems to use this (currently) for broken\n   * grammars, so lets keep it in there just to be sure. */\n  if (result.errorRaised) {\n    throw result.errorRaised\n  }\n\n  return {\n    relevance: result.relevance,\n    language: result.language,\n    value: result.emitter.rootNode.children\n  }\n}\n\nfunction highlightAuto(value, options) {\n  var settings = options || {}\n  var subset = settings.subset || high.listLanguages()\n  var prefix = settings.prefix\n  var length = subset.length\n  var index = -1\n  var result\n  var secondBest\n  var current\n  var name\n\n  if (prefix === null || prefix === undefined) {\n    prefix = defaultPrefix\n  }\n\n  if (typeof value !== 'string') {\n    throw fault('Expected `string` for value, got `%s`', value)\n  }\n\n  secondBest = {relevance: 0, language: null, value: []}\n  result = {relevance: 0, language: null, value: []}\n\n  while (++index < length) {\n    name = subset[index]\n\n    if (!high.getLanguage(name)) {\n      continue\n    }\n\n    current = highlight(name, value, options)\n    current.language = name\n\n    if (current.relevance > secondBest.relevance) {\n      secondBest = current\n    }\n\n    if (current.relevance > result.relevance) {\n      secondBest = result\n      result = current\n    }\n  }\n\n  if (secondBest.language) {\n    result.secondBest = secondBest\n  }\n\n  return result\n}\n\n// Register a language.\nfunction registerLanguage(name, syntax) {\n  high.registerLanguage(name, syntax)\n}\n\n// Get a list of all registered languages.\nfunction listLanguages() {\n  return high.listLanguages()\n}\n\n// Register more aliases for an already registered language.\nfunction registerAlias(name, alias) {\n  var map = name\n  var key\n\n  if (alias) {\n    map = {}\n    map[name] = alias\n  }\n\n  for (key in map) {\n    high.registerAliases(map[key], {languageName: key})\n  }\n}\n\nfunction Emitter(options) {\n  this.options = options\n  this.rootNode = {children: []}\n  this.stack = [this.rootNode]\n}\n\nfunction addKeyword(value, name) {\n  this.openNode(name)\n  this.addText(value)\n  this.closeNode()\n}\n\nfunction addSublanguage(other, name) {\n  var stack = this.stack\n  var current = stack[stack.length - 1]\n  var results = other.rootNode.children\n  var node = name\n    ? {\n        type: 'element',\n        tagName: 'span',\n        properties: {className: [name]},\n        children: results\n      }\n    : results\n\n  current.children = current.children.concat(node)\n}\n\nfunction text(value) {\n  var stack = this.stack\n  var current\n  var tail\n\n  if (value === '') return\n\n  current = stack[stack.length - 1]\n  tail = current.children[current.children.length - 1]\n\n  if (tail && tail.type === 'text') {\n    tail.value += value\n  } else {\n    current.children.push({type: 'text', value: value})\n  }\n}\n\nfunction open(name) {\n  var stack = this.stack\n  var className = this.options.classPrefix + name\n  var current = stack[stack.length - 1]\n  var child = {\n    type: 'element',\n    tagName: 'span',\n    properties: {className: [className]},\n    children: []\n  }\n\n  current.children.push(child)\n  stack.push(child)\n}\n\nfunction close() {\n  this.stack.pop()\n}\n\nfunction toHtmlNoop() {\n  return ''\n}\n\nfunction noop() {}\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport removeAccents from 'remove-accents';\n\nvar rankings = {\n  CASE_SENSITIVE_EQUAL: 7,\n  EQUAL: 6,\n  STARTS_WITH: 5,\n  WORD_STARTS_WITH: 4,\n  CONTAINS: 3,\n  ACRONYM: 2,\n  MATCHES: 1,\n  NO_MATCH: 0\n};\nmatchSorter.rankings = rankings;\n\nvar defaultBaseSortFn = function defaultBaseSortFn(a, b) {\n  return String(a.rankedValue).localeCompare(String(b.rankedValue));\n};\n/**\n * Takes an array of items and a value and returns a new array with the items that match the given value\n * @param {Array} items - the items to sort\n * @param {String} value - the value to use for ranking\n * @param {Object} options - Some options to configure the sorter\n * @return {Array} - the new sorted array\n */\n\n\nfunction matchSorter(items, value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      keys = _options.keys,\n      _options$threshold = _options.threshold,\n      threshold = _options$threshold === void 0 ? rankings.MATCHES : _options$threshold,\n      _options$baseSort = _options.baseSort,\n      baseSort = _options$baseSort === void 0 ? defaultBaseSortFn : _options$baseSort,\n      _options$sorter = _options.sorter,\n      sorter = _options$sorter === void 0 ? function (matchedItems) {\n    return matchedItems.sort(function (a, b) {\n      return sortRankedValues(a, b, baseSort);\n    });\n  } : _options$sorter;\n  var matchedItems = items.reduce(reduceItemsToRanked, []);\n  return sorter(matchedItems).map(function (_ref) {\n    var item = _ref.item;\n    return item;\n  });\n\n  function reduceItemsToRanked(matches, item, index) {\n    var rankingInfo = getHighestRanking(item, keys, value, options);\n    var rank = rankingInfo.rank,\n        _rankingInfo$keyThres = rankingInfo.keyThreshold,\n        keyThreshold = _rankingInfo$keyThres === void 0 ? threshold : _rankingInfo$keyThres;\n\n    if (rank >= keyThreshold) {\n      matches.push(_extends({}, rankingInfo, {\n        item: item,\n        index: index\n      }));\n    }\n\n    return matches;\n  }\n}\n/**\n * Gets the highest ranking for value for the given item based on its values for the given keys\n * @param {*} item - the item to rank\n * @param {Array} keys - the keys to get values from the item for the ranking\n * @param {String} value - the value to rank against\n * @param {Object} options - options to control the ranking\n * @return {{rank: Number, keyIndex: Number, keyThreshold: Number}} - the highest ranking\n */\n\n\nfunction getHighestRanking(item, keys, value, options) {\n  if (!keys) {\n    // if keys is not specified, then we assume the item given is ready to be matched\n    var stringItem = item;\n    return {\n      // ends up being duplicate of 'item' in matches but consistent\n      rankedValue: stringItem,\n      rank: getMatchRanking(stringItem, value, options),\n      keyIndex: -1,\n      keyThreshold: options.threshold\n    };\n  }\n\n  var valuesToRank = getAllValuesToRank(item, keys);\n  return valuesToRank.reduce(function (_ref2, _ref3, i) {\n    var rank = _ref2.rank,\n        rankedValue = _ref2.rankedValue,\n        keyIndex = _ref2.keyIndex,\n        keyThreshold = _ref2.keyThreshold;\n    var itemValue = _ref3.itemValue,\n        attributes = _ref3.attributes;\n    var newRank = getMatchRanking(itemValue, value, options);\n    var newRankedValue = rankedValue;\n    var minRanking = attributes.minRanking,\n        maxRanking = attributes.maxRanking,\n        threshold = attributes.threshold;\n\n    if (newRank < minRanking && newRank >= rankings.MATCHES) {\n      newRank = minRanking;\n    } else if (newRank > maxRanking) {\n      newRank = maxRanking;\n    }\n\n    if (newRank > rank) {\n      rank = newRank;\n      keyIndex = i;\n      keyThreshold = threshold;\n      newRankedValue = itemValue;\n    }\n\n    return {\n      rankedValue: newRankedValue,\n      rank: rank,\n      keyIndex: keyIndex,\n      keyThreshold: keyThreshold\n    };\n  }, {\n    rankedValue: item,\n    rank: rankings.NO_MATCH,\n    keyIndex: -1,\n    keyThreshold: options.threshold\n  });\n}\n/**\n * Gives a rankings score based on how well the two strings match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @param {Object} options - options for the match (like keepDiacritics for comparison)\n * @returns {Number} the ranking for how well stringToRank matches testString\n */\n\n\nfunction getMatchRanking(testString, stringToRank, options) {\n  testString = prepareValueForComparison(testString, options);\n  stringToRank = prepareValueForComparison(stringToRank, options); // too long\n\n  if (stringToRank.length > testString.length) {\n    return rankings.NO_MATCH;\n  } // case sensitive equals\n\n\n  if (testString === stringToRank) {\n    return rankings.CASE_SENSITIVE_EQUAL;\n  } // Lower casing before further comparison\n\n\n  testString = testString.toLowerCase();\n  stringToRank = stringToRank.toLowerCase(); // case insensitive equals\n\n  if (testString === stringToRank) {\n    return rankings.EQUAL;\n  } // starts with\n\n\n  if (testString.startsWith(stringToRank)) {\n    return rankings.STARTS_WITH;\n  } // word starts with\n\n\n  if (testString.includes(\" \" + stringToRank)) {\n    return rankings.WORD_STARTS_WITH;\n  } // contains\n\n\n  if (testString.includes(stringToRank)) {\n    return rankings.CONTAINS;\n  } else if (stringToRank.length === 1) {\n    // If the only character in the given stringToRank\n    //   isn't even contained in the testString, then\n    //   it's definitely not a match.\n    return rankings.NO_MATCH;\n  } // acronym\n\n\n  if (getAcronym(testString).includes(stringToRank)) {\n    return rankings.ACRONYM;\n  } // will return a number between rankings.MATCHES and\n  // rankings.MATCHES + 1 depending  on how close of a match it is.\n\n\n  return getClosenessRanking(testString, stringToRank);\n}\n/**\n * Generates an acronym for a string.\n *\n * @param {String} string the string for which to produce the acronym\n * @returns {String} the acronym\n */\n\n\nfunction getAcronym(string) {\n  var acronym = '';\n  var wordsInString = string.split(' ');\n  wordsInString.forEach(function (wordInString) {\n    var splitByHyphenWords = wordInString.split('-');\n    splitByHyphenWords.forEach(function (splitByHyphenWord) {\n      acronym += splitByHyphenWord.substr(0, 1);\n    });\n  });\n  return acronym;\n}\n/**\n * Returns a score based on how spread apart the\n * characters from the stringToRank are within the testString.\n * A number close to rankings.MATCHES represents a loose match. A number close\n * to rankings.MATCHES + 1 represents a tighter match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @returns {Number} the number between rankings.MATCHES and\n * rankings.MATCHES + 1 for how well stringToRank matches testString\n */\n\n\nfunction getClosenessRanking(testString, stringToRank) {\n  var matchingInOrderCharCount = 0;\n  var charNumber = 0;\n\n  function findMatchingCharacter(matchChar, string, index) {\n    for (var j = index, J = string.length; j < J; j++) {\n      var stringChar = string[j];\n\n      if (stringChar === matchChar) {\n        matchingInOrderCharCount += 1;\n        return j + 1;\n      }\n    }\n\n    return -1;\n  }\n\n  function getRanking(spread) {\n    var spreadPercentage = 1 / spread;\n    var inOrderPercentage = matchingInOrderCharCount / stringToRank.length;\n    var ranking = rankings.MATCHES + inOrderPercentage * spreadPercentage;\n    return ranking;\n  }\n\n  var firstIndex = findMatchingCharacter(stringToRank[0], testString, 0);\n\n  if (firstIndex < 0) {\n    return rankings.NO_MATCH;\n  }\n\n  charNumber = firstIndex;\n\n  for (var i = 1, I = stringToRank.length; i < I; i++) {\n    var matchChar = stringToRank[i];\n    charNumber = findMatchingCharacter(matchChar, testString, charNumber);\n    var found = charNumber > -1;\n\n    if (!found) {\n      return rankings.NO_MATCH;\n    }\n  }\n\n  var spread = charNumber - firstIndex;\n  return getRanking(spread);\n}\n/**\n * Sorts items that have a rank, index, and keyIndex\n * @param {Object} a - the first item to sort\n * @param {Object} b - the second item to sort\n * @return {Number} -1 if a should come first, 1 if b should come first, 0 if equal\n */\n\n\nfunction sortRankedValues(a, b, baseSort) {\n  var aFirst = -1;\n  var bFirst = 1;\n  var aRank = a.rank,\n      aKeyIndex = a.keyIndex;\n  var bRank = b.rank,\n      bKeyIndex = b.keyIndex;\n  var same = aRank === bRank;\n\n  if (same) {\n    if (aKeyIndex === bKeyIndex) {\n      // use the base sort function as a tie-breaker\n      return baseSort(a, b);\n    } else {\n      return aKeyIndex < bKeyIndex ? aFirst : bFirst;\n    }\n  } else {\n    return aRank > bRank ? aFirst : bFirst;\n  }\n}\n/**\n * Prepares value for comparison by stringifying it, removing diacritics (if specified)\n * @param {String} value - the value to clean\n * @param {Object} options - {keepDiacritics: whether to remove diacritics}\n * @return {String} the prepared value\n */\n\n\nfunction prepareValueForComparison(value, _ref4) {\n  var keepDiacritics = _ref4.keepDiacritics;\n  // value might not actually be a string at this point (we don't get to choose)\n  // so part of preparing the value for comparison is ensure that it is a string\n  value = \"\" + value; // toString\n\n  if (!keepDiacritics) {\n    value = removeAccents(value);\n  }\n\n  return value;\n}\n/**\n * Gets value for key in item at arbitrarily nested keypath\n * @param {Object} item - the item\n * @param {Object|Function} key - the potentially nested keypath or property callback\n * @return {Array} - an array containing the value(s) at the nested keypath\n */\n\n\nfunction getItemValues(item, key) {\n  if (typeof key === 'object') {\n    key = key.key;\n  }\n\n  var value;\n\n  if (typeof key === 'function') {\n    value = key(item);\n  } else if (item == null) {\n    value = null;\n  } else if (Object.hasOwnProperty.call(item, key)) {\n    value = item[key];\n  } else if (key.includes('.')) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    return getNestedValues(key, item);\n  } else {\n    value = null;\n  } // because `value` can also be undefined\n\n\n  if (value == null) {\n    return [];\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return [String(value)];\n}\n/**\n * Given path: \"foo.bar.baz\"\n * And item: {foo: {bar: {baz: 'buzz'}}}\n *   -> 'buzz'\n * @param path a dot-separated set of keys\n * @param item the item to get the value from\n */\n\n\nfunction getNestedValues(path, item) {\n  var keys = path.split('.');\n  var values = [item];\n\n  for (var i = 0, I = keys.length; i < I; i++) {\n    var nestedKey = keys[i];\n    var nestedValues = [];\n\n    for (var j = 0, J = values.length; j < J; j++) {\n      var nestedItem = values[j];\n      if (nestedItem == null) continue;\n\n      if (Object.hasOwnProperty.call(nestedItem, nestedKey)) {\n        var nestedValue = nestedItem[nestedKey];\n\n        if (nestedValue != null) {\n          nestedValues.push(nestedValue);\n        }\n      } else if (nestedKey === '*') {\n        // ensure that values is an array\n        nestedValues = nestedValues.concat(nestedItem);\n      }\n    }\n\n    values = nestedValues;\n  }\n\n  if (Array.isArray(values[0])) {\n    // keep allowing the implicit wildcard for an array of strings at the end of\n    // the path; don't use `.flat()` because that's not available in node.js v10\n    var result = [];\n    return result.concat.apply(result, values);\n  } // Based on our logic it should be an array of strings by now...\n  // assuming the user's path terminated in strings\n\n\n  return values;\n}\n/**\n * Gets all the values for the given keys in the given item and returns an array of those values\n * @param item - the item from which the values will be retrieved\n * @param keys - the keys to use to retrieve the values\n * @return objects with {itemValue, attributes}\n */\n\n\nfunction getAllValuesToRank(item, keys) {\n  var allValues = [];\n\n  for (var j = 0, J = keys.length; j < J; j++) {\n    var key = keys[j];\n    var attributes = getKeyAttributes(key);\n    var itemValues = getItemValues(item, key);\n\n    for (var i = 0, I = itemValues.length; i < I; i++) {\n      allValues.push({\n        itemValue: itemValues[i],\n        attributes: attributes\n      });\n    }\n  }\n\n  return allValues;\n}\n\nvar defaultKeyAttributes = {\n  maxRanking: Infinity,\n  minRanking: -Infinity\n};\n/**\n * Gets all the attributes for the given key\n * @param key - the key from which the attributes will be retrieved\n * @return object containing the key's attributes\n */\n\nfunction getKeyAttributes(key) {\n  if (typeof key === 'string') {\n    return defaultKeyAttributes;\n  }\n\n  return _extends({}, defaultKeyAttributes, key);\n}\n/*\neslint\n  no-continue: \"off\",\n*/\n\nexport { defaultBaseSortFn, matchSorter, rankings };\n","var rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\nexport default rafSchd;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Resizer } from './resizer';\nimport memoize from 'fast-memoize';\nvar DEFAULT_SIZE = {\n    width: 'auto',\n    height: 'auto',\n};\nvar clamp = memoize(function (n, min, max) { return Math.max(Math.min(n, max), min); });\nvar snap = memoize(function (n, size) { return Math.round(n / size) * size; });\nvar hasDirection = memoize(function (dir, target) {\n    return new RegExp(dir, 'i').test(target);\n});\n// INFO: In case of window is a Proxy and does not porxy Events correctly, use isTouchEvent & isMouseEvent to distinguish event type instead of `instanceof`.\nvar isTouchEvent = function (event) {\n    return Boolean(event.touches && event.touches.length);\n};\nvar isMouseEvent = function (event) {\n    return Boolean((event.clientX || event.clientX === 0) &&\n        (event.clientY || event.clientY === 0));\n};\nvar findClosestSnap = memoize(function (n, snapArray, snapGap) {\n    if (snapGap === void 0) { snapGap = 0; }\n    var closestGapIndex = snapArray.reduce(function (prev, curr, index) { return (Math.abs(curr - n) < Math.abs(snapArray[prev] - n) ? index : prev); }, 0);\n    var gap = Math.abs(snapArray[closestGapIndex] - n);\n    return snapGap === 0 || gap < snapGap ? snapArray[closestGapIndex] : n;\n});\nvar endsWith = memoize(function (str, searchStr) {\n    return str.substr(str.length - searchStr.length, searchStr.length) === searchStr;\n});\nvar getStringSize = memoize(function (n) {\n    n = n.toString();\n    if (n === 'auto') {\n        return n;\n    }\n    if (endsWith(n, 'px')) {\n        return n;\n    }\n    if (endsWith(n, '%')) {\n        return n;\n    }\n    if (endsWith(n, 'vh')) {\n        return n;\n    }\n    if (endsWith(n, 'vw')) {\n        return n;\n    }\n    if (endsWith(n, 'vmax')) {\n        return n;\n    }\n    if (endsWith(n, 'vmin')) {\n        return n;\n    }\n    return n + \"px\";\n});\nvar getPixelSize = function (size, parentSize, innerWidth, innerHeight) {\n    if (size && typeof size === 'string') {\n        if (endsWith(size, 'px')) {\n            return Number(size.replace('px', ''));\n        }\n        if (endsWith(size, '%')) {\n            var ratio = Number(size.replace('%', '')) / 100;\n            return parentSize * ratio;\n        }\n        if (endsWith(size, 'vw')) {\n            var ratio = Number(size.replace('vw', '')) / 100;\n            return innerWidth * ratio;\n        }\n        if (endsWith(size, 'vh')) {\n            var ratio = Number(size.replace('vh', '')) / 100;\n            return innerHeight * ratio;\n        }\n    }\n    return size;\n};\nvar calculateNewMax = memoize(function (parentSize, innerWidth, innerHeight, maxWidth, maxHeight, minWidth, minHeight) {\n    maxWidth = getPixelSize(maxWidth, parentSize.width, innerWidth, innerHeight);\n    maxHeight = getPixelSize(maxHeight, parentSize.height, innerWidth, innerHeight);\n    minWidth = getPixelSize(minWidth, parentSize.width, innerWidth, innerHeight);\n    minHeight = getPixelSize(minHeight, parentSize.height, innerWidth, innerHeight);\n    return {\n        maxWidth: typeof maxWidth === 'undefined' ? undefined : Number(maxWidth),\n        maxHeight: typeof maxHeight === 'undefined' ? undefined : Number(maxHeight),\n        minWidth: typeof minWidth === 'undefined' ? undefined : Number(minWidth),\n        minHeight: typeof minHeight === 'undefined' ? undefined : Number(minHeight),\n    };\n});\nvar definedProps = [\n    'as',\n    'style',\n    'className',\n    'grid',\n    'snap',\n    'bounds',\n    'size',\n    'defaultSize',\n    'minWidth',\n    'minHeight',\n    'maxWidth',\n    'maxHeight',\n    'lockAspectRatio',\n    'lockAspectRatioExtraWidth',\n    'lockAspectRatioExtraHeight',\n    'enable',\n    'handleStyles',\n    'handleClasses',\n    'handleWrapperStyle',\n    'handleWrapperClass',\n    'children',\n    'onResizeStart',\n    'onResize',\n    'onResizeStop',\n    'handleComponent',\n    'scale',\n    'resizeRatio',\n    'snapGap',\n];\n// HACK: This class is used to calculate % size.\nvar baseClassName = '__resizable_base__';\nvar Resizable = /** @class */ (function (_super) {\n    __extends(Resizable, _super);\n    function Resizable(props) {\n        var _this = _super.call(this, props) || this;\n        _this.ratio = 1;\n        _this.resizable = null;\n        // For parent boundary\n        _this.parentLeft = 0;\n        _this.parentTop = 0;\n        // For boundary\n        _this.resizableLeft = 0;\n        _this.resizableTop = 0;\n        // For target boundary\n        _this.targetLeft = 0;\n        _this.targetTop = 0;\n        _this.appendBase = function () {\n            if (!_this.resizable || !_this.window) {\n                return null;\n            }\n            var parent = _this.parentNode;\n            if (!parent) {\n                return null;\n            }\n            var element = _this.window.document.createElement('div');\n            element.style.width = '100%';\n            element.style.height = '100%';\n            element.style.position = 'absolute';\n            element.style.transform = 'scale(0, 0)';\n            element.style.left = '0';\n            element.style.flex = '0';\n            if (element.classList) {\n                element.classList.add(baseClassName);\n            }\n            else {\n                element.className += baseClassName;\n            }\n            parent.appendChild(element);\n            return element;\n        };\n        _this.removeBase = function (base) {\n            var parent = _this.parentNode;\n            if (!parent) {\n                return;\n            }\n            parent.removeChild(base);\n        };\n        _this.ref = function (c) {\n            if (c) {\n                _this.resizable = c;\n            }\n        };\n        _this.state = {\n            isResizing: false,\n            width: typeof (_this.propsSize && _this.propsSize.width) === 'undefined'\n                ? 'auto'\n                : _this.propsSize && _this.propsSize.width,\n            height: typeof (_this.propsSize && _this.propsSize.height) === 'undefined'\n                ? 'auto'\n                : _this.propsSize && _this.propsSize.height,\n            direction: 'right',\n            original: {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            },\n            backgroundStyle: {\n                height: '100%',\n                width: '100%',\n                backgroundColor: 'rgba(0,0,0,0)',\n                cursor: 'auto',\n                opacity: 0,\n                position: 'fixed',\n                zIndex: 9999,\n                top: '0',\n                left: '0',\n                bottom: '0',\n                right: '0',\n            },\n            flexBasis: undefined,\n        };\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\n        _this.onMouseUp = _this.onMouseUp.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(Resizable.prototype, \"parentNode\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            return this.resizable.parentNode;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"window\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            if (!this.resizable.ownerDocument) {\n                return null;\n            }\n            return this.resizable.ownerDocument.defaultView;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"propsSize\", {\n        get: function () {\n            return this.props.size || this.props.defaultSize || DEFAULT_SIZE;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"size\", {\n        get: function () {\n            var width = 0;\n            var height = 0;\n            if (this.resizable && this.window) {\n                var orgWidth = this.resizable.offsetWidth;\n                var orgHeight = this.resizable.offsetHeight;\n                // HACK: Set position `relative` to get parent size.\n                //       This is because when re-resizable set `absolute`, I can not get base width correctly.\n                var orgPosition = this.resizable.style.position;\n                if (orgPosition !== 'relative') {\n                    this.resizable.style.position = 'relative';\n                }\n                // INFO: Use original width or height if set auto.\n                width = this.resizable.style.width !== 'auto' ? this.resizable.offsetWidth : orgWidth;\n                height = this.resizable.style.height !== 'auto' ? this.resizable.offsetHeight : orgHeight;\n                // Restore original position\n                this.resizable.style.position = orgPosition;\n            }\n            return { width: width, height: height };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"sizeStyle\", {\n        get: function () {\n            var _this = this;\n            var size = this.props.size;\n            var getSize = function (key) {\n                if (typeof _this.state[key] === 'undefined' || _this.state[key] === 'auto') {\n                    return 'auto';\n                }\n                if (_this.propsSize && _this.propsSize[key] && endsWith(_this.propsSize[key].toString(), '%')) {\n                    if (endsWith(_this.state[key].toString(), '%')) {\n                        return _this.state[key].toString();\n                    }\n                    var parentSize = _this.getParentSize();\n                    var value = Number(_this.state[key].toString().replace('px', ''));\n                    var percent = (value / parentSize[key]) * 100;\n                    return percent + \"%\";\n                }\n                return getStringSize(_this.state[key]);\n            };\n            var width = size && typeof size.width !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.width)\n                : getSize('width');\n            var height = size && typeof size.height !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.height)\n                : getSize('height');\n            return { width: width, height: height };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Resizable.prototype.getParentSize = function () {\n        if (!this.parentNode) {\n            if (!this.window) {\n                return { width: 0, height: 0 };\n            }\n            return { width: this.window.innerWidth, height: this.window.innerHeight };\n        }\n        var base = this.appendBase();\n        if (!base) {\n            return { width: 0, height: 0 };\n        }\n        // INFO: To calculate parent width with flex layout\n        var wrapChanged = false;\n        var wrap = this.parentNode.style.flexWrap;\n        if (wrap !== 'wrap') {\n            wrapChanged = true;\n            this.parentNode.style.flexWrap = 'wrap';\n            // HACK: Use relative to get parent padding size\n        }\n        base.style.position = 'relative';\n        base.style.minWidth = '100%';\n        var size = {\n            width: base.offsetWidth,\n            height: base.offsetHeight,\n        };\n        if (wrapChanged) {\n            this.parentNode.style.flexWrap = wrap;\n        }\n        this.removeBase(base);\n        return size;\n    };\n    Resizable.prototype.bindEvents = function () {\n        if (this.window) {\n            this.window.addEventListener('mouseup', this.onMouseUp);\n            this.window.addEventListener('mousemove', this.onMouseMove);\n            this.window.addEventListener('mouseleave', this.onMouseUp);\n            this.window.addEventListener('touchmove', this.onMouseMove, {\n                capture: true,\n                passive: false,\n            });\n            this.window.addEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.unbindEvents = function () {\n        if (this.window) {\n            this.window.removeEventListener('mouseup', this.onMouseUp);\n            this.window.removeEventListener('mousemove', this.onMouseMove);\n            this.window.removeEventListener('mouseleave', this.onMouseUp);\n            this.window.removeEventListener('touchmove', this.onMouseMove, true);\n            this.window.removeEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.componentDidMount = function () {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        this.setState({\n            width: this.state.width || this.size.width,\n            height: this.state.height || this.size.height,\n            flexBasis: computedStyle.flexBasis !== 'auto' ? computedStyle.flexBasis : undefined,\n        });\n    };\n    Resizable.prototype.componentWillUnmount = function () {\n        if (this.window) {\n            this.unbindEvents();\n        }\n    };\n    Resizable.prototype.createSizeForCssProperty = function (newSize, kind) {\n        var propsSize = this.propsSize && this.propsSize[kind];\n        return this.state[kind] === 'auto' &&\n            this.state.original[kind] === newSize &&\n            (typeof propsSize === 'undefined' || propsSize === 'auto')\n            ? 'auto'\n            : newSize;\n    };\n    Resizable.prototype.calculateNewMaxFromBoundary = function (maxWidth, maxHeight) {\n        if (this.props.bounds === 'parent') {\n            var parent_1 = this.parentNode;\n            if (parent_1) {\n                var boundWidth = parent_1.offsetWidth + (this.parentLeft - this.resizableLeft);\n                var boundHeight = parent_1.offsetHeight + (this.parentTop - this.resizableTop);\n                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n            }\n        }\n        else if (this.props.bounds === 'window') {\n            if (this.window) {\n                var boundWidth = this.window.innerWidth - this.resizableLeft;\n                var boundHeight = this.window.innerHeight - this.resizableTop;\n                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n            }\n        }\n        else if (this.props.bounds) {\n            var boundWidth = this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft);\n            var boundHeight = this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop);\n            maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n            maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n        }\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromDirection = function (clientX, clientY) {\n        var scale = this.props.scale || 1;\n        var resizeRatio = this.props.resizeRatio || 1;\n        var _a = this.state, direction = _a.direction, original = _a.original;\n        var _b = this.props, lockAspectRatio = _b.lockAspectRatio, lockAspectRatioExtraHeight = _b.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _b.lockAspectRatioExtraWidth;\n        var newWidth = original.width;\n        var newHeight = original.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (hasDirection('right', direction)) {\n            newWidth = original.width + ((clientX - original.x) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('left', direction)) {\n            newWidth = original.width - ((clientX - original.x) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('bottom', direction)) {\n            newHeight = original.height + ((clientY - original.y) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        if (hasDirection('top', direction)) {\n            newHeight = original.height - ((clientY - original.y) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromAspectRatio = function (newWidth, newHeight, max, min) {\n        var _a = this.props, lockAspectRatio = _a.lockAspectRatio, lockAspectRatioExtraHeight = _a.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _a.lockAspectRatioExtraWidth;\n        var computedMinWidth = typeof min.width === 'undefined' ? 10 : min.width;\n        var computedMaxWidth = typeof max.width === 'undefined' || max.width < 0 ? newWidth : max.width;\n        var computedMinHeight = typeof min.height === 'undefined' ? 10 : min.height;\n        var computedMaxHeight = typeof max.height === 'undefined' || max.height < 0 ? newHeight : max.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (lockAspectRatio) {\n            var extraMinWidth = (computedMinHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMaxWidth = (computedMaxHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMinHeight = (computedMinWidth - extraWidth) / this.ratio + extraHeight;\n            var extraMaxHeight = (computedMaxWidth - extraWidth) / this.ratio + extraHeight;\n            var lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);\n            var lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);\n            var lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);\n            var lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);\n            newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);\n            newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);\n        }\n        else {\n            newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);\n            newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.setBoundingClientRect = function () {\n        // For parent boundary\n        if (this.props.bounds === 'parent') {\n            var parent_2 = this.parentNode;\n            if (parent_2) {\n                var parentRect = parent_2.getBoundingClientRect();\n                this.parentLeft = parentRect.left;\n                this.parentTop = parentRect.top;\n            }\n        }\n        // For target(html element) boundary\n        if (this.props.bounds && typeof this.props.bounds !== 'string') {\n            var targetRect = this.props.bounds.getBoundingClientRect();\n            this.targetLeft = targetRect.left;\n            this.targetTop = targetRect.top;\n        }\n        // For boundary\n        if (this.resizable) {\n            var _a = this.resizable.getBoundingClientRect(), left = _a.left, top_1 = _a.top;\n            this.resizableLeft = left;\n            this.resizableTop = top_1;\n        }\n    };\n    Resizable.prototype.onResizeStart = function (event, direction) {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var clientX = 0;\n        var clientY = 0;\n        if (event.nativeEvent && isMouseEvent(event.nativeEvent)) {\n            clientX = event.nativeEvent.clientX;\n            clientY = event.nativeEvent.clientY;\n            // When user click with right button the resize is stuck in resizing mode\n            // until users clicks again, dont continue if right click is used.\n            // HACK: MouseEvent does not have `which` from flow-bin v0.68.\n            if (event.nativeEvent.which === 3) {\n                return;\n            }\n        }\n        else if (event.nativeEvent && isTouchEvent(event.nativeEvent)) {\n            clientX = event.nativeEvent.touches[0].clientX;\n            clientY = event.nativeEvent.touches[0].clientY;\n        }\n        if (this.props.onResizeStart) {\n            if (this.resizable) {\n                var startResize = this.props.onResizeStart(event, direction, this.resizable);\n                if (startResize === false) {\n                    return;\n                }\n            }\n        }\n        // Fix #168\n        if (this.props.size) {\n            if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {\n                this.setState({ height: this.props.size.height });\n            }\n            if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {\n                this.setState({ width: this.props.size.width });\n            }\n        }\n        // For lockAspectRatio case\n        this.ratio =\n            typeof this.props.lockAspectRatio === 'number' ? this.props.lockAspectRatio : this.size.width / this.size.height;\n        var flexBasis;\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        if (computedStyle.flexBasis !== 'auto') {\n            var parent_3 = this.parentNode;\n            if (parent_3) {\n                var dir = this.window.getComputedStyle(parent_3).flexDirection;\n                this.flexDir = dir.startsWith('row') ? 'row' : 'column';\n                flexBasis = computedStyle.flexBasis;\n            }\n        }\n        // For boundary\n        this.setBoundingClientRect();\n        this.bindEvents();\n        var state = {\n            original: {\n                x: clientX,\n                y: clientY,\n                width: this.size.width,\n                height: this.size.height,\n            },\n            isResizing: true,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: this.window.getComputedStyle(event.target).cursor || 'auto' }),\n            direction: direction,\n            flexBasis: flexBasis,\n        };\n        this.setState(state);\n    };\n    Resizable.prototype.onMouseMove = function (event) {\n        if (!this.state.isResizing || !this.resizable || !this.window) {\n            return;\n        }\n        if (this.window.TouchEvent && isTouchEvent(event)) {\n            try {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            catch (e) {\n                // Ignore on fail\n            }\n        }\n        var _a = this.props, maxWidth = _a.maxWidth, maxHeight = _a.maxHeight, minWidth = _a.minWidth, minHeight = _a.minHeight;\n        var clientX = isTouchEvent(event) ? event.touches[0].clientX : event.clientX;\n        var clientY = isTouchEvent(event) ? event.touches[0].clientY : event.clientY;\n        var _b = this.state, direction = _b.direction, original = _b.original, width = _b.width, height = _b.height;\n        var parentSize = this.getParentSize();\n        var max = calculateNewMax(parentSize, this.window.innerWidth, this.window.innerHeight, maxWidth, maxHeight, minWidth, minHeight);\n        maxWidth = max.maxWidth;\n        maxHeight = max.maxHeight;\n        minWidth = max.minWidth;\n        minHeight = max.minHeight;\n        // Calculate new size\n        var _c = this.calculateNewSizeFromDirection(clientX, clientY), newHeight = _c.newHeight, newWidth = _c.newWidth;\n        // Calculate max size from boundary settings\n        var boundaryMax = this.calculateNewMaxFromBoundary(maxWidth, maxHeight);\n        // Calculate new size from aspect ratio\n        var newSize = this.calculateNewSizeFromAspectRatio(newWidth, newHeight, { width: boundaryMax.maxWidth, height: boundaryMax.maxHeight }, { width: minWidth, height: minHeight });\n        newWidth = newSize.newWidth;\n        newHeight = newSize.newHeight;\n        if (this.props.grid) {\n            var newGridWidth = snap(newWidth, this.props.grid[0]);\n            var newGridHeight = snap(newHeight, this.props.grid[1]);\n            var gap = this.props.snapGap || 0;\n            newWidth = gap === 0 || Math.abs(newGridWidth - newWidth) <= gap ? newGridWidth : newWidth;\n            newHeight = gap === 0 || Math.abs(newGridHeight - newHeight) <= gap ? newGridHeight : newHeight;\n        }\n        if (this.props.snap && this.props.snap.x) {\n            newWidth = findClosestSnap(newWidth, this.props.snap.x, this.props.snapGap);\n        }\n        if (this.props.snap && this.props.snap.y) {\n            newHeight = findClosestSnap(newHeight, this.props.snap.y, this.props.snapGap);\n        }\n        var delta = {\n            width: newWidth - original.width,\n            height: newHeight - original.height,\n        };\n        if (width && typeof width === 'string') {\n            if (endsWith(width, '%')) {\n                var percent = (newWidth / parentSize.width) * 100;\n                newWidth = percent + \"%\";\n            }\n            else if (endsWith(width, 'vw')) {\n                var vw = (newWidth / this.window.innerWidth) * 100;\n                newWidth = vw + \"vw\";\n            }\n            else if (endsWith(width, 'vh')) {\n                var vh = (newWidth / this.window.innerHeight) * 100;\n                newWidth = vh + \"vh\";\n            }\n        }\n        if (height && typeof height === 'string') {\n            if (endsWith(height, '%')) {\n                var percent = (newHeight / parentSize.height) * 100;\n                newHeight = percent + \"%\";\n            }\n            else if (endsWith(height, 'vw')) {\n                var vw = (newHeight / this.window.innerWidth) * 100;\n                newHeight = vw + \"vw\";\n            }\n            else if (endsWith(height, 'vh')) {\n                var vh = (newHeight / this.window.innerHeight) * 100;\n                newHeight = vh + \"vh\";\n            }\n        }\n        var newState = {\n            width: this.createSizeForCssProperty(newWidth, 'width'),\n            height: this.createSizeForCssProperty(newHeight, 'height'),\n        };\n        if (this.flexDir === 'row') {\n            newState.flexBasis = newState.width;\n        }\n        else if (this.flexDir === 'column') {\n            newState.flexBasis = newState.height;\n        }\n        this.setState(newState);\n        if (this.props.onResize) {\n            this.props.onResize(event, direction, this.resizable, delta);\n        }\n    };\n    Resizable.prototype.onMouseUp = function (event) {\n        var _a = this.state, isResizing = _a.isResizing, direction = _a.direction, original = _a.original;\n        if (!isResizing || !this.resizable) {\n            return;\n        }\n        var delta = {\n            width: this.size.width - original.width,\n            height: this.size.height - original.height,\n        };\n        if (this.props.onResizeStop) {\n            this.props.onResizeStop(event, direction, this.resizable, delta);\n        }\n        if (this.props.size) {\n            this.setState(this.props.size);\n        }\n        this.unbindEvents();\n        this.setState({\n            isResizing: false,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: 'auto' }),\n        });\n    };\n    Resizable.prototype.updateSize = function (size) {\n        this.setState({ width: size.width, height: size.height });\n    };\n    Resizable.prototype.renderResizer = function () {\n        var _this = this;\n        var _a = this.props, enable = _a.enable, handleStyles = _a.handleStyles, handleClasses = _a.handleClasses, handleWrapperStyle = _a.handleWrapperStyle, handleWrapperClass = _a.handleWrapperClass, handleComponent = _a.handleComponent;\n        if (!enable) {\n            return null;\n        }\n        var resizers = Object.keys(enable).map(function (dir) {\n            if (enable[dir] !== false) {\n                return (React.createElement(Resizer, { key: dir, direction: dir, onResizeStart: _this.onResizeStart, replaceStyles: handleStyles && handleStyles[dir], className: handleClasses && handleClasses[dir] }, handleComponent && handleComponent[dir] ? handleComponent[dir] : null));\n            }\n            return null;\n        });\n        // #93 Wrap the resize box in span (will not break 100% width/height)\n        return (React.createElement(\"span\", { className: handleWrapperClass, style: handleWrapperStyle }, resizers));\n    };\n    Resizable.prototype.render = function () {\n        var _this = this;\n        var extendsProps = Object.keys(this.props).reduce(function (acc, key) {\n            if (definedProps.indexOf(key) !== -1) {\n                return acc;\n            }\n            acc[key] = _this.props[key];\n            return acc;\n        }, {});\n        var style = __assign(__assign(__assign({ position: 'relative', userSelect: this.state.isResizing ? 'none' : 'auto' }, this.props.style), this.sizeStyle), { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: 'border-box', flexShrink: 0 });\n        if (this.state.flexBasis) {\n            style.flexBasis = this.state.flexBasis;\n        }\n        var Wrapper = this.props.as || 'div';\n        return (React.createElement(Wrapper, __assign({ ref: this.ref, style: style, className: this.props.className }, extendsProps),\n            this.state.isResizing && React.createElement(\"div\", { style: this.state.backgroundStyle }),\n            this.props.children,\n            this.renderResizer()));\n    };\n    Resizable.defaultProps = {\n        as: 'div',\n        onResizeStart: function () { },\n        onResize: function () { },\n        onResizeStop: function () { },\n        enable: {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            topRight: true,\n            bottomRight: true,\n            bottomLeft: true,\n            topLeft: true,\n        },\n        style: {},\n        grid: [1, 1],\n        lockAspectRatio: false,\n        lockAspectRatioExtraWidth: 0,\n        lockAspectRatioExtraHeight: 0,\n        scale: 1,\n        resizeRatio: 1,\n        snapGap: 0,\n    };\n    return Resizable;\n}(React.PureComponent));\nexport { Resizable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nvar styles = {\n    top: {\n        width: '100%',\n        height: '10px',\n        top: '-5px',\n        left: '0px',\n        cursor: 'row-resize',\n    },\n    right: {\n        width: '10px',\n        height: '100%',\n        top: '0px',\n        right: '-5px',\n        cursor: 'col-resize',\n    },\n    bottom: {\n        width: '100%',\n        height: '10px',\n        bottom: '-5px',\n        left: '0px',\n        cursor: 'row-resize',\n    },\n    left: {\n        width: '10px',\n        height: '100%',\n        top: '0px',\n        left: '-5px',\n        cursor: 'col-resize',\n    },\n    topRight: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        right: '-10px',\n        top: '-10px',\n        cursor: 'ne-resize',\n    },\n    bottomRight: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        right: '-10px',\n        bottom: '-10px',\n        cursor: 'se-resize',\n    },\n    bottomLeft: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        left: '-10px',\n        bottom: '-10px',\n        cursor: 'sw-resize',\n    },\n    topLeft: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        left: '-10px',\n        top: '-10px',\n        cursor: 'nw-resize',\n    },\n};\nvar Resizer = /** @class */ (function (_super) {\n    __extends(Resizer, _super);\n    function Resizer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onMouseDown = function (e) {\n            _this.props.onResizeStart(e, _this.props.direction);\n        };\n        _this.onTouchStart = function (e) {\n            _this.props.onResizeStart(e, _this.props.direction);\n        };\n        return _this;\n    }\n    Resizer.prototype.render = function () {\n        return (React.createElement(\"div\", { className: this.props.className || '', style: __assign(__assign({ position: 'absolute', userSelect: 'none' }, styles[this.props.direction]), (this.props.replaceStyles || {})), onMouseDown: this.onMouseDown, onTouchStart: this.onTouchStart }, this.props.children));\n    };\n    return Resizer;\n}(React.PureComponent));\nexport { Resizer };\n","import { memoize } from './utils/js_utils';\nexport var isFirefox = memoize(function () {\n  return /firefox/i.test(navigator.userAgent);\n});\nexport var isSafari = memoize(function () {\n  return Boolean(window.safari);\n});","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { union, without } from './utils/js_utils';\nexport var EnterLeaveCounter = /*#__PURE__*/function () {\n  function EnterLeaveCounter(isNodeInDocument) {\n    _classCallCheck(this, EnterLeaveCounter);\n\n    this.entered = [];\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n  _createClass(EnterLeaveCounter, [{\n    key: \"enter\",\n    value: function enter(enteringNode) {\n      var _this = this;\n\n      var previousLength = this.entered.length;\n\n      var isNodeEntered = function isNodeEntered(node) {\n        return _this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n      };\n\n      this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n      return previousLength === 0 && this.entered.length > 0;\n    }\n  }, {\n    key: \"leave\",\n    value: function leave(leavingNode) {\n      var previousLength = this.entered.length;\n      this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n      return previousLength > 0 && this.entered.length === 0;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.entered = [];\n    }\n  }]);\n\n  return EnterLeaveCounter;\n}();","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { EnterLeaveCounter } from './EnterLeaveCounter';\nimport { isFirefox } from './BrowserDetector';\nimport { getNodeClientOffset, getEventClientOffset, getDragPreviewOffset } from './OffsetUtils';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources';\nimport * as NativeTypes from './NativeTypes';\nimport { OptionsReader } from './OptionsReader';\nexport var HTML5BackendImpl = /*#__PURE__*/function () {\n  function HTML5BackendImpl(manager, globalContext) {\n    var _this = this;\n\n    _classCallCheck(this, HTML5BackendImpl);\n\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n\n    this.getSourceClientOffset = function (sourceId) {\n      var source = _this.sourceNodes.get(sourceId);\n\n      return source && getNodeClientOffset(source) || null;\n    };\n\n    this.endDragNativeItem = function () {\n      if (!_this.isDraggingNativeItem()) {\n        return;\n      }\n\n      _this.actions.endDrag();\n\n      if (_this.currentNativeHandle) {\n        _this.registry.removeSource(_this.currentNativeHandle);\n      }\n\n      _this.currentNativeHandle = null;\n      _this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = function (node) {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && _this.document && _this.document.body && document.body.contains(node));\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = function () {\n      var node = _this.currentDragSourceNode;\n\n      if (_this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (_this.clearCurrentDragSourceNode()) {\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragStartCapture = function () {\n      _this.clearCurrentDragSourceNode();\n\n      _this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      var dragStartSourceIds = _this.dragStartSourceIds;\n      _this.dragStartSourceIds = null;\n      var clientOffset = getEventClientOffset(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (_this.monitor.isDragging()) {\n        _this.actions.endDrag();\n      } // Don't publish the source just yet (see why below)\n\n\n      _this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: _this.getSourceClientOffset,\n        clientOffset: clientOffset\n      });\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (_this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          var sourceId = _this.monitor.getSourceId();\n\n          var sourceNode = _this.sourceNodes.get(sourceId);\n\n          var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            var _this$getCurrentSourc = _this.getCurrentSourcePreviewNodeOptions(),\n                anchorX = _this$getCurrentSourc.anchorX,\n                anchorY = _this$getCurrentSourc.anchorY,\n                offsetX = _this$getCurrentSourc.offsetX,\n                offsetY = _this$getCurrentSourc.offsetY;\n\n            var anchorPoint = {\n              anchorX: anchorX,\n              anchorY: anchorY\n            };\n            var offsetPoint = {\n              offsetX: offsetX,\n              offsetY: offsetY\n            };\n            var dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {} // IE doesn't support MIME types in setData\n        // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        _this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n\n        var _this$getCurrentSourc2 = _this.getCurrentSourcePreviewNodeOptions(),\n            captureDraggingState = _this$getCurrentSourc2.captureDraggingState;\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(function () {\n            return _this.actions.publishDragSource();\n          }, 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          _this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        _this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = function () {\n      if (_this.clearCurrentDragSourceNode()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        _this.actions.endDrag();\n      }\n    };\n\n    this.handleTopDragEnterCapture = function (e) {\n      _this.dragEnterTargetIds = [];\n\n      var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || _this.monitor.isDragging()) {\n        return;\n      }\n\n      var dataTransfer = e.dataTransfer;\n      var nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        _this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n\n    this.handleTopDragEnter = function (e) {\n      var dragEnterTargetIds = _this.dragEnterTargetIds;\n      _this.dragEnterTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      if (!isFirefox()) {\n        // Don't emit hover in `dragenter` on Firefox due to an edge case.\n        // If the target changes position as the result of `dragenter`, Firefox\n        // will still happily dispatch `dragover` despite target being no longer\n        // there. The easy solution is to only fire `hover` in `dragover` on FF.\n        _this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset(e)\n        });\n      }\n\n      var canDrop = dragEnterTargetIds.some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = function () {\n      _this.dragOverTargetIds = [];\n    };\n\n    this.handleTopDragOver = function (e) {\n      var dragOverTargetIds = _this.dragOverTargetIds;\n      _this.dragOverTargetIds = [];\n\n      if (!_this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      _this.altKeyPressed = e.altKey;\n\n      _this.actions.hover(dragOverTargetIds || [], {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n        return _this.monitor.canDropOnTarget(targetId);\n      });\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n        }\n      } else if (_this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = function (e) {\n      if (_this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      }\n    };\n\n    this.handleTopDropCapture = function (e) {\n      _this.dropTargetIds = [];\n      e.preventDefault();\n\n      if (_this.isDraggingNativeItem()) {\n        var _this$currentNativeSo;\n\n        (_this$currentNativeSo = _this.currentNativeSource) === null || _this$currentNativeSo === void 0 ? void 0 : _this$currentNativeSo.loadDataTransfer(e.dataTransfer);\n      }\n\n      _this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = function (e) {\n      var dropTargetIds = _this.dropTargetIds;\n      _this.dropTargetIds = [];\n\n      _this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset(e)\n      });\n\n      _this.actions.drop({\n        dropEffect: _this.getCurrentDropEffect()\n      });\n\n      if (_this.isDraggingNativeItem()) {\n        _this.endDragNativeItem();\n      } else {\n        _this.endDragIfSourceWasRemovedFromDOM();\n      }\n    };\n\n    this.handleSelectStart = function (e) {\n      var target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader(globalContext);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n  /**\n   * Generate profiling statistics for the HTML5Backend.\n   */\n\n\n  _createClass(HTML5BackendImpl, [{\n    key: \"profile\",\n    value: function profile() {\n      var _this$dragStartSource, _this$dragOverTargetI;\n\n      return {\n        sourcePreviewNodes: this.sourcePreviewNodes.size,\n        sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n        sourceNodeOptions: this.sourceNodeOptions.size,\n        sourceNodes: this.sourceNodes.size,\n        dragStartSourceIds: ((_this$dragStartSource = this.dragStartSourceIds) === null || _this$dragStartSource === void 0 ? void 0 : _this$dragStartSource.length) || 0,\n        dropTargetIds: this.dropTargetIds.length,\n        dragEnterTargetIds: this.dragEnterTargetIds.length,\n        dragOverTargetIds: ((_this$dragOverTargetI = this.dragOverTargetIds) === null || _this$dragOverTargetI === void 0 ? void 0 : _this$dragOverTargetI.length) || 0\n      };\n    } // public for test\n\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      if (this.window.__isReactDndBackendSetUp) {\n        throw new Error('Cannot have two HTML5 backends at the same time.');\n      }\n\n      this.window.__isReactDndBackendSetUp = true;\n      this.addEventListeners(this.window);\n    }\n  }, {\n    key: \"teardown\",\n    value: function teardown() {\n      if (this.window === undefined) {\n        return;\n      }\n\n      this.window.__isReactDndBackendSetUp = false;\n      this.removeEventListeners(this.window);\n      this.clearCurrentDragSourceNode();\n\n      if (this.asyncEndDragFrameId) {\n        this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n      }\n    }\n  }, {\n    key: \"connectDragPreview\",\n    value: function connectDragPreview(sourceId, node, options) {\n      var _this2 = this;\n\n      this.sourcePreviewNodeOptions.set(sourceId, options);\n      this.sourcePreviewNodes.set(sourceId, node);\n      return function () {\n        _this2.sourcePreviewNodes.delete(sourceId);\n\n        _this2.sourcePreviewNodeOptions.delete(sourceId);\n      };\n    }\n  }, {\n    key: \"connectDragSource\",\n    value: function connectDragSource(sourceId, node, options) {\n      var _this3 = this;\n\n      this.sourceNodes.set(sourceId, node);\n      this.sourceNodeOptions.set(sourceId, options);\n\n      var handleDragStart = function handleDragStart(e) {\n        return _this3.handleDragStart(e, sourceId);\n      };\n\n      var handleSelectStart = function handleSelectStart(e) {\n        return _this3.handleSelectStart(e);\n      };\n\n      node.setAttribute('draggable', 'true');\n      node.addEventListener('dragstart', handleDragStart);\n      node.addEventListener('selectstart', handleSelectStart);\n      return function () {\n        _this3.sourceNodes.delete(sourceId);\n\n        _this3.sourceNodeOptions.delete(sourceId);\n\n        node.removeEventListener('dragstart', handleDragStart);\n        node.removeEventListener('selectstart', handleSelectStart);\n        node.setAttribute('draggable', 'false');\n      };\n    }\n  }, {\n    key: \"connectDropTarget\",\n    value: function connectDropTarget(targetId, node) {\n      var _this4 = this;\n\n      var handleDragEnter = function handleDragEnter(e) {\n        return _this4.handleDragEnter(e, targetId);\n      };\n\n      var handleDragOver = function handleDragOver(e) {\n        return _this4.handleDragOver(e, targetId);\n      };\n\n      var handleDrop = function handleDrop(e) {\n        return _this4.handleDrop(e, targetId);\n      };\n\n      node.addEventListener('dragenter', handleDragEnter);\n      node.addEventListener('dragover', handleDragOver);\n      node.addEventListener('drop', handleDrop);\n      return function () {\n        node.removeEventListener('dragenter', handleDragEnter);\n        node.removeEventListener('dragover', handleDragOver);\n        node.removeEventListener('drop', handleDrop);\n      };\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.addEventListener) {\n        return;\n      }\n\n      target.addEventListener('dragstart', this.handleTopDragStart);\n      target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.addEventListener('dragenter', this.handleTopDragEnter);\n      target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.addEventListener('dragover', this.handleTopDragOver);\n      target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.addEventListener('drop', this.handleTopDrop);\n      target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"removeEventListeners\",\n    value: function removeEventListeners(target) {\n      // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n      if (!target.removeEventListener) {\n        return;\n      }\n\n      target.removeEventListener('dragstart', this.handleTopDragStart);\n      target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n      target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n      target.removeEventListener('dragenter', this.handleTopDragEnter);\n      target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n      target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n      target.removeEventListener('dragover', this.handleTopDragOver);\n      target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n      target.removeEventListener('drop', this.handleTopDrop);\n      target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n  }, {\n    key: \"getCurrentSourceNodeOptions\",\n    value: function getCurrentSourceNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n      return _objectSpread({\n        dropEffect: this.altKeyPressed ? 'copy' : 'move'\n      }, sourceNodeOptions || {});\n    }\n  }, {\n    key: \"getCurrentDropEffect\",\n    value: function getCurrentDropEffect() {\n      if (this.isDraggingNativeItem()) {\n        // It makes more sense to default to 'copy' for native resources\n        return 'copy';\n      }\n\n      return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n  }, {\n    key: \"getCurrentSourcePreviewNodeOptions\",\n    value: function getCurrentSourcePreviewNodeOptions() {\n      var sourceId = this.monitor.getSourceId();\n      var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n      return _objectSpread({\n        anchorX: 0.5,\n        anchorY: 0.5,\n        captureDraggingState: false\n      }, sourcePreviewNodeOptions || {});\n    }\n  }, {\n    key: \"isDraggingNativeItem\",\n    value: function isDraggingNativeItem() {\n      var itemType = this.monitor.getItemType();\n      return Object.keys(NativeTypes).some(function (key) {\n        return NativeTypes[key] === itemType;\n      });\n    }\n  }, {\n    key: \"beginDragNativeItem\",\n    value: function beginDragNativeItem(type, dataTransfer) {\n      this.clearCurrentDragSourceNode();\n      this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n      this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n      this.actions.beginDrag([this.currentNativeHandle]);\n    }\n  }, {\n    key: \"setCurrentDragSourceNode\",\n    value: function setCurrentDragSourceNode(node) {\n      var _this5 = this;\n\n      this.clearCurrentDragSourceNode();\n      this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n\n      var MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n      // means it has ended and the drag source node disappeared from DOM,\n      // so the browser didn't dispatch the dragend event.\n      //\n      // We need to wait before we start listening for mousemove events.\n      // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n      // immediately in some browsers.\n      //\n      // See:\n      //   * https://github.com/react-dnd/react-dnd/pull/928\n      //   * https://github.com/react-dnd/react-dnd/issues/869\n      //\n\n      this.mouseMoveTimeoutTimer = setTimeout(function () {\n        return _this5.window && _this5.window.addEventListener('mousemove', _this5.endDragIfSourceWasRemovedFromDOM, true);\n      }, MOUSE_MOVE_TIMEOUT);\n    }\n  }, {\n    key: \"clearCurrentDragSourceNode\",\n    value: function clearCurrentDragSourceNode() {\n      if (this.currentDragSourceNode) {\n        this.currentDragSourceNode = null;\n\n        if (this.window) {\n          this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n          this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }\n\n        this.mouseMoveTimeoutTimer = null;\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"handleDragStart\",\n    value: function handleDragStart(e, sourceId) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!this.dragStartSourceIds) {\n        this.dragStartSourceIds = [];\n      }\n\n      this.dragStartSourceIds.unshift(sourceId);\n    }\n  }, {\n    key: \"handleDragEnter\",\n    value: function handleDragEnter(e, targetId) {\n      this.dragEnterTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDragOver\",\n    value: function handleDragOver(e, targetId) {\n      if (this.dragOverTargetIds === null) {\n        this.dragOverTargetIds = [];\n      }\n\n      this.dragOverTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"handleDrop\",\n    value: function handleDrop(e, targetId) {\n      this.dropTargetIds.unshift(targetId);\n    }\n  }, {\n    key: \"window\",\n    get: function get() {\n      return this.options.window;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.options.document;\n    }\n  }]);\n\n  return HTML5BackendImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var MonotonicInterpolant = /*#__PURE__*/function () {\n  function MonotonicInterpolant(xs, ys) {\n    _classCallCheck(this, MonotonicInterpolant);\n\n    var length = xs.length; // Rearrange xs and ys so that xs is sorted\n\n    var indexes = [];\n\n    for (var i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort(function (a, b) {\n      return xs[a] < xs[b] ? -1 : 1;\n    }); // Get consecutive differences and slopes\n\n    var dys = [];\n    var dxs = [];\n    var ms = [];\n    var dx;\n    var dy;\n\n    for (var _i = 0; _i < length - 1; _i++) {\n      dx = xs[_i + 1] - xs[_i];\n      dy = ys[_i + 1] - ys[_i];\n      dxs.push(dx);\n      dys.push(dy);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    var c1s = [ms[0]];\n\n    for (var _i2 = 0; _i2 < dxs.length - 1; _i2++) {\n      var m2 = ms[_i2];\n      var mNext = ms[_i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[_i2];\n        var dxNext = dxs[_i2 + 1];\n        var common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    var c2s = [];\n    var c3s = [];\n    var m;\n\n    for (var _i3 = 0; _i3 < c1s.length - 1; _i3++) {\n      m = ms[_i3];\n      var c1 = c1s[_i3];\n      var invDx = 1 / dxs[_i3];\n\n      var _common = c1 + c1s[_i3 + 1] - m - m;\n\n      c2s.push((m - c1 - _common) * invDx);\n      c3s.push(_common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n  _createClass(MonotonicInterpolant, [{\n    key: \"interpolate\",\n    value: function interpolate(x) {\n      var xs = this.xs,\n          ys = this.ys,\n          c1s = this.c1s,\n          c2s = this.c2s,\n          c3s = this.c3s; // The rightmost point in the dataset should give an exact result\n\n      var i = xs.length - 1;\n\n      if (x === xs[i]) {\n        return ys[i];\n      } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n      var low = 0;\n      var high = c3s.length - 1;\n      var mid;\n\n      while (low <= high) {\n        mid = Math.floor(0.5 * (low + high));\n        var xHere = xs[mid];\n\n        if (xHere < x) {\n          low = mid + 1;\n        } else if (xHere > x) {\n          high = mid - 1;\n        } else {\n          return ys[mid];\n        }\n      }\n\n      i = Math.max(0, high); // Interpolate\n\n      var diff = x - xs[i];\n      var diffSq = diff * diff;\n      return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n  }]);\n\n  return MonotonicInterpolant;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var NativeDragSource = /*#__PURE__*/function () {\n  function NativeDragSource(config) {\n    _classCallCheck(this, NativeDragSource);\n\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n  _createClass(NativeDragSource, [{\n    key: \"initializeExposedProperties\",\n    value: function initializeExposedProperties() {\n      var _this = this;\n\n      Object.keys(this.config.exposeProperties).forEach(function (property) {\n        Object.defineProperty(_this.item, property, {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            // eslint-disable-next-line no-console\n            console.warn(\"Browser doesn't allow reading \\\"\".concat(property, \"\\\" until the drop event.\"));\n            return null;\n          }\n        });\n      });\n    }\n  }, {\n    key: \"loadDataTransfer\",\n    value: function loadDataTransfer(dataTransfer) {\n      var _this2 = this;\n\n      if (dataTransfer) {\n        var newProperties = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n          newProperties[property] = {\n            value: _this2.config.exposeProperties[property](dataTransfer, _this2.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        });\n        Object.defineProperties(this.item, newProperties);\n      }\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      return true;\n    }\n  }, {\n    key: \"beginDrag\",\n    value: function beginDrag() {\n      return this.item;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(monitor, handle) {\n      return handle === monitor.getSourceId();\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {// empty\n    }\n  }]);\n\n  return NativeDragSource;\n}();","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  var result = typesToTry.reduce(function (resultSoFar, typeToTry) {\n    return resultSoFar || dataTransfer.getData(typeToTry);\n  }, '');\n  return result != null ? result : defaultValue;\n}","import { nativeTypesConfig } from './nativeTypesConfig';\nimport { NativeDragSource } from './NativeDragSource';\nexport function createNativeDragSource(type, dataTransfer) {\n  var result = new NativeDragSource(nativeTypesConfig[type]);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(function (nativeItemType) {\n    var matchesTypes = nativeTypesConfig[nativeItemType].matchesTypes;\n    return matchesTypes.some(function (t) {\n      return dataTransferTypes.indexOf(t) > -1;\n    });\n  })[0] || null;\n}","var _nativeTypesConfig;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as NativeTypes from '../NativeTypes';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer';\nexport var nativeTypesConfig = (_nativeTypesConfig = {}, _defineProperty(_nativeTypesConfig, NativeTypes.FILE, {\n  exposeProperties: {\n    files: function files(dataTransfer) {\n      return Array.prototype.slice.call(dataTransfer.files);\n    },\n    items: function items(dataTransfer) {\n      return dataTransfer.items;\n    }\n  },\n  matchesTypes: ['Files']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.URL, {\n  exposeProperties: {\n    urls: function urls(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n    }\n  },\n  matchesTypes: ['Url', 'text/uri-list']\n}), _defineProperty(_nativeTypesConfig, NativeTypes.TEXT, {\n  exposeProperties: {\n    text: function text(dataTransfer, matchesTypes) {\n      return getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n    }\n  },\n  matchesTypes: ['Text', 'text/plain']\n}), _nativeTypesConfig);","export var FILE = '__NATIVE_FILE__';\nexport var URL = '__NATIVE_URL__';\nexport var TEXT = '__NATIVE_TEXT__';","import { isSafari, isFirefox } from './BrowserDetector';\nimport { MonotonicInterpolant } from './MonotonicInterpolant';\nvar ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n  var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  var _el$getBoundingClient = el.getBoundingClientRect(),\n      top = _el$getBoundingClient.top,\n      left = _el$getBoundingClient.left;\n\n  return {\n    x: left,\n    y: top\n  };\n}\nexport function getEventClientOffset(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var _document$documentEle;\n\n  return node.nodeName === 'IMG' && (isFirefox() || !((_document$documentEle = document.documentElement) === null || _document$documentEle === void 0 ? void 0 : _document$documentEle.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth: dragPreviewWidth,\n    dragPreviewHeight: dragPreviewHeight\n  };\n}\n\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  var isImage = isImageNode(dragPreview);\n  var dragPreviewNode = isImage ? sourceNode : dragPreview;\n  var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n  var offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  var sourceWidth = sourceNode.offsetWidth,\n      sourceHeight = sourceNode.offsetHeight;\n  var anchorX = anchorPoint.anchorX,\n      anchorY = anchorPoint.anchorY;\n\n  var _getDragPreviewSize = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight),\n      dragPreviewWidth = _getDragPreviewSize.dragPreviewWidth,\n      dragPreviewHeight = _getDragPreviewSize.dragPreviewHeight;\n\n  var calculateYOffset = function calculateYOffset() {\n    var interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    var y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  var calculateXOffset = function calculateXOffset() {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    var interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  var offsetX = offsetPoint.offsetX,\n      offsetY = offsetPoint.offsetY;\n  var isManualOffsetX = offsetX === 0 || offsetX;\n  var isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nexport var OptionsReader = /*#__PURE__*/function () {\n  function OptionsReader(globalContext) {\n    _classCallCheck(this, OptionsReader);\n\n    this.globalContext = globalContext;\n  }\n\n  _createClass(OptionsReader, [{\n    key: \"window\",\n    get: function get() {\n      if (this.globalContext) {\n        return this.globalContext;\n      } else if (typeof window !== 'undefined') {\n        return window;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      if (this.window) {\n        return this.window.document;\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return OptionsReader;\n}();","var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}","import { HTML5BackendImpl } from './HTML5BackendImpl';\nimport * as NativeTypes from './NativeTypes';\nexport { getEmptyImage } from './getEmptyImage';\nexport { NativeTypes };\nexport var HTML5Backend = function createBackend(manager, context) {\n  return new HTML5BackendImpl(manager, context);\n};","// cheap lodash replacements\nexport function memoize(fn) {\n  var result = null;\n\n  var memoized = function memoized() {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\nexport function union(itemsA, itemsB) {\n  var set = new Set();\n\n  var insertItem = function insertItem(item) {\n    return set.add(item);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  set.forEach(function (key) {\n    return result.push(key);\n  });\n  return result;\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { memo } from 'react';\nimport { DndContext, createDndContext } from './DndContext';\nvar refCount = 0;\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function (_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  React.useEffect(function () {\n    if (isGlobalInstance) {\n      refCount++;\n    }\n\n    return function () {\n      if (isGlobalInstance) {\n        refCount--;\n\n        if (refCount === 0) {\n          var context = getGlobalContext();\n          context[instanceSymbol] = null;\n        }\n      }\n    };\n  }, []);\n  return React.createElement(DndContext.Provider, {\n    value: manager\n  }, children);\n});\nDndProvider.displayName = 'DndProvider';\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nvar instanceSymbol = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[instanceSymbol]) {\n    ctx[instanceSymbol] = createDndContext(backend, context, options, debugMode);\n  }\n\n  return ctx[instanceSymbol];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}","import React,{cloneElement,isValidElement,createRef,PureComponent,forwardRef,Component,useRef,useEffect,useState}from'react';import {findDOMNode}from'react-dom';import rafSchd from'raf-schd';import debounce from'lodash.debounce';import throttle from'lodash.throttle';/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}var patchResizeHandler = function (resizeCallback, refreshMode, refreshRate, refreshOptions) {\r\n    switch (refreshMode) {\r\n        case 'debounce':\r\n            return debounce(resizeCallback, refreshRate, refreshOptions);\r\n        case 'throttle':\r\n            return throttle(resizeCallback, refreshRate, refreshOptions);\r\n        default:\r\n            return resizeCallback;\r\n    }\r\n};\r\nvar isFunction = function (fn) { return typeof fn === 'function'; };\r\nvar isSSR = function () { return typeof window === 'undefined'; };\r\nvar isDOMElement = function (element) { return element instanceof Element || element instanceof HTMLDocument; };var ResizeDetector = /** @class */ (function (_super) {\r\n    __extends(ResizeDetector, _super);\r\n    function ResizeDetector(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.cancelHandler = function () {\r\n            if (_this.resizeHandler && _this.resizeHandler.cancel) {\r\n                // cancel debounced handler\r\n                _this.resizeHandler.cancel();\r\n                _this.resizeHandler = null;\r\n            }\r\n        };\r\n        _this.rafClean = function () {\r\n            if (_this.raf && _this.raf.cancel) {\r\n                _this.raf.cancel();\r\n                _this.raf = null;\r\n            }\r\n        };\r\n        _this.attachObserver = function () {\r\n            var targetRef = _this.props.targetRef;\r\n            if (targetRef && targetRef.current) {\r\n                _this.targetRef.current = targetRef.current;\r\n            }\r\n            var element = _this.getElement();\r\n            if (!element) {\r\n                // can't find element to observe\r\n                return;\r\n            }\r\n            if (_this.observableElement && _this.observableElement === element) {\r\n                // element is already observed\r\n                return;\r\n            }\r\n            _this.observableElement = element;\r\n            _this.resizeObserver.observe(element);\r\n        };\r\n        _this.getElement = function () {\r\n            var _a = _this.props, querySelector = _a.querySelector, targetDomEl = _a.targetDomEl;\r\n            if (isSSR())\r\n                return null;\r\n            // in case we pass a querySelector\r\n            if (querySelector)\r\n                return document.querySelector(querySelector);\r\n            // in case we pass a DOM element\r\n            if (targetDomEl && isDOMElement(targetDomEl))\r\n                return targetDomEl;\r\n            // in case we pass a React ref using React.createRef()\r\n            if (_this.targetRef && isDOMElement(_this.targetRef.current))\r\n                return _this.targetRef.current;\r\n            // the worse case when we don't receive any information from the parent and the library doesn't add any wrappers\r\n            // we have to use a deprecated `findDOMNode` method in order to find a DOM element to attach to\r\n            var currentElement = findDOMNode(_this);\r\n            if (!currentElement)\r\n                return null;\r\n            var renderType = _this.getRenderType();\r\n            switch (renderType) {\r\n                case 'renderProp':\r\n                    return currentElement;\r\n                case 'childFunction':\r\n                    return currentElement;\r\n                case 'child':\r\n                    return currentElement;\r\n                case 'childArray':\r\n                    return currentElement;\r\n                default:\r\n                    return currentElement.parentElement;\r\n            }\r\n        };\r\n        _this.createUpdater = function () {\r\n            _this.rafClean();\r\n            _this.raf = rafSchd(function (_a) {\r\n                var width = _a.width, height = _a.height;\r\n                var onResize = _this.props.onResize;\r\n                if (onResize && isFunction(onResize)) {\r\n                    onResize(width, height);\r\n                }\r\n                _this.setState({ width: width, height: height });\r\n            });\r\n            return _this.raf;\r\n        };\r\n        _this.createResizeHandler = function (entries) {\r\n            var _a = _this.state, widthCurrent = _a.width, heightCurrent = _a.height;\r\n            var _b = _this.props, _c = _b.handleWidth, handleWidth = _c === void 0 ? true : _c, _d = _b.handleHeight, handleHeight = _d === void 0 ? true : _d;\r\n            if (!handleWidth && !handleHeight)\r\n                return;\r\n            var updater = _this.createUpdater();\r\n            entries.forEach(function (entry) {\r\n                var _a = (entry && entry.contentRect) || {}, width = _a.width, height = _a.height;\r\n                var isWidthChanged = handleWidth && widthCurrent !== width;\r\n                var isHeightChanged = handleHeight && heightCurrent !== height;\r\n                var isSizeChanged = isWidthChanged || isHeightChanged;\r\n                var shouldSetSize = !_this.skipOnMount && isSizeChanged && !isSSR();\r\n                if (shouldSetSize) {\r\n                    updater({ width: width, height: height });\r\n                }\r\n                _this.skipOnMount = false;\r\n            });\r\n        };\r\n        _this.getRenderType = function () {\r\n            var _a = _this.props, render = _a.render, children = _a.children;\r\n            if (isFunction(render)) {\r\n                // DEPRECATED. Use `Child Function Pattern` instead\r\n                return 'renderProp';\r\n            }\r\n            if (isFunction(children)) {\r\n                return 'childFunction';\r\n            }\r\n            if (isValidElement(children)) {\r\n                return 'child';\r\n            }\r\n            if (Array.isArray(children)) {\r\n                // DEPRECATED. Wrap children with a single parent\r\n                return 'childArray';\r\n            }\r\n            // DEPRECATED. Use `Child Function Pattern` instead\r\n            return 'parent';\r\n        };\r\n        var skipOnMount = props.skipOnMount, refreshMode = props.refreshMode, _a = props.refreshRate, refreshRate = _a === void 0 ? 1000 : _a, refreshOptions = props.refreshOptions;\r\n        _this.state = {\r\n            width: undefined,\r\n            height: undefined\r\n        };\r\n        _this.skipOnMount = skipOnMount;\r\n        _this.raf = null;\r\n        _this.targetRef = createRef();\r\n        _this.observableElement = null;\r\n        _this.resizeHandler = patchResizeHandler(_this.createResizeHandler, refreshMode, refreshRate, refreshOptions);\r\n        _this.resizeObserver = new ResizeObserver(_this.resizeHandler);\r\n        return _this;\r\n    }\r\n    ResizeDetector.prototype.componentDidMount = function () {\r\n        this.attachObserver();\r\n    };\r\n    ResizeDetector.prototype.componentDidUpdate = function () {\r\n        this.attachObserver();\r\n    };\r\n    ResizeDetector.prototype.componentWillUnmount = function () {\r\n        this.resizeObserver.disconnect();\r\n        this.rafClean();\r\n        this.cancelHandler();\r\n    };\r\n    ResizeDetector.prototype.render = function () {\r\n        var _a = this.props, render = _a.render, children = _a.children, _b = _a.nodeType, WrapperTag = _b === void 0 ? 'div' : _b;\r\n        var _c = this.state, width = _c.width, height = _c.height;\r\n        var childProps = { width: width, height: height, targetRef: this.targetRef };\r\n        var renderType = this.getRenderType();\r\n        var typedChildren;\r\n        switch (renderType) {\r\n            case 'renderProp':\r\n                return render && render(childProps);\r\n            case 'childFunction':\r\n                typedChildren = children;\r\n                return typedChildren(childProps);\r\n            case 'child':\r\n                // @TODO bug prone logic\r\n                typedChildren = children;\r\n                if (typedChildren.type && typeof typedChildren.type === 'string') {\r\n                    // child is a native DOM elements such as div, span etc\r\n                    var nativeProps = __rest(childProps, [\"targetRef\"]);\r\n                    return cloneElement(typedChildren, nativeProps);\r\n                }\r\n                // class or functional component otherwise\r\n                return cloneElement(typedChildren, childProps);\r\n            case 'childArray':\r\n                typedChildren = children;\r\n                return typedChildren.map(function (el) { return !!el && cloneElement(el, childProps); });\r\n            default:\r\n                return React.createElement(WrapperTag, null);\r\n        }\r\n    };\r\n    return ResizeDetector;\r\n}(PureComponent));function withResizeDetector(ComponentInner, options) {\r\n    var ResizeDetectorHOC = /** @class */ (function (_super) {\r\n        __extends(ResizeDetectorHOC, _super);\r\n        function ResizeDetectorHOC() {\r\n            var _this = _super !== null && _super.apply(this, arguments) || this;\r\n            _this.ref = createRef();\r\n            return _this;\r\n        }\r\n        ResizeDetectorHOC.prototype.render = function () {\r\n            var _a = this.props, forwardedRef = _a.forwardedRef, rest = __rest(_a, [\"forwardedRef\"]);\r\n            var targetRef = forwardedRef || this.ref;\r\n            return (React.createElement(ResizeDetector, __assign({}, options, { targetRef: targetRef }),\r\n                React.createElement(ComponentInner, __assign({ targetRef: targetRef }, rest))));\r\n        };\r\n        return ResizeDetectorHOC;\r\n    }(Component));\r\n    function forwardRefWrapper(props, ref) {\r\n        return React.createElement(ResizeDetectorHOC, __assign({}, props, { forwardedRef: ref }));\r\n    }\r\n    var name = ComponentInner.displayName || ComponentInner.name;\r\n    forwardRefWrapper.displayName = \"withResizeDetector(\" + name + \")\";\r\n    return forwardRef(forwardRefWrapper);\r\n}var createAsyncNotifier = function (onResize, setSize) {\r\n    return rafSchd(function (_a) {\r\n        var width = _a.width, height = _a.height;\r\n        if (isFunction(onResize)) {\r\n            onResize(width, height);\r\n        }\r\n        setSize({ width: width, height: height });\r\n    });\r\n};\r\nfunction useResizeDetector(props) {\r\n    if (props === void 0) { props = {}; }\r\n    var _a = props.skipOnMount, skipOnMount = _a === void 0 ? false : _a, refreshMode = props.refreshMode, _b = props.refreshRate, refreshRate = _b === void 0 ? 1000 : _b, refreshOptions = props.refreshOptions, _c = props.handleWidth, handleWidth = _c === void 0 ? true : _c, _d = props.handleHeight, handleHeight = _d === void 0 ? true : _d, onResize = props.onResize;\r\n    var skipResize = useRef(null);\r\n    var ref = useRef();\r\n    var resizeHandler = useRef(null);\r\n    var onResizeCallback = useRef(onResize);\r\n    useEffect(function () {\r\n        if (skipResize.current === null) {\r\n            skipResize.current = skipOnMount;\r\n        }\r\n    }, [skipOnMount]);\r\n    var _e = useState({\r\n        width: undefined,\r\n        height: undefined\r\n    }), size = _e[0], setSize = _e[1];\r\n    useEffect(function () {\r\n        var notifyResizeAsync = createAsyncNotifier(onResizeCallback.current, setSize);\r\n        var resizeCallback = function (entries) {\r\n            if (!handleWidth && !handleHeight)\r\n                return;\r\n            entries.forEach(function (entry) {\r\n                var _a = (entry && entry.contentRect) || {}, width = _a.width, height = _a.height;\r\n                var shouldSetSize = !skipResize.current && !isSSR();\r\n                if (shouldSetSize) {\r\n                    notifyResizeAsync({ width: width, height: height });\r\n                }\r\n                skipResize.current = false;\r\n            });\r\n        };\r\n        resizeHandler.current = patchResizeHandler(resizeCallback, refreshMode, refreshRate, refreshOptions);\r\n        var resizeObserver = new ResizeObserver(resizeHandler.current);\r\n        if (ref.current) {\r\n            resizeObserver.observe(ref.current);\r\n        }\r\n        return function () {\r\n            resizeObserver.disconnect();\r\n            notifyResizeAsync.cancel();\r\n            var patchedResizeHandler = resizeHandler.current;\r\n            if (patchedResizeHandler && patchedResizeHandler.cancel) {\r\n                patchedResizeHandler.cancel();\r\n            }\r\n        };\r\n    }, [refreshMode, refreshRate, refreshOptions, handleWidth, handleHeight, onResizeCallback]);\r\n    return __assign({ ref: ref }, size);\r\n}export default ResizeDetector;export{useResizeDetector,withResizeDetector};//# sourceMappingURL=index.esm.js.map\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Split from 'split.js';\n\nfunction objectWithoutProperties (obj, exclude) { var target = {}; for (var k in obj) if (Object.prototype.hasOwnProperty.call(obj, k) && exclude.indexOf(k) === -1) target[k] = obj[k]; return target; }\n\nvar SplitWrapper = /*@__PURE__*/(function (superclass) {\n    function SplitWrapper () {\n        superclass.apply(this, arguments);\n    }\n\n    if ( superclass ) SplitWrapper.__proto__ = superclass;\n    SplitWrapper.prototype = Object.create( superclass && superclass.prototype );\n    SplitWrapper.prototype.constructor = SplitWrapper;\n\n    SplitWrapper.prototype.componentDidMount = function componentDidMount () {\n        var ref = this.props;\n        var children = ref.children;\n        var gutter = ref.gutter;\n        var rest = objectWithoutProperties( ref, [\"children\", \"gutter\"] );\n        var options = rest;\n\n        options.gutter = function (index, direction) {\n            var gutterElement;\n\n            if (gutter) {\n                gutterElement = gutter(index, direction);\n            } else {\n                gutterElement = document.createElement('div');\n                gutterElement.className = \"gutter gutter-\" + direction;\n            }\n\n            // eslint-disable-next-line no-underscore-dangle\n            gutterElement.__isSplitGutter = true;\n            return gutterElement\n        };\n\n        this.split = Split(this.parent.children, options);\n    };\n\n    SplitWrapper.prototype.componentDidUpdate = function componentDidUpdate (prevProps) {\n        var this$1 = this;\n\n        var ref = this.props;\n        var children = ref.children;\n        var minSize = ref.minSize;\n        var sizes = ref.sizes;\n        var collapsed = ref.collapsed;\n        var rest = objectWithoutProperties( ref, [\"children\", \"minSize\", \"sizes\", \"collapsed\"] );\n        var options = rest;\n        var prevMinSize = prevProps.minSize;\n        var prevSizes = prevProps.sizes;\n        var prevCollapsed = prevProps.collapsed;\n\n        var otherProps = [\n            'expandToMin',\n            'gutterSize',\n            'gutterAlign',\n            'snapOffset',\n            'dragInterval',\n            'direction',\n            'cursor' ];\n\n        var needsRecreate = otherProps\n            // eslint-disable-next-line react/destructuring-assignment\n            .map(function (prop) { return this$1.props[prop] !== prevProps[prop]; })\n            .reduce(function (accum, same) { return accum || same; }, false);\n\n        // Compare minSize when both are arrays, when one is an array and when neither is an array\n        if (Array.isArray(minSize) && Array.isArray(prevMinSize)) {\n            var minSizeChanged = false;\n\n            minSize.forEach(function (minSizeI, i) {\n                minSizeChanged = minSizeChanged || minSizeI !== prevMinSize[i];\n            });\n\n            needsRecreate = needsRecreate || minSizeChanged;\n        } else if (Array.isArray(minSize) || Array.isArray(prevMinSize)) {\n            needsRecreate = true;\n        } else {\n            needsRecreate = needsRecreate || minSize !== prevMinSize;\n        }\n\n        // Destroy and re-create split if options changed\n        if (needsRecreate) {\n            options.minSize = minSize;\n            options.sizes = sizes || this.split.getSizes();\n            this.split.destroy(true, true);\n            options.gutter = function (index, direction, pairB) { return pairB.previousSibling; };\n            this.split = Split(\n                Array.from(this.parent.children).filter(\n                    // eslint-disable-next-line no-underscore-dangle\n                    function (element) { return !element.__isSplitGutter; }\n                ),\n                options\n            );\n        } else if (sizes) {\n            // If only the size has changed, set the size. No need to do this if re-created.\n            var sizeChanged = false;\n\n            sizes.forEach(function (sizeI, i) {\n                sizeChanged = sizeChanged || sizeI !== prevSizes[i];\n            });\n\n            if (sizeChanged) {\n                // eslint-disable-next-line react/destructuring-assignment\n                this.split.setSizes(this.props.sizes);\n            }\n        }\n\n        // Collapse after re-created or when collapsed changed.\n        if (\n            Number.isInteger(collapsed) &&\n            (collapsed !== prevCollapsed || needsRecreate)\n        ) {\n            this.split.collapse(collapsed);\n        }\n    };\n\n    SplitWrapper.prototype.componentWillUnmount = function componentWillUnmount () {\n        this.split.destroy();\n        delete this.split;\n    };\n\n    SplitWrapper.prototype.render = function render () {\n        var this$1 = this;\n\n        var ref = this.props;\n        var sizes = ref.sizes;\n        var minSize = ref.minSize;\n        var expandToMin = ref.expandToMin;\n        var gutterSize = ref.gutterSize;\n        var gutterAlign = ref.gutterAlign;\n        var snapOffset = ref.snapOffset;\n        var dragInterval = ref.dragInterval;\n        var direction = ref.direction;\n        var cursor = ref.cursor;\n        var gutter = ref.gutter;\n        var elementStyle = ref.elementStyle;\n        var gutterStyle = ref.gutterStyle;\n        var onDrag = ref.onDrag;\n        var onDragStart = ref.onDragStart;\n        var onDragEnd = ref.onDragEnd;\n        var collapsed = ref.collapsed;\n        var children = ref.children;\n        var rest$1 = objectWithoutProperties( ref, [\"sizes\", \"minSize\", \"expandToMin\", \"gutterSize\", \"gutterAlign\", \"snapOffset\", \"dragInterval\", \"direction\", \"cursor\", \"gutter\", \"elementStyle\", \"gutterStyle\", \"onDrag\", \"onDragStart\", \"onDragEnd\", \"collapsed\", \"children\"] );\n        var rest = rest$1;\n\n        return (\n            React.createElement( 'div', Object.assign({},\n                { ref: function (parent) {\n                    this$1.parent = parent;\n                } }, rest),\n                children\n            )\n        )\n    };\n\n    return SplitWrapper;\n}(React.Component));\n\nSplitWrapper.propTypes = {\n    sizes: PropTypes.arrayOf(PropTypes.number),\n    minSize: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(PropTypes.number) ]),\n    expandToMin: PropTypes.bool,\n    gutterSize: PropTypes.number,\n    gutterAlign: PropTypes.string,\n    snapOffset: PropTypes.number,\n    dragInterval: PropTypes.number,\n    direction: PropTypes.string,\n    cursor: PropTypes.string,\n    gutter: PropTypes.func,\n    elementStyle: PropTypes.func,\n    gutterStyle: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    collapsed: PropTypes.number,\n    children: PropTypes.arrayOf(PropTypes.element),\n};\n\nSplitWrapper.defaultProps = {\n    sizes: undefined,\n    minSize: undefined,\n    expandToMin: undefined,\n    gutterSize: undefined,\n    gutterAlign: undefined,\n    snapOffset: undefined,\n    dragInterval: undefined,\n    direction: undefined,\n    cursor: undefined,\n    gutter: undefined,\n    elementStyle: undefined,\n    gutterStyle: undefined,\n    onDrag: undefined,\n    onDragStart: undefined,\n    onDragEnd: undefined,\n    collapsed: undefined,\n    children: undefined,\n};\n\nexport default SplitWrapper;\n","// The programming goals of Split.js are to deliver readable, understandable and\n// maintainable code, while at the same time manually optimizing for tiny minified file size,\n// browser compatibility without additional requirements\n// and very few assumptions about the user's page layout.\nvar global = typeof window !== 'undefined' ? window : null;\nvar ssr = global === null;\nvar document = !ssr ? global.document : undefined;\n\n// Save a couple long function names that are used frequently.\n// This optimization saves around 400 bytes.\nvar addEventListener = 'addEventListener';\nvar removeEventListener = 'removeEventListener';\nvar getBoundingClientRect = 'getBoundingClientRect';\nvar gutterStartDragging = '_a';\nvar aGutterSize = '_b';\nvar bGutterSize = '_c';\nvar HORIZONTAL = 'horizontal';\nvar NOOP = function () { return false; };\n\n// Helper function determines which prefixes of CSS calc we need.\n// We only need to do this once on startup, when this anonymous function is called.\n//\n// Tests -webkit, -moz and -o prefixes. Modified from StackOverflow:\n// http://stackoverflow.com/questions/16625140/js-feature-detection-to-detect-the-usage-of-webkit-calc-over-calc/16625167#16625167\nvar calc = ssr\n    ? 'calc'\n    : ((['', '-webkit-', '-moz-', '-o-']\n          .filter(function (prefix) {\n              var el = document.createElement('div');\n              el.style.cssText = \"width:\" + prefix + \"calc(9px)\";\n\n              return !!el.style.length\n          })\n          .shift()) + \"calc\");\n\n// Helper function checks if its argument is a string-like type\nvar isString = function (v) { return typeof v === 'string' || v instanceof String; };\n\n// Helper function allows elements and string selectors to be used\n// interchangeably. In either case an element is returned. This allows us to\n// do `Split([elem1, elem2])` as well as `Split(['#id1', '#id2'])`.\nvar elementOrSelector = function (el) {\n    if (isString(el)) {\n        var ele = document.querySelector(el);\n        if (!ele) {\n            throw new Error((\"Selector \" + el + \" did not match a DOM element\"))\n        }\n        return ele\n    }\n\n    return el\n};\n\n// Helper function gets a property from the properties object, with a default fallback\nvar getOption = function (options, propName, def) {\n    var value = options[propName];\n    if (value !== undefined) {\n        return value\n    }\n    return def\n};\n\nvar getGutterSize = function (gutterSize, isFirst, isLast, gutterAlign) {\n    if (isFirst) {\n        if (gutterAlign === 'end') {\n            return 0\n        }\n        if (gutterAlign === 'center') {\n            return gutterSize / 2\n        }\n    } else if (isLast) {\n        if (gutterAlign === 'start') {\n            return 0\n        }\n        if (gutterAlign === 'center') {\n            return gutterSize / 2\n        }\n    }\n\n    return gutterSize\n};\n\n// Default options\nvar defaultGutterFn = function (i, gutterDirection) {\n    var gut = document.createElement('div');\n    gut.className = \"gutter gutter-\" + gutterDirection;\n    return gut\n};\n\nvar defaultElementStyleFn = function (dim, size, gutSize) {\n    var style = {};\n\n    if (!isString(size)) {\n        style[dim] = calc + \"(\" + size + \"% - \" + gutSize + \"px)\";\n    } else {\n        style[dim] = size;\n    }\n\n    return style\n};\n\nvar defaultGutterStyleFn = function (dim, gutSize) {\n    var obj;\n\n    return (( obj = {}, obj[dim] = (gutSize + \"px\"), obj ));\n};\n\n// The main function to initialize a split. Split.js thinks about each pair\n// of elements as an independant pair. Dragging the gutter between two elements\n// only changes the dimensions of elements in that pair. This is key to understanding\n// how the following functions operate, since each function is bound to a pair.\n//\n// A pair object is shaped like this:\n//\n// {\n//     a: DOM element,\n//     b: DOM element,\n//     aMin: Number,\n//     bMin: Number,\n//     dragging: Boolean,\n//     parent: DOM element,\n//     direction: 'horizontal' | 'vertical'\n// }\n//\n// The basic sequence:\n//\n// 1. Set defaults to something sane. `options` doesn't have to be passed at all.\n// 2. Initialize a bunch of strings based on the direction we're splitting.\n//    A lot of the behavior in the rest of the library is paramatized down to\n//    rely on CSS strings and classes.\n// 3. Define the dragging helper functions, and a few helpers to go with them.\n// 4. Loop through the elements while pairing them off. Every pair gets an\n//    `pair` object and a gutter.\n// 5. Actually size the pair elements, insert gutters and attach event listeners.\nvar Split = function (idsOption, options) {\n    if ( options === void 0 ) options = {};\n\n    if (ssr) { return {} }\n\n    var ids = idsOption;\n    var dimension;\n    var clientAxis;\n    var position;\n    var positionEnd;\n    var clientSize;\n    var elements;\n\n    // Allow HTMLCollection to be used as an argument when supported\n    if (Array.from) {\n        ids = Array.from(ids);\n    }\n\n    // All DOM elements in the split should have a common parent. We can grab\n    // the first elements parent and hope users read the docs because the\n    // behavior will be whacky otherwise.\n    var firstElement = elementOrSelector(ids[0]);\n    var parent = firstElement.parentNode;\n    var parentStyle = getComputedStyle ? getComputedStyle(parent) : null;\n    var parentFlexDirection = parentStyle ? parentStyle.flexDirection : null;\n\n    // Set default options.sizes to equal percentages of the parent element.\n    var sizes = getOption(options, 'sizes') || ids.map(function () { return 100 / ids.length; });\n\n    // Standardize minSize to an array if it isn't already. This allows minSize\n    // to be passed as a number.\n    var minSize = getOption(options, 'minSize', 100);\n    var minSizes = Array.isArray(minSize) ? minSize : ids.map(function () { return minSize; });\n\n    // Get other options\n    var expandToMin = getOption(options, 'expandToMin', false);\n    var gutterSize = getOption(options, 'gutterSize', 10);\n    var gutterAlign = getOption(options, 'gutterAlign', 'center');\n    var snapOffset = getOption(options, 'snapOffset', 30);\n    var dragInterval = getOption(options, 'dragInterval', 1);\n    var direction = getOption(options, 'direction', HORIZONTAL);\n    var cursor = getOption(\n        options,\n        'cursor',\n        direction === HORIZONTAL ? 'col-resize' : 'row-resize'\n    );\n    var gutter = getOption(options, 'gutter', defaultGutterFn);\n    var elementStyle = getOption(\n        options,\n        'elementStyle',\n        defaultElementStyleFn\n    );\n    var gutterStyle = getOption(options, 'gutterStyle', defaultGutterStyleFn);\n\n    // 2. Initialize a bunch of strings based on the direction we're splitting.\n    // A lot of the behavior in the rest of the library is paramatized down to\n    // rely on CSS strings and classes.\n    if (direction === HORIZONTAL) {\n        dimension = 'width';\n        clientAxis = 'clientX';\n        position = 'left';\n        positionEnd = 'right';\n        clientSize = 'clientWidth';\n    } else if (direction === 'vertical') {\n        dimension = 'height';\n        clientAxis = 'clientY';\n        position = 'top';\n        positionEnd = 'bottom';\n        clientSize = 'clientHeight';\n    }\n\n    // 3. Define the dragging helper functions, and a few helpers to go with them.\n    // Each helper is bound to a pair object that contains its metadata. This\n    // also makes it easy to store references to listeners that that will be\n    // added and removed.\n    //\n    // Even though there are no other functions contained in them, aliasing\n    // this to self saves 50 bytes or so since it's used so frequently.\n    //\n    // The pair object saves metadata like dragging state, position and\n    // event listener references.\n\n    function setElementSize(el, size, gutSize, i) {\n        // Split.js allows setting sizes via numbers (ideally), or if you must,\n        // by string, like '300px'. This is less than ideal, because it breaks\n        // the fluid layout that `calc(% - px)` provides. You're on your own if you do that,\n        // make sure you calculate the gutter size by hand.\n        var style = elementStyle(dimension, size, gutSize, i);\n\n        Object.keys(style).forEach(function (prop) {\n            // eslint-disable-next-line no-param-reassign\n            el.style[prop] = style[prop];\n        });\n    }\n\n    function setGutterSize(gutterElement, gutSize, i) {\n        var style = gutterStyle(dimension, gutSize, i);\n\n        Object.keys(style).forEach(function (prop) {\n            // eslint-disable-next-line no-param-reassign\n            gutterElement.style[prop] = style[prop];\n        });\n    }\n\n    function getSizes() {\n        return elements.map(function (element) { return element.size; })\n    }\n\n    // Supports touch events, but not multitouch, so only the first\n    // finger `touches[0]` is counted.\n    function getMousePosition(e) {\n        if ('touches' in e) { return e.touches[0][clientAxis] }\n        return e[clientAxis]\n    }\n\n    // Actually adjust the size of elements `a` and `b` to `offset` while dragging.\n    // calc is used to allow calc(percentage + gutterpx) on the whole split instance,\n    // which allows the viewport to be resized without additional logic.\n    // Element a's size is the same as offset. b's size is total size - a size.\n    // Both sizes are calculated from the initial parent percentage,\n    // then the gutter size is subtracted.\n    function adjust(offset) {\n        var a = elements[this.a];\n        var b = elements[this.b];\n        var percentage = a.size + b.size;\n\n        a.size = (offset / this.size) * percentage;\n        b.size = percentage - (offset / this.size) * percentage;\n\n        setElementSize(a.element, a.size, this[aGutterSize], a.i);\n        setElementSize(b.element, b.size, this[bGutterSize], b.i);\n    }\n\n    // drag, where all the magic happens. The logic is really quite simple:\n    //\n    // 1. Ignore if the pair is not dragging.\n    // 2. Get the offset of the event.\n    // 3. Snap offset to min if within snappable range (within min + snapOffset).\n    // 4. Actually adjust each element in the pair to offset.\n    //\n    // ---------------------------------------------------------------------\n    // |    | <- a.minSize               ||              b.minSize -> |    |\n    // |    |  | <- this.snapOffset      ||     this.snapOffset -> |  |    |\n    // |    |  |                         ||                        |  |    |\n    // |    |  |                         ||                        |  |    |\n    // ---------------------------------------------------------------------\n    // | <- this.start                                        this.size -> |\n    function drag(e) {\n        var offset;\n        var a = elements[this.a];\n        var b = elements[this.b];\n\n        if (!this.dragging) { return }\n\n        // Get the offset of the event from the first side of the\n        // pair `this.start`. Then offset by the initial position of the\n        // mouse compared to the gutter size.\n        offset =\n            getMousePosition(e) -\n            this.start +\n            (this[aGutterSize] - this.dragOffset);\n\n        if (dragInterval > 1) {\n            offset = Math.round(offset / dragInterval) * dragInterval;\n        }\n\n        // If within snapOffset of min or max, set offset to min or max.\n        // snapOffset buffers a.minSize and b.minSize, so logic is opposite for both.\n        // Include the appropriate gutter sizes to prevent overflows.\n        if (offset <= a.minSize + snapOffset + this[aGutterSize]) {\n            offset = a.minSize + this[aGutterSize];\n        } else if (\n            offset >=\n            this.size - (b.minSize + snapOffset + this[bGutterSize])\n        ) {\n            offset = this.size - (b.minSize + this[bGutterSize]);\n        }\n\n        // Actually adjust the size.\n        adjust.call(this, offset);\n\n        // Call the drag callback continously. Don't do anything too intensive\n        // in this callback.\n        getOption(options, 'onDrag', NOOP)(getSizes());\n    }\n\n    // Cache some important sizes when drag starts, so we don't have to do that\n    // continously:\n    //\n    // `size`: The total size of the pair. First + second + first gutter + second gutter.\n    // `start`: The leading side of the first element.\n    //\n    // ------------------------------------------------\n    // |      aGutterSize -> |||                      |\n    // |                     |||                      |\n    // |                     |||                      |\n    // |                     ||| <- bGutterSize       |\n    // ------------------------------------------------\n    // | <- start                             size -> |\n    function calculateSizes() {\n        // Figure out the parent size minus padding.\n        var a = elements[this.a].element;\n        var b = elements[this.b].element;\n\n        var aBounds = a[getBoundingClientRect]();\n        var bBounds = b[getBoundingClientRect]();\n\n        this.size =\n            aBounds[dimension] +\n            bBounds[dimension] +\n            this[aGutterSize] +\n            this[bGutterSize];\n        this.start = aBounds[position];\n        this.end = aBounds[positionEnd];\n    }\n\n    function innerSize(element) {\n        // Return nothing if getComputedStyle is not supported (< IE9)\n        // Or if parent element has no layout yet\n        if (!getComputedStyle) { return null }\n\n        var computedStyle = getComputedStyle(element);\n\n        if (!computedStyle) { return null }\n\n        var size = element[clientSize];\n\n        if (size === 0) { return null }\n\n        if (direction === HORIZONTAL) {\n            size -=\n                parseFloat(computedStyle.paddingLeft) +\n                parseFloat(computedStyle.paddingRight);\n        } else {\n            size -=\n                parseFloat(computedStyle.paddingTop) +\n                parseFloat(computedStyle.paddingBottom);\n        }\n\n        return size\n    }\n\n    // When specifying percentage sizes that are less than the computed\n    // size of the element minus the gutter, the lesser percentages must be increased\n    // (and decreased from the other elements) to make space for the pixels\n    // subtracted by the gutters.\n    function trimToMin(sizesToTrim) {\n        // Try to get inner size of parent element.\n        // If it's no supported, return original sizes.\n        var parentSize = innerSize(parent);\n        if (parentSize === null) {\n            return sizesToTrim\n        }\n\n        if (minSizes.reduce(function (a, b) { return a + b; }, 0) > parentSize) {\n            return sizesToTrim\n        }\n\n        // Keep track of the excess pixels, the amount of pixels over the desired percentage\n        // Also keep track of the elements with pixels to spare, to decrease after if needed\n        var excessPixels = 0;\n        var toSpare = [];\n\n        var pixelSizes = sizesToTrim.map(function (size, i) {\n            // Convert requested percentages to pixel sizes\n            var pixelSize = (parentSize * size) / 100;\n            var elementGutterSize = getGutterSize(\n                gutterSize,\n                i === 0,\n                i === sizesToTrim.length - 1,\n                gutterAlign\n            );\n            var elementMinSize = minSizes[i] + elementGutterSize;\n\n            // If element is too smal, increase excess pixels by the difference\n            // and mark that it has no pixels to spare\n            if (pixelSize < elementMinSize) {\n                excessPixels += elementMinSize - pixelSize;\n                toSpare.push(0);\n                return elementMinSize\n            }\n\n            // Otherwise, mark the pixels it has to spare and return it's original size\n            toSpare.push(pixelSize - elementMinSize);\n            return pixelSize\n        });\n\n        // If nothing was adjusted, return the original sizes\n        if (excessPixels === 0) {\n            return sizesToTrim\n        }\n\n        return pixelSizes.map(function (pixelSize, i) {\n            var newPixelSize = pixelSize;\n\n            // While there's still pixels to take, and there's enough pixels to spare,\n            // take as many as possible up to the total excess pixels\n            if (excessPixels > 0 && toSpare[i] - excessPixels > 0) {\n                var takenPixels = Math.min(\n                    excessPixels,\n                    toSpare[i] - excessPixels\n                );\n\n                // Subtract the amount taken for the next iteration\n                excessPixels -= takenPixels;\n                newPixelSize = pixelSize - takenPixels;\n            }\n\n            // Return the pixel size adjusted as a percentage\n            return (newPixelSize / parentSize) * 100\n        })\n    }\n\n    // stopDragging is very similar to startDragging in reverse.\n    function stopDragging() {\n        var self = this;\n        var a = elements[self.a].element;\n        var b = elements[self.b].element;\n\n        if (self.dragging) {\n            getOption(options, 'onDragEnd', NOOP)(getSizes());\n        }\n\n        self.dragging = false;\n\n        // Remove the stored event listeners. This is why we store them.\n        global[removeEventListener]('mouseup', self.stop);\n        global[removeEventListener]('touchend', self.stop);\n        global[removeEventListener]('touchcancel', self.stop);\n        global[removeEventListener]('mousemove', self.move);\n        global[removeEventListener]('touchmove', self.move);\n\n        // Clear bound function references\n        self.stop = null;\n        self.move = null;\n\n        a[removeEventListener]('selectstart', NOOP);\n        a[removeEventListener]('dragstart', NOOP);\n        b[removeEventListener]('selectstart', NOOP);\n        b[removeEventListener]('dragstart', NOOP);\n\n        a.style.userSelect = '';\n        a.style.webkitUserSelect = '';\n        a.style.MozUserSelect = '';\n        a.style.pointerEvents = '';\n\n        b.style.userSelect = '';\n        b.style.webkitUserSelect = '';\n        b.style.MozUserSelect = '';\n        b.style.pointerEvents = '';\n\n        self.gutter.style.cursor = '';\n        self.parent.style.cursor = '';\n        document.body.style.cursor = '';\n    }\n\n    // startDragging calls `calculateSizes` to store the inital size in the pair object.\n    // It also adds event listeners for mouse/touch events,\n    // and prevents selection while dragging so avoid the selecting text.\n    function startDragging(e) {\n        // Right-clicking can't start dragging.\n        if ('button' in e && e.button !== 0) {\n            return\n        }\n\n        // Alias frequently used variables to save space. 200 bytes.\n        var self = this;\n        var a = elements[self.a].element;\n        var b = elements[self.b].element;\n\n        // Call the onDragStart callback.\n        if (!self.dragging) {\n            getOption(options, 'onDragStart', NOOP)(getSizes());\n        }\n\n        // Don't actually drag the element. We emulate that in the drag function.\n        e.preventDefault();\n\n        // Set the dragging property of the pair object.\n        self.dragging = true;\n\n        // Create two event listeners bound to the same pair object and store\n        // them in the pair object.\n        self.move = drag.bind(self);\n        self.stop = stopDragging.bind(self);\n\n        // All the binding. `window` gets the stop events in case we drag out of the elements.\n        global[addEventListener]('mouseup', self.stop);\n        global[addEventListener]('touchend', self.stop);\n        global[addEventListener]('touchcancel', self.stop);\n        global[addEventListener]('mousemove', self.move);\n        global[addEventListener]('touchmove', self.move);\n\n        // Disable selection. Disable!\n        a[addEventListener]('selectstart', NOOP);\n        a[addEventListener]('dragstart', NOOP);\n        b[addEventListener]('selectstart', NOOP);\n        b[addEventListener]('dragstart', NOOP);\n\n        a.style.userSelect = 'none';\n        a.style.webkitUserSelect = 'none';\n        a.style.MozUserSelect = 'none';\n        a.style.pointerEvents = 'none';\n\n        b.style.userSelect = 'none';\n        b.style.webkitUserSelect = 'none';\n        b.style.MozUserSelect = 'none';\n        b.style.pointerEvents = 'none';\n\n        // Set the cursor at multiple levels\n        self.gutter.style.cursor = cursor;\n        self.parent.style.cursor = cursor;\n        document.body.style.cursor = cursor;\n\n        // Cache the initial sizes of the pair.\n        calculateSizes.call(self);\n\n        // Determine the position of the mouse compared to the gutter\n        self.dragOffset = getMousePosition(e) - self.end;\n    }\n\n    // adjust sizes to ensure percentage is within min size and gutter.\n    sizes = trimToMin(sizes);\n\n    // 5. Create pair and element objects. Each pair has an index reference to\n    // elements `a` and `b` of the pair (first and second elements).\n    // Loop through the elements while pairing them off. Every pair gets a\n    // `pair` object and a gutter.\n    //\n    // Basic logic:\n    //\n    // - Starting with the second element `i > 0`, create `pair` objects with\n    //   `a = i - 1` and `b = i`\n    // - Set gutter sizes based on the _pair_ being first/last. The first and last\n    //   pair have gutterSize / 2, since they only have one half gutter, and not two.\n    // - Create gutter elements and add event listeners.\n    // - Set the size of the elements, minus the gutter sizes.\n    //\n    // -----------------------------------------------------------------------\n    // |     i=0     |         i=1         |        i=2       |      i=3     |\n    // |             |                     |                  |              |\n    // |           pair 0                pair 1             pair 2           |\n    // |             |                     |                  |              |\n    // -----------------------------------------------------------------------\n    var pairs = [];\n    elements = ids.map(function (id, i) {\n        // Create the element object.\n        var element = {\n            element: elementOrSelector(id),\n            size: sizes[i],\n            minSize: minSizes[i],\n            i: i,\n        };\n\n        var pair;\n\n        if (i > 0) {\n            // Create the pair object with its metadata.\n            pair = {\n                a: i - 1,\n                b: i,\n                dragging: false,\n                direction: direction,\n                parent: parent,\n            };\n\n            pair[aGutterSize] = getGutterSize(\n                gutterSize,\n                i - 1 === 0,\n                false,\n                gutterAlign\n            );\n            pair[bGutterSize] = getGutterSize(\n                gutterSize,\n                false,\n                i === ids.length - 1,\n                gutterAlign\n            );\n\n            // if the parent has a reverse flex-direction, switch the pair elements.\n            if (\n                parentFlexDirection === 'row-reverse' ||\n                parentFlexDirection === 'column-reverse'\n            ) {\n                var temp = pair.a;\n                pair.a = pair.b;\n                pair.b = temp;\n            }\n        }\n\n        // Determine the size of the current element. IE8 is supported by\n        // staticly assigning sizes without draggable gutters. Assigns a string\n        // to `size`.\n        //\n        // Create gutter elements for each pair.\n        if (i > 0) {\n            var gutterElement = gutter(i, direction, element.element);\n            setGutterSize(gutterElement, gutterSize, i);\n\n            // Save bound event listener for removal later\n            pair[gutterStartDragging] = startDragging.bind(pair);\n\n            // Attach bound event listener\n            gutterElement[addEventListener](\n                'mousedown',\n                pair[gutterStartDragging]\n            );\n            gutterElement[addEventListener](\n                'touchstart',\n                pair[gutterStartDragging]\n            );\n\n            parent.insertBefore(gutterElement, element.element);\n\n            pair.gutter = gutterElement;\n        }\n\n        setElementSize(\n            element.element,\n            element.size,\n            getGutterSize(\n                gutterSize,\n                i === 0,\n                i === ids.length - 1,\n                gutterAlign\n            ),\n            i\n        );\n\n        // After the first iteration, and we have a pair object, append it to the\n        // list of pairs.\n        if (i > 0) {\n            pairs.push(pair);\n        }\n\n        return element\n    });\n\n    function adjustToMin(element) {\n        var isLast = element.i === pairs.length;\n        var pair = isLast ? pairs[element.i - 1] : pairs[element.i];\n\n        calculateSizes.call(pair);\n\n        var size = isLast\n            ? pair.size - element.minSize - pair[bGutterSize]\n            : element.minSize + pair[aGutterSize];\n\n        adjust.call(pair, size);\n    }\n\n    elements.forEach(function (element) {\n        var computedSize = element.element[getBoundingClientRect]()[dimension];\n\n        if (computedSize < element.minSize) {\n            if (expandToMin) {\n                adjustToMin(element);\n            } else {\n                // eslint-disable-next-line no-param-reassign\n                element.minSize = computedSize;\n            }\n        }\n    });\n\n    function setSizes(newSizes) {\n        var trimmed = trimToMin(newSizes);\n        trimmed.forEach(function (newSize, i) {\n            if (i > 0) {\n                var pair = pairs[i - 1];\n\n                var a = elements[pair.a];\n                var b = elements[pair.b];\n\n                a.size = trimmed[i - 1];\n                b.size = newSize;\n\n                setElementSize(a.element, a.size, pair[aGutterSize], a.i);\n                setElementSize(b.element, b.size, pair[bGutterSize], b.i);\n            }\n        });\n    }\n\n    function destroy(preserveStyles, preserveGutter) {\n        pairs.forEach(function (pair) {\n            if (preserveGutter !== true) {\n                pair.parent.removeChild(pair.gutter);\n            } else {\n                pair.gutter[removeEventListener](\n                    'mousedown',\n                    pair[gutterStartDragging]\n                );\n                pair.gutter[removeEventListener](\n                    'touchstart',\n                    pair[gutterStartDragging]\n                );\n            }\n\n            if (preserveStyles !== true) {\n                var style = elementStyle(\n                    dimension,\n                    pair.a.size,\n                    pair[aGutterSize]\n                );\n\n                Object.keys(style).forEach(function (prop) {\n                    elements[pair.a].element.style[prop] = '';\n                    elements[pair.b].element.style[prop] = '';\n                });\n            }\n        });\n    }\n\n    return {\n        setSizes: setSizes,\n        getSizes: getSizes,\n        collapse: function collapse(i) {\n            adjustToMin(elements[i]);\n        },\n        destroy: destroy,\n        parent: parent,\n        pairs: pairs,\n    }\n};\n\nexport default Split;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default(astGenerator, language) {\n  var langs = astGenerator.listLanguages();\n  return langs.indexOf(language) !== -1;\n};\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createStyleObject = createStyleObject;\nexports.createClassNameString = createClassNameString;\nexports.createChildren = createChildren;\nexports.default = createElement;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\n// Get all possible permutations of all power sets\n//\n// Super simple, non-algorithmic solution since the\n// number of class names will not be greater than 3\nfunction powerSetPermutations(arr) {\n  if (arr.length === 0 || arr.length === 1) return arr;\n\n  if (arr.length === 2) {\n    // prettier-ignore\n    return [arr[0], arr[1], \"\".concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[1], \".\").concat(arr[0])];\n  }\n\n  if (arr.length >= 3) {\n    // Currently does not support more than 3 extra\n    // class names (after `.token` has been removed)\n    return [arr[0], arr[1], arr[2], \"\".concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[0], \".\").concat(arr[2]), \"\".concat(arr[1], \".\").concat(arr[0]), \"\".concat(arr[1], \".\").concat(arr[2]), \"\".concat(arr[2], \".\").concat(arr[0]), \"\".concat(arr[2], \".\").concat(arr[1]), \"\".concat(arr[0], \".\").concat(arr[1], \".\").concat(arr[2]), \"\".concat(arr[0], \".\").concat(arr[2], \".\").concat(arr[1]), \"\".concat(arr[1], \".\").concat(arr[0], \".\").concat(arr[2]), \"\".concat(arr[1], \".\").concat(arr[2], \".\").concat(arr[0]), \"\".concat(arr[2], \".\").concat(arr[0], \".\").concat(arr[1]), \"\".concat(arr[2], \".\").concat(arr[1], \".\").concat(arr[0])];\n  }\n}\n\nvar classNameCombinations = {};\n\nfunction getClassNameCombinations(classNames) {\n  if (classNames.length === 0 || classNames.length === 1) return classNames;\n  var key = classNames.join('.');\n\n  if (!classNameCombinations[key]) {\n    classNameCombinations[key] = powerSetPermutations(classNames);\n  }\n\n  return classNameCombinations[key];\n}\n\nfunction createStyleObject(classNames) {\n  var elementStyle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var stylesheet = arguments.length > 2 ? arguments[2] : undefined;\n  var nonTokenClassNames = classNames.filter(function (className) {\n    return className !== 'token';\n  });\n  var classNamesCombinations = getClassNameCombinations(nonTokenClassNames);\n  return classNamesCombinations.reduce(function (styleObject, className) {\n    return (0, _objectSpread2.default)({}, styleObject, stylesheet[className]);\n  }, elementStyle);\n}\n\nfunction createClassNameString(classNames) {\n  return classNames.join(' ');\n}\n\nfunction createChildren(stylesheet, useInlineStyles) {\n  var childrenCount = 0;\n  return function (children) {\n    childrenCount += 1;\n    return children.map(function (child, i) {\n      return createElement({\n        node: child,\n        stylesheet: stylesheet,\n        useInlineStyles: useInlineStyles,\n        key: \"code-segment-\".concat(childrenCount, \"-\").concat(i)\n      });\n    });\n  };\n}\n\nfunction createElement(_ref) {\n  var node = _ref.node,\n      stylesheet = _ref.stylesheet,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      useInlineStyles = _ref.useInlineStyles,\n      key = _ref.key;\n  var properties = node.properties,\n      type = node.type,\n      TagName = node.tagName,\n      value = node.value;\n\n  if (type === 'text') {\n    return value;\n  } else if (TagName) {\n    var childrenCreator = createChildren(stylesheet, useInlineStyles);\n    var props;\n\n    if (!useInlineStyles) {\n      props = (0, _objectSpread2.default)({}, properties, {\n        className: createClassNameString(properties.className)\n      });\n    } else {\n      var allStylesheetSelectors = Object.keys(stylesheet).reduce(function (classes, selector) {\n        selector.split('.').forEach(function (className) {\n          if (!classes.includes(className)) classes.push(className);\n        });\n        return classes;\n      }, []); // For compatibility with older versions of react-syntax-highlighter\n\n      var startingClassName = properties.className && properties.className.includes('token') ? ['token'] : [];\n      var className = properties.className && startingClassName.concat(properties.className.filter(function (className) {\n        return !allStylesheetSelectors.includes(className);\n      }));\n      props = (0, _objectSpread2.default)({}, properties, {\n        className: createClassNameString(className) || undefined,\n        style: createStyleObject(properties.className, Object.assign({}, properties.style, style), stylesheet)\n      });\n    }\n\n    var children = childrenCreator(node.children);\n    return _react.default.createElement(TagName, (0, _extends2.default)({\n      key: key\n    }, props), children);\n  }\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createElement = _interopRequireDefault(require(\"./create-element\"));\n\nvar _checkForListedLanguage = _interopRequireDefault(require(\"./checkForListedLanguage\"));\n\nvar newLineRegex = /\\n/g;\n\nfunction getNewLines(str) {\n  return str.match(newLineRegex);\n}\n\nfunction getAllLineNumbers(_ref) {\n  var lines = _ref.lines,\n      startingLineNumber = _ref.startingLineNumber,\n      style = _ref.style;\n  return lines.map(function (_, i) {\n    var number = i + startingLineNumber;\n    return _react.default.createElement(\"span\", {\n      key: \"line-\".concat(i),\n      className: \"react-syntax-highlighter-line-number\",\n      style: typeof style === 'function' ? style(number) : style\n    }, \"\".concat(number, \"\\n\"));\n  });\n}\n\nfunction AllLineNumbers(_ref2) {\n  var codeString = _ref2.codeString,\n      codeStyle = _ref2.codeStyle,\n      _ref2$containerStyle = _ref2.containerStyle,\n      containerStyle = _ref2$containerStyle === void 0 ? {\n    float: 'left',\n    paddingRight: '10px'\n  } : _ref2$containerStyle,\n      _ref2$numberStyle = _ref2.numberStyle,\n      numberStyle = _ref2$numberStyle === void 0 ? {} : _ref2$numberStyle,\n      startingLineNumber = _ref2.startingLineNumber;\n  return _react.default.createElement(\"code\", {\n    style: Object.assign({}, codeStyle, containerStyle)\n  }, getAllLineNumbers({\n    lines: codeString.replace(/\\n$/, '').split('\\n'),\n    style: numberStyle,\n    startingLineNumber: startingLineNumber\n  }));\n}\n\nfunction getEmWidthOfNumber(num) {\n  var len = num.toString().length;\n  return \"\".concat(len, \"em\");\n}\n\nfunction getInlineLineNumber(lineNumber, inlineLineNumberStyle) {\n  return {\n    type: 'element',\n    tagName: 'span',\n    properties: {\n      key: \"line-number--\".concat(lineNumber),\n      className: ['comment', 'linenumber', 'react-syntax-highlighter-line-number'],\n      style: inlineLineNumberStyle\n    },\n    children: [{\n      type: 'text',\n      value: lineNumber\n    }]\n  };\n}\n\nfunction assembleLineNumberStyles(lineNumberStyle, lineNumber, largestLineNumber) {\n  // minimally necessary styling for line numbers\n  var defaultLineNumberStyle = {\n    display: 'inline-block',\n    minWidth: getEmWidthOfNumber(largestLineNumber),\n    paddingRight: '1em',\n    textAlign: 'right',\n    userSelect: 'none'\n  }; // prep custom styling\n\n  var customLineNumberStyle = typeof lineNumberStyle === 'function' ? lineNumberStyle(lineNumber) : lineNumberStyle; // combine\n\n  var assembledStyle = (0, _objectSpread2.default)({}, defaultLineNumberStyle, customLineNumberStyle);\n  return assembledStyle;\n}\n\nfunction createLineElement(_ref3) {\n  var children = _ref3.children,\n      lineNumber = _ref3.lineNumber,\n      lineNumberStyle = _ref3.lineNumberStyle,\n      largestLineNumber = _ref3.largestLineNumber,\n      showInlineLineNumbers = _ref3.showInlineLineNumbers,\n      _ref3$lineProps = _ref3.lineProps,\n      lineProps = _ref3$lineProps === void 0 ? {} : _ref3$lineProps,\n      _ref3$className = _ref3.className,\n      className = _ref3$className === void 0 ? [] : _ref3$className,\n      showLineNumbers = _ref3.showLineNumbers,\n      wrapLongLines = _ref3.wrapLongLines;\n  var properties = typeof lineProps === 'function' ? lineProps(lineNumber) : lineProps;\n  properties['className'] = className;\n\n  if (lineNumber && showInlineLineNumbers) {\n    var inlineLineNumberStyle = assembleLineNumberStyles(lineNumberStyle, lineNumber, largestLineNumber);\n    children.unshift(getInlineLineNumber(lineNumber, inlineLineNumberStyle));\n  }\n\n  if (wrapLongLines & showLineNumbers) {\n    properties.style = (0, _objectSpread2.default)({}, properties.style, {\n      display: 'flex'\n    });\n  }\n\n  return {\n    type: 'element',\n    tagName: 'span',\n    properties: properties,\n    children: children\n  };\n}\n\nfunction flattenCodeTree(tree) {\n  var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var newTree = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  for (var i = 0; i < tree.length; i++) {\n    var node = tree[i];\n\n    if (node.type === 'text') {\n      newTree.push(createLineElement({\n        children: [node],\n        className: (0, _toConsumableArray2.default)(new Set(className))\n      }));\n    } else if (node.children) {\n      var classNames = className.concat(node.properties.className);\n      newTree = newTree.concat(flattenCodeTree(node.children, classNames));\n    }\n  }\n\n  return newTree;\n}\n\nfunction processLines(codeTree, wrapLines, lineProps, showLineNumbers, showInlineLineNumbers, startingLineNumber, largestLineNumber, lineNumberStyle, wrapLongLines) {\n  var _ref4;\n\n  var tree = flattenCodeTree(codeTree.value);\n  var newTree = [];\n  var lastLineBreakIndex = -1;\n  var index = 0;\n\n  function createWrappedLine(children, lineNumber) {\n    var className = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    return createLineElement({\n      children: children,\n      lineNumber: lineNumber,\n      lineNumberStyle: lineNumberStyle,\n      largestLineNumber: largestLineNumber,\n      showInlineLineNumbers: showInlineLineNumbers,\n      lineProps: lineProps,\n      className: className,\n      showLineNumbers: showLineNumbers,\n      wrapLongLines: wrapLongLines\n    });\n  }\n\n  function createUnwrappedLine(children, lineNumber) {\n    if (showLineNumbers && lineNumber && showInlineLineNumbers) {\n      var inlineLineNumberStyle = assembleLineNumberStyles(lineNumberStyle, lineNumber, largestLineNumber);\n      children.unshift(getInlineLineNumber(lineNumber, inlineLineNumberStyle));\n    }\n\n    return children;\n  }\n\n  function createLine(children, lineNumber) {\n    var className = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    return wrapLines || className.length > 0 ? createWrappedLine(children, lineNumber, className) : createUnwrappedLine(children, lineNumber);\n  }\n\n  var _loop = function _loop() {\n    var node = tree[index];\n    var value = node.children[0].value;\n    var newLines = getNewLines(value);\n\n    if (newLines) {\n      var splitValue = value.split('\\n');\n      splitValue.forEach(function (text, i) {\n        var lineNumber = showLineNumbers && newTree.length + startingLineNumber;\n        var newChild = {\n          type: 'text',\n          value: \"\".concat(text, \"\\n\")\n        }; // if it's the first line\n\n        if (i === 0) {\n          var _children = tree.slice(lastLineBreakIndex + 1, index).concat(createLineElement({\n            children: [newChild],\n            className: node.properties.className\n          }));\n\n          var _line = createLine(_children, lineNumber);\n\n          newTree.push(_line); // if it's the last line\n        } else if (i === splitValue.length - 1) {\n          var stringChild = tree[index + 1] && tree[index + 1].children && tree[index + 1].children[0];\n\n          if (stringChild) {\n            var lastLineInPreviousSpan = {\n              type: 'text',\n              value: \"\".concat(text)\n            };\n            var newElem = createLineElement({\n              children: [lastLineInPreviousSpan],\n              className: node.properties.className\n            });\n            tree.splice(index + 1, 0, newElem);\n          } else {\n            var _children2 = [newChild];\n\n            var _line2 = createLine(_children2, lineNumber, node.properties.className);\n\n            newTree.push(_line2);\n          } // if it's neither the first nor the last line\n\n        } else {\n          var _children3 = [newChild];\n\n          var _line3 = createLine(_children3, lineNumber, node.properties.className);\n\n          newTree.push(_line3);\n        }\n      });\n      lastLineBreakIndex = index;\n    }\n\n    index++;\n  };\n\n  while (index < tree.length) {\n    _loop();\n  }\n\n  if (lastLineBreakIndex !== tree.length - 1) {\n    var children = tree.slice(lastLineBreakIndex + 1, tree.length);\n\n    if (children && children.length) {\n      var lineNumber = newTree.length + startingLineNumber;\n      var line = createLine(children, lineNumber);\n      newTree.push(line);\n    }\n  }\n\n  return wrapLines ? newTree : (_ref4 = []).concat.apply(_ref4, newTree);\n}\n\nfunction defaultRenderer(_ref5) {\n  var rows = _ref5.rows,\n      stylesheet = _ref5.stylesheet,\n      useInlineStyles = _ref5.useInlineStyles;\n  return rows.map(function (node, i) {\n    return (0, _createElement.default)({\n      node: node,\n      stylesheet: stylesheet,\n      useInlineStyles: useInlineStyles,\n      key: \"code-segement\".concat(i)\n    });\n  });\n} // only highlight.js has the highlightAuto method\n\n\nfunction isHighlightJs(astGenerator) {\n  return astGenerator && typeof astGenerator.highlightAuto !== 'undefined';\n}\n\nfunction getCodeTree(_ref6) {\n  var astGenerator = _ref6.astGenerator,\n      language = _ref6.language,\n      code = _ref6.code,\n      defaultCodeValue = _ref6.defaultCodeValue;\n\n  // figure out whether we're using lowlight/highlight or refractor/prism\n  // then attempt highlighting accordingly\n  // lowlight/highlight?\n  if (isHighlightJs(astGenerator)) {\n    var hasLanguage = (0, _checkForListedLanguage.default)(astGenerator, language);\n\n    if (language === 'text') {\n      return {\n        value: defaultCodeValue,\n        language: 'text'\n      };\n    } else if (hasLanguage) {\n      return astGenerator.highlight(language, code);\n    } else {\n      return astGenerator.highlightAuto(code);\n    }\n  } // must be refractor/prism, then\n\n\n  try {\n    return language && language !== 'text' ? {\n      value: astGenerator.highlight(code, language)\n    } : {\n      value: defaultCodeValue\n    };\n  } catch (e) {\n    return {\n      value: defaultCodeValue\n    };\n  }\n}\n\nfunction _default(defaultAstGenerator, defaultStyle) {\n  return function SyntaxHighlighter(_ref7) {\n    var language = _ref7.language,\n        children = _ref7.children,\n        _ref7$style = _ref7.style,\n        style = _ref7$style === void 0 ? defaultStyle : _ref7$style,\n        _ref7$customStyle = _ref7.customStyle,\n        customStyle = _ref7$customStyle === void 0 ? {} : _ref7$customStyle,\n        _ref7$codeTagProps = _ref7.codeTagProps,\n        codeTagProps = _ref7$codeTagProps === void 0 ? {\n      className: language ? \"language-\".concat(language) : undefined,\n      style: (0, _objectSpread2.default)({}, style['code[class*=\"language-\"]'], style[\"code[class*=\\\"language-\".concat(language, \"\\\"]\")])\n    } : _ref7$codeTagProps,\n        _ref7$useInlineStyles = _ref7.useInlineStyles,\n        useInlineStyles = _ref7$useInlineStyles === void 0 ? true : _ref7$useInlineStyles,\n        _ref7$showLineNumbers = _ref7.showLineNumbers,\n        showLineNumbers = _ref7$showLineNumbers === void 0 ? false : _ref7$showLineNumbers,\n        _ref7$showInlineLineN = _ref7.showInlineLineNumbers,\n        showInlineLineNumbers = _ref7$showInlineLineN === void 0 ? true : _ref7$showInlineLineN,\n        _ref7$startingLineNum = _ref7.startingLineNumber,\n        startingLineNumber = _ref7$startingLineNum === void 0 ? 1 : _ref7$startingLineNum,\n        lineNumberContainerStyle = _ref7.lineNumberContainerStyle,\n        _ref7$lineNumberStyle = _ref7.lineNumberStyle,\n        lineNumberStyle = _ref7$lineNumberStyle === void 0 ? {} : _ref7$lineNumberStyle,\n        wrapLines = _ref7.wrapLines,\n        _ref7$wrapLongLines = _ref7.wrapLongLines,\n        wrapLongLines = _ref7$wrapLongLines === void 0 ? false : _ref7$wrapLongLines,\n        _ref7$lineProps = _ref7.lineProps,\n        lineProps = _ref7$lineProps === void 0 ? {} : _ref7$lineProps,\n        renderer = _ref7.renderer,\n        _ref7$PreTag = _ref7.PreTag,\n        PreTag = _ref7$PreTag === void 0 ? 'pre' : _ref7$PreTag,\n        _ref7$CodeTag = _ref7.CodeTag,\n        CodeTag = _ref7$CodeTag === void 0 ? 'code' : _ref7$CodeTag,\n        _ref7$code = _ref7.code,\n        code = _ref7$code === void 0 ? Array.isArray(children) ? children[0] : children : _ref7$code,\n        astGenerator = _ref7.astGenerator,\n        rest = (0, _objectWithoutProperties2.default)(_ref7, [\"language\", \"children\", \"style\", \"customStyle\", \"codeTagProps\", \"useInlineStyles\", \"showLineNumbers\", \"showInlineLineNumbers\", \"startingLineNumber\", \"lineNumberContainerStyle\", \"lineNumberStyle\", \"wrapLines\", \"wrapLongLines\", \"lineProps\", \"renderer\", \"PreTag\", \"CodeTag\", \"code\", \"astGenerator\"]);\n    astGenerator = astGenerator || defaultAstGenerator;\n    var allLineNumbers = showLineNumbers ? _react.default.createElement(AllLineNumbers, {\n      containerStyle: lineNumberContainerStyle,\n      codeStyle: codeTagProps.style || {},\n      numberStyle: lineNumberStyle,\n      startingLineNumber: startingLineNumber,\n      codeString: code\n    }) : null;\n    var defaultPreStyle = style.hljs || style['pre[class*=\"language-\"]'] || {\n      backgroundColor: '#fff'\n    };\n    var generatorClassName = isHighlightJs(astGenerator) ? 'hljs' : 'prismjs';\n    var preProps = useInlineStyles ? Object.assign({}, rest, {\n      style: Object.assign({}, defaultPreStyle, customStyle)\n    }) : Object.assign({}, rest, {\n      className: rest.className ? \"\".concat(generatorClassName, \" \").concat(rest.className) : generatorClassName,\n      style: Object.assign({}, customStyle)\n    });\n\n    if (!astGenerator) {\n      return _react.default.createElement(PreTag, preProps, allLineNumbers, _react.default.createElement(CodeTag, codeTagProps, code));\n    }\n    /*\n     * Some custom renderers rely on individual row elements so we need to turn wrapLines on\n     * if renderer is provided and wrapLines is undefined.\n     */\n\n\n    if (wrapLines === undefined && renderer || wrapLongLines) wrapLines = true;\n    renderer = renderer || defaultRenderer;\n    var defaultCodeValue = [{\n      type: 'text',\n      value: code\n    }];\n    var codeTree = getCodeTree({\n      astGenerator: astGenerator,\n      language: language,\n      code: code,\n      defaultCodeValue: defaultCodeValue\n    });\n\n    if (codeTree.language === null) {\n      codeTree.value = defaultCodeValue;\n    } // determine largest line number so that we can force minWidth on all linenumber elements\n\n\n    var largestLineNumber = codeTree.value.length + startingLineNumber;\n    var rows = processLines(codeTree, wrapLines, lineProps, showLineNumbers, showInlineLineNumbers, startingLineNumber, largestLineNumber, lineNumberStyle, wrapLongLines);\n\n    if (wrapLongLines) {\n      codeTagProps.style = (0, _objectSpread2.default)({}, codeTagProps.style, {\n        whiteSpace: 'pre-wrap'\n      });\n    } else {\n      codeTagProps.style = (0, _objectSpread2.default)({}, codeTagProps.style, {\n        whiteSpace: 'pre'\n      });\n    }\n\n    return _react.default.createElement(PreTag, preProps, _react.default.createElement(CodeTag, codeTagProps, !showInlineLineNumbers && allLineNumbers, renderer({\n      rows: rows,\n      stylesheet: style,\n      useInlineStyles: useInlineStyles\n    })));\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _htmlbars = _interopRequireDefault(require(\"highlight.js/lib/languages/htmlbars\"));\n\nvar _default = _htmlbars.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _json = _interopRequireDefault(require(\"highlight.js/lib/languages/json\"));\n\nvar _default = _json.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _markdown = _interopRequireDefault(require(\"highlight.js/lib/languages/markdown\"));\n\nvar _default = _markdown.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _sql = _interopRequireDefault(require(\"highlight.js/lib/languages/sql\"));\n\nvar _default = _sql.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _highlight = _interopRequireDefault(require(\"./highlight\"));\n\nvar _core = _interopRequireDefault(require(\"lowlight/lib/core\"));\n\nvar SyntaxHighlighter = (0, _highlight.default)(_core.default, {});\nSyntaxHighlighter.registerLanguage = _core.default.registerLanguage;\nvar _default = SyntaxHighlighter;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  \"hljs\": {\n    \"display\": \"block\",\n    \"overflowX\": \"auto\",\n    \"padding\": \"0.5em\",\n    \"color\": \"#333\",\n    \"background\": \"#f8f8f8\"\n  },\n  \"hljs-comment\": {\n    \"color\": \"#998\",\n    \"fontStyle\": \"italic\"\n  },\n  \"hljs-quote\": {\n    \"color\": \"#998\",\n    \"fontStyle\": \"italic\"\n  },\n  \"hljs-keyword\": {\n    \"color\": \"#333\",\n    \"fontWeight\": \"bold\"\n  },\n  \"hljs-selector-tag\": {\n    \"color\": \"#333\",\n    \"fontWeight\": \"bold\"\n  },\n  \"hljs-subst\": {\n    \"color\": \"#333\",\n    \"fontWeight\": \"normal\"\n  },\n  \"hljs-number\": {\n    \"color\": \"#008080\"\n  },\n  \"hljs-literal\": {\n    \"color\": \"#008080\"\n  },\n  \"hljs-variable\": {\n    \"color\": \"#008080\"\n  },\n  \"hljs-template-variable\": {\n    \"color\": \"#008080\"\n  },\n  \"hljs-tag .hljs-attr\": {\n    \"color\": \"#008080\"\n  },\n  \"hljs-string\": {\n    \"color\": \"#d14\"\n  },\n  \"hljs-doctag\": {\n    \"color\": \"#d14\"\n  },\n  \"hljs-title\": {\n    \"color\": \"#900\",\n    \"fontWeight\": \"bold\"\n  },\n  \"hljs-section\": {\n    \"color\": \"#900\",\n    \"fontWeight\": \"bold\"\n  },\n  \"hljs-selector-id\": {\n    \"color\": \"#900\",\n    \"fontWeight\": \"bold\"\n  },\n  \"hljs-type\": {\n    \"color\": \"#458\",\n    \"fontWeight\": \"bold\"\n  },\n  \"hljs-class .hljs-title\": {\n    \"color\": \"#458\",\n    \"fontWeight\": \"bold\"\n  },\n  \"hljs-tag\": {\n    \"color\": \"#000080\",\n    \"fontWeight\": \"normal\"\n  },\n  \"hljs-name\": {\n    \"color\": \"#000080\",\n    \"fontWeight\": \"normal\"\n  },\n  \"hljs-attribute\": {\n    \"color\": \"#000080\",\n    \"fontWeight\": \"normal\"\n  },\n  \"hljs-regexp\": {\n    \"color\": \"#009926\"\n  },\n  \"hljs-link\": {\n    \"color\": \"#009926\"\n  },\n  \"hljs-symbol\": {\n    \"color\": \"#990073\"\n  },\n  \"hljs-bullet\": {\n    \"color\": \"#990073\"\n  },\n  \"hljs-built_in\": {\n    \"color\": \"#0086b3\"\n  },\n  \"hljs-builtin-name\": {\n    \"color\": \"#0086b3\"\n  },\n  \"hljs-meta\": {\n    \"color\": \"#999\",\n    \"fontWeight\": \"bold\"\n  },\n  \"hljs-deletion\": {\n    \"background\": \"#fdd\"\n  },\n  \"hljs-addition\": {\n    \"background\": \"#dfd\"\n  },\n  \"hljs-emphasis\": {\n    \"fontStyle\": \"italic\"\n  },\n  \"hljs-strong\": {\n    \"fontWeight\": \"bold\"\n  }\n};\nexports.default = _default;","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = createSlicer;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _getSubsetJs = require('./getSubset.js');\n\nvar _getSubsetJs2 = _interopRequireDefault(_getSubsetJs);\n\nvar _utilTypeOfJs = require('./util/typeOf.js');\n\nvar _utilTypeOfJs2 = _interopRequireDefault(_utilTypeOfJs);\n\n/**\n * @description\n * createSlicer inspects the typeof paths and returns an appropriate slicer function.\n *\n * @param {String|String[]} [paths] The paths argument supplied to persistState.\n *\n * @return {Function} A slicer function, which returns the subset to store when called with Redux's store state.\n */\n\nfunction createSlicer(paths) {\n  switch ((0, _utilTypeOfJs2['default'])(paths)) {\n    case 'void':\n      return function (state) {\n        return state;\n      };\n    case 'string':\n      return function (state) {\n        return (0, _getSubsetJs2['default'])(state, [paths]);\n      };\n    case 'array':\n      return function (state) {\n        return (0, _getSubsetJs2['default'])(state, paths);\n      };\n    default:\n      return console.error('Invalid paths argument, should be of type String, Array or Void');\n  }\n}\n\nmodule.exports = exports['default'];","/**\n * @description\n * getSubset returns an object with the same structure as the original object passed in,\n * but contains only the specified keys and only if that key has a truth-y value.\n *\n * @param {Object} obj The object from which to create a subset.\n * @param {String[]} paths An array of (top-level) keys that should be included in the subset.\n *\n * @return {Object} An object that contains the specified keys with truth-y values\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = getSubset;\n\nfunction getSubset(obj, paths) {\n  var subset = {};\n\n  paths.forEach(function (key) {\n    var slice = obj[key];\n    if (slice) subset[key] = slice;\n  });\n\n  return subset;\n}\n\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = persistState;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _createSlicerJs = require('./createSlicer.js');\n\nvar _createSlicerJs2 = _interopRequireDefault(_createSlicerJs);\n\nvar _utilMergeStateJs = require('./util/mergeState.js');\n\nvar _utilMergeStateJs2 = _interopRequireDefault(_utilMergeStateJs);\n\n/**\n * @description\n * persistState is a Store Enhancer that syncs (a subset of) store state to localStorage.\n *\n * @param {String|String[]} [paths] Specify keys to sync with localStorage, if left undefined the whole store is persisted\n * @param {Object} [config] Optional config object\n * @param {String} [config.key=\"redux\"] String used as localStorage key\n * @param {Function} [config.slicer] (paths) => (state) => subset. A function that returns a subset\n * of store state that should be persisted to localStorage\n * @param {Function} [config.serialize=JSON.stringify] (subset) => serializedData. Called just before persisting to\n * localStorage. Should transform the subset into a format that can be stored.\n * @param {Function} [config.deserialize=JSON.parse] (persistedData) => subset. Called directly after retrieving\n * persistedState from localStorage. Should transform the data into the format expected by your application\n *\n * @return {Function} An enhanced store\n */\n\nfunction persistState(paths, config) {\n  var cfg = _extends({\n    key: 'redux',\n    merge: _utilMergeStateJs2['default'],\n    slicer: _createSlicerJs2['default'],\n    serialize: JSON.stringify,\n    deserialize: JSON.parse\n  }, config);\n\n  var key = cfg.key;\n  var merge = cfg.merge;\n  var slicer = cfg.slicer;\n  var serialize = cfg.serialize;\n  var deserialize = cfg.deserialize;\n\n  return function (next) {\n    return function (reducer, initialState, enhancer) {\n      if (typeof initialState === 'function' && typeof enhancer === 'undefined') {\n        enhancer = initialState;\n        initialState = undefined;\n      }\n\n      var persistedState = undefined;\n      var finalInitialState = undefined;\n\n      try {\n        persistedState = deserialize(localStorage.getItem(key));\n        finalInitialState = merge(initialState, persistedState);\n      } catch (e) {\n        console.warn('Failed to retrieve initialize state from localStorage:', e);\n      }\n\n      var store = next(reducer, finalInitialState, enhancer);\n      var slicerFn = slicer(paths);\n\n      store.subscribe(function () {\n        var state = store.getState();\n        var subset = slicerFn(state);\n\n        try {\n          localStorage.setItem(key, serialize(subset));\n        } catch (e) {\n          console.warn('Unable to persist state to localStorage:', e);\n        }\n      });\n\n      return store;\n    };\n  };\n}\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports[\"default\"] = mergeState;\n\nfunction mergeState(initialState, persistedState) {\n  return persistedState ? _extends({}, initialState, persistedState) : initialState;\n}\n\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = typeOf;\nvar _isArray = Array.isArray || (Array.isArray = function (a) {\n  return '' + a !== a && ({}).toString.call(a) === '[object Array]';\n});\n\n/**\n * @description\n * typeof method that\n * 1. groups all false-y & empty values as void\n * 2. distinguishes between object and array\n *\n * @param {*} thing The thing to inspect\n *\n * @return {String} Actionable type classification\n */\n\nfunction typeOf(thing) {\n  if (!thing) return 'void';\n\n  if (_isArray(thing)) {\n    if (!thing.length) return 'void';\n    return 'array';\n  }\n\n  return typeof thing;\n}\n\nmodule.exports = exports['default'];","function createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;","var characterMap = {\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"AE\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"A\",\r\n\t\"\": \"C\",\r\n\t\"\": \"C\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"E\",\r\n\t\"\": \"I\",\r\n\t\"\": \"I\",\r\n\t\"\": \"I\",\r\n\t\"\": \"I\",\r\n\t\"\": \"I\",\r\n\t\"\": \"I\",\r\n\t\"\": \"D\",\r\n\t\"\": \"N\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"O\",\r\n\t\"\": \"U\",\r\n\t\"\": \"U\",\r\n\t\"\": \"U\",\r\n\t\"\": \"U\",\r\n\t\"\": \"Y\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"ae\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"a\",\r\n\t\"\": \"c\",\r\n\t\"\": \"c\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"e\",\r\n\t\"\": \"i\",\r\n\t\"\": \"i\",\r\n\t\"\": \"i\",\r\n\t\"\": \"i\",\r\n\t\"\": \"i\",\r\n\t\"\": \"i\",\r\n\t\"\": \"d\",\r\n\t\"\": \"n\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"o\",\r\n\t\"\": \"u\",\r\n\t\"\": \"u\",\r\n\t\"\": \"u\",\r\n\t\"\": \"u\",\r\n\t\"\": \"y\",\r\n\t\"\": \"y\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"C\",\r\n\t\"\": \"c\",\r\n\t\"\": \"C\",\r\n\t\"\": \"c\",\r\n\t\"\": \"C\",\r\n\t\"\": \"c\",\r\n\t\"\": \"C\",\r\n\t\"\": \"c\",\r\n\t\"C\": \"C\",\r\n\t\"c\": \"c\",\r\n\t\"\": \"D\",\r\n\t\"\": \"d\",\r\n\t\"\": \"D\",\r\n\t\"\": \"d\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"G\",\r\n\t\"\": \"G\",\r\n\t\"\": \"g\",\r\n\t\"\": \"g\",\r\n\t\"\": \"G\",\r\n\t\"\": \"g\",\r\n\t\"\": \"G\",\r\n\t\"\": \"g\",\r\n\t\"\": \"G\",\r\n\t\"\": \"g\",\r\n\t\"\": \"H\",\r\n\t\"\": \"h\",\r\n\t\"\": \"H\",\r\n\t\"\": \"h\",\r\n\t\"\": \"H\",\r\n\t\"\": \"h\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"IJ\",\r\n\t\"\": \"ij\",\r\n\t\"\": \"J\",\r\n\t\"\": \"j\",\r\n\t\"\": \"K\",\r\n\t\"\": \"k\",\r\n\t\"\": \"K\",\r\n\t\"\": \"k\",\r\n\t\"K\": \"K\",\r\n\t\"k\": \"k\",\r\n\t\"\": \"L\",\r\n\t\"\": \"l\",\r\n\t\"\": \"L\",\r\n\t\"\": \"l\",\r\n\t\"\": \"L\",\r\n\t\"\": \"l\",\r\n\t\"\": \"L\",\r\n\t\"\": \"l\",\r\n\t\"\": \"l\",\r\n\t\"\": \"l\",\r\n\t\"\": \"M\",\r\n\t\"\": \"m\",\r\n\t\"M\": \"M\",\r\n\t\"m\": \"m\",\r\n\t\"\": \"N\",\r\n\t\"\": \"n\",\r\n\t\"\": \"N\",\r\n\t\"\": \"n\",\r\n\t\"\": \"N\",\r\n\t\"\": \"n\",\r\n\t\"\": \"n\",\r\n\t\"N\": \"N\",\r\n\t\"n\": \"n\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"OE\",\r\n\t\"\": \"oe\",\r\n\t\"P\": \"P\",\r\n\t\"p\": \"p\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"R\": \"R\",\r\n\t\"r\": \"r\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"\": \"S\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"\": \"s\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"\": \"T\",\r\n\t\"\": \"t\",\r\n\t\"\": \"t\",\r\n\t\"\": \"T\",\r\n\t\"\": \"T\",\r\n\t\"\": \"t\",\r\n\t\"\": \"T\",\r\n\t\"\": \"t\",\r\n\t\"T\": \"T\",\r\n\t\"t\": \"t\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"V\": \"V\",\r\n\t\"v\": \"v\",\r\n\t\"\": \"W\",\r\n\t\"\": \"w\",\r\n\t\"\": \"W\",\r\n\t\"\": \"w\",\r\n\t\"X\": \"X\",\r\n\t\"x\": \"x\",\r\n\t\"\": \"Y\",\r\n\t\"\": \"y\",\r\n\t\"\": \"Y\",\r\n\t\"Y\": \"Y\",\r\n\t\"y\": \"y\",\r\n\t\"\": \"Z\",\r\n\t\"\": \"z\",\r\n\t\"\": \"Z\",\r\n\t\"\": \"z\",\r\n\t\"\": \"Z\",\r\n\t\"\": \"z\",\r\n\t\"\": \"s\",\r\n\t\"\": \"f\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"AE\",\r\n\t\"\": \"ae\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"TH\",\r\n\t\"\": \"th\",\r\n\t\"\": \"P\",\r\n\t\"\": \"p\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"X\": \"X\",\r\n\t\"x\": \"x\",\r\n\t\"\": \"\",\r\n\t\"\": \"\",\r\n\t\"\": \"\",\r\n\t\"\": \"\",\r\n\t\"A\": \"A\",\r\n\t\"a\": \"a\",\r\n\t\"E\": \"E\",\r\n\t\"e\": \"e\",\r\n\t\"I\": \"I\",\r\n\t\"i\": \"i\",\r\n\t\"\": \"N\",\r\n\t\"\": \"n\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"\": \"W\",\r\n\t\"\": \"w\",\r\n\t\"\": \"Y\",\r\n\t\"\": \"y\",\r\n\t\"\": \"A\",\r\n\t\"\": \"a\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"\": \"O\",\r\n\t\"\": \"o\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"\": \"U\",\r\n\t\"\": \"u\",\r\n\t\"B\": \"B\",\r\n\t\"b\": \"b\",\r\n\t\"\": \"C\",\r\n\t\"\": \"c\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"F\": \"F\",\r\n\t\"f\": \"f\",\r\n\t\"\": \"G\",\r\n\t\"\": \"g\",\r\n\t\"\": \"H\",\r\n\t\"\": \"h\",\r\n\t\"J\": \"J\",\r\n\t\"\": \"j\",\r\n\t\"\": \"K\",\r\n\t\"\": \"k\",\r\n\t\"M\": \"M\",\r\n\t\"m\": \"m\",\r\n\t\"P\": \"P\",\r\n\t\"p\": \"p\",\r\n\t\"Q\": \"Q\",\r\n\t\"q\": \"q\",\r\n\t\"\": \"R\",\r\n\t\"\": \"r\",\r\n\t\"\": \"S\",\r\n\t\"\": \"s\",\r\n\t\"V\": \"V\",\r\n\t\"v\": \"v\",\r\n\t\"W\": \"W\",\r\n\t\"w\": \"w\",\r\n\t\"X\": \"X\",\r\n\t\"x\": \"x\",\r\n\t\"Y\": \"Y\",\r\n\t\"y\": \"y\",\r\n\t\"A\": \"A\",\r\n\t\"a\": \"a\",\r\n\t\"B\": \"B\",\r\n\t\"b\": \"b\",\r\n\t\"\": \"D\",\r\n\t\"\": \"d\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"E\",\r\n\t\"\": \"e\",\r\n\t\"\": \"H\",\r\n\t\"\": \"h\",\r\n\t\"I\": \"I\",\r\n\t\"i\": \"i\",\r\n\t\"\": \"I\",\r\n\t\"\": \"i\",\r\n\t\"M\": \"M\",\r\n\t\"m\": \"m\",\r\n\t\"O\": \"O\",\r\n\t\"o\": \"o\",\r\n\t\"Q\": \"Q\",\r\n\t\"q\": \"q\",\r\n\t\"U\": \"U\",\r\n\t\"u\": \"u\",\r\n\t\"X\": \"X\",\r\n\t\"x\": \"x\",\r\n\t\"Z\": \"Z\",\r\n\t\"z\": \"z\",\r\n};\r\n\r\nvar chars = Object.keys(characterMap).join('|');\r\nvar allAccents = new RegExp(chars, 'g');\r\nvar firstAccent = new RegExp(chars, '');\r\n\r\nvar removeAccents = function(string) {\t\r\n\treturn string.replace(allAccents, function(match) {\r\n\t\treturn characterMap[match];\r\n\t});\r\n};\r\n\r\nvar hasAccents = function(string) {\r\n\treturn !!string.match(firstAccent);\r\n};\r\n\r\nmodule.exports = removeAccents;\r\nmodule.exports.has = hasAccents;\r\nmodule.exports.remove = removeAccents;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Alert from 'src/components/Alert';\r\nimport { styled, logging, t } from '@superset-ui/core';\r\n\r\nimport { isFeatureEnabled, FeatureFlag } from 'src/featureFlags';\r\nimport Button from 'src/components/Button';\r\nimport Loading from '../components/Loading';\r\nimport ErrorBoundary from '../components/ErrorBoundary';\r\nimport ChartRenderer from './ChartRenderer';\r\nimport { ChartErrorMessage } from './ChartErrorMessage';\r\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from '../logger/LogUtils';\r\n\r\nconst propTypes = {\r\n  annotationData: PropTypes.object,\r\n  actions: PropTypes.object,\r\n  chartId: PropTypes.number.isRequired,\r\n  datasource: PropTypes.object.isRequired,\r\n  // current chart is included by dashboard\r\n  dashboardId: PropTypes.number,\r\n  // original selected values for FilterBox viz\r\n  // so that FilterBox can pre-populate selected values\r\n  // only affect UI control\r\n  initialValues: PropTypes.object,\r\n  // formData contains chart's own filter parameter\r\n  // and merged with extra filter that current dashboard applying\r\n  formData: PropTypes.object.isRequired,\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  setControlValue: PropTypes.func,\r\n  timeout: PropTypes.number,\r\n  vizType: PropTypes.string.isRequired,\r\n  triggerRender: PropTypes.bool,\r\n  isFiltersInitialized: PropTypes.bool,\r\n  // state\r\n  chartAlert: PropTypes.string,\r\n  chartStatus: PropTypes.string,\r\n  chartStackTrace: PropTypes.string,\r\n  queriesResponse: PropTypes.arrayOf(PropTypes.object),\r\n  triggerQuery: PropTypes.bool,\r\n  refreshOverlayVisible: PropTypes.bool,\r\n  errorMessage: PropTypes.node,\r\n  // dashboard callbacks\r\n  addFilter: PropTypes.func,\r\n  onQuery: PropTypes.func,\r\n  onFilterMenuOpen: PropTypes.func,\r\n  onFilterMenuClose: PropTypes.func,\r\n  ownState: PropTypes.object,\r\n};\r\n\r\nconst BLANK = {};\r\n\r\nconst defaultProps = {\r\n  addFilter: () => BLANK,\r\n  onFilterMenuOpen: () => BLANK,\r\n  onFilterMenuClose: () => BLANK,\r\n  initialValues: BLANK,\r\n  setControlValue() {},\r\n  triggerRender: false,\r\n  dashboardId: null,\r\n  chartStackTrace: null,\r\n};\r\n\r\nconst Styles = styled.div`\r\n  min-height: ${p => p.height}px;\r\n  position: relative;\r\n\r\n  .chart-tooltip {\r\n    opacity: 0.75;\r\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  }\r\n`;\r\n\r\nconst RefreshOverlayWrapper = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nclass Chart extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleRenderContainerFailure = this.handleRenderContainerFailure.bind(\r\n      this,\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.triggerQuery) {\r\n      this.runQuery();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.triggerQuery) {\r\n      this.runQuery();\r\n    }\r\n  }\r\n\r\n  runQuery() {\r\n    if (this.props.chartId > 0 && isFeatureEnabled(FeatureFlag.CLIENT_CACHE)) {\r\n      // Load saved chart with a GET request\r\n      this.props.actions.getSavedChart(\r\n        this.props.formData,\r\n        false,\r\n        this.props.timeout,\r\n        this.props.chartId,\r\n        this.props.dashboardId,\r\n        this.props.ownState,\r\n      );\r\n    } else {\r\n      // Create chart with POST request\r\n      this.props.actions.postChartFormData(\r\n        this.props.formData,\r\n        false,\r\n        this.props.timeout,\r\n        this.props.chartId,\r\n        this.props.dashboardId,\r\n        this.props.ownState,\r\n      );\r\n    }\r\n  }\r\n\r\n  handleRenderContainerFailure(error, info) {\r\n    const { actions, chartId } = this.props;\r\n    logging.warn(error);\r\n    actions.chartRenderingFailed(\r\n      error.toString(),\r\n      chartId,\r\n      info ? info.componentStack : null,\r\n    );\r\n\r\n    actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\r\n      slice_id: chartId,\r\n      has_err: true,\r\n      error_details: error.toString(),\r\n      start_offset: this.renderStartTime,\r\n      ts: new Date().getTime(),\r\n      duration: Logger.getTimestamp() - this.renderStartTime,\r\n    });\r\n  }\r\n\r\n  renderErrorMessage(queryResponse) {\r\n    const { chartId, chartAlert, chartStackTrace, dashboardId } = this.props;\r\n\r\n    const error = queryResponse?.errors?.[0];\r\n    const message = chartAlert || queryResponse?.message;\r\n    return (\r\n      <ChartErrorMessage\r\n        chartId={chartId}\r\n        error={error}\r\n        subtitle={message}\r\n        copyText={message}\r\n        link={queryResponse ? queryResponse.link : null}\r\n        source={dashboardId ? 'dashboard' : 'explore'}\r\n        stackTrace={chartStackTrace}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      height,\r\n      chartAlert,\r\n      chartStatus,\r\n      errorMessage,\r\n      onQuery,\r\n      refreshOverlayVisible,\r\n      queriesResponse = [],\r\n    } = this.props;\r\n\r\n    const isLoading = chartStatus === 'loading';\r\n    const isFaded = refreshOverlayVisible && !errorMessage;\r\n    this.renderContainerStartTime = Logger.getTimestamp();\r\n    if (chartStatus === 'failed') {\r\n      return queriesResponse.map(item => this.renderErrorMessage(item));\r\n    }\r\n    if (errorMessage) {\r\n      return (\r\n        <Alert\r\n          data-test=\"alert-warning\"\r\n          message={errorMessage}\r\n          type=\"warning\"\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <ErrorBoundary\r\n        onError={this.handleRenderContainerFailure}\r\n        showMessage={false}\r\n      >\r\n        <Styles\r\n          data-ui-anchor=\"chart\"\r\n          className=\"chart-container\"\r\n          data-test=\"chart-container\"\r\n          height={height}\r\n        >\r\n          <div\r\n            className={`slice_container ${isFaded ? ' faded' : ''}`}\r\n            data-test=\"slice-container\"\r\n          >\r\n            <ChartRenderer {...this.props} data-test={this.props.vizType} />\r\n          </div>\r\n\r\n          {!isLoading && !chartAlert && isFaded && (\r\n            <RefreshOverlayWrapper>\r\n              <Button onClick={onQuery} buttonStyle=\"primary\">\r\n                {t('Run query')}\r\n              </Button>\r\n            </RefreshOverlayWrapper>\r\n          )}\r\n\r\n          {isLoading && <Loading />}\r\n        </Styles>\r\n      </ErrorBoundary>\r\n    );\r\n  }\r\n}\r\n\r\nChart.propTypes = propTypes;\r\nChart.defaultProps = defaultProps;\r\n\r\nexport default Chart;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport * as actions from './chartAction';\r\nimport { logEvent } from '../logger/actions';\r\nimport Chart from './Chart';\r\nimport { updateDataMask } from '../dataMask/actions';\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators(\r\n      {\r\n        ...actions,\r\n        updateDataMask,\r\n        logEvent,\r\n      },\r\n      dispatch,\r\n    ),\r\n  };\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Chart);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport React from 'react';\r\nimport { useChartOwnerNames } from 'src/common/hooks/apiResources';\r\nimport ErrorMessageWithStackTrace from 'src/components/ErrorMessage/ErrorMessageWithStackTrace';\r\nimport { SupersetError } from 'src/components/ErrorMessage/types';\r\n\r\ninterface Props {\r\n  chartId: string;\r\n  error?: SupersetError;\r\n}\r\n\r\n/**\r\n * fetches the chart owners and adds them to the extra data of the error message\r\n */\r\nexport const ChartErrorMessage: React.FC<Props> = ({\r\n  chartId,\r\n  error,\r\n  ...props\r\n}) => {\r\n  const { result: owners } = useChartOwnerNames(chartId);\r\n\r\n  // don't mutate props\r\n  const ownedError = error && {\r\n    ...error,\r\n    extra: { ...error.extra, owners },\r\n  };\r\n\r\n  return <ErrorMessageWithStackTrace {...props} error={ownedError} />;\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { snakeCase } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { SuperChart, logging, Behavior } from '@superset-ui/core';\r\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from '../logger/LogUtils';\r\n\r\nconst propTypes = {\r\n  annotationData: PropTypes.object,\r\n  actions: PropTypes.object,\r\n  chartId: PropTypes.number.isRequired,\r\n  datasource: PropTypes.object.isRequired,\r\n  initialValues: PropTypes.object,\r\n  formData: PropTypes.object.isRequired,\r\n  height: PropTypes.number,\r\n  width: PropTypes.number,\r\n  setControlValue: PropTypes.func,\r\n  vizType: PropTypes.string.isRequired,\r\n  triggerRender: PropTypes.bool,\r\n  // state\r\n  chartAlert: PropTypes.string,\r\n  chartStatus: PropTypes.string,\r\n  queriesResponse: PropTypes.arrayOf(PropTypes.object),\r\n  triggerQuery: PropTypes.bool,\r\n  refreshOverlayVisible: PropTypes.bool,\r\n  // dashboard callbacks\r\n  addFilter: PropTypes.func,\r\n  setDataMask: PropTypes.func,\r\n  onFilterMenuOpen: PropTypes.func,\r\n  onFilterMenuClose: PropTypes.func,\r\n  ownState: PropTypes.object,\r\n};\r\n\r\nconst BLANK = {};\r\n\r\nconst defaultProps = {\r\n  addFilter: () => BLANK,\r\n  onFilterMenuOpen: () => BLANK,\r\n  onFilterMenuClose: () => BLANK,\r\n  initialValues: BLANK,\r\n  setControlValue() {},\r\n  triggerRender: false,\r\n};\r\n\r\nclass ChartRenderer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.hasQueryResponseChange = false;\r\n\r\n    this.handleAddFilter = this.handleAddFilter.bind(this);\r\n    this.handleRenderSuccess = this.handleRenderSuccess.bind(this);\r\n    this.handleRenderFailure = this.handleRenderFailure.bind(this);\r\n    this.handleSetControlValue = this.handleSetControlValue.bind(this);\r\n\r\n    this.hooks = {\r\n      onAddFilter: this.handleAddFilter,\r\n      onError: this.handleRenderFailure,\r\n      setControlValue: this.handleSetControlValue,\r\n      onFilterMenuOpen: this.props.onFilterMenuOpen,\r\n      onFilterMenuClose: this.props.onFilterMenuClose,\r\n      setDataMask: dataMask => {\r\n        this.props.actions?.updateDataMask(this.props.chartId, dataMask);\r\n      },\r\n    };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    const resultsReady =\r\n      nextProps.queriesResponse &&\r\n      ['success', 'rendered'].indexOf(nextProps.chartStatus) > -1 &&\r\n      !nextProps.queriesResponse?.[0]?.error &&\r\n      !nextProps.refreshOverlayVisible;\r\n\r\n    if (resultsReady) {\r\n      this.hasQueryResponseChange =\r\n        nextProps.queriesResponse !== this.props.queriesResponse;\r\n      return (\r\n        this.hasQueryResponseChange ||\r\n        nextProps.annotationData !== this.props.annotationData ||\r\n        nextProps.ownState !== this.props.ownState ||\r\n        nextProps.filterState !== this.props.filterState ||\r\n        nextProps.height !== this.props.height ||\r\n        nextProps.width !== this.props.width ||\r\n        nextProps.triggerRender ||\r\n        nextProps.formData.color_scheme !== this.props.formData.color_scheme ||\r\n        nextProps.cacheBusterProp !== this.props.cacheBusterProp\r\n      );\r\n    }\r\n    return false;\r\n  }\r\n\r\n  handleAddFilter(col, vals, merge = true, refresh = true) {\r\n    this.props.addFilter(col, vals, merge, refresh);\r\n  }\r\n\r\n  handleRenderSuccess() {\r\n    const { actions, chartStatus, chartId, vizType } = this.props;\r\n    if (['loading', 'rendered'].indexOf(chartStatus) < 0) {\r\n      actions.chartRenderingSucceeded(chartId);\r\n    }\r\n\r\n    // only log chart render time which is triggered by query results change\r\n    // currently we don't log chart re-render time, like window resize etc\r\n    if (this.hasQueryResponseChange) {\r\n      actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\r\n        slice_id: chartId,\r\n        viz_type: vizType,\r\n        start_offset: this.renderStartTime,\r\n        ts: new Date().getTime(),\r\n        duration: Logger.getTimestamp() - this.renderStartTime,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleRenderFailure(error, info) {\r\n    const { actions, chartId } = this.props;\r\n    logging.warn(error);\r\n    actions.chartRenderingFailed(\r\n      error.toString(),\r\n      chartId,\r\n      info ? info.componentStack : null,\r\n    );\r\n\r\n    // only trigger render log when query is changed\r\n    if (this.hasQueryResponseChange) {\r\n      actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\r\n        slice_id: chartId,\r\n        has_err: true,\r\n        error_details: error.toString(),\r\n        start_offset: this.renderStartTime,\r\n        ts: new Date().getTime(),\r\n        duration: Logger.getTimestamp() - this.renderStartTime,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSetControlValue(...args) {\r\n    const { setControlValue } = this.props;\r\n    if (setControlValue) {\r\n      setControlValue(...args);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      chartAlert,\r\n      chartStatus,\r\n      vizType,\r\n      chartId,\r\n      refreshOverlayVisible,\r\n    } = this.props;\r\n\r\n    // Skip chart rendering\r\n    if (\r\n      refreshOverlayVisible ||\r\n      chartStatus === 'loading' ||\r\n      !!chartAlert ||\r\n      chartStatus === null\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    this.renderStartTime = Logger.getTimestamp();\r\n\r\n    const {\r\n      width,\r\n      height,\r\n      annotationData,\r\n      datasource,\r\n      initialValues,\r\n      ownState,\r\n      filterState,\r\n      formData,\r\n      queriesResponse,\r\n    } = this.props;\r\n\r\n    // It's bad practice to use unprefixed `vizType` as classnames for chart\r\n    // container. It may cause css conflicts as in the case of legacy table chart.\r\n    // When migrating charts, we should gradually add a `superset-chart-` prefix\r\n    // to each one of them.\r\n    const snakeCaseVizType = snakeCase(vizType);\r\n    const chartClassName =\r\n      vizType === 'table'\r\n        ? `superset-chart-${snakeCaseVizType}`\r\n        : snakeCaseVizType;\r\n\r\n    const webpackHash =\r\n      process.env.WEBPACK_MODE === 'development'\r\n        ? `-${\r\n            // eslint-disable-next-line camelcase\r\n            typeof __webpack_require__ !== 'undefined' &&\r\n            // eslint-disable-next-line camelcase, no-undef\r\n            typeof __webpack_require__.h === 'function' &&\r\n            // eslint-disable-next-line no-undef\r\n            __webpack_require__.h()\r\n          }`\r\n        : '';\r\n\r\n    return (\r\n      <SuperChart\r\n        disableErrorBoundary\r\n        key={`${chartId}${webpackHash}`}\r\n        id={`chart-id-${chartId}`}\r\n        className={chartClassName}\r\n        chartType={vizType}\r\n        width={width}\r\n        height={height}\r\n        annotationData={annotationData}\r\n        datasource={datasource}\r\n        initialValues={initialValues}\r\n        formData={formData}\r\n        ownState={ownState}\r\n        filterState={filterState}\r\n        hooks={this.hooks}\r\n        behaviors={[Behavior.INTERACTIVE_CHART]}\r\n        queriesData={queriesResponse}\r\n        onRenderSuccess={this.handleRenderSuccess}\r\n        onRenderFailure={this.handleRenderFailure}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nChartRenderer.propTypes = propTypes;\r\nChartRenderer.defaultProps = defaultProps;\r\n\r\nexport default ChartRenderer;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint camelcase: 0 */\r\nimport { t } from '@superset-ui/core';\r\nimport { HYDRATE_DASHBOARD } from 'src/dashboard/actions/hydrate';\r\nimport { ChartState } from 'src/explore/types';\r\nimport { getFormDataFromControls } from 'src/explore/controlUtils';\r\nimport { now } from 'src/modules/dates';\r\nimport * as actions from './chartAction';\r\n\r\nexport const chart: ChartState = {\r\n  id: 0,\r\n  chartAlert: null,\r\n  chartStatus: 'loading',\r\n  chartStackTrace: null,\r\n  chartUpdateEndTime: null,\r\n  chartUpdateStartTime: 0,\r\n  latestQueryFormData: {},\r\n  sliceFormData: null,\r\n  queryController: null,\r\n  queriesResponse: null,\r\n  triggerQuery: true,\r\n  lastRendered: 0,\r\n};\r\n\r\ntype ChartActionHandler = (state: ChartState) => ChartState;\r\n\r\ntype AnyChartAction = Record<string, any>;\r\n\r\nexport default function chartReducer(\r\n  charts: Record<string, ChartState> = {},\r\n  action: AnyChartAction,\r\n) {\r\n  const actionHandlers: Record<string, ChartActionHandler> = {\r\n    [actions.ADD_CHART]() {\r\n      return {\r\n        ...chart,\r\n        ...action.chart,\r\n      };\r\n    },\r\n    [actions.CHART_UPDATE_SUCCEEDED](state) {\r\n      return {\r\n        ...state,\r\n        chartStatus: 'success',\r\n        chartAlert: null,\r\n        queriesResponse: action.queriesResponse,\r\n        chartUpdateEndTime: now(),\r\n      };\r\n    },\r\n    [actions.CHART_UPDATE_STARTED](state) {\r\n      return {\r\n        ...state,\r\n        chartStatus: 'loading',\r\n        chartStackTrace: null,\r\n        chartAlert: null,\r\n        chartUpdateEndTime: null,\r\n        chartUpdateStartTime: now(),\r\n        queryController: action.queryController,\r\n      };\r\n    },\r\n    [actions.CHART_UPDATE_STOPPED](state) {\r\n      return {\r\n        ...state,\r\n        chartStatus: 'stopped',\r\n        chartAlert: t('Updating chart was stopped'),\r\n        chartUpdateEndTime: now(),\r\n      };\r\n    },\r\n    [actions.CHART_RENDERING_SUCCEEDED](state) {\r\n      return { ...state, chartStatus: 'rendered', chartUpdateEndTime: now() };\r\n    },\r\n    [actions.CHART_RENDERING_FAILED](state) {\r\n      return {\r\n        ...state,\r\n        chartStatus: 'failed',\r\n        chartStackTrace: action.stackTrace,\r\n        chartAlert: t(\r\n          'An error occurred while rendering the visualization: %s',\r\n          action.error,\r\n        ),\r\n      };\r\n    },\r\n    [actions.CHART_UPDATE_FAILED](state) {\r\n      return {\r\n        ...state,\r\n        chartStatus: 'failed',\r\n        chartAlert: action.queriesResponse\r\n          ? action.queriesResponse?.[0]?.error\r\n          : t('Network error.'),\r\n        chartUpdateEndTime: now(),\r\n        queriesResponse: action.queriesResponse,\r\n        chartStackTrace: action.queriesResponse\r\n          ? action.queriesResponse?.[0]?.stacktrace\r\n          : null,\r\n      };\r\n    },\r\n    [actions.DYNAMIC_PLUGIN_CONTROLS_READY](state) {\r\n      const sliceFormData = getFormDataFromControls(action.controlsState);\r\n      return { ...state, sliceFormData };\r\n    },\r\n    [actions.TRIGGER_QUERY](state) {\r\n      return {\r\n        ...state,\r\n        triggerQuery: action.value,\r\n        chartStatus: 'loading',\r\n      };\r\n    },\r\n    [actions.RENDER_TRIGGERED](state) {\r\n      return { ...state, lastRendered: action.value };\r\n    },\r\n    [actions.UPDATE_QUERY_FORM_DATA](state) {\r\n      return { ...state, latestQueryFormData: action.value };\r\n    },\r\n    [actions.ANNOTATION_QUERY_STARTED](state) {\r\n      if (\r\n        state.annotationQuery &&\r\n        state.annotationQuery[action.annotation.name]\r\n      ) {\r\n        state.annotationQuery[action.annotation.name].abort();\r\n      }\r\n      const annotationQuery = {\r\n        ...state.annotationQuery,\r\n        [action.annotation.name]: action.queryController,\r\n      };\r\n      return {\r\n        ...state,\r\n        annotationQuery,\r\n      };\r\n    },\r\n    [actions.ANNOTATION_QUERY_SUCCESS](state) {\r\n      const annotationData = {\r\n        ...state.annotationData,\r\n        [action.annotation.name]: action.queryResponse.data,\r\n      };\r\n      const annotationError = { ...state.annotationError };\r\n      delete annotationError[action.annotation.name];\r\n      const annotationQuery = { ...state.annotationQuery };\r\n      delete annotationQuery[action.annotation.name];\r\n      return {\r\n        ...state,\r\n        annotationData,\r\n        annotationError,\r\n        annotationQuery,\r\n      };\r\n    },\r\n    [actions.ANNOTATION_QUERY_FAILED](state) {\r\n      const annotationData = { ...state.annotationData };\r\n      delete annotationData[action.annotation.name];\r\n      const annotationError = {\r\n        ...state.annotationError,\r\n        [action.annotation.name]: action.queryResponse\r\n          ? action.queryResponse.error\r\n          : t('Network error.'),\r\n      };\r\n      const annotationQuery = { ...state.annotationQuery };\r\n      delete annotationQuery[action.annotation.name];\r\n      return {\r\n        ...state,\r\n        annotationData,\r\n        annotationError,\r\n        annotationQuery,\r\n      };\r\n    },\r\n  };\r\n\r\n  /* eslint-disable no-param-reassign */\r\n  if (action.type === actions.REMOVE_CHART) {\r\n    delete charts[action.key];\r\n    return charts;\r\n  }\r\n  if (action.type === actions.UPDATE_CHART_ID) {\r\n    const { newId, key } = action;\r\n    charts[newId] = {\r\n      ...charts[key],\r\n      id: newId,\r\n    };\r\n    delete charts[key];\r\n    return charts;\r\n  }\r\n  if (action.type === HYDRATE_DASHBOARD) {\r\n    return { ...action.data.charts };\r\n  }\r\n  if (action.type in actionHandlers) {\r\n    return {\r\n      ...charts,\r\n      [action.key]: actionHandlers[action.type](charts[action.key]),\r\n    };\r\n  }\r\n\r\n  return charts;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport { makeApi } from '@superset-ui/core';\r\nimport { useEffect, useMemo, useRef, useState } from 'react';\r\n\r\nexport enum ResourceStatus {\r\n  LOADING = 'loading',\r\n  COMPLETE = 'complete',\r\n  ERROR = 'error',\r\n}\r\n\r\n/**\r\n * An object containing the data fetched from the API,\r\n * as well as loading and error info\r\n */\r\nexport type Resource<T> = LoadingState | CompleteState<T> | ErrorState;\r\n\r\n// Trying out something a little different: a separate type per status.\r\n// This should let Typescript know whether a Resource has a result or error.\r\n// It's possible that I'm expecting too much from Typescript here.\r\n// If this ends up causing problems, we can change the type to:\r\n//\r\n// export type Resource<T> = {\r\n//   status: ResourceStatus;\r\n//   result: null | T;\r\n//   error: null | Error;\r\n// }\r\n\r\ntype LoadingState = {\r\n  status: ResourceStatus.LOADING;\r\n  result: null;\r\n  error: null;\r\n};\r\n\r\ntype CompleteState<T> = {\r\n  status: ResourceStatus.COMPLETE;\r\n  result: T;\r\n  error: null;\r\n};\r\n\r\ntype ErrorState = {\r\n  status: ResourceStatus.ERROR;\r\n  result: null;\r\n  error: Error;\r\n};\r\n\r\nconst initialState: LoadingState = {\r\n  status: ResourceStatus.LOADING,\r\n  result: null,\r\n  error: null,\r\n};\r\n\r\n/**\r\n * A general-purpose hook to fetch the response from an endpoint.\r\n * Returns the full response body from the API, including metadata.\r\n *\r\n * Note: You likely want {useApiV1Resource} instead of this!\r\n *\r\n * TODO Store the state in redux or something, share state between hook instances.\r\n *\r\n * TODO Include a function in the returned resource object to refresh the data.\r\n *\r\n * A core design decision here is composition > configuration,\r\n * and every hook should only have one job.\r\n * Please address new needs with new hooks if possible,\r\n * rather than adding config options to this hook.\r\n *\r\n * @param endpoint The url where the resource is located.\r\n */\r\nexport function useApiResourceFullBody<RESULT>(\r\n  endpoint: string,\r\n): Resource<RESULT> {\r\n  const [resource, setResource] = useState<Resource<RESULT>>(initialState);\r\n  const cancelRef = useRef<() => void>(() => {});\r\n\r\n  useEffect(() => {\r\n    // If refresh is implemented, this will need to change.\r\n    // The previous values should stay during refresh.\r\n    setResource(initialState);\r\n\r\n    // when this effect runs, the endpoint has changed.\r\n    // cancel any current calls so that state doesn't get messed up.\r\n    cancelRef.current();\r\n    let cancelled = false;\r\n    cancelRef.current = () => {\r\n      cancelled = true;\r\n    };\r\n\r\n    const fetchResource = makeApi<{}, RESULT>({\r\n      method: 'GET',\r\n      endpoint,\r\n    });\r\n\r\n    fetchResource({})\r\n      .then(result => {\r\n        if (!cancelled) {\r\n          setResource({\r\n            status: ResourceStatus.COMPLETE,\r\n            result,\r\n            error: null,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        if (!cancelled) {\r\n          setResource({\r\n            status: ResourceStatus.ERROR,\r\n            result: null,\r\n            error,\r\n          });\r\n        }\r\n      });\r\n\r\n    // Cancel the request when the component un-mounts\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [endpoint]);\r\n\r\n  return resource;\r\n}\r\n\r\n/**\r\n * For when you want to transform the result of an api resource hook before using it.\r\n *\r\n * @param resource the Resource object returned from useApiV1Resource\r\n * @param transformFn a callback that transforms the result object into the shape you want.\r\n * Make sure to use a persistent function for this so it doesn't constantly recalculate!\r\n */\r\nexport function useTransformedResource<IN, OUT>(\r\n  resource: Resource<IN>,\r\n  transformFn: (result: IN) => OUT,\r\n): Resource<OUT> {\r\n  return useMemo(() => {\r\n    if (resource.status !== ResourceStatus.COMPLETE) {\r\n      // While incomplete, there is no result - no need to transform.\r\n      return resource;\r\n    }\r\n    return {\r\n      ...resource,\r\n      result: transformFn(resource.result),\r\n    };\r\n  }, [resource, transformFn]);\r\n}\r\n\r\n// returns the \"result\" field from a fetched API v1 endpoint\r\nconst extractInnerResult = <T>(responseBody: { result: T }) =>\r\n  responseBody.result;\r\n\r\n/**\r\n * A general-purpose hook to fetch a Superset resource from a v1 API endpoint.\r\n * Handles request lifecycle and async logic so you don't have to.\r\n *\r\n * This returns the data under the \"result\" field in the API response body.\r\n * If you need the full response body, use {useFullApiResource} instead.\r\n *\r\n * @param endpoint The url where the resource is located.\r\n */\r\nexport function useApiV1Resource<RESULT>(endpoint: string): Resource<RESULT> {\r\n  return useTransformedResource(\r\n    useApiResourceFullBody<{ result: RESULT }>(endpoint),\r\n    extractInnerResult,\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport rison from 'rison';\r\nimport Chart from 'src/types/Chart';\r\nimport { useApiV1Resource, useTransformedResource } from './apiResources';\r\n\r\nfunction extractOwnerNames({ owners }: Chart) {\r\n  if (!owners) return null;\r\n  return owners.map(owner => `${owner.first_name} ${owner.last_name}`);\r\n}\r\n\r\nconst ownerNamesQuery = rison.encode({\r\n  columns: ['owners.first_name', 'owners.last_name'],\r\n  keys: ['none'],\r\n});\r\n\r\nexport function useChartOwnerNames(chartId: string) {\r\n  return useTransformedResource(\r\n    useApiV1Resource<Chart>(`/api/v1/chart/${chartId}?q=${ownerNamesQuery}`),\r\n    extractOwnerNames,\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport Dashboard from 'src/types/Dashboard';\r\nimport { useApiV1Resource, useTransformedResource } from './apiResources';\r\n\r\nexport const useDashboard = (idOrSlug: string | number) =>\r\n  useTransformedResource(\r\n    useApiV1Resource<Dashboard>(`/api/v1/dashboard/${idOrSlug}`),\r\n    dashboard => ({\r\n      ...dashboard,\r\n      metadata: dashboard.json_metadata && JSON.parse(dashboard.json_metadata),\r\n      position_data:\r\n        dashboard.position_json && JSON.parse(dashboard.position_json),\r\n    }),\r\n  );\r\n\r\n// gets the chart definitions for a dashboard\r\nexport const useDashboardCharts = (idOrSlug: string | number) =>\r\n  useApiV1Resource(`/api/v1/dashboard/${idOrSlug}/charts`);\r\n\r\n// gets the datasets for a dashboard\r\n// important: this endpoint only returns the fields in the dataset\r\n// that are necessary for rendering the given dashboard\r\nexport const useDashboardDatasets = (idOrSlug: string | number) =>\r\n  useApiV1Resource(`/api/v1/dashboard/${idOrSlug}/datasets`);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nexport {\r\n  useApiResourceFullBody,\r\n  useApiV1Resource,\r\n  useTransformedResource,\r\n} from './apiResources';\r\n\r\n// A central catalog of API Resource hooks.\r\n// Add new API hooks here, organized under\r\n// different files for different resource types.\r\nexport * from './charts';\r\nexport * from './dashboards';\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nexport * from './useComponentDidMount';\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { EffectCallback, useEffect } from 'react';\r\n\r\nexport const useComponentDidMount = (effect: EffectCallback) => {\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(effect, []);\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useState, useEffect } from 'react';\r\nimport { getShortUrl as getShortUrlUtil } from 'src/utils/urlUtils';\r\n\r\nexport function useUrlShortener(url: string): Function {\r\n  const [update, setUpdate] = useState(false);\r\n  const [shortUrl, setShortUrl] = useState('');\r\n\r\n  async function getShortUrl() {\r\n    if (update) {\r\n      const newShortUrl = await getShortUrlUtil(url);\r\n      setShortUrl(newShortUrl);\r\n      setUpdate(false);\r\n      return newShortUrl;\r\n    }\r\n    return shortUrl;\r\n  }\r\n\r\n  useEffect(() => setUpdate(true), [url]);\r\n\r\n  return getShortUrl;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { isEqual, isEmpty } from 'lodash';\r\nimport { t } from '@superset-ui/core';\r\nimport getControlsForVizType from 'src/utils/getControlsForVizType';\r\nimport { safeStringify } from 'src/utils/safeStringify';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport ModalTrigger from '../ModalTrigger';\r\nimport TableView from '../TableView';\r\n\r\nconst propTypes = {\r\n  origFormData: PropTypes.object.isRequired,\r\n  currentFormData: PropTypes.object.isRequired,\r\n};\r\n\r\nfunction alterForComparison(value) {\r\n  // Considering `[]`, `{}`, `null` and `undefined` as identical\r\n  // for this purpose\r\n  if (value === undefined || value === null || value === '') {\r\n    return null;\r\n  }\r\n  if (typeof value === 'object') {\r\n    if (Array.isArray(value) && value.length === 0) {\r\n      return null;\r\n    }\r\n    const keys = Object.keys(value);\r\n    if (keys && keys.length === 0) {\r\n      return null;\r\n    }\r\n  }\r\n  return value;\r\n}\r\n\r\nexport default class AlteredSliceTag extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const diffs = this.getDiffs(props);\r\n    const controlsMap = getControlsForVizType(this.props.origFormData.viz_type);\r\n    const rows = this.getRowsFromDiffs(diffs, controlsMap);\r\n\r\n    this.state = { rows, hasDiffs: !isEmpty(diffs), controlsMap };\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(newProps) {\r\n    // Update differences if need be\r\n    if (isEqual(this.props, newProps)) {\r\n      return;\r\n    }\r\n    const diffs = this.getDiffs(newProps);\r\n    this.setState(prevState => ({\r\n      rows: this.getRowsFromDiffs(diffs, prevState.controlsMap),\r\n      hasDiffs: !isEmpty(diffs),\r\n    }));\r\n  }\r\n\r\n  getRowsFromDiffs(diffs, controlsMap) {\r\n    return Object.entries(diffs).map(([key, diff]) => ({\r\n      control: (controlsMap[key] && controlsMap[key].label) || key,\r\n      before: this.formatValue(diff.before, key, controlsMap),\r\n      after: this.formatValue(diff.after, key, controlsMap),\r\n    }));\r\n  }\r\n\r\n  getDiffs(props) {\r\n    // Returns all properties that differ in the\r\n    // current form data and the saved form data\r\n    const ofd = props.origFormData;\r\n    const cfd = props.currentFormData;\r\n\r\n    const fdKeys = Object.keys(cfd);\r\n    const diffs = {};\r\n    fdKeys.forEach(fdKey => {\r\n      if (!ofd[fdKey] && !cfd[fdKey]) {\r\n        return;\r\n      }\r\n      if (['filters', 'having', 'having_filters', 'where'].includes(fdKey)) {\r\n        return;\r\n      }\r\n      if (!this.isEqualish(ofd[fdKey], cfd[fdKey])) {\r\n        diffs[fdKey] = { before: ofd[fdKey], after: cfd[fdKey] };\r\n      }\r\n    });\r\n    return diffs;\r\n  }\r\n\r\n  isEqualish(val1, val2) {\r\n    return isEqual(alterForComparison(val1), alterForComparison(val2));\r\n  }\r\n\r\n  formatValue(value, key, controlsMap) {\r\n    // Format display value based on the control type\r\n    // or the value type\r\n    if (value === undefined) {\r\n      return 'N/A';\r\n    }\r\n    if (value === null) {\r\n      return 'null';\r\n    }\r\n    if (controlsMap[key]?.type === 'AdhocFilterControl') {\r\n      if (!value.length) {\r\n        return '[]';\r\n      }\r\n      return value\r\n        .map(v => {\r\n          const filterVal =\r\n            v.comparator && v.comparator.constructor === Array\r\n              ? `[${v.comparator.join(', ')}]`\r\n              : v.comparator;\r\n          return `${v.subject} ${v.operator} ${filterVal}`;\r\n        })\r\n        .join(', ');\r\n    }\r\n    if (controlsMap[key]?.type === 'BoundsControl') {\r\n      return `Min: ${value[0]}, Max: ${value[1]}`;\r\n    }\r\n    if (controlsMap[key]?.type === 'CollectionControl') {\r\n      return value.map(v => safeStringify(v)).join(', ');\r\n    }\r\n    if (typeof value === 'boolean') {\r\n      return value ? 'true' : 'false';\r\n    }\r\n    if (value.constructor === Array) {\r\n      return value.length ? value.join(', ') : '[]';\r\n    }\r\n    if (typeof value === 'string' || typeof value === 'number') {\r\n      return value;\r\n    }\r\n    return safeStringify(value);\r\n  }\r\n\r\n  renderModalBody() {\r\n    const columns = [\r\n      {\r\n        accessor: 'control',\r\n        Header: 'Control',\r\n      },\r\n      {\r\n        accessor: 'before',\r\n        Header: 'Before',\r\n      },\r\n      {\r\n        accessor: 'after',\r\n        Header: 'After',\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <TableView\r\n        columns={columns}\r\n        data={this.state.rows}\r\n        pageSize={50}\r\n        className=\"table-condensed\"\r\n      />\r\n    );\r\n  }\r\n\r\n  renderTriggerNode() {\r\n    return (\r\n      <Tooltip id=\"difference-tooltip\" title={t('Click to see difference')}>\r\n        <span\r\n          className=\"label label-warning m-l-5\"\r\n          style={{ fontSize: '12px' }}\r\n        >\r\n          {t('Altered')}\r\n        </span>\r\n      </Tooltip>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    // Return nothing if there are no differences\r\n    if (!this.state.hasDiffs) {\r\n      return null;\r\n    }\r\n    // Render the label-warning 'Altered' tag which the user may\r\n    // click to open a modal containing a table summarizing the\r\n    // differences in the slice\r\n    return (\r\n      <ModalTrigger\r\n        triggerNode={this.renderTriggerNode()}\r\n        modalTitle={t('Chart changes')}\r\n        modalBody={this.renderModalBody()}\r\n        responsive\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nAlteredSliceTag.propTypes = propTypes;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\n\r\nexport interface ButtonGroupProps {\r\n  className?: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function ButtonGroup(props: ButtonGroupProps) {\r\n  const { className, children } = props;\r\n  return (\r\n    <div\r\n      role=\"group\"\r\n      className={className}\r\n      css={{\r\n        '& :nth-child(1):not(:nth-last-child(1))': {\r\n          borderTopRightRadius: 0,\r\n          borderBottomRightRadius: 0,\r\n          borderRight: 0,\r\n          marginLeft: 0,\r\n        },\r\n        '& :not(:nth-child(1)):not(:nth-last-child(1))': {\r\n          borderRadius: 0,\r\n          borderRight: 0,\r\n          marginLeft: 0,\r\n        },\r\n        '& :nth-last-child(1):not(:nth-child(1))': {\r\n          borderTopLeftRadius: 0,\r\n          borderBottomLeftRadius: 0,\r\n          marginLeft: 0,\r\n        },\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport React from 'react';\r\nimport moment from 'moment';\r\nimport { t } from '@superset-ui/core';\r\n\r\ninterface Props {\r\n  cachedTimestamp?: string;\r\n}\r\nexport const TooltipContent: React.FC<Props> = ({ cachedTimestamp }) => {\r\n  const cachedText = cachedTimestamp ? (\r\n    <span>\r\n      {t('Loaded data cached')}\r\n      <b> {moment.utc(cachedTimestamp).fromNow()}</b>\r\n    </span>\r\n  ) : (\r\n    t('Loaded from cache')\r\n  );\r\n\r\n  return (\r\n    <span data-test=\"tooltip-content\">\r\n      {cachedText}. {t('Click to force-refresh')}\r\n    </span>\r\n  );\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport { t } from '@superset-ui/core';\r\nimport Label from 'src/components/Label';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport { TooltipContent } from './TooltipContent';\r\n\r\ninterface Props {\r\n  onClick?: React.MouseEventHandler<HTMLElement>;\r\n  cachedTimestamp?: string;\r\n  className?: string;\r\n}\r\n\r\nconst CacheLabel: React.FC<Props> = ({\r\n  className,\r\n  onClick,\r\n  cachedTimestamp,\r\n}) => {\r\n  const [hovered, setHovered] = useState(false);\r\n\r\n  const labelType = hovered ? 'primary' : 'default';\r\n  return (\r\n    <Tooltip\r\n      title={<TooltipContent cachedTimestamp={cachedTimestamp} />}\r\n      id=\"cache-desc-tooltip\"\r\n    >\r\n      <Label\r\n        className={`${className}`}\r\n        type={labelType}\r\n        onClick={onClick}\r\n        onMouseOver={() => setHovered(true)}\r\n        onMouseOut={() => setHovered(false)}\r\n      >\r\n        {t('cached')} <i className=\"fa fa-refresh\" />\r\n      </Label>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default CacheLabel;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport cx from 'classnames';\r\nimport { t } from '@superset-ui/core';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\n\r\nexport interface EditableTitleProps {\r\n  canEdit?: boolean;\r\n  editing?: boolean;\r\n  emptyText?: string;\r\n  extraClasses?: Array<string> | string;\r\n  multiLine?: boolean;\r\n  noPermitTooltip?: string;\r\n  onSaveTitle: (arg0: string) => void;\r\n  showTooltip?: boolean;\r\n  style?: object;\r\n  title?: string;\r\n  defaultTitle?: string;\r\n  placeholder?: string;\r\n}\r\n\r\nexport default function EditableTitle({\r\n  canEdit = false,\r\n  editing = false,\r\n  extraClasses,\r\n  multiLine = false,\r\n  noPermitTooltip,\r\n  onSaveTitle,\r\n  showTooltip = true,\r\n  style,\r\n  title = '',\r\n  defaultTitle = '',\r\n  placeholder = '',\r\n}: EditableTitleProps) {\r\n  const [isEditing, setIsEditing] = useState(editing);\r\n  const [currentTitle, setCurrentTitle] = useState(title);\r\n  const [lastTitle, setLastTitle] = useState(title);\r\n  const [\r\n    contentBoundingRect,\r\n    setContentBoundingRect,\r\n  ] = useState<DOMRect | null>(null);\r\n  // Used so we can access the DOM element if a user clicks on this component.\r\n\r\n  const contentRef = useRef<any | HTMLInputElement | HTMLTextAreaElement>();\r\n\r\n  useEffect(() => {\r\n    if (title !== currentTitle) {\r\n      setLastTitle(currentTitle);\r\n      setCurrentTitle(title);\r\n    }\r\n  }, [title]);\r\n\r\n  useEffect(() => {\r\n    if (isEditing) {\r\n      contentRef.current.focus();\r\n    }\r\n  }, [isEditing]);\r\n\r\n  function handleClick() {\r\n    if (!canEdit || isEditing) {\r\n      return;\r\n    }\r\n\r\n    // For multi-line values, save the actual rendered size of the displayed text.\r\n    // Later, if a textarea is constructed for editing the value, we'll need this.\r\n    const contentBounding = contentRef.current\r\n      ? contentRef.current.getBoundingClientRect()\r\n      : null;\r\n    setIsEditing(true);\r\n    setContentBoundingRect(contentBounding);\r\n  }\r\n\r\n  function handleBlur() {\r\n    const formattedTitle = currentTitle.trim();\r\n\r\n    if (!canEdit) {\r\n      return;\r\n    }\r\n\r\n    setIsEditing(false);\r\n\r\n    if (!formattedTitle.length) {\r\n      setCurrentTitle(lastTitle);\r\n      return;\r\n    }\r\n\r\n    if (lastTitle !== formattedTitle) {\r\n      setLastTitle(formattedTitle);\r\n    }\r\n\r\n    if (title !== formattedTitle) {\r\n      onSaveTitle(formattedTitle);\r\n    }\r\n  }\r\n\r\n  // tl;dr when a EditableTitle is being edited, typically the Tab that wraps it has been\r\n  // clicked and is focused/active. For accessibility, when the focused tab anchor intercepts\r\n  // the ' ' key (among others, including all arrows) the onChange() doesn't fire. Somehow\r\n  // keydown is still called so we can detect this and manually add a ' ' to the current title\r\n  function handleKeyDown(event: any) {\r\n    if (event.key === ' ') {\r\n      event.stopPropagation();\r\n    }\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      handleBlur();\r\n    }\r\n  }\r\n\r\n  function handleChange(ev: any) {\r\n    if (!canEdit) {\r\n      return;\r\n    }\r\n    setCurrentTitle(ev.target.value);\r\n  }\r\n\r\n  function handleKeyPress(ev: any) {\r\n    if (ev.key === 'Enter') {\r\n      ev.preventDefault();\r\n      handleBlur();\r\n    }\r\n  }\r\n\r\n  let value: string | undefined;\r\n  value = currentTitle;\r\n  if (!isEditing && !currentTitle) {\r\n    value = defaultTitle || title;\r\n  }\r\n\r\n  // Construct an inline style based on previously-saved height of the rendered label. Only\r\n  // used in multi-line contexts.\r\n  const editStyle =\r\n    isEditing && contentBoundingRect\r\n      ? { height: `${contentBoundingRect.height}px` }\r\n      : undefined;\r\n\r\n  // Create a textarea when we're editing a multi-line value, otherwise create an input (which may\r\n  // be text or a button).\r\n  let titleComponent =\r\n    multiLine && isEditing ? (\r\n      <textarea\r\n        data-test=\"editable-title-input\"\r\n        ref={contentRef}\r\n        value={value}\r\n        className={!title ? 'text-muted' : undefined}\r\n        onKeyDown={handleKeyDown}\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        onClick={handleClick}\r\n        onKeyPress={handleKeyPress}\r\n        placeholder={placeholder}\r\n        style={editStyle}\r\n      />\r\n    ) : (\r\n      <input\r\n        data-test=\"editable-title-input\"\r\n        ref={contentRef}\r\n        type={isEditing ? 'text' : 'button'}\r\n        value={value}\r\n        className={!title ? 'text-muted' : undefined}\r\n        onKeyDown={handleKeyDown}\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        onClick={handleClick}\r\n        onKeyPress={handleKeyPress}\r\n        placeholder={placeholder}\r\n      />\r\n    );\r\n  if (showTooltip && !isEditing) {\r\n    titleComponent = (\r\n      <Tooltip\r\n        id=\"title-tooltip\"\r\n        title={\r\n          canEdit\r\n            ? t('Click to edit')\r\n            : noPermitTooltip ||\r\n              t(\"You don't have the rights to alter this title.\")\r\n        }\r\n      >\r\n        {titleComponent}\r\n      </Tooltip>\r\n    );\r\n  }\r\n  if (!canEdit) {\r\n    // don't actually want an input in this case\r\n    titleComponent = (\r\n      <span data-test=\"editable-title-input\" title={value}>\r\n        {value}\r\n      </span>\r\n    );\r\n  }\r\n  return (\r\n    <span\r\n      data-test=\"editable-title\"\r\n      className={cx(\r\n        'editable-title',\r\n        extraClasses,\r\n        canEdit && 'editable-title--editable',\r\n        isEditing && 'editable-title--editing',\r\n      )}\r\n      style={style}\r\n    >\r\n      {titleComponent}\r\n    </span>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport React, { useCallback } from 'react';\r\nimport { t, styled } from '@superset-ui/core';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport { useComponentDidMount } from 'src/common/hooks/useComponentDidMount';\r\nimport Icon from '../Icon';\r\n\r\ninterface FaveStarProps {\r\n  itemId: number;\r\n  isStarred?: boolean;\r\n  showTooltip?: boolean;\r\n  saveFaveStar(id: number, isStarred: boolean): any;\r\n  fetchFaveStar?: (id: number) => void;\r\n}\r\n\r\nconst StyledLink = styled.a`\r\n  font-size: ${({ theme }) => theme.typography.sizes.xl}px;\r\n  display: flex;\r\n  padding: 0 0 0 0.5em;\r\n`;\r\n\r\nconst FaveStar = ({\r\n  itemId,\r\n  isStarred,\r\n  showTooltip,\r\n  saveFaveStar,\r\n  fetchFaveStar,\r\n}: FaveStarProps) => {\r\n  useComponentDidMount(() => {\r\n    if (fetchFaveStar) {\r\n      fetchFaveStar(itemId);\r\n    }\r\n  });\r\n\r\n  const onClick = useCallback(\r\n    (e: React.MouseEvent) => {\r\n      e.preventDefault();\r\n      saveFaveStar(itemId, !!isStarred);\r\n    },\r\n    [isStarred, itemId, saveFaveStar],\r\n  );\r\n\r\n  const content = (\r\n    <StyledLink\r\n      href=\"#\"\r\n      onClick={onClick}\r\n      className=\"fave-unfave-icon\"\r\n      data-test=\"fave-unfave-icon\"\r\n      role=\"button\"\r\n    >\r\n      <Icon name={isStarred ? 'favorite-selected' : 'favorite-unselected'} />\r\n    </StyledLink>\r\n  );\r\n\r\n  if (showTooltip) {\r\n    return (\r\n      <Tooltip\r\n        id=\"fave-unfave-tooltip\"\r\n        title={t('Click to favorite/unfavorite')}\r\n      >\r\n        {content}\r\n      </Tooltip>\r\n    );\r\n  }\r\n\r\n  return content;\r\n};\r\nexport default FaveStar;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { styled } from '@superset-ui/core';\r\nimport Label, { Type } from 'src/components/Label';\r\n\r\nimport { now, fDuration } from 'src/modules/dates';\r\n\r\nexport interface TimerProps {\r\n  endTime?: number;\r\n  isRunning: boolean;\r\n  startTime?: number;\r\n  status?: Type;\r\n}\r\n\r\nconst TimerLabel = styled(Label)`\r\n  text-align: left;\r\n  width: 91px;\r\n`;\r\n\r\nexport default function Timer({\r\n  endTime,\r\n  isRunning,\r\n  startTime,\r\n  status = 'success',\r\n}: TimerProps) {\r\n  const [clockStr, setClockStr] = useState('00:00:00.00');\r\n  const timer = useRef<ReturnType<typeof setInterval>>();\r\n\r\n  useEffect(() => {\r\n    const stopTimer = () => {\r\n      if (timer.current) {\r\n        clearInterval(timer.current);\r\n        timer.current = undefined;\r\n      }\r\n    };\r\n\r\n    if (isRunning) {\r\n      timer.current = setInterval(() => {\r\n        if (startTime) {\r\n          const endDttm = endTime || now();\r\n          if (startTime < endDttm) {\r\n            setClockStr(fDuration(startTime, endDttm));\r\n          }\r\n          if (!isRunning) {\r\n            stopTimer();\r\n          }\r\n        }\r\n      }, 30);\r\n    }\r\n    return stopTimer;\r\n  }, [endTime, isRunning, startTime]);\r\n\r\n  return (\r\n    <TimerLabel type={status} role=\"timer\">\r\n      {clockStr}\r\n    </TimerLabel>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-disable camelcase */\r\n// util function to make sure filter is a valid slice in current dashboard\r\nfunction isValidFilter(getState, chartId) {\r\n  return getState().dashboardState.sliceIds.includes(chartId);\r\n}\r\n\r\nexport const ADD_FILTER = 'ADD_FILTER';\r\nexport function addFilter(chartId, component, form_data) {\r\n  return (dispatch, getState) => {\r\n    if (isValidFilter(getState, chartId)) {\r\n      return dispatch({ type: ADD_FILTER, chartId, component, form_data });\r\n    }\r\n    return getState().dashboardFilters;\r\n  };\r\n}\r\n\r\nexport const REMOVE_FILTER = 'REMOVE_FILTER';\r\nexport function removeFilter(chartId) {\r\n  return (dispatch, getState) => {\r\n    if (isValidFilter(getState, chartId)) {\r\n      return dispatch({ type: REMOVE_FILTER, chartId });\r\n    }\r\n    return getState().dashboardFilters;\r\n  };\r\n}\r\n\r\nexport const CHANGE_FILTER = 'CHANGE_FILTER';\r\nexport function changeFilter(chartId, newSelectedValues, merge) {\r\n  return (dispatch, getState) => {\r\n    if (isValidFilter(getState, chartId)) {\r\n      const components = getState().dashboardLayout.present;\r\n      return dispatch({\r\n        type: CHANGE_FILTER,\r\n        chartId,\r\n        newSelectedValues,\r\n        merge,\r\n        components,\r\n      });\r\n    }\r\n    return getState().dashboardFilters;\r\n  };\r\n}\r\n\r\nexport const UPDATE_DIRECT_PATH_TO_FILTER = 'UPDATE_DIRECT_PATH_TO_FILTER';\r\nexport function updateDirectPathToFilter(chartId, path) {\r\n  return (dispatch, getState) => {\r\n    if (isValidFilter(getState, chartId)) {\r\n      return dispatch({ type: UPDATE_DIRECT_PATH_TO_FILTER, chartId, path });\r\n    }\r\n    return getState().dashboardFilters;\r\n  };\r\n}\r\n\r\nexport const UPDATE_LAYOUT_COMPONENTS = 'UPDATE_LAYOUT_COMPONENTS';\r\nexport function updateLayoutComponents(components) {\r\n  return dispatch => {\r\n    dispatch({ type: UPDATE_LAYOUT_COMPONENTS, components });\r\n  };\r\n}\r\n\r\nexport const UPDATE_DASHBOARD_FILTERS_SCOPE = 'UPDATE_DASHBOARD_FILTERS_SCOPE';\r\nexport function updateDashboardFiltersScope(scopes) {\r\n  return dispatch => {\r\n    dispatch({ type: UPDATE_DASHBOARD_FILTERS_SCOPE, scopes });\r\n  };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { Dispatch } from 'redux';\r\nimport { makeApi } from '@superset-ui/core';\r\nimport { ChartConfiguration, DashboardInfo } from '../reducers/types';\r\n\r\nexport const DASHBOARD_INFO_UPDATED = 'DASHBOARD_INFO_UPDATED';\r\n\r\n// updates partially changed dashboard info\r\nexport function dashboardInfoChanged(newInfo: { metadata: any }) {\r\n  return { type: DASHBOARD_INFO_UPDATED, newInfo };\r\n}\r\nexport const SET_CHART_CONFIG_BEGIN = 'SET_CHART_CONFIG_BEGIN';\r\nexport interface SetChartConfigBegin {\r\n  type: typeof SET_CHART_CONFIG_BEGIN;\r\n  chartConfiguration: ChartConfiguration;\r\n}\r\nexport const SET_CHART_CONFIG_COMPLETE = 'SET_CHART_CONFIG_COMPLETE';\r\nexport interface SetChartConfigComplete {\r\n  type: typeof SET_CHART_CONFIG_COMPLETE;\r\n  chartConfiguration: ChartConfiguration;\r\n}\r\nexport const SET_CHART_CONFIG_FAIL = 'SET_CHART_CONFIG_FAIL';\r\nexport interface SetChartConfigFail {\r\n  type: typeof SET_CHART_CONFIG_FAIL;\r\n  chartConfiguration: ChartConfiguration;\r\n}\r\nexport const setChartConfiguration = (\r\n  chartConfiguration: ChartConfiguration,\r\n) => async (dispatch: Dispatch, getState: () => any) => {\r\n  dispatch({\r\n    type: SET_CHART_CONFIG_BEGIN,\r\n    chartConfiguration,\r\n  });\r\n  const { id, metadata } = getState().dashboardInfo;\r\n\r\n  // TODO extract this out when makeApi supports url parameters\r\n  const updateDashboard = makeApi<\r\n    Partial<DashboardInfo>,\r\n    { result: DashboardInfo }\r\n  >({\r\n    method: 'PUT',\r\n    endpoint: `/api/v1/dashboard/${id}`,\r\n  });\r\n\r\n  try {\r\n    const response = await updateDashboard({\r\n      json_metadata: JSON.stringify({\r\n        ...metadata,\r\n        chart_configuration: chartConfiguration,\r\n      }),\r\n    });\r\n    dispatch(\r\n      dashboardInfoChanged({\r\n        metadata: JSON.parse(response.result.json_metadata),\r\n      }),\r\n    );\r\n    dispatch({\r\n      type: SET_CHART_CONFIG_COMPLETE,\r\n      chartConfiguration,\r\n    });\r\n  } catch (err) {\r\n    dispatch({ type: SET_CHART_CONFIG_FAIL, chartConfiguration });\r\n  }\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { SupersetClient } from '@superset-ui/core';\r\nimport { getClientErrorObject } from '../../utils/getClientErrorObject';\r\n\r\nexport const SET_DATASOURCE = 'SET_DATASOURCE';\r\nexport function setDatasource(datasource, key) {\r\n  return { type: SET_DATASOURCE, datasource, key };\r\n}\r\n\r\nexport const FETCH_DATASOURCE_STARTED = 'FETCH_DATASOURCE_STARTED';\r\nexport function fetchDatasourceStarted(key) {\r\n  return { type: FETCH_DATASOURCE_STARTED, key };\r\n}\r\n\r\nexport const FETCH_DATASOURCE_FAILED = 'FETCH_DATASOURCE_FAILED';\r\nexport function fetchDatasourceFailed(error, key) {\r\n  return { type: FETCH_DATASOURCE_FAILED, error, key };\r\n}\r\n\r\nexport function fetchDatasourceMetadata(key) {\r\n  return (dispatch, getState) => {\r\n    const { datasources } = getState();\r\n    const datasource = datasources[key];\r\n\r\n    if (datasource) {\r\n      return dispatch(setDatasource(datasource, key));\r\n    }\r\n\r\n    return SupersetClient.get({\r\n      endpoint: `/superset/fetch_datasource_metadata?datasourceKey=${key}`,\r\n    })\r\n      .then(({ json }) => dispatch(setDatasource(json, key)))\r\n      .catch(response =>\r\n        getClientErrorObject(response).then(({ error }) =>\r\n          dispatch(fetchDatasourceFailed(error, key)),\r\n        ),\r\n      );\r\n  };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-disable camelcase */\r\nimport { isString, keyBy } from 'lodash';\r\nimport {\r\n  Behavior,\r\n  CategoricalColorNamespace,\r\n  getChartMetadataRegistry,\r\n} from '@superset-ui/core';\r\n\r\nimport { chart } from 'src/chart/chartReducer';\r\nimport { initSliceEntities } from 'src/dashboard/reducers/sliceEntities';\r\nimport { getInitialState as getInitialNativeFilterState } from 'src/dashboard/reducers/nativeFilters';\r\nimport { applyDefaultFormData } from 'src/explore/store';\r\nimport { buildActiveFilters } from 'src/dashboard/util/activeDashboardFilters';\r\nimport findPermission, {\r\n  canUserEditDashboard,\r\n} from 'src/dashboard/util/findPermission';\r\nimport {\r\n  DASHBOARD_FILTER_SCOPE_GLOBAL,\r\n  dashboardFilter,\r\n} from 'src/dashboard/reducers/dashboardFilters';\r\nimport {\r\n  DASHBOARD_HEADER_ID,\r\n  GRID_DEFAULT_CHART_WIDTH,\r\n  GRID_COLUMN_COUNT,\r\n  DASHBOARD_ROOT_ID,\r\n} from 'src/dashboard/util/constants';\r\nimport {\r\n  DASHBOARD_HEADER_TYPE,\r\n  CHART_TYPE,\r\n  ROW_TYPE,\r\n} from 'src/dashboard/util/componentTypes';\r\nimport findFirstParentContainerId from 'src/dashboard/util/findFirstParentContainer';\r\nimport getEmptyLayout from 'src/dashboard/util/getEmptyLayout';\r\nimport getFilterConfigsFromFormdata from 'src/dashboard/util/getFilterConfigsFromFormdata';\r\nimport getLocationHash from 'src/dashboard/util/getLocationHash';\r\nimport newComponentFactory from 'src/dashboard/util/newComponentFactory';\r\nimport { TIME_RANGE } from 'src/visualizations/FilterBox/FilterBox';\r\nimport { URL_PARAMS } from 'src/constants';\r\nimport { getUrlParam } from 'src/utils/urlUtils';\r\nimport { FeatureFlag, isFeatureEnabled } from '../../featureFlags';\r\nimport extractUrlParams from '../util/extractUrlParams';\r\n\r\nexport const HYDRATE_DASHBOARD = 'HYDRATE_DASHBOARD';\r\n\r\nexport const hydrateDashboard = (dashboardData, chartData, datasourcesData) => (\r\n  dispatch,\r\n  getState,\r\n) => {\r\n  const { user, common } = getState();\r\n  let { metadata } = dashboardData;\r\n  const regularUrlParams = extractUrlParams('regular');\r\n  const reservedUrlParams = extractUrlParams('reserved');\r\n  const editMode = reservedUrlParams.edit === 'true';\r\n\r\n  let preselectFilters = {};\r\n\r\n  chartData.forEach(chart => {\r\n    // eslint-disable-next-line no-param-reassign\r\n    chart.slice_id = chart.form_data.slice_id;\r\n  });\r\n  try {\r\n    // allow request parameter overwrite dashboard metadata\r\n    preselectFilters =\r\n      getUrlParam(URL_PARAMS.preselectFilters) ||\r\n      JSON.parse(metadata.default_filters);\r\n  } catch (e) {\r\n    //\r\n  }\r\n\r\n  // Priming the color palette with user's label-color mapping provided in\r\n  // the dashboard's JSON metadata\r\n  if (metadata?.label_colors) {\r\n    const scheme = metadata.color_scheme;\r\n    const namespace = metadata.color_namespace;\r\n    const colorMap = isString(metadata.label_colors)\r\n      ? JSON.parse(metadata.label_colors)\r\n      : metadata.label_colors;\r\n    Object.keys(colorMap).forEach(label => {\r\n      CategoricalColorNamespace.getScale(scheme, namespace).setColor(\r\n        label,\r\n        colorMap[label],\r\n      );\r\n    });\r\n  }\r\n\r\n  // dashboard layout\r\n  const { position_data } = dashboardData;\r\n  // new dash: position_json could be {} or null\r\n  const layout =\r\n    position_data && Object.keys(position_data).length > 0\r\n      ? position_data\r\n      : getEmptyLayout();\r\n\r\n  // create a lookup to sync layout names with slice names\r\n  const chartIdToLayoutId = {};\r\n  Object.values(layout).forEach(layoutComponent => {\r\n    if (layoutComponent.type === CHART_TYPE) {\r\n      chartIdToLayoutId[layoutComponent.meta.chartId] = layoutComponent.id;\r\n    }\r\n  });\r\n\r\n  // find root level chart container node for newly-added slices\r\n  const parentId = findFirstParentContainerId(layout);\r\n  const parent = layout[parentId];\r\n  let newSlicesContainer;\r\n  let newSlicesContainerWidth = 0;\r\n\r\n  const filterScopes = metadata?.filter_scopes || {};\r\n\r\n  const chartQueries = {};\r\n  const dashboardFilters = {};\r\n  const slices = {};\r\n  const sliceIds = new Set();\r\n  chartData.forEach(slice => {\r\n    const key = slice.slice_id;\r\n    const form_data = {\r\n      ...slice.form_data,\r\n      url_params: {\r\n        ...slice.form_data.url_params,\r\n        ...regularUrlParams,\r\n      },\r\n    };\r\n    chartQueries[key] = {\r\n      ...chart,\r\n      id: key,\r\n      form_data,\r\n      formData: applyDefaultFormData(form_data),\r\n    };\r\n\r\n    slices[key] = {\r\n      slice_id: key,\r\n      slice_url: slice.slice_url,\r\n      slice_name: slice.slice_name,\r\n      form_data: slice.form_data,\r\n      viz_type: slice.form_data.viz_type,\r\n      datasource: slice.form_data.datasource,\r\n      description: slice.description,\r\n      description_markeddown: slice.description_markeddown,\r\n      owners: slice.owners,\r\n      modified: slice.modified,\r\n      changed_on: new Date(slice.changed_on).getTime(),\r\n    };\r\n\r\n    sliceIds.add(key);\r\n\r\n    // if there are newly added slices from explore view, fill slices into 1 or more rows\r\n    if (!chartIdToLayoutId[key] && layout[parentId]) {\r\n      if (\r\n        newSlicesContainerWidth === 0 ||\r\n        newSlicesContainerWidth + GRID_DEFAULT_CHART_WIDTH > GRID_COLUMN_COUNT\r\n      ) {\r\n        newSlicesContainer = newComponentFactory(\r\n          ROW_TYPE,\r\n          (parent.parents || []).slice(),\r\n        );\r\n        layout[newSlicesContainer.id] = newSlicesContainer;\r\n        parent.children.push(newSlicesContainer.id);\r\n        newSlicesContainerWidth = 0;\r\n      }\r\n\r\n      const chartHolder = newComponentFactory(\r\n        CHART_TYPE,\r\n        {\r\n          chartId: slice.slice_id,\r\n        },\r\n        (newSlicesContainer.parents || []).slice(),\r\n      );\r\n\r\n      layout[chartHolder.id] = chartHolder;\r\n      newSlicesContainer.children.push(chartHolder.id);\r\n      chartIdToLayoutId[chartHolder.meta.chartId] = chartHolder.id;\r\n      newSlicesContainerWidth += GRID_DEFAULT_CHART_WIDTH;\r\n    }\r\n\r\n    // build DashboardFilters for interactive filter features\r\n    if (slice.form_data.viz_type === 'filter_box') {\r\n      const configs = getFilterConfigsFromFormdata(slice.form_data);\r\n      let { columns } = configs;\r\n      const { labels } = configs;\r\n      if (preselectFilters[key]) {\r\n        Object.keys(columns).forEach(col => {\r\n          if (preselectFilters[key][col]) {\r\n            columns = {\r\n              ...columns,\r\n              [col]: preselectFilters[key][col],\r\n            };\r\n          }\r\n        });\r\n      }\r\n\r\n      const scopesByChartId = Object.keys(columns).reduce((map, column) => {\r\n        const scopeSettings = {\r\n          ...filterScopes[key],\r\n        };\r\n        const { scope, immune } = {\r\n          ...DASHBOARD_FILTER_SCOPE_GLOBAL,\r\n          ...scopeSettings[column],\r\n        };\r\n\r\n        return {\r\n          ...map,\r\n          [column]: {\r\n            scope,\r\n            immune,\r\n          },\r\n        };\r\n      }, {});\r\n\r\n      const componentId = chartIdToLayoutId[key];\r\n      const directPathToFilter = (layout[componentId].parents || []).slice();\r\n      directPathToFilter.push(componentId);\r\n      dashboardFilters[key] = {\r\n        ...dashboardFilter,\r\n        chartId: key,\r\n        componentId,\r\n        datasourceId: slice.form_data.datasource,\r\n        filterName: slice.slice_name,\r\n        directPathToFilter,\r\n        columns,\r\n        labels,\r\n        scopes: scopesByChartId,\r\n        isInstantFilter: !!slice.form_data.instant_filtering,\r\n        isDateFilter: Object.keys(columns).includes(TIME_RANGE),\r\n      };\r\n    }\r\n\r\n    // sync layout names with current slice names in case a slice was edited\r\n    // in explore since the layout was updated. name updates go through layout for undo/redo\r\n    // functionality and python updates slice names based on layout upon dashboard save\r\n    const layoutId = chartIdToLayoutId[key];\r\n    if (layoutId && layout[layoutId]) {\r\n      layout[layoutId].meta.sliceName = slice.slice_name;\r\n    }\r\n  });\r\n  buildActiveFilters({\r\n    dashboardFilters,\r\n    components: layout,\r\n  });\r\n\r\n  // store the header as a layout component so we can undo/redo changes\r\n  layout[DASHBOARD_HEADER_ID] = {\r\n    id: DASHBOARD_HEADER_ID,\r\n    type: DASHBOARD_HEADER_TYPE,\r\n    meta: {\r\n      text: dashboardData.dashboard_title,\r\n    },\r\n  };\r\n\r\n  const dashboardLayout = {\r\n    past: [],\r\n    present: layout,\r\n    future: [],\r\n  };\r\n\r\n  // find direct link component and path from root\r\n  const directLinkComponentId = getLocationHash();\r\n  let directPathToChild = [];\r\n  if (layout[directLinkComponentId]) {\r\n    directPathToChild = (layout[directLinkComponentId].parents || []).slice();\r\n    directPathToChild.push(directLinkComponentId);\r\n  }\r\n\r\n  const nativeFilters = getInitialNativeFilterState({\r\n    filterConfig: metadata?.native_filter_configuration || [],\r\n    filterSetsConfig: metadata?.filter_sets_configuration || [],\r\n  });\r\n\r\n  if (!metadata) {\r\n    metadata = {};\r\n  }\r\n\r\n  metadata.show_native_filters =\r\n    dashboardData?.metadata?.show_native_filters ?? true;\r\n\r\n  if (isFeatureEnabled(FeatureFlag.DASHBOARD_CROSS_FILTERS)) {\r\n    // If user just added cross filter to dashboard it's not saving it scope on server,\r\n    // so we tweak it until user will update scope and will save it in server\r\n    Object.values(dashboardLayout.present).forEach(layoutItem => {\r\n      const chartId = layoutItem.meta?.chartId;\r\n      const behaviors =\r\n        (\r\n          getChartMetadataRegistry().get(\r\n            chartQueries[chartId]?.formData?.viz_type,\r\n          ) ?? {}\r\n        )?.behaviors ?? [];\r\n\r\n      if (!metadata.chart_configuration) {\r\n        metadata.chart_configuration = {};\r\n      }\r\n      if (\r\n        behaviors.includes(Behavior.INTERACTIVE_CHART) &&\r\n        !metadata.chart_configuration[chartId]\r\n      ) {\r\n        metadata.chart_configuration[chartId] = {\r\n          id: chartId,\r\n          crossFilters: {\r\n            scope: {\r\n              rootPath: [DASHBOARD_ROOT_ID],\r\n              excluded: [chartId], // By default it doesn't affects itself\r\n            },\r\n          },\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  const { roles } = user;\r\n  const canEdit = canUserEditDashboard(dashboardData, user);\r\n\r\n  return dispatch({\r\n    type: HYDRATE_DASHBOARD,\r\n    data: {\r\n      datasources: keyBy(datasourcesData, 'uid'),\r\n      sliceEntities: { ...initSliceEntities, slices, isLoading: false },\r\n      charts: chartQueries,\r\n      // read-only data\r\n      dashboardInfo: {\r\n        ...dashboardData,\r\n        metadata,\r\n        userId: String(user.userId), // legacy, please use state.user instead\r\n        dash_edit_perm: canEdit,\r\n        dash_save_perm: findPermission('can_save_dash', 'Superset', roles),\r\n        dash_share_perm: findPermission(\r\n          'can_share_dashboard',\r\n          'Superset',\r\n          roles,\r\n        ),\r\n        superset_can_explore: findPermission('can_explore', 'Superset', roles),\r\n        superset_can_share: findPermission(\r\n          'can_share_chart',\r\n          'Superset',\r\n          roles,\r\n        ),\r\n        superset_can_csv: findPermission('can_csv', 'Superset', roles),\r\n        slice_can_edit: findPermission('can_slice', 'Superset', roles),\r\n        common: {\r\n          // legacy, please use state.common instead\r\n          flash_messages: common.flash_messages,\r\n          conf: common.conf,\r\n        },\r\n      },\r\n      dashboardFilters,\r\n      nativeFilters,\r\n      dashboardState: {\r\n        sliceIds: Array.from(sliceIds),\r\n        directPathToChild,\r\n        directPathLastUpdated: Date.now(),\r\n        focusedFilterField: null,\r\n        expandedSlices: metadata?.expanded_slices || {},\r\n        refreshFrequency: metadata?.refresh_frequency || 0,\r\n        // dashboard viewers can set refresh frequency for the current visit,\r\n        // only persistent refreshFrequency will be saved to backend\r\n        shouldPersistRefreshFrequency: false,\r\n        css: dashboardData.css || '',\r\n        colorNamespace: metadata?.color_namespace || null,\r\n        colorScheme: metadata?.color_scheme || null,\r\n        editMode: canEdit && editMode,\r\n        isPublished: dashboardData.published,\r\n        hasUnsavedChanges: false,\r\n        maxUndoHistoryExceeded: false,\r\n        lastModifiedTime: dashboardData.changed_on,\r\n        lastFocusedTabId: null,\r\n      },\r\n      dashboardLayout,\r\n    },\r\n  });\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport { makeApi } from '@superset-ui/core';\r\nimport { Dispatch } from 'redux';\r\nimport { FilterConfiguration } from 'src/dashboard/components/nativeFilters/types';\r\nimport { DataMaskType, DataMaskStateWithId } from 'src/dataMask/types';\r\nimport {\r\n  SET_DATA_MASK_FOR_FILTER_CONFIG_FAIL,\r\n  setDataMaskForFilterConfigComplete,\r\n} from 'src/dataMask/actions';\r\nimport { HYDRATE_DASHBOARD } from './hydrate';\r\nimport { dashboardInfoChanged } from './dashboardInfo';\r\nimport {\r\n  DashboardInfo,\r\n  Filters,\r\n  FilterSet,\r\n  FilterSets,\r\n} from '../reducers/types';\r\n\r\nexport const SET_FILTER_CONFIG_BEGIN = 'SET_FILTER_CONFIG_BEGIN';\r\nexport interface SetFilterConfigBegin {\r\n  type: typeof SET_FILTER_CONFIG_BEGIN;\r\n  filterConfig: FilterConfiguration;\r\n}\r\nexport const SET_FILTER_CONFIG_COMPLETE = 'SET_FILTER_CONFIG_COMPLETE';\r\nexport interface SetFilterConfigComplete {\r\n  type: typeof SET_FILTER_CONFIG_COMPLETE;\r\n  filterConfig: FilterConfiguration;\r\n}\r\nexport const SET_FILTER_CONFIG_FAIL = 'SET_FILTER_CONFIG_FAIL';\r\nexport interface SetFilterConfigFail {\r\n  type: typeof SET_FILTER_CONFIG_FAIL;\r\n  filterConfig: FilterConfiguration;\r\n}\r\nexport const SET_FILTER_SETS_CONFIG_BEGIN = 'SET_FILTER_SETS_CONFIG_BEGIN';\r\nexport interface SetFilterSetsConfigBegin {\r\n  type: typeof SET_FILTER_SETS_CONFIG_BEGIN;\r\n  filterSetsConfig: FilterSet[];\r\n}\r\nexport const SET_FILTER_SETS_CONFIG_COMPLETE =\r\n  'SET_FILTER_SETS_CONFIG_COMPLETE';\r\nexport interface SetFilterSetsConfigComplete {\r\n  type: typeof SET_FILTER_SETS_CONFIG_COMPLETE;\r\n  filterSetsConfig: FilterSet[];\r\n}\r\nexport const SET_FILTER_SETS_CONFIG_FAIL = 'SET_FILTER_SETS_CONFIG_FAIL';\r\nexport interface SetFilterSetsConfigFail {\r\n  type: typeof SET_FILTER_SETS_CONFIG_FAIL;\r\n  filterSetsConfig: FilterSet[];\r\n}\r\n\r\nexport const setFilterConfiguration = (\r\n  filterConfig: FilterConfiguration,\r\n) => async (dispatch: Dispatch, getState: () => any) => {\r\n  dispatch({\r\n    type: SET_FILTER_CONFIG_BEGIN,\r\n    filterConfig,\r\n  });\r\n  const { id, metadata } = getState().dashboardInfo;\r\n  const oldFilters = getState().nativeFilters?.filters;\r\n\r\n  // TODO extract this out when makeApi supports url parameters\r\n  const updateDashboard = makeApi<\r\n    Partial<DashboardInfo>,\r\n    { result: DashboardInfo }\r\n  >({\r\n    method: 'PUT',\r\n    endpoint: `/api/v1/dashboard/${id}`,\r\n  });\r\n\r\n  const mergedFilterConfig = filterConfig.map(filter => {\r\n    const oldFilter = oldFilters[filter.id];\r\n    if (!oldFilter) {\r\n      return filter;\r\n    }\r\n    return { ...oldFilter, ...filter };\r\n  });\r\n\r\n  try {\r\n    const response = await updateDashboard({\r\n      json_metadata: JSON.stringify({\r\n        ...metadata,\r\n        native_filter_configuration: mergedFilterConfig,\r\n      }),\r\n    });\r\n    dispatch(\r\n      dashboardInfoChanged({\r\n        metadata: JSON.parse(response.result.json_metadata),\r\n      }),\r\n    );\r\n    dispatch({\r\n      type: SET_FILTER_CONFIG_COMPLETE,\r\n      filterConfig: mergedFilterConfig,\r\n    });\r\n    dispatch(\r\n      setDataMaskForFilterConfigComplete(mergedFilterConfig, oldFilters),\r\n    );\r\n  } catch (err) {\r\n    dispatch({\r\n      type: SET_FILTER_CONFIG_FAIL,\r\n      filterConfig: mergedFilterConfig,\r\n    });\r\n    dispatch({\r\n      type: SET_DATA_MASK_FOR_FILTER_CONFIG_FAIL,\r\n      filterConfig: mergedFilterConfig,\r\n    });\r\n  }\r\n};\r\n\r\ntype BootstrapData = {\r\n  nativeFilters: {\r\n    filters: Filters;\r\n    filterSets: FilterSets;\r\n    filtersState: object;\r\n  };\r\n};\r\n\r\nexport interface SetBootstrapData {\r\n  type: typeof HYDRATE_DASHBOARD;\r\n  data: BootstrapData;\r\n}\r\n\r\nexport const setFilterSetsConfiguration = (\r\n  filterSetsConfig: FilterSet[],\r\n) => async (dispatch: Dispatch, getState: () => any) => {\r\n  dispatch({\r\n    type: SET_FILTER_SETS_CONFIG_BEGIN,\r\n    filterSetsConfig,\r\n  });\r\n  const { id, metadata } = getState().dashboardInfo;\r\n\r\n  // TODO extract this out when makeApi supports url parameters\r\n  const updateDashboard = makeApi<\r\n    Partial<DashboardInfo>,\r\n    { result: DashboardInfo }\r\n  >({\r\n    method: 'PUT',\r\n    endpoint: `/api/v1/dashboard/${id}`,\r\n  });\r\n\r\n  try {\r\n    const response = await updateDashboard({\r\n      json_metadata: JSON.stringify({\r\n        ...metadata,\r\n        filter_sets_configuration: filterSetsConfig,\r\n      }),\r\n    });\r\n    const newMetadata = JSON.parse(response.result.json_metadata);\r\n    dispatch(\r\n      dashboardInfoChanged({\r\n        metadata: newMetadata,\r\n      }),\r\n    );\r\n    dispatch({\r\n      type: SET_FILTER_SETS_CONFIG_COMPLETE,\r\n      filterSetsConfig: newMetadata?.filter_sets_configuration,\r\n    });\r\n  } catch (err) {\r\n    dispatch({ type: SET_FILTER_SETS_CONFIG_FAIL, filterSetsConfig });\r\n  }\r\n};\r\n\r\nexport const SAVE_FILTER_SETS = 'SAVE_FILTER_SETS';\r\nexport interface SaveFilterSets {\r\n  type: typeof SAVE_FILTER_SETS;\r\n  name: string;\r\n  dataMask: Pick<DataMaskStateWithId, DataMaskType.NativeFilters>;\r\n  filtersSetId: string;\r\n}\r\n\r\nexport function saveFilterSets(\r\n  name: string,\r\n  filtersSetId: string,\r\n  dataMask: Pick<DataMaskStateWithId, DataMaskType.NativeFilters>,\r\n): SaveFilterSets {\r\n  return {\r\n    type: SAVE_FILTER_SETS,\r\n    name,\r\n    filtersSetId,\r\n    dataMask,\r\n  };\r\n}\r\n\r\nexport const SET_FOCUSED_NATIVE_FILTER = 'SET_FOCUSED_NATIVE_FILTER';\r\nexport interface SetFocusedNativeFilter {\r\n  type: typeof SET_FOCUSED_NATIVE_FILTER;\r\n  id: string;\r\n}\r\nexport const UNSET_FOCUSED_NATIVE_FILTER = 'UNSET_FOCUSED_NATIVE_FILTER';\r\nexport interface UnsetFocusedNativeFilter {\r\n  type: typeof UNSET_FOCUSED_NATIVE_FILTER;\r\n}\r\n\r\nexport function setFocusedNativeFilter(id: string): SetFocusedNativeFilter {\r\n  return {\r\n    type: SET_FOCUSED_NATIVE_FILTER,\r\n    id,\r\n  };\r\n}\r\nexport function unsetFocusedNativeFilter(): UnsetFocusedNativeFilter {\r\n  return {\r\n    type: UNSET_FOCUSED_NATIVE_FILTER,\r\n  };\r\n}\r\n\r\nexport type AnyFilterAction =\r\n  | SetFilterConfigBegin\r\n  | SetFilterConfigComplete\r\n  | SetFilterConfigFail\r\n  | SetFilterSetsConfigBegin\r\n  | SetFilterSetsConfigComplete\r\n  | SetFilterSetsConfigFail\r\n  | SaveFilterSets\r\n  | SetBootstrapData\r\n  | SetFocusedNativeFilter\r\n  | UnsetFocusedNativeFilter;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint camelcase: 0 */\r\nimport { t, SupersetClient } from '@superset-ui/core';\r\nimport rison from 'rison';\r\n\r\nimport { addDangerToast } from 'src/messageToasts/actions';\r\nimport { getDatasourceParameter } from 'src/modules/utils';\r\nimport { getClientErrorObject } from 'src/utils/getClientErrorObject';\r\n\r\nexport const SET_ALL_SLICES = 'SET_ALL_SLICES';\r\nexport function setAllSlices(slices) {\r\n  return { type: SET_ALL_SLICES, payload: { slices } };\r\n}\r\n\r\nexport const FETCH_ALL_SLICES_STARTED = 'FETCH_ALL_SLICES_STARTED';\r\nexport function fetchAllSlicesStarted() {\r\n  return { type: FETCH_ALL_SLICES_STARTED };\r\n}\r\n\r\nexport const FETCH_ALL_SLICES_FAILED = 'FETCH_ALL_SLICES_FAILED';\r\nexport function fetchAllSlicesFailed(error) {\r\n  return { type: FETCH_ALL_SLICES_FAILED, payload: { error } };\r\n}\r\n\r\nconst FETCH_SLICES_PAGE_SIZE = 200;\r\nexport function fetchAllSlices(userId) {\r\n  return (dispatch, getState) => {\r\n    const { sliceEntities } = getState();\r\n    if (sliceEntities.lastUpdated === 0) {\r\n      dispatch(fetchAllSlicesStarted());\r\n\r\n      return SupersetClient.get({\r\n        endpoint: `/api/v1/chart/?q=${rison.encode({\r\n          columns: [\r\n            'changed_on_delta_humanized',\r\n            'changed_on_utc',\r\n            'datasource_id',\r\n            'datasource_type',\r\n            'datasource_url',\r\n            'datasource_name_text',\r\n            'description_markeddown',\r\n            'description',\r\n            'id',\r\n            'params',\r\n            'slice_name',\r\n            'url',\r\n            'viz_type',\r\n          ],\r\n          filters: [{ col: 'owners', opr: 'rel_m_m', value: userId }],\r\n          page_size: FETCH_SLICES_PAGE_SIZE,\r\n          order_column: 'changed_on_delta_humanized',\r\n          order_direction: 'desc',\r\n        })}`,\r\n      })\r\n        .then(({ json }) => {\r\n          const slices = {};\r\n          json.result.forEach(slice => {\r\n            let form_data = JSON.parse(slice.params);\r\n            form_data = {\r\n              ...form_data,\r\n              // force using datasource stored in relational table prop\r\n              datasource:\r\n                getDatasourceParameter(\r\n                  slice.datasource_id,\r\n                  slice.datasource_type,\r\n                ) || form_data.datasource,\r\n            };\r\n            slices[slice.id] = {\r\n              slice_id: slice.id,\r\n              slice_url: slice.url,\r\n              slice_name: slice.slice_name,\r\n              form_data,\r\n              datasource_name: slice.datasource_name_text,\r\n              datasource_url: slice.datasource_url,\r\n              datasource_id: slice.datasource_id,\r\n              datasource_type: slice.datasource_type,\r\n              changed_on: new Date(slice.changed_on_utc).getTime(),\r\n              description: slice.description,\r\n              description_markdown: slice.description_markeddown,\r\n              viz_type: slice.viz_type,\r\n              modified: slice.changed_on_delta_humanized,\r\n              changed_on_humanized: slice.changed_on_delta_humanized,\r\n            };\r\n          });\r\n\r\n          return dispatch(setAllSlices(slices));\r\n        })\r\n        .catch(\r\n          errorResponse =>\r\n            console.log(errorResponse) ||\r\n            getClientErrorObject(errorResponse).then(({ error }) => {\r\n              dispatch(\r\n                fetchAllSlicesFailed(\r\n                  error || t('Could not fetch all saved charts'),\r\n                ),\r\n              );\r\n              dispatch(\r\n                addDangerToast(\r\n                  t('Sorry there was an error fetching saved charts: ') + error,\r\n                ),\r\n              );\r\n            }),\r\n        );\r\n    }\r\n\r\n    return dispatch(setAllSlices(sliceEntities.slices));\r\n  };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { FormInstance } from 'antd/lib/form';\r\nimport shortid from 'shortid';\r\nimport { getInitialDataMask } from 'src/dataMask/reducer';\r\nimport { FilterRemoval, NativeFiltersForm } from './types';\r\nimport { Filter, FilterConfiguration, Target } from '../types';\r\n\r\nexport const REMOVAL_DELAY_SECS = 5;\r\n\r\nexport const validateForm = async (\r\n  form: FormInstance<NativeFiltersForm>,\r\n  currentFilterId: string,\r\n  filterConfigMap: Record<string, Filter>,\r\n  filterIds: string[],\r\n  removedFilters: Record<string, FilterRemoval>,\r\n  setCurrentFilterId: Function,\r\n) => {\r\n  const addValidationError = (\r\n    filterId: string,\r\n    field: string,\r\n    error: string,\r\n  ) => {\r\n    const fieldError = {\r\n      name: ['filters', filterId, field],\r\n      errors: [error],\r\n    };\r\n    form.setFields([fieldError]);\r\n  };\r\n\r\n  try {\r\n    let formValues: NativeFiltersForm;\r\n    try {\r\n      formValues = (await form.validateFields()) as NativeFiltersForm;\r\n    } catch (error) {\r\n      // In Jest tests in chain of tests, Ant generate `outOfDate` error so need to catch it here\r\n      if (!error?.errorFields?.length && error?.outOfDate) {\r\n        formValues = error.values;\r\n      } else {\r\n        throw error;\r\n      }\r\n    }\r\n    const validateInstant = (filterId: string) => {\r\n      const isInstant = formValues.filters[filterId]\r\n        ? formValues.filters[filterId].isInstant\r\n        : filterConfigMap[filterId]?.isInstant;\r\n      if (!isInstant) {\r\n        addValidationError(\r\n          filterId,\r\n          'isInstant',\r\n          'For hierarchical filters changes must be applied instantly',\r\n        );\r\n      }\r\n    };\r\n\r\n    const validateCycles = (filterId: string, trace: string[] = []) => {\r\n      if (trace.includes(filterId)) {\r\n        addValidationError(\r\n          filterId,\r\n          'parentFilter',\r\n          'Cannot create cyclic hierarchy',\r\n        );\r\n      }\r\n      const parentId = formValues.filters[filterId]\r\n        ? formValues.filters[filterId].parentFilter?.value\r\n        : filterConfigMap[filterId]?.cascadeParentIds?.[0];\r\n      if (parentId) {\r\n        validateInstant(parentId);\r\n        validateCycles(parentId, [...trace, filterId]);\r\n      }\r\n    };\r\n\r\n    filterIds\r\n      .filter(id => !removedFilters[id])\r\n      .forEach(filterId => validateCycles(filterId));\r\n\r\n    return formValues;\r\n  } catch (error) {\r\n    console.warn('Filter configuration failed:', error);\r\n\r\n    if (!error.errorFields || !error.errorFields.length) return null; // not a validation error\r\n\r\n    // the name is in array format since the fields are nested\r\n    type ErrorFields = { name: ['filters', string, string] }[];\r\n    const errorFields = error.errorFields as ErrorFields;\r\n    // filter id is the second item in the field name\r\n    if (!errorFields.some(field => field.name[1] === currentFilterId)) {\r\n      // switch to the first tab that had a validation error\r\n      const filterError = errorFields.find(\r\n        field => field.name[0] === 'filters',\r\n      );\r\n      if (filterError) {\r\n        setCurrentFilterId(filterError.name[1]);\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const createHandleSave = (\r\n  filterConfigMap: Record<string, Filter>,\r\n  filterIds: string[],\r\n  removedFilters: Record<string, FilterRemoval>,\r\n  resetForm: Function,\r\n  saveForm: Function,\r\n  values: NativeFiltersForm,\r\n) => async () => {\r\n  const newFilterConfig: FilterConfiguration = filterIds\r\n    .filter(id => !removedFilters[id])\r\n    .map(id => {\r\n      // create a filter config object from the form inputs\r\n      const formInputs = values.filters[id];\r\n      // if user didn't open a filter, return the original config\r\n      if (!formInputs) return filterConfigMap[id];\r\n      const target: Partial<Target> = {};\r\n      if (formInputs.dataset) {\r\n        target.datasetId = formInputs.dataset.value;\r\n      }\r\n      if (formInputs.dataset && formInputs.column) {\r\n        target.column = { name: formInputs.column };\r\n      }\r\n      return {\r\n        id,\r\n        adhoc_filters: formInputs.adhoc_filters,\r\n        time_range: formInputs.time_range,\r\n        controlValues: formInputs.controlValues ?? {},\r\n        requiredFirst: Object.values(formInputs.requiredFirst ?? {}).find(\r\n          rf => rf,\r\n        ),\r\n        name: formInputs.name,\r\n        filterType: formInputs.filterType,\r\n        // for now there will only ever be one target\r\n        targets: [target],\r\n        defaultDataMask: formInputs.defaultDataMask ?? getInitialDataMask(),\r\n        cascadeParentIds: formInputs.parentFilter\r\n          ? [formInputs.parentFilter.value]\r\n          : [],\r\n        scope: formInputs.scope,\r\n        isInstant: formInputs.isInstant,\r\n        sortMetric: formInputs.sortMetric,\r\n      };\r\n    });\r\n\r\n  await saveForm(newFilterConfig);\r\n  resetForm();\r\n};\r\n\r\nexport const createHandleTabEdit = (\r\n  setRemovedFilters: (\r\n    value:\r\n      | ((\r\n          prevState: Record<string, FilterRemoval>,\r\n        ) => Record<string, FilterRemoval>)\r\n      | Record<string, FilterRemoval>,\r\n  ) => void,\r\n  setSaveAlertVisible: Function,\r\n  addFilter: Function,\r\n) => (filterId: string, action: 'add' | 'remove') => {\r\n  const completeFilterRemoval = (filterId: string) => {\r\n    // the filter state will actually stick around in the form,\r\n    // and the filterConfig/newFilterIds, but we use removedFilters\r\n    // to mark it as removed.\r\n    setRemovedFilters(removedFilters => ({\r\n      ...removedFilters,\r\n      [filterId]: { isPending: false },\r\n    }));\r\n  };\r\n\r\n  if (action === 'remove') {\r\n    // first set up the timer to completely remove it\r\n    const timerId = window.setTimeout(\r\n      () => completeFilterRemoval(filterId),\r\n      REMOVAL_DELAY_SECS * 1000,\r\n    );\r\n    // mark the filter state as \"removal in progress\"\r\n    setRemovedFilters(removedFilters => ({\r\n      ...removedFilters,\r\n      [filterId]: { isPending: true, timerId },\r\n    }));\r\n    setSaveAlertVisible(false);\r\n  } else if (action === 'add') {\r\n    addFilter();\r\n  }\r\n};\r\n\r\nexport const NATIVE_FILTER_PREFIX = 'NATIVE_FILTER-';\r\nexport const generateFilterId = () =>\r\n  `${NATIVE_FILTER_PREFIX}${shortid.generate()}`;\r\n\r\nexport const getFilterIds = (config: FilterConfiguration) =>\r\n  config.map(filter => filter.id);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-disable camelcase */\r\nimport {\r\n  ADD_FILTER,\r\n  REMOVE_FILTER,\r\n  CHANGE_FILTER,\r\n  UPDATE_DIRECT_PATH_TO_FILTER,\r\n  UPDATE_LAYOUT_COMPONENTS,\r\n  UPDATE_DASHBOARD_FILTERS_SCOPE,\r\n} from '../actions/dashboardFilters';\r\nimport { HYDRATE_DASHBOARD } from '../actions/hydrate';\r\nimport { TIME_RANGE } from '../../visualizations/FilterBox/FilterBox';\r\nimport { DASHBOARD_ROOT_ID } from '../util/constants';\r\nimport getFilterConfigsFromFormdata from '../util/getFilterConfigsFromFormdata';\r\nimport { buildActiveFilters } from '../util/activeDashboardFilters';\r\nimport { getChartIdAndColumnFromFilterKey } from '../util/getDashboardFilterKey';\r\n\r\nexport const DASHBOARD_FILTER_SCOPE_GLOBAL = {\r\n  scope: [DASHBOARD_ROOT_ID],\r\n  immune: [],\r\n};\r\n\r\nexport const dashboardFilter = {\r\n  chartId: null,\r\n  componentId: null,\r\n  filterName: null,\r\n  datasourceId: null,\r\n  directPathToFilter: [],\r\n  isDateFilter: false,\r\n  isInstantFilter: true,\r\n  columns: {},\r\n  labels: {},\r\n  scopes: {},\r\n};\r\n\r\nconst CHANGE_FILTER_VALUE_ACTIONS = [ADD_FILTER, REMOVE_FILTER, CHANGE_FILTER];\r\n\r\nexport default function dashboardFiltersReducer(dashboardFilters = {}, action) {\r\n  const actionHandlers = {\r\n    [ADD_FILTER]() {\r\n      const { chartId, component, form_data } = action;\r\n      const { columns, labels } = getFilterConfigsFromFormdata(form_data);\r\n      const scopes = Object.keys(columns).reduce(\r\n        (map, column) => ({\r\n          ...map,\r\n          [column]: DASHBOARD_FILTER_SCOPE_GLOBAL,\r\n        }),\r\n        {},\r\n      );\r\n      const directPathToFilter = component\r\n        ? (component.parents || []).slice().concat(component.id)\r\n        : [];\r\n\r\n      const newFilter = {\r\n        ...dashboardFilter,\r\n        chartId,\r\n        componentId: component.id,\r\n        datasourceId: form_data.datasource,\r\n        filterName: component.meta.sliceName,\r\n        directPathToFilter,\r\n        columns,\r\n        labels,\r\n        scopes,\r\n        isInstantFilter: !!form_data.instant_filtering,\r\n        isDateFilter: Object.keys(columns).includes(TIME_RANGE),\r\n      };\r\n\r\n      return newFilter;\r\n    },\r\n\r\n    [CHANGE_FILTER](state) {\r\n      const { newSelectedValues, merge } = action;\r\n      const updatedColumns = Object.keys(newSelectedValues).reduce(\r\n        (columns, name) => {\r\n          // override existed column value, or add new column name\r\n          if (!merge || !(name in columns)) {\r\n            return {\r\n              ...columns,\r\n              [name]: newSelectedValues[name],\r\n            };\r\n          }\r\n\r\n          return {\r\n            ...columns,\r\n            [name]: [...columns[name], ...newSelectedValues[name]],\r\n          };\r\n        },\r\n        { ...state.columns },\r\n      );\r\n\r\n      return {\r\n        ...state,\r\n        columns: updatedColumns,\r\n      };\r\n    },\r\n\r\n    [UPDATE_DIRECT_PATH_TO_FILTER](state) {\r\n      const { path } = action;\r\n      return {\r\n        ...state,\r\n        directPathToFilter: path,\r\n      };\r\n    },\r\n  };\r\n\r\n  if (action.type === UPDATE_LAYOUT_COMPONENTS) {\r\n    buildActiveFilters({\r\n      dashboardFilters,\r\n      components: action.components,\r\n    });\r\n    return dashboardFilters;\r\n  }\r\n  if (action.type === UPDATE_DASHBOARD_FILTERS_SCOPE) {\r\n    const allDashboardFiltersScope = action.scopes;\r\n    // update filter scope for each filter field\r\n    const updatedFilters = Object.entries(allDashboardFiltersScope).reduce(\r\n      (map, entry) => {\r\n        const [filterKey, { scope, immune }] = entry;\r\n        const { chartId, column } = getChartIdAndColumnFromFilterKey(filterKey);\r\n        const scopes = {\r\n          ...map[chartId].scopes,\r\n          [column]: {\r\n            scope,\r\n            immune,\r\n          },\r\n        };\r\n        return {\r\n          ...map,\r\n          [chartId]: {\r\n            ...map[chartId],\r\n            scopes,\r\n          },\r\n        };\r\n      },\r\n      dashboardFilters,\r\n    );\r\n\r\n    buildActiveFilters({ dashboardFilters: updatedFilters });\r\n    return updatedFilters;\r\n  }\r\n  if (action.type === REMOVE_FILTER) {\r\n    const { chartId } = action;\r\n    const { [chartId]: deletedFilter, ...updatedFilters } = dashboardFilters;\r\n    buildActiveFilters({ dashboardFilters: updatedFilters });\r\n\r\n    return updatedFilters;\r\n  }\r\n  if (action.type === HYDRATE_DASHBOARD) {\r\n    return action.data.dashboardFilters;\r\n  }\r\n\r\n  if (action.type in actionHandlers) {\r\n    const updatedFilters = {\r\n      ...dashboardFilters,\r\n      [action.chartId]: actionHandlers[action.type](\r\n        dashboardFilters[action.chartId],\r\n      ),\r\n    };\r\n    if (CHANGE_FILTER_VALUE_ACTIONS.includes(action.type)) {\r\n      buildActiveFilters({ dashboardFilters: updatedFilters });\r\n    }\r\n\r\n    return updatedFilters;\r\n  }\r\n\r\n  return dashboardFilters;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport {\r\n  AnyFilterAction,\r\n  SAVE_FILTER_SETS,\r\n  SET_FILTER_CONFIG_COMPLETE,\r\n  SET_FILTER_SETS_CONFIG_COMPLETE,\r\n  SET_FOCUSED_NATIVE_FILTER,\r\n  UNSET_FOCUSED_NATIVE_FILTER,\r\n} from 'src/dashboard/actions/nativeFilters';\r\nimport { FilterSet, NativeFiltersState } from './types';\r\nimport { FilterConfiguration } from '../components/nativeFilters/types';\r\nimport { HYDRATE_DASHBOARD } from '../actions/hydrate';\r\n\r\nexport function getInitialState({\r\n  filterSetsConfig,\r\n  filterConfig,\r\n  state: prevState,\r\n}: {\r\n  filterSetsConfig?: FilterSet[];\r\n  filterConfig?: FilterConfiguration;\r\n  state?: NativeFiltersState;\r\n}): NativeFiltersState {\r\n  const state: Partial<NativeFiltersState> = {};\r\n\r\n  const filters = {};\r\n  if (filterConfig) {\r\n    filterConfig.forEach(filter => {\r\n      const { id } = filter;\r\n      filters[id] = filter;\r\n    });\r\n    state.filters = filters;\r\n  } else {\r\n    state.filters = prevState?.filters ?? {};\r\n  }\r\n\r\n  if (filterSetsConfig) {\r\n    const filterSets = {};\r\n    filterSetsConfig.forEach(filtersSet => {\r\n      const { id } = filtersSet;\r\n      filterSets[id] = filtersSet;\r\n    });\r\n    state.filterSets = filterSets;\r\n  } else {\r\n    state.filterSets = prevState?.filterSets ?? {};\r\n  }\r\n  state.focusedFilterId = undefined;\r\n  return state as NativeFiltersState;\r\n}\r\n\r\nexport default function nativeFilterReducer(\r\n  state: NativeFiltersState = {\r\n    filters: {},\r\n    filterSets: {},\r\n  },\r\n  action: AnyFilterAction,\r\n) {\r\n  const { filterSets } = state;\r\n  switch (action.type) {\r\n    case HYDRATE_DASHBOARD:\r\n      return {\r\n        filters: action.data.nativeFilters.filters,\r\n        filterSets: action.data.nativeFilters.filterSets,\r\n      };\r\n    case SAVE_FILTER_SETS:\r\n      return {\r\n        ...state,\r\n        filterSets: {\r\n          ...filterSets,\r\n          [action.filtersSetId]: {\r\n            id: action.filtersSetId,\r\n            name: action.name,\r\n            dataMask: action.dataMask,\r\n          },\r\n        },\r\n      };\r\n\r\n    case SET_FILTER_CONFIG_COMPLETE:\r\n      return getInitialState({ filterConfig: action.filterConfig, state });\r\n\r\n    case SET_FILTER_SETS_CONFIG_COMPLETE:\r\n      return getInitialState({\r\n        filterSetsConfig: action.filterSetsConfig,\r\n        state,\r\n      });\r\n\r\n    case SET_FOCUSED_NATIVE_FILTER:\r\n      return {\r\n        ...state,\r\n        focusedFilterId: action.id,\r\n      };\r\n\r\n    case UNSET_FOCUSED_NATIVE_FILTER:\r\n      return {\r\n        ...state,\r\n        focusedFilterId: undefined,\r\n      };\r\n    // TODO handle SET_FILTER_CONFIG_FAIL action\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport {\r\n  FETCH_ALL_SLICES_FAILED,\r\n  FETCH_ALL_SLICES_STARTED,\r\n  SET_ALL_SLICES,\r\n} from '../actions/sliceEntities';\r\nimport { HYDRATE_DASHBOARD } from '../actions/hydrate';\r\n\r\nexport const initSliceEntities = {\r\n  slices: {},\r\n  isLoading: true,\r\n  errorMessage: null,\r\n  lastUpdated: 0,\r\n};\r\n\r\nexport default function sliceEntitiesReducer(\r\n  state = initSliceEntities,\r\n  action,\r\n) {\r\n  const actionHandlers = {\r\n    [HYDRATE_DASHBOARD]() {\r\n      return {\r\n        ...action.data.sliceEntities,\r\n      };\r\n    },\r\n    [FETCH_ALL_SLICES_STARTED]() {\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n      };\r\n    },\r\n    [SET_ALL_SLICES]() {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        slices: { ...state.slices, ...action.payload.slices },\r\n        lastUpdated: new Date().getTime(),\r\n      };\r\n    },\r\n    [FETCH_ALL_SLICES_FAILED]() {\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        lastUpdated: new Date().getTime(),\r\n        errorMessage:\r\n          action.payload.error || t('Could not fetch all saved charts'),\r\n      };\r\n    },\r\n  };\r\n\r\n  if (action.type in actionHandlers) {\r\n    return actionHandlers[action.type]();\r\n  }\r\n  return state;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { isEmpty } from 'lodash';\r\nimport { mapValues, flow, keyBy } from 'lodash/fp';\r\n\r\nimport {\r\n  getChartIdAndColumnFromFilterKey,\r\n  getDashboardFilterKey,\r\n} from './getDashboardFilterKey';\r\nimport { CHART_TYPE } from './componentTypes';\r\nimport { DASHBOARD_FILTER_SCOPE_GLOBAL } from '../reducers/dashboardFilters';\r\n\r\nlet allFilterBoxChartIds = [];\r\nlet activeFilters = {};\r\nlet appliedFilterValuesByChart = {};\r\nlet allComponents = {};\r\n\r\n// output: { [id_column]: { values, scope } }\r\nexport function getActiveFilters() {\r\n  return activeFilters;\r\n}\r\n\r\n// currently filter_box is a chart,\r\n// when selecting filter scopes, they have to be out pulled out in a few places.\r\n// after we make filter_box a dashboard build-in component, will not need this check anymore.\r\nexport function isFilterBox(chartId) {\r\n  return allFilterBoxChartIds.includes(chartId);\r\n}\r\n\r\n// this function is to find all filter values applied to a chart,\r\n// it goes through all active filters and their scopes.\r\n// return: { [column]: array of selected values }\r\nexport function getAppliedFilterValues(chartId) {\r\n  // use cached data if possible\r\n  if (!(chartId in appliedFilterValuesByChart)) {\r\n    const applicableFilters = Object.entries(\r\n      activeFilters,\r\n    ).filter(([, { scope: chartIds }]) => chartIds.includes(chartId));\r\n    appliedFilterValuesByChart[chartId] = flow(\r\n      keyBy(\r\n        ([filterKey]) => getChartIdAndColumnFromFilterKey(filterKey).column,\r\n      ),\r\n      mapValues(([, { values }]) => values),\r\n    )(applicableFilters);\r\n  }\r\n  return appliedFilterValuesByChart[chartId];\r\n}\r\n\r\nexport function getChartIdsInFilterScope({\r\n  filterScope = DASHBOARD_FILTER_SCOPE_GLOBAL,\r\n}) {\r\n  function traverse(chartIds = [], component = {}, immuneChartIds = []) {\r\n    if (!component) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      component.type === CHART_TYPE &&\r\n      component.meta &&\r\n      component.meta.chartId &&\r\n      !immuneChartIds.includes(component.meta.chartId)\r\n    ) {\r\n      chartIds.push(component.meta.chartId);\r\n    } else if (component.children) {\r\n      component.children.forEach(child =>\r\n        traverse(chartIds, allComponents[child], immuneChartIds),\r\n      );\r\n    }\r\n  }\r\n\r\n  const chartIds = [];\r\n  const { scope: scopeComponentIds, immune: immuneChartIds } = filterScope;\r\n  scopeComponentIds.forEach(componentId =>\r\n    traverse(chartIds, allComponents[componentId], immuneChartIds),\r\n  );\r\n\r\n  return chartIds;\r\n}\r\n\r\n// non-empty filter fields in dashboardFilters,\r\n// activeFilters map contains selected values and filter scope.\r\n// values: array of selected values\r\n// scope: array of chartIds that applicable to the filter field.\r\nexport function buildActiveFilters({ dashboardFilters = {}, components = {} }) {\r\n  allFilterBoxChartIds = Object.values(dashboardFilters).map(\r\n    filter => filter.chartId,\r\n  );\r\n\r\n  // clear cache\r\n  if (!isEmpty(components)) {\r\n    allComponents = components;\r\n  }\r\n  appliedFilterValuesByChart = {};\r\n  activeFilters = Object.values(dashboardFilters).reduce((result, filter) => {\r\n    const { chartId, columns, scopes } = filter;\r\n    const nonEmptyFilters = {};\r\n\r\n    Object.keys(columns).forEach(column => {\r\n      if (\r\n        Array.isArray(columns[column])\r\n          ? columns[column].length\r\n          : columns[column] !== undefined\r\n      ) {\r\n        // remove filter itself\r\n        const scope = getChartIdsInFilterScope({\r\n          filterScope: scopes[column],\r\n        }).filter(id => chartId !== id);\r\n\r\n        nonEmptyFilters[getDashboardFilterKey({ chartId, column })] = {\r\n          values: columns[column],\r\n          scope,\r\n        };\r\n      }\r\n    });\r\n\r\n    return {\r\n      ...result,\r\n      ...nonEmptyFilters,\r\n    };\r\n  }, {});\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t } from '@superset-ui/core';\r\nimport { BACKGROUND_TRANSPARENT, BACKGROUND_WHITE } from './constants';\r\n\r\nexport default [\r\n  {\r\n    value: BACKGROUND_TRANSPARENT,\r\n    label: t('Transparent'),\r\n    className: 'background--transparent',\r\n  },\r\n  {\r\n    value: BACKGROUND_WHITE,\r\n    label: t('White'),\r\n    className: 'background--white',\r\n  },\r\n];\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { TABS_TYPE } from './componentTypes';\r\nimport { DASHBOARD_ROOT_ID } from './constants';\r\n\r\nexport default function findFirstParentContainerId(layout = {}) {\r\n  // DASHBOARD_GRID_TYPE or TABS_TYPE?\r\n  let parent = layout[DASHBOARD_ROOT_ID];\r\n  if (\r\n    parent &&\r\n    parent.children.length &&\r\n    layout[parent.children[0]].type === TABS_TYPE\r\n  ) {\r\n    const tabs = layout[parent.children[0]];\r\n    parent = layout[tabs.children[0]];\r\n  } else {\r\n    parent = layout[parent.children[0]];\r\n  }\r\n\r\n  return parent.id;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport memoizeOne from 'memoize-one';\r\nimport { UserWithPermissionsAndRoles } from 'src/types/bootstrapTypes';\r\nimport Dashboard from 'src/types/Dashboard';\r\n\r\ntype UserRoles = Record<string, [string, string][]>;\r\n\r\nconst findPermission = memoizeOne(\r\n  (perm: string, view: string, roles?: UserRoles | null) =>\r\n    !!roles &&\r\n    Object.values(roles).some(permissions =>\r\n      permissions.some(([perm_, view_]) => perm_ === perm && view_ === view),\r\n    ),\r\n);\r\n\r\nexport default findPermission;\r\n\r\n// this should really be a config value,\r\n// but is hardcoded in backend logic already, so...\r\nconst ADMIN_ROLE_NAME = 'admin';\r\n\r\nconst isUserAdmin = (user: UserWithPermissionsAndRoles) =>\r\n  Object.keys(user.roles).some(role => role.toLowerCase() === ADMIN_ROLE_NAME);\r\n\r\nconst isUserDashboardOwner = (\r\n  dashboard: Dashboard,\r\n  user: UserWithPermissionsAndRoles,\r\n) => dashboard.owners.some(owner => owner.username === user.username);\r\n\r\nexport const canUserEditDashboard = (\r\n  dashboard: Dashboard,\r\n  user?: UserWithPermissionsAndRoles | null,\r\n) =>\r\n  !!user?.roles &&\r\n  (isUserAdmin(user) || isUserDashboardOwner(dashboard, user)) &&\r\n  findPermission('can_write', 'Dashboard', user.roles);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\ninterface GetDashboardFilterKeyProps {\r\n  chartId: string;\r\n  column: string;\r\n}\r\n\r\nexport function getDashboardFilterKey({\r\n  chartId,\r\n  column,\r\n}: GetDashboardFilterKeyProps) {\r\n  return `${chartId}_${column}`;\r\n}\r\n\r\nconst filterKeySplitter = /^([0-9]+)_(.*)$/;\r\n\r\nexport function getChartIdAndColumnFromFilterKey(key: string) {\r\n  const match = filterKeySplitter.exec(key);\r\n  if (!match) throw new Error('Cannot parse invalid filter key');\r\n  return { chartId: parseInt(match[1], 10), column: match[2] };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { DASHBOARD_ROOT_TYPE, DASHBOARD_GRID_TYPE } from './componentTypes';\r\n\r\nimport {\r\n  DASHBOARD_GRID_ID,\r\n  DASHBOARD_ROOT_ID,\r\n  DASHBOARD_VERSION_KEY,\r\n} from './constants';\r\n\r\nexport default function getEmptyLayout() {\r\n  return {\r\n    [DASHBOARD_VERSION_KEY]: 'v2',\r\n    [DASHBOARD_ROOT_ID]: {\r\n      type: DASHBOARD_ROOT_TYPE,\r\n      id: DASHBOARD_ROOT_ID,\r\n      children: [DASHBOARD_GRID_ID],\r\n    },\r\n    [DASHBOARD_GRID_ID]: {\r\n      type: DASHBOARD_GRID_TYPE,\r\n      id: DASHBOARD_GRID_ID,\r\n      children: [],\r\n      parents: [DASHBOARD_ROOT_ID],\r\n    },\r\n  };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-disable camelcase */\r\nimport {\r\n  FILTER_CONFIG_ATTRIBUTES,\r\n  TIME_FILTER_LABELS,\r\n  TIME_FILTER_MAP,\r\n} from 'src/explore/constants';\r\n\r\nexport default function getFilterConfigsFromFormdata(form_data = {}) {\r\n  const {\r\n    date_filter,\r\n    filter_configs = [],\r\n    show_druid_time_granularity,\r\n    show_druid_time_origin,\r\n    show_sqla_time_column,\r\n    show_sqla_time_granularity,\r\n  } = form_data;\r\n  let configs = filter_configs.reduce(\r\n    ({ columns, labels }, config) => {\r\n      let defaultValues = config[FILTER_CONFIG_ATTRIBUTES.DEFAULT_VALUE];\r\n\r\n      // treat empty string as null (no default value)\r\n      if (defaultValues === '') {\r\n        defaultValues = null;\r\n      }\r\n\r\n      // defaultValue could be ; separated values,\r\n      // could be null or ''\r\n      if (defaultValues && config[FILTER_CONFIG_ATTRIBUTES.MULTIPLE]) {\r\n        defaultValues = config.defaultValue.split(';');\r\n      }\r\n\r\n      const updatedColumns = {\r\n        ...columns,\r\n        [config.column]: config.vals || defaultValues,\r\n      };\r\n      const updatedLabels = {\r\n        ...labels,\r\n        [config.column]: config.label,\r\n      };\r\n\r\n      return {\r\n        columns: updatedColumns,\r\n        labels: updatedLabels,\r\n      };\r\n    },\r\n    { columns: {}, labels: {} },\r\n  );\r\n\r\n  if (date_filter) {\r\n    let updatedColumns = {\r\n      ...configs.columns,\r\n      [TIME_FILTER_MAP.time_range]: form_data.time_range,\r\n    };\r\n    const updatedLabels = {\r\n      ...configs.labels,\r\n      ...Object.entries(TIME_FILTER_MAP).reduce(\r\n        (map, [key, value]) => ({\r\n          ...map,\r\n          [value]: TIME_FILTER_LABELS[key],\r\n        }),\r\n        {},\r\n      ),\r\n    };\r\n\r\n    if (show_sqla_time_granularity) {\r\n      updatedColumns = {\r\n        ...updatedColumns,\r\n        [TIME_FILTER_MAP.time_grain_sqla]: form_data.time_grain_sqla,\r\n      };\r\n    }\r\n\r\n    if (show_sqla_time_column) {\r\n      updatedColumns = {\r\n        ...updatedColumns,\r\n        [TIME_FILTER_MAP.granularity_sqla]: form_data.granularity_sqla,\r\n      };\r\n    }\r\n\r\n    if (show_druid_time_granularity) {\r\n      updatedColumns = {\r\n        ...updatedColumns,\r\n        [TIME_FILTER_MAP.granularity]: form_data.granularity,\r\n      };\r\n    }\r\n\r\n    if (show_druid_time_origin) {\r\n      updatedColumns = {\r\n        ...updatedColumns,\r\n        [TIME_FILTER_MAP.druid_time_origin]: form_data.druid_time_origin,\r\n      };\r\n    }\r\n\r\n    configs = {\r\n      ...configs,\r\n      columns: updatedColumns,\r\n      labels: updatedLabels,\r\n    };\r\n  }\r\n  return configs;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nexport default function getLocationHash() {\r\n  return (window.location.hash || '#').substring(1);\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t } from '@superset-ui/core';\r\nimport { SMALL_HEADER, MEDIUM_HEADER, LARGE_HEADER } from './constants';\r\n\r\nexport default [\r\n  {\r\n    value: SMALL_HEADER,\r\n    label: t('Small'),\r\n    className: 'header-style-option header-small',\r\n  },\r\n  {\r\n    value: MEDIUM_HEADER,\r\n    label: t('Medium'),\r\n    className: 'header-style-option header-medium',\r\n  },\r\n  {\r\n    value: LARGE_HEADER,\r\n    label: t('Large'),\r\n    className: 'header-style-option header-large',\r\n  },\r\n];\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport shortid from 'shortid';\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport {\r\n  CHART_TYPE,\r\n  COLUMN_TYPE,\r\n  DIVIDER_TYPE,\r\n  HEADER_TYPE,\r\n  MARKDOWN_TYPE,\r\n  ROW_TYPE,\r\n  TABS_TYPE,\r\n  TAB_TYPE,\r\n} from './componentTypes';\r\n\r\nimport {\r\n  MEDIUM_HEADER,\r\n  BACKGROUND_TRANSPARENT,\r\n  GRID_DEFAULT_CHART_WIDTH,\r\n} from './constants';\r\n\r\nconst typeToDefaultMetaData = {\r\n  [CHART_TYPE]: { width: GRID_DEFAULT_CHART_WIDTH, height: 50 },\r\n  [COLUMN_TYPE]: {\r\n    width: GRID_DEFAULT_CHART_WIDTH,\r\n    background: BACKGROUND_TRANSPARENT,\r\n  },\r\n  [DIVIDER_TYPE]: null,\r\n  [HEADER_TYPE]: {\r\n    text: 'New header',\r\n    headerSize: MEDIUM_HEADER,\r\n    background: BACKGROUND_TRANSPARENT,\r\n  },\r\n  [MARKDOWN_TYPE]: { width: GRID_DEFAULT_CHART_WIDTH, height: 50 },\r\n  [ROW_TYPE]: { background: BACKGROUND_TRANSPARENT },\r\n  [TABS_TYPE]: null,\r\n  [TAB_TYPE]: {\r\n    text: '',\r\n    defaultText: t('Tab title'),\r\n    placeholder: t('Tab title'),\r\n  },\r\n};\r\n\r\nfunction uuid(type) {\r\n  return `${type}-${shortid.generate()}`;\r\n}\r\n\r\nexport default function entityFactory(type, meta, parents = []) {\r\n  return {\r\n    type,\r\n    id: uuid(type),\r\n    children: [],\r\n    parents,\r\n    meta: {\r\n      ...typeToDefaultMetaData[type],\r\n      ...meta,\r\n    },\r\n  };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport PropTypes from 'prop-types';\r\nimport componentTypes from './componentTypes';\r\nimport backgroundStyleOptions from './backgroundStyleOptions';\r\nimport headerStyleOptions from './headerStyleOptions';\r\n\r\nexport const componentShape = PropTypes.shape({\r\n  id: PropTypes.string.isRequired,\r\n  type: PropTypes.oneOf(Object.values(componentTypes)).isRequired,\r\n  parents: PropTypes.arrayOf(PropTypes.string),\r\n  children: PropTypes.arrayOf(PropTypes.string),\r\n  meta: PropTypes.shape({\r\n    // Dimensions\r\n    width: PropTypes.number,\r\n    height: PropTypes.number,\r\n\r\n    // Header\r\n    headerSize: PropTypes.oneOf(headerStyleOptions.map(opt => opt.value)),\r\n\r\n    // Row\r\n    background: PropTypes.oneOf(backgroundStyleOptions.map(opt => opt.value)),\r\n\r\n    // Chart\r\n    chartId: PropTypes.number,\r\n  }),\r\n});\r\n\r\nexport const chartPropShape = PropTypes.shape({\r\n  id: PropTypes.number.isRequired,\r\n  chartAlert: PropTypes.string,\r\n  chartStatus: PropTypes.string,\r\n  chartUpdateEndTime: PropTypes.number,\r\n  chartUpdateStartTime: PropTypes.number,\r\n  latestQueryFormData: PropTypes.object,\r\n  queryController: PropTypes.shape({ abort: PropTypes.func }),\r\n  queriesResponse: PropTypes.arrayOf(PropTypes.object),\r\n  triggerQuery: PropTypes.bool,\r\n  lastRendered: PropTypes.number,\r\n});\r\n\r\nexport const slicePropShape = PropTypes.shape({\r\n  slice_id: PropTypes.number.isRequired,\r\n  slice_url: PropTypes.string.isRequired,\r\n  slice_name: PropTypes.string.isRequired,\r\n  datasource: PropTypes.string,\r\n  datasource_name: PropTypes.string,\r\n  datasource_link: PropTypes.string,\r\n  changed_on: PropTypes.number.isRequired,\r\n  modified: PropTypes.string.isRequired,\r\n  viz_type: PropTypes.string.isRequired,\r\n  description: PropTypes.string,\r\n  description_markeddown: PropTypes.string,\r\n  owners: PropTypes.arrayOf(PropTypes.string),\r\n});\r\n\r\nexport const dashboardFilterPropShape = PropTypes.shape({\r\n  chartId: PropTypes.number.isRequired,\r\n  componentId: PropTypes.string.isRequired,\r\n  filterName: PropTypes.string.isRequired,\r\n  datasourceId: PropTypes.string.isRequired,\r\n  directPathToFilter: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  isDateFilter: PropTypes.bool.isRequired,\r\n  isInstantFilter: PropTypes.bool.isRequired,\r\n  columns: PropTypes.object,\r\n  labels: PropTypes.object,\r\n  scopes: PropTypes.object,\r\n});\r\n\r\nexport const dashboardStatePropShape = PropTypes.shape({\r\n  sliceIds: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n  expandedSlices: PropTypes.object,\r\n  editMode: PropTypes.bool,\r\n  isPublished: PropTypes.bool.isRequired,\r\n  colorNamespace: PropTypes.string,\r\n  colorScheme: PropTypes.string,\r\n  updatedColorScheme: PropTypes.bool,\r\n  hasUnsavedChanges: PropTypes.bool,\r\n});\r\n\r\nexport const dashboardInfoPropShape = PropTypes.shape({\r\n  id: PropTypes.number.isRequired,\r\n  metadata: PropTypes.object,\r\n  slug: PropTypes.string,\r\n  dash_edit_perm: PropTypes.bool.isRequired,\r\n  dash_save_perm: PropTypes.bool.isRequired,\r\n  common: PropTypes.object,\r\n  userId: PropTypes.string.isRequired,\r\n});\r\n\r\n/* eslint-disable-next-line  no-undef */\r\nconst lazyFunction = f => () => f().apply(this, arguments);\r\n\r\nconst leafType = PropTypes.shape({\r\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n  label: PropTypes.string.isRequired,\r\n});\r\n\r\nconst parentShape = {\r\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  children: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([\r\n      PropTypes.shape(lazyFunction(() => parentShape)),\r\n      leafType,\r\n    ]),\r\n  ),\r\n};\r\n\r\nexport const filterScopeSelectorTreeNodePropShape = PropTypes.oneOfType([\r\n  PropTypes.shape(parentShape),\r\n  leafType,\r\n]);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\n/* eslint-disable no-param-reassign */\r\n// <- When we work with Immer, we need reassign, so disabling lint\r\nimport produce from 'immer';\r\nimport { DataMask, FeatureFlag } from '@superset-ui/core';\r\nimport { NATIVE_FILTER_PREFIX } from 'src/dashboard/components/nativeFilters/FiltersConfigModal/utils';\r\nimport { HYDRATE_DASHBOARD } from 'src/dashboard/actions/hydrate';\r\nimport { isFeatureEnabled } from 'src/featureFlags';\r\nimport { DataMaskStateWithId, DataMaskWithId } from './types';\r\nimport {\r\n  AnyDataMaskAction,\r\n  SET_DATA_MASK_FOR_FILTER_CONFIG_COMPLETE,\r\n  UPDATE_DATA_MASK,\r\n} from './actions';\r\nimport {\r\n  Filter,\r\n  FilterConfiguration,\r\n} from '../dashboard/components/nativeFilters/types';\r\nimport { areObjectsEqual } from '../reduxUtils';\r\nimport { Filters } from '../dashboard/reducers/types';\r\n\r\nexport function getInitialDataMask(id?: string): DataMask;\r\nexport function getInitialDataMask(id: string): DataMaskWithId {\r\n  let otherProps = {};\r\n  if (id) {\r\n    otherProps = {\r\n      id,\r\n    };\r\n  }\r\n  return {\r\n    ...otherProps,\r\n    extraFormData: {},\r\n    filterState: {\r\n      value: undefined,\r\n    },\r\n    ownState: {},\r\n  } as DataMaskWithId;\r\n}\r\n\r\nfunction fillNativeFilters(\r\n  filterConfig: FilterConfiguration,\r\n  mergedDataMask: DataMaskStateWithId,\r\n  draftDataMask: DataMaskStateWithId,\r\n  currentFilters?: Filters,\r\n) {\r\n  filterConfig.forEach((filter: Filter) => {\r\n    mergedDataMask[filter.id] = {\r\n      ...getInitialDataMask(filter.id), // take initial data\r\n      ...filter.defaultDataMask, // if something new came from BE - take it\r\n      ...draftDataMask[filter.id], // keep local filter data\r\n    };\r\n    // if we came from filters config modal and particular filters changed take it's dataMask\r\n    if (\r\n      currentFilters &&\r\n      !areObjectsEqual(\r\n        filter.defaultDataMask,\r\n        currentFilters[filter.id]?.defaultDataMask,\r\n        { ignoreUndefined: true },\r\n      )\r\n    ) {\r\n      mergedDataMask[filter.id] = {\r\n        ...mergedDataMask[filter.id],\r\n        ...filter.defaultDataMask,\r\n      };\r\n    }\r\n  });\r\n\r\n  // Get back all other non-native filters\r\n  Object.values(draftDataMask).forEach(filter => {\r\n    if (!String(filter?.id).startsWith(NATIVE_FILTER_PREFIX)) {\r\n      mergedDataMask[filter?.id] = filter;\r\n    }\r\n  });\r\n}\r\n\r\nconst dataMaskReducer = produce(\r\n  (draft: DataMaskStateWithId, action: AnyDataMaskAction) => {\r\n    const cleanState = {};\r\n    switch (action.type) {\r\n      case UPDATE_DATA_MASK:\r\n        draft[action.filterId] = {\r\n          ...getInitialDataMask(action.filterId),\r\n          ...draft[action.filterId],\r\n          ...action.dataMask,\r\n        };\r\n        return draft;\r\n      // TODO: update hydrate to .ts\r\n      // @ts-ignore\r\n      case HYDRATE_DASHBOARD:\r\n        if (isFeatureEnabled(FeatureFlag.DASHBOARD_CROSS_FILTERS)) {\r\n          Object.keys(\r\n            // @ts-ignore\r\n            action.data.dashboardInfo?.metadata?.chart_configuration,\r\n          ).forEach(id => {\r\n            cleanState[id] = {\r\n              ...getInitialDataMask(id), // take initial data\r\n            };\r\n          });\r\n        }\r\n        fillNativeFilters(\r\n          // @ts-ignore\r\n          action.data.dashboardInfo?.metadata?.native_filter_configuration ??\r\n            [],\r\n          cleanState,\r\n          draft,\r\n        );\r\n        return cleanState;\r\n      case SET_DATA_MASK_FOR_FILTER_CONFIG_COMPLETE:\r\n        fillNativeFilters(\r\n          action.filterConfig ?? [],\r\n          cleanState,\r\n          draft,\r\n          action.filters,\r\n        );\r\n        return cleanState;\r\n\r\n      default:\r\n        return draft;\r\n    }\r\n  },\r\n  {},\r\n);\r\n\r\nexport default dataMaskReducer;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { hot } from 'react-hot-loader/root';\r\nimport { Provider } from 'react-redux';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport { ThemeProvider } from '@superset-ui/core';\r\nimport { DynamicPluginProvider } from 'src/components/DynamicPlugins';\r\nimport ToastPresenter from '../messageToasts/containers/ToastPresenter';\r\nimport ExploreViewContainer from './components/ExploreViewContainer';\r\nimport setupApp from '../setup/setupApp';\r\nimport setupPlugins from '../setup/setupPlugins';\r\nimport './main.less';\r\nimport '../../stylesheets/reactable-pagination.less';\r\nimport { theme } from '../preamble';\r\n\r\nsetupApp();\r\nsetupPlugins();\r\n\r\nconst App = ({ store }) => (\r\n  <Provider store={store}>\r\n    <DndProvider backend={HTML5Backend}>\r\n      <ThemeProvider theme={theme}>\r\n        <DynamicPluginProvider>\r\n          <ExploreViewContainer />\r\n          <ToastPresenter />\r\n        </DynamicPluginProvider>\r\n      </ThemeProvider>\r\n    </DndProvider>\r\n  </Provider>\r\n);\r\n\r\nexport default hot(App);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint camelcase: 0 */\r\nimport { DatasourceMeta } from '@superset-ui/chart-controls';\r\nimport {\r\n  t,\r\n  SupersetClient,\r\n  DatasourceType,\r\n  QueryFormData,\r\n} from '@superset-ui/core';\r\nimport { Dispatch } from 'redux';\r\nimport { addDangerToast, toastActions } from 'src/messageToasts/actions';\r\nimport { Slice } from 'src/types/Chart';\r\n\r\nconst FAVESTAR_BASE_URL = '/superset/favstar/slice';\r\n\r\nexport const SET_DATASOURCE_TYPE = 'SET_DATASOURCE_TYPE';\r\nexport function setDatasourceType(datasourceType: DatasourceType) {\r\n  return { type: SET_DATASOURCE_TYPE, datasourceType };\r\n}\r\n\r\nexport const SET_DATASOURCE = 'SET_DATASOURCE';\r\nexport function setDatasource(datasource: DatasourceMeta) {\r\n  return { type: SET_DATASOURCE, datasource };\r\n}\r\n\r\nexport const SET_DATASOURCES = 'SET_DATASOURCES';\r\nexport function setDatasources(datasources: DatasourceMeta[]) {\r\n  return { type: SET_DATASOURCES, datasources };\r\n}\r\n\r\nexport const POST_DATASOURCE_STARTED = 'POST_DATASOURCE_STARTED';\r\nexport const FETCH_DATASOURCE_SUCCEEDED = 'FETCH_DATASOURCE_SUCCEEDED';\r\nexport function fetchDatasourceSucceeded() {\r\n  return { type: FETCH_DATASOURCE_SUCCEEDED };\r\n}\r\n\r\nexport const FETCH_DATASOURCES_STARTED = 'FETCH_DATASOURCES_STARTED';\r\nexport function fetchDatasourcesStarted() {\r\n  return { type: FETCH_DATASOURCES_STARTED };\r\n}\r\n\r\nexport const FETCH_DATASOURCES_SUCCEEDED = 'FETCH_DATASOURCES_SUCCEEDED';\r\nexport function fetchDatasourcesSucceeded() {\r\n  return { type: FETCH_DATASOURCES_SUCCEEDED };\r\n}\r\n\r\nexport const TOGGLE_FAVE_STAR = 'TOGGLE_FAVE_STAR';\r\nexport function toggleFaveStar(isStarred: boolean) {\r\n  return { type: TOGGLE_FAVE_STAR, isStarred };\r\n}\r\n\r\nexport const FETCH_FAVE_STAR = 'FETCH_FAVE_STAR';\r\nexport function fetchFaveStar(sliceId: string) {\r\n  return function (dispatch: Dispatch) {\r\n    SupersetClient.get({\r\n      endpoint: `${FAVESTAR_BASE_URL}/${sliceId}/count`,\r\n    }).then(({ json }) => {\r\n      if (json.count > 0) {\r\n        dispatch(toggleFaveStar(true));\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nexport const SAVE_FAVE_STAR = 'SAVE_FAVE_STAR';\r\nexport function saveFaveStar(sliceId: string, isStarred: boolean) {\r\n  return function (dispatch: Dispatch) {\r\n    const urlSuffix = isStarred ? 'unselect' : 'select';\r\n    SupersetClient.get({\r\n      endpoint: `${FAVESTAR_BASE_URL}/${sliceId}/${urlSuffix}/`,\r\n    })\r\n      .then(() => dispatch(toggleFaveStar(!isStarred)))\r\n      .catch(() => {\r\n        dispatch(\r\n          addDangerToast(t('An error occurred while starring this chart')),\r\n        );\r\n      });\r\n  };\r\n}\r\n\r\nexport const SET_FIELD_VALUE = 'SET_FIELD_VALUE';\r\nexport function setControlValue(\r\n  controlName: string,\r\n  value: any,\r\n  validationErrors?: any[],\r\n) {\r\n  return { type: SET_FIELD_VALUE, controlName, value, validationErrors };\r\n}\r\n\r\nexport const SET_EXPLORE_CONTROLS = 'UPDATE_EXPLORE_CONTROLS';\r\nexport function setExploreControls(formData: QueryFormData) {\r\n  return { type: SET_EXPLORE_CONTROLS, formData };\r\n}\r\n\r\nexport const UPDATE_CHART_TITLE = 'UPDATE_CHART_TITLE';\r\nexport function updateChartTitle(sliceName: string) {\r\n  return { type: UPDATE_CHART_TITLE, sliceName };\r\n}\r\n\r\nexport const CREATE_NEW_SLICE = 'CREATE_NEW_SLICE';\r\nexport function createNewSlice(\r\n  can_add: boolean,\r\n  can_download: boolean,\r\n  can_overwrite: boolean,\r\n  slice: Slice,\r\n  form_data: QueryFormData,\r\n) {\r\n  return {\r\n    type: CREATE_NEW_SLICE,\r\n    can_add,\r\n    can_download,\r\n    can_overwrite,\r\n    slice,\r\n    form_data,\r\n  };\r\n}\r\n\r\nexport const SLICE_UPDATED = 'SLICE_UPDATED';\r\nexport function sliceUpdated(slice: Slice) {\r\n  return { type: SLICE_UPDATED, slice };\r\n}\r\n\r\nexport const exploreActions = {\r\n  ...toastActions,\r\n  setDatasourceType,\r\n  setDatasource,\r\n  setDatasources,\r\n  fetchDatasourcesStarted,\r\n  fetchDatasourcesSucceeded,\r\n  toggleFaveStar,\r\n  fetchFaveStar,\r\n  saveFaveStar,\r\n  setControlValue,\r\n  setExploreControls,\r\n  updateChartTitle,\r\n  createNewSlice,\r\n  sliceUpdated,\r\n};\r\n\r\nexport type ExploreActions = typeof exploreActions;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { SupersetClient } from '@superset-ui/core';\r\nimport { getExploreUrl } from '../exploreUtils';\r\n\r\nexport const FETCH_DASHBOARDS_SUCCEEDED = 'FETCH_DASHBOARDS_SUCCEEDED';\r\nexport function fetchDashboardsSucceeded(choices) {\r\n  return { type: FETCH_DASHBOARDS_SUCCEEDED, choices };\r\n}\r\n\r\nexport const FETCH_DASHBOARDS_FAILED = 'FETCH_DASHBOARDS_FAILED';\r\nexport function fetchDashboardsFailed(userId) {\r\n  return { type: FETCH_DASHBOARDS_FAILED, userId };\r\n}\r\n\r\nexport function fetchDashboards(userId) {\r\n  return function fetchDashboardsThunk(dispatch) {\r\n    return SupersetClient.get({\r\n      endpoint: `/dashboardasync/api/read?_flt_0_owners=${userId}`,\r\n    })\r\n      .then(({ json }) => {\r\n        const choices = json.pks.map((id, index) => ({\r\n          value: id,\r\n          label: (json.result[index] || {}).dashboard_title,\r\n        }));\r\n\r\n        return dispatch(fetchDashboardsSucceeded(choices));\r\n      })\r\n      .catch(() => dispatch(fetchDashboardsFailed(userId)));\r\n  };\r\n}\r\n\r\nexport const SAVE_SLICE_FAILED = 'SAVE_SLICE_FAILED';\r\nexport function saveSliceFailed() {\r\n  return { type: SAVE_SLICE_FAILED };\r\n}\r\nexport const SAVE_SLICE_SUCCESS = 'SAVE_SLICE_SUCCESS';\r\nexport function saveSliceSuccess(data) {\r\n  return { type: SAVE_SLICE_SUCCESS, data };\r\n}\r\n\r\nexport const REMOVE_SAVE_MODAL_ALERT = 'REMOVE_SAVE_MODAL_ALERT';\r\nexport function removeSaveModalAlert() {\r\n  return { type: REMOVE_SAVE_MODAL_ALERT };\r\n}\r\n\r\nexport function saveSlice(formData, requestParams) {\r\n  return dispatch => {\r\n    const url = getExploreUrl({\r\n      formData,\r\n      endpointType: 'base',\r\n      force: false,\r\n      curUrl: null,\r\n      requestParams,\r\n    });\r\n\r\n    return SupersetClient.post({ url, postPayload: { form_data: formData } })\r\n      .then(response => {\r\n        dispatch(saveSliceSuccess(response.json));\r\n        return response.json;\r\n      })\r\n      .catch(() => dispatch(saveSliceFailed()));\r\n  };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint camelcase: 0 */\r\nimport React from 'react';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  ensureIsArray,\r\n  t,\r\n  styled,\r\n  getChartControlPanelRegistry,\r\n  QueryFormData,\r\n  DatasourceType,\r\n  css,\r\n} from '@superset-ui/core';\r\nimport {\r\n  ControlPanelSectionConfig,\r\n  ControlState,\r\n  CustomControlItem,\r\n  DatasourceMeta,\r\n  ExpandedControlItem,\r\n  InfoTooltipWithTrigger,\r\n  sections,\r\n} from '@superset-ui/chart-controls';\r\n\r\nimport Collapse from 'src/components/Collapse';\r\nimport Tabs from 'src/components/Tabs';\r\nimport { PluginContext } from 'src/components/DynamicPlugins';\r\nimport Loading from 'src/components/Loading';\r\n\r\nimport { getSectionsToRender } from 'src/explore/controlUtils';\r\nimport {\r\n  ExploreActions,\r\n  exploreActions,\r\n} from 'src/explore/actions/exploreActions';\r\nimport { ExplorePageState } from 'src/explore/reducers/getInitialState';\r\nimport { ChartState } from 'src/explore/types';\r\n\r\nimport ControlRow from './ControlRow';\r\nimport Control from './Control';\r\n\r\nexport type ControlPanelsContainerProps = {\r\n  actions: ExploreActions;\r\n  datasource_type: DatasourceType;\r\n  exploreState: ExplorePageState['explore'];\r\n  chart: ChartState;\r\n  controls: Record<string, ControlState>;\r\n  form_data: QueryFormData;\r\n  isDatasourceMetaLoading: boolean;\r\n};\r\n\r\nexport type ExpandedControlPanelSectionConfig = Omit<\r\n  ControlPanelSectionConfig,\r\n  'controlSetRows'\r\n> & {\r\n  controlSetRows: ExpandedControlItem[][];\r\n};\r\n\r\nconst Styles = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n  overflow-x: visible;\r\n  overflow-y: auto;\r\n  #controlSections {\r\n    min-height: 100%;\r\n    overflow: visible;\r\n  }\r\n  .nav-tabs {\r\n    flex: 0 0 1;\r\n  }\r\n  .tab-content {\r\n    overflow: auto;\r\n    flex: 1 1 100%;\r\n  }\r\n  .Select__menu {\r\n    max-width: 100%;\r\n  }\r\n  .type-label {\r\n    margin-right: ${({ theme }) => theme.gridUnit * 3}px;\r\n    width: ${({ theme }) => theme.gridUnit * 7}px;\r\n    display: inline-block;\r\n    text-align: center;\r\n    font-weight: ${({ theme }) => theme.typography.weights.bold};\r\n  }\r\n`;\r\n\r\nconst ControlPanelsTabs = styled(Tabs)`\r\n  .ant-tabs-nav-list {\r\n    width: ${({ fullWidth }) => (fullWidth ? '100%' : '50%')};\r\n  }\r\n  .ant-tabs-content-holder {\r\n    overflow: visible;\r\n  }\r\n  .ant-tabs-tabpane {\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\ntype ControlPanelsContainerState = {\r\n  expandedQuerySections: string[];\r\n  expandedCustomizeSections: string[];\r\n  querySections: ControlPanelSectionConfig[];\r\n  customizeSections: ControlPanelSectionConfig[];\r\n};\r\n\r\nconst isTimeSection = (section: ControlPanelSectionConfig): boolean =>\r\n  !!section.label &&\r\n  (sections.legacyRegularTime.label === section.label ||\r\n    sections.legacyTimeseriesTime.label === section.label);\r\n\r\nconst hasTimeColumn = (datasource: DatasourceMeta): boolean =>\r\n  datasource?.columns?.some(c => c.is_dttm) ||\r\n  datasource.type === DatasourceType.Druid;\r\n\r\nconst sectionsToExpand = (\r\n  sections: ControlPanelSectionConfig[],\r\n  datasource: DatasourceMeta,\r\n): string[] =>\r\n  // avoid expanding time section if datasource doesn't include time column\r\n  sections.reduce(\r\n    (acc, section) =>\r\n      section.expanded && (!isTimeSection(section) || hasTimeColumn(datasource))\r\n        ? [...acc, String(section.label)]\r\n        : acc,\r\n    [] as string[],\r\n  );\r\n\r\nfunction getState(\r\n  props: ControlPanelsContainerProps,\r\n): ControlPanelsContainerState {\r\n  const {\r\n    exploreState: { datasource },\r\n  } = props;\r\n\r\n  const querySections: ControlPanelSectionConfig[] = [];\r\n  const customizeSections: ControlPanelSectionConfig[] = [];\r\n\r\n  getSectionsToRender(props.form_data.viz_type, props.datasource_type).forEach(\r\n    section => {\r\n      // if at least one control in the section is not `renderTrigger`\r\n      // or asks to be displayed at the Data tab\r\n      if (\r\n        section.tabOverride === 'data' ||\r\n        section.controlSetRows.some(rows =>\r\n          rows.some(\r\n            control =>\r\n              control &&\r\n              typeof control === 'object' &&\r\n              'config' in control &&\r\n              control.config &&\r\n              (!control.config.renderTrigger ||\r\n                control.config.tabOverride === 'data'),\r\n          ),\r\n        )\r\n      ) {\r\n        querySections.push(section);\r\n      } else {\r\n        customizeSections.push(section);\r\n      }\r\n    },\r\n  );\r\n  const expandedQuerySections: string[] = sectionsToExpand(\r\n    querySections,\r\n    datasource,\r\n  );\r\n  const expandedCustomizeSections: string[] = sectionsToExpand(\r\n    customizeSections,\r\n    datasource,\r\n  );\r\n  return {\r\n    expandedQuerySections,\r\n    expandedCustomizeSections,\r\n    querySections,\r\n    customizeSections,\r\n  };\r\n}\r\n\r\nexport class ControlPanelsContainer extends React.Component<\r\n  ControlPanelsContainerProps,\r\n  ControlPanelsContainerState\r\n> {\r\n  // trigger updates to the component when async plugins load\r\n  static contextType = PluginContext;\r\n\r\n  constructor(props: ControlPanelsContainerProps) {\r\n    super(props);\r\n    this.state = {\r\n      expandedQuerySections: [],\r\n      expandedCustomizeSections: [],\r\n      querySections: [],\r\n      customizeSections: [],\r\n    };\r\n    this.renderControl = this.renderControl.bind(this);\r\n    this.renderControlPanelSection = this.renderControlPanelSection.bind(this);\r\n  }\r\n\r\n  static getDerivedStateFromProps(\r\n    props: ControlPanelsContainerProps,\r\n    state: ControlPanelsContainerState,\r\n  ): ControlPanelsContainerState {\r\n    // only update the sections, not the expanded/collapsed state\r\n    const newState = getState(props);\r\n    return {\r\n      ...state,\r\n      customizeSections: newState.customizeSections,\r\n      querySections: newState.querySections,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps: ControlPanelsContainerProps) {\r\n    if (\r\n      this.props.form_data.datasource !== prevProps.form_data.datasource ||\r\n      this.props.form_data.viz_type !== prevProps.form_data.viz_type\r\n    ) {\r\n      // eslint-disable-next-line react/no-did-update-set-state\r\n      this.setState(getState(this.props));\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState(getState(this.props));\r\n  }\r\n\r\n  renderControl({ name, config }: CustomControlItem) {\r\n    const { actions, controls, chart, exploreState } = this.props;\r\n    const { visibility } = config;\r\n\r\n    // If the control item is not an object, we have to look up the control data from\r\n    // the centralized controls file.\r\n    // When it is an object we read control data straight from `config` instead\r\n    const controlData = {\r\n      ...config,\r\n      ...controls[name],\r\n      // if `mapStateToProps` accept three arguments, it means it needs chart\r\n      // state, too. Since it's may be expensive to run mapStateToProps for every\r\n      // re-render, we only run this when the chart plugin explicitly ask for this.\r\n      ...(config.mapStateToProps?.length === 3\r\n        ? // @ts-ignore /* The typing accuses of having an extra parameter. I didn't remove it because I believe it could be an error in the types and not in the code */\r\n          config.mapStateToProps(exploreState, controls[name], chart)\r\n        : // for other controls, `mapStateToProps` is already run in\r\n          // controlUtils/getControlState.ts\r\n          undefined),\r\n      name,\r\n    };\r\n    const { validationErrors, ...restProps } = controlData as ControlState & {\r\n      validationErrors?: any[];\r\n    };\r\n\r\n    // if visibility check says the config is not visible, don't render it\r\n    if (visibility && !visibility.call(config, this.props, controlData)) {\r\n      return null;\r\n    }\r\n    return (\r\n      <Control\r\n        key={`control-${name}`}\r\n        name={name}\r\n        validationErrors={validationErrors}\r\n        actions={actions}\r\n        {...restProps}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderControlPanelSection(section: ExpandedControlPanelSectionConfig) {\r\n    const { controls } = this.props;\r\n    const { label, description } = section;\r\n\r\n    // Section label can be a ReactNode but in some places we want to\r\n    // have a string ID. Using forced type conversion for now,\r\n    // should probably add a `id` field to sections in the future.\r\n    const sectionId = String(label);\r\n\r\n    const hasErrors = section.controlSetRows.some(rows =>\r\n      rows.some(item => {\r\n        const controlName =\r\n          typeof item === 'string'\r\n            ? item\r\n            : item && 'name' in item\r\n            ? item.name\r\n            : null;\r\n        return (\r\n          controlName &&\r\n          controlName in controls &&\r\n          controls[controlName].validationErrors &&\r\n          controls[controlName].validationErrors.length > 0\r\n        );\r\n      }),\r\n    );\r\n    const PanelHeader = () => (\r\n      <span>\r\n        <span>{label}</span>{' '}\r\n        {description && (\r\n          // label is only used in tooltip id (should probably call this prop `id`)\r\n          <InfoTooltipWithTrigger label={sectionId} tooltip={description} />\r\n        )}\r\n        {hasErrors && (\r\n          <InfoTooltipWithTrigger\r\n            label=\"validation-errors\"\r\n            bsStyle=\"danger\"\r\n            tooltip=\"This section contains validation errors\"\r\n          />\r\n        )}\r\n      </span>\r\n    );\r\n\r\n    return (\r\n      <Collapse.Panel\r\n        data-test=\"collapsible-control-panel\"\r\n        css={theme => css`\r\n          margin-bottom: 0;\r\n          box-shadow: none;\r\n\r\n          &:last-child {\r\n            padding-bottom: ${theme.gridUnit * 10}px;\r\n          }\r\n\r\n          .panel-body {\r\n            margin-left: ${theme.gridUnit * 4}px;\r\n            padding-bottom: 0px;\r\n          }\r\n\r\n          span.label {\r\n            display: inline-block;\r\n          }\r\n        `}\r\n        header={PanelHeader()}\r\n        key={sectionId}\r\n      >\r\n        {section.controlSetRows.map((controlSets, i) => {\r\n          const renderedControls = controlSets\r\n            .map(controlItem => {\r\n              if (!controlItem) {\r\n                // When the item is invalid\r\n                return null;\r\n              }\r\n              if (React.isValidElement(controlItem)) {\r\n                // When the item is a React element\r\n                return controlItem;\r\n              }\r\n              if (\r\n                controlItem.name &&\r\n                controlItem.config &&\r\n                controlItem.name !== 'datasource'\r\n              ) {\r\n                return this.renderControl(controlItem);\r\n              }\r\n              return null;\r\n            })\r\n            .filter(x => x !== null);\r\n          // don't show the row if it is empty\r\n          if (renderedControls.length === 0) {\r\n            return null;\r\n          }\r\n          return (\r\n            <ControlRow\r\n              key={`controlsetrow-${i}`}\r\n              controls={renderedControls}\r\n            />\r\n          );\r\n        })}\r\n      </Collapse.Panel>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const controlPanelRegistry = getChartControlPanelRegistry();\r\n    if (\r\n      !controlPanelRegistry.has(this.props.form_data.viz_type) &&\r\n      this.context.loading\r\n    ) {\r\n      return <Loading />;\r\n    }\r\n\r\n    const showCustomizeTab = this.state.customizeSections.length > 0;\r\n    return (\r\n      <Styles>\r\n        <ControlPanelsTabs\r\n          id=\"controlSections\"\r\n          data-test=\"control-tabs\"\r\n          fullWidth={showCustomizeTab}\r\n        >\r\n          <Tabs.TabPane key=\"query\" tab={t('Data')}>\r\n            <Collapse\r\n              bordered\r\n              activeKey={this.state.expandedQuerySections}\r\n              expandIconPosition=\"right\"\r\n              onChange={selection => {\r\n                this.setState({\r\n                  expandedQuerySections: ensureIsArray(selection),\r\n                });\r\n              }}\r\n              ghost\r\n            >\r\n              {this.state.querySections.map(this.renderControlPanelSection)}\r\n            </Collapse>\r\n          </Tabs.TabPane>\r\n          {showCustomizeTab && (\r\n            <Tabs.TabPane key=\"display\" tab={t('Customize')}>\r\n              <Collapse\r\n                bordered\r\n                activeKey={this.state.expandedCustomizeSections}\r\n                expandIconPosition=\"right\"\r\n                onChange={selection => {\r\n                  this.setState({\r\n                    expandedCustomizeSections: ensureIsArray(selection),\r\n                  });\r\n                }}\r\n                ghost\r\n              >\r\n                {this.state.customizeSections.map(\r\n                  this.renderControlPanelSection,\r\n                )}\r\n              </Collapse>\r\n            </Tabs.TabPane>\r\n          )}\r\n        </ControlPanelsTabs>\r\n      </Styles>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  function mapStateToProps(state: ExplorePageState) {\r\n    const { explore, charts } = state;\r\n    const chartKey = Object.keys(charts)[0];\r\n    const chart = charts[chartKey];\r\n    return {\r\n      chart,\r\n      isDatasourceMetaLoading: explore.isDatasourceMetaLoading,\r\n      controls: explore.controls,\r\n      exploreState: explore,\r\n    };\r\n  },\r\n  function mapDispatchToProps(dispatch) {\r\n    return {\r\n      actions: bindActionCreators(exploreActions, dispatch),\r\n    };\r\n  },\r\n)(ControlPanelsContainer);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useMemo } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport { Column } from 'react-table';\r\nimport debounce from 'lodash/debounce';\r\nimport { Input } from 'src/common/components';\r\nimport {\r\n  BOOL_FALSE_DISPLAY,\r\n  BOOL_TRUE_DISPLAY,\r\n  SLOW_DEBOUNCE,\r\n} from 'src/constants';\r\nimport Button from 'src/components/Button';\r\nimport {\r\n  applyFormattingToTabularData,\r\n  prepareCopyToClipboardTabularData,\r\n} from 'src/utils/common';\r\nimport CopyToClipboard from 'src/components/CopyToClipboard';\r\nimport RowCountLabel from 'src/explore/components/RowCountLabel';\r\n\r\nexport const CopyButton = styled(Button)`\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n\r\n  // needed to override button's first-of-type margin: 0\r\n  && {\r\n    margin: 0 ${({ theme }) => theme.gridUnit * 2}px;\r\n  }\r\n\r\n  i {\r\n    padding: 0 ${({ theme }) => theme.gridUnit}px;\r\n  }\r\n`;\r\n\r\nconst CopyNode = (\r\n  <CopyButton buttonSize=\"xsmall\">\r\n    <i className=\"fa fa-clipboard\" />\r\n  </CopyButton>\r\n);\r\n\r\nexport const CopyToClipboardButton = ({\r\n  data,\r\n}: {\r\n  data?: Record<string, any>;\r\n}) => (\r\n  <CopyToClipboard\r\n    text={data ? prepareCopyToClipboardTabularData(data) : ''}\r\n    wrapped={false}\r\n    copyNode={CopyNode}\r\n  />\r\n);\r\n\r\nexport const FilterInput = ({\r\n  onChangeHandler,\r\n}: {\r\n  onChangeHandler(filterText: string): void;\r\n}) => {\r\n  const debouncedChangeHandler = debounce(onChangeHandler, SLOW_DEBOUNCE);\r\n  return (\r\n    <Input\r\n      placeholder={t('Search')}\r\n      onChange={(event: any) => {\r\n        const filterText = event.target.value;\r\n        debouncedChangeHandler(filterText);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const RowCount = ({\r\n  data,\r\n  loading,\r\n}: {\r\n  data?: Record<string, any>[];\r\n  loading: boolean;\r\n}) => (\r\n  <RowCountLabel\r\n    rowcount={data?.length ?? 0}\r\n    loading={loading}\r\n    suffix={t('rows retrieved')}\r\n  />\r\n);\r\n\r\nexport const useFilteredTableData = (\r\n  filterText: string,\r\n  data?: Record<string, any>[],\r\n) =>\r\n  useMemo(() => {\r\n    if (!data?.length) {\r\n      return [];\r\n    }\r\n    const formattedData = applyFormattingToTabularData(data);\r\n    return formattedData.filter((row: Record<string, any>) =>\r\n      Object.values(row).some(value =>\r\n        value?.toString().toLowerCase().includes(filterText.toLowerCase()),\r\n      ),\r\n    );\r\n  }, [data, filterText]);\r\n\r\nexport const useTableColumns = (\r\n  data?: Record<string, any>[],\r\n  moreConfigs?: { [key: string]: Partial<Column> },\r\n) =>\r\n  useMemo(\r\n    () =>\r\n      data?.length\r\n        ? Object.keys(data[0]).map(\r\n            key =>\r\n              ({\r\n                accessor: key,\r\n                Header: key,\r\n                Cell: ({ value }) => {\r\n                  if (value === true) {\r\n                    return BOOL_TRUE_DISPLAY;\r\n                  }\r\n                  if (value === false) {\r\n                    return BOOL_FALSE_DISPLAY;\r\n                  }\r\n                  return String(value);\r\n                },\r\n                ...moreConfigs?.[key],\r\n              } as Column),\r\n          )\r\n        : [],\r\n    [data, moreConfigs],\r\n  );\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { JsonObject, styled, t } from '@superset-ui/core';\r\nimport Collapse from 'src/components/Collapse';\r\nimport Tabs from 'src/components/Tabs';\r\nimport Loading from 'src/components/Loading';\r\nimport TableView, { EmptyWrapperType } from 'src/components/TableView';\r\nimport { getChartDataRequest } from 'src/chart/chartAction';\r\nimport { getClientErrorObject } from 'src/utils/getClientErrorObject';\r\nimport {\r\n  getFromLocalStorage,\r\n  setInLocalStorage,\r\n} from 'src/utils/localStorageHelpers';\r\nimport {\r\n  CopyToClipboardButton,\r\n  FilterInput,\r\n  RowCount,\r\n  useFilteredTableData,\r\n  useTableColumns,\r\n} from 'src/explore/components/DataTableControl';\r\n\r\nconst RESULT_TYPES = {\r\n  results: 'results' as const,\r\n  samples: 'samples' as const,\r\n};\r\n\r\nconst NULLISH_RESULTS_STATE = {\r\n  [RESULT_TYPES.results]: undefined,\r\n  [RESULT_TYPES.samples]: undefined,\r\n};\r\n\r\nconst DATA_TABLE_PAGE_SIZE = 50;\r\n\r\nconst STORAGE_KEYS = {\r\n  isOpen: 'is_datapanel_open',\r\n};\r\n\r\nconst DATAPANEL_KEY = 'data';\r\n\r\nconst TableControlsWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  span {\r\n    flex-shrink: 0;\r\n  }\r\n`;\r\n\r\nconst SouthPane = styled.div`\r\n  position: relative;\r\n  background-color: ${({ theme }) => theme.colors.grayscale.light5};\r\n  z-index: 5;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst TabsWrapper = styled.div<{ contentHeight: number }>`\r\n  height: ${({ contentHeight }) => contentHeight}px;\r\n  overflow: hidden;\r\n\r\n  .table-condensed {\r\n    height: 100%;\r\n    overflow: auto;\r\n  }\r\n`;\r\n\r\nconst CollapseWrapper = styled.div`\r\n  height: 100%;\r\n\r\n  .collapse-inner {\r\n    height: 100%;\r\n\r\n    .ant-collapse-item {\r\n      height: 100%;\r\n\r\n      .ant-collapse-content {\r\n        height: calc(100% - ${({ theme }) => theme.gridUnit * 8}px);\r\n\r\n        .ant-collapse-content-box {\r\n          padding-top: 0;\r\n          height: 100%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DataTablesPane = ({\r\n  queryFormData,\r\n  tableSectionHeight,\r\n  onCollapseChange,\r\n  chartStatus,\r\n  ownState,\r\n  errorMessage,\r\n}: {\r\n  queryFormData: Record<string, any>;\r\n  tableSectionHeight: number;\r\n  chartStatus: string;\r\n  ownState?: JsonObject;\r\n  onCollapseChange: (openPanelName: string) => void;\r\n  errorMessage?: JSX.Element;\r\n}) => {\r\n  const [data, setData] = useState<{\r\n    [RESULT_TYPES.results]?: Record<string, any>[];\r\n    [RESULT_TYPES.samples]?: Record<string, any>[];\r\n  }>(NULLISH_RESULTS_STATE);\r\n  const [isLoading, setIsLoading] = useState({\r\n    [RESULT_TYPES.results]: true,\r\n    [RESULT_TYPES.samples]: true,\r\n  });\r\n  const [error, setError] = useState(NULLISH_RESULTS_STATE);\r\n  const [filterText, setFilterText] = useState('');\r\n  const [activeTabKey, setActiveTabKey] = useState<string>(\r\n    RESULT_TYPES.results,\r\n  );\r\n  const [isRequestPending, setIsRequestPending] = useState<{\r\n    [RESULT_TYPES.results]?: boolean;\r\n    [RESULT_TYPES.samples]?: boolean;\r\n  }>(NULLISH_RESULTS_STATE);\r\n  const [panelOpen, setPanelOpen] = useState(\r\n    getFromLocalStorage(STORAGE_KEYS.isOpen, false),\r\n  );\r\n\r\n  const getData = useCallback(\r\n    (resultType: string) => {\r\n      setIsLoading(prevIsLoading => ({\r\n        ...prevIsLoading,\r\n        [resultType]: true,\r\n      }));\r\n      return getChartDataRequest({\r\n        formData: queryFormData,\r\n        resultFormat: 'json',\r\n        resultType,\r\n        ownState,\r\n      })\r\n        .then(response => {\r\n          // Only displaying the first query is currently supported\r\n          const result = response.result[0];\r\n          setData(prevData => ({ ...prevData, [resultType]: result.data }));\r\n          setIsLoading(prevIsLoading => ({\r\n            ...prevIsLoading,\r\n            [resultType]: false,\r\n          }));\r\n          setError(prevError => ({\r\n            ...prevError,\r\n            [resultType]: null,\r\n          }));\r\n        })\r\n        .catch(response => {\r\n          getClientErrorObject(response).then(({ error, message }) => {\r\n            setError(prevError => ({\r\n              ...prevError,\r\n              [resultType]: error || message || t('Sorry, An error occurred'),\r\n            }));\r\n            setIsLoading(prevIsLoading => ({\r\n              ...prevIsLoading,\r\n              [resultType]: false,\r\n            }));\r\n          });\r\n        });\r\n    },\r\n    [queryFormData],\r\n  );\r\n\r\n  useEffect(() => {\r\n    setInLocalStorage(STORAGE_KEYS.isOpen, panelOpen);\r\n  }, [panelOpen]);\r\n\r\n  useEffect(() => {\r\n    setIsRequestPending(prevState => ({\r\n      ...prevState,\r\n      [RESULT_TYPES.results]: true,\r\n    }));\r\n  }, [queryFormData]);\r\n\r\n  useEffect(() => {\r\n    setIsRequestPending(prevState => ({\r\n      ...prevState,\r\n      [RESULT_TYPES.samples]: true,\r\n    }));\r\n  }, [queryFormData.adhoc_filters, queryFormData.datasource]);\r\n\r\n  useEffect(() => {\r\n    if (panelOpen && isRequestPending[RESULT_TYPES.results]) {\r\n      if (errorMessage) {\r\n        setIsRequestPending(prevState => ({\r\n          ...prevState,\r\n          [RESULT_TYPES.results]: false,\r\n        }));\r\n        setIsLoading(prevIsLoading => ({\r\n          ...prevIsLoading,\r\n          [RESULT_TYPES.results]: false,\r\n        }));\r\n        return;\r\n      }\r\n      if (chartStatus === 'loading') {\r\n        setIsLoading(prevIsLoading => ({\r\n          ...prevIsLoading,\r\n          [RESULT_TYPES.results]: true,\r\n        }));\r\n      } else {\r\n        setIsRequestPending(prevState => ({\r\n          ...prevState,\r\n          [RESULT_TYPES.results]: false,\r\n        }));\r\n        getData(RESULT_TYPES.results);\r\n      }\r\n    }\r\n    if (\r\n      panelOpen &&\r\n      isRequestPending[RESULT_TYPES.samples] &&\r\n      activeTabKey === RESULT_TYPES.samples\r\n    ) {\r\n      setIsRequestPending(prevState => ({\r\n        ...prevState,\r\n        [RESULT_TYPES.samples]: false,\r\n      }));\r\n      getData(RESULT_TYPES.samples);\r\n    }\r\n  }, [\r\n    panelOpen,\r\n    isRequestPending,\r\n    getData,\r\n    activeTabKey,\r\n    chartStatus,\r\n    errorMessage,\r\n  ]);\r\n\r\n  const filteredData = {\r\n    [RESULT_TYPES.results]: useFilteredTableData(\r\n      filterText,\r\n      data[RESULT_TYPES.results],\r\n    ),\r\n    [RESULT_TYPES.samples]: useFilteredTableData(\r\n      filterText,\r\n      data[RESULT_TYPES.samples],\r\n    ),\r\n  };\r\n\r\n  const columns = {\r\n    [RESULT_TYPES.results]: useTableColumns(data[RESULT_TYPES.results]),\r\n    [RESULT_TYPES.samples]: useTableColumns(data[RESULT_TYPES.samples]),\r\n  };\r\n\r\n  const renderDataTable = (type: string) => {\r\n    if (isLoading[type]) {\r\n      return <Loading />;\r\n    }\r\n    if (error[type]) {\r\n      return <pre>{error[type]}</pre>;\r\n    }\r\n    if (data[type]) {\r\n      if (data[type]?.length === 0) {\r\n        return <span>No data</span>;\r\n      }\r\n      return (\r\n        <TableView\r\n          columns={columns[type]}\r\n          data={filteredData[type]}\r\n          pageSize={DATA_TABLE_PAGE_SIZE}\r\n          noDataText={t('No data')}\r\n          emptyWrapperType={EmptyWrapperType.Small}\r\n          className=\"table-condensed\"\r\n          isPaginationSticky\r\n          showRowCount={false}\r\n        />\r\n      );\r\n    }\r\n    if (errorMessage) {\r\n      return <pre>{errorMessage}</pre>;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const TableControls = (\r\n    <TableControlsWrapper>\r\n      <RowCount data={data[activeTabKey]} loading={isLoading[activeTabKey]} />\r\n      <CopyToClipboardButton data={data[activeTabKey]} />\r\n      <FilterInput onChangeHandler={setFilterText} />\r\n    </TableControlsWrapper>\r\n  );\r\n\r\n  const handleCollapseChange = (openPanelName: string) => {\r\n    onCollapseChange(openPanelName);\r\n    setPanelOpen(!!openPanelName);\r\n  };\r\n\r\n  return (\r\n    <SouthPane data-test=\"some-purposeful-instance\">\r\n      <TabsWrapper contentHeight={tableSectionHeight}>\r\n        <CollapseWrapper>\r\n          <Collapse\r\n            accordion\r\n            bordered={false}\r\n            defaultActiveKey={panelOpen ? DATAPANEL_KEY : undefined}\r\n            onChange={handleCollapseChange}\r\n            bold\r\n            ghost\r\n            className=\"collapse-inner\"\r\n          >\r\n            <Collapse.Panel header={t('Data')} key={DATAPANEL_KEY}>\r\n              <Tabs\r\n                fullWidth={false}\r\n                tabBarExtraContent={TableControls}\r\n                activeKey={activeTabKey}\r\n                onChange={setActiveTabKey}\r\n              >\r\n                <Tabs.TabPane\r\n                  tab={t('View results')}\r\n                  key={RESULT_TYPES.results}\r\n                >\r\n                  {renderDataTable(RESULT_TYPES.results)}\r\n                </Tabs.TabPane>\r\n                <Tabs.TabPane\r\n                  tab={t('View samples')}\r\n                  key={RESULT_TYPES.samples}\r\n                >\r\n                  {renderDataTable(RESULT_TYPES.samples)}\r\n                </Tabs.TabPane>\r\n              </Tabs>\r\n            </Collapse.Panel>\r\n          </Collapse>\r\n        </CollapseWrapper>\r\n      </TabsWrapper>\r\n    </SouthPane>\r\n  );\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { ReactNode } from 'react';\r\nimport { useDrag } from 'react-dnd';\r\nimport { styled } from '@superset-ui/core';\r\nimport { DatasourcePanelDndItem } from '../types';\r\n\r\nconst DatasourceItemContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: ${({ theme }) => theme.gridUnit * 6}px;\r\n  cursor: pointer;\r\n\r\n  :hover {\r\n    background-color: ${({ theme }) => theme.colors.grayscale.light2};\r\n  }\r\n`;\r\n\r\ninterface DatasourcePanelDragWrapperProps extends DatasourcePanelDndItem {\r\n  children?: ReactNode;\r\n}\r\n\r\nexport default function DatasourcePanelDragWrapper(\r\n  props: DatasourcePanelDragWrapperProps,\r\n) {\r\n  const [, drag] = useDrag({\r\n    item: {\r\n      value: props.value,\r\n      type: props.type,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <DatasourceItemContainer data-test=\"DatasourcePanelDragWrapper\" ref={drag}>\r\n      {props.children}\r\n    </DatasourceItemContainer>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport Collapse from 'src/components/Collapse';\r\nimport { ControlConfig, DatasourceMeta } from '@superset-ui/chart-controls';\r\nimport { debounce } from 'lodash';\r\nimport { matchSorter, rankings } from 'match-sorter';\r\nimport { FAST_DEBOUNCE } from 'src/constants';\r\nimport { isFeatureEnabled, FeatureFlag } from 'src/featureFlags';\r\nimport { ExploreActions } from 'src/explore/actions/exploreActions';\r\nimport Control from 'src/explore/components/Control';\r\nimport DatasourcePanelDragWrapper from './DatasourcePanelDragWrapper';\r\nimport { DndItemType } from '../DndItemType';\r\nimport { StyledColumnOption, StyledMetricOption } from '../optionRenderers';\r\n\r\ninterface DatasourceControl extends ControlConfig {\r\n  datasource?: DatasourceMeta;\r\n}\r\n\r\nexport interface Props {\r\n  datasource: DatasourceMeta;\r\n  controls: {\r\n    datasource: DatasourceControl;\r\n  };\r\n  actions: Partial<ExploreActions> & Pick<ExploreActions, 'setControlValue'>;\r\n}\r\n\r\nconst DatasourceContainer = styled.div`\r\n  background-color: ${({ theme }) => theme.colors.grayscale.light4};\r\n  position: relative;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-height: 100%;\r\n  .ant-collapse {\r\n    height: auto;\r\n  }\r\n  .field-selections {\r\n    padding: ${({ theme }) => `0 0 ${4 * theme.gridUnit}px`};\r\n    overflow: auto;\r\n  }\r\n  .field-length {\r\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\r\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n    color: ${({ theme }) => theme.colors.grayscale.light1};\r\n  }\r\n  .form-control.input-md {\r\n    width: calc(100% - ${({ theme }) => theme.gridUnit * 4}px);\r\n    margin: ${({ theme }) => theme.gridUnit * 2}px auto;\r\n  }\r\n  .type-label {\r\n    font-weight: ${({ theme }) => theme.typography.weights.light};\r\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n    color: ${({ theme }) => theme.colors.grayscale.base};\r\n  }\r\n  .Control {\r\n    padding-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst LabelContainer = styled.div`\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n\r\n  & > span {\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .option-label {\r\n    display: inline;\r\n  }\r\n\r\n  .metric-option {\r\n    & > svg {\r\n      min-width: ${({ theme }) => `${theme.gridUnit * 4}px`};\r\n    }\r\n    & > .option-label {\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n  }\r\n`;\r\n\r\nconst enableExploreDnd = isFeatureEnabled(\r\n  FeatureFlag.ENABLE_EXPLORE_DRAG_AND_DROP,\r\n);\r\n\r\nexport default function DataSourcePanel({\r\n  datasource,\r\n  controls: { datasource: datasourceControl },\r\n  actions,\r\n}: Props) {\r\n  const { columns, metrics } = datasource;\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [lists, setList] = useState({\r\n    columns,\r\n    metrics,\r\n  });\r\n\r\n  const search = debounce((value: string) => {\r\n    if (value === '') {\r\n      setList({ columns, metrics });\r\n      return;\r\n    }\r\n    setList({\r\n      columns: matchSorter(columns, value, {\r\n        keys: [\r\n          {\r\n            key: 'verbose_name',\r\n            threshold: rankings.CONTAINS,\r\n          },\r\n          {\r\n            key: 'column_name',\r\n            threshold: rankings.CONTAINS,\r\n          },\r\n          {\r\n            key: item =>\r\n              [item.description, item.expression].map(\r\n                x => x?.replace(/[_\\n\\s]+/g, ' ') || '',\r\n              ),\r\n            threshold: rankings.CONTAINS,\r\n            maxRanking: rankings.CONTAINS,\r\n          },\r\n        ],\r\n        keepDiacritics: true,\r\n      }),\r\n      metrics: matchSorter(metrics, value, {\r\n        keys: [\r\n          {\r\n            key: 'verbose_name',\r\n            threshold: rankings.CONTAINS,\r\n          },\r\n          {\r\n            key: 'metric_name',\r\n            threshold: rankings.CONTAINS,\r\n          },\r\n          {\r\n            key: item =>\r\n              [item.description, item.expression].map(\r\n                x => x?.replace(/[_\\n\\s]+/g, ' ') || '',\r\n              ),\r\n            threshold: rankings.CONTAINS,\r\n            maxRanking: rankings.CONTAINS,\r\n          },\r\n        ],\r\n        keepDiacritics: true,\r\n        baseSort: (a, b) =>\r\n          Number(b.item.is_certified) - Number(a.item.is_certified) ||\r\n          String(a.rankedValue).localeCompare(b.rankedValue),\r\n      }),\r\n    });\r\n  }, FAST_DEBOUNCE);\r\n\r\n  useEffect(() => {\r\n    setList({\r\n      columns,\r\n      metrics,\r\n    });\r\n    setInputValue('');\r\n  }, [columns, datasource, metrics]);\r\n\r\n  const metricSlice = lists.metrics.slice(0, 50);\r\n  const columnSlice = lists.columns.slice(0, 50);\r\n\r\n  const mainBody = (\r\n    <>\r\n      <input\r\n        type=\"text\"\r\n        onChange={evt => {\r\n          setInputValue(evt.target.value);\r\n          search(evt.target.value);\r\n        }}\r\n        value={inputValue}\r\n        className=\"form-control input-md\"\r\n        placeholder={t('Search Metrics & Columns')}\r\n      />\r\n      <div className=\"field-selections\">\r\n        <Collapse\r\n          bordered\r\n          defaultActiveKey={['metrics', 'column']}\r\n          expandIconPosition=\"right\"\r\n          ghost\r\n        >\r\n          <Collapse.Panel\r\n            header={<span className=\"header\">{t('Metrics')}</span>}\r\n            key=\"metrics\"\r\n          >\r\n            <div className=\"field-length\">\r\n              {t(`Showing %s of %s`, metricSlice.length, lists.metrics.length)}\r\n            </div>\r\n            {metricSlice.map(m => (\r\n              <LabelContainer key={m.metric_name} className=\"column\">\r\n                {enableExploreDnd ? (\r\n                  <DatasourcePanelDragWrapper\r\n                    value={m}\r\n                    type={DndItemType.Metric}\r\n                  >\r\n                    <StyledMetricOption metric={m} showType />\r\n                  </DatasourcePanelDragWrapper>\r\n                ) : (\r\n                  <StyledMetricOption metric={m} showType />\r\n                )}\r\n              </LabelContainer>\r\n            ))}\r\n          </Collapse.Panel>\r\n          <Collapse.Panel\r\n            header={<span className=\"header\">{t('Columns')}</span>}\r\n            key=\"column\"\r\n          >\r\n            <div className=\"field-length\">\r\n              {t(`Showing %s of %s`, columnSlice.length, lists.columns.length)}\r\n            </div>\r\n            {columnSlice.map(col => (\r\n              <LabelContainer key={col.column_name} className=\"column\">\r\n                {enableExploreDnd ? (\r\n                  <DatasourcePanelDragWrapper\r\n                    value={col}\r\n                    type={DndItemType.Column}\r\n                  >\r\n                    <StyledColumnOption column={col} showType />\r\n                  </DatasourcePanelDragWrapper>\r\n                ) : (\r\n                  <StyledColumnOption column={col} showType />\r\n                )}\r\n              </LabelContainer>\r\n            ))}\r\n          </Collapse.Panel>\r\n        </Collapse>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <DatasourceContainer>\r\n      <Control {...datasourceControl} name=\"datasource\" actions={actions} />\r\n      {datasource.id != null && mainBody}\r\n    </DatasourceContainer>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport Popover from 'src/components/Popover';\r\nimport { FormLabel } from 'src/components/Form';\r\nimport Icons from 'src/components/Icons';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport CopyToClipboard from 'src/components/CopyToClipboard';\r\nimport { getShortUrl } from 'src/utils/urlUtils';\r\nimport { URL_PARAMS } from 'src/constants';\r\nimport { getExploreLongUrl, getURIDirectory } from '../exploreUtils';\r\n\r\nconst propTypes = {\r\n  latestQueryFormData: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default class EmbedCodeButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      height: '400',\r\n      width: '600',\r\n      shortUrlId: 0,\r\n    };\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n    this.getCopyUrl = this.getCopyUrl.bind(this);\r\n    this.onShortUrlSuccess = this.onShortUrlSuccess.bind(this);\r\n  }\r\n\r\n  onShortUrlSuccess(shortUrl) {\r\n    const shortUrlId = shortUrl.substring(shortUrl.indexOf('/r/') + 3);\r\n    this.setState(() => ({\r\n      shortUrlId,\r\n    }));\r\n  }\r\n\r\n  getCopyUrl() {\r\n    return getShortUrl(getExploreLongUrl(this.props.latestQueryFormData))\r\n      .then(this.onShortUrlSuccess)\r\n      .catch(this.props.addDangerToast);\r\n  }\r\n\r\n  handleInputChange(e) {\r\n    const { value, name } = e.currentTarget;\r\n    const data = {};\r\n    data[name] = value;\r\n    this.setState(data);\r\n  }\r\n\r\n  generateEmbedHTML() {\r\n    const srcLink = `${window.location.origin + getURIDirectory()}?r=${\r\n      this.state.shortUrlId\r\n    }&${URL_PARAMS.standalone.name}=1&height=${this.state.height}`;\r\n    return (\r\n      '<iframe\\n' +\r\n      `  width=\"${this.state.width}\"\\n` +\r\n      `  height=\"${this.state.height}\"\\n` +\r\n      '  seamless\\n' +\r\n      '  frameBorder=\"0\"\\n' +\r\n      '  scrolling=\"no\"\\n' +\r\n      `  src=\"${srcLink}\"\\n` +\r\n      '>\\n' +\r\n      '</iframe>'\r\n    );\r\n  }\r\n\r\n  renderPopoverContent() {\r\n    const html = this.generateEmbedHTML();\r\n    return (\r\n      <div id=\"embed-code-popover\" data-test=\"embed-code-popover\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-10\">\r\n            <textarea\r\n              data-test=\"embed-code-textarea\"\r\n              name=\"embedCode\"\r\n              value={html}\r\n              rows=\"4\"\r\n              readOnly\r\n              className=\"form-control input-sm\"\r\n            />\r\n          </div>\r\n          <div className=\"col-sm-2\">\r\n            <CopyToClipboard\r\n              shouldShowText={false}\r\n              text={html}\r\n              copyNode={\r\n                <i className=\"fa fa-clipboard\" title={t('Copy to clipboard')} />\r\n              }\r\n            />\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 col-sm-12\">\r\n            <div className=\"form-group\">\r\n              <small>\r\n                <FormLabel htmlFor=\"embed-height\">{t('Height')}</FormLabel>\r\n              </small>\r\n              <input\r\n                className=\"form-control input-sm\"\r\n                type=\"text\"\r\n                defaultValue={this.state.height}\r\n                name=\"height\"\r\n                onChange={this.handleInputChange}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-6 col-sm-12\">\r\n            <div className=\"form-group\">\r\n              <small>\r\n                <FormLabel htmlFor=\"embed-width\">{t('Width')}</FormLabel>\r\n              </small>\r\n              <input\r\n                className=\"form-control input-sm\"\r\n                type=\"text\"\r\n                defaultValue={this.state.width}\r\n                name=\"width\"\r\n                onChange={this.handleInputChange}\r\n                id=\"embed-width\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Popover\r\n        trigger=\"click\"\r\n        placement=\"left\"\r\n        onClick={this.getCopyUrl}\r\n        content={this.renderPopoverContent()}\r\n      >\r\n        <Tooltip\r\n          id=\"embed-code-tooltip\"\r\n          placement=\"top\"\r\n          title=\"Embed code\"\r\n          trigger={['hover']}\r\n        >\r\n          <div\r\n            className=\"btn btn-default btn-sm\"\r\n            data-test=\"embed-code-button\"\r\n            style={{ display: 'flex', alignItems: 'center', height: 30 }}\r\n          >\r\n            <Icons.Code iconSize=\"l\" />\r\n          </div>\r\n        </Tooltip>\r\n      </Popover>\r\n    );\r\n  }\r\n}\r\n\r\nEmbedCodeButton.propTypes = propTypes;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport cx from 'classnames';\r\nimport { t } from '@superset-ui/core';\r\nimport Icons from 'src/components/Icons';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport copyTextToClipboard from 'src/utils/copy';\r\nimport withToasts from 'src/messageToasts/enhancers/withToasts';\r\nimport { useUrlShortener } from 'src/common/hooks/useUrlShortener';\r\nimport EmbedCodeButton from './EmbedCodeButton';\r\nimport { exportChart, getExploreLongUrl } from '../exploreUtils';\r\nimport ExploreAdditionalActionsMenu from './ExploreAdditionalActionsMenu';\r\n\r\ntype ActionButtonProps = {\r\n  icon: React.ReactElement;\r\n  text?: string;\r\n  tooltip: string;\r\n  className?: string;\r\n  onClick: React.MouseEventHandler<HTMLElement>;\r\n  onTooltipVisibilityChange?: (visible: boolean) => void;\r\n  'data-test'?: string;\r\n};\r\n\r\ntype ExploreActionButtonsProps = {\r\n  actions: { redirectSQLLab: () => void; openPropertiesModal: () => void };\r\n  canDownloadCSV: boolean;\r\n  chartStatus: string;\r\n  latestQueryFormData: {};\r\n  queriesResponse: {};\r\n  slice: { slice_name: string };\r\n  addDangerToast: Function;\r\n};\r\n\r\nconst ActionButton = (props: ActionButtonProps) => {\r\n  const {\r\n    icon,\r\n    text,\r\n    tooltip,\r\n    className,\r\n    onTooltipVisibilityChange,\r\n    ...rest\r\n  } = props;\r\n  return (\r\n    <Tooltip\r\n      id={`${icon}-tooltip`}\r\n      placement=\"top\"\r\n      title={tooltip}\r\n      trigger={['hover']}\r\n      onVisibleChange={onTooltipVisibilityChange}\r\n    >\r\n      <div\r\n        role=\"button\"\r\n        tabIndex={0}\r\n        css={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          '&:focus, &:focus:active': { outline: 0 },\r\n        }}\r\n        className={className || 'btn btn-default btn-sm'}\r\n        style={{ height: 30 }}\r\n        {...rest}\r\n      >\r\n        {icon}\r\n        {text && <span style={{ marginLeft: 5 }}>{text}</span>}\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nconst ExploreActionButtons = (props: ExploreActionButtonsProps) => {\r\n  const {\r\n    actions,\r\n    canDownloadCSV,\r\n    chartStatus,\r\n    latestQueryFormData,\r\n    slice,\r\n    addDangerToast,\r\n  } = props;\r\n\r\n  const copyTooltipText = t('Copy chart URL to clipboard');\r\n  const [copyTooltip, setCopyTooltip] = useState(copyTooltipText);\r\n  const longUrl = getExploreLongUrl(latestQueryFormData);\r\n  const getShortUrl = useUrlShortener(longUrl);\r\n\r\n  const doCopyLink = async () => {\r\n    try {\r\n      setCopyTooltip(t('Loading...'));\r\n      const shortUrl = await getShortUrl();\r\n      await copyTextToClipboard(shortUrl);\r\n      setCopyTooltip(t('Copied to clipboard!'));\r\n    } catch (error) {\r\n      setCopyTooltip(t('Sorry, your browser does not support copying.'));\r\n    }\r\n  };\r\n\r\n  const doShareEmail = async () => {\r\n    try {\r\n      const subject = t('Superset Chart');\r\n      const shortUrl = await getShortUrl();\r\n      const body = t('%s%s', 'Check out this chart: ', shortUrl);\r\n      window.location.href = `mailto:?Subject=${subject}%20&Body=${body}`;\r\n    } catch (error) {\r\n      addDangerToast(t('Sorry, something went wrong. Try again later.'));\r\n    }\r\n  };\r\n\r\n  const doExportCSV = canDownloadCSV\r\n    ? exportChart.bind(this, {\r\n        formData: latestQueryFormData,\r\n        resultType: 'results',\r\n        resultFormat: 'csv',\r\n      })\r\n    : null;\r\n\r\n  const doExportJson = exportChart.bind(this, {\r\n    formData: latestQueryFormData,\r\n    resultType: 'results',\r\n    resultFormat: 'json',\r\n  });\r\n\r\n  const exportToCSVClasses = cx('btn btn-default btn-sm', {\r\n    disabled: !canDownloadCSV,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"btn-group results\"\r\n      role=\"group\"\r\n      data-test=\"btn-group-results\"\r\n    >\r\n      {latestQueryFormData && (\r\n        <>\r\n          <ActionButton\r\n            icon={<Icons.Link iconSize=\"l\" />}\r\n            tooltip={copyTooltip}\r\n            onClick={doCopyLink}\r\n            data-test=\"short-link-button\"\r\n            onTooltipVisibilityChange={value =>\r\n              !value && setTimeout(() => setCopyTooltip(copyTooltipText), 200)\r\n            }\r\n          />\r\n          <ActionButton\r\n            icon={<Icons.Email iconSize=\"l\" />}\r\n            tooltip={t('Share chart by email')}\r\n            onClick={doShareEmail}\r\n          />\r\n          <EmbedCodeButton latestQueryFormData={latestQueryFormData} />\r\n          <ActionButton\r\n            icon={<Icons.FileTextOutlined iconSize=\"m\" />}\r\n            text=\".JSON\"\r\n            tooltip={t('Export to .JSON format')}\r\n            onClick={doExportJson}\r\n          />\r\n          <ActionButton\r\n            icon={<Icons.FileExcelOutlined iconSize=\"m\" />}\r\n            text=\".CSV\"\r\n            tooltip={t('Export to .CSV format')}\r\n            onClick={doExportCSV}\r\n            className={exportToCSVClasses}\r\n          />\r\n        </>\r\n      )}\r\n      <ExploreAdditionalActionsMenu\r\n        latestQueryFormData={latestQueryFormData}\r\n        chartStatus={chartStatus}\r\n        onOpenInEditor={actions.redirectSQLLab}\r\n        onOpenPropertiesModal={actions.openPropertiesModal}\r\n        slice={slice}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withToasts(ExploreActionButtons);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport PropTypes from 'prop-types';\r\nimport { t } from '@superset-ui/core';\r\nimport { Dropdown, Menu } from 'src/common/components';\r\nimport downloadAsImage from 'src/utils/downloadAsImage';\r\nimport ModalTrigger from 'src/components/ModalTrigger';\r\nimport { sliceUpdated } from 'src/explore/actions/exploreActions';\r\nimport ViewQueryModal from '../controls/ViewQueryModal';\r\n\r\nconst propTypes = {\r\n  onOpenPropertiesModal: PropTypes.func,\r\n  onOpenInEditor: PropTypes.func,\r\n  chartStatus: PropTypes.string,\r\n  latestQueryFormData: PropTypes.object.isRequired,\r\n  slice: PropTypes.object,\r\n};\r\n\r\nconst MENU_KEYS = {\r\n  EDIT_PROPERTIES: 'edit_properties',\r\n  RUN_IN_SQL_LAB: 'run_in_sql_lab',\r\n  DOWNLOAD_AS_IMAGE: 'download_as_image',\r\n  VIEW_QUERY: 'view_query',\r\n};\r\n\r\nconst ExploreAdditionalActionsMenu = props => {\r\n  const { datasource } = props.latestQueryFormData;\r\n  const sqlSupported = datasource && datasource.split('__')[1] === 'table';\r\n  const handleMenuClick = ({ key, domEvent }) => {\r\n    const { slice, onOpenInEditor, latestQueryFormData } = props;\r\n    switch (key) {\r\n      case MENU_KEYS.EDIT_PROPERTIES:\r\n        props.onOpenPropertiesModal();\r\n        break;\r\n      case MENU_KEYS.RUN_IN_SQL_LAB:\r\n        onOpenInEditor(latestQueryFormData);\r\n        break;\r\n      case MENU_KEYS.DOWNLOAD_AS_IMAGE:\r\n        downloadAsImage(\r\n          '.panel-body > .chart-container',\r\n          // eslint-disable-next-line camelcase\r\n          slice?.slice_name ?? t('New chart'),\r\n          {},\r\n          true,\r\n        )(domEvent);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const { slice } = props;\r\n  return (\r\n    <Dropdown\r\n      trigger=\"click\"\r\n      data-test=\"query-dropdown\"\r\n      overlay={\r\n        <Menu onClick={handleMenuClick} selectable={false}>\r\n          {slice && (\r\n            <Menu.Item key={MENU_KEYS.EDIT_PROPERTIES}>\r\n              {t('Edit properties')}\r\n            </Menu.Item>\r\n          )}\r\n          <Menu.Item key={MENU_KEYS.VIEW_QUERY}>\r\n            <ModalTrigger\r\n              triggerNode={\r\n                <span data-test=\"view-query-menu-item\">{t('View query')}</span>\r\n              }\r\n              modalTitle={t('View query')}\r\n              modalBody={\r\n                <ViewQueryModal\r\n                  latestQueryFormData={props.latestQueryFormData}\r\n                />\r\n              }\r\n              responsive\r\n            />\r\n          </Menu.Item>\r\n          {sqlSupported && (\r\n            <Menu.Item key={MENU_KEYS.RUN_IN_SQL_LAB}>\r\n              {t('Run in SQL Lab')}\r\n            </Menu.Item>\r\n          )}\r\n          <Menu.Item key={MENU_KEYS.DOWNLOAD_AS_IMAGE}>\r\n            {t('Download as image')}\r\n          </Menu.Item>\r\n        </Menu>\r\n      }\r\n    >\r\n      <div\r\n        role=\"button\"\r\n        id=\"query\"\r\n        tabIndex={0}\r\n        className=\"btn btn-default btn-sm\"\r\n      >\r\n        <i role=\"img\" className=\"fa fa-bars\" />\r\n      </div>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\nExploreAdditionalActionsMenu.propTypes = propTypes;\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators({ sliceUpdated }, dispatch);\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(ExploreAdditionalActionsMenu);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport PropTypes from 'prop-types';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport { chartPropShape } from '../../dashboard/util/propShapes';\r\nimport ExploreActionButtons from './ExploreActionButtons';\r\nimport RowCountLabel from './RowCountLabel';\r\nimport EditableTitle from '../../components/EditableTitle';\r\nimport AlteredSliceTag from '../../components/AlteredSliceTag';\r\nimport FaveStar from '../../components/FaveStar';\r\nimport Timer from '../../components/Timer';\r\nimport CachedLabel from '../../components/CachedLabel';\r\nimport PropertiesModal from './PropertiesModal';\r\nimport { sliceUpdated } from '../actions/exploreActions';\r\n\r\nconst CHART_STATUS_MAP = {\r\n  failed: 'danger',\r\n  loading: 'warning',\r\n  success: 'success',\r\n};\r\n\r\nconst propTypes = {\r\n  actions: PropTypes.object.isRequired,\r\n  addHistory: PropTypes.func,\r\n  can_overwrite: PropTypes.bool.isRequired,\r\n  can_download: PropTypes.bool.isRequired,\r\n  isStarred: PropTypes.bool.isRequired,\r\n  slice: PropTypes.object,\r\n  sliceName: PropTypes.string,\r\n  table_name: PropTypes.string,\r\n  form_data: PropTypes.object,\r\n  ownState: PropTypes.object,\r\n  timeout: PropTypes.number,\r\n  chart: chartPropShape,\r\n};\r\n\r\nconst StyledHeader = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n\r\n  span[role='button'] {\r\n    display: flex;\r\n    height: 100%;\r\n  }\r\n\r\n  .title-panel {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .right-button-panel {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    > .btn-group {\r\n      flex: 0 0 auto;\r\n      margin-left: ${({ theme }) => theme.gridUnit}px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst StyledButtons = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport class ExploreChartHeader extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isPropertiesModalOpen: false,\r\n    };\r\n    this.openPropertiesModal = this.openPropertiesModal.bind(this);\r\n    this.closePropertiesModal = this.closePropertiesModal.bind(this);\r\n  }\r\n\r\n  getSliceName() {\r\n    return this.props.sliceName || t('%s - untitled', this.props.table_name);\r\n  }\r\n\r\n  postChartFormData() {\r\n    this.props.actions.postChartFormData(\r\n      this.props.form_data,\r\n      true,\r\n      this.props.timeout,\r\n      this.props.chart.id,\r\n      this.props.ownState,\r\n    );\r\n  }\r\n\r\n  openPropertiesModal() {\r\n    this.setState({\r\n      isPropertiesModalOpen: true,\r\n    });\r\n  }\r\n\r\n  closePropertiesModal() {\r\n    this.setState({\r\n      isPropertiesModalOpen: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const formData = this.props.form_data;\r\n    const {\r\n      chartStatus,\r\n      chartUpdateEndTime,\r\n      chartUpdateStartTime,\r\n      latestQueryFormData,\r\n      queriesResponse,\r\n    } = this.props.chart;\r\n    // TODO: when will get appropriate design for multi queries use all results and not first only\r\n    const queryResponse = queriesResponse?.[0];\r\n    const chartFinished = ['failed', 'rendered', 'success'].includes(\r\n      this.props.chart.chartStatus,\r\n    );\r\n    return (\r\n      <StyledHeader id=\"slice-header\" className=\"panel-title-large\">\r\n        <div className=\"title-panel\">\r\n          <EditableTitle\r\n            title={this.getSliceName()}\r\n            canEdit={!this.props.slice || this.props.can_overwrite}\r\n            onSaveTitle={this.props.actions.updateChartTitle}\r\n          />\r\n\r\n          {this.props.slice && (\r\n            <StyledButtons>\r\n              {this.props.userId && (\r\n                <FaveStar\r\n                  itemId={this.props.slice.slice_id}\r\n                  fetchFaveStar={this.props.actions.fetchFaveStar}\r\n                  saveFaveStar={this.props.actions.saveFaveStar}\r\n                  isStarred={this.props.isStarred}\r\n                  showTooltip\r\n                />\r\n              )}\r\n              <PropertiesModal\r\n                show={this.state.isPropertiesModalOpen}\r\n                onHide={this.closePropertiesModal}\r\n                onSave={this.props.sliceUpdated}\r\n                slice={this.props.slice}\r\n              />\r\n              <Tooltip\r\n                id=\"edit-desc-tooltip\"\r\n                title={t('Edit chart properties')}\r\n              >\r\n                <span\r\n                  role=\"button\"\r\n                  tabIndex={0}\r\n                  className=\"edit-desc-icon\"\r\n                  onClick={this.openPropertiesModal}\r\n                >\r\n                  <i className=\"fa fa-edit\" />\r\n                </span>\r\n              </Tooltip>\r\n              {this.props.chart.sliceFormData && (\r\n                <AlteredSliceTag\r\n                  className=\"altered\"\r\n                  origFormData={this.props.chart.sliceFormData}\r\n                  currentFormData={formData}\r\n                />\r\n              )}\r\n            </StyledButtons>\r\n          )}\r\n        </div>\r\n        <div className=\"right-button-panel\">\r\n          {chartFinished && queryResponse && (\r\n            <RowCountLabel\r\n              rowcount={Number(queryResponse.rowcount) || 0}\r\n              limit={Number(formData.row_limit) || 0}\r\n            />\r\n          )}\r\n          {chartFinished && queryResponse && queryResponse.is_cached && (\r\n            <CachedLabel\r\n              onClick={this.postChartFormData.bind(this)}\r\n              cachedTimestamp={queryResponse.cached_dttm}\r\n            />\r\n          )}\r\n          <Timer\r\n            startTime={chartUpdateStartTime}\r\n            endTime={chartUpdateEndTime}\r\n            isRunning={chartStatus === 'loading'}\r\n            status={CHART_STATUS_MAP[chartStatus]}\r\n          />\r\n          <ExploreActionButtons\r\n            actions={{\r\n              ...this.props.actions,\r\n              openPropertiesModal: this.openPropertiesModal,\r\n            }}\r\n            slice={this.props.slice}\r\n            canDownloadCSV={this.props.can_download}\r\n            chartStatus={chartStatus}\r\n            latestQueryFormData={latestQueryFormData}\r\n            queryResponse={queryResponse}\r\n          />\r\n        </div>\r\n      </StyledHeader>\r\n    );\r\n  }\r\n}\r\n\r\nExploreChartHeader.propTypes = propTypes;\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators({ sliceUpdated }, dispatch);\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(ExploreChartHeader);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Split from 'react-split';\r\nimport { styled, useTheme } from '@superset-ui/core';\r\nimport { useResizeDetector } from 'react-resize-detector';\r\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\r\nimport ChartContainer from 'src/chart/ChartContainer';\r\nimport {\r\n  getFromLocalStorage,\r\n  setInLocalStorage,\r\n} from 'src/utils/localStorageHelpers';\r\nimport ConnectedExploreChartHeader from './ExploreChartHeader';\r\nimport { DataTablesPane } from './DataTablesPane';\r\n\r\nconst propTypes = {\r\n  actions: PropTypes.object.isRequired,\r\n  addHistory: PropTypes.func,\r\n  onQuery: PropTypes.func,\r\n  can_overwrite: PropTypes.bool.isRequired,\r\n  can_download: PropTypes.bool.isRequired,\r\n  datasource: PropTypes.object,\r\n  column_formats: PropTypes.object,\r\n  containerId: PropTypes.string.isRequired,\r\n  height: PropTypes.string.isRequired,\r\n  width: PropTypes.string.isRequired,\r\n  isStarred: PropTypes.bool.isRequired,\r\n  slice: PropTypes.object,\r\n  sliceName: PropTypes.string,\r\n  table_name: PropTypes.string,\r\n  vizType: PropTypes.string.isRequired,\r\n  form_data: PropTypes.object,\r\n  ownState: PropTypes.object,\r\n  standalone: PropTypes.number,\r\n  timeout: PropTypes.number,\r\n  refreshOverlayVisible: PropTypes.bool,\r\n  chart: chartPropShape,\r\n  errorMessage: PropTypes.node,\r\n  triggerRender: PropTypes.bool,\r\n};\r\n\r\nconst GUTTER_SIZE_FACTOR = 1.25;\r\n\r\nconst CHART_PANEL_PADDING_HORIZ = 30;\r\nconst CHART_PANEL_PADDING_VERTICAL = 15;\r\nconst HEADER_PADDING = 15;\r\n\r\nconst STORAGE_KEYS = {\r\n  sizes: 'chart_split_sizes',\r\n};\r\n\r\nconst INITIAL_SIZES = [90, 10];\r\nconst MIN_SIZES = [300, 50];\r\nconst DEFAULT_SOUTH_PANE_HEIGHT_PERCENT = 40;\r\n\r\nconst Styles = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  align-content: stretch;\r\n  overflow: auto;\r\n  box-shadow: none;\r\n  height: 100%;\r\n\r\n  & > div:last-of-type {\r\n    flex-basis: 100%;\r\n  }\r\n\r\n  .gutter {\r\n    border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n    border-bottom: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n    width: ${({ theme }) => theme.gridUnit * 9}px;\r\n    margin: ${({ theme }) => theme.gridUnit * GUTTER_SIZE_FACTOR}px auto;\r\n  }\r\n\r\n  .gutter.gutter-vertical {\r\n    cursor: row-resize;\r\n  }\r\n\r\n  .ant-collapse {\r\n    .ant-tabs {\r\n      height: 100%;\r\n      .ant-tabs-nav {\r\n        padding-left: ${({ theme }) => theme.gridUnit * 5}px;\r\n        margin: 0;\r\n      }\r\n      .ant-tabs-content-holder {\r\n        overflow: hidden;\r\n        .ant-tabs-content {\r\n          height: 100%;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst ExploreChartPanel = props => {\r\n  const theme = useTheme();\r\n  const gutterMargin = theme.gridUnit * GUTTER_SIZE_FACTOR;\r\n  const gutterHeight = theme.gridUnit * GUTTER_SIZE_FACTOR;\r\n\r\n  const { height: hHeight, ref: headerRef } = useResizeDetector({\r\n    refreshMode: 'debounce',\r\n    refreshRate: 300,\r\n  });\r\n  const { width: chartPanelWidth, ref: chartPanelRef } = useResizeDetector({\r\n    refreshMode: 'debounce',\r\n    refreshRate: 300,\r\n  });\r\n  const [splitSizes, setSplitSizes] = useState(\r\n    getFromLocalStorage(STORAGE_KEYS.sizes, INITIAL_SIZES),\r\n  );\r\n\r\n  const calcSectionHeight = useCallback(\r\n    percent => {\r\n      let headerHeight;\r\n      if (props.standalone) {\r\n        headerHeight = 0;\r\n      } else if (hHeight) {\r\n        headerHeight = hHeight + HEADER_PADDING;\r\n      } else {\r\n        headerHeight = 50;\r\n      }\r\n      const containerHeight = parseInt(props.height, 10) - headerHeight;\r\n      return (\r\n        (containerHeight * percent) / 100 - (gutterHeight / 2 + gutterMargin)\r\n      );\r\n    },\r\n    [gutterHeight, gutterMargin, props.height, props.standalone, hHeight],\r\n  );\r\n\r\n  const [tableSectionHeight, setTableSectionHeight] = useState(\r\n    calcSectionHeight(INITIAL_SIZES[1]),\r\n  );\r\n\r\n  const recalcPanelSizes = useCallback(\r\n    ([, southPercent]) => {\r\n      setTableSectionHeight(calcSectionHeight(southPercent));\r\n    },\r\n    [calcSectionHeight],\r\n  );\r\n\r\n  useEffect(() => {\r\n    recalcPanelSizes(splitSizes);\r\n  }, [recalcPanelSizes, splitSizes]);\r\n\r\n  useEffect(() => {\r\n    setInLocalStorage(STORAGE_KEYS.sizes, splitSizes);\r\n  }, [splitSizes]);\r\n\r\n  const onDragEnd = sizes => {\r\n    setSplitSizes(sizes);\r\n  };\r\n\r\n  const onCollapseChange = openPanelName => {\r\n    let splitSizes;\r\n    if (!openPanelName) {\r\n      splitSizes = INITIAL_SIZES;\r\n    } else {\r\n      splitSizes = [\r\n        100 - DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\r\n        DEFAULT_SOUTH_PANE_HEIGHT_PERCENT,\r\n      ];\r\n    }\r\n    setSplitSizes(splitSizes);\r\n  };\r\n\r\n  const renderChart = useCallback(() => {\r\n    const { chart, vizType } = props;\r\n    const newHeight =\r\n      vizType === 'filter_box'\r\n        ? calcSectionHeight(100) - CHART_PANEL_PADDING_VERTICAL\r\n        : calcSectionHeight(splitSizes[0]) - CHART_PANEL_PADDING_VERTICAL;\r\n    const chartWidth = chartPanelWidth - CHART_PANEL_PADDING_HORIZ;\r\n    return (\r\n      chartWidth > 0 && (\r\n        <ChartContainer\r\n          width={Math.floor(chartWidth)}\r\n          height={newHeight}\r\n          ownState={props.ownState}\r\n          annotationData={chart.annotationData}\r\n          chartAlert={chart.chartAlert}\r\n          chartStackTrace={chart.chartStackTrace}\r\n          chartId={chart.id}\r\n          chartStatus={chart.chartStatus}\r\n          triggerRender={props.triggerRender}\r\n          datasource={props.datasource}\r\n          errorMessage={props.errorMessage}\r\n          formData={props.form_data}\r\n          onQuery={props.onQuery}\r\n          queriesResponse={chart.queriesResponse}\r\n          refreshOverlayVisible={props.refreshOverlayVisible}\r\n          setControlValue={props.actions.setControlValue}\r\n          timeout={props.timeout}\r\n          triggerQuery={chart.triggerQuery}\r\n          vizType={props.vizType}\r\n        />\r\n      )\r\n    );\r\n  }, [calcSectionHeight, chartPanelWidth, props, splitSizes]);\r\n\r\n  const panelBody = useMemo(\r\n    () => (\r\n      <div className=\"panel-body\" ref={chartPanelRef}>\r\n        {renderChart()}\r\n      </div>\r\n    ),\r\n    [chartPanelRef, renderChart],\r\n  );\r\n\r\n  const standaloneChartBody = useMemo(\r\n    () => <div ref={chartPanelRef}>{renderChart()}</div>,\r\n    [chartPanelRef, renderChart],\r\n  );\r\n\r\n  if (props.standalone) {\r\n    // dom manipulation hack to get rid of the boostrap theme's body background\r\n    const standaloneClass = 'background-transparent';\r\n    const bodyClasses = document.body.className.split(' ');\r\n    if (!bodyClasses.includes(standaloneClass)) {\r\n      document.body.className += ` ${standaloneClass}`;\r\n    }\r\n    return standaloneChartBody;\r\n  }\r\n\r\n  const header = (\r\n    <ConnectedExploreChartHeader\r\n      ownState={props.ownState}\r\n      actions={props.actions}\r\n      addHistory={props.addHistory}\r\n      can_overwrite={props.can_overwrite}\r\n      can_download={props.can_download}\r\n      isStarred={props.isStarred}\r\n      slice={props.slice}\r\n      sliceName={props.sliceName}\r\n      table_name={props.table_name}\r\n      form_data={props.form_data}\r\n      timeout={props.timeout}\r\n      chart={props.chart}\r\n      userId={props.userId}\r\n    />\r\n  );\r\n\r\n  const elementStyle = (dimension, elementSize, gutterSize) => ({\r\n    [dimension]: `calc(${elementSize}% - ${gutterSize + gutterMargin}px)`,\r\n  });\r\n\r\n  return (\r\n    <Styles className=\"panel panel-default chart-container\" ref={chartPanelRef}>\r\n      <div className=\"panel-heading\" ref={headerRef}>\r\n        {header}\r\n      </div>\r\n      {props.vizType === 'filter_box' ? (\r\n        panelBody\r\n      ) : (\r\n        <Split\r\n          sizes={splitSizes}\r\n          minSize={MIN_SIZES}\r\n          direction=\"vertical\"\r\n          gutterSize={gutterHeight}\r\n          onDragEnd={onDragEnd}\r\n          elementStyle={elementStyle}\r\n        >\r\n          {panelBody}\r\n          <DataTablesPane\r\n            ownState={props.ownState}\r\n            queryFormData={props.chart.latestQueryFormData}\r\n            tableSectionHeight={tableSectionHeight}\r\n            onCollapseChange={onCollapseChange}\r\n            chartStatus={props.chart.chartStatus}\r\n            errorMessage={props.errorMessage}\r\n          />\r\n        </Split>\r\n      )}\r\n    </Styles>\r\n  );\r\n};\r\n\r\nExploreChartPanel.propTypes = propTypes;\r\n\r\nexport default ExploreChartPanel;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint camelcase: 0 */\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { styled, t, css, useTheme } from '@superset-ui/core';\r\nimport { debounce } from 'lodash';\r\nimport { Resizable } from 're-resizable';\r\n\r\nimport { useDynamicPluginContext } from 'src/components/DynamicPlugins';\r\nimport { Global } from '@emotion/react';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport { usePrevious } from 'src/common/hooks/usePrevious';\r\nimport Icons from 'src/components/Icons';\r\nimport {\r\n  getFromLocalStorage,\r\n  setInLocalStorage,\r\n} from 'src/utils/localStorageHelpers';\r\nimport { URL_PARAMS } from 'src/constants';\r\nimport cx from 'classnames';\r\nimport * as chartActions from 'src/chart/chartAction';\r\nimport { fetchDatasourceMetadata } from 'src/dashboard/actions/datasources';\r\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\r\nimport { mergeExtraFormData } from 'src/dashboard/components/nativeFilters/utils';\r\nimport ExploreChartPanel from './ExploreChartPanel';\r\nimport ConnectedControlPanelsContainer from './ControlPanelsContainer';\r\nimport SaveModal from './SaveModal';\r\nimport QueryAndSaveBtns from './QueryAndSaveBtns';\r\nimport DataSourcePanel from './DatasourcePanel';\r\nimport { getExploreLongUrl } from '../exploreUtils';\r\nimport { areObjectsEqual } from '../../reduxUtils';\r\nimport { getFormDataFromControls } from '../controlUtils';\r\nimport * as exploreActions from '../actions/exploreActions';\r\nimport * as saveModalActions from '../actions/saveModalActions';\r\nimport * as logActions from '../../logger/actions';\r\nimport {\r\n  LOG_ACTIONS_MOUNT_EXPLORER,\r\n  LOG_ACTIONS_CHANGE_EXPLORE_CONTROLS,\r\n} from '../../logger/LogUtils';\r\n\r\nconst propTypes = {\r\n  ...ExploreChartPanel.propTypes,\r\n  height: PropTypes.string,\r\n  width: PropTypes.string,\r\n  actions: PropTypes.object.isRequired,\r\n  datasource_type: PropTypes.string.isRequired,\r\n  dashboardId: PropTypes.number,\r\n  isDatasourceMetaLoading: PropTypes.bool.isRequired,\r\n  chart: chartPropShape.isRequired,\r\n  slice: PropTypes.object,\r\n  sliceName: PropTypes.string,\r\n  controls: PropTypes.object.isRequired,\r\n  forcedHeight: PropTypes.string,\r\n  form_data: PropTypes.object.isRequired,\r\n  standalone: PropTypes.number.isRequired,\r\n  timeout: PropTypes.number,\r\n  impressionId: PropTypes.string,\r\n  vizType: PropTypes.string,\r\n};\r\n\r\nconst Styles = styled.div`\r\n  background: ${({ theme }) => theme.colors.grayscale.light5};\r\n  text-align: left;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: nowrap;\r\n  flex-basis: 100vh;\r\n  align-items: stretch;\r\n  border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n  .explore-column {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: ${({ theme }) => 2 * theme.gridUnit}px 0;\r\n    max-height: 100%;\r\n  }\r\n  .data-source-selection {\r\n    background-color: ${({ theme }) => theme.colors.grayscale.light4};\r\n    padding: ${({ theme }) => 2 * theme.gridUnit}px 0;\r\n    border-right: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n  }\r\n  .main-explore-content {\r\n    flex: 1;\r\n    min-width: ${({ theme }) => theme.gridUnit * 128}px;\r\n    border-left: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n    .panel {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  .controls-column {\r\n    align-self: flex-start;\r\n    padding: 0;\r\n  }\r\n  .title-container {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: row;\r\n    padding: 0 ${({ theme }) => 2 * theme.gridUnit}px;\r\n    justify-content: space-between;\r\n    .horizontal-text {\r\n      text-transform: uppercase;\r\n      color: ${({ theme }) => theme.colors.grayscale.light1};\r\n      font-size: ${({ theme }) => 4 * theme.typography.sizes.s};\r\n    }\r\n  }\r\n  .no-show {\r\n    display: none;\r\n  }\r\n  .vertical-text {\r\n    writing-mode: vertical-rl;\r\n    text-orientation: mixed;\r\n  }\r\n  .sidebar {\r\n    height: 100%;\r\n    background-color: ${({ theme }) => theme.colors.grayscale.light4};\r\n    padding: ${({ theme }) => 2 * theme.gridUnit}px;\r\n    width: ${({ theme }) => 8 * theme.gridUnit}px;\r\n  }\r\n  .callpase-icon > svg {\r\n    color: ${({ theme }) => theme.colors.primary.base};\r\n  }\r\n`;\r\n\r\nconst getWindowSize = () => ({\r\n  height: window.innerHeight,\r\n  width: window.innerWidth,\r\n});\r\n\r\nfunction useWindowSize({ delayMs = 250 } = {}) {\r\n  const [size, setSize] = useState(getWindowSize());\r\n\r\n  useEffect(() => {\r\n    const onWindowResize = debounce(() => setSize(getWindowSize()), delayMs);\r\n    window.addEventListener('resize', onWindowResize);\r\n    return () => window.removeEventListener('resize', onWindowResize);\r\n  }, []);\r\n\r\n  return size;\r\n}\r\n\r\nfunction ExploreViewContainer(props) {\r\n  const dynamicPluginContext = useDynamicPluginContext();\r\n  const dynamicPlugin = dynamicPluginContext.plugins[props.vizType];\r\n  const isDynamicPluginLoading = dynamicPlugin && dynamicPlugin.loading;\r\n  const wasDynamicPluginLoading = usePrevious(isDynamicPluginLoading);\r\n\r\n  const previousControls = usePrevious(props.controls);\r\n  const windowSize = useWindowSize();\r\n\r\n  const [showingModal, setShowingModal] = useState(false);\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n\r\n  const theme = useTheme();\r\n  const width = `${windowSize.width}px`;\r\n  const navHeight = props.standalone ? 0 : 90;\r\n  const height = props.forcedHeight\r\n    ? `${props.forcedHeight}px`\r\n    : `${windowSize.height - navHeight}px`;\r\n\r\n  const storageKeys = {\r\n    controlsWidth: 'controls_width',\r\n    dataSourceWidth: 'datasource_width',\r\n  };\r\n\r\n  const defaultSidebarsWidth = {\r\n    controls_width: 320,\r\n    datasource_width: 300,\r\n  };\r\n\r\n  function addHistory({ isReplace = false, title } = {}) {\r\n    const payload = { ...props.form_data };\r\n    const longUrl = getExploreLongUrl(\r\n      props.form_data,\r\n      props.standalone ? URL_PARAMS.standalone.name : null,\r\n      false,\r\n    );\r\n    try {\r\n      if (isReplace) {\r\n        window.history.replaceState(payload, title, longUrl);\r\n      } else {\r\n        window.history.pushState(payload, title, longUrl);\r\n      }\r\n    } catch (e) {\r\n      // eslint-disable-next-line no-console\r\n      console.warn(\r\n        'Failed at altering browser history',\r\n        payload,\r\n        title,\r\n        longUrl,\r\n      );\r\n    }\r\n  }\r\n\r\n  function handlePopstate() {\r\n    const formData = window.history.state;\r\n    if (formData && Object.keys(formData).length) {\r\n      props.actions.setExploreControls(formData);\r\n      props.actions.postChartFormData(\r\n        formData,\r\n        false,\r\n        props.timeout,\r\n        props.chart.id,\r\n      );\r\n    }\r\n  }\r\n\r\n  function onQuery() {\r\n    props.actions.triggerQuery(true, props.chart.id);\r\n    addHistory();\r\n  }\r\n\r\n  function handleKeydown(event) {\r\n    const controlOrCommand = event.ctrlKey || event.metaKey;\r\n    if (controlOrCommand) {\r\n      const isEnter = event.key === 'Enter' || event.keyCode === 13;\r\n      const isS = event.key === 's' || event.keyCode === 83;\r\n      if (isEnter) {\r\n        onQuery();\r\n      } else if (isS) {\r\n        if (props.slice) {\r\n          props.actions\r\n            .saveSlice(props.form_data, {\r\n              action: 'overwrite',\r\n              slice_id: props.slice.slice_id,\r\n              slice_name: props.slice.slice_name,\r\n              add_to_dash: 'noSave',\r\n              goto_dash: false,\r\n            })\r\n            .then(({ data }) => {\r\n              window.location = data.slice.slice_url;\r\n            });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function onStop() {\r\n    if (props.chart && props.chart.queryController) {\r\n      props.chart.queryController.abort();\r\n    }\r\n  }\r\n\r\n  function toggleModal() {\r\n    setShowingModal(!showingModal);\r\n  }\r\n\r\n  function toggleCollapse() {\r\n    setIsCollapsed(!isCollapsed);\r\n  }\r\n\r\n  // effect to run on mount\r\n  useEffect(() => {\r\n    props.actions.logEvent(LOG_ACTIONS_MOUNT_EXPLORER);\r\n    addHistory({ isReplace: true });\r\n    window.addEventListener('popstate', handlePopstate);\r\n    document.addEventListener('keydown', handleKeydown);\r\n    return () => {\r\n      window.removeEventListener('popstate', handlePopstate);\r\n      document.removeEventListener('keydown', handleKeydown);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (wasDynamicPluginLoading && !isDynamicPluginLoading) {\r\n      // reload the controls now that we actually have the control config\r\n      props.actions.dynamicPluginControlsReady();\r\n    }\r\n  }, [isDynamicPluginLoading]);\r\n\r\n  useEffect(() => {\r\n    const hasError = Object.values(props.controls).some(\r\n      control =>\r\n        control.validationErrors && control.validationErrors.length > 0,\r\n    );\r\n    if (!hasError) {\r\n      props.actions.triggerQuery(true, props.chart.id);\r\n    }\r\n  }, []);\r\n\r\n  const reRenderChart = () => {\r\n    props.actions.updateQueryFormData(\r\n      getFormDataFromControls(props.controls),\r\n      props.chart.id,\r\n    );\r\n    props.actions.renderTriggered(new Date().getTime(), props.chart.id);\r\n    addHistory();\r\n  };\r\n\r\n  // effect to run when controls change\r\n  useEffect(() => {\r\n    if (previousControls) {\r\n      if (\r\n        props.controls.datasource &&\r\n        (previousControls.datasource == null ||\r\n          props.controls.datasource.value !== previousControls.datasource.value)\r\n      ) {\r\n        // this should really be handled by actions\r\n        fetchDatasourceMetadata(props.form_data.datasource, true);\r\n      }\r\n\r\n      const changedControlKeys = Object.keys(props.controls).filter(\r\n        key =>\r\n          typeof previousControls[key] !== 'undefined' &&\r\n          !areObjectsEqual(\r\n            props.controls[key].value,\r\n            previousControls[key].value,\r\n          ),\r\n      );\r\n\r\n      // this should also be handled by the actions that are actually changing the controls\r\n      const hasDisplayControlChanged = changedControlKeys.some(\r\n        key => props.controls[key].renderTrigger,\r\n      );\r\n      if (hasDisplayControlChanged) {\r\n        reRenderChart();\r\n      }\r\n    }\r\n  }, [props.controls, props.ownState]);\r\n\r\n  const chartIsStale = useMemo(() => {\r\n    if (previousControls) {\r\n      const changedControlKeys = Object.keys(props.controls).filter(\r\n        key =>\r\n          typeof previousControls[key] !== 'undefined' &&\r\n          !areObjectsEqual(\r\n            props.controls[key].value,\r\n            previousControls[key].value,\r\n          ),\r\n      );\r\n\r\n      return changedControlKeys.some(\r\n        key =>\r\n          !props.controls[key].renderTrigger &&\r\n          !props.controls[key].dontRefreshOnChange,\r\n      );\r\n    }\r\n    return false;\r\n  }, [previousControls, props.controls]);\r\n\r\n  useEffect(() => {\r\n    if (props.ownState !== undefined) {\r\n      onQuery();\r\n      reRenderChart();\r\n    }\r\n  }, [props.ownState]);\r\n\r\n  if (chartIsStale) {\r\n    props.actions.logEvent(LOG_ACTIONS_CHANGE_EXPLORE_CONTROLS);\r\n  }\r\n\r\n  function renderErrorMessage() {\r\n    // Returns an error message as a node if any errors are in the store\r\n    const controlsWithErrors = Object.values(props.controls).filter(\r\n      control =>\r\n        control.validationErrors && control.validationErrors.length > 0,\r\n    );\r\n    if (controlsWithErrors.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    const errorMessages = controlsWithErrors.map(\r\n      control => control.validationErrors,\r\n    );\r\n    const uniqueErrorMessages = [...new Set(errorMessages.flat())];\r\n\r\n    const errors = uniqueErrorMessages\r\n      .map(message => {\r\n        const matchingLabels = controlsWithErrors\r\n          .filter(control => control.validationErrors?.includes(message))\r\n          .map(control => control.label);\r\n        return [matchingLabels, message];\r\n      })\r\n      .map(([labels, message]) => (\r\n        <div key={message}>\r\n          {labels.length > 1 ? t('Controls labeled ') : t('Control labeled ')}\r\n          <strong>{` ${labels.join(', ')}`}</strong>\r\n          <span>: {message}</span>\r\n        </div>\r\n      ));\r\n\r\n    let errorMessage;\r\n    if (errors.length > 0) {\r\n      errorMessage = <div style={{ textAlign: 'left' }}>{errors}</div>;\r\n    }\r\n    return errorMessage;\r\n  }\r\n\r\n  function renderChartContainer() {\r\n    return (\r\n      <ExploreChartPanel\r\n        width={width}\r\n        height={height}\r\n        {...props}\r\n        errorMessage={renderErrorMessage()}\r\n        refreshOverlayVisible={chartIsStale}\r\n        addHistory={addHistory}\r\n        onQuery={onQuery}\r\n      />\r\n    );\r\n  }\r\n\r\n  function getSidebarWidths(key) {\r\n    return getFromLocalStorage(key, defaultSidebarsWidth[key]);\r\n  }\r\n\r\n  function setSidebarWidths(key, dimension) {\r\n    const newDimension = Number(getSidebarWidths(key)) + dimension.width;\r\n    setInLocalStorage(key, newDimension);\r\n  }\r\n\r\n  if (props.standalone) {\r\n    return renderChartContainer();\r\n  }\r\n\r\n  return (\r\n    <Styles id=\"explore-container\" height={height}>\r\n      <Global\r\n        styles={css`\r\n          .navbar {\r\n            margin-bottom: 0;\r\n          }\r\n          body {\r\n            max-height: 100vh;\r\n            overflow: hidden;\r\n          }\r\n          #app-menu,\r\n          #app {\r\n            flex: 1 1 auto;\r\n          }\r\n          #app {\r\n            flex-basis: 100%;\r\n            overflow: hidden;\r\n            height: 100vh;\r\n          }\r\n          #app-menu {\r\n            flex-shrink: 0;\r\n          }\r\n        `}\r\n      />\r\n      {showingModal && (\r\n        <SaveModal\r\n          onHide={toggleModal}\r\n          actions={props.actions}\r\n          form_data={props.form_data}\r\n          sliceName={props.sliceName}\r\n          dashboardId={props.dashboardId}\r\n        />\r\n      )}\r\n      <Resizable\r\n        onResizeStop={(evt, direction, ref, d) =>\r\n          setSidebarWidths(storageKeys.dataSourceWidth, d)\r\n        }\r\n        defaultSize={{\r\n          width: getSidebarWidths(storageKeys.dataSourceWidth),\r\n          height: '100%',\r\n        }}\r\n        minWidth={defaultSidebarsWidth[storageKeys.dataSourceWidth]}\r\n        maxWidth=\"33%\"\r\n        enable={{ right: true }}\r\n        className={\r\n          isCollapsed ? 'no-show' : 'explore-column data-source-selection'\r\n        }\r\n      >\r\n        <div className=\"title-container\">\r\n          <span className=\"horizont al-text\">{t('Dataset')}</span>\r\n          <span\r\n            role=\"button\"\r\n            tabIndex={0}\r\n            className=\"action-button\"\r\n            onClick={toggleCollapse}\r\n          >\r\n            <Icons.Expand\r\n              className=\"collapse-icon\"\r\n              iconColor={theme.colors.primary.base}\r\n              iconSize=\"l\"\r\n            />\r\n          </span>\r\n        </div>\r\n        <DataSourcePanel\r\n          datasource={props.datasource}\r\n          controls={props.controls}\r\n          actions={props.actions}\r\n        />\r\n      </Resizable>\r\n      {isCollapsed ? (\r\n        <div\r\n          className=\"sidebar\"\r\n          onClick={toggleCollapse}\r\n          data-test=\"open-datasource-tab\"\r\n          role=\"button\"\r\n          tabIndex={0}\r\n        >\r\n          <span role=\"button\" tabIndex={0} className=\"action-button\">\r\n            <Tooltip title={t('Open Datasource tab')}>\r\n              <Icons.Collapse\r\n                className=\"collapse-icon\"\r\n                iconColor={theme.colors.primary.base}\r\n                iconSize=\"l\"\r\n              />\r\n            </Tooltip>\r\n          </span>\r\n          <Icons.DatasetPhysical\r\n            css={{ marginTop: theme.gridUnit * 2 }}\r\n            iconSize=\"l\"\r\n            iconColor={theme.colors.grayscale.base}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      <Resizable\r\n        onResizeStop={(evt, direction, ref, d) =>\r\n          setSidebarWidths(storageKeys.controlsWidth, d)\r\n        }\r\n        defaultSize={{\r\n          width: getSidebarWidths(storageKeys.controlsWidth),\r\n          height: '100%',\r\n        }}\r\n        minWidth={defaultSidebarsWidth[storageKeys.controlsWidth]}\r\n        maxWidth=\"33%\"\r\n        enable={{ right: true }}\r\n        className=\"col-sm-3 explore-column controls-column\"\r\n      >\r\n        <QueryAndSaveBtns\r\n          canAdd={!!(props.can_add || props.can_overwrite)}\r\n          onQuery={onQuery}\r\n          onSave={toggleModal}\r\n          onStop={onStop}\r\n          loading={props.chart.chartStatus === 'loading'}\r\n          chartIsStale={chartIsStale}\r\n          errorMessage={renderErrorMessage()}\r\n          datasourceType={props.datasource_type}\r\n        />\r\n        <ConnectedControlPanelsContainer\r\n          actions={props.actions}\r\n          form_data={props.form_data}\r\n          controls={props.controls}\r\n          datasource_type={props.datasource_type}\r\n          isDatasourceMetaLoading={props.isDatasourceMetaLoading}\r\n        />\r\n      </Resizable>\r\n      <div\r\n        className={cx(\r\n          'main-explore-content',\r\n          isCollapsed ? 'col-sm-9' : 'col-sm-7',\r\n        )}\r\n      >\r\n        {renderChartContainer()}\r\n      </div>\r\n    </Styles>\r\n  );\r\n}\r\n\r\nExploreViewContainer.propTypes = propTypes;\r\n\r\nfunction mapStateToProps(state) {\r\n  const { explore, charts, impressionId, dataMask } = state;\r\n  const form_data = getFormDataFromControls(explore.controls);\r\n  form_data.extra_form_data = mergeExtraFormData(\r\n    { ...form_data.extra_form_data },\r\n    {\r\n      ...dataMask[form_data.slice_id ?? 0]?.ownState, // 0 - unsaved chart\r\n    },\r\n  );\r\n  const chartKey = Object.keys(charts)[0];\r\n  const chart = charts[chartKey];\r\n  return {\r\n    isDatasourceMetaLoading: explore.isDatasourceMetaLoading,\r\n    datasource: explore.datasource,\r\n    datasource_type: explore.datasource.type,\r\n    datasourceId: explore.datasource_id,\r\n    dashboardId: explore.form_data ? explore.form_data.dashboardId : undefined,\r\n    controls: explore.controls,\r\n    can_overwrite: !!explore.can_overwrite,\r\n    can_add: !!explore.can_add,\r\n    can_download: !!explore.can_download,\r\n    column_formats: explore.datasource\r\n      ? explore.datasource.column_formats\r\n      : null,\r\n    containerId: explore.slice\r\n      ? `slice-container-${explore.slice.slice_id}`\r\n      : 'slice-container',\r\n    isStarred: explore.isStarred,\r\n    slice: explore.slice,\r\n    sliceName: explore.sliceName,\r\n    triggerRender: explore.triggerRender,\r\n    form_data,\r\n    table_name: form_data.datasource_name,\r\n    vizType: form_data.viz_type,\r\n    standalone: explore.standalone,\r\n    forcedHeight: explore.forced_height,\r\n    chart,\r\n    timeout: explore.common.conf.SUPERSET_WEBSERVER_TIMEOUT,\r\n    ownState: dataMask[form_data.slice_id ?? 0]?.ownState, // 0 - unsaved chart\r\n    impressionId,\r\n    userId: explore.user_id,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  const actions = {\r\n    ...exploreActions,\r\n    ...saveModalActions,\r\n    ...chartActions,\r\n    ...logActions,\r\n  };\r\n  return {\r\n    actions: bindActionCreators(actions, dispatch),\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(ExploreViewContainer);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport Modal from 'src/components/Modal';\r\nimport { Row, Col, Input, TextArea } from 'src/common/components';\r\nimport Button from 'src/components/Button';\r\nimport { OptionsType } from 'react-select/src/types';\r\nimport { AsyncSelect } from 'src/components/Select';\r\nimport rison from 'rison';\r\nimport { t, SupersetClient } from '@superset-ui/core';\r\nimport Chart, { Slice } from 'src/types/Chart';\r\nimport { Form, FormItem } from 'src/components/Form';\r\nimport { getClientErrorObject } from 'src/utils/getClientErrorObject';\r\n\r\ntype PropertiesModalProps = {\r\n  slice: Slice;\r\n  show: boolean;\r\n  onHide: () => void;\r\n  onSave: (chart: Chart) => void;\r\n};\r\n\r\ntype OwnerOption = {\r\n  label: string;\r\n  value: number;\r\n};\r\n\r\nexport default function PropertiesModal({\r\n  slice,\r\n  onHide,\r\n  onSave,\r\n  show,\r\n}: PropertiesModalProps) {\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  // values of form inputs\r\n  const [name, setName] = useState(slice.slice_name || '');\r\n  const [description, setDescription] = useState(slice.description || '');\r\n  const [cacheTimeout, setCacheTimeout] = useState(\r\n    slice.cache_timeout != null ? slice.cache_timeout : '',\r\n  );\r\n  const [owners, setOwners] = useState<OptionsType<OwnerOption> | null>(null);\r\n\r\n  function showError({ error, statusText, message }: any) {\r\n    let errorText = error || statusText || t('An error has occurred');\r\n    if (message === 'Forbidden') {\r\n      errorText = t('You do not have permission to edit this chart');\r\n    }\r\n    Modal.error({\r\n      title: 'Error',\r\n      content: errorText,\r\n      okButtonProps: { danger: true, className: 'btn-danger' },\r\n    });\r\n  }\r\n\r\n  const fetchChartData = useCallback(\r\n    async function fetchChartData() {\r\n      try {\r\n        const response = await SupersetClient.get({\r\n          endpoint: `/api/v1/chart/${slice.slice_id}`,\r\n        });\r\n        const chart = response.json.result;\r\n        setOwners(\r\n          chart.owners.map((owner: any) => ({\r\n            value: owner.id,\r\n            label: `${owner.first_name} ${owner.last_name}`,\r\n          })),\r\n        );\r\n      } catch (response) {\r\n        const clientError = await getClientErrorObject(response);\r\n        showError(clientError);\r\n      }\r\n    },\r\n    [slice.slice_id],\r\n  );\r\n\r\n  // get the owners of this slice\r\n  useEffect(() => {\r\n    fetchChartData();\r\n  }, [fetchChartData]);\r\n\r\n  // update name after it's changed in another modal\r\n  useEffect(() => {\r\n    setName(slice.slice_name || '');\r\n  }, [slice.slice_name]);\r\n\r\n  const loadOptions = (input = '') => {\r\n    const query = rison.encode({\r\n      filter: input,\r\n    });\r\n    return SupersetClient.get({\r\n      endpoint: `/api/v1/chart/related/owners?q=${query}`,\r\n    }).then(\r\n      response => {\r\n        const { result } = response.json;\r\n        return result.map((item: any) => ({\r\n          value: item.value,\r\n          label: item.text,\r\n        }));\r\n      },\r\n      badResponse => {\r\n        getClientErrorObject(badResponse).then(showError);\r\n        return [];\r\n      },\r\n    );\r\n  };\r\n\r\n  const onSubmit = async (event: React.FormEvent) => {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    setSubmitting(true);\r\n    const payload: { [key: string]: any } = {\r\n      slice_name: name || null,\r\n      description: description || null,\r\n      cache_timeout: cacheTimeout || null,\r\n    };\r\n    if (owners) {\r\n      payload.owners = owners.map(o => o.value);\r\n    }\r\n    try {\r\n      const res = await SupersetClient.put({\r\n        endpoint: `/api/v1/chart/${slice.slice_id}`,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      // update the redux state\r\n      const updatedChart = {\r\n        ...res.json.result,\r\n        id: slice.slice_id,\r\n      };\r\n      onSave(updatedChart);\r\n      onHide();\r\n    } catch (res) {\r\n      const clientError = await getClientErrorObject(res);\r\n      showError(clientError);\r\n    }\r\n    setSubmitting(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      title=\"Edit Chart Properties\"\r\n      footer={\r\n        <>\r\n          <Button\r\n            data-test=\"properties-modal-cancel-button\"\r\n            htmlType=\"button\"\r\n            buttonSize=\"small\"\r\n            onClick={onHide}\r\n            cta\r\n          >\r\n            {t('Cancel')}\r\n          </Button>\r\n          <Button\r\n            data-test=\"properties-modal-save-button\"\r\n            htmlType=\"button\"\r\n            buttonSize=\"small\"\r\n            buttonStyle=\"primary\"\r\n            // @ts-ignore\r\n            onClick={onSubmit}\r\n            disabled={!owners || submitting || !name}\r\n            cta\r\n          >\r\n            {t('Save')}\r\n          </Button>\r\n        </>\r\n      }\r\n      responsive\r\n      wrapProps={{ 'data-test': 'properties-edit-modal' }}\r\n    >\r\n      <Form onFinish={onSubmit} layout=\"vertical\">\r\n        <Row gutter={16}>\r\n          <Col xs={24} md={12}>\r\n            <h3>{t('Basic information')}</h3>\r\n            <FormItem label={t('Name')} required>\r\n              <Input\r\n                name=\"name\"\r\n                data-test=\"properties-modal-name-input\"\r\n                type=\"text\"\r\n                value={name}\r\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\r\n                  setName(event.target.value ?? '')\r\n                }\r\n              />\r\n            </FormItem>\r\n            <FormItem label={t('Description')}>\r\n              <TextArea\r\n                rows={3}\r\n                name=\"description\"\r\n                value={description}\r\n                onChange={(event: React.ChangeEvent<HTMLTextAreaElement>) =>\r\n                  setDescription(event.target.value ?? '')\r\n                }\r\n                style={{ maxWidth: '100%' }}\r\n              />\r\n              <p className=\"help-block\">\r\n                {t(\r\n                  'The description can be displayed as widget headers in the dashboard view. Supports markdown.',\r\n                )}\r\n              </p>\r\n            </FormItem>\r\n          </Col>\r\n          <Col xs={24} md={12}>\r\n            <h3>{t('Configuration')}</h3>\r\n            <FormItem label={t('Cache timeout')}>\r\n              <Input\r\n                name=\"cacheTimeout\"\r\n                type=\"text\"\r\n                value={cacheTimeout}\r\n                onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\r\n                  const targetValue = event.target.value ?? '';\r\n                  setCacheTimeout(targetValue.replace(/[^0-9]/, ''));\r\n                }}\r\n              />\r\n              <p className=\"help-block\">\r\n                {t(\r\n                  \"Duration (in seconds) of the caching timeout for this chart. Note this defaults to the dataset's timeout if undefined.\",\r\n                )}\r\n              </p>\r\n            </FormItem>\r\n            <h3 style={{ marginTop: '1em' }}>{t('Access')}</h3>\r\n            <FormItem label={t('Owners')}>\r\n              <AsyncSelect\r\n                isMulti\r\n                name=\"owners\"\r\n                value={owners || []}\r\n                loadOptions={loadOptions}\r\n                defaultOptions // load options on render\r\n                cacheOptions\r\n                onChange={setOwners}\r\n                disabled={!owners}\r\n                filterOption={null} // options are filtered at the api\r\n              />\r\n              <p className=\"help-block\">\r\n                {t(\r\n                  'A list of users who can alter the chart. Searchable by name or username.',\r\n                )}\r\n              </p>\r\n            </FormItem>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ButtonGroup from 'src/components/ButtonGroup';\r\nimport { t, useTheme } from '@superset-ui/core';\r\n\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport Button from 'src/components/Button';\r\n\r\nconst propTypes = {\r\n  canAdd: PropTypes.bool.isRequired,\r\n  onQuery: PropTypes.func.isRequired,\r\n  onSave: PropTypes.func,\r\n  onStop: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n  chartIsStale: PropTypes.bool,\r\n  errorMessage: PropTypes.node,\r\n};\r\n\r\nconst defaultProps = {\r\n  onStop: () => {},\r\n  onSave: () => {},\r\n};\r\n\r\nexport default function QueryAndSaveBtns({\r\n  canAdd,\r\n  onQuery,\r\n  onSave,\r\n  onStop,\r\n  loading,\r\n  chartIsStale,\r\n  errorMessage,\r\n}) {\r\n  let qryButtonStyle = 'tertiary';\r\n  if (errorMessage) {\r\n    qryButtonStyle = 'danger';\r\n  } else if (chartIsStale) {\r\n    qryButtonStyle = 'primary';\r\n  }\r\n\r\n  const saveButtonDisabled = errorMessage ? true : loading;\r\n  const qryOrStopButton = loading ? (\r\n    <Button\r\n      onClick={onStop}\r\n      buttonStyle=\"warning\"\r\n      buttonSize=\"small\"\r\n      disabled={!canAdd}\r\n    >\r\n      <i className=\"fa fa-stop-circle-o\" /> {t('Stop')}\r\n    </Button>\r\n  ) : (\r\n    <Button\r\n      buttonSize=\"small\"\r\n      onClick={onQuery}\r\n      buttonStyle={qryButtonStyle}\r\n      disabled={!!errorMessage}\r\n      data-test=\"run-query-button\"\r\n    >\r\n      <i className=\"fa fa-bolt\" /> {t('Run')}\r\n    </Button>\r\n  );\r\n\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <div\r\n      css={{\r\n        display: 'flex',\r\n        flexShrink: 0,\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        paddingTop: theme.gridUnit * 2,\r\n        paddingRight: theme.gridUnit * 2,\r\n        paddingBottom: 0,\r\n        paddingLeft: theme.gridUnit * 4,\r\n        '& button': {\r\n          width: 100,\r\n        },\r\n        '.errMsg': {\r\n          marginLeft: theme.gridUnit * 4,\r\n        },\r\n      }}\r\n    >\r\n      <ButtonGroup className=\"query-and-save\">\r\n        {qryOrStopButton}\r\n        <Button\r\n          buttonStyle=\"tertiary\"\r\n          buttonSize=\"small\"\r\n          data-target=\"#save_modal\"\r\n          data-toggle=\"modal\"\r\n          disabled={saveButtonDisabled}\r\n          onClick={onSave}\r\n          data-test=\"query-save-button\"\r\n        >\r\n          <i className=\"fa fa-plus-circle\" /> {t('Save')}\r\n        </Button>\r\n      </ButtonGroup>\r\n      {errorMessage && (\r\n        <span className=\"errMsg\">\r\n          {' '}\r\n          <Tooltip\r\n            id=\"query-error-tooltip\"\r\n            placement=\"right\"\r\n            title={errorMessage}\r\n          >\r\n            <i className=\"fa fa-exclamation-circle text-danger fa-lg\" />\r\n          </Tooltip>\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nQueryAndSaveBtns.propTypes = propTypes;\r\nQueryAndSaveBtns.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { getNumberFormatter, t } from '@superset-ui/core';\r\n\r\nimport Label from 'src/components/Label';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\n\r\nconst propTypes = {\r\n  rowcount: PropTypes.number,\r\n  limit: PropTypes.number,\r\n  rows: PropTypes.string,\r\n  suffix: PropTypes.string,\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nconst defaultProps = {\r\n  suffix: t('rows'),\r\n};\r\n\r\nexport default function RowCountLabel({ rowcount, limit, suffix, loading }) {\r\n  const limitReached = rowcount === limit;\r\n  const type =\r\n    limitReached || (rowcount === 0 && !loading) ? 'danger' : 'default';\r\n  const formattedRowCount = getNumberFormatter()(rowcount);\r\n  const tooltip = (\r\n    <span>\r\n      {limitReached && <div>{t('Limit reached')}</div>}\r\n      {loading ? 'Loading' : rowcount}\r\n    </span>\r\n  );\r\n  return (\r\n    <Tooltip id=\"tt-rowcount-tooltip\" title={tooltip}>\r\n      <Label type={type} data-test=\"row-count-label\">\r\n        {loading ? 'Loading...' : `${formattedRowCount} ${suffix}`}\r\n      </Label>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nRowCountLabel.propTypes = propTypes;\r\nRowCountLabel.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint camelcase: 0 */\r\nimport React from 'react';\r\nimport { Input } from 'src/common/components';\r\nimport { Form, FormItem } from 'src/components/Form';\r\nimport Alert from 'src/components/Alert';\r\nimport { JsonObject, t, styled } from '@superset-ui/core';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport Modal from 'src/components/Modal';\r\nimport { Radio } from 'src/components/Radio';\r\nimport Button from 'src/components/Button';\r\nimport { CreatableSelect } from 'src/components/Select';\r\nimport { connect } from 'react-redux';\r\n\r\n// Session storage key for recent dashboard\r\nconst SK_DASHBOARD_ID = 'save_chart_recent_dashboard';\r\nconst SELECT_PLACEHOLDER = t('**Select** a dashboard OR **create** a new one');\r\n\r\ntype SaveModalProps = {\r\n  can_overwrite?: boolean;\r\n  onHide: () => void;\r\n  actions: Record<string, any>;\r\n  form_data?: Record<string, any>;\r\n  userId: string;\r\n  dashboards: Array<any>;\r\n  alert?: string;\r\n  sliceName?: string;\r\n  slice?: Record<string, any>;\r\n  datasource?: Record<string, any>;\r\n  dashboardId: '' | number | null;\r\n};\r\n\r\ntype ActionType = 'overwrite' | 'saveas';\r\n\r\ntype SaveModalState = {\r\n  saveToDashboardId: number | string | null;\r\n  newSliceName?: string;\r\n  newDashboardName?: string;\r\n  alert: string | null;\r\n  action: ActionType;\r\n};\r\n\r\nexport const StyledModal = styled(Modal)`\r\n  .ant-modal-body {\r\n    overflow: visible;\r\n  }\r\n`;\r\n\r\nclass SaveModal extends React.Component<SaveModalProps, SaveModalState> {\r\n  constructor(props: SaveModalProps) {\r\n    super(props);\r\n    this.state = {\r\n      saveToDashboardId: null,\r\n      newSliceName: props.sliceName,\r\n      alert: null,\r\n      action: props.can_overwrite ? 'overwrite' : 'saveas',\r\n    };\r\n    this.onDashboardSelectChange = this.onDashboardSelectChange.bind(this);\r\n    this.onSliceNameChange = this.onSliceNameChange.bind(this);\r\n    this.changeAction = this.changeAction.bind(this);\r\n    this.saveOrOverwrite = this.saveOrOverwrite.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.actions.fetchDashboards(this.props.userId).then(() => {\r\n      const dashboardIds = this.props.dashboards.map(\r\n        dashboard => dashboard.value,\r\n      );\r\n      const lastDashboard = sessionStorage.getItem(SK_DASHBOARD_ID);\r\n      let recentDashboard = lastDashboard && parseInt(lastDashboard, 10);\r\n\r\n      if (!recentDashboard && this.props.dashboardId) {\r\n        recentDashboard = this.props.dashboardId;\r\n      }\r\n\r\n      if (\r\n        recentDashboard !== null &&\r\n        dashboardIds.indexOf(recentDashboard) !== -1\r\n      ) {\r\n        this.setState({\r\n          saveToDashboardId: recentDashboard,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  onSliceNameChange(event: React.ChangeEvent<HTMLInputElement>) {\r\n    this.setState({ newSliceName: event.target.value });\r\n  }\r\n\r\n  onDashboardSelectChange(event: Record<string, any>) {\r\n    const newDashboardName = event ? event.label : null;\r\n    const saveToDashboardId =\r\n      event && typeof event.value === 'number' ? event.value : null;\r\n    this.setState({ saveToDashboardId, newDashboardName });\r\n  }\r\n\r\n  changeAction(action: ActionType) {\r\n    this.setState({ action });\r\n  }\r\n\r\n  saveOrOverwrite(gotodash: boolean) {\r\n    this.setState({ alert: null });\r\n    this.props.actions.removeSaveModalAlert();\r\n    const sliceParams: Record<string, any> = {};\r\n\r\n    if (this.props.slice && this.props.slice.slice_id) {\r\n      sliceParams.slice_id = this.props.slice.slice_id;\r\n    }\r\n    if (sliceParams.action === 'saveas') {\r\n      if (this.state.newSliceName === '') {\r\n        this.setState({ alert: t('Please enter a chart name') });\r\n        return;\r\n      }\r\n    }\r\n    sliceParams.action = this.state.action;\r\n    sliceParams.slice_name = this.state.newSliceName;\r\n    sliceParams.save_to_dashboard_id = this.state.saveToDashboardId;\r\n    sliceParams.new_dashboard_name = this.state.newDashboardName;\r\n\r\n    this.props.actions\r\n      .saveSlice(this.props.form_data, sliceParams)\r\n      .then((data: JsonObject) => {\r\n        if (data.dashboard_id === null) {\r\n          sessionStorage.removeItem(SK_DASHBOARD_ID);\r\n        } else {\r\n          sessionStorage.setItem(SK_DASHBOARD_ID, data.dashboard_id);\r\n        }\r\n        // Go to new slice url or dashboard url\r\n        const url = gotodash ? data.dashboard_url : data.slice.slice_url;\r\n        window.location.assign(url);\r\n      });\r\n    this.props.onHide();\r\n  }\r\n\r\n  removeAlert() {\r\n    if (this.props.alert) {\r\n      this.props.actions.removeSaveModalAlert();\r\n    }\r\n    this.setState({ alert: null });\r\n  }\r\n\r\n  render() {\r\n    const dashboardSelectValue =\r\n      this.state.saveToDashboardId || this.state.newDashboardName;\r\n    const valueObj = dashboardSelectValue\r\n      ? { value: dashboardSelectValue }\r\n      : null;\r\n    return (\r\n      <StyledModal\r\n        show\r\n        onHide={this.props.onHide}\r\n        title={t('Save chart')}\r\n        footer={\r\n          <div data-test=\"save-modal-footer\">\r\n            <Button\r\n              id=\"btn_cancel\"\r\n              buttonSize=\"small\"\r\n              onClick={this.props.onHide}\r\n            >\r\n              {t('Cancel')}\r\n            </Button>\r\n            <Button\r\n              id=\"btn_modal_save_goto_dash\"\r\n              buttonSize=\"small\"\r\n              disabled={\r\n                !this.state.newSliceName ||\r\n                (!this.state.saveToDashboardId && !this.state.newDashboardName)\r\n              }\r\n              onClick={() => this.saveOrOverwrite(true)}\r\n            >\r\n              {t('Save & go to dashboard')}\r\n            </Button>\r\n            <Button\r\n              id=\"btn_modal_save\"\r\n              buttonSize=\"small\"\r\n              buttonStyle=\"primary\"\r\n              onClick={() => this.saveOrOverwrite(false)}\r\n              disabled={!this.state.newSliceName}\r\n              data-test=\"btn-modal-save\"\r\n            >\r\n              {!this.props.can_overwrite && this.props.slice\r\n                ? t('Save as new chart')\r\n                : t('Save')}\r\n            </Button>\r\n          </div>\r\n        }\r\n      >\r\n        <Form data-test=\"save-modal-body\" layout=\"vertical\">\r\n          {(this.state.alert || this.props.alert) && (\r\n            <Alert\r\n              type=\"warning\"\r\n              message={\r\n                <>\r\n                  {this.state.alert ? this.state.alert : this.props.alert}\r\n                  <i\r\n                    role=\"button\"\r\n                    aria-label=\"Remove alert\"\r\n                    tabIndex={0}\r\n                    className=\"fa fa-close pull-right\"\r\n                    onClick={this.removeAlert.bind(this)}\r\n                    style={{ cursor: 'pointer' }}\r\n                  />\r\n                </>\r\n              }\r\n            />\r\n          )}\r\n          <FormItem data-test=\"radio-group\">\r\n            <Radio\r\n              id=\"overwrite-radio\"\r\n              disabled={!(this.props.can_overwrite && this.props.slice)}\r\n              checked={this.state.action === 'overwrite'}\r\n              onChange={() => this.changeAction('overwrite')}\r\n              data-test=\"save-overwrite-radio\"\r\n            >\r\n              {t('Save (Overwrite)')}\r\n            </Radio>\r\n            <Radio\r\n              id=\"saveas-radio\"\r\n              data-test=\"saveas-radio\"\r\n              checked={this.state.action === 'saveas'}\r\n              onChange={() => this.changeAction('saveas')}\r\n            >\r\n              {' '}\r\n              {t('Save as ...')} &nbsp;\r\n            </Radio>\r\n          </FormItem>\r\n          <hr />\r\n          <FormItem label={t('Chart name')} required>\r\n            <Input\r\n              name=\"new_slice_name\"\r\n              type=\"text\"\r\n              placeholder=\"Name\"\r\n              value={this.state.newSliceName}\r\n              onChange={this.onSliceNameChange}\r\n              data-test=\"new-chart-name\"\r\n            />\r\n          </FormItem>\r\n          <FormItem\r\n            label={t('Add to dashboard')}\r\n            data-test=\"save-chart-modal-select-dashboard-form\"\r\n          >\r\n            <CreatableSelect\r\n              id=\"dashboard-creatable-select\"\r\n              className=\"save-modal-selector\"\r\n              menuPosition=\"fixed\"\r\n              options={this.props.dashboards}\r\n              clearable\r\n              creatable\r\n              onChange={this.onDashboardSelectChange}\r\n              autoSize={false}\r\n              value={valueObj}\r\n              placeholder={\r\n                // Using markdown to allow for good i18n\r\n                <ReactMarkdown\r\n                  source={SELECT_PLACEHOLDER}\r\n                  renderers={{ paragraph: 'span' }}\r\n                />\r\n              }\r\n            />\r\n          </FormItem>\r\n        </Form>\r\n      </StyledModal>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({\r\n  explore,\r\n  saveModal,\r\n}: Record<string, any>): Partial<SaveModalProps> {\r\n  return {\r\n    datasource: explore.datasource,\r\n    slice: explore.slice,\r\n    can_overwrite: explore.can_overwrite,\r\n    userId: explore.user_id,\r\n    dashboards: saveModal.dashboards,\r\n    alert: saveModal.saveModalAlert,\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, () => ({}))(SaveModal);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\r\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\r\nimport CopyToClipboard from 'src/components/CopyToClipboard';\r\nimport Loading from 'src/components/Loading';\r\nimport { CopyButton } from 'src/explore/components/DataTableControl';\r\nimport { getClientErrorObject } from 'src/utils/getClientErrorObject';\r\nimport { getChartDataRequest } from 'src/chart/chartAction';\r\nimport markdownSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/markdown';\r\nimport htmlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars';\r\nimport sqlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\r\nimport jsonSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/json';\r\n\r\nconst CopyButtonViewQuery = styled(CopyButton)`\r\n  && {\r\n    margin: 0 0 ${({ theme }) => theme.gridUnit}px;\r\n  }\r\n`;\r\n\r\nSyntaxHighlighter.registerLanguage('markdown', markdownSyntax);\r\nSyntaxHighlighter.registerLanguage('html', htmlSyntax);\r\nSyntaxHighlighter.registerLanguage('sql', sqlSyntax);\r\nSyntaxHighlighter.registerLanguage('json', jsonSyntax);\r\n\r\ninterface Props {\r\n  latestQueryFormData: object;\r\n}\r\n\r\nconst ViewQueryModal: React.FC<Props> = props => {\r\n  const [language, setLanguage] = useState(null);\r\n  const [query, setQuery] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const loadChartData = (resultType: string) => {\r\n    setIsLoading(true);\r\n    getChartDataRequest({\r\n      formData: props.latestQueryFormData,\r\n      resultFormat: 'json',\r\n      resultType,\r\n    })\r\n      .then(response => {\r\n        // Only displaying the first query is currently supported\r\n        const result = response.result[0];\r\n        setLanguage(result.language);\r\n        setQuery(result.query);\r\n        setIsLoading(false);\r\n        setError(null);\r\n      })\r\n      .catch(response => {\r\n        getClientErrorObject(response).then(({ error, message }) => {\r\n          setError(\r\n            error ||\r\n              message ||\r\n              response.statusText ||\r\n              t('Sorry, An error occurred'),\r\n          );\r\n          setIsLoading(false);\r\n        });\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    loadChartData('query');\r\n  }, [props.latestQueryFormData]);\r\n\r\n  if (isLoading) {\r\n    return <Loading />;\r\n  }\r\n  if (error) {\r\n    return <pre>{error}</pre>;\r\n  }\r\n  if (query) {\r\n    return (\r\n      <div>\r\n        <CopyToClipboard\r\n          text={query}\r\n          shouldShowText={false}\r\n          copyNode={\r\n            <CopyButtonViewQuery buttonSize=\"xsmall\">\r\n              <i className=\"fa fa-clipboard\" />\r\n            </CopyButtonViewQuery>\r\n          }\r\n        />\r\n        <SyntaxHighlighter language={language || undefined} style={github}>\r\n          {query}\r\n        </SyntaxHighlighter>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default ViewQueryModal;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport logger from '../middleware/loggerMiddleware';\r\nimport { initFeatureFlags } from '../featureFlags';\r\nimport { initEnhancer } from '../reduxUtils';\r\nimport getInitialState from './reducers/getInitialState';\r\nimport rootReducer from './reducers/index';\r\nimport App from './App';\r\n\r\nconst exploreViewContainer = document.getElementById('app');\r\nconst bootstrapData = JSON.parse(\r\n  exploreViewContainer.getAttribute('data-bootstrap'),\r\n);\r\ninitFeatureFlags(bootstrapData.common.feature_flags);\r\nconst initState = getInitialState(bootstrapData);\r\nconst store = createStore(\r\n  rootReducer,\r\n  initState,\r\n  compose(applyMiddleware(thunk, logger), initEnhancer(false)),\r\n);\r\n\r\nReactDOM.render(<App store={store} />, document.getElementById('app'));\r\n","var content = require(\"!!../../node_modules/css-loader/index.js??ref--8-1!../../node_modules/less-loader/dist/cjs.js??ref--8-2!./main.less\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint camelcase: 0 */\r\nimport { DYNAMIC_PLUGIN_CONTROLS_READY } from 'src/chart/chartAction';\r\nimport { DEFAULT_TIME_RANGE } from 'src/explore/constants';\r\nimport { getControlsState } from 'src/explore/store';\r\nimport {\r\n  getControlConfig,\r\n  getFormDataFromControls,\r\n  getControlStateFromControlConfig,\r\n} from 'src/explore/controlUtils';\r\nimport * as actions from 'src/explore/actions/exploreActions';\r\n\r\nexport default function exploreReducer(state = {}, action) {\r\n  const actionHandlers = {\r\n    [DYNAMIC_PLUGIN_CONTROLS_READY]() {\r\n      return {\r\n        ...state,\r\n        controls: action.controlsState,\r\n      };\r\n    },\r\n    [actions.TOGGLE_FAVE_STAR]() {\r\n      return {\r\n        ...state,\r\n        isStarred: action.isStarred,\r\n      };\r\n    },\r\n    [actions.POST_DATASOURCE_STARTED]() {\r\n      return {\r\n        ...state,\r\n        isDatasourceMetaLoading: true,\r\n      };\r\n    },\r\n    [actions.SET_DATASOURCE]() {\r\n      const newFormData = { ...state.form_data };\r\n      if (action.datasource.type !== state.datasource.type) {\r\n        if (action.datasource.type === 'table') {\r\n          newFormData.granularity_sqla = action.datasource.granularity_sqla;\r\n          newFormData.time_grain_sqla = action.datasource.time_grain_sqla;\r\n          delete newFormData.druid_time_origin;\r\n          delete newFormData.granularity;\r\n        } else {\r\n          newFormData.druid_time_origin = action.datasource.druid_time_origin;\r\n          newFormData.granularity = action.datasource.granularity;\r\n          delete newFormData.granularity_sqla;\r\n          delete newFormData.time_grain_sqla;\r\n        }\r\n      }\r\n\r\n      const controls = { ...state.controls };\r\n      if (\r\n        action.datasource.id !== state.datasource.id ||\r\n        action.datasource.type !== state.datasource.type\r\n      ) {\r\n        // reset time range filter to default\r\n        newFormData.time_range = DEFAULT_TIME_RANGE;\r\n\r\n        // reset control values for column/metric related controls\r\n        Object.entries(controls).forEach(([controlName, controlState]) => {\r\n          if (\r\n            // for direct column select controls\r\n            controlState.valueKey === 'column_name' ||\r\n            // for all other controls\r\n            'columns' in controlState\r\n          ) {\r\n            // if a control use datasource columns, reset its value to `undefined`,\r\n            // then `getControlsState` will pick up the default.\r\n            // TODO: filter out only invalid columns and keep others\r\n            controls[controlName] = {\r\n              ...controlState,\r\n              value: undefined,\r\n            };\r\n            newFormData[controlName] = undefined;\r\n          }\r\n        });\r\n      }\r\n\r\n      const newState = {\r\n        ...state,\r\n        controls,\r\n        datasource: action.datasource,\r\n        datasource_id: action.datasource.id,\r\n        datasource_type: action.datasource.type,\r\n      };\r\n      return {\r\n        ...newState,\r\n        form_data: newFormData,\r\n        controls: getControlsState(newState, newFormData),\r\n      };\r\n    },\r\n    [actions.FETCH_DATASOURCES_STARTED]() {\r\n      return {\r\n        ...state,\r\n        isDatasourcesLoading: true,\r\n      };\r\n    },\r\n    [actions.SET_DATASOURCES]() {\r\n      return {\r\n        ...state,\r\n        datasources: action.datasources,\r\n      };\r\n    },\r\n    [actions.SET_FIELD_VALUE]() {\r\n      const new_form_data = state.form_data;\r\n      const { controlName, value, validationErrors } = action;\r\n      new_form_data[controlName] = value;\r\n\r\n      const vizType = new_form_data.viz_type;\r\n\r\n      // Use the processed control config (with overrides and everything)\r\n      // if `controlName` does not existing in current controls,\r\n      const controlConfig =\r\n        state.controls[action.controlName] ||\r\n        getControlConfig(action.controlName, vizType) ||\r\n        {};\r\n\r\n      // will call validators again\r\n      const control = {\r\n        ...getControlStateFromControlConfig(controlConfig, state, action.value),\r\n      };\r\n\r\n      const newState = {\r\n        ...state,\r\n        controls: { ...state.controls, [action.controlName]: control },\r\n      };\r\n\r\n      const rerenderedControls = {};\r\n      if (Array.isArray(control.rerender)) {\r\n        control.rerender.forEach(controlName => {\r\n          rerenderedControls[controlName] = {\r\n            ...getControlStateFromControlConfig(\r\n              newState.controls[controlName],\r\n              newState,\r\n              newState.controls[controlName].value,\r\n            ),\r\n          };\r\n        });\r\n      }\r\n\r\n      // combine newly detected errors with errors from `onChange` event of\r\n      // each control component (passed via reducer action).\r\n      const errors = control.validationErrors || [];\r\n      (validationErrors || []).forEach(err => {\r\n        // skip duplicated errors\r\n        if (!errors.includes(err)) {\r\n          errors.push(err);\r\n        }\r\n      });\r\n      const hasErrors = errors && errors.length > 0;\r\n\r\n      const currentControlsState =\r\n        action.controlName === 'viz_type' &&\r\n        action.value !== state.controls.viz_type.value\r\n          ? // rebuild the full control state if switching viz type\r\n            getControlsState(\r\n              state,\r\n              getFormDataFromControls({\r\n                ...state.controls,\r\n                viz_type: control,\r\n              }),\r\n            )\r\n          : state.controls;\r\n\r\n      return {\r\n        ...state,\r\n        form_data: new_form_data,\r\n        triggerRender: control.renderTrigger && !hasErrors,\r\n        controls: {\r\n          ...currentControlsState,\r\n          [action.controlName]: {\r\n            ...control,\r\n            validationErrors: errors,\r\n          },\r\n          ...rerenderedControls,\r\n        },\r\n      };\r\n    },\r\n    [actions.SET_EXPLORE_CONTROLS]() {\r\n      return {\r\n        ...state,\r\n        controls: getControlsState(state, action.formData),\r\n      };\r\n    },\r\n    [actions.UPDATE_CHART_TITLE]() {\r\n      return {\r\n        ...state,\r\n        sliceName: action.sliceName,\r\n      };\r\n    },\r\n    [actions.CREATE_NEW_SLICE]() {\r\n      return {\r\n        ...state,\r\n        slice: action.slice,\r\n        controls: getControlsState(state, action.form_data),\r\n        can_add: action.can_add,\r\n        can_download: action.can_download,\r\n        can_overwrite: action.can_overwrite,\r\n      };\r\n    },\r\n    [actions.SLICE_UPDATED]() {\r\n      return {\r\n        ...state,\r\n        slice: {\r\n          ...state.slice,\r\n          ...action.slice,\r\n        },\r\n        sliceName: action.slice.slice_name ?? state.sliceName,\r\n      };\r\n    },\r\n  };\r\n  if (action.type in actionHandlers) {\r\n    return actionHandlers[action.type]();\r\n  }\r\n  return state;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport shortid from 'shortid';\r\nimport { DatasourceType, JsonObject, QueryFormData } from '@superset-ui/core';\r\nimport {\r\n  ControlStateMapping,\r\n  DatasourceMeta,\r\n} from '@superset-ui/chart-controls';\r\nimport { CommonBootstrapData } from 'src/types/bootstrapTypes';\r\nimport getToastsFromPyFlashMessages from 'src/messageToasts/utils/getToastsFromPyFlashMessages';\r\n\r\nimport { ChartState, Slice } from 'src/explore/types';\r\nimport { getChartKey } from 'src/explore/exploreUtils';\r\nimport { getControlsState } from 'src/explore/store';\r\nimport {\r\n  getFormDataFromControls,\r\n  applyMapStateToPropsToControl,\r\n} from 'src/explore/controlUtils';\r\n\r\nexport interface ExlorePageBootstrapData extends JsonObject {\r\n  can_add: boolean;\r\n  can_download: boolean;\r\n  can_overwrite: boolean;\r\n  datasource: DatasourceMeta;\r\n  form_data: QueryFormData;\r\n  datasource_id: number;\r\n  datasource_type: DatasourceType;\r\n  slice: Slice | null;\r\n  standalone: boolean;\r\n  user_id: number;\r\n  forced_height: string | null;\r\n  common: CommonBootstrapData;\r\n}\r\n\r\nexport default function getInitialState(\r\n  bootstrapData: ExlorePageBootstrapData,\r\n) {\r\n  const { form_data: initialFormData } = bootstrapData;\r\n  const { slice } = bootstrapData;\r\n  const sliceName = slice ? slice.slice_name : null;\r\n\r\n  const exploreState = {\r\n    // note this will add `form_data` to state,\r\n    // which will be manipulatable by future reducers.\r\n    ...bootstrapData,\r\n    sliceName,\r\n    common: {\r\n      flash_messages: bootstrapData.common.flash_messages,\r\n      conf: bootstrapData.common.conf,\r\n    },\r\n    isDatasourceMetaLoading: false,\r\n    isStarred: false,\r\n    // Initial control state will skip `control.mapStateToProps`\r\n    // because `bootstrapData.controls` is undefined.\r\n    controls: getControlsState(\r\n      bootstrapData,\r\n      initialFormData,\r\n    ) as ControlStateMapping,\r\n  };\r\n\r\n  // apply initial mapStateToProps for all controls, must execute AFTER\r\n  // bootstrapState has initialized `controls`. Order of execution is not\r\n  // guaranteed, so controls shouldn't rely on the each other's mapped state.\r\n  Object.entries(exploreState.controls).forEach(([key, controlState]) => {\r\n    exploreState.controls[key] = applyMapStateToPropsToControl(\r\n      controlState,\r\n      exploreState,\r\n    );\r\n  });\r\n\r\n  const sliceFormData = slice\r\n    ? getFormDataFromControls(getControlsState(bootstrapData, slice.form_data))\r\n    : null;\r\n\r\n  const chartKey: number = getChartKey(bootstrapData);\r\n  const chart: ChartState = {\r\n    id: chartKey,\r\n    chartAlert: null,\r\n    chartStatus: null,\r\n    chartStackTrace: null,\r\n    chartUpdateEndTime: null,\r\n    chartUpdateStartTime: 0,\r\n    latestQueryFormData: getFormDataFromControls(exploreState.controls),\r\n    sliceFormData,\r\n    queryController: null,\r\n    queriesResponse: null,\r\n    triggerQuery: false,\r\n    lastRendered: 0,\r\n  };\r\n\r\n  return {\r\n    charts: {\r\n      [chartKey]: chart,\r\n    },\r\n    saveModal: {\r\n      dashboards: [],\r\n      saveModalAlert: null,\r\n    },\r\n    explore: exploreState,\r\n    impressionId: shortid.generate(),\r\n    messageToasts: getToastsFromPyFlashMessages(\r\n      (bootstrapData.common || {}).flash_messages || [],\r\n    ),\r\n  };\r\n}\r\n\r\nexport type ExplorePageState = ReturnType<typeof getInitialState>;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { combineReducers } from 'redux';\r\n\r\nimport charts from '../../chart/chartReducer';\r\nimport saveModal from './saveModalReducer';\r\nimport explore from './exploreReducer';\r\nimport dataMask from '../../dataMask/reducer';\r\nimport messageToasts from '../../messageToasts/reducers';\r\n\r\nconst impressionId = (state = '') => state;\r\n\r\nexport default combineReducers({\r\n  charts,\r\n  saveModal,\r\n  dataMask,\r\n  explore,\r\n  impressionId,\r\n  messageToasts,\r\n});\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint camelcase: 0 */\r\nimport * as actions from '../actions/saveModalActions';\r\n\r\nexport default function saveModalReducer(state = {}, action) {\r\n  const actionHandlers = {\r\n    [actions.FETCH_DASHBOARDS_SUCCEEDED]() {\r\n      return { ...state, dashboards: action.choices };\r\n    },\r\n    [actions.FETCH_DASHBOARDS_FAILED]() {\r\n      return {\r\n        ...state,\r\n        saveModalAlert: `fetching dashboards failed for ${action.userId}`,\r\n      };\r\n    },\r\n    [actions.SAVE_SLICE_FAILED]() {\r\n      return { ...state, saveModalAlert: 'Failed to save slice' };\r\n    },\r\n    [actions.SAVE_SLICE_SUCCESS](data) {\r\n      return { ...state, data };\r\n    },\r\n    [actions.REMOVE_SAVE_MODAL_ALERT]() {\r\n      return { ...state, saveModalAlert: null };\r\n    },\r\n  };\r\n\r\n  if (action.type in actionHandlers) {\r\n    return actionHandlers[action.type]();\r\n  }\r\n  return state;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { styled } from '@superset-ui/core';\r\nimport cx from 'classnames';\r\nimport Interweave from 'interweave';\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport Icon, { IconName } from 'src/components/Icon';\r\nimport { ToastType } from 'src/messageToasts/constants';\r\nimport { ToastMeta } from '../types';\r\n\r\nconst ToastContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  span {\r\n    padding: 0 11px;\r\n  }\r\n`;\r\n\r\nconst StyledIcon = styled(Icon)`\r\n  min-width: ${({ theme }) => theme.gridUnit * 5}px;\r\n`;\r\n\r\ninterface ToastPresenterProps {\r\n  toast: ToastMeta;\r\n  onCloseToast: (id: string) => void;\r\n}\r\n\r\nexport default function Toast({ toast, onCloseToast }: ToastPresenterProps) {\r\n  const hideTimer = useRef<ReturnType<typeof setTimeout>>();\r\n  const [visible, setVisible] = useState(false);\r\n  const showToast = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const handleClosePress = useCallback(() => {\r\n    if (hideTimer.current) {\r\n      clearTimeout(hideTimer.current);\r\n    }\r\n    // Wait for the transition\r\n    setVisible(() => {\r\n      setTimeout(() => {\r\n        onCloseToast(toast.id);\r\n      }, 150);\r\n      return false;\r\n    });\r\n  }, [onCloseToast, toast.id]);\r\n\r\n  useEffect(() => {\r\n    setTimeout(showToast);\r\n\r\n    if (toast.duration > 0) {\r\n      hideTimer.current = setTimeout(handleClosePress, toast.duration);\r\n    }\r\n    return () => {\r\n      if (hideTimer.current) {\r\n        clearTimeout(hideTimer.current);\r\n      }\r\n    };\r\n  }, [handleClosePress, toast.duration]);\r\n\r\n  let iconName: IconName = 'circle-check-solid';\r\n  let className = 'toast--success';\r\n  if (toast.toastType === ToastType.WARNING) {\r\n    iconName = 'warning-solid';\r\n    className = 'toast--warning';\r\n  } else if (toast.toastType === ToastType.DANGER) {\r\n    iconName = 'error-solid';\r\n    className = 'toast--danger';\r\n  } else if (toast.toastType === ToastType.INFO) {\r\n    iconName = 'info-solid';\r\n    className = 'toast--info';\r\n  }\r\n\r\n  return (\r\n    <ToastContainer\r\n      className={cx('alert', 'toast', visible && 'toast--visible', className)}\r\n      data-test=\"toast-container\"\r\n      role=\"alert\"\r\n    >\r\n      <StyledIcon name={iconName} />\r\n      <Interweave content={toast.text} />\r\n      <i\r\n        className=\"fa fa-close pull-right pointer\"\r\n        role=\"button\"\r\n        tabIndex={0}\r\n        onClick={handleClosePress}\r\n        aria-label=\"Close\"\r\n        data-test=\"close-button\"\r\n      />\r\n    </ToastContainer>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled } from '@superset-ui/core';\r\nimport { ToastMeta } from 'src/messageToasts/types';\r\nimport Toast from './Toast';\r\n\r\nconst StyledToastPresenter = styled.div`\r\n  max-width: 600px;\r\n  position: fixed;\r\n  bottom: 0px;\r\n  right: 0px;\r\n  margin-right: 50px;\r\n  margin-bottom: 50px;\r\n  z-index: ${({ theme }) => theme.zIndex.max};\r\n\r\n  .toast {\r\n    background: ${({ theme }) => theme.colors.grayscale.dark1};\r\n    border-radius: ${({ theme }) => theme.borderRadius};\r\n    box-shadow: 0 2px 4px 0\r\n      fade(\r\n        ${({ theme }) => theme.colors.grayscale.dark2},\r\n        ${({ theme }) => theme.opacity.mediumLight}\r\n      );\r\n    color: ${({ theme }) => theme.colors.grayscale.light5};\r\n    opacity: 0;\r\n    position: relative;\r\n    transform: translateY(-100%);\r\n    white-space: pre-line;\r\n    will-change: transform, opacity;\r\n    transition: transform ${({ theme }) => theme.transitionTiming}s,\r\n      opacity ${({ theme }) => theme.transitionTiming}s;\r\n\r\n    &:after {\r\n      content: '';\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 6px;\r\n      height: 100%;\r\n    }\r\n  }\r\n\r\n  .toast > button {\r\n    color: ${({ theme }) => theme.colors.grayscale.light5};\r\n    opacity: 1;\r\n  }\r\n\r\n  .toast--visible {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\ntype ToastPresenterProps = {\r\n  toasts: Array<ToastMeta>;\r\n  removeToast: () => void;\r\n};\r\n\r\nexport default function ToastPresenter({\r\n  toasts,\r\n  removeToast,\r\n}: ToastPresenterProps) {\r\n  return (\r\n    toasts.length > 0 && (\r\n      <StyledToastPresenter id=\"toast-presenter\">\r\n        {toasts.map(toast => (\r\n          <Toast key={toast.id} toast={toast} onCloseToast={removeToast} />\r\n        ))}\r\n      </StyledToastPresenter>\r\n    )\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n// Toast types\r\nimport { ToastType } from './types';\r\n\r\nexport { ToastType } from './types';\r\n\r\n// for backward compatibility\r\nexport const INFO_TOAST = ToastType.INFO;\r\nexport const SUCCES_TOAST = ToastType.SUCCESS;\r\nexport const WARNING_TOAST = ToastType.WARNING;\r\nexport const DANGER_TOAST = ToastType.DANGER;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport ToastPresenter from '../components/ToastPresenter';\r\n\r\nimport { removeToast } from '../actions';\r\n\r\nexport default connect(\r\n  ({ messageToasts: toasts }) => ({ toasts }),\r\n  dispatch => bindActionCreators({ removeToast }, dispatch),\r\n)(ToastPresenter);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { ADD_TOAST, REMOVE_TOAST } from '../actions';\r\n\r\nexport default function messageToastsReducer(toasts = [], action) {\r\n  switch (action.type) {\r\n    case ADD_TOAST: {\r\n      const { payload: toast } = action;\r\n      const result = toasts.slice();\r\n      if (!toast.noDuplicate || !result.find(x => x.text === toast.text)) {\r\n        return [toast, ...toasts];\r\n      }\r\n      return toasts;\r\n    }\r\n\r\n    case REMOVE_TOAST: {\r\n      const {\r\n        payload: { id },\r\n      } = action;\r\n      return [...toasts].filter(toast => toast.id !== id);\r\n    }\r\n\r\n    default:\r\n      return toasts;\r\n  }\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { addToast } from '../actions';\r\nimport { ToastType } from '../constants';\r\n\r\nexport default function toastsFromPyFlashMessages(flashMessages = []) {\r\n  const toasts = [];\r\n\r\n  flashMessages.forEach(([messageType, message]) => {\r\n    const toastType =\r\n      messageType === 'danger'\r\n        ? ToastType.DANGER\r\n        : (messageType === 'success' && ToastType.SUCCESS) || ToastType.INFO;\r\n\r\n    const toast = addToast({\r\n      text: message,\r\n      toastType,\r\n    }).payload;\r\n\r\n    toasts.push(toast);\r\n  });\r\n\r\n  return toasts;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-disable camelcase */\r\n/* eslint prefer-const: 2 */\r\nimport shortid from 'shortid';\r\nimport { SupersetClient } from '@superset-ui/core';\r\n\r\nimport { safeStringify } from '../utils/safeStringify';\r\nimport { LOG_EVENT } from '../logger/actions';\r\nimport { LOG_EVENT_TYPE_TIMING } from '../logger/LogUtils';\r\nimport DebouncedMessageQueue from '../utils/DebouncedMessageQueue';\r\n\r\nconst LOG_ENDPOINT = '/superset/log/?explode=events';\r\nconst sendBeacon = events => {\r\n  if (events.length <= 0) {\r\n    return;\r\n  }\r\n\r\n  let endpoint = LOG_ENDPOINT;\r\n  const { source, source_id } = events[0];\r\n  // backend logs treat these request params as first-class citizens\r\n  if (source === 'dashboard') {\r\n    endpoint += `&dashboard_id=${source_id}`;\r\n  } else if (source === 'slice') {\r\n    endpoint += `&slice_id=${source_id}`;\r\n  }\r\n\r\n  if (navigator.sendBeacon) {\r\n    const formData = new FormData();\r\n    formData.append('events', safeStringify(events));\r\n    navigator.sendBeacon(endpoint, formData);\r\n  } else {\r\n    SupersetClient.post({\r\n      endpoint,\r\n      postPayload: { events },\r\n      parseMethod: null,\r\n    });\r\n  }\r\n};\r\n\r\n// beacon API has data size limit = 2^16.\r\n// assume avg each log entry has 2^6 characters\r\nconst MAX_EVENTS_PER_REQUEST = 1024;\r\nconst logMessageQueue = new DebouncedMessageQueue({\r\n  callback: sendBeacon,\r\n  sizeThreshold: MAX_EVENTS_PER_REQUEST,\r\n  delayThreshold: 1000,\r\n});\r\nlet lastEventId = 0;\r\nconst loggerMiddleware = store => next => action => {\r\n  if (action.type !== LOG_EVENT) {\r\n    return next(action);\r\n  }\r\n\r\n  const {\r\n    dashboardInfo,\r\n    explore,\r\n    impressionId,\r\n    dashboardLayout,\r\n  } = store.getState();\r\n  let logMetadata = {\r\n    impression_id: impressionId,\r\n    version: 'v2',\r\n  };\r\n  if (dashboardInfo) {\r\n    logMetadata = {\r\n      source: 'dashboard',\r\n      source_id: dashboardInfo.id,\r\n      ...logMetadata,\r\n    };\r\n  } else if (explore) {\r\n    logMetadata = {\r\n      source: 'explore',\r\n      source_id: explore.slice ? explore.slice.slice_id : 0,\r\n      ...logMetadata,\r\n    };\r\n  }\r\n\r\n  const { eventName } = action.payload;\r\n  let { eventData = {} } = action.payload;\r\n  eventData = {\r\n    ...logMetadata,\r\n    ts: new Date().getTime(),\r\n    event_name: eventName,\r\n    ...eventData,\r\n  };\r\n  if (LOG_EVENT_TYPE_TIMING.has(eventName)) {\r\n    eventData = {\r\n      ...eventData,\r\n      event_type: 'timing',\r\n      trigger_event: lastEventId,\r\n    };\r\n  } else {\r\n    lastEventId = shortid.generate();\r\n    eventData = {\r\n      ...eventData,\r\n      event_type: 'user',\r\n      event_id: lastEventId,\r\n      visibility: document.visibilityState,\r\n    };\r\n  }\r\n\r\n  if (eventData.target_id && dashboardLayout?.present?.[eventData.target_id]) {\r\n    const { meta } = dashboardLayout.present[eventData.target_id];\r\n    // chart name or tab/header text\r\n    eventData.target_name = meta.chartId ? meta.sliceName : meta.text;\r\n  }\r\n\r\n  logMessageQueue.append(eventData);\r\n  return eventData;\r\n};\r\n\r\nexport default loggerMiddleware;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport moment from 'moment';\r\n\r\nexport const fDuration = function (t1, t2, format = 'HH:mm:ss.SS') {\r\n  const diffSec = t2 - t1;\r\n  const duration = moment(new Date(diffSec));\r\n  return duration.utc().format(format);\r\n};\r\n\r\nexport const now = function () {\r\n  // seconds from EPOCH as a float\r\n  return moment().utc().valueOf();\r\n};\r\n\r\nexport const epochTimeXHoursAgo = function (h) {\r\n  return moment().subtract(h, 'hours').utc().valueOf();\r\n};\r\n\r\nexport const epochTimeXDaysAgo = function (d) {\r\n  return moment().subtract(d, 'days').utc().valueOf();\r\n};\r\n\r\nexport const epochTimeXYearsAgo = function (y) {\r\n  return moment().subtract(y, 'years').utc().valueOf();\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport shortid from 'shortid';\r\nimport { compose } from 'redux';\r\nimport persistState, { StorageAdapter } from 'redux-localstorage';\r\nimport { isEqual, omitBy, isUndefined } from 'lodash';\r\n\r\nexport function addToObject(\r\n  state: Record<string, any>,\r\n  arrKey: string,\r\n  obj: Record<string, any>,\r\n) {\r\n  const newObject = { ...state[arrKey] };\r\n  const copiedObject = { ...obj };\r\n\r\n  if (!copiedObject.id) {\r\n    copiedObject.id = shortid.generate();\r\n  }\r\n  newObject[copiedObject.id] = copiedObject;\r\n  return { ...state, [arrKey]: newObject };\r\n}\r\n\r\nexport function alterInObject(\r\n  state: Record<string, any>,\r\n  arrKey: string,\r\n  obj: Record<string, any>,\r\n  alterations: Record<string, any>,\r\n) {\r\n  const newObject = { ...state[arrKey] };\r\n  newObject[obj.id] = { ...newObject[obj.id], ...alterations };\r\n  return { ...state, [arrKey]: newObject };\r\n}\r\n\r\nexport function alterInArr(\r\n  state: Record<string, any>,\r\n  arrKey: string,\r\n  obj: Record<string, any>,\r\n  alterations: Record<string, any>,\r\n  idKey = 'id',\r\n) {\r\n  // Finds an item in an array in the state and replaces it with a\r\n  // new object with an altered property\r\n  const newArr: unknown[] = [];\r\n  state[arrKey].forEach((arrItem: Record<string, any>) => {\r\n    if (obj[idKey] === arrItem[idKey]) {\r\n      newArr.push({ ...arrItem, ...alterations });\r\n    } else {\r\n      newArr.push(arrItem);\r\n    }\r\n  });\r\n  return { ...state, [arrKey]: newArr };\r\n}\r\n\r\nexport function removeFromArr(\r\n  state: Record<string, any>,\r\n  arrKey: string,\r\n  obj: Record<string, any>,\r\n  idKey = 'id',\r\n) {\r\n  const newArr: unknown[] = [];\r\n  state[arrKey].forEach((arrItem: Record<string, any>) => {\r\n    if (!(obj[idKey] === arrItem[idKey])) {\r\n      newArr.push(arrItem);\r\n    }\r\n  });\r\n  return { ...state, [arrKey]: newArr };\r\n}\r\n\r\nexport function getFromArr(arr: Record<string, any>[], id: string) {\r\n  let obj;\r\n  arr.forEach(o => {\r\n    if (o.id === id) {\r\n      obj = o;\r\n    }\r\n  });\r\n  return obj;\r\n}\r\n\r\nexport function addToArr(\r\n  state: Record<string, any>,\r\n  arrKey: string,\r\n  obj: Record<string, any>,\r\n  prepend = false,\r\n) {\r\n  const newObj = { ...obj };\r\n  if (!newObj.id) {\r\n    newObj.id = shortid.generate();\r\n  }\r\n  const newState = {};\r\n  if (prepend) {\r\n    newState[arrKey] = [newObj, ...state[arrKey]];\r\n  } else {\r\n    newState[arrKey] = [...state[arrKey], newObj];\r\n  }\r\n  return { ...state, ...newState };\r\n}\r\n\r\nexport function extendArr(\r\n  state: Record<string, any>,\r\n  arrKey: string,\r\n  arr: Record<string, any>[],\r\n  prepend = false,\r\n) {\r\n  const newArr = [...arr];\r\n  newArr.forEach(el => {\r\n    if (!el.id) {\r\n      /* eslint-disable no-param-reassign */\r\n      el.id = shortid.generate();\r\n    }\r\n  });\r\n  const newState = {};\r\n  if (prepend) {\r\n    newState[arrKey] = [...newArr, ...state[arrKey]];\r\n  } else {\r\n    newState[arrKey] = [...state[arrKey], ...newArr];\r\n  }\r\n  return { ...state, ...newState };\r\n}\r\n\r\nexport function initEnhancer(\r\n  persist = true,\r\n  persistConfig: { paths?: StorageAdapter<unknown>; config?: string } = {},\r\n) {\r\n  const { paths, config } = persistConfig;\r\n  const composeEnhancers =\r\n    process.env.WEBPACK_MODE === 'development'\r\n      ? /* eslint-disable-next-line no-underscore-dangle, dot-notation */\r\n        window['__REDUX_DEVTOOLS_EXTENSION_COMPOSE__'] || compose\r\n      : compose;\r\n\r\n  return persist\r\n    ? composeEnhancers(persistState(paths, config))\r\n    : composeEnhancers();\r\n}\r\n\r\nexport function areArraysShallowEqual(arr1: unknown[], arr2: unknown[]) {\r\n  // returns whether 2 arrays are shallow equal\r\n  // used in shouldComponentUpdate when denormalizing arrays\r\n  // where the array object is different every time, but the content might\r\n  // be the same\r\n  if (!arr1 || !arr2) {\r\n    return false;\r\n  }\r\n  if (arr1.length !== arr2.length) {\r\n    return false;\r\n  }\r\n  const { length } = arr1;\r\n  for (let i = 0; i < length; i += 1) {\r\n    if (arr1[i] !== arr2[i]) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function areObjectsEqual(\r\n  obj1: any,\r\n  obj2: any,\r\n  opts = { ignoreUndefined: false },\r\n) {\r\n  let comp1 = obj1;\r\n  let comp2 = obj2;\r\n  if (opts.ignoreUndefined) {\r\n    comp1 = omitBy(obj1, isUndefined);\r\n    comp2 = omitBy(obj2, isUndefined);\r\n  }\r\n  return isEqual(comp1, comp2);\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { debounce } from 'lodash';\r\n\r\nclass DebouncedMessageQueue {\r\n  constructor({\r\n    callback = () => {},\r\n    sizeThreshold = 1000,\r\n    delayThreshold = 1000,\r\n  }) {\r\n    this.queue = [];\r\n    this.sizeThreshold = sizeThreshold;\r\n    this.delayThrehold = delayThreshold;\r\n\r\n    this.trigger = debounce(this.trigger.bind(this), this.delayThrehold);\r\n    this.callback = callback;\r\n  }\r\n\r\n  append(eventData) {\r\n    this.queue.push(eventData);\r\n    this.trigger();\r\n  }\r\n\r\n  trigger() {\r\n    if (this.queue.length > 0) {\r\n      const events = this.queue.splice(0, this.sizeThreshold);\r\n      this.callback.call(null, events);\r\n\r\n      // If there are remaining items, call it again.\r\n      if (this.queue.length > 0) {\r\n        this.trigger();\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default DebouncedMessageQueue;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { SyntheticEvent } from 'react';\r\nimport domToImage, { Options } from 'dom-to-image';\r\nimport kebabCase from 'lodash/kebabCase';\r\nimport { t } from '@superset-ui/core';\r\nimport { addWarningToast } from 'src/messageToasts/actions';\r\n\r\n/**\r\n * @remark\r\n * same as https://github.com/apache/superset/blob/c53bc4ddf9808a8bb6916bbe3cb31935d33a2420/superset-frontend/stylesheets/less/variables.less#L34\r\n */\r\nconst GRAY_BACKGROUND_COLOR = '#F5F5F5';\r\n\r\n/**\r\n * generate a consistent file stem from a description and date\r\n *\r\n * @param description title or description of content of file\r\n * @param date date when file was generated\r\n */\r\nconst generateFileStem = (description: string, date = new Date()) =>\r\n  `${kebabCase(description)}-${date.toISOString().replace(/[: ]/g, '-')}`;\r\n\r\n/**\r\n * Create an event handler for turning an element into an image\r\n *\r\n * @param selector css selector of the parent element which should be turned into image\r\n * @param description name or a short description of what is being printed.\r\n *   Value will be normalized, and a date as well as a file extension will be added.\r\n * @param domToImageOptions dom-to-image Options object.\r\n * @param isExactSelector if false, searches for the closest ancestor that matches selector.\r\n * @returns event handler\r\n */\r\nexport default function downloadAsImage(\r\n  selector: string,\r\n  description: string,\r\n  domToImageOptions: Options = {},\r\n  isExactSelector = false,\r\n) {\r\n  return (event: SyntheticEvent) => {\r\n    const elementToPrint = isExactSelector\r\n      ? document.querySelector(selector)\r\n      : event.currentTarget.closest(selector);\r\n\r\n    if (!elementToPrint) {\r\n      return addWarningToast(\r\n        t('Image download failed, please refresh and try again.'),\r\n      );\r\n    }\r\n\r\n    return domToImage\r\n      .toJpeg(elementToPrint, {\r\n        quality: 0.95,\r\n        bgcolor: GRAY_BACKGROUND_COLOR,\r\n        // Mapbox controls are loaded from different origin, causing CORS error\r\n        // See https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toDataURL#exceptions\r\n        filter: (node: Element) =>\r\n          node.className !== 'mapboxgl-control-container',\r\n        ...domToImageOptions,\r\n      })\r\n      .then(dataUrl => {\r\n        const link = document.createElement('a');\r\n        link.download = `${generateFileStem(description)}.jpg`;\r\n        link.href = dataUrl;\r\n        link.click();\r\n      })\r\n      .catch(e => {\r\n        console.error('Creating image failed', e);\r\n      });\r\n  };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport memoize from 'lodash/memoize';\r\nimport { getChartControlPanelRegistry } from '@superset-ui/core';\r\nimport { controls } from '../explore/controls';\r\n\r\nconst memoizedControls = memoize((vizType, controlPanel) => {\r\n  const controlsMap = {};\r\n  (controlPanel?.controlPanelSections || []).forEach(section => {\r\n    section.controlSetRows.forEach(row => {\r\n      row.forEach(control => {\r\n        if (!control) return;\r\n        if (typeof control === 'string') {\r\n          // For now, we have to look in controls.jsx to get the config for some controls.\r\n          // Once everything is migrated out, delete this if statement.\r\n          controlsMap[control] = controls[control];\r\n        } else if (control.name && control.config) {\r\n          // condition needed because there are elements, e.g. <hr /> in some control configs (I'm looking at you, FilterBox!)\r\n          controlsMap[control.name] = control.config;\r\n        }\r\n      });\r\n    });\r\n  });\r\n  return controlsMap;\r\n});\r\n\r\nconst getControlsForVizType = vizType => {\r\n  const controlPanel = getChartControlPanelRegistry().get(vizType);\r\n  return memoizedControls(vizType, controlPanel);\r\n};\r\n\r\nexport default getControlsForVizType;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nexport const getFromLocalStorage = (key: string, defaultValue: any) => {\r\n  try {\r\n    const value = localStorage.getItem(key);\r\n    return JSON.parse(value || 'null') || defaultValue;\r\n  } catch {\r\n    return defaultValue;\r\n  }\r\n};\r\n\r\nexport const setInLocalStorage = (key: string, value: any) => {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  } catch {\r\n    // Catch in case localStorage is unavailable\r\n  }\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * 'License'); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { SupersetClient } from '@superset-ui/core';\r\nimport { getClientErrorObject } from './getClientErrorObject';\r\nimport { URL_PARAMS } from '../constants';\r\n\r\nexport type UrlParamType = 'string' | 'number' | 'boolean' | 'object';\r\nexport type UrlParam = typeof URL_PARAMS[keyof typeof URL_PARAMS];\r\nexport function getUrlParam(param: UrlParam & { type: 'string' }): string;\r\nexport function getUrlParam(param: UrlParam & { type: 'number' }): number;\r\nexport function getUrlParam(param: UrlParam & { type: 'boolean' }): boolean;\r\nexport function getUrlParam(param: UrlParam & { type: 'object' }): object;\r\nexport function getUrlParam({ name, type }: UrlParam): unknown {\r\n  const urlParam = new URLSearchParams(window.location.search).get(name);\r\n  switch (type) {\r\n    case 'number':\r\n      if (!urlParam) {\r\n        return null;\r\n      }\r\n      if (urlParam === 'true') {\r\n        return 1;\r\n      }\r\n      if (urlParam === 'false') {\r\n        return 0;\r\n      }\r\n      if (!Number.isNaN(Number(urlParam))) {\r\n        return Number(urlParam);\r\n      }\r\n      return null;\r\n    case 'object':\r\n      if (!urlParam) {\r\n        return null;\r\n      }\r\n      return JSON.parse(urlParam);\r\n    case 'boolean':\r\n      if (!urlParam) {\r\n        return null;\r\n      }\r\n      return urlParam !== 'false' && urlParam !== '0';\r\n    default:\r\n      return urlParam;\r\n  }\r\n}\r\n\r\nexport function getShortUrl(longUrl: string) {\r\n  return SupersetClient.post({\r\n    endpoint: '/r/shortner/',\r\n    postPayload: { data: `/${longUrl}` }, // note: url should contain 2x '/' to redirect properly\r\n    parseMethod: 'text',\r\n    stringify: false, // the url saves with an extra set of string quotes without this\r\n  })\r\n    .then(({ text }) => text)\r\n    .catch(response =>\r\n      // @ts-ignore\r\n      getClientErrorObject(response).then(({ error, statusText }) =>\r\n        Promise.reject(error || statusText),\r\n      ),\r\n    );\r\n}\r\n","var content = require(\"!!../node_modules/css-loader/index.js??ref--8-1!../node_modules/less-loader/dist/cjs.js??ref--8-2!./reactable-pagination.less\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n"],"sourceRoot":""}