{"version":3,"sources":["webpack:///./images/empty.svg","webpack:///./node_modules/highlight.js/lib/languages/htmlbars.js","webpack:///./node_modules/highlight.js/lib/languages/json.js","webpack:///./node_modules/highlight.js/lib/languages/markdown.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/json.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/markdown.js","webpack:///./src/components/ImportModal/index.tsx","webpack:///./src/components/IndeterminateCheckbox/index.tsx","webpack:///./src/components/ListView/ActionsBar.tsx","webpack:///./src/components/ListView/CardCollection.tsx","webpack:///./src/components/ListView/CardSortSelect.tsx","webpack:///./src/components/ListView/Filters/Base.ts","webpack:///./src/components/ListView/Filters/DateRange.tsx","webpack:///./src/components/ListView/Filters/Search.tsx","webpack:///./src/components/ListView/Filters/Select.tsx","webpack:///./src/components/ListView/Filters/index.tsx","webpack:///./src/components/ListView/ListView.tsx","webpack:///./src/components/ListView/index.ts","webpack:///./src/components/ListView/types.ts","webpack:///./src/components/ListView/utils.ts","webpack:///./src/components/SearchInput/index.tsx","webpack:///./src/views/CRUD/data/common.ts","webpack:///./src/views/CRUD/data/components/SyntaxHighlighterCopy/index.tsx","webpack:///./src/views/CRUD/data/hooks.ts","webpack:///./src/views/CRUD/data/savedquery/SavedQueryList.tsx","webpack:///./src/views/CRUD/data/savedquery/SavedQueryPreviewModal.tsx"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAqB,gDAAgD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe,GAAG,wCAAwC;;AAE5R;;AAE/B,wBAAwB,mDAAmB;AAC3C;AACA;AACA;AACA;AACA,CAAC;;AAED,yBAAyB,mDAAmB;AAC5C;AACA;AACA,CAAC;;AAED;AACA,sBAAsB,mDAAmB;AACzC;AACA;AACA;AACA,GAAG;AACH;;AAEe,oFAAuB,yCAAyC,EAAC;;;;;;;;;;;;ACxBhF;AACA,WAAW,OAAO;AAClB,aAAa;AACb;;AAEA;AACA,WAAW,iBAAiB;AAC5B,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,sBAAsB;AACjC,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,aAAa,EAAE;AAC1D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,kBAAkB,KAAK,OAAO;AAC/D;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,GAAG;;AAEH,qDAAqD,YAAY,EAAE;AACnE,4DAA4D,iBAAiB,EAAE;;AAE/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,EAAE,WAAW,EAAE;AACrC,sBAAsB,EAAE,OAAO,EAAE;AACjC;AACA,+BAA+B,OAAO,2BAA2B,QAAQ;AACzE;AACA,kBAAkB,EAAE,EAAE,EAAE;AACxB,gBAAgB,EAAE,EAAE,EAAE;AACtB;AACA,iBAAiB,QAAQ,EAAE,EAAE,EAAE;AAC/B,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE,EAAE,EAAE;AACxB,gBAAgB,EAAE,EAAE,EAAE;AACtB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA,kBAAkB,EAAE,SAAS,EAAE;AAC/B,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE,EAAE;AACtB,gBAAgB,EAAE,EAAE;AACpB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AC/SA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY,GAAG,uBAAuB;AAC7C,OAAO,YAAY,GAAG,uBAAuB;AAC7C;AACA,OAAO,iCAAiC;AACxC,OAAO,iCAAiC;AACxC,OAAO,iBAAiB;AACxB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,WAAW,aAAa,EAAE;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,UAAU,EAAE,WAAW,EAAE,GAAG;AACnC,OAAO,WAAW,EAAE,YAAY,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,+BAA+B;AACtC,OAAO,yCAAyC;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,IAAI;AACvB;AACA;AACA,QAAQ;AACR;AACA,+BAA+B,GAAG;AAClC;AACA,WAAW,mBAAmB;AAC9B,WAAW,gDAAgD;AAC3D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAC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","file":"SavedQueryList.9ed865ea.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M83.195 1.366L103 24v38a4 4 0 01-4 4H20a4 4 0 01-4-4V24L35.805 1.366A4 4 0 0138.815 0h41.37a4 4 0 013.01 1.366zM101 26v36a2 2 0 01-2 2H20a2 2 0 01-2-2V26h17.25A4.75 4.75 0 0140 30.75a6.75 6.75 0 006.75 6.75h25.5A6.75 6.75 0 0079 30.75 4.75 4.75 0 0183.75 26H101zm-.658-2L81.69 2.683A2 2 0 0080.185 2h-41.37a2 2 0 00-1.505.683L18.657 24H35.25A6.75 6.75 0 0142 30.75a4.75 4.75 0 004.75 4.75h25.5A4.75 4.75 0 0077 30.75 6.75 6.75 0 0183.75 24h16.592z\",\n  fill: \"#D1D1D1\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 53.29C6.074 55.7 0 58.94 0 62.5 0 69.956 26.64 76 59.5 76S119 69.956 119 62.5c0-3.56-6.074-6.799-16-9.21V62a4 4 0 01-4 4H20a4 4 0 01-4-4v-8.71z\",\n  fill: \"#F2F2F2\"\n});\n\nfunction SvgEmpty(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 119,\n    height: 76,\n    fill: \"none\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"139f4a903d3a105300fc2d4c22f0931d.svg\";\nexport { SvgEmpty as ReactComponent };","/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/*\nLanguage: Handlebars\nRequires: xml.js\nAuthor: Robin Ward <robin.ward@gmail.com>\nDescription: Matcher for Handlebars as well as EmberJS additions.\nWebsite: https://handlebarsjs.com\nCategory: template\n*/\n\nfunction handlebars(hljs) {\n  const BUILT_INS = {\n    'builtin-name': [\n      'action',\n      'bindattr',\n      'collection',\n      'component',\n      'concat',\n      'debugger',\n      'each',\n      'each-in',\n      'get',\n      'hash',\n      'if',\n      'in',\n      'input',\n      'link-to',\n      'loc',\n      'log',\n      'lookup',\n      'mut',\n      'outlet',\n      'partial',\n      'query-params',\n      'render',\n      'template',\n      'textarea',\n      'unbound',\n      'unless',\n      'view',\n      'with',\n      'yield'\n    ].join(\" \")\n  };\n\n  const LITERALS = {\n    literal: [\n      'true',\n      'false',\n      'undefined',\n      'null'\n    ].join(\" \")\n  };\n\n  // as defined in https://handlebarsjs.com/guide/expressions.html#literal-segments\n  // this regex matches literal segments like ' abc ' or [ abc ] as well as helpers and paths\n  // like a/b, ./abc/cde, and abc.bcd\n\n  const DOUBLE_QUOTED_ID_REGEX=/\".*?\"/;\n  const SINGLE_QUOTED_ID_REGEX=/'.*?'/;\n  const BRACKET_QUOTED_ID_REGEX=/\\[.*?\\]/;\n  const PLAIN_ID_REGEX=/[^\\s!\"#%&'()*+,.\\/;<=>@\\[\\\\\\]^`{|}~]+/;\n  const PATH_DELIMITER_REGEX=/\\.|\\//;\n\n  const IDENTIFIER_REGEX = concat(\n    '(',\n    SINGLE_QUOTED_ID_REGEX, '|',\n    DOUBLE_QUOTED_ID_REGEX, '|',\n    BRACKET_QUOTED_ID_REGEX, '|',\n    PLAIN_ID_REGEX, '|',\n    PATH_DELIMITER_REGEX,\n    ')+'\n  );\n\n  // identifier followed by a equal-sign (without the equal sign)\n  const HASH_PARAM_REGEX = concat(\n    '(',\n    BRACKET_QUOTED_ID_REGEX, '|',\n    PLAIN_ID_REGEX,\n    ')(?==)'\n  );\n\n  const HELPER_NAME_OR_PATH_EXPRESSION = {\n    begin: IDENTIFIER_REGEX,\n    lexemes: /[\\w.\\/]+/\n  };\n\n  const HELPER_PARAMETER = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: LITERALS\n  });\n\n  const SUB_EXPRESSION = {\n    begin: /\\(/,\n    end: /\\)/\n    // the \"contains\" is added below when all necessary sub-modes are defined\n  };\n\n  const HASH = {\n    // fka \"attribute-assignment\", parameters of the form 'key=value'\n    className: 'attr',\n    begin: HASH_PARAM_REGEX,\n    relevance: 0,\n    starts: {\n      begin: /=/,\n      end: /=/,\n      starts: {\n        contains: [\n          hljs.NUMBER_MODE,\n          hljs.QUOTE_STRING_MODE,\n          hljs.APOS_STRING_MODE,\n          HELPER_PARAMETER,\n          SUB_EXPRESSION\n        ]\n      }\n    }\n  };\n\n  const BLOCK_PARAMS = {\n    // parameters of the form '{{#with x as | y |}}...{{/with}}'\n    begin: /as\\s+\\|/,\n    keywords: { keyword: 'as' },\n    end: /\\|/,\n    contains: [\n      {\n        // define sub-mode in order to prevent highlighting of block-parameter named \"as\"\n        begin: /\\w+/\n      }\n    ]\n  };\n\n  const HELPER_PARAMETERS = {\n    contains: [\n      hljs.NUMBER_MODE,\n      hljs.QUOTE_STRING_MODE,\n      hljs.APOS_STRING_MODE,\n      BLOCK_PARAMS,\n      HASH,\n      HELPER_PARAMETER,\n      SUB_EXPRESSION\n    ],\n    returnEnd: true\n    // the property \"end\" is defined through inheritance when the mode is used. If depends\n    // on the surrounding mode, but \"endsWithParent\" does not work here (i.e. it includes the\n    // end-token of the surrounding mode)\n  };\n\n  const SUB_EXPRESSION_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    className: 'name',\n    keywords: BUILT_INS,\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /\\)/,\n    })\n  });\n\n  SUB_EXPRESSION.contains = [\n    SUB_EXPRESSION_CONTENTS\n  ];\n\n  const OPENING_BLOCK_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: BUILT_INS,\n    className: 'name',\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /}}/,\n    })\n  });\n\n  const CLOSING_BLOCK_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: BUILT_INS,\n    className: 'name'\n  });\n\n  const BASIC_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    className: 'name',\n    keywords: BUILT_INS,\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /}}/,\n    })\n  });\n\n  const ESCAPE_MUSTACHE_WITH_PRECEEDING_BACKSLASH = {begin: /\\\\\\{\\{/, skip: true};\n  const PREVENT_ESCAPE_WITH_ANOTHER_PRECEEDING_BACKSLASH = {begin: /\\\\\\\\(?=\\{\\{)/, skip: true};\n\n  return {\n    name: 'Handlebars',\n    aliases: ['hbs', 'html.hbs', 'html.handlebars', 'htmlbars'],\n    case_insensitive: true,\n    subLanguage: 'xml',\n    contains: [\n      ESCAPE_MUSTACHE_WITH_PRECEEDING_BACKSLASH,\n      PREVENT_ESCAPE_WITH_ANOTHER_PRECEEDING_BACKSLASH,\n      hljs.COMMENT(/\\{\\{!--/, /--\\}\\}/),\n      hljs.COMMENT(/\\{\\{!/, /\\}\\}/),\n      {\n        // open raw block \"{{{{raw}}}} content not evaluated {{{{/raw}}}}\"\n        className: 'template-tag',\n        begin: /\\{\\{\\{\\{(?!\\/)/,\n        end: /\\}\\}\\}\\}/,\n        contains: [OPENING_BLOCK_MUSTACHE_CONTENTS],\n        starts: {end: /\\{\\{\\{\\{\\//, returnEnd: true, subLanguage: 'xml'}\n      },\n      {\n        // close raw block\n        className: 'template-tag',\n        begin: /\\{\\{\\{\\{\\//,\n        end: /\\}\\}\\}\\}/,\n        contains: [CLOSING_BLOCK_MUSTACHE_CONTENTS]\n      },\n      {\n        // open block statement\n        className: 'template-tag',\n        begin: /\\{\\{#/,\n        end: /\\}\\}/,\n        contains: [OPENING_BLOCK_MUSTACHE_CONTENTS],\n      },\n      {\n        className: 'template-tag',\n        begin: /\\{\\{(?=else\\}\\})/,\n        end: /\\}\\}/,\n        keywords: 'else'\n      },\n      {\n        className: 'template-tag',\n        begin: /\\{\\{(?=else if)/,\n        end: /\\}\\}/,\n        keywords: 'else if'\n      },\n      {\n        // closing block statement\n        className: 'template-tag',\n        begin: /\\{\\{\\//,\n        end: /\\}\\}/,\n        contains: [CLOSING_BLOCK_MUSTACHE_CONTENTS],\n      },\n      {\n        // template variable or helper-call that is NOT html-escaped\n        className: 'template-variable',\n        begin: /\\{\\{\\{/,\n        end: /\\}\\}\\}/,\n        contains: [BASIC_MUSTACHE_CONTENTS]\n      },\n      {\n        // template variable or helper-call that is html-escaped\n        className: 'template-variable',\n        begin: /\\{\\{/,\n        end: /\\}\\}/,\n        contains: [BASIC_MUSTACHE_CONTENTS]\n      }\n    ]\n  };\n}\n\n/*\n Language: HTMLBars (legacy)\n Requires: xml.js\n Description: Matcher for Handlebars as well as EmberJS additions.\n Website: https://github.com/tildeio/htmlbars\n Category: template\n */\n\nfunction htmlbars(hljs) {\n  const definition = handlebars(hljs);\n\n  definition.name = \"HTMLbars\";\n\n  // HACK: This lets handlebars do the auto-detection if it's been loaded (by\n  // default the build script will load in alphabetical order) and if not (perhaps\n  // an install is only using `htmlbars`, not `handlebars`) then this will still\n  // allow HTMLBars to participate in the auto-detection\n\n  // worse case someone will have HTMLbars and handlebars competing for the same\n  // content and will need to change their setup to only require handlebars, but\n  // I don't consider this a breaking change\n  if (hljs.getLanguage(\"handlebars\")) {\n    definition.disableAutodetect = true;\n  }\n\n  return definition\n}\n\nmodule.exports = htmlbars;\n","/*\nLanguage: JSON\nDescription: JSON (JavaScript Object Notation) is a lightweight data-interchange format.\nAuthor: Ivan Sagalaev <maniac@softwaremaniacs.org>\nWebsite: http://www.json.org\nCategory: common, protocols\n*/\n\nfunction json(hljs) {\n  var LITERALS = {literal: 'true false null'};\n  var ALLOWED_COMMENTS = [\n    hljs.C_LINE_COMMENT_MODE,\n    hljs.C_BLOCK_COMMENT_MODE\n  ];\n  var TYPES = [\n    hljs.QUOTE_STRING_MODE,\n    hljs.C_NUMBER_MODE\n  ];\n  var VALUE_CONTAINER = {\n    end: ',', endsWithParent: true, excludeEnd: true,\n    contains: TYPES,\n    keywords: LITERALS\n  };\n  var OBJECT = {\n    begin: '{', end: '}',\n    contains: [\n      {\n        className: 'attr',\n        begin: /\"/, end: /\"/,\n        contains: [hljs.BACKSLASH_ESCAPE],\n        illegal: '\\\\n',\n      },\n      hljs.inherit(VALUE_CONTAINER, {begin: /:/})\n    ].concat(ALLOWED_COMMENTS),\n    illegal: '\\\\S'\n  };\n  var ARRAY = {\n    begin: '\\\\[', end: '\\\\]',\n    contains: [hljs.inherit(VALUE_CONTAINER)], // inherit is a workaround for a bug that makes shared modes with endsWithParent compile only the ending of one of the parents\n    illegal: '\\\\S'\n  };\n  TYPES.push(OBJECT, ARRAY);\n  ALLOWED_COMMENTS.forEach(function(rule) {\n    TYPES.push(rule);\n  });\n  return {\n    name: 'JSON',\n    contains: TYPES,\n    keywords: LITERALS,\n    illegal: '\\\\S'\n  };\n}\n\nmodule.exports = json;\n","/*\nLanguage: Markdown\nRequires: xml.js\nAuthor: John Crepezzi <john.crepezzi@gmail.com>\nWebsite: https://daringfireball.net/projects/markdown/\nCategory: common, markup\n*/\n\nfunction markdown(hljs) {\n  const INLINE_HTML = {\n    begin: '<', end: '>',\n    subLanguage: 'xml',\n    relevance: 0\n  };\n  const HORIZONTAL_RULE = {\n    begin: '^[-\\\\*]{3,}', end: '$'\n  };\n  const CODE = {\n    className: 'code',\n    variants: [\n      // TODO: fix to allow these to work with sublanguage also\n      { begin: '(`{3,})(.|\\\\n)*?\\\\1`*[ ]*', },\n      { begin: '(~{3,})(.|\\\\n)*?\\\\1~*[ ]*', },\n      // needed to allow markdown as a sublanguage to work\n      { begin: '```', end: '```+[ ]*$' },\n      { begin: '~~~', end: '~~~+[ ]*$' },\n      { begin: '`.+?`' },\n      {\n        begin: '(?=^( {4}|\\\\t))',\n        // use contains to gobble up multiple lines to allow the block to be whatever size\n        // but only have a single open/close tag vs one per line\n        contains: [\n          { begin: '^( {4}|\\\\t)', end: '(\\\\n)$' }\n        ],\n        relevance: 0\n      }\n    ]\n  };\n  const LIST = {\n    className: 'bullet',\n    begin: '^[ \\t]*([*+-]|(\\\\d+\\\\.))(?=\\\\s+)',\n    end: '\\\\s+',\n    excludeEnd: true\n  };\n  const LINK_REFERENCE = {\n    begin: /^\\[[^\\n]+\\]:/,\n    returnBegin: true,\n    contains: [\n      {\n        className: 'symbol',\n        begin: /\\[/, end: /\\]/,\n        excludeBegin: true, excludeEnd: true\n      },\n      {\n        className: 'link',\n        begin: /:\\s*/, end: /$/,\n        excludeBegin: true\n      }\n    ]\n  };\n  const LINK = {\n    begin: '\\\\[.+?\\\\][\\\\(\\\\[].*?[\\\\)\\\\]]',\n    returnBegin: true,\n    contains: [\n      {\n        className: 'string',\n        begin: '\\\\[', end: '\\\\]',\n        excludeBegin: true,\n        returnEnd: true,\n        relevance: 0\n      },\n      {\n        className: 'link',\n        begin: '\\\\]\\\\(', end: '\\\\)',\n        excludeBegin: true, excludeEnd: true\n      },\n      {\n        className: 'symbol',\n        begin: '\\\\]\\\\[', end: '\\\\]',\n        excludeBegin: true, excludeEnd: true\n      }\n    ],\n    relevance: 10\n  };\n  const BOLD = {\n    className: 'strong',\n    contains: [],\n    variants: [\n      {begin: /_{2}/, end: /_{2}/ },\n      {begin: /\\*{2}/, end: /\\*{2}/ }\n    ]\n  };\n  const ITALIC = {\n    className: 'emphasis',\n    contains: [],\n    variants: [\n      { begin: /\\*(?!\\*)/, end: /\\*/ },\n      { begin: /_(?!_)/, end: /_/, relevance: 0},\n    ]\n  };\n  BOLD.contains.push(ITALIC);\n  ITALIC.contains.push(BOLD);\n\n  var CONTAINABLE = [\n    INLINE_HTML,\n    LINK\n  ];\n\n  BOLD.contains = BOLD.contains.concat(CONTAINABLE);\n  ITALIC.contains = ITALIC.contains.concat(CONTAINABLE);\n\n  CONTAINABLE = CONTAINABLE.concat(BOLD,ITALIC);\n\n  const HEADER = {\n    className: 'section',\n    variants: [\n      {\n        begin: '^#{1,6}',\n        end: '$',\n        contains: CONTAINABLE\n       },\n      {\n        begin: '(?=^.+?\\\\n[=-]{2,}$)',\n        contains: [\n          { begin: '^[=-]*$' },\n          { begin: '^', end: \"\\\\n\", contains: CONTAINABLE },\n        ]\n       }\n    ]\n  };\n\n  const BLOCKQUOTE = {\n    className: 'quote',\n    begin: '^>\\\\s+',\n    contains: CONTAINABLE,\n    end: '$',\n  };\n\n  return {\n    name: 'Markdown',\n    aliases: ['md', 'mkdown', 'mkd'],\n    contains: [\n      HEADER,\n      INLINE_HTML,\n      LIST,\n      BOLD,\n      ITALIC,\n      BLOCKQUOTE,\n      CODE,\n      HORIZONTAL_RULE,\n      LINK,\n      LINK_REFERENCE\n    ]\n  };\n}\n\nmodule.exports = markdown;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _htmlbars = _interopRequireDefault(require(\"highlight.js/lib/languages/htmlbars\"));\n\nvar _default = _htmlbars.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _json = _interopRequireDefault(require(\"highlight.js/lib/languages/json\"));\n\nvar _default = _json.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _markdown = _interopRequireDefault(require(\"highlight.js/lib/languages/markdown\"));\n\nvar _default = _markdown.default;\nexports.default = _default;","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { FunctionComponent, useEffect, useRef, useState } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\n\r\nimport Icon from 'src//components/Icon';\r\nimport Modal from 'src/components/Modal';\r\nimport { useImportResource } from 'src/views/CRUD/hooks';\r\nimport { ImportResourceName } from 'src/views/CRUD/types';\r\n\r\nexport const StyledIcon = styled(Icon)`\r\n  margin: auto ${({ theme }) => theme.gridUnit * 2}px auto 0;\r\n`;\r\n\r\nconst HelperMessage = styled.div`\r\n  display: block;\r\n  color: ${({ theme }) => theme.colors.grayscale.base};\r\n  font-size: ${({ theme }) => theme.typography.sizes.s - 1}px;\r\n`;\r\n\r\nconst StyledInputContainer = styled.div`\r\n  padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\r\n  padding-top: ${({ theme }) => theme.gridUnit * 2}px;\r\n\r\n  & > div {\r\n    margin: ${({ theme }) => theme.gridUnit}px 0;\r\n  }\r\n\r\n  &.extra-container {\r\n    padding-top: 8px;\r\n  }\r\n\r\n  .confirm-overwrite {\r\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\r\n  }\r\n\r\n  .input-container {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    label {\r\n      display: flex;\r\n      margin-right: ${({ theme }) => theme.gridUnit * 2}px;\r\n    }\r\n\r\n    i {\r\n      margin: 0 ${({ theme }) => theme.gridUnit}px;\r\n    }\r\n  }\r\n\r\n  input,\r\n  textarea {\r\n    flex: 1 1 auto;\r\n  }\r\n\r\n  textarea {\r\n    height: 160px;\r\n    resize: none;\r\n  }\r\n\r\n  input::placeholder,\r\n  textarea::placeholder {\r\n    color: ${({ theme }) => theme.colors.grayscale.light1};\r\n  }\r\n\r\n  textarea,\r\n  input[type='text'],\r\n  input[type='number'] {\r\n    padding: ${({ theme }) => theme.gridUnit * 1.5}px\r\n      ${({ theme }) => theme.gridUnit * 2}px;\r\n    border-style: none;\r\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n    border-radius: ${({ theme }) => theme.gridUnit}px;\r\n\r\n    &[name='name'] {\r\n      flex: 0 1 auto;\r\n      width: 40%;\r\n    }\r\n\r\n    &[name='sqlalchemy_uri'] {\r\n      margin-right: ${({ theme }) => theme.gridUnit * 3}px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport interface ImportModelsModalProps {\r\n  resourceName: ImportResourceName;\r\n  resourceLabel: string;\r\n  passwordsNeededMessage: string;\r\n  confirmOverwriteMessage: string;\r\n  addDangerToast: (msg: string) => void;\r\n  addSuccessToast: (msg: string) => void;\r\n  onModelImport: () => void;\r\n  show: boolean;\r\n  onHide: () => void;\r\n  passwordFields?: string[];\r\n  setPasswordFields?: (passwordFields: string[]) => void;\r\n}\r\n\r\nconst ImportModelsModal: FunctionComponent<ImportModelsModalProps> = ({\r\n  resourceName,\r\n  resourceLabel,\r\n  passwordsNeededMessage,\r\n  confirmOverwriteMessage,\r\n  addDangerToast,\r\n  addSuccessToast,\r\n  onModelImport,\r\n  show,\r\n  onHide,\r\n  passwordFields = [],\r\n  setPasswordFields = () => {},\r\n}) => {\r\n  const [isHidden, setIsHidden] = useState<boolean>(true);\r\n  const [uploadFile, setUploadFile] = useState<File | null>(null);\r\n  const [passwords, setPasswords] = useState<Record<string, string>>({});\r\n  const [needsOverwriteConfirm, setNeedsOverwriteConfirm] = useState<boolean>(\r\n    false,\r\n  );\r\n  const [confirmedOverwrite, setConfirmedOverwrite] = useState<boolean>(false);\r\n\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const clearModal = () => {\r\n    setUploadFile(null);\r\n    setPasswordFields([]);\r\n    setPasswords({});\r\n    setNeedsOverwriteConfirm(false);\r\n    setConfirmedOverwrite(false);\r\n    if (fileInputRef && fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const handleErrorMsg = (msg: string) => {\r\n    clearModal();\r\n    addDangerToast(msg);\r\n  };\r\n\r\n  const {\r\n    state: { alreadyExists, passwordsNeeded },\r\n    importResource,\r\n  } = useImportResource(resourceName, resourceLabel, handleErrorMsg);\r\n\r\n  useEffect(() => {\r\n    setPasswordFields(passwordsNeeded);\r\n  }, [passwordsNeeded, setPasswordFields]);\r\n\r\n  useEffect(() => {\r\n    setNeedsOverwriteConfirm(alreadyExists.length > 0);\r\n  }, [alreadyExists, setNeedsOverwriteConfirm]);\r\n\r\n  // Functions\r\n  const hide = () => {\r\n    setIsHidden(true);\r\n    onHide();\r\n    clearModal();\r\n  };\r\n\r\n  const onUpload = () => {\r\n    if (uploadFile === null) {\r\n      return;\r\n    }\r\n\r\n    importResource(uploadFile, passwords, confirmedOverwrite).then(result => {\r\n      if (result) {\r\n        addSuccessToast(t('The import was successful'));\r\n        clearModal();\r\n        onModelImport();\r\n      }\r\n    });\r\n  };\r\n\r\n  const changeFile = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { files } = event.target as HTMLInputElement;\r\n    setUploadFile((files && files[0]) || null);\r\n  };\r\n\r\n  const confirmOverwrite = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const targetValue = (event.currentTarget?.value as string) ?? '';\r\n    setConfirmedOverwrite(targetValue.toUpperCase() === t('OVERWRITE'));\r\n  };\r\n\r\n  const renderPasswordFields = () => {\r\n    if (passwordFields.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <h5>Database passwords</h5>\r\n        <HelperMessage>{passwordsNeededMessage}</HelperMessage>\r\n        {passwordFields.map(fileName => (\r\n          <StyledInputContainer key={`password-for-${fileName}`}>\r\n            <div className=\"control-label\">\r\n              {fileName}\r\n              <span className=\"required\">*</span>\r\n            </div>\r\n            <input\r\n              name={`password-${fileName}`}\r\n              autoComplete={`password-${fileName}`}\r\n              type=\"password\"\r\n              value={passwords[fileName]}\r\n              onChange={event =>\r\n                setPasswords({ ...passwords, [fileName]: event.target.value })\r\n              }\r\n            />\r\n          </StyledInputContainer>\r\n        ))}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderOverwriteConfirmation = () => {\r\n    if (!needsOverwriteConfirm) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <StyledInputContainer>\r\n          <div className=\"confirm-overwrite\">{confirmOverwriteMessage}</div>\r\n          <div className=\"control-label\">\r\n            {t('Type \"%s\" to confirm', t('OVERWRITE'))}\r\n          </div>\r\n          <input\r\n            data-test=\"overwrite-modal-input\"\r\n            id=\"overwrite\"\r\n            type=\"text\"\r\n            onChange={confirmOverwrite}\r\n          />\r\n        </StyledInputContainer>\r\n      </>\r\n    );\r\n  };\r\n\r\n  // Show/hide\r\n  if (isHidden && show) {\r\n    setIsHidden(false);\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      name=\"model\"\r\n      className=\"import-model-modal\"\r\n      disablePrimaryButton={\r\n        uploadFile === null || (needsOverwriteConfirm && !confirmedOverwrite)\r\n      }\r\n      onHandledPrimaryAction={onUpload}\r\n      onHide={hide}\r\n      primaryButtonName={needsOverwriteConfirm ? t('Overwrite') : t('Import')}\r\n      primaryButtonType={needsOverwriteConfirm ? 'danger' : 'primary'}\r\n      width=\"750px\"\r\n      show={show}\r\n      title={<h4>{t('Import %s', resourceLabel)}</h4>}\r\n    >\r\n      <StyledInputContainer>\r\n        <div className=\"control-label\">\r\n          <label htmlFor=\"modelFile\">\r\n            {t('File')}\r\n            <span className=\"required\">*</span>\r\n          </label>\r\n        </div>\r\n        <input\r\n          ref={fileInputRef}\r\n          data-test=\"model-file-input\"\r\n          name=\"modelFile\"\r\n          id=\"modelFile\"\r\n          type=\"file\"\r\n          accept=\".yaml,.json,.yml,.zip\"\r\n          onChange={changeFile}\r\n        />\r\n      </StyledInputContainer>\r\n      {renderPasswordFields()}\r\n      {renderOverwriteConfirmation()}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ImportModelsModal;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled } from '@superset-ui/core';\r\nimport Icon from 'src/components/Icon';\r\n\r\nexport interface IndeterminateCheckboxProps {\r\n  indeterminate: boolean;\r\n  id: string;\r\n  checked: boolean;\r\n  onChange: React.EventHandler<React.SyntheticEvent<HTMLInputElement>>;\r\n  title?: string;\r\n  labelText?: string;\r\n}\r\n\r\nconst CheckboxLabel = styled.label`\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  margin-bottom: 0;\r\n`;\r\n\r\nconst IconWithColor = styled(Icon)`\r\n  color: ${({ theme }) => theme.colors.primary.dark1};\r\n  cursor: pointer;\r\n`;\r\n\r\nconst HiddenInput = styled.input`\r\n  &[type='checkbox'] {\r\n    cursor: pointer;\r\n    opacity: 0;\r\n    position: absolute;\r\n    left: 3px;\r\n    margin: 0;\r\n    top: 4px;\r\n  }\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  position: relative;\r\n`;\r\n\r\nconst IndeterminateCheckbox = React.forwardRef(\r\n  (\r\n    {\r\n      indeterminate,\r\n      id,\r\n      checked,\r\n      onChange,\r\n      title = '',\r\n      labelText = '',\r\n    }: IndeterminateCheckboxProps,\r\n    ref: React.MutableRefObject<any>,\r\n  ) => {\r\n    const defaultRef = React.useRef<HTMLInputElement>();\r\n    const resolvedRef = ref || defaultRef;\r\n\r\n    React.useEffect(() => {\r\n      resolvedRef.current.indeterminate = indeterminate;\r\n    }, [resolvedRef, indeterminate]);\r\n\r\n    return (\r\n      <>\r\n        <InputContainer>\r\n          {indeterminate && <IconWithColor name=\"checkbox-half\" />}\r\n          {!indeterminate && checked && <IconWithColor name=\"checkbox-on\" />}\r\n          {!indeterminate && !checked && <Icon name=\"checkbox-off\" />}\r\n          <HiddenInput\r\n            name={id}\r\n            id={id}\r\n            type=\"checkbox\"\r\n            ref={resolvedRef}\r\n            checked={checked}\r\n            onChange={onChange}\r\n          />\r\n        </InputContainer>\r\n        <CheckboxLabel title={title} htmlFor={id}>\r\n          {labelText}\r\n        </CheckboxLabel>\r\n      </>\r\n    );\r\n  },\r\n);\r\n\r\nexport default IndeterminateCheckbox;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled } from '@superset-ui/core';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport { IconName } from 'src/components/Icon';\r\nimport Icons from 'src/components/Icons';\r\nimport { TooltipPlacement } from 'antd/lib/tooltip';\r\n\r\nexport type ActionProps = {\r\n  label: string;\r\n  tooltip?: string | React.ReactElement;\r\n  placement?: TooltipPlacement;\r\n  icon: IconName;\r\n  onClick: () => void;\r\n};\r\n\r\ninterface ActionsBarProps {\r\n  actions: Array<ActionProps>;\r\n}\r\n\r\nconst StyledActions = styled.span`\r\n  white-space: nowrap;\r\n  min-width: 100px;\r\n  svg,\r\n  i {\r\n    margin-right: 8px;\r\n\r\n    &:hover {\r\n      path {\r\n        fill: ${({ theme }) => theme.colors.primary.base};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst ActionWrapper = styled.span`\r\n  color: ${({ theme }) => theme.colors.grayscale.base};\r\n`;\r\n\r\nexport default function ActionsBar({ actions }: ActionsBarProps) {\r\n  return (\r\n    <StyledActions className=\"actions\">\r\n      {actions.map((action, index) => {\r\n        const ActionIcon = Icons[action.icon];\r\n        if (action.tooltip) {\r\n          return (\r\n            <Tooltip\r\n              id={`${action.label}-tooltip`}\r\n              title={action.tooltip}\r\n              placement={action.placement}\r\n              key={index}\r\n            >\r\n              <ActionWrapper\r\n                role=\"button\"\r\n                tabIndex={0}\r\n                className=\"action-button\"\r\n                data-test={action.label}\r\n                onClick={action.onClick}\r\n              >\r\n                <ActionIcon />\r\n              </ActionWrapper>\r\n            </Tooltip>\r\n          );\r\n        }\r\n\r\n        return (\r\n          <ActionWrapper\r\n            role=\"button\"\r\n            tabIndex={0}\r\n            className=\"action-button\"\r\n            onClick={action.onClick}\r\n            data-test={action.label}\r\n            key={index}\r\n          >\r\n            <ActionIcon />\r\n          </ActionWrapper>\r\n        );\r\n      })}\r\n    </StyledActions>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { TableInstance, Row } from 'react-table';\r\nimport { styled } from '@superset-ui/core';\r\nimport cx from 'classnames';\r\n\r\ninterface CardCollectionProps {\r\n  bulkSelectEnabled?: boolean;\r\n  loading: boolean;\r\n  prepareRow: TableInstance['prepareRow'];\r\n  renderCard?: (row: any) => React.ReactNode;\r\n  rows: TableInstance['rows'];\r\n}\r\n\r\nconst CardContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(459px, 1fr));\r\n  grid-gap: ${({ theme }) => theme.gridUnit * 8}px;\r\n`;\r\n\r\nconst CardWrapper = styled.div`\r\n  border: 2px solid transparent;\r\n  &.card-selected {\r\n    border: 2px solid ${({ theme }) => theme.colors.primary.base};\r\n  }\r\n  &.bulk-select {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default function CardCollection({\r\n  bulkSelectEnabled,\r\n  loading,\r\n  prepareRow,\r\n  renderCard,\r\n  rows,\r\n}: CardCollectionProps) {\r\n  function handleClick(\r\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>,\r\n    toggleRowSelected: Row['toggleRowSelected'],\r\n  ) {\r\n    if (bulkSelectEnabled) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      toggleRowSelected();\r\n    }\r\n  }\r\n\r\n  if (!renderCard) return null;\r\n  return (\r\n    <CardContainer>\r\n      {loading &&\r\n        rows.length === 0 &&\r\n        [...new Array(25)].map((e, i) => (\r\n          <div key={i}>{renderCard({ loading })}</div>\r\n        ))}\r\n      {rows.length > 0 &&\r\n        rows.map(row => {\r\n          if (!renderCard) return null;\r\n          prepareRow(row);\r\n          return (\r\n            <CardWrapper\r\n              className={cx({\r\n                'card-selected': bulkSelectEnabled && row.isSelected,\r\n                'bulk-select': bulkSelectEnabled,\r\n              })}\r\n              key={row.id}\r\n              onClick={e => handleClick(e, row.toggleRowSelected)}\r\n              role=\"none\"\r\n            >\r\n              {renderCard({ ...row.original, loading })}\r\n            </CardWrapper>\r\n          );\r\n        })}\r\n    </CardContainer>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport { styled, withTheme, SupersetThemeProps, t } from '@superset-ui/core';\r\nimport { PartialThemeConfig, Select } from 'src/components/Select';\r\nimport { CardSortSelectOption, FetchDataConfig, SortColumn } from './types';\r\nimport { filterSelectStyles } from './utils';\r\n\r\nconst SortTitle = styled.label`\r\n  font-weight: bold;\r\n  line-height: 27px;\r\n  margin: 0 0.4em 0 0;\r\n`;\r\n\r\nconst SortContainer = styled.div`\r\n  display: inline-flex;\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  padding-top: ${({ theme }) => theme.gridUnit}px;\r\n  text-align: left;\r\n`;\r\ninterface CardViewSelectSortProps {\r\n  onChange: (conf: FetchDataConfig) => any;\r\n  options: Array<CardSortSelectOption>;\r\n  initialSort?: SortColumn[];\r\n  pageIndex: number;\r\n  pageSize: number;\r\n}\r\n\r\ninterface StyledSelectProps {\r\n  onChange: (value: CardSortSelectOption) => void;\r\n  options: CardSortSelectOption[];\r\n  selectStyles: any;\r\n  theme: SupersetThemeProps['theme'];\r\n  value: CardSortSelectOption;\r\n}\r\n\r\nfunction StyledSelect({\r\n  onChange,\r\n  options,\r\n  selectStyles,\r\n  theme,\r\n  value,\r\n}: StyledSelectProps) {\r\n  const filterSelectTheme: PartialThemeConfig = {\r\n    spacing: {\r\n      baseUnit: 1,\r\n      fontSize: theme.typography.sizes.s,\r\n      minWidth: '5em',\r\n    },\r\n  };\r\n  return (\r\n    <Select\r\n      data-test=\"card-sort-select\"\r\n      clearable={false}\r\n      onChange={onChange}\r\n      options={options}\r\n      stylesConfig={selectStyles}\r\n      themeConfig={filterSelectTheme}\r\n      value={value}\r\n    />\r\n  );\r\n}\r\n\r\nconst StyledCardSortSelect = withTheme(StyledSelect);\r\n\r\nexport const CardSortSelect = ({\r\n  initialSort,\r\n  onChange,\r\n  options,\r\n  pageIndex,\r\n  pageSize,\r\n}: CardViewSelectSortProps) => {\r\n  const defaultSort =\r\n    initialSort && options.find(({ id }) => id === initialSort[0].id);\r\n  const [selectedOption, setSelectedOption] = useState<CardSortSelectOption>(\r\n    defaultSort || options[0],\r\n  );\r\n\r\n  const handleOnChange = (selected: CardSortSelectOption) => {\r\n    setSelectedOption(selected);\r\n    const sortBy = [{ id: selected.id, desc: selected.desc }];\r\n    onChange({ pageIndex, pageSize, sortBy, filters: [] });\r\n  };\r\n\r\n  return (\r\n    <SortContainer>\r\n      <SortTitle>{t('Sort:')}</SortTitle>\r\n      <StyledCardSortSelect\r\n        onChange={(value: CardSortSelectOption) => handleOnChange(value)}\r\n        options={options}\r\n        selectStyles={filterSelectStyles}\r\n        value={selectedOption}\r\n      />\r\n    </SortContainer>\r\n  );\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { ReactNode } from 'react';\r\nimport { styled } from '@superset-ui/core';\r\n\r\nexport interface BaseFilter {\r\n  Header: ReactNode;\r\n  initialValue: any;\r\n}\r\n\r\nexport const FilterContainer = styled.div`\r\n  display: inline-flex;\r\n  margin-right: 2em;\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  align-items: center;\r\n`;\r\n\r\nexport const FilterTitle = styled.label`\r\n  font-weight: bold;\r\n  margin: 0 0.4em 0 0;\r\n`;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState, useMemo } from 'react';\r\nimport moment, { Moment } from 'moment';\r\nimport { styled } from '@superset-ui/core';\r\nimport { RangePicker as AntRangePicker } from 'src/components/DatePicker';\r\nimport { FilterContainer, BaseFilter, FilterTitle } from './Base';\r\n\r\ninterface DateRangeFilterProps extends BaseFilter {\r\n  onSubmit: (val: number[]) => void;\r\n  name: string;\r\n}\r\n\r\ntype ValueState = [number, number];\r\n\r\nconst RangePicker = styled(AntRangePicker)`\r\n  padding: 0 11px;\r\n  transform: translateX(-7px);\r\n`;\r\n\r\nconst RangeFilterContainer = styled(FilterContainer)`\r\n  margin-right: 1em;\r\n`;\r\n\r\nexport default function DateRangeFilter({\r\n  Header,\r\n  initialValue,\r\n  onSubmit,\r\n}: DateRangeFilterProps) {\r\n  const [value, setValue] = useState<ValueState | null>(initialValue ?? null);\r\n  const momentValue = useMemo((): [Moment, Moment] | null => {\r\n    if (!value || (Array.isArray(value) && !value.length)) return null;\r\n    return [moment(value[0]), moment(value[1])];\r\n  }, [value]);\r\n\r\n  return (\r\n    <RangeFilterContainer>\r\n      <FilterTitle>{Header}:</FilterTitle>\r\n      <RangePicker\r\n        showTime\r\n        bordered={false}\r\n        value={momentValue}\r\n        onChange={momentRange => {\r\n          if (!momentRange) {\r\n            setValue(null);\r\n            onSubmit([]);\r\n            return;\r\n          }\r\n          const changeValue = [\r\n            momentRange[0]?.valueOf() ?? 0,\r\n            momentRange[1]?.valueOf() ?? 0,\r\n          ] as ValueState;\r\n          setValue(changeValue);\r\n          onSubmit(changeValue);\r\n        }}\r\n      />\r\n    </RangeFilterContainer>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport SearchInput from 'src/components/SearchInput';\r\nimport { FilterContainer, BaseFilter } from './Base';\r\n\r\ninterface SearchHeaderProps extends BaseFilter {\r\n  Header: string;\r\n  onSubmit: (val: string) => void;\r\n  name: string;\r\n}\r\n\r\nexport default function SearchFilter({\r\n  Header,\r\n  name,\r\n  initialValue,\r\n  onSubmit,\r\n}: SearchHeaderProps) {\r\n  const [value, setValue] = useState(initialValue || '');\r\n  const handleSubmit = () => {\r\n    if (value) {\r\n      onSubmit(value);\r\n    }\r\n  };\r\n  const onClear = () => {\r\n    setValue('');\r\n    onSubmit('');\r\n  };\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue(e.currentTarget.value);\r\n    if (e.currentTarget.value === '') {\r\n      onClear();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FilterContainer>\r\n      <SearchInput\r\n        data-test=\"filters-search\"\r\n        placeholder={Header}\r\n        name={name}\r\n        value={value}\r\n        onChange={handleChange}\r\n        onSubmit={handleSubmit}\r\n        onClear={onClear}\r\n      />\r\n    </FilterContainer>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport { withTheme, SupersetThemeProps } from '@superset-ui/core';\r\nimport {\r\n  Select,\r\n  PaginatedSelect,\r\n  PartialThemeConfig,\r\n} from 'src/components/Select';\r\nimport { Filter, SelectOption } from 'src/components/ListView/types';\r\nimport { filterSelectStyles } from 'src/components/ListView/utils';\r\nimport { FilterContainer, BaseFilter, FilterTitle } from './Base';\r\n\r\ninterface SelectFilterProps extends BaseFilter {\r\n  emptyLabel?: string;\r\n  fetchSelects?: Filter['fetchSelects'];\r\n  name?: string;\r\n  onSelect: (selected: any) => any;\r\n  paginate?: boolean;\r\n  selects: Filter['selects'];\r\n  theme: SupersetThemeProps['theme'];\r\n}\r\n\r\nconst CLEAR_SELECT_FILTER_VALUE = 'CLEAR_SELECT_FILTER_VALUE';\r\n\r\nfunction SelectFilter({\r\n  Header,\r\n  emptyLabel = 'None',\r\n  fetchSelects,\r\n  initialValue,\r\n  onSelect,\r\n  paginate = false,\r\n  selects = [],\r\n  theme,\r\n}: SelectFilterProps) {\r\n  const filterSelectTheme: PartialThemeConfig = {\r\n    spacing: {\r\n      baseUnit: 2,\r\n      fontSize: theme.typography.sizes.s,\r\n      minWidth: '5em',\r\n    },\r\n  };\r\n\r\n  const clearFilterSelect = {\r\n    label: emptyLabel,\r\n    value: CLEAR_SELECT_FILTER_VALUE,\r\n  };\r\n\r\n  const options = [clearFilterSelect, ...selects];\r\n  let initialOption = clearFilterSelect;\r\n\r\n  // Set initial value if not async\r\n  if (!fetchSelects) {\r\n    const matchingOption = options.find(x => x.value === initialValue);\r\n\r\n    if (matchingOption) {\r\n      initialOption = matchingOption;\r\n    }\r\n  }\r\n\r\n  const [selectedOption, setSelectedOption] = useState(initialOption);\r\n  const onChange = (selected: SelectOption | null) => {\r\n    if (selected === null) return;\r\n    onSelect(\r\n      selected.value === CLEAR_SELECT_FILTER_VALUE ? undefined : selected.value,\r\n    );\r\n    setSelectedOption(selected);\r\n  };\r\n\r\n  const fetchAndFormatSelects = async (\r\n    inputValue: string,\r\n    loadedOptions: SelectOption[],\r\n    { page }: { page: number },\r\n  ) => {\r\n    // only include clear filter when filter value does not exist\r\n    let result = inputValue || page > 0 ? [] : [clearFilterSelect];\r\n    let hasMore = paginate;\r\n    if (fetchSelects) {\r\n      const selectValues = await fetchSelects(inputValue, page);\r\n      // update matching option at initial load\r\n      if (!selectValues.length) {\r\n        hasMore = false;\r\n      }\r\n      result = [...result, ...selectValues];\r\n\r\n      const matchingOption = result.find(x => x.value === initialValue);\r\n\r\n      if (matchingOption) {\r\n        setSelectedOption(matchingOption);\r\n      }\r\n    }\r\n\r\n    return {\r\n      options: result,\r\n      hasMore,\r\n      additional: {\r\n        page: page + 1,\r\n      },\r\n    };\r\n  };\r\n\r\n  return (\r\n    <FilterContainer>\r\n      <FilterTitle>{Header}:</FilterTitle>\r\n      {fetchSelects ? (\r\n        <PaginatedSelect\r\n          data-test=\"filters-select\"\r\n          defaultOptions\r\n          themeConfig={filterSelectTheme}\r\n          stylesConfig={filterSelectStyles}\r\n          // @ts-ignore\r\n          value={selectedOption}\r\n          // @ts-ignore\r\n          onChange={onChange}\r\n          // @ts-ignore\r\n          loadOptions={fetchAndFormatSelects}\r\n          placeholder={emptyLabel}\r\n          clearable={false}\r\n          additional={{\r\n            page: 0,\r\n          }}\r\n        />\r\n      ) : (\r\n        <Select\r\n          data-test=\"filters-select\"\r\n          themeConfig={filterSelectTheme}\r\n          stylesConfig={filterSelectStyles}\r\n          value={selectedOption}\r\n          options={options}\r\n          onChange={onChange}\r\n          clearable={false}\r\n        />\r\n      )}\r\n    </FilterContainer>\r\n  );\r\n}\r\nexport default withTheme(SelectFilter);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled, withTheme } from '@superset-ui/core';\r\n\r\nimport {\r\n  FilterValue,\r\n  Filters,\r\n  InternalFilter,\r\n} from 'src/components/ListView/types';\r\nimport SearchFilter from './Search';\r\nimport SelectFilter from './Select';\r\nimport DateRangeFilter from './DateRange';\r\n\r\ninterface UIFiltersProps {\r\n  filters: Filters;\r\n  internalFilters: InternalFilter[];\r\n  updateFilterValue: (id: number, value: FilterValue['value']) => void;\r\n}\r\n\r\nconst FilterWrapper = styled.div`\r\n  display: inline-block;\r\n`;\r\n\r\nfunction UIFilters({\r\n  filters,\r\n  internalFilters = [],\r\n  updateFilterValue,\r\n}: UIFiltersProps) {\r\n  return (\r\n    <FilterWrapper>\r\n      {filters.map(\r\n        (\r\n          {\r\n            Header,\r\n            fetchSelects,\r\n            id,\r\n            input,\r\n            paginate,\r\n            selects,\r\n            unfilteredLabel,\r\n          },\r\n          index,\r\n        ) => {\r\n          const initialValue =\r\n            internalFilters[index] && internalFilters[index].value;\r\n          if (input === 'select') {\r\n            return (\r\n              <SelectFilter\r\n                Header={Header}\r\n                emptyLabel={unfilteredLabel}\r\n                fetchSelects={fetchSelects}\r\n                initialValue={initialValue}\r\n                key={id}\r\n                name={id}\r\n                onSelect={(value: any) => updateFilterValue(index, value)}\r\n                paginate={paginate}\r\n                selects={selects}\r\n              />\r\n            );\r\n          }\r\n          if (input === 'search' && typeof Header === 'string') {\r\n            return (\r\n              <SearchFilter\r\n                Header={Header}\r\n                initialValue={initialValue}\r\n                key={id}\r\n                name={id}\r\n                onSubmit={(value: string) => updateFilterValue(index, value)}\r\n              />\r\n            );\r\n          }\r\n          if (input === 'datetime_range') {\r\n            return (\r\n              <DateRangeFilter\r\n                Header={Header}\r\n                initialValue={initialValue}\r\n                key={id}\r\n                name={id}\r\n                onSubmit={value => updateFilterValue(index, value)}\r\n              />\r\n            );\r\n          }\r\n          return null;\r\n        },\r\n      )}\r\n    </FilterWrapper>\r\n  );\r\n}\r\n\r\nexport default withTheme(UIFilters);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t, styled } from '@superset-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport { Empty } from 'src/common/components';\r\nimport Alert from 'src/components/Alert';\r\nimport { ReactComponent as EmptyImage } from 'images/empty.svg';\r\nimport cx from 'classnames';\r\nimport Button from 'src/components/Button';\r\nimport Icon from 'src/components/Icon';\r\nimport IndeterminateCheckbox from 'src/components/IndeterminateCheckbox';\r\nimport { TableCollection, Pagination } from 'src/components/dataViewCommon';\r\nimport CardCollection from './CardCollection';\r\nimport FilterControls from './Filters';\r\nimport { CardSortSelect } from './CardSortSelect';\r\nimport {\r\n  FetchDataConfig,\r\n  Filters,\r\n  SortColumn,\r\n  CardSortSelectOption,\r\n  ViewModeType,\r\n} from './types';\r\nimport { ListViewError, useListViewState } from './utils';\r\n\r\nconst ListViewStyles = styled.div`\r\n  text-align: center;\r\n\r\n  .superset-list-view {\r\n    text-align: left;\r\n    border-radius: 4px 0;\r\n    margin: 0 ${({ theme }) => theme.gridUnit * 4}px;\r\n\r\n    .header {\r\n      display: flex;\r\n      padding-bottom: ${({ theme }) => theme.gridUnit * 4}px;\r\n\r\n      .header-left {\r\n        display: flex;\r\n        flex: 5;\r\n      }\r\n      .header-right {\r\n        flex: 1;\r\n        text-align: right;\r\n      }\r\n    }\r\n\r\n    .body.empty table {\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    .body {\r\n      overflow-x: auto;\r\n    }\r\n\r\n    .ant-empty {\r\n      .ant-empty-image {\r\n        height: auto;\r\n      }\r\n    }\r\n  }\r\n\r\n  .pagination-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    margin-bottom: ${({ theme }) => theme.gridUnit * 4}px;\r\n  }\r\n\r\n  .row-count-container {\r\n    margin-top: ${({ theme }) => theme.gridUnit * 2}px;\r\n    color: ${({ theme }) => theme.colors.grayscale.base};\r\n  }\r\n`;\r\n\r\nconst BulkSelectWrapper = styled(Alert)`\r\n  border-radius: 0;\r\n  margin-bottom: 0;\r\n  color: #3d3d3d;\r\n  background-color: ${({ theme }) => theme.colors.primary.light4};\r\n\r\n  .selectedCopy {\r\n    display: inline-block;\r\n    padding: ${({ theme }) => theme.gridUnit * 2}px 0;\r\n  }\r\n\r\n  .deselect-all {\r\n    color: #1985a0;\r\n    margin-left: ${({ theme }) => theme.gridUnit * 4}px;\r\n  }\r\n\r\n  .divider {\r\n    margin: ${({ theme: { gridUnit } }) =>\r\n      `${-gridUnit * 2}px 0 ${-gridUnit * 2}px ${gridUnit * 4}px`};\r\n    width: 1px;\r\n    height: ${({ theme }) => theme.gridUnit * 8}px;\r\n    box-shadow: inset -1px 0px 0px #dadada;\r\n    display: inline-flex;\r\n    vertical-align: middle;\r\n    position: relative;\r\n  }\r\n\r\n  .ant-alert-close-icon {\r\n    margin-top: ${({ theme }) => theme.gridUnit * 1.5}px;\r\n  }\r\n`;\r\n\r\nconst bulkSelectColumnConfig = {\r\n  Cell: ({ row }: any) => (\r\n    <IndeterminateCheckbox {...row.getToggleRowSelectedProps()} id={row.id} />\r\n  ),\r\n  Header: ({ getToggleAllRowsSelectedProps }: any) => (\r\n    <IndeterminateCheckbox\r\n      {...getToggleAllRowsSelectedProps()}\r\n      id=\"header-toggle-all\"\r\n    />\r\n  ),\r\n  id: 'selection',\r\n  size: 'sm',\r\n};\r\n\r\nconst ViewModeContainer = styled.div`\r\n  padding-right: ${({ theme }) => theme.gridUnit * 4}px;\r\n  display: inline-block;\r\n\r\n  .toggle-button {\r\n    display: inline-block;\r\n    border-radius: ${({ theme }) => theme.gridUnit / 2}px;\r\n    padding: ${({ theme }) => theme.gridUnit}px;\r\n    padding-bottom: 0;\r\n\r\n    &:first-of-type {\r\n      margin-right: ${({ theme }) => theme.gridUnit * 2}px;\r\n    }\r\n  }\r\n\r\n  .active {\r\n    background-color: ${({ theme }) => theme.colors.grayscale.base};\r\n    svg {\r\n      color: ${({ theme }) => theme.colors.grayscale.light5};\r\n    }\r\n  }\r\n`;\r\n\r\nconst EmptyWrapper = styled.div`\r\n  padding: ${({ theme }) => theme.gridUnit * 40}px 0;\r\n\r\n  &.table {\r\n    background: ${({ theme }) => theme.colors.grayscale.light5};\r\n  }\r\n`;\r\n\r\nconst ViewModeToggle = ({\r\n  mode,\r\n  setMode,\r\n}: {\r\n  mode: 'table' | 'card';\r\n  setMode: (mode: 'table' | 'card') => void;\r\n}) => (\r\n  <ViewModeContainer>\r\n    <div\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      onClick={e => {\r\n        e.currentTarget.blur();\r\n        setMode('card');\r\n      }}\r\n      className={cx('toggle-button', { active: mode === 'card' })}\r\n    >\r\n      <Icon name=\"card-view\" />\r\n    </div>\r\n    <div\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      onClick={e => {\r\n        e.currentTarget.blur();\r\n        setMode('table');\r\n      }}\r\n      className={cx('toggle-button', { active: mode === 'table' })}\r\n    >\r\n      <Icon name=\"list-view\" />\r\n    </div>\r\n  </ViewModeContainer>\r\n);\r\n\r\nexport interface ListViewProps<T extends object = any> {\r\n  columns: any[];\r\n  data: T[];\r\n  count: number;\r\n  pageSize: number;\r\n  fetchData: (conf: FetchDataConfig) => any;\r\n  loading: boolean;\r\n  className?: string;\r\n  initialSort?: SortColumn[];\r\n  filters?: Filters;\r\n  bulkActions?: Array<{\r\n    key: string;\r\n    name: React.ReactNode;\r\n    onSelect: (rows: any[]) => any;\r\n    type?: 'primary' | 'secondary' | 'danger';\r\n  }>;\r\n  bulkSelectEnabled?: boolean;\r\n  disableBulkSelect?: () => void;\r\n  renderBulkSelectCopy?: (selects: any[]) => React.ReactNode;\r\n  renderCard?: (row: T & { loading: boolean }) => React.ReactNode;\r\n  cardSortSelectOptions?: Array<CardSortSelectOption>;\r\n  defaultViewMode?: ViewModeType;\r\n  highlightRowId?: number;\r\n  emptyState?: {\r\n    message?: string;\r\n    slot?: React.ReactNode;\r\n  };\r\n}\r\n\r\nfunction ListView<T extends object = any>({\r\n  columns,\r\n  data,\r\n  count,\r\n  pageSize: initialPageSize,\r\n  fetchData,\r\n  loading,\r\n  initialSort = [],\r\n  className = '',\r\n  filters = [],\r\n  bulkActions = [],\r\n  bulkSelectEnabled = false,\r\n  disableBulkSelect = () => {},\r\n  renderBulkSelectCopy = selected => t('%s Selected', selected.length),\r\n  renderCard,\r\n  cardSortSelectOptions,\r\n  defaultViewMode = 'card',\r\n  highlightRowId,\r\n  emptyState = {},\r\n}: ListViewProps<T>) {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n    pageCount = 1,\r\n    gotoPage,\r\n    applyFilterValue,\r\n    selectedFlatRows,\r\n    toggleAllRowsSelected,\r\n    setViewMode,\r\n    state: { pageIndex, pageSize, internalFilters, viewMode },\r\n  } = useListViewState({\r\n    bulkSelectColumnConfig,\r\n    bulkSelectMode: bulkSelectEnabled && Boolean(bulkActions.length),\r\n    columns,\r\n    count,\r\n    data,\r\n    fetchData,\r\n    initialPageSize,\r\n    initialSort,\r\n    initialFilters: filters,\r\n    renderCard: Boolean(renderCard),\r\n    defaultViewMode,\r\n  });\r\n  const filterable = Boolean(filters.length);\r\n  if (filterable) {\r\n    const columnAccessors = columns.reduce(\r\n      (acc, col) => ({ ...acc, [col.id || col.accessor]: true }),\r\n      {},\r\n    );\r\n    filters.forEach(f => {\r\n      if (!columnAccessors[f.id]) {\r\n        throw new ListViewError(\r\n          `Invalid filter config, ${f.id} is not present in columns`,\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  const cardViewEnabled = Boolean(renderCard);\r\n\r\n  useEffect(() => {\r\n    // discard selections if bulk select is disabled\r\n    if (!bulkSelectEnabled) toggleAllRowsSelected(false);\r\n  }, [bulkSelectEnabled, toggleAllRowsSelected]);\r\n\r\n  return (\r\n    <ListViewStyles>\r\n      <div data-test={className} className={`superset-list-view ${className}`}>\r\n        <div className=\"header\">\r\n          <div className=\"header-left\">\r\n            {cardViewEnabled && (\r\n              <ViewModeToggle mode={viewMode} setMode={setViewMode} />\r\n            )}\r\n            {filterable && (\r\n              <FilterControls\r\n                filters={filters}\r\n                internalFilters={internalFilters}\r\n                updateFilterValue={applyFilterValue}\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"header-right\">\r\n            {viewMode === 'card' && cardSortSelectOptions && (\r\n              <CardSortSelect\r\n                initialSort={initialSort}\r\n                onChange={fetchData}\r\n                options={cardSortSelectOptions}\r\n                pageIndex={pageIndex}\r\n                pageSize={pageSize}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className={`body ${rows.length === 0 ? 'empty' : ''}`}>\r\n          {bulkSelectEnabled && (\r\n            <BulkSelectWrapper\r\n              data-test=\"bulk-select-controls\"\r\n              type=\"info\"\r\n              closable\r\n              showIcon={false}\r\n              onClose={disableBulkSelect}\r\n              message={\r\n                <>\r\n                  <div className=\"selectedCopy\" data-test=\"bulk-select-copy\">\r\n                    {renderBulkSelectCopy(selectedFlatRows)}\r\n                  </div>\r\n                  {Boolean(selectedFlatRows.length) && (\r\n                    <>\r\n                      <span\r\n                        data-test=\"bulk-select-deselect-all\"\r\n                        role=\"button\"\r\n                        tabIndex={0}\r\n                        className=\"deselect-all\"\r\n                        onClick={() => toggleAllRowsSelected(false)}\r\n                      >\r\n                        {t('Deselect all')}\r\n                      </span>\r\n                      <div className=\"divider\" />\r\n                      {bulkActions.map(action => (\r\n                        <Button\r\n                          data-test=\"bulk-select-action\"\r\n                          key={action.key}\r\n                          buttonStyle={action.type}\r\n                          cta\r\n                          onClick={() =>\r\n                            action.onSelect(\r\n                              selectedFlatRows.map(r => r.original),\r\n                            )\r\n                          }\r\n                        >\r\n                          {action.name}\r\n                        </Button>\r\n                      ))}\r\n                    </>\r\n                  )}\r\n                </>\r\n              }\r\n            />\r\n          )}\r\n          {viewMode === 'card' && (\r\n            <CardCollection\r\n              bulkSelectEnabled={bulkSelectEnabled}\r\n              prepareRow={prepareRow}\r\n              renderCard={renderCard}\r\n              rows={rows}\r\n              loading={loading}\r\n            />\r\n          )}\r\n          {viewMode === 'table' && (\r\n            <TableCollection\r\n              getTableProps={getTableProps}\r\n              getTableBodyProps={getTableBodyProps}\r\n              prepareRow={prepareRow}\r\n              headerGroups={headerGroups}\r\n              rows={rows}\r\n              columns={columns}\r\n              loading={loading}\r\n              highlightRowId={highlightRowId}\r\n            />\r\n          )}\r\n          {!loading && rows.length === 0 && (\r\n            <EmptyWrapper className={viewMode}>\r\n              <Empty\r\n                image={<EmptyImage />}\r\n                description={emptyState.message || t('No Data')}\r\n              >\r\n                {emptyState.slot || null}\r\n              </Empty>\r\n            </EmptyWrapper>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {rows.length > 0 && (\r\n        <div className=\"pagination-container\">\r\n          <Pagination\r\n            totalPages={pageCount || 0}\r\n            currentPage={pageCount ? pageIndex + 1 : 0}\r\n            onChange={(p: number) => gotoPage(p - 1)}\r\n            hideFirstAndLastPageLinks\r\n          />\r\n          <div className=\"row-count-container\">\r\n            {!loading &&\r\n              t(\r\n                '%s-%s of %s',\r\n                pageSize * pageIndex + (rows.length && 1),\r\n                pageSize * pageIndex + rows.length,\r\n                count,\r\n              )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </ListViewStyles>\r\n  );\r\n}\r\n\r\nexport default ListView;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nexport * from './ListView';\r\nexport * from './types';\r\n\r\nexport { default } from './ListView';\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { ReactNode } from 'react';\r\n\r\nexport interface SortColumn {\r\n  id: string;\r\n  desc?: boolean;\r\n}\r\n\r\nexport type SortColumns = SortColumn[];\r\n\r\nexport interface SelectOption {\r\n  label: string;\r\n  value: any;\r\n}\r\n\r\nexport interface CardSortSelectOption {\r\n  desc: boolean;\r\n  id: any;\r\n  label: string;\r\n  value: any;\r\n}\r\n\r\nexport interface Filter {\r\n  Header: ReactNode;\r\n  id: string;\r\n  urlDisplay?: string;\r\n  operator?: FilterOperator;\r\n  input?:\r\n    | 'text'\r\n    | 'textarea'\r\n    | 'select'\r\n    | 'checkbox'\r\n    | 'search'\r\n    | 'datetime_range';\r\n  unfilteredLabel?: string;\r\n  selects?: SelectOption[];\r\n  onFilterOpen?: () => void;\r\n  fetchSelects?: (\r\n    filterValue?: string,\r\n    pageIndex?: number,\r\n    pageSize?: number,\r\n  ) => Promise<SelectOption[]>;\r\n  paginate?: boolean;\r\n}\r\n\r\nexport type Filters = Filter[];\r\n\r\nexport type ViewModeType = 'card' | 'table';\r\n\r\nexport interface FilterValue {\r\n  id: string;\r\n  urlDisplay?: string;\r\n  operator?: string;\r\n  value: string | boolean | number | null | undefined | string[] | number[];\r\n}\r\n\r\nexport interface FetchDataConfig {\r\n  pageIndex: number;\r\n  pageSize: number;\r\n  sortBy: SortColumns;\r\n  filters: FilterValue[];\r\n}\r\n\r\nexport interface InternalFilter extends FilterValue {\r\n  Header?: string;\r\n}\r\n\r\nexport enum FilterOperator {\r\n  startsWith = 'sw',\r\n  endsWith = 'ew',\r\n  contains = 'ct',\r\n  equals = 'eq',\r\n  notStartsWith = 'nsw',\r\n  notEndsWith = 'new',\r\n  notContains = 'nct',\r\n  notEquals = 'neq',\r\n  greaterThan = 'gt',\r\n  lessThan = 'lt',\r\n  relationManyMany = 'rel_m_m',\r\n  relationOneMany = 'rel_o_m',\r\n  titleOrSlug = 'title_or_slug',\r\n  nameOrDescription = 'name_or_description',\r\n  allText = 'all_text',\r\n  chartAllText = 'chart_all_text',\r\n  datasetIsNullOrEmpty = 'dataset_is_null_or_empty',\r\n  between = 'between',\r\n  dashboardIsFav = 'dashboard_is_favorite',\r\n  chartIsFav = 'chart_is_favorite',\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  useFilters,\r\n  usePagination,\r\n  useRowSelect,\r\n  useRowState,\r\n  useSortBy,\r\n  useTable,\r\n} from 'react-table';\r\n\r\nimport {\r\n  NumberParam,\r\n  StringParam,\r\n  useQueryParams,\r\n  QueryParamConfig,\r\n} from 'use-query-params';\r\n\r\nimport rison from 'rison';\r\nimport { isEqual } from 'lodash';\r\nimport { PartialStylesConfig } from 'src/components/Select';\r\nimport {\r\n  FetchDataConfig,\r\n  Filter,\r\n  FilterValue,\r\n  InternalFilter,\r\n  SortColumn,\r\n  ViewModeType,\r\n} from './types';\r\n\r\n// Define custom RisonParam for proper encoding/decoding\r\nconst RisonParam: QueryParamConfig<string, any> = {\r\n  encode: (data?: any | null) =>\r\n    data === undefined ? undefined : rison.encode(data),\r\n  decode: (dataStr?: string | string[]) =>\r\n    dataStr === undefined || Array.isArray(dataStr)\r\n      ? undefined\r\n      : rison.decode(dataStr),\r\n};\r\n\r\nexport class ListViewError extends Error {\r\n  name = 'ListViewError';\r\n}\r\n\r\n// removes element from a list, returns new list\r\nexport function removeFromList(list: any[], index: number): any[] {\r\n  return list.filter((_, i) => index !== i);\r\n}\r\n\r\n// apply update to elements of object list, returns new list\r\nfunction updateInList(list: any[], index: number, update: any): any[] {\r\n  const element = list.find((_, i) => index === i);\r\n\r\n  return [\r\n    ...list.slice(0, index),\r\n    { ...element, ...update },\r\n    ...list.slice(index + 1),\r\n  ];\r\n}\r\n\r\ntype QueryFilterState = {\r\n  [id: string]: FilterValue['value'];\r\n};\r\n\r\nfunction mergeCreateFilterValues(list: Filter[], updateObj: QueryFilterState) {\r\n  return list.map(({ id, urlDisplay, operator }) => {\r\n    const currentFilterId = urlDisplay || id;\r\n    const update = updateObj[currentFilterId];\r\n\r\n    return { id, urlDisplay, operator, value: update };\r\n  });\r\n}\r\n\r\n// convert filters from UI objects to data objects\r\nexport function convertFilters(fts: InternalFilter[]): FilterValue[] {\r\n  return fts\r\n    .filter(\r\n      f =>\r\n        !(\r\n          typeof f.value === 'undefined' ||\r\n          (Array.isArray(f.value) && !f.value.length)\r\n        ),\r\n    )\r\n    .map(({ value, operator, id }) => {\r\n      // handle between filter using 2 api filters\r\n      if (operator === 'between' && Array.isArray(value)) {\r\n        return [\r\n          {\r\n            value: value[0],\r\n            operator: 'gt',\r\n            id,\r\n          },\r\n          {\r\n            value: value[1],\r\n            operator: 'lt',\r\n            id,\r\n          },\r\n        ];\r\n      }\r\n      return {\r\n        value,\r\n        operator,\r\n        id,\r\n      };\r\n    })\r\n    .flat();\r\n}\r\n\r\n// convertFilters but to handle new decoded rison format\r\nexport function convertFiltersRison(\r\n  filterObj: any,\r\n  list: Filter[],\r\n): FilterValue[] {\r\n  const filters: FilterValue[] = [];\r\n  const refs = {};\r\n\r\n  Object.keys(filterObj).forEach(id => {\r\n    const filter: FilterValue = {\r\n      id,\r\n      value: filterObj[id],\r\n      // operator: filterObj[id][1], // TODO: can probably get rid of this\r\n    };\r\n\r\n    refs[id] = filter;\r\n    filters.push(filter);\r\n  });\r\n\r\n  // Add operators from filter list\r\n  list.forEach(value => {\r\n    const currentFilterId = value.urlDisplay || value.id;\r\n    const filter = refs[currentFilterId];\r\n\r\n    if (filter) {\r\n      filter.operator = value.operator;\r\n      filter.id = value.id;\r\n    }\r\n  });\r\n\r\n  return filters;\r\n}\r\n\r\nexport function extractInputValue(inputType: Filter['input'], event: any) {\r\n  if (!inputType || inputType === 'text') {\r\n    return event.currentTarget.value;\r\n  }\r\n  if (inputType === 'checkbox') {\r\n    return event.currentTarget.checked;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\ninterface UseListViewConfig {\r\n  fetchData: (conf: FetchDataConfig) => any;\r\n  columns: any[];\r\n  data: any[];\r\n  count: number;\r\n  initialPageSize: number;\r\n  initialSort?: SortColumn[];\r\n  bulkSelectMode?: boolean;\r\n  initialFilters?: Filter[];\r\n  bulkSelectColumnConfig?: {\r\n    id: string;\r\n    Header: (conf: any) => React.ReactNode;\r\n    Cell: (conf: any) => React.ReactNode;\r\n  };\r\n  renderCard?: boolean;\r\n  defaultViewMode?: ViewModeType;\r\n}\r\n\r\nexport function useListViewState({\r\n  fetchData,\r\n  columns,\r\n  data,\r\n  count,\r\n  initialPageSize,\r\n  initialFilters = [],\r\n  initialSort = [],\r\n  bulkSelectMode = false,\r\n  bulkSelectColumnConfig,\r\n  renderCard = false,\r\n  defaultViewMode = 'card',\r\n}: UseListViewConfig) {\r\n  const [query, setQuery] = useQueryParams({\r\n    filters: RisonParam,\r\n    pageIndex: NumberParam,\r\n    sortColumn: StringParam,\r\n    sortOrder: StringParam,\r\n    viewMode: StringParam,\r\n  });\r\n\r\n  const initialSortBy = useMemo(\r\n    () =>\r\n      query.sortColumn && query.sortOrder\r\n        ? [{ id: query.sortColumn, desc: query.sortOrder === 'desc' }]\r\n        : initialSort,\r\n    [query.sortColumn, query.sortOrder],\r\n  );\r\n\r\n  const initialState = {\r\n    filters: query.filters\r\n      ? convertFiltersRison(query.filters, initialFilters)\r\n      : [],\r\n    pageIndex: query.pageIndex || 0,\r\n    pageSize: initialPageSize,\r\n    sortBy: initialSortBy,\r\n  };\r\n\r\n  const [viewMode, setViewMode] = useState<ViewModeType>(\r\n    (query.viewMode as ViewModeType) ||\r\n      (renderCard ? defaultViewMode : 'table'),\r\n  );\r\n\r\n  const columnsWithSelect = useMemo(() => {\r\n    // add exact filter type so filters with falsey values are not filtered out\r\n    const columnsWithFilter = columns.map(f => ({ ...f, filter: 'exact' }));\r\n    return bulkSelectMode\r\n      ? [bulkSelectColumnConfig, ...columnsWithFilter]\r\n      : columnsWithFilter;\r\n  }, [bulkSelectMode, columns]);\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageCount,\r\n    gotoPage,\r\n    setAllFilters,\r\n    selectedFlatRows,\r\n    toggleAllRowsSelected,\r\n    state: { pageIndex, pageSize, sortBy, filters },\r\n  } = useTable(\r\n    {\r\n      columns: columnsWithSelect,\r\n      count,\r\n      data,\r\n      disableFilters: true,\r\n      disableSortRemove: true,\r\n      initialState,\r\n      manualFilters: true,\r\n      manualPagination: true,\r\n      manualSortBy: true,\r\n      autoResetFilters: false,\r\n      pageCount: Math.ceil(count / initialPageSize),\r\n    },\r\n    useFilters,\r\n    useSortBy,\r\n    usePagination,\r\n    useRowState,\r\n    useRowSelect,\r\n  );\r\n\r\n  const [internalFilters, setInternalFilters] = useState<InternalFilter[]>(\r\n    query.filters && initialFilters.length\r\n      ? mergeCreateFilterValues(initialFilters, query.filters)\r\n      : [],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (initialFilters.length) {\r\n      setInternalFilters(\r\n        mergeCreateFilterValues(\r\n          initialFilters,\r\n          query.filters ? query.filters : {},\r\n        ),\r\n      );\r\n    }\r\n  }, [initialFilters]);\r\n\r\n  useEffect(() => {\r\n    // From internalFilters, produce a simplified obj\r\n    const filterObj = {};\r\n\r\n    internalFilters.forEach(filter => {\r\n      if (\r\n        filter.value !== undefined &&\r\n        (typeof filter.value !== 'string' || filter.value.length > 0)\r\n      ) {\r\n        const currentFilterId = filter.urlDisplay || filter.id;\r\n        filterObj[currentFilterId] = filter.value;\r\n      }\r\n    });\r\n\r\n    const queryParams: any = {\r\n      filters: Object.keys(filterObj).length ? filterObj : undefined,\r\n      pageIndex,\r\n    };\r\n    if (sortBy[0]) {\r\n      queryParams.sortColumn = sortBy[0].id;\r\n      queryParams.sortOrder = sortBy[0].desc ? 'desc' : 'asc';\r\n    }\r\n\r\n    if (renderCard) {\r\n      queryParams.viewMode = viewMode;\r\n    }\r\n\r\n    const method =\r\n      typeof query.pageIndex !== 'undefined' &&\r\n      queryParams.pageIndex !== query.pageIndex\r\n        ? 'push'\r\n        : 'replace';\r\n\r\n    setQuery(queryParams, method);\r\n\r\n    fetchData({ pageIndex, pageSize, sortBy, filters });\r\n  }, [fetchData, pageIndex, pageSize, sortBy, filters]);\r\n\r\n  useEffect(() => {\r\n    if (!isEqual(initialState.pageIndex, pageIndex)) {\r\n      gotoPage(initialState.pageIndex);\r\n    }\r\n  }, [query]);\r\n\r\n  const applyFilterValue = (index: number, value: any) => {\r\n    setInternalFilters(currentInternalFilters => {\r\n      // skip redunundant updates\r\n      if (currentInternalFilters[index].value === value) {\r\n        return currentInternalFilters;\r\n      }\r\n\r\n      const update = { ...currentInternalFilters[index], value };\r\n      const updatedFilters = updateInList(\r\n        currentInternalFilters,\r\n        index,\r\n        update,\r\n      );\r\n\r\n      setAllFilters(convertFilters(updatedFilters));\r\n      gotoPage(0); // clear pagination on filter\r\n      return updatedFilters;\r\n    });\r\n  };\r\n\r\n  return {\r\n    canNextPage,\r\n    canPreviousPage,\r\n    getTableBodyProps,\r\n    getTableProps,\r\n    gotoPage,\r\n    headerGroups,\r\n    pageCount,\r\n    prepareRow,\r\n    rows,\r\n    selectedFlatRows,\r\n    setAllFilters,\r\n    state: { pageIndex, pageSize, sortBy, filters, internalFilters, viewMode },\r\n    toggleAllRowsSelected,\r\n    applyFilterValue,\r\n    setViewMode,\r\n  };\r\n}\r\n\r\nexport const filterSelectStyles: PartialStylesConfig = {\r\n  container: (provider, { getValue }) => ({\r\n    ...provider,\r\n    // dynamic width based on label string length\r\n    minWidth: `${Math.min(\r\n      12,\r\n      Math.max(5, 3 + getValue()[0].label.length / 2),\r\n    )}em`,\r\n  }),\r\n  control: provider => ({\r\n    ...provider,\r\n    borderWidth: 0,\r\n    boxShadow: 'none',\r\n    cursor: 'pointer',\r\n    backgroundColor: 'transparent',\r\n  }),\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { styled } from '@superset-ui/core';\r\nimport React from 'react';\r\nimport Icon from 'src/components/Icon';\r\n\r\nexport interface SearchInputProps {\r\n  onSubmit: () => void;\r\n  onClear: () => void;\r\n  value: string;\r\n  onChange: React.EventHandler<React.ChangeEvent<HTMLInputElement>>;\r\n  placeholder?: string;\r\n  name?: string;\r\n}\r\n\r\nconst SearchInputWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  width: 200px;\r\n  height: ${({ theme }) => theme.gridUnit * 8}px;\r\n  background-image: none;\r\n  border: 1px solid ${({ theme }) => theme.colors.secondary.light2};\r\n  border-radius: 4px;\r\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\r\n  padding: 4px 28px;\r\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst commonStyles = `\r\n  position: absolute;\r\n  z-index: 2;\r\n  display: block;\r\n  cursor: pointer;\r\n`;\r\nconst SearchIcon = styled(Icon)`\r\n  ${commonStyles};\r\n  top: 4px;\r\n  left: 2px;\r\n`;\r\n\r\nconst ClearIcon = styled(Icon)`\r\n  ${commonStyles};\r\n  right: 0px;\r\n  top: 4px;\r\n`;\r\n\r\nexport default function SearchInput({\r\n  onChange,\r\n  onClear,\r\n  onSubmit,\r\n  placeholder = 'Search',\r\n  name,\r\n  value,\r\n}: SearchInputProps) {\r\n  return (\r\n    <SearchInputWrapper>\r\n      <SearchIcon\r\n        data-test=\"search-submit\"\r\n        role=\"button\"\r\n        name=\"search\"\r\n        onClick={() => onSubmit()}\r\n      />\r\n      <StyledInput\r\n        data-test=\"search-input\"\r\n        onKeyDown={e => {\r\n          if (e.key === 'Enter') {\r\n            onSubmit();\r\n          }\r\n        }}\r\n        onBlur={() => onSubmit()}\r\n        placeholder={placeholder}\r\n        onChange={onChange}\r\n        value={value}\r\n        name={name}\r\n      />\r\n      {value && (\r\n        <ClearIcon\r\n          data-test=\"search-clear\"\r\n          role=\"button\"\r\n          name=\"cancel-x\"\r\n          onClick={() => onClear()}\r\n        />\r\n      )}\r\n    </SearchInputWrapper>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t } from '@superset-ui/core';\r\n\r\nexport const commonMenuData = {\r\n  name: t('Data'),\r\n  tabs: [\r\n    {\r\n      name: 'Databases',\r\n      label: t('Databases'),\r\n      url: '/databaseview/list/',\r\n      usesRouter: true,\r\n    },\r\n    {\r\n      name: 'Datasets',\r\n      label: t('Datasets'),\r\n      url: '/tablemodelview/list/',\r\n      usesRouter: true,\r\n    },\r\n    {\r\n      name: 'Saved queries',\r\n      label: t('Saved queries'),\r\n      url: '/savedqueryview/list/',\r\n      usesRouter: true,\r\n    },\r\n    {\r\n      name: 'Query history',\r\n      label: t('Query history'),\r\n      url: '/superset/sqllab/history/',\r\n      usesRouter: true,\r\n    },\r\n  ],\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport { SyntaxHighlighterProps } from 'react-syntax-highlighter';\r\nimport sqlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\r\nimport htmlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars';\r\nimport markdownSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/markdown';\r\nimport jsonSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/json';\r\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\r\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\r\nimport { ToastProps } from 'src/messageToasts/enhancers/withToasts';\r\nimport Icon from 'src/components/Icon';\r\nimport copyTextToClipboard from 'src/utils/copy';\r\n\r\nSyntaxHighlighter.registerLanguage('sql', sqlSyntax);\r\nSyntaxHighlighter.registerLanguage('markdown', markdownSyntax);\r\nSyntaxHighlighter.registerLanguage('html', htmlSyntax);\r\nSyntaxHighlighter.registerLanguage('json', jsonSyntax);\r\n\r\nconst SyntaxHighlighterWrapper = styled.div`\r\n  margin-top: -24px;\r\n\r\n  &:hover {\r\n    svg {\r\n      visibility: visible;\r\n    }\r\n  }\r\n\r\n  svg {\r\n    position: relative;\r\n    top: 40px;\r\n    left: 512px;\r\n    visibility: hidden;\r\n    margin: -4px;\r\n  }\r\n`;\r\n\r\nexport default function SyntaxHighlighterCopy({\r\n  addDangerToast,\r\n  addSuccessToast,\r\n  children,\r\n  ...syntaxHighlighterProps\r\n}: SyntaxHighlighterProps & {\r\n  children: string;\r\n  addDangerToast?: ToastProps['addDangerToast'];\r\n  addSuccessToast?: ToastProps['addSuccessToast'];\r\n  language: 'sql' | 'markdown' | 'html' | 'json';\r\n}) {\r\n  function copyToClipboard(textToCopy: string) {\r\n    copyTextToClipboard(textToCopy)\r\n      .then(() => {\r\n        if (addSuccessToast) {\r\n          addSuccessToast(t('SQL Copied!'));\r\n        }\r\n      })\r\n      .catch(() => {\r\n        if (addDangerToast) {\r\n          addDangerToast(t('Sorry, your browser does not support copying.'));\r\n        }\r\n      });\r\n  }\r\n  return (\r\n    <SyntaxHighlighterWrapper>\r\n      <Icon\r\n        tabIndex={0}\r\n        name=\"copy\"\r\n        role=\"button\"\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          e.currentTarget.blur();\r\n          copyToClipboard(children);\r\n        }}\r\n      />\r\n      <SyntaxHighlighter style={github} {...syntaxHighlighterProps}>\r\n        {children}\r\n      </SyntaxHighlighter>\r\n    </SyntaxHighlighterWrapper>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useState, useEffect } from 'react';\r\n\r\ntype BaseQueryObject = {\r\n  id: number;\r\n};\r\nexport function useQueryPreviewState<D extends BaseQueryObject = any>({\r\n  queries,\r\n  fetchData,\r\n  currentQueryId,\r\n}: {\r\n  queries: D[];\r\n  fetchData: (id: number) => any;\r\n  currentQueryId: number;\r\n}) {\r\n  const index = queries.findIndex(query => query.id === currentQueryId);\r\n  const [currentIndex, setCurrentIndex] = useState(index);\r\n  const [disablePrevious, setDisablePrevious] = useState(false);\r\n  const [disableNext, setDisableNext] = useState(false);\r\n\r\n  function checkIndex() {\r\n    setDisablePrevious(currentIndex === 0);\r\n    setDisableNext(currentIndex === queries.length - 1);\r\n  }\r\n\r\n  function handleDataChange(previous: boolean) {\r\n    const offset = previous ? -1 : 1;\r\n    const index = currentIndex + offset;\r\n    if (index >= 0 && index < queries.length) {\r\n      fetchData(queries[index].id);\r\n      setCurrentIndex(index);\r\n      checkIndex();\r\n    }\r\n  }\r\n\r\n  function handleKeyPress(ev: any) {\r\n    if (currentIndex >= 0 && currentIndex < queries.length) {\r\n      if (ev.key === 'ArrowDown' || ev.key === 'k') {\r\n        ev.preventDefault();\r\n        handleDataChange(false);\r\n      } else if (ev.key === 'ArrowUp' || ev.key === 'j') {\r\n        ev.preventDefault();\r\n        handleDataChange(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    checkIndex();\r\n  });\r\n\r\n  return {\r\n    handleKeyPress,\r\n    handleDataChange,\r\n    disablePrevious,\r\n    disableNext,\r\n  };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport { SupersetClient, t, styled } from '@superset-ui/core';\r\nimport React, { useState, useMemo, useCallback } from 'react';\r\nimport rison from 'rison';\r\nimport moment from 'moment';\r\nimport {\r\n  createFetchRelated,\r\n  createFetchDistinct,\r\n  createErrorHandler,\r\n  handleBulkSavedQueryExport,\r\n} from 'src/views/CRUD/utils';\r\nimport Popover from 'src/components/Popover';\r\nimport withToasts from 'src/messageToasts/enhancers/withToasts';\r\nimport { useListViewResource } from 'src/views/CRUD/hooks';\r\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\r\nimport SubMenu, {\r\n  SubMenuProps,\r\n  ButtonProps,\r\n} from 'src/components/Menu/SubMenu';\r\nimport ListView, {\r\n  ListViewProps,\r\n  Filters,\r\n  FilterOperator,\r\n} from 'src/components/ListView';\r\nimport DeleteModal from 'src/components/DeleteModal';\r\nimport ActionsBar, { ActionProps } from 'src/components/ListView/ActionsBar';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport { commonMenuData } from 'src/views/CRUD/data/common';\r\nimport { SavedQueryObject } from 'src/views/CRUD/types';\r\nimport copyTextToClipboard from 'src/utils/copy';\r\nimport { isFeatureEnabled, FeatureFlag } from 'src/featureFlags';\r\nimport ImportModelsModal from 'src/components/ImportModal/index';\r\nimport Icons from 'src/components/Icons';\r\nimport SavedQueryPreviewModal from './SavedQueryPreviewModal';\r\n\r\nconst PAGE_SIZE = 25;\r\nconst PASSWORDS_NEEDED_MESSAGE = t(\r\n  'The passwords for the databases below are needed in order to ' +\r\n    'import them together with the saved queries. Please note that the ' +\r\n    '\"Secure Extra\" and \"Certificate\" sections of ' +\r\n    'the database configuration are not present in export files, and ' +\r\n    'should be added manually after the import if they are needed.',\r\n);\r\nconst CONFIRM_OVERWRITE_MESSAGE = t(\r\n  'You are importing one or more saved queries that already exist. ' +\r\n    'Overwriting might cause you to lose some of your work. Are you ' +\r\n    'sure you want to overwrite?',\r\n);\r\n\r\ninterface SavedQueryListProps {\r\n  addDangerToast: (msg: string) => void;\r\n  addSuccessToast: (msg: string) => void;\r\n  user: {\r\n    userId: string | number;\r\n  };\r\n}\r\n\r\nconst StyledTableLabel = styled.div`\r\n  .count {\r\n    margin-left: 5px;\r\n    color: ${({ theme }) => theme.colors.primary.base};\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst StyledPopoverItem = styled.div`\r\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\r\n`;\r\n\r\nfunction SavedQueryList({\r\n  addDangerToast,\r\n  addSuccessToast,\r\n  user,\r\n}: SavedQueryListProps) {\r\n  const {\r\n    state: {\r\n      loading,\r\n      resourceCount: queryCount,\r\n      resourceCollection: queries,\r\n      bulkSelectEnabled,\r\n    },\r\n    hasPerm,\r\n    fetchData,\r\n    toggleBulkSelect,\r\n    refreshData,\r\n  } = useListViewResource<SavedQueryObject>(\r\n    'saved_query',\r\n    t('Saved queries'),\r\n    addDangerToast,\r\n  );\r\n  const [\r\n    queryCurrentlyDeleting,\r\n    setQueryCurrentlyDeleting,\r\n  ] = useState<SavedQueryObject | null>(null);\r\n  const [\r\n    savedQueryCurrentlyPreviewing,\r\n    setSavedQueryCurrentlyPreviewing,\r\n  ] = useState<SavedQueryObject | null>(null);\r\n  const [importingSavedQuery, showImportModal] = useState<boolean>(false);\r\n  const [passwordFields, setPasswordFields] = useState<string[]>([]);\r\n\r\n  const openSavedQueryImportModal = () => {\r\n    showImportModal(true);\r\n  };\r\n\r\n  const closeSavedQueryImportModal = () => {\r\n    showImportModal(false);\r\n  };\r\n\r\n  const handleSavedQueryImport = () => {\r\n    showImportModal(false);\r\n    refreshData();\r\n  };\r\n\r\n  const canEdit = hasPerm('can_write');\r\n  const canDelete = hasPerm('can_write');\r\n  const canExport =\r\n    hasPerm('can_read') && isFeatureEnabled(FeatureFlag.VERSIONED_EXPORT);\r\n\r\n  const openNewQuery = () => {\r\n    window.open(`${window.location.origin}/superset/sqllab?new=true`);\r\n  };\r\n\r\n  const handleSavedQueryPreview = useCallback(\r\n    (id: number) => {\r\n      SupersetClient.get({\r\n        endpoint: `/api/v1/saved_query/${id}`,\r\n      }).then(\r\n        ({ json = {} }) => {\r\n          setSavedQueryCurrentlyPreviewing({ ...json.result });\r\n        },\r\n        createErrorHandler(errMsg =>\r\n          addDangerToast(\r\n            t('There was an issue previewing the selected query %s', errMsg),\r\n          ),\r\n        ),\r\n      );\r\n    },\r\n    [addDangerToast],\r\n  );\r\n\r\n  const menuData: SubMenuProps = {\r\n    activeChild: 'Saved queries',\r\n    ...commonMenuData,\r\n  };\r\n\r\n  const subMenuButtons: Array<ButtonProps> = [];\r\n\r\n  if (canDelete) {\r\n    subMenuButtons.push({\r\n      name: t('Bulk select'),\r\n      onClick: toggleBulkSelect,\r\n      buttonStyle: 'secondary',\r\n    });\r\n  }\r\n\r\n  subMenuButtons.push({\r\n    name: (\r\n      <>\r\n        <i className=\"fa fa-plus\" /> {t('Query')}\r\n      </>\r\n    ),\r\n    onClick: openNewQuery,\r\n    buttonStyle: 'primary',\r\n  });\r\n\r\n  if (isFeatureEnabled(FeatureFlag.VERSIONED_EXPORT)) {\r\n    subMenuButtons.push({\r\n      name: (\r\n        <Tooltip\r\n          id=\"import-tooltip\"\r\n          title={t('Import queries')}\r\n          placement=\"bottomRight\"\r\n          data-test=\"import-tooltip-test\"\r\n        >\r\n          <Icons.Import data-test=\"import-icon\" />\r\n        </Tooltip>\r\n      ),\r\n      buttonStyle: 'link',\r\n      onClick: openSavedQueryImportModal,\r\n      'data-test': 'import-button',\r\n    });\r\n  }\r\n\r\n  menuData.buttons = subMenuButtons;\r\n\r\n  // Action methods\r\n  const openInSqlLab = (id: number) => {\r\n    window.open(`${window.location.origin}/superset/sqllab?savedQueryId=${id}`);\r\n  };\r\n\r\n  const copyQueryLink = useCallback(\r\n    (id: number) => {\r\n      copyTextToClipboard(\r\n        `${window.location.origin}/superset/sqllab?savedQueryId=${id}`,\r\n      )\r\n        .then(() => {\r\n          addSuccessToast(t('Link Copied!'));\r\n        })\r\n        .catch(() => {\r\n          addDangerToast(t('Sorry, your browser does not support copying.'));\r\n        });\r\n    },\r\n    [addDangerToast, addSuccessToast],\r\n  );\r\n\r\n  const handleQueryDelete = ({ id, label }: SavedQueryObject) => {\r\n    SupersetClient.delete({\r\n      endpoint: `/api/v1/saved_query/${id}`,\r\n    }).then(\r\n      () => {\r\n        refreshData();\r\n        setQueryCurrentlyDeleting(null);\r\n        addSuccessToast(t('Deleted: %s', label));\r\n      },\r\n      createErrorHandler(errMsg =>\r\n        addDangerToast(t('There was an issue deleting %s: %s', label, errMsg)),\r\n      ),\r\n    );\r\n  };\r\n\r\n  const handleBulkQueryDelete = (queriesToDelete: SavedQueryObject[]) => {\r\n    SupersetClient.delete({\r\n      endpoint: `/api/v1/saved_query/?q=${rison.encode(\r\n        queriesToDelete.map(({ id }) => id),\r\n      )}`,\r\n    }).then(\r\n      ({ json = {} }) => {\r\n        refreshData();\r\n        addSuccessToast(json.message);\r\n      },\r\n      createErrorHandler(errMsg =>\r\n        addDangerToast(\r\n          t('There was an issue deleting the selected queries: %s', errMsg),\r\n        ),\r\n      ),\r\n    );\r\n  };\r\n\r\n  const initialSort = [{ id: 'changed_on_delta_humanized', desc: true }];\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        accessor: 'label',\r\n        Header: t('Name'),\r\n      },\r\n      {\r\n        accessor: 'database.database_name',\r\n        Header: t('Database'),\r\n        size: 'xl',\r\n      },\r\n      {\r\n        accessor: 'database',\r\n        hidden: true,\r\n        disableSortBy: true,\r\n      },\r\n      {\r\n        accessor: 'schema',\r\n        Header: t('Schema'),\r\n        size: 'xl',\r\n      },\r\n      {\r\n        Cell: ({\r\n          row: {\r\n            original: { sql_tables: tables = [] },\r\n          },\r\n        }: any) => {\r\n          const names = tables.map((table: any) => table.table);\r\n          const main = names?.shift() || '';\r\n\r\n          if (names.length) {\r\n            return (\r\n              <StyledTableLabel>\r\n                <span>{main}</span>\r\n                <Popover\r\n                  placement=\"right\"\r\n                  title={t('TABLES')}\r\n                  trigger=\"click\"\r\n                  content={\r\n                    <>\r\n                      {names.map((name: string) => (\r\n                        <StyledPopoverItem key={name}>{name}</StyledPopoverItem>\r\n                      ))}\r\n                    </>\r\n                  }\r\n                >\r\n                  <span className=\"count\">(+{names.length})</span>\r\n                </Popover>\r\n              </StyledTableLabel>\r\n            );\r\n          }\r\n\r\n          return main;\r\n        },\r\n        accessor: 'sql_tables',\r\n        Header: t('Tables'),\r\n        size: 'xl',\r\n        disableSortBy: true,\r\n      },\r\n      {\r\n        Cell: ({\r\n          row: {\r\n            original: { created_on: createdOn },\r\n          },\r\n        }: any) => {\r\n          const date = new Date(createdOn);\r\n          const utc = new Date(\r\n            Date.UTC(\r\n              date.getFullYear(),\r\n              date.getMonth(),\r\n              date.getDate(),\r\n              date.getHours(),\r\n              date.getMinutes(),\r\n              date.getSeconds(),\r\n              date.getMilliseconds(),\r\n            ),\r\n          );\r\n\r\n          return moment(utc).fromNow();\r\n        },\r\n        Header: t('Created on'),\r\n        accessor: 'created_on',\r\n        size: 'xl',\r\n      },\r\n      {\r\n        Cell: ({\r\n          row: {\r\n            original: { changed_on_delta_humanized: changedOn },\r\n          },\r\n        }: any) => changedOn,\r\n        Header: t('Modified'),\r\n        accessor: 'changed_on_delta_humanized',\r\n        size: 'xl',\r\n      },\r\n      {\r\n        Cell: ({ row: { original } }: any) => {\r\n          const handlePreview = () => {\r\n            handleSavedQueryPreview(original.id);\r\n          };\r\n          const handleEdit = () => openInSqlLab(original.id);\r\n          const handleCopy = () => copyQueryLink(original.id);\r\n          const handleExport = () => handleBulkSavedQueryExport([original]);\r\n          const handleDelete = () => setQueryCurrentlyDeleting(original);\r\n\r\n          const actions = [\r\n            {\r\n              label: 'preview-action',\r\n              tooltip: t('Query preview'),\r\n              placement: 'bottom',\r\n              icon: 'Binoculars',\r\n              onClick: handlePreview,\r\n            },\r\n            canEdit && {\r\n              label: 'edit-action',\r\n              tooltip: t('Edit query'),\r\n              placement: 'bottom',\r\n              icon: 'Edit',\r\n              onClick: handleEdit,\r\n            },\r\n            {\r\n              label: 'copy-action',\r\n              tooltip: t('Copy query URL'),\r\n              placement: 'bottom',\r\n              icon: 'Copy',\r\n              onClick: handleCopy,\r\n            },\r\n            canExport && {\r\n              label: 'export-action',\r\n              tooltip: t('Export query'),\r\n              placement: 'bottom',\r\n              icon: 'Share',\r\n              onClick: handleExport,\r\n            },\r\n            canDelete && {\r\n              label: 'delete-action',\r\n              tooltip: t('Delete query'),\r\n              placement: 'bottom',\r\n              icon: 'Trash',\r\n              onClick: handleDelete,\r\n            },\r\n          ].filter(item => !!item);\r\n\r\n          return <ActionsBar actions={actions as ActionProps[]} />;\r\n        },\r\n        Header: t('Actions'),\r\n        id: 'actions',\r\n        disableSortBy: true,\r\n      },\r\n    ],\r\n    [canDelete, canEdit, canExport, copyQueryLink, handleSavedQueryPreview],\r\n  );\r\n\r\n  const filters: Filters = useMemo(\r\n    () => [\r\n      {\r\n        Header: t('Database'),\r\n        id: 'database',\r\n        input: 'select',\r\n        operator: FilterOperator.relationOneMany,\r\n        unfilteredLabel: 'All',\r\n        fetchSelects: createFetchRelated(\r\n          'saved_query',\r\n          'database',\r\n          createErrorHandler(errMsg =>\r\n            addDangerToast(\r\n              t(\r\n                'An error occurred while fetching dataset datasource values: %s',\r\n                errMsg,\r\n              ),\r\n            ),\r\n          ),\r\n        ),\r\n        paginate: true,\r\n      },\r\n      {\r\n        Header: t('Schema'),\r\n        id: 'schema',\r\n        input: 'select',\r\n        operator: FilterOperator.equals,\r\n        unfilteredLabel: 'All',\r\n        fetchSelects: createFetchDistinct(\r\n          'saved_query',\r\n          'schema',\r\n          createErrorHandler(errMsg =>\r\n            addDangerToast(\r\n              t('An error occurred while fetching schema values: %s', errMsg),\r\n            ),\r\n          ),\r\n        ),\r\n        paginate: true,\r\n      },\r\n      {\r\n        Header: t('Search'),\r\n        id: 'label',\r\n        input: 'search',\r\n        operator: FilterOperator.allText,\r\n      },\r\n    ],\r\n    [addDangerToast],\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <SubMenu {...menuData} />\r\n      {queryCurrentlyDeleting && (\r\n        <DeleteModal\r\n          description={t(\r\n            'This action will permanently delete the saved query.',\r\n          )}\r\n          onConfirm={() => {\r\n            if (queryCurrentlyDeleting) {\r\n              handleQueryDelete(queryCurrentlyDeleting);\r\n            }\r\n          }}\r\n          onHide={() => setQueryCurrentlyDeleting(null)}\r\n          open\r\n          title={t('Delete Query?')}\r\n        />\r\n      )}\r\n      {savedQueryCurrentlyPreviewing && (\r\n        <SavedQueryPreviewModal\r\n          fetchData={handleSavedQueryPreview}\r\n          onHide={() => setSavedQueryCurrentlyPreviewing(null)}\r\n          savedQuery={savedQueryCurrentlyPreviewing}\r\n          queries={queries}\r\n          openInSqlLab={openInSqlLab}\r\n          show\r\n        />\r\n      )}\r\n      <ConfirmStatusChange\r\n        title={t('Please confirm')}\r\n        description={t('Are you sure you want to delete the selected queries?')}\r\n        onConfirm={handleBulkQueryDelete}\r\n      >\r\n        {confirmDelete => {\r\n          const bulkActions: ListViewProps['bulkActions'] = [];\r\n          if (canDelete) {\r\n            bulkActions.push({\r\n              key: 'delete',\r\n              name: t('Delete'),\r\n              onSelect: confirmDelete,\r\n              type: 'danger',\r\n            });\r\n          }\r\n          if (canExport) {\r\n            bulkActions.push({\r\n              key: 'export',\r\n              name: t('Export'),\r\n              type: 'primary',\r\n              onSelect: handleBulkSavedQueryExport,\r\n            });\r\n          }\r\n          return (\r\n            <ListView<SavedQueryObject>\r\n              className=\"saved_query-list-view\"\r\n              columns={columns}\r\n              count={queryCount}\r\n              data={queries}\r\n              fetchData={fetchData}\r\n              filters={filters}\r\n              initialSort={initialSort}\r\n              loading={loading}\r\n              pageSize={PAGE_SIZE}\r\n              bulkActions={bulkActions}\r\n              bulkSelectEnabled={bulkSelectEnabled}\r\n              disableBulkSelect={toggleBulkSelect}\r\n              highlightRowId={savedQueryCurrentlyPreviewing?.id}\r\n            />\r\n          );\r\n        }}\r\n      </ConfirmStatusChange>\r\n\r\n      <ImportModelsModal\r\n        resourceName=\"saved_query\"\r\n        resourceLabel={t('queries')}\r\n        passwordsNeededMessage={PASSWORDS_NEEDED_MESSAGE}\r\n        confirmOverwriteMessage={CONFIRM_OVERWRITE_MESSAGE}\r\n        addDangerToast={addDangerToast}\r\n        addSuccessToast={addSuccessToast}\r\n        onModelImport={handleSavedQueryImport}\r\n        show={importingSavedQuery}\r\n        onHide={closeSavedQueryImportModal}\r\n        passwordFields={passwordFields}\r\n        setPasswordFields={setPasswordFields}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withToasts(SavedQueryList);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { FunctionComponent } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport Modal from 'src/components/Modal';\r\nimport Button from 'src/components/Button';\r\nimport SyntaxHighlighterCopy from 'src/views/CRUD/data/components/SyntaxHighlighterCopy';\r\nimport withToasts, { ToastProps } from 'src/messageToasts/enhancers/withToasts';\r\nimport { useQueryPreviewState } from 'src/views/CRUD/data/hooks';\r\n\r\nconst QueryTitle = styled.div`\r\n  color: ${({ theme }) => theme.colors.secondary.light2};\r\n  font-size: ${({ theme }) => theme.typography.sizes.s - 1}px;\r\n  margin-bottom: 0;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst QueryLabel = styled.div`\r\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\r\n  font-size: ${({ theme }) => theme.typography.sizes.m - 1}px;\r\n  padding: 4px 0 16px 0;\r\n`;\r\n\r\nconst StyledModal = styled(Modal)`\r\n  .ant-modal-content {\r\n  }\r\n\r\n  .ant-modal-body {\r\n    padding: 24px;\r\n  }\r\n\r\n  pre {\r\n    font-size: ${({ theme }) => theme.typography.sizes.xs}px;\r\n    font-weight: ${({ theme }) => theme.typography.weights.normal};\r\n    line-height: ${({ theme }) => theme.typography.sizes.l}px;\r\n    height: 375px;\r\n    border: none;\r\n  }\r\n`;\r\n\r\ntype SavedQueryObject = {\r\n  id: number;\r\n  label: string;\r\n  sql: string;\r\n};\r\n\r\ninterface SavedQueryPreviewModalProps extends ToastProps {\r\n  fetchData: (id: number) => {};\r\n  onHide: () => void;\r\n  openInSqlLab: (id: number) => {};\r\n  queries: Array<SavedQueryObject>;\r\n  savedQuery: SavedQueryObject;\r\n  show: boolean;\r\n}\r\n\r\nconst SavedQueryPreviewModal: FunctionComponent<SavedQueryPreviewModalProps> = ({\r\n  fetchData,\r\n  onHide,\r\n  openInSqlLab,\r\n  queries,\r\n  savedQuery,\r\n  show,\r\n  addDangerToast,\r\n  addSuccessToast,\r\n}) => {\r\n  const {\r\n    handleKeyPress,\r\n    handleDataChange,\r\n    disablePrevious,\r\n    disableNext,\r\n  } = useQueryPreviewState<SavedQueryObject>({\r\n    queries,\r\n    currentQueryId: savedQuery.id,\r\n    fetchData,\r\n  });\r\n\r\n  return (\r\n    <div role=\"none\" onKeyUp={handleKeyPress}>\r\n      <StyledModal\r\n        onHide={onHide}\r\n        show={show}\r\n        title={t('Query preview')}\r\n        footer={[\r\n          <Button\r\n            data-test=\"previous-saved-query\"\r\n            key=\"previous-saved-query\"\r\n            disabled={disablePrevious}\r\n            onClick={() => handleDataChange(true)}\r\n          >\r\n            {t('Previous')}\r\n          </Button>,\r\n          <Button\r\n            data-test=\"next-saved-query\"\r\n            key=\"next-saved-query\"\r\n            disabled={disableNext}\r\n            onClick={() => handleDataChange(false)}\r\n          >\r\n            {t('Next')}\r\n          </Button>,\r\n          <Button\r\n            data-test=\"open-in-sql-lab\"\r\n            key=\"open-in-sql-lab\"\r\n            buttonStyle=\"primary\"\r\n            onClick={() => openInSqlLab(savedQuery.id)}\r\n          >\r\n            {t('Open in SQL Lab')}\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <QueryTitle>{t('Query name')}</QueryTitle>\r\n        <QueryLabel>{savedQuery.label}</QueryLabel>\r\n        <SyntaxHighlighterCopy\r\n          language=\"sql\"\r\n          addDangerToast={addDangerToast}\r\n          addSuccessToast={addSuccessToast}\r\n        >\r\n          {savedQuery.sql || ''}\r\n        </SyntaxHighlighterCopy>\r\n      </StyledModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withToasts(SavedQueryPreviewModal);\r\n"],"sourceRoot":""}