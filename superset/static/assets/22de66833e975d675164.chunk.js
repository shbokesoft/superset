(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1418:function(t,e,n){var r=n(120),i=n(118);t.exports=function(t,e,n){var a=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(t,e,{leading:a,maxWait:e,trailing:o})}},5064:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(43),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(75),_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(71),_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(53),_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(127),_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(168),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(155),_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(64),_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_corejs3_core_js_stable_math_log10__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5065),_babel_runtime_corejs3_core_js_stable_math_log10__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_math_log10__WEBPACK_IMPORTED_MODULE_8__),_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(12),_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9__),_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(67),_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10__),_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(188),_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_11__),_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(96),_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12__),_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(260),_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_13__),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(19),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14__),_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(38),_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_15__),_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(34),_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_16__),lodash_throttle__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1418),lodash_throttle__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_17__),lodash_kebabCase__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(584),lodash_kebabCase__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(lodash_kebabCase__WEBPACK_IMPORTED_MODULE_18__),d3__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(358),d3__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(d3__WEBPACK_IMPORTED_MODULE_19__),nvd3_fork__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(5069),nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(nvd3_fork__WEBPACK_IMPORTED_MODULE_20__),mathjs__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(4030),moment__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(13),moment__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_22__),prop_types__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(5),prop_types__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_23__),_superset_ui_core__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(1448),_superset_ui_core__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(446),_superset_ui_core__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(18),_superset_ui_core__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(170),_superset_ui_core__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(324),_superset_ui_core__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(1099),_superset_ui_core__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(1429),nvd3_fork_build_nv_d3_css__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(5070),nvd3_fork_build_nv_d3_css__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(nvd3_fork_build_nv_d3_css__WEBPACK_IMPORTED_MODULE_31__),_vendor_superset_AnnotationTypes__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(269),_utils_isTruthy__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(1454),_utils__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(1450),_PropTypes__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(5071);const NO_DATA_RENDER_DATA=[{text:"No data",dy:"-.75em",class:"header"},{text:"Adjust filters or check the Datasource.",dy:".75em",class:"body"}];nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.utils.noData=function(t,e){const n=t.options().margin(),r=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.utils.availableHeight(null,e,n),i=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.utils.availableWidth(null,e,n),a=n.left+i/2,o=n.top+r/2;e.selectAll("g").remove();const s=e.selectAll(".nv-noData").data(NO_DATA_RENDER_DATA);s.enter().append("text").attr("class",t=>`nvd3 nv-noData ${t.class}`).attr("dy",t=>t.dy).style("text-anchor","middle"),s.attr("x",a).attr("y",o).text(t=>t.text)};const{getColor:getColor,getScale:getScale}=_superset_ui_core__WEBPACK_IMPORTED_MODULE_24__.b,MAX_MARGIN_PAD=30,MIN_HEIGHT_FOR_BRUSH=480,MAX_NO_CHARACTERS_IN_LABEL=40,BREAKPOINTS={small:340},TIMESERIES_VIZ_TYPES=["line","dual_line","line_multi","area","compare","bar","time_pivot"],propTypes={data:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.oneOfType([_PropTypes__WEBPACK_IMPORTED_MODULE_35__.d,prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.shape({key:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,values:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.arrayOf(_PropTypes__WEBPACK_IMPORTED_MODULE_35__.d)}),prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.shape({key:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string),values:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.arrayOf(_PropTypes__WEBPACK_IMPORTED_MODULE_35__.f)}),prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.shape({classed:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,key:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,type:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,values:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.arrayOf(_PropTypes__WEBPACK_IMPORTED_MODULE_35__.f),yAxis:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.number}),prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.shape({label:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,values:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.arrayOf(_PropTypes__WEBPACK_IMPORTED_MODULE_35__.b)}),prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.shape({key:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,values:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.object)})])),_PropTypes__WEBPACK_IMPORTED_MODULE_35__.c]),width:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.number,height:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.number,annotationData:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.object,annotationLayers:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.arrayOf(_PropTypes__WEBPACK_IMPORTED_MODULE_35__.a),bottomMargin:_PropTypes__WEBPACK_IMPORTED_MODULE_35__.e,colorScheme:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,comparisonType:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,contribution:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,leftMargin:_PropTypes__WEBPACK_IMPORTED_MODULE_35__.e,onError:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.func,showLegend:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,showMarkers:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,useRichTooltip:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,vizType:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.oneOf(["area","bar","box_plot","bubble","bullet","compare","column","dist_bar","line","line_multi","time_pivot","pie","dual_line"]),xAxisFormat:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,numberFormat:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,xAxisLabel:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,xAxisShowMinMax:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,xIsLogScale:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,xTicksLayout:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.oneOf(["auto","staggered","45°"]),yAxisFormat:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,yAxisBounds:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.number),yAxisLabel:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,yAxisShowMinMax:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,yIsLogScale:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,orderBars:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,isBarStacked:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,showBarValue:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,reduceXTicks:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,showControls:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,showBrush:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.oneOf([!0,"yes",!1,"no","auto"]),onBrushEnd:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.func,yAxis2Format:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,lineInterpolation:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,isDonut:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,isPieLabelOutside:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,pieLabelType:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.oneOf(["key","value","percent","key_value","key_percent","key_value_percent"]),showLabels:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.bool,areaStackedStyle:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,entity:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string,maxBubbleSize:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.number,xField:_PropTypes__WEBPACK_IMPORTED_MODULE_35__.h,yField:_PropTypes__WEBPACK_IMPORTED_MODULE_35__.h,sizeField:_PropTypes__WEBPACK_IMPORTED_MODULE_35__.h,baseColor:_PropTypes__WEBPACK_IMPORTED_MODULE_35__.g,eventScript:prop_types__WEBPACK_IMPORTED_MODULE_23___default.a.string},NOOP=()=>{},formatter=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_25__.c)();function nvd3Vis(element,props){const{data:data,width:maxWidth,height:maxHeight,annotationData:annotationData,annotationLayers:annotationLayers=[],areaStackedStyle:areaStackedStyle,baseColor:baseColor,bottomMargin:bottomMargin,colorScheme:colorScheme,comparisonType:comparisonType,contribution:contribution,entity:entity,isBarStacked:isBarStacked,isDonut:isDonut,isPieLabelOutside:isPieLabelOutside,leftMargin:leftMargin,lineInterpolation:lineInterpolation="linear",markerLabels:markerLabels,markerLines:markerLines,markerLineLabels:markerLineLabels,markers:markers,maxBubbleSize:maxBubbleSize,onBrushEnd:onBrushEnd=NOOP,onError:onError=NOOP,orderBars:orderBars,pieLabelType:pieLabelType,rangeLabels:rangeLabels,ranges:ranges,reduceXTicks:reduceXTicks=!1,showBarValue:showBarValue,showBrush:showBrush,showControls:showControls,showLabels:showLabels,showLegend:showLegend,showMarkers:showMarkers,sizeField:sizeField,useRichTooltip:useRichTooltip,vizType:vizType,xAxisFormat:xAxisFormat,numberFormat:numberFormat,xAxisLabel:xAxisLabel,xAxisShowMinMax:xAxisShowMinMax=!1,xField:xField,xIsLogScale:xIsLogScale,xTicksLayout:xTicksLayout,yAxisFormat:yAxisFormat,yAxis2Format:yAxis2Format,yAxisBounds:yAxisBounds,yAxis2Bounds:yAxis2Bounds,yAxisLabel:yAxisLabel,yAxisShowMinMax:yAxisShowMinMax=!1,yAxis2ShowMinMax:yAxis2ShowMinMax=!1,yField:yField,yIsLogScale:yIsLogScale,eventScript:eventScript}=props,isExplore=null!==document.querySelector("#explorer-container"),container=element;container.innerHTML="";const activeAnnotationLayers=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_16___default()(annotationLayers).call(annotationLayers,t=>t.show),chartId=container.parentElement&&""!==container.parentElement.id?container.parentElement.id:null;let chart,width=maxWidth,colorKey="key";function isVizTypes(t){return _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_15___default()(t).call(t,vizType)}container.style.width=`${maxWidth}px`,container.style.height=`${maxHeight}px`;const drawGraph=function drawGraph(){var _context2;const d3Element=d3__WEBPACK_IMPORTED_MODULE_19___default.a.select(element);d3Element.classed("superset-legacy-chart-nvd3",!0),d3Element.classed(`superset-legacy-chart-nvd3-${lodash_kebabCase__WEBPACK_IMPORTED_MODULE_18___default()(vizType)}`,!0);let svg=d3Element.select("svg");svg.empty()&&(svg=d3Element.append("svg"));const height="bullet"===vizType?Math.min(maxHeight,50):maxHeight,isTimeSeries=isVizTypes(TIMESERIES_VIZ_TYPES),staggerLabels="staggered"===xTicksLayout,xLabelRotation="auto"===xTicksLayout&&isVizTypes(["column","dist_bar"])||"45°"===xTicksLayout?45:0;if(45===xLabelRotation&&Object(_utils_isTruthy__WEBPACK_IMPORTED_MODULE_33__.a)(showBrush))return onError(Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_26__.e)("You cannot use 45° tick layout along with the time range filter")),null;const canShowBrush=Object(_utils_isTruthy__WEBPACK_IMPORTED_MODULE_33__.a)(showBrush)||"auto"===showBrush&&maxHeight>=MIN_HEIGHT_FOR_BRUSH&&"45°"!==xTicksLayout,numberFormatter=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_25__.c)(numberFormat);switch(vizType){case"line":canShowBrush?(chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.lineWithFocusChart(),staggerLabels&&(chart.focus.margin({bottom:40}),chart.focusHeight(80)),chart.focus.xScale(d3__WEBPACK_IMPORTED_MODULE_19___default.a.time.scale.utc())):chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.lineChart(),chart.xScale(d3__WEBPACK_IMPORTED_MODULE_19___default.a.time.scale.utc()),chart.interpolate(lineInterpolation),chart.clipEdge(!1);break;case"time_pivot":chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.lineChart(),chart.xScale(d3__WEBPACK_IMPORTED_MODULE_19___default.a.time.scale.utc()),chart.interpolate(lineInterpolation);break;case"dual_line":case"line_multi":chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.multiChart(),chart.interpolate(lineInterpolation),chart.xScale(d3__WEBPACK_IMPORTED_MODULE_19___default.a.time.scale.utc());break;case"bar":chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.multiBarChart().showControls(showControls).groupSpacing(.1),reduceXTicks||(width=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.b)(data,isBarStacked,maxWidth)),chart.width(width),chart.xAxis.showMaxMin(!1),chart.stacked(isBarStacked);break;case"dist_bar":chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.multiBarChart().showControls(showControls).reduceXTicks(reduceXTicks).groupSpacing(.1),chart.xAxis.showMaxMin(!1),chart.stacked(isBarStacked),orderBars&&_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default()(data).call(data,t=>{var e;_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_13___default()(e=_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12___default()(t)).call(e,(t,e)=>Object(_utils__WEBPACK_IMPORTED_MODULE_34__.u)(t.x)<Object(_utils__WEBPACK_IMPORTED_MODULE_34__.u)(e.x)?-1:1)}),reduceXTicks||(width=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.b)(data,isBarStacked,maxWidth)),chart.multibar.dispatch.on("elementClick",element=>{eventScript&&_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_11___default()(eventScript).call(eventScript)&&(console.log("element:",element),eval(eventScript))}),chart.width(width);break;case"pie":if(chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.pieChart(),colorKey="x",chart.valueFormat(numberFormatter),isDonut&&chart.donut(!0),chart.showLabels(showLabels),chart.labelsOutside(isPieLabelOutside),chart.labelThreshold(.05),chart.cornerRadius(!0),_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_15___default()(_context2=["key","value","percent"]).call(_context2,pieLabelType))chart.labelType(pieLabelType);else if("key_value"===pieLabelType)chart.labelType(t=>`${t.data.x}: ${numberFormatter(t.data.y)}`);else{const t=d3__WEBPACK_IMPORTED_MODULE_19___default.a.sum(data,t=>t.y),e=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_25__.c)(_superset_ui_core__WEBPACK_IMPORTED_MODULE_27__.a.PERCENT_2_POINT);"key_percent"===pieLabelType?(chart.tooltip.valueFormatter(t=>e(t)),chart.labelType(n=>`${n.data.x}: ${e(n.data.y/t)}`)):(chart.tooltip.valueFormatter(n=>`${numberFormatter(n)} (${e(n/t)})`),chart.labelType(n=>`${n.data.x}: ${numberFormatter(n.data.y)} (${e(n.data.y/t)})`))}chart.margin({top:0});break;case"column":chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.multiBarChart().reduceXTicks(!1);break;case"compare":chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.cumulativeLineChart(),chart.xScale(d3__WEBPACK_IMPORTED_MODULE_19___default.a.time.scale.utc()),chart.useInteractiveGuideline(!0),chart.xAxis.showMaxMin(!1);break;case"bubble":chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.scatterChart(),chart.showDistX(!1),chart.showDistY(!1),chart.tooltip.contentGenerator(t=>Object(_utils__WEBPACK_IMPORTED_MODULE_34__.h)({point:t.point,entity:entity,xField:xField,yField:yField,sizeField:sizeField,xFormatter:Object(_utils__WEBPACK_IMPORTED_MODULE_34__.o)(xAxisFormat),yFormatter:Object(_utils__WEBPACK_IMPORTED_MODULE_34__.o)(yAxisFormat),sizeFormatter:formatter})),chart.pointRange([5,maxBubbleSize**2]),chart.pointDomain([0,d3__WEBPACK_IMPORTED_MODULE_19___default.a.max(data,t=>d3__WEBPACK_IMPORTED_MODULE_19___default.a.max(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12___default()(t),t=>t.size))]);break;case"area":chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.stackedAreaChart(),chart.showControls(showControls),chart.style(areaStackedStyle),chart.xScale(d3__WEBPACK_IMPORTED_MODULE_19___default.a.time.scale.utc());break;case"box_plot":colorKey="label",chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.boxPlotChart(),chart.x(t=>t.label),chart.maxBoxWidth(75);break;case"bullet":chart=nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.models.bulletChart(),data.rangeLabels=rangeLabels,data.ranges=ranges,data.markerLabels=markerLabels,data.markerLines=markerLines,data.markerLineLabels=markerLineLabels,data.markers=markers;break;default:throw new Error(`Unrecognized visualization for nvd3${vizType}`)}let xAxisFormatter;if(chart.margin({left:0,bottom:0}),showBarValue&&(Object(_utils__WEBPACK_IMPORTED_MODULE_34__.e)(svg,data,isBarStacked,yAxisFormat),chart.dispatch.on("stateChange.drawBarValues",()=>{Object(_utils__WEBPACK_IMPORTED_MODULE_34__.e)(svg,data,isBarStacked,yAxisFormat)})),canShowBrush&&onBrushEnd!==NOOP&&chart.focus&&chart.focus.dispatch.on("brush",t=>{const e=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.s)(t.extent);e&&t.brush.on("brushend",()=>{onBrushEnd(e)})}),chart.xAxis&&chart.xAxis.staggerLabels&&chart.xAxis.staggerLabels(staggerLabels),chart.xAxis&&chart.xAxis.rotateLabels&&chart.xAxis.rotateLabels(xLabelRotation),chart.x2Axis&&chart.x2Axis.staggerLabels&&chart.x2Axis.staggerLabels(staggerLabels),chart.x2Axis&&chart.x2Axis.rotateLabels&&chart.x2Axis.rotateLabels(xLabelRotation),"showLegend"in chart&&void 0!==showLegend&&(width<BREAKPOINTS.small&&"pie"!==vizType?chart.showLegend(!1):chart.showLegend(showLegend)),yIsLogScale&&chart.yScale(d3__WEBPACK_IMPORTED_MODULE_19___default.a.scale.log()),xIsLogScale&&chart.xScale(d3__WEBPACK_IMPORTED_MODULE_19___default.a.scale.log()),isTimeSeries?(xAxisFormatter=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_28__.d)(xAxisFormat),chart.interactiveLayer.tooltip.headerFormatter(_superset_ui_core__WEBPACK_IMPORTED_MODULE_29__.a)):xAxisFormatter=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.o)(xAxisFormat),chart.x2Axis&&chart.x2Axis.tickFormat&&chart.x2Axis.tickFormat(xAxisFormatter),chart.xAxis&&chart.xAxis.tickFormat){const t=isVizTypes(["dist_bar","box_plot"]);t?chart.xAxis.tickFormat(t=>t.length>MAX_NO_CHARACTERS_IN_LABEL?`${_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(t).call(t,0,Math.max(0,MAX_NO_CHARACTERS_IN_LABEL))}…`:t):chart.xAxis.tickFormat(xAxisFormatter)}let yAxisFormatter=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.o)(yAxisFormat);if(chart.yAxis&&chart.yAxis.tickFormat&&(!contribution&&"percentage"!==comparisonType||yAxisFormat&&yAxisFormat!==_superset_ui_core__WEBPACK_IMPORTED_MODULE_27__.a.SMART_NUMBER&&yAxisFormat!==_superset_ui_core__WEBPACK_IMPORTED_MODULE_27__.a.SMART_NUMBER_SIGNED||(yAxisFormatter=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_25__.c)(_superset_ui_core__WEBPACK_IMPORTED_MODULE_27__.a.PERCENT_1_POINT)),chart.yAxis.tickFormat(yAxisFormatter)),chart.y2Axis&&chart.y2Axis.tickFormat&&chart.y2Axis.tickFormat(yAxisFormatter),chart.yAxis&&chart.yAxis.ticks(5),chart.y2Axis&&chart.y2Axis.ticks(5),Object(_utils__WEBPACK_IMPORTED_MODULE_34__.r)(chart.xAxis,xAxisShowMinMax),Object(_utils__WEBPACK_IMPORTED_MODULE_34__.r)(chart.x2Axis,xAxisShowMinMax),Object(_utils__WEBPACK_IMPORTED_MODULE_34__.r)(chart.yAxis,yAxisShowMinMax),Object(_utils__WEBPACK_IMPORTED_MODULE_34__.r)(chart.y2Axis,yAxis2ShowMinMax||yAxisShowMinMax),"time_pivot"===vizType){if(baseColor){const{r:t,g:e,b:n}=baseColor;chart.color(r=>{const i=r.rank>0?.5*r.perc:1;return`rgba(${t}, ${e}, ${n}, ${i})`})}chart.useInteractiveGuideline(!0),chart.interactiveLayer.tooltip.contentGenerator(t=>Object(_utils__WEBPACK_IMPORTED_MODULE_34__.l)(t,xAxisFormatter,yAxisFormatter))}else if("bullet"!==vizType){const t=getScale(colorScheme);chart.color(e=>e.color||t(Object(_utils__WEBPACK_IMPORTED_MODULE_34__.a)(e[colorKey])))}if(isVizTypes(["line","area"])&&useRichTooltip&&(chart.useInteractiveGuideline(!0),"line"===vizType?chart.interactiveLayer.tooltip.contentGenerator(t=>Object(_utils__WEBPACK_IMPORTED_MODULE_34__.k)(t,_superset_ui_core__WEBPACK_IMPORTED_MODULE_29__.a,yAxisFormatter)):chart.interactiveLayer.tooltip.contentGenerator(t=>Object(_utils__WEBPACK_IMPORTED_MODULE_34__.g)(t,_superset_ui_core__WEBPACK_IMPORTED_MODULE_29__.a,yAxisFormatter,chart))),isVizTypes(["compare"])&&chart.interactiveLayer.tooltip.contentGenerator(t=>Object(_utils__WEBPACK_IMPORTED_MODULE_34__.i)(t,yAxisFormatter)),isVizTypes(["dual_line","line_multi"])){const t=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_25__.c)(yAxisFormat),e=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_25__.c)(yAxis2Format);chart.yAxis1.tickFormat(t),chart.yAxis2.tickFormat(e);const n=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(data).call(data,n=>1===n.yAxis?t:e);chart.useInteractiveGuideline(!0),chart.interactiveLayer.tooltip.contentGenerator(t=>Object(_utils__WEBPACK_IMPORTED_MODULE_34__.j)(t,xAxisFormatter,n))}if(chart.width(width),chart.height(height),svg.datum(data).transition().duration(500).attr("height",height).attr("width",width).call(chart),yIsLogScale&&chart.yAxis.tickFormat(t=>0!==t&&_babel_runtime_corejs3_core_js_stable_math_log10__WEBPACK_IMPORTED_MODULE_8___default()(t)%1==0?yAxisFormatter(t):""),xLabelRotation>0){const t=svg.select(".nv-x.nv-axis > g").selectAll("g");t.selectAll("text").attr("dx",-6.5)}const applyYAxisBounds=()=>{if(chart.yDomain&&_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7___default()(yAxisBounds)&&2===yAxisBounds.length){const[t,e]=yAxisBounds,n=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_30__.a)(t)&&!_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_6___default()(t),r=Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_30__.a)(e)&&!_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_6___default()(e);if((n||r)&&"area"===vizType&&"expand"===chart.style())chart.yDomain([0,1]);else if((n||r)&&"area"===vizType&&"stream"===chart.style())chart.yDomain(Object(_utils__WEBPACK_IMPORTED_MODULE_34__.c)(data));else if(n&&r)chart.yDomain([t,e]),chart.clipEdge(!0);else if(n||r){let[i,a]=[0,1];"area"===vizType||isVizTypes(["bar","dist_bar"])&&chart.stacked()?[i,a]=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.c)(data):[i,a]=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.d)(data);const o=n?t:i,s=r?e:a;chart.yDomain([o,s]),chart.clipEdge(!0)}}};if(applyYAxisBounds(),chart.dispatch&&chart.dispatch.stateChange&&chart.dispatch.on("stateChange.applyYAxisBounds",applyYAxisBounds),isVizTypes(["dual_line","line_multi"])){const t=chart.yAxis1.ticks(),e=chart.yAxis1.scale().domain(chart.yAxis1.domain()).nice(t).ticks(t),n=chart.yAxis2.scale().domain(chart.yAxis2.domain()).nice(t).ticks(t),r=e.length-n.length;if(e.length>0&&n.length>0&&0!==r){const t=r<0?e:n,i=t[1]-t[0];for(let e=0;e<Math.abs(r);e+=1)e%2==0?t.unshift(t[0]-i):t.push(t[t.length-1]+i);chart.yDomain1([e[0],e[e.length-1]]),chart.yDomain2([n[0],n[n.length-1]]),chart.yAxis1.tickValues(e),chart.yAxis2.tickValues(n)}chart.yDomain1([yAxisBounds[0]||e[0],yAxisBounds[1]||e[e.length-1]]),chart.yDomain2([yAxis2Bounds[0]||n[0],yAxis2Bounds[1]||n[n.length-1]])}if(showMarkers&&(svg.selectAll(".nv-point").style("stroke-opacity",1).style("fill-opacity",1),chart.dispatch.on("stateChange.showMarkers",()=>{_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_5___default()(()=>{svg.selectAll(".nv-point").style("stroke-opacity",1).style("fill-opacity",1)},10)})),void 0!==chart.yAxis||void 0!==chart.yAxis2){const t=Math.ceil(Math.min(maxWidth*(isExplore?.01:.03),MAX_MARGIN_PAD)),e=chart.margin();chart.xAxis&&(e.bottom=28);const n=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.n)(svg,chart.yAxis2?"nv-y1":"nv-y"),r=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.n)(svg,"nv-x");if(e.left=n+t,yAxisLabel&&""!==yAxisLabel&&(e.left+=25),showBarValue&&(e.top+=24),xAxisShowMinMax&&(e.right=Math.max(20,r/2)+t),45===xLabelRotation?(e.bottom=r*Math.sin(Math.PI*xLabelRotation/180)+t+30,e.right=r*Math.cos(Math.PI*xLabelRotation/180)+t):staggerLabels&&(e.bottom=40),isVizTypes(["dual_line","line_multi"])){const n=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.n)(svg,"nv-y2");e.right=n+t}if(bottomMargin&&"auto"!==bottomMargin&&(e.bottom=_babel_runtime_corejs3_core_js_stable_parse_int__WEBPACK_IMPORTED_MODULE_4___default()(bottomMargin,10)),leftMargin&&"auto"!==leftMargin&&(e.left=leftMargin),xAxisLabel&&""!==xAxisLabel&&chart.xAxis){e.bottom+=25;let t=0;e.bottom&&!_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_6___default()(e.bottom)&&(t=e.bottom-45),chart.xAxis.axisLabel(xAxisLabel).axisLabelDistance(t)}if(yAxisLabel&&""!==yAxisLabel&&chart.yAxis){let t=0;e.left&&!_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_6___default()(e.left)&&(t=e.left-70),chart.yAxis.axisLabel(yAxisLabel).axisLabelDistance(t)}if(isTimeSeries&&annotationData&&activeAnnotationLayers.length>0){var _context3;const t=_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default()(_context3=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_16___default()(activeAnnotationLayers).call(activeAnnotationLayers,t=>t.annotationType===_vendor_superset_AnnotationTypes__WEBPACK_IMPORTED_MODULE_32__.c.TIME_SERIES)).call(_context3,(t,e)=>{var n;return _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_2___default()(t).call(t,_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(n=annotationData[e.name]||[]).call(n,t=>{if(!t)return{};const n=_babel_runtime_corejs3_core_js_stable_array_is_array__WEBPACK_IMPORTED_MODULE_7___default()(t.key)?`${e.name}, ${t.key.join(", ")}`:`${e.name}, ${t.key}`;return{...t,key:n,color:e.color,strokeWidth:e.width,classed:`${e.opacity} ${e.style} nv-timeseries-annotation-layer showMarkers${e.showMarkers} hideLine${e.hideLine}`}}))},[]);data.push(...t)}if(chartId&&(chart&&chart.interactiveLayer&&chart.interactiveLayer.tooltip&&chart.interactiveLayer.tooltip.classes([Object(_utils__WEBPACK_IMPORTED_MODULE_34__.m)(chartId)]),chart&&chart.tooltip&&chart.tooltip.classes([Object(_utils__WEBPACK_IMPORTED_MODULE_34__.m)(chartId)])),chart.margin(e),svg.datum(data).transition().duration(500).attr("width",width).attr("height",height).call(chart),window.addEventListener("scroll",lodash_throttle__WEBPACK_IMPORTED_MODULE_17___default()(()=>Object(_utils__WEBPACK_IMPORTED_MODULE_34__.p)(!1),250)),isTimeSeries&&activeAnnotationLayers.length>0){var _context5;const t=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(_context5=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_16___default()(activeAnnotationLayers).call(activeAnnotationLayers,t=>t.annotationType===_vendor_superset_AnnotationTypes__WEBPACK_IMPORTED_MODULE_32__.c.FORMULA)).call(_context5,t=>({...t,formula:Object(mathjs__WEBPACK_IMPORTED_MODULE_21__.a)(t.value)}));let e,n,r;if("bar"===vizType?(n=d3__WEBPACK_IMPORTED_MODULE_19___default.a.min(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12___default()(data[0]),t=>t.x),e=d3__WEBPACK_IMPORTED_MODULE_19___default.a.max(_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12___default()(data[0]),t=>t.x),r=d3__WEBPACK_IMPORTED_MODULE_19___default.a.scale.quantile().domain([n,e]).range(chart.xAxis.range())):(n=chart.xAxis.scale().domain()[0].valueOf(),e=chart.xAxis.scale().domain()[1].valueOf(),r=chart.xScale?chart.xScale():chart.xAxis.scale?chart.xAxis.scale():d3__WEBPACK_IMPORTED_MODULE_19___default.a.scale.linear()),r&&r.clamp&&r.clamp(!0),t.length>0){const r=[];if("bar"===vizType){const t=_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default()(data).call(data,(t,e)=>{var n;return _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default()(n=_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12___default()(e)).call(n,e=>t.add(e.x)),t},new _babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_1___default.a);r.push(..._babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12___default()(t).call(t)),_babel_runtime_corejs3_core_js_stable_instance_sort__WEBPACK_IMPORTED_MODULE_13___default()(r).call(r)}else{let t=Math.min(..._babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(data).call(data,t=>{var e,n;return Math.min(..._babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(e=_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(n=_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12___default()(t)).call(n,1)).call(e,(e,n)=>e.x-_babel_runtime_corejs3_core_js_stable_instance_values__WEBPACK_IMPORTED_MODULE_12___default()(t)[n].x))}));const i=(e-n)/(t||1);t=i<100?(e-n)/100:t,t=i>500?(e-n)/500:t,r.push(n);for(let i=n;i<e;i+=t)r.push(i);r.push(e)}const i=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(t).call(t,t=>({key:t.name,values:_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(r).call(r,e=>({y:t.formula.evaluate({x:e}),x:e})),color:t.color,strokeWidth:t.width,classed:`${t.opacity} ${t.style}`}));data.push(...i)}const i=chart.xAxis1?chart.xAxis1:chart.xAxis,a=chart.yAxis1?chart.yAxis1:chart.yAxis,o=i.scale().range()[1],s=a.scale().range()[0];var _context9,_context12;if(annotationData)_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default()(_context9=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_16___default()(activeAnnotationLayers).call(activeAnnotationLayers,t=>t.annotationType===_vendor_superset_AnnotationTypes__WEBPACK_IMPORTED_MODULE_32__.c.EVENT&&annotationData&&annotationData[t.name])).call(_context9,(t,e)=>{var n,i;const a=Object(_vendor_superset_AnnotationTypes__WEBPACK_IMPORTED_MODULE_32__.b)(t),l=d3__WEBPACK_IMPORTED_MODULE_19___default.a.select(element).select(".nv-wrap").append("g").attr("class",`nv-event-annotation-layer-${e}`),c=a.color||getColor(Object(_utils__WEBPACK_IMPORTED_MODULE_34__.a)(a.name),colorScheme),u=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.t)({...a,annotationTipClass:`arrow-down nv-event-annotation-layer-${t.sourceType}`}),d=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_16___default()(n=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(i=annotationData[a.name].records||[]).call(i,t=>{const e=new Date(moment__WEBPACK_IMPORTED_MODULE_22___default.a.utc(t[a.timeColumn]));return{...t,[a.timeColumn]:e}})).call(n,t=>!_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_6___default()(t[a.timeColumn].getMilliseconds()));d.length>0&&l.selectAll("line").data(d).enter().append("line").attr({x1:t=>r(new Date(t[a.timeColumn])),y1:0,x2:t=>r(new Date(t[a.timeColumn])),y2:s}).attr("class",`${a.opacity} ${a.style}`).style("stroke",c).style("stroke-width",a.width).on("mouseover",u.show).on("mouseout",u.hide).call(u),chart.focus&&chart.focus.dispatch.on("onBrush.event-annotation",()=>{l.selectAll("line").data(d).attr({x1:t=>r(new Date(t[a.timeColumn])),y1:0,x2:t=>r(new Date(t[a.timeColumn])),y2:s,opacity:t=>{const e=r(new Date(t[a.timeColumn]));return e>0&&e<o?1:0}})})}),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_14___default()(_context12=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_16___default()(activeAnnotationLayers).call(activeAnnotationLayers,t=>t.annotationType===_vendor_superset_AnnotationTypes__WEBPACK_IMPORTED_MODULE_32__.c.INTERVAL&&annotationData&&annotationData[t.name])).call(_context12,(t,e)=>{var n,i;const a=Object(_vendor_superset_AnnotationTypes__WEBPACK_IMPORTED_MODULE_32__.b)(t),o=d3__WEBPACK_IMPORTED_MODULE_19___default.a.select(element).select(".nv-wrap").append("g").attr("class",`nv-interval-annotation-layer-${e}`),l=a.color||getColor(Object(_utils__WEBPACK_IMPORTED_MODULE_34__.a)(a.name),colorScheme),c=Object(_utils__WEBPACK_IMPORTED_MODULE_34__.t)(a),u=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_16___default()(n=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_9___default()(i=annotationData[a.name].records||[]).call(i,t=>{const e=new Date(moment__WEBPACK_IMPORTED_MODULE_22___default.a.utc(t[a.timeColumn])),n=new Date(moment__WEBPACK_IMPORTED_MODULE_22___default.a.utc(t[a.intervalEndColumn]));return{...t,[a.timeColumn]:e,[a.intervalEndColumn]:n}})).call(n,t=>!_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_6___default()(t[a.timeColumn].getMilliseconds())&&!_babel_runtime_corejs3_core_js_stable_number_is_nan__WEBPACK_IMPORTED_MODULE_6___default()(t[a.intervalEndColumn].getMilliseconds()));u.length>0&&o.selectAll("rect").data(u).enter().append("rect").attr({x:t=>Math.min(r(new Date(t[a.timeColumn])),r(new Date(t[a.intervalEndColumn]))),y:0,width:t=>Math.max(Math.abs(r(new Date(t[a.intervalEndColumn]))-r(new Date(t[a.timeColumn]))),1),height:s}).attr("class",`${a.opacity} ${a.style}`).style("stroke-width",a.width).style("stroke",l).style("fill",l).style("fill-opacity",.2).on("mouseover",c.show).on("mouseout",c.hide).call(c),chart.focus&&chart.focus.dispatch.on("onBrush.interval-annotation",()=>{o.selectAll("rect").data(u).attr({x:t=>r(new Date(t[a.timeColumn])),width:t=>{const e=r(new Date(t[a.timeColumn]));return r(new Date(t[a.intervalEndColumn]))-e}})})});svg.datum(data).attr("height",height).attr("width",width).call(chart),chart.dispatch.on("renderEnd.timeseries-annotation",()=>{d3__WEBPACK_IMPORTED_MODULE_19___default.a.selectAll(".slice_container .nv-timeseries-annotation-layer.showMarkerstrue .nv-point").style("stroke-opacity",1).style("fill-opacity",1),d3__WEBPACK_IMPORTED_MODULE_19___default.a.selectAll(".slice_container .nv-timeseries-annotation-layer.hideLinetrue").style("stroke-width",0)})}}return Object(_utils__WEBPACK_IMPORTED_MODULE_34__.v)(chart),chart};chartId?Object(_utils__WEBPACK_IMPORTED_MODULE_34__.q)(chartId):Object(_utils__WEBPACK_IMPORTED_MODULE_34__.p)(!0),nvd3_fork__WEBPACK_IMPORTED_MODULE_20___default.a.addGraph(drawGraph)}nvd3Vis.displayName="NVD3",nvd3Vis.propTypes=propTypes,__webpack_exports__.a=nvd3Vis},5065:function(t,e,n){t.exports=n(5066)},5066:function(t,e,n){var r=n(5067);t.exports=r},5067:function(t,e,n){n(5068);var r=n(106);t.exports=r.Math.log10},5068:function(t,e,n){var r=n(52),i=Math.log,a=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return i(t)*a}})},5069:function(t,e,n){var r;(r={dev:!1}).tooltip=r.tooltip||{},r.utils=r.utils||{},r.models=r.models||{},r.charts={},r.logs={},r.dom={},"undefined"==typeof d3&&(d3=n(358)),r.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),r.dev&&(r.dispatch.on("render_start",(function(t){r.logs.startTime=+new Date})),r.dispatch.on("render_end",(function(t){r.logs.endTime=+new Date,r.logs.totalTime=r.logs.endTime-r.logs.startTime,r.log("total",r.logs.totalTime)}))),r.log=function(){if(r.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(r.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},r.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},r.render=function(t){t=t||1,r.render.active=!0,r.dispatch.render_start();var e=function(){for(var n,i,a=0;a<t&&(i=r.render.queue[a]);a++)n=i.generate(),typeof i.callback==typeof Function&&i.callback(n);r.render.queue.splice(0,a),r.render.queue.length?setTimeout(e):(r.dispatch.render_end(),r.render.active=!1)};setTimeout(e)},r.render.active=!1,r.render.queue=[],r.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),r.render.queue.push(t),r.render.active||r.render()},t.exports=r,"undefined"!=typeof window&&(window.nv=r),r.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},r.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},r.interactiveGuideline=function(){"use strict";var t={left:0,top:0},e=null,n=null,i=d3.scale.linear(),a=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),o=!0,s=null,l=r.models.tooltip(),c=window.ActiveXObject;function u(d){d.each((function(d){var f=d3.select(this),p=e||960,_=n||400,h=f.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);function g(){var e=d3.event.clientX-this.getBoundingClientRect().left,n=d3.event.clientY-this.getBoundingClientRect().top,r=!0,o=!1;if(c&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&(o=!0)),r&&(e-=t.left,n-=t.top),"mouseout"===d3.event.type||e<0||n<0||e>p||n>_||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||o){if(c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(l.nvPointerEventsClass)))return;return a.elementMouseout({mouseX:e,mouseY:n}),u.renderGuideLine(null),void l.hidden(!0)}l.hidden(!1);var s=void 0;if("function"==typeof i.rangeBands){var d=d3.bisect(i.range(),e)-1;if(!(i.range()[d]+i.rangeBand()>=e))return a.elementMouseout({mouseX:e,mouseY:n}),u.renderGuideLine(null),void l.hidden(!0);s=i.domain()[d3.bisect(i.range(),e)-1]}else s=i.invert(e);a.elementMousemove({mouseX:e,mouseY:n,pointXValue:s}),"dblclick"===d3.event.type&&a.elementDblclick({mouseX:e,mouseY:n,pointXValue:s}),"click"===d3.event.type&&a.elementClick({mouseX:e,mouseY:n,pointXValue:s}),"mousedown"===d3.event.type&&a.elementMouseDown({mouseX:e,mouseY:n,pointXValue:s}),"mouseup"===d3.event.type&&a.elementMouseUp({mouseX:e,mouseY:n,pointXValue:s})}h.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),s&&(s.on("touchmove",g).on("mousemove",g,!0).on("mouseout",g,!0).on("mousedown",g,!0).on("mouseup",g,!0).on("dblclick",g).on("click",g),u.guideLine=null,u.renderGuideLine=function(t){o&&(u.guideLine&&u.guideLine.attr("x1")===t||r.dom.write((function(){var e=h.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[r.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",(function(t){return t})).attr("x2",(function(t){return t})).attr("y1",_).attr("y2",0),e.exit().remove()})))})}))}return l.duration(0).hideDelay(0).hidden(!1),u.dispatch=a,u.tooltip=l,u.margin=function(e){return arguments.length?(t.top=void 0!==e.top?e.top:t.top,t.left=void 0!==e.left?e.left:t.left,u):t},u.width=function(t){return arguments.length?(e=t,u):e},u.height=function(t){return arguments.length?(n=t,u):n},u.xScale=function(t){return arguments.length?(i=t,u):i},u.showGuideLine=function(t){return arguments.length?(o=t,u):o},u.svgContainer=function(t){return arguments.length?(s=t,u):s},u},r.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r;r="function"!=typeof n?function(t){return t.x}:n;var i=d3.bisector((function(t,e){return r(t)-e})).left,a=d3.max([0,i(t,e)-1]),o=r(t[a]);if(void 0===o&&(o=a),o===e)return a;var s=d3.min([a+1,t.length-1]),l=r(t[s]);return void 0===l&&(l=s),Math.abs(l-e)>=Math.abs(o-e)?a:s},r.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,i=null;return t.forEach((function(t,a){var o=Math.abs(e-t);null!=t&&o<=r&&o<n&&(r=o,i=a)})),i},r.models.tooltip=function(){"use strict";var t="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,n="w",i=25,a=0,o=null,s=!0,l=200,c=null,u={left:null,top:null},d=!0,f=100,p=!0,_=function(t,e,n){return t},h=function(t){return t},g=function(t,e){return t},v=function(t,e){if(null===t)return"";var n=d3.select(document.createElement("table"));p&&n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(h(t.value));var r=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data((function(t){return t.series})).enter().append("tr").classed("highlight",(function(t){return t.highlight}));r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",(function(t){return t.color})),r.append("td").classed("key",!0).classed("total",(function(t){return!!t.total})).html((function(t,e){return g(t.key,e)})),r.append("td").classed("value",!0).html((function(t,e){return _(t.value,e,t)})),r.filter((function(t,e){return void 0!==t.percent})).append("td").classed("percent",!0).html((function(t,e){return"("+d3.format("%")(t.percent)+")"})),r.selectAll("td").each((function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}}));var i=n.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},m=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},y=function(){r.dom.read((function(){var t=m(),e=function(t){var e,r,a,o=c.node().offsetHeight,s=c.node().offsetWidth,l=document.documentElement.clientWidth,u=document.documentElement.clientHeight;switch(n){case"e":e=-s-i,r=-o/2,t.left+e<0&&(e=i),(a=t.top+r)<0&&(r-=a),(a=t.top+r+o)>u&&(r-=a-u);break;case"w":e=i,r=-o/2,t.left+e+s>l&&(e=-s-i),(a=t.top+r)<0&&(r-=a),(a=t.top+r+o)>u&&(r-=a-u);break;case"n":e=-s/2-5,r=i,t.top+r+o>u&&(r=-o-i),(a=t.left+e)<0&&(e-=a),(a=t.left+e+s)>l&&(e-=a-l);break;case"s":e=-s/2,r=-o-i,t.top+r<0&&(r=i),(a=t.left+e)<0&&(e-=a),(a=t.left+e+s)>l&&(e-=a-l);break;case"center":e=-s/2,r=-o/2;break;default:e=0,r=0}return{left:e,top:r}}(t),r=t.left+e.left,a=t.top+e.top;if(s)c.interrupt().transition().delay(l).duration(0).style("opacity",0);else{var o="translate("+u.left+"px, "+u.top+"px)",d="translate("+Math.round(r)+"px, "+Math.round(a)+"px)",p=d3.interpolateString(o,d),_=c.style("opacity")<.1;c.interrupt().transition().duration(_?0:f).styleTween("transform",(function(t){return p}),"important").styleTween("-webkit-transform",(function(t){return p})).style("-ms-transform",d).style("opacity",1)}u.left=r,u.top=a}))};function b(){if(d&&function(t){if(t&&t.series){if(r.utils.isArray(t.series))return!0;if(r.utils.isObject(t.series))return t.series=[t.series],!0}return!1}(e))return r.dom.write((function(){c&&c.node()||((c=d3.select(document.body).selectAll("#"+t).data([1])).enter().append("div").attr("class","nvtooltip "+(o||"xy-tooltip")).attr("id",t).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed("nv-pointer-events-none",!0).classed("nv-pointer-events-none",!0),c.exit().remove());var n=v(e,c.node());n&&(c.node().innerHTML=n),y()})),b}return b.nvPointerEventsClass="nv-pointer-events-none",b.options=r.utils.optionsFunc.bind(b),b._options=Object.create({},{duration:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return n},set:function(t){n=t}},distance:{get:function(){return i},set:function(t){i=t}},snapDistance:{get:function(){return a},set:function(t){a=t}},classes:{get:function(){return o},set:function(t){o=t}},enabled:{get:function(){return d},set:function(t){d=t}},hideDelay:{get:function(){return l},set:function(t){l=t}},contentGenerator:{get:function(){return v},set:function(t){v=t}},valueFormatter:{get:function(){return _},set:function(t){_=t}},headerFormatter:{get:function(){return h},set:function(t){h=t}},keyFormatter:{get:function(){return g},set:function(t){g=t}},headerEnabled:{get:function(){return p},set:function(t){p=t}},position:{get:function(){return m},set:function(t){m=t}},chartContainer:{get:function(){return document.body},set:function(t){r.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){r.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){r.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return s},set:function(t){s!=t&&(s=!!t,b())}},data:{get:function(){return e},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),e=t}},node:{get:function(){return c.node()},set:function(t){}},id:{get:function(){return t},set:function(t){}}}),r.utils.initOptions(b),b},r.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t},r.utils.isArray=Array.isArray,r.utils.isObject=function(t){return null!==t&&"object"==typeof t},r.utils.isFunction=function(t){return"function"==typeof t},r.utils.isDate=function(t){return"[object Date]"===toString.call(t)},r.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},r.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):r.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},r.utils.getColor=function(t){if(void 0===t)return r.utils.defaultColor();if(r.utils.isArray(t)){var e=d3.scale.ordinal().range(t);return function(t,n){var r=void 0===n?t:n;return t.color||e(r)}}return t},r.utils.defaultColor=function(){return r.utils.getColor(d3.scale.category20().range())},r.utils.customTheme=function(t,e,n){e=e||function(t){return t.key};var i=(n=n||d3.scale.category20().range()).length;return function(a,o){var s=e(a);return r.utils.isFunction(t[s])?t[s]():void 0!==t[s]?t[s]:(i||(i=n.length),n[i-=1])}},r.utils.pjax=function(t,e){var n=function(n){d3.html(n,(function(n){var i=d3.select(e).node();i.parentNode.replaceChild(d3.select(n).select(e).node(),i),r.utils.pjax(t,e)}))};d3.selectAll(t).on("click",(function(){history.pushState(this.href,this.textContent,this.href),n(this.href),d3.event.preventDefault()})),d3.select(window).on("popstate",(function(){d3.event.state&&n(d3.event.state)}))},r.utils.calcApproxTextWidth=function(t){if(r.utils.isFunction(t.style)&&r.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return r.utils.NaNtoZero(n*e*.5)}return 0},r.utils.NaNtoZero=function(t){return!r.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},r.utils.renderWatch=function(t,e){if(!(this instanceof r.utils.renderWatch))return new r.utils.renderWatch(t,e);var n=void 0!==e?e:250,i=[],a=this;this.models=function(t){return(t=[].slice.call(arguments,0)).forEach((function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",(function(t){e.__rendered=!0,a.renderEnd("model")})),i.indexOf(t)<0&&i.push(t)})),this},this.reset=function(t){void 0!==t&&(n=t),i=[]},this.transition=function(t,e,r){if(r=(e=arguments.length>1?[].slice.call(arguments,1):[]).length>1?e.pop():void 0!==n?n:250,t.__rendered=!1,i.indexOf(t)<0&&i.push(t),0===r)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every((function(t){return!t.length}))?t.__rendered=!0:t.__rendered=!1;var o=0;return t.transition().duration(r).each((function(){++o})).each("end",(function(n,r){0==--o&&(t.__rendered=!0,a.renderEnd.apply(this,e))}))},this.renderEnd=function(){i.every((function(t){return t.__rendered}))&&(i.forEach((function(t){t.__rendered=!1})),t.renderEnd.apply(this,arguments))}},r.utils.deepExtend=function(t){var e=arguments.length>1?[].slice.call(arguments,1):[];e.forEach((function(e){for(var n in e){var i=r.utils.isArray(t[n]),a=r.utils.isObject(t[n]),o=r.utils.isObject(e[n]);a&&!i&&o?r.utils.deepExtend(t[n],e[n]):t[n]=e[n]}}))},r.utils.state=function(){if(!(this instanceof r.utils.state))return new r.utils.state;var t={},e=function(){},n=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",(function(t){e(t,!0)})),this.getter=function(t){return n=t,this},this.setter=function(t,n){return n||(n=function(){}),e=function(e,r){t(e),r&&n()},this},this.init=function(t){i=i||{},r.utils.deepExtend(i,t)};var a=function(){var e=n();if(JSON.stringify(e)===JSON.stringify(t))return!1;for(var r in e)void 0===t[r]&&(t[r]={}),t[r]=e[r];return!0};this.update=function(){i&&(e(i,!1),i=null),a.call(this)&&this.dispatch.change(t)}},r.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){r.utils.isFunction(this[t])&&this[t](e)}.bind(this)),this},r.utils.calcTicksX=function(t,e){for(var n=1,i=0;i<e.length;i+=1){var a=e[i]&&e[i].values?e[i].values.length:0;n=a>n?a:n}return r.log("Requested number of ticks: ",t),r.log("Calculated max values to be: ",n),t=(t=t>n?t=n-1:t)<1?1:t,t=Math.floor(t),r.log("Calculating tick count as: ",t),t},r.utils.calcTicksY=function(t,e,n){if(n){for(var i=1,a=0;a<e.length;a+=1)for(var o,s=e[a]&&e[a].values?e[a].values:[],l=0;l<s.length;l+=1)i=(o=s[l]&&n(s[l])?n(s[l]):0)>i?o:i;return r.log("Requested number of ticks: ",t),r.log("Calculated max values to be: ",i),t=(t=t>i?i-1:t)<1?1:t,t=Math.floor(t),r.log("Calculating tick count as: ",t),t}return r.utils.calcTicksX(t,e)},r.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},r.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});for(var i in e=e.concat(n))r.utils.initOption(t,e[i])},r.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),t._d3options=(t._d3options||[]).filter((function(t,e,n){return n.indexOf(t)===e})),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},r.utils.arrayUnique=function(t){return t.sort().filter((function(e,n){return!n||e!=t[n-1]}))},r.utils.symbolMap=d3.map(),r.utils.symbol=function(){var t,e=64;function n(n,i){var a=t.call(this,n,i),o=e.call(this,n,i);return-1!==d3.svg.symbolTypes.indexOf(a)?d3.svg.symbol().type(a).size(o)():r.utils.symbolMap.get(a)(o)}return n.type=function(e){return arguments.length?(t=d3.functor(e),n):t},n.size=function(t){return arguments.length?(e=d3.functor(t),n):e},n},r.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),i=Object.getOwnPropertyNames(e._calls||{}),a=e._inherited||[],o=e._d3options||[],s=n.concat(i).concat(a).concat(o);s.unshift(e),s.unshift(t),d3.rebind.apply(this,s),t._inherited=r.utils.arrayUnique(n.concat(i).concat(a).concat(n).concat(t._inherited||[])),t._d3options=r.utils.arrayUnique(o.concat(t._d3options||[]))},r.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},r.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},r.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},r.utils.availableHeight=function(t,e,n){return Math.max(0,r.utils.sanitizeHeight(t,e)-n.top-n.bottom)},r.utils.availableWidth=function(t,e,n){return Math.max(0,r.utils.sanitizeWidth(t,e)-n.left-n.right)},r.utils.noData=function(t,e){var n=t.options(),i=n.margin(),a=n.noData(),o=null==a?["No Data Available."]:[a],s=r.utils.availableHeight(null,e,i),l=r.utils.availableWidth(null,e,i),c=i.left+l/2,u=i.top+s/2;e.selectAll("g").remove();var d=e.selectAll(".nv-noData").data(o);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",c).attr("y",u).text((function(t){return t}))},r.utils.wrapTicks=function(t,e){t.each((function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),i=[],a=0,o=n.attr("y"),s=parseFloat(n.attr("dy")),l=n.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em");t=r.pop();)i.push(t),l.text(i.join(" ")),l.node().getComputedTextLength()>e&&(i.pop(),l.text(i.join(" ")),i=[t],l=n.append("tspan").attr("x",0).attr("y",o).attr("dy",1.1*++a+s+"em").text(t))}))},r.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!r.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},r.utils.pointIsInArc=function(t,e,n){var r=n.innerRadius()(e),i=n.outerRadius()(e),a=n.startAngle()(e),o=n.endAngle()(e),s=t.x*t.x+t.y*t.y,l=Math.atan2(t.x,-t.y);return l=l<0?l+2*Math.PI:l,r*r<=s&&s<=i*i&&a<=l&&l<=o},r.models.axis=function(){"use strict";var t,e,n=d3.svg.axis(),i=d3.scale.linear(),a={top:0,right:0,bottom:0,left:0},o=75,s=60,l=null,c=!0,u=0,d=!0,f=!1,p=!1,_=null,h=0,g=void 0,v=250,m=d3.dispatch("renderEnd");n.scale(i).orient("bottom").tickFormat((function(t){return t}));var y=r.utils.renderWatch(m,v);function b(s){return y.reset(),s.each((function(s){var v=d3.select(this);r.utils.initSVG(v);var m=v.selectAll("g.nv-wrap.nv-axis").data([s]),b=(m.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),m.select("g"));null!==_?n.ticks(_):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(i.range()[1]-i.range()[0])/100),b.watchTransition(y,"axis").call(n),e=e||n.scale();var x=n.tickFormat();null==x&&(x=e.tickFormat());var E,M,k,A=b.selectAll("text.nv-axislabel").data([l||null]);switch(A.exit().remove(),void 0!==g&&b.selectAll("g").select("text").style("font-size",g),n.orient()){case"top":E=h+36,A.enter().append("text").attr("class","nv-axislabel"),k=0,1===i.range().length?k=p?2*i.range()[0]+i.rangeBand():0:2===i.range().length?k=p?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(k=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),A.attr("text-anchor","middle").attr("y",-E).attr("x",k/2),c&&((M=m.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",(function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")})).append("text"),M.exit().remove(),M.attr("transform",(function(t,e){return"translate("+r.utils.NaNtoZero(i(t))+",0)"})).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text((function(e,n){var r=(t||x)(e);return(""+r).match("NaN")?"":r})),M.watchTransition(y,"min-max top").attr("transform",(function(t,e){return"translate("+r.utils.NaNtoZero(i.range()[e])+",0)"})));break;case"bottom":E=h+36;var O=30,D=0,P=b.selectAll("g").select("text"),w="";if(u%360){P.attr("transform",""),P.each((function(t,e){var n=this.getBoundingClientRect(),r=n.width;D=n.height,r>O&&(O=r)})),w="rotate("+u+" 0,"+(D/2+n.tickPadding())+")";var C=Math.abs(Math.sin(u*Math.PI/180));E=(C?C*O:O)+30,P.attr("transform",w).style("text-anchor",u%360>0?"start":"end")}else f?P.attr("transform",(function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"})):P.attr("transform","translate(0,0)");A.enter().append("text").attr("class","nv-axislabel"),k=0,1===i.range().length?k=p?2*i.range()[0]+i.rangeBand():0:2===i.range().length?k=p?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(k=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),A.attr("text-anchor","middle").attr("y",E).attr("x",k/2),c&&((M=m.selectAll("g.nv-axisMaxMin").data([i.domain()[0],i.domain()[i.domain().length-1]])).enter().append("g").attr("class",(function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")})).append("text"),M.exit().remove(),M.attr("transform",(function(t,e){return"translate("+r.utils.NaNtoZero(i(t)+(p?i.rangeBand()/2:0))+",0)"})).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",w).style("text-anchor",u?u%360>0?"start":"end":"middle").text((function(e,n){var r=(t||x)(e);return(""+r).match("NaN")?"":r})),M.watchTransition(y,"min-max bottom").attr("transform",(function(t,e){return"translate("+r.utils.NaNtoZero(i(t)+(p?i.rangeBand()/2:0))+",0)"})));break;case"right":A.enter().append("text").attr("class","nv-axislabel"),A.style("text-anchor",d?"middle":"begin").attr("transform",d?"rotate(90)":"").attr("y",d?12-Math.max(a.right,o)-(h||0):-10).attr("x",d?d3.max(i.range())/2:n.tickPadding()),c&&((M=m.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",(function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")})).append("text").style("opacity",0),M.exit().remove(),M.attr("transform",(function(t,e){return"translate(0,"+r.utils.NaNtoZero(i(t))+")"})).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text((function(e,n){var r=(t||x)(e);return(""+r).match("NaN")?"":r})),M.watchTransition(y,"min-max right").attr("transform",(function(t,e){return"translate(0,"+r.utils.NaNtoZero(i.range()[e])+")"})).select("text").style("opacity",1));break;case"left":A.enter().append("text").attr("class","nv-axislabel"),A.style("text-anchor",d?"middle":"end").attr("transform",d?"rotate(-90)":"").attr("y",d?25-Math.max(a.left,o)-(h||0):-10).attr("x",d?-d3.max(i.range())/2:-n.tickPadding()),c&&((M=m.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",(function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")})).append("text").style("opacity",0),M.exit().remove(),M.attr("transform",(function(t,n){return"translate(0,"+r.utils.NaNtoZero(e(t))+")"})).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text((function(e,n){var r=(t||x)(e);return(""+r).match("NaN")?"":r})),M.watchTransition(y,"min-max right").attr("transform",(function(t,e){return"translate(0,"+r.utils.NaNtoZero(i.range()[e])+")"})).select("text").style("opacity",1))}if(A.text((function(t){return t})),!c||"left"!==n.orient()&&"right"!==n.orient()||(b.selectAll("g").each((function(t,e){d3.select(this).select("text").attr("opacity",1),(i(t)<i.range()[1]+10||i(t)>i.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))})),i.domain()[0]==i.domain()[1]&&0==i.domain()[0]&&m.selectAll("g.nv-axisMaxMin").style("opacity",(function(t,e){return e?0:1}))),c&&("top"===n.orient()||"bottom"===n.orient())){var L=[];m.selectAll("g.nv-axisMaxMin").each((function(t,e){try{e?L.push(i(t)-this.getBoundingClientRect().width-4):L.push(i(t)+this.getBoundingClientRect().width+4)}catch(n){e?L.push(i(t)-4):L.push(i(t)+4)}})),b.selectAll("g").each((function(t,e){(i(t)<L[0]||i(t)>L[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())}))}b.selectAll(".tick").filter((function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t})).classed("zero",!0),e=i.copy()})),y.renderEnd("axis immediate"),b}return b.axis=n,b.dispatch=m,b.options=r.utils.optionsFunc.bind(b),b._options=Object.create({},{axisLabelDistance:{get:function(){return h},set:function(t){h=t}},staggerLabels:{get:function(){return f},set:function(t){f=t}},rotateLabels:{get:function(){return u},set:function(t){u=t}},rotateYLabel:{get:function(){return d},set:function(t){d=t}},showMaxMin:{get:function(){return c},set:function(t){c=t}},axisLabel:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return s},set:function(t){s=t}},ticks:{get:function(){return _},set:function(t){_=t}},width:{get:function(){return o},set:function(t){o=t}},fontSize:{get:function(){return g},set:function(t){g=t}},tickFormatMaxMin:{get:function(){return t},set:function(e){t=e}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return v},set:function(t){v=t,y.reset(v)}},scale:{get:function(){return i},set:function(t){i=t,n.scale(i),p="function"==typeof i.rangeBands,r.utils.inheritOptionsD3(b,i,["domain","range","rangeBand","rangeBands"])}}}),r.utils.initOptions(b),r.utils.inheritOptionsD3(b,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),r.utils.inheritOptionsD3(b,i,["domain","range","rangeBand","rangeBands"]),b},r.models.boxPlot=function(){"use strict";var t,e,n,i,a,o,s={top:0,right:0,bottom:0,left:0},l=960,c=500,u=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),f=d3.scale.linear(),p=function(t){return t.label},_=function(t){return t.values.Q1},h=function(t){return t.values.Q2},g=function(t){return t.values.Q3},v=function(t){return t.values.whisker_low},m=function(t){return t.values.whisker_high},y=function(t){return t.color},b=function(t){return t.values.outliers},x=function(t,e,n){return t},E=function(t,e,n){return t},M=function(t,e,n){},k=r.utils.defaultColor(),A=null,O=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=250,P=null,w=r.utils.renderWatch(O,D);function C(u){return w.reset(),u.each((function(u){var C=l-s.left-s.right,L=c-s.top-s.bottom;A=d3.select(this),r.utils.initSVG(A),d.domain(t||u.map((function(t,e){return p(t,e)}))).rangeBands(e||[0,C],.1);var T=[];if(!n){var W=[];u.forEach((function(t,e){var n=_(t),r=g(t),i=v(t),a=m(t),o=b(t);o&&o.forEach((function(t,e){W.push(x(t,e,void 0))})),i&&W.push(i),n&&W.push(n),r&&W.push(r),a&&W.push(a)})),T=[d3.min(W),d3.max(W)]}f.domain(n||T),f.range(i||[L,0]),a=a||d,o=o||f.copy().range([f(0),f(0)]);var B=A.selectAll("g.nv-wrap").data([u]);B.enter().append("g").attr("class","nvd3 nv-wrap"),B.attr("transform","translate("+s.left+","+s.top+")");var I=B.selectAll(".nv-boxplot").data((function(t){return t})),R=I.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);I.attr("class","nv-boxplot").attr("transform",(function(t,e,n){return"translate("+(d(p(t,e))+.05*d.rangeBand())+", 0)"})).classed("hover",(function(t){return t.hover})),I.watchTransition(w,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay((function(t,e){return e*D/u.length})).attr("transform",(function(t,e){return"translate("+(d(p(t,e))+.05*d.rangeBand())+", 0)"})),I.exit().remove(),R.each((function(t,e){var n=d3.select(this);[v,m].forEach((function(r){if(void 0!==r(t)&&null!==r(t)){var i=r===v?"low":"high";n.append("line").style("stroke",y(t)||k(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",y(t)||k(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+i)}}))}));var S=function(){return null===P?.9*d.rangeBand():Math.min(75,.9*d.rangeBand())},j=function(){return.45*d.rangeBand()-S()/2},F=function(){return.45*d.rangeBand()+S()/2};[v,m].forEach((function(t){var e=t===v?"low":"high",n=t===v?_:g;I.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(w,"nv-boxplot: boxplots").attr("x1",.45*d.rangeBand()).attr("y1",(function(e,n){return f(t(e))})).attr("x2",.45*d.rangeBand()).attr("y2",(function(t,e){return f(n(t))})),I.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(w,"nv-boxplot: boxplots").attr("x1",j).attr("y1",(function(e,n){return f(t(e))})).attr("x2",F).attr("y2",(function(e,n){return f(t(e))}))})),[v,m].forEach((function(t){var e=t===v?"low":"high";R.selectAll(".nv-boxplot-"+e).on("mouseover",(function(e,n,r){d3.select(this).classed("hover",!0),O.elementMouseover({series:{key:t(e),color:y(e)||k(e,r)},e:d3.event})})).on("mouseout",(function(e,n,r){d3.select(this).classed("hover",!1),O.elementMouseout({series:{key:t(e),color:y(e)||k(e,r)},e:d3.event})})).on("mousemove",(function(t,e){O.elementMousemove({e:d3.event})}))})),R.append("rect").attr("class","nv-boxplot-box").on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),O.elementMouseover({key:p(t),value:p(t),series:[{key:"Q3",value:g(t),color:y(t)||k(t,e)},{key:"Q2",value:h(t),color:y(t)||k(t,e)},{key:"Q1",value:_(t),color:y(t)||k(t,e)}],data:t,index:e,e:d3.event})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),O.elementMouseout({key:p(t),value:p(t),series:[{key:"Q3",value:g(t),color:y(t)||k(t,e)},{key:"Q2",value:h(t),color:y(t)||k(t,e)},{key:"Q1",value:_(t),color:y(t)||k(t,e)}],data:t,index:e,e:d3.event})})).on("mousemove",(function(t,e){O.elementMousemove({e:d3.event})})),I.select("rect.nv-boxplot-box").watchTransition(w,"nv-boxplot: boxes").attr("y",(function(t,e){return f(g(t))})).attr("width",S).attr("x",j).attr("height",(function(t,e){return Math.abs(f(g(t))-f(_(t)))||1})).style("fill",(function(t,e){return y(t)||k(t,e)})).style("stroke",(function(t,e){return y(t)||k(t,e)})),R.append("line").attr("class","nv-boxplot-median"),I.select("line.nv-boxplot-median").watchTransition(w,"nv-boxplot: boxplots line").attr("x1",j).attr("y1",(function(t,e){return f(h(t))})).attr("x2",F).attr("y2",(function(t,e){return f(h(t))}));var K=I.selectAll(".nv-boxplot-outlier").data((function(t){return b(t)||[]}));K.enter().append("circle").style("fill",(function(t,e,n){return M(t,e,n)||k(t,n)})).style("stroke",(function(t,e,n){return M(t,e,n)||k(t,n)})).style("z-index",9e3).on("mouseover",(function(t,e,n){d3.select(this).classed("hover",!0),O.elementMouseover({series:{key:E(t,e,n),color:M(t,e,n)||k(t,n)},e:d3.event})})).on("mouseout",(function(t,e,n){d3.select(this).classed("hover",!1),O.elementMouseout({series:{key:E(t,e,n),color:M(t,e,n)||k(t,n)},e:d3.event})})).on("mousemove",(function(t,e){O.elementMousemove({e:d3.event})})),K.attr("class","nv-boxplot-outlier"),K.watchTransition(w,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*d.rangeBand()).attr("cy",(function(t,e,n){return f(x(t,e,n))})).attr("r","3"),K.exit().remove(),a=d.copy(),o=f.copy()})),w.renderEnd("nv-boxplot immediate"),C}return C.dispatch=O,C.options=r.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},maxBoxWidth:{get:function(){return P},set:function(t){P=t}},x:{get:function(){return p},set:function(t){p=t}},q1:{get:function(){return _},set:function(t){_=t}},q2:{get:function(){return h},set:function(t){h=t}},q3:{get:function(){return g},set:function(t){g=t}},wl:{get:function(){return v},set:function(t){v=t}},wh:{get:function(){return m},set:function(t){m=t}},itemColor:{get:function(){return y},set:function(t){y=t}},outliers:{get:function(){return b},set:function(t){b=t}},outlierValue:{get:function(){return x},set:function(t){x=t}},outlierLabel:{get:function(){return E},set:function(t){E=t}},outlierColor:{get:function(){return M},set:function(t){M=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return e},set:function(t){e=t}},yRange:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return u},set:function(t){u=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},color:{get:function(){return k},set:function(t){k=r.utils.getColor(t)}},duration:{get:function(){return D},set:function(t){D=t,w.reset(D)}}}),r.utils.initOptions(C),C},r.models.boxPlotChart=function(){"use strict";var t,e,n=r.models.boxPlot(),i=r.models.axis(),a=r.models.axis(),o={top:15,right:10,bottom:50,left:60},s=null,l=null,c=r.utils.getColor(),u=!0,d=!0,f=!1,p=!1,_=r.models.tooltip(),h="No Data Available.",g=d3.dispatch("beforeUpdate","renderEnd"),v=250;i.orient("bottom").showMaxMin(!1).tickFormat((function(t){return t})),a.orient(f?"right":"left").tickFormat(d3.format(",.1f")),_.duration(0);var m=r.utils.renderWatch(g,v);function y(c){return m.reset(),m.models(n),u&&m.models(i),d&&m.models(a),c.each((function(c){var _=d3.select(this);r.utils.initSVG(_);var m=(s||parseInt(_.style("width"))||960)-o.left-o.right,b=(l||parseInt(_.style("height"))||400)-o.top-o.bottom;if(y.update=function(){g.beforeUpdate(),_.transition().duration(v).call(y)},y.container=this,!c||!c.length){var x=_.selectAll(".nv-noData").data([h]);return x.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),x.attr("x",o.left+m/2).attr("y",o.top+b/2).text((function(t){return t})),y}_.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var E=_.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([c]),M=E.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),k=M.append("defs"),A=E.select("g");if(M.append("g").attr("class","nv-x nv-axis"),M.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),M.append("g").attr("class","nv-barsWrap"),A.attr("transform","translate("+o.left+","+o.top+")"),f&&A.select(".nv-y.nv-axis").attr("transform","translate("+m+",0)"),n.width(m).height(b),A.select(".nv-barsWrap").datum(c.filter((function(t){return!t.disabled}))).transition().call(n),k.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),A.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(p?2:1)).attr("height",16).attr("x",-t.rangeBand()/(p?1:2)),u){i.scale(t).ticks(r.utils.calcTicksX(m/100,c)).tickSize(-b,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),A.select(".nv-x.nv-axis").call(i);var O=A.select(".nv-x.nv-axis").selectAll("g");p&&O.selectAll("text").attr("transform",(function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}))}d&&(a.scale(e).ticks(Math.floor(b/36)).tickSize(-m,0),A.select(".nv-y.nv-axis").call(a)),A.select(".nv-zeroLine line").attr("x1",0).attr("x2",m).attr("y1",e(0)).attr("y2",e(0))})),m.renderEnd("nv-boxplot chart immediate"),y}return n.dispatch.on("elementMouseover.tooltip",(function(t){_.data(t).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(t){_.data(t).hidden(!0)})),n.dispatch.on("elementMousemove.tooltip",(function(t){_()})),y.dispatch=g,y.boxplot=n,y.xAxis=i,y.yAxis=a,y.tooltip=_,y.options=r.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},staggerLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return u},set:function(t){u=t}},showYAxis:{get:function(){return d},set:function(t){d=t}},tooltipContent:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return v},set:function(t){v=t,m.reset(v),n.duration(v),i.duration(v),a.duration(v)}},color:{get:function(){return c},set:function(t){c=r.utils.getColor(t),n.color(c)}},rightAlignYAxis:{get:function(){return f},set:function(t){f=t,a.orient(t?"right":"left")}}}),r.utils.inheritOptions(y,n),r.utils.initOptions(y),y},r.models.bullet=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e="left",n=!1,i=function(t){return t.ranges},a=function(t){return t.markers?t.markers:[]},o=function(t){return t.markerLines?t.markerLines:[0]},s=function(t){return t.measures},l=function(t){return t.rangeLabels?t.rangeLabels:[]},c=function(t){return t.markerLabels?t.markerLabels:[]},u=function(t){return t.markerLineLabels?t.markerLineLabels:[]},d=function(t){return t.measureLabels?t.measureLabels:[]},f=[0],p=380,_=30,h=null,g=null,v=r.utils.getColor(["#1f77b4"]),m=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),y=["Maximum","Mean","Minimum"],b=["Max","Avg","Min"],x=1e3;function E(t,e){var n=t.slice();t.sort((function(t,r){var i=n.indexOf(t),a=n.indexOf(r);return d3.descending(e[i],e[a])}))}function M(e){return e.each((function(e,g){var M=p-t.left-t.right,k=_-t.top-t.bottom;h=d3.select(this),r.utils.initSVG(h);var A=i.call(this,e,g).slice(),O=a.call(this,e,g).slice(),D=o.call(this,e,g).slice(),P=s.call(this,e,g).slice(),w=l.call(this,e,g).slice(),C=c.call(this,e,g).slice(),L=u.call(this,e,g).slice(),T=d.call(this,e,g).slice();E(w,A),E(C,O),E(L,D),E(T,P),A.sort(d3.descending),O.sort(d3.descending),D.sort(d3.descending),P.sort(d3.descending);var W=d3.scale.linear().domain(d3.extent(d3.merge([f,A]))).range(n?[M,0]:[0,M]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(W.range()),this.__chart__=W,d3.min(A),d3.max(A),A[1];for(var B=h.selectAll("g.nv-wrap.nv-bullet").data([e]),I=B.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),R=B.select("g"),S=(g=0,A.length);g<S;g++){var j="nv-range nv-range"+g;g<=2&&(j=j+" nv-range"+b[g]),I.append("rect").attr("class",j)}I.append("rect").attr("class","nv-measure"),B.attr("transform","translate("+t.left+","+t.top+")");var F=function(t){return Math.abs(W(t)-W(0))},K=function(t){return W(t<0?t:0)};for(g=0,S=A.length;g<S;g++){var U=A[g];R.select("rect.nv-range"+g).datum(U).attr("height",k).transition().duration(x).attr("width",F(U)).attr("x",K(U))}R.select("rect.nv-measure").style("fill",v).attr("height",k/3).attr("y",k/3).on("mouseover",(function(){m.elementMouseover({value:P[0],label:T[0]||"Current",color:d3.select(this).style("fill")})})).on("mousemove",(function(){m.elementMousemove({value:P[0],label:T[0]||"Current",color:d3.select(this).style("fill")})})).on("mouseout",(function(){m.elementMouseout({value:P[0],label:T[0]||"Current",color:d3.select(this).style("fill")})})).transition().duration(x).attr("width",P<0?W(0)-W(P[0]):W(P[0])-W(0)).attr("x",K(P));var N=k/6,z=O.map((function(t,e){return{value:t,label:C[e]}}));I.selectAll("path.nv-markerTriangle").data(z).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+N+"L"+N+","+-N+" "+-N+","+-N+"Z").on("mouseover",(function(t){m.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[W(t.value),k/2]})})).on("mousemove",(function(t){m.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){m.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})})),R.selectAll("path.nv-markerTriangle").data(z).transition().duration(x).attr("transform",(function(t){return"translate("+W(t.value)+","+k/2+")"}));var V=D.map((function(t,e){return{value:t,label:L[e]}}));I.selectAll("line.nv-markerLine").data(V).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",(function(t){return W(t.value)})).attr("y1","2").attr("x2",(function(t){return W(t.value)})).attr("y2",k-2).on("mouseover",(function(t){m.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[W(t.value),k/2]})})).on("mousemove",(function(t){m.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){m.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})})),R.selectAll("line.nv-markerLine").data(V).transition().duration(x).attr("x1",(function(t){return W(t.value)})).attr("x2",(function(t){return W(t.value)})),B.selectAll(".nv-range").on("mouseover",(function(t,e){var n=w[e]||y[e];m.elementMouseover({value:t,label:n,color:d3.select(this).style("fill")})})).on("mousemove",(function(){m.elementMousemove({value:P[0],label:T[0]||"Previous",color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){var n=w[e]||y[e];m.elementMouseout({value:t,label:n,color:d3.select(this).style("fill")})}))})),M}return M.dispatch=m,M.options=r.utils.optionsFunc.bind(M),M._options=Object.create({},{ranges:{get:function(){return i},set:function(t){i=t}},markers:{get:function(){return a},set:function(t){a=t}},measures:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return f},set:function(t){f=t}},width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return _},set:function(t){_=t}},tickFormat:{get:function(){return g},set:function(t){g=t}},duration:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},orient:{get:function(){return e},set:function(t){n="right"==(e=t)||"bottom"==e}},color:{get:function(){return v},set:function(t){v=r.utils.getColor(t)}}}),r.utils.initOptions(M),M},r.models.bulletChart=function(){"use strict";var t=r.models.bullet(),e=r.models.tooltip(),n="left",i=!1,a={top:5,right:40,bottom:20,left:120},o=function(t){return t.ranges},s=function(t){return t.markers?t.markers:[]},l=function(t){return t.measures},c=null,u=55,d=null,f=null,p=null,_=d3.dispatch();function h(e){return e.each((function(n,p){var _=d3.select(this);r.utils.initSVG(_);var g=r.utils.availableWidth(c,_,a),v=u-a.top-a.bottom;if(h.update=function(){h(e)},h.container=this,!n||!o.call(this,n,p))return r.utils.noData(h,_),h;_.selectAll(".nv-noData").remove();var m=o.call(this,n,p).slice().sort(d3.descending),y=s.call(this,n,p).slice().sort(d3.descending),b=l.call(this,n,p).slice().sort(d3.descending),x=_.selectAll("g.nv-wrap.nv-bulletChart").data([n]),E=x.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),M=x.select("g");E.append("g").attr("class","nv-bulletWrap"),E.append("g").attr("class","nv-titles"),x.attr("transform","translate("+a.left+","+a.top+")");var k=d3.scale.linear().domain([0,Math.max(m[0],y[0]||0,b[0])]).range(i?[g,0]:[0,g]),A=this.__chart__||d3.scale.linear().domain([0,1/0]).range(k.range());this.__chart__=k;var O=E.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(u-a.top-a.bottom)/2+")");O.append("text").attr("class","nv-title").text((function(t){return t.title})),O.append("text").attr("class","nv-subtitle").attr("dy","1em").text((function(t){return t.subtitle})),t.width(g).height(v);var D=M.select(".nv-bulletWrap");d3.transition(D).call(t);var P=d||k.tickFormat(g/100),w=M.selectAll("g.nv-tick").data(k.ticks(f||g/50),(function(t){return this.textContent||P(t)})),C=w.enter().append("g").attr("class","nv-tick").attr("transform",(function(t){return"translate("+A(t)+",0)"})).style("opacity",1e-6);C.append("line").attr("y1",v).attr("y2",7*v/6),C.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*v/6).text(P);var L=d3.transition(w).transition().duration(t.duration()).attr("transform",(function(t){return"translate("+k(t)+",0)"})).style("opacity",1);L.select("line").attr("y1",v).attr("y2",7*v/6),L.select("text").attr("y",7*v/6),d3.transition(w.exit()).transition().duration(t.duration()).attr("transform",(function(t){return"translate("+k(t)+",0)"})).style("opacity",1e-6).remove()})),d3.timer.flush(),h}return e.duration(0).headerEnabled(!1),t.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)})),t.dispatch.on("elementMouseout.tooltip",(function(t){e.hidden(!0)})),t.dispatch.on("elementMousemove.tooltip",(function(t){e()})),h.bullet=t,h.dispatch=_,h.tooltip=e,h.options=r.utils.optionsFunc.bind(h),h._options=Object.create({},{ranges:{get:function(){return o},set:function(t){o=t}},markers:{get:function(){return s},set:function(t){s=t}},measures:{get:function(){return l},set:function(t){l=t}},width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return u},set:function(t){u=t}},tickFormat:{get:function(){return d},set:function(t){d=t}},ticks:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},orient:{get:function(){return n},set:function(t){i="right"==(n=t)||"bottom"==n}}}),r.utils.inheritOptions(h,t),r.utils.initOptions(h),h},r.models.candlestickBar=function(){"use strict";var t,e,n,i,a,o={top:0,right:0,bottom:0,left:0},s=null,l=null,c=Math.floor(1e4*Math.random()),u=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},_=function(t){return t.open},h=function(t){return t.close},g=function(t){return t.high},v=function(t){return t.low},m=[],y=[],b=!1,x=!0,E=r.utils.defaultColor(),M=!1,k=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function A(E){return E.each((function(E){t=d3.select(this);var M=r.utils.availableWidth(s,t,o),A=r.utils.availableHeight(l,t,o);r.utils.initSVG(t);var O=M/E[0].values.length*.45;u.domain(e||d3.extent(E[0].values.map(f).concat(m))),b?u.range(i||[.5*M/E[0].values.length,M*(E[0].values.length-.5)/E[0].values.length]):u.range(i||[5+O/2,M-O/2-5]),d.domain(n||[d3.min(E[0].values.map(v).concat(y)),d3.max(E[0].values.map(g).concat(y))]).range(a||[A,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var D=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([E[0].values]),P=D.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),w=P.append("defs"),C=P.append("g"),L=D.select("g");C.append("g").attr("class","nv-ticks"),D.attr("transform","translate("+o.left+","+o.top+")"),t.on("click",(function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:c})})),w.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),D.select("#nv-chart-clip-path-"+c+" rect").attr("width",M).attr("height",A),L.attr("clip-path",x?"url(#nv-chart-clip-path-"+c+")":"");var T=D.select(".nv-ticks").selectAll(".nv-tick").data((function(t){return t}));T.exit().remove();var W=T.enter().append("g");T.attr("class",(function(t,e,n){return(_(t,e)>h(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e})),W.append("line").attr("class","nv-candlestick-lines").attr("transform",(function(t,e){return"translate("+u(f(t,e))+",0)"})).attr("x1",0).attr("y1",(function(t,e){return d(g(t,e))})).attr("x2",0).attr("y2",(function(t,e){return d(v(t,e))})),W.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",(function(t,e){return"translate("+(u(f(t,e))-O/2)+","+(d(p(t,e))-(_(t,e)>h(t,e)?d(h(t,e))-d(_(t,e)):0))+")"})).attr("x",0).attr("y",0).attr("width",O).attr("height",(function(t,e){var n=_(t,e),r=h(t,e);return n>r?d(r)-d(n):d(n)-d(r)})),T.select(".nv-candlestick-lines").transition().attr("transform",(function(t,e){return"translate("+u(f(t,e))+",0)"})).attr("x1",0).attr("y1",(function(t,e){return d(g(t,e))})).attr("x2",0).attr("y2",(function(t,e){return d(v(t,e))})),T.select(".nv-candlestick-rects").transition().attr("transform",(function(t,e){return"translate("+(u(f(t,e))-O/2)+","+(d(p(t,e))-(_(t,e)>h(t,e)?d(h(t,e))-d(_(t,e)):0))+")"})).attr("x",0).attr("y",0).attr("width",O).attr("height",(function(t,e){var n=_(t,e),r=h(t,e);return n>r?d(r)-d(n):d(n)-d(r)}))})),A}return A.highlightPoint=function(e,n){A.clearHighlights(),t.select(".nv-candlestickBar .nv-tick-0-"+e).classed("hover",n)},A.clearHighlights=function(){t.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},A.dispatch=k,A.options=r.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return u},set:function(t){u=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceX:{get:function(){return m},set:function(t){m=t}},forceY:{get:function(){return y},set:function(t){y=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return c},set:function(t){c=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},open:{get:function(){return _()},set:function(t){_=t}},close:{get:function(){return h()},set:function(t){h=t}},high:{get:function(){return g},set:function(t){g=t}},low:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return o},set:function(t){o.top=null!=t.top?t.top:o.top,o.right=null!=t.right?t.right:o.right,o.bottom=null!=t.bottom?t.bottom:o.bottom,o.left=null!=t.left?t.left:o.left}},color:{get:function(){return E},set:function(t){E=r.utils.getColor(t)}}}),r.utils.initOptions(A),A},r.models.cumulativeLineChart=function(){"use strict";var t,e,n=r.models.line(),i=r.models.axis(),a=r.models.axis(),o=r.models.legend(),s=r.models.legend(),l=r.interactiveGuideline(),c=r.models.tooltip(),u={top:30,right:30,bottom:50,left:60},d=null,f=r.utils.defaultColor(),p=null,_=null,h=!0,g=!0,v=!0,m=!1,y=!0,b=!1,x=!0,E=n.id(),M=r.utils.state(),k=null,A=null,O=function(t){return t.average},D=d3.dispatch("stateChange","changeState","renderEnd"),P=250,w=!1;M.index=0,M.rescaleY=x,i.orient("bottom").tickPadding(7),a.orient(m?"right":"left"),c.valueFormatter((function(t,e){return a.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),s.updateState(!1);var C,L=d3.scale.linear(),T={i:0,x:0},W=r.utils.renderWatch(D,P);function B(c){return W.reset(),W.models(n),g&&W.models(i),v&&W.models(a),c.each((function(c){var A=d3.select(this);r.utils.initSVG(A),A.classed("nv-chart-"+E,!0);var W,S=r.utils.availableWidth(p,A,u),j=r.utils.availableHeight(_,A,u);if(B.update=function(){0===P?A.call(B):A.transition().duration(P).call(B)},B.container=this,M.setter(function(t){return function(e){void 0!==e.index&&(T.i=e.index),void 0!==e.rescaleY&&(x=e.rescaleY),void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(c),B.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled})),index:T.i,rescaleY:x}}}(c)).update(),M.disabled=c.map((function(t){return!!t.disabled})),!k)for(W in k={},M)M[W]instanceof Array?k[W]=M[W].slice(0):k[W]=M[W];var F=d3.behavior.drag().on("dragstart",(function(t,e){d3.select(B.container).style("cursor","ew-resize")})).on("drag",(function(t,e){T.x=d3.event.x,T.i=Math.round(L.invert(T.x)),Z()})).on("dragend",(function(t,e){d3.select(B.container).style("cursor","auto"),M.index=T.i,D.stateChange(M)}));if(!(c&&c.length&&c.filter((function(t){return t.values.length})).length))return r.utils.noData(B,A),B;A.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale(),L.domain([0,c[0].values.length-1]).range([0,S]).clamp(!0),c=function(t,e){return I||(I=n.y()),e.map((function(e,n){if(!e.values)return e;var r=e.values[t];if(null==r)return e;var i=I(r,t);return Math.abs(i)<1e-5&&!w?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map((function(t,e){return t.display={y:(I(t,e)-i)/i},t})),e)}))}(T.i,c),void 0===C&&(C=R(c)),x?n.yDomain(null):(n.yDomain(C),n.clipEdge(!0));var K=b?"none":"all",U=A.selectAll("g.nv-wrap.nv-cumulativeLine").data([c]),N=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),z=U.select("g");if(N.append("g").attr("class","nv-interactive"),N.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-background"),N.append("g").attr("class","nv-linesWrap").style("pointer-events",K),N.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-controlsWrap"),h?(o.width(S),z.select(".nv-legendWrap").datum(c).call(o),d||o.height()===u.top||(u.top=o.height(),j=r.utils.availableHeight(_,A,u)),z.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")):z.select(".nv-legendWrap").selectAll("*").remove(),y){var V=[{key:"Re-scale y-axis",disabled:!x}];s.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),z.select(".nv-controlsWrap").datum(V).attr("transform","translate(0,"+-u.top+")").call(s)}else z.select(".nv-controlsWrap").selectAll("*").remove();U.attr("transform","translate("+u.left+","+u.top+")"),m&&z.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)");var G=c.filter((function(t){return t.tempDisabled}));U.select(".tempDisabled").remove(),G.length&&U.append("text").attr("class","tempDisabled").attr("x",S/2).attr("y","-.71em").style("text-anchor","end").text(G.map((function(t){return t.key})).join(", ")+" values cannot be calculated for this time period."),b&&(l.width(S).height(j).margin({left:u.left,top:u.top}).svgContainer(A).xScale(t),U.select(".nv-interactive").call(l)),N.select(".nv-background").append("rect"),z.select(".nv-background rect").attr("width",S).attr("height",j),n.y((function(t){return t.display.y})).width(S).height(j).color(c.map((function(t,e){return t.color||f(t,e)})).filter((function(t,e){return!c[e].disabled&&!c[e].tempDisabled})));var H=z.select(".nv-linesWrap").datum(c.filter((function(t){return!t.disabled&&!t.tempDisabled})));H.call(n),c.forEach((function(t,e){t.seriesIndex=e}));var q=c.filter((function(t){return!t.disabled&&!!O(t)})),Y=z.select(".nv-avgLinesWrap").selectAll("line").data(q,(function(t){return t.key})),X=function(t){var n=e(O(t));return n<0?0:n>j?j:n};Y.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",(function(t,e){return n.color()(t,t.seriesIndex)})).attr("x1",0).attr("x2",S).attr("y1",X).attr("y2",X),Y.style("stroke-opacity",(function(t){var n=e(O(t));return n<0||n>j?0:1})).attr("x1",0).attr("x2",S).attr("y1",X).attr("y2",X),Y.exit().remove();var $=H.selectAll(".nv-indexLine").data([T]);function Z(){$.data([T]);var t=B.duration();B.duration(0),B.update(),B.duration(t)}$.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(F),$.attr("transform",(function(t){return"translate("+L(t.i)+",0)"})).attr("height",j),g&&(i.scale(t)._ticks(r.utils.calcTicksX(S/70,c)).tickSize(-j,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),z.select(".nv-x.nv-axis").call(i)),v&&(a.scale(e)._ticks(r.utils.calcTicksY(j/36,c)).tickSize(-S,0),z.select(".nv-y.nv-axis").call(a)),z.select(".nv-background rect").on("click",(function(){T.x=d3.mouse(this)[0],T.i=Math.round(L.invert(T.x)),M.index=T.i,D.stateChange(M),Z()})),n.dispatch.on("elementClick",(function(t){T.i=t.pointIndex,T.x=L(T.i),M.index=T.i,D.stateChange(M),Z()})),s.dispatch.on("legendClick",(function(t,e){t.disabled=!t.disabled,x=!t.disabled,M.rescaleY=x,x||(C=R(c)),D.stateChange(M),B.update()})),o.dispatch.on("stateChange",(function(t){for(var e in t)M[e]=t[e];D.stateChange(M),B.update()})),l.dispatch.on("elementMousemove",(function(t){n.clearHighlights();var e,o,s,u=[];if(c.filter((function(t,e){return t.seriesIndex=e,!(t.disabled||t.tempDisabled)})).forEach((function(i,a){o=r.interactiveBisect(i.values,t.pointXValue,B.x()),n.highlightPoint(a,o,!0);var l=i.values[o];void 0!==l&&(void 0===e&&(e=l),void 0===s&&(s=B.xScale()(B.x()(l,o))),u.push({key:i.key,value:B.y()(l,o),color:f(i,i.seriesIndex)}))})),u.length>2){var d=B.yScale().invert(t.mouseY),p=.03*Math.abs(B.yScale().domain()[0]-B.yScale().domain()[1]),_=r.nearestValueIndex(u.map((function(t){return t.value})),d,p);null!==_&&(u[_].highlight=!0)}var h=i.tickFormat()(B.x()(e,o),o);l.tooltip.valueFormatter((function(t,e){return a.tickFormat()(t)})).data({value:h,series:u})(),l.renderGuideLine(s)})),l.dispatch.on("elementMouseout",(function(t){n.clearHighlights()})),D.on("changeState",(function(t){void 0!==t.disabled&&(c.forEach((function(e,n){e.disabled=t.disabled[n]})),M.disabled=t.disabled),void 0!==t.index&&(T.i=t.index,T.x=L(T.i),M.index=t.index,$.data([T])),void 0!==t.rescaleY&&(x=t.rescaleY),B.update()}))})),W.renderEnd("cumulativeLineChart immediate"),B}n.dispatch.on("elementMouseover.tooltip",(function(t){var e={x:B.x()(t.point),y:B.y()(t.point),color:t.point.color};t.point=e,c.data(t).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(t){c.hidden(!0)}));var I=null;function R(t){var e=t.filter((function(t){return!(t.disabled||t.tempDisabled)})).map((function(t,e){return d3.extent(t.values,(function(t){return t.display.y}))}));return[d3.min(e,(function(t){return t[0]})),d3.max(e,(function(t){return t[1]}))]}return B.dispatch=D,B.lines=n,B.legend=o,B.controls=s,B.xAxis=i,B.yAxis=a,B.interactiveLayer=l,B.state=M,B.tooltip=c,B.options=r.utils.optionsFunc.bind(B),B._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return _},set:function(t){_=t}},showControls:{get:function(){return y},set:function(t){y=t}},showLegend:{get:function(){return h},set:function(t){h=t}},average:{get:function(){return O},set:function(t){O=t}},defaultState:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return A},set:function(t){A=t}},showXAxis:{get:function(){return g},set:function(t){g=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},noErrorCheck:{get:function(){return w},set:function(t){w=t}},rescaleY:{get:function(){return x},set:function(t){x=t,B.state.rescaleY=t}},margin:{get:function(){return u},set:function(t){void 0!==t.top&&(u.top=t.top,d=t.top),u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),o.color(f)}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,!0===t&&(B.interactive(!1),B.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,a.orient(t?"right":"left")}},duration:{get:function(){return P},set:function(t){P=t,n.duration(P),i.duration(P),a.duration(P),W.reset(P)}}}),r.utils.inheritOptions(B,n),r.utils.initOptions(B),B},r.models.differenceChart=function(){"use strict";var t=void 0,e=r.models.multiChart(),n=r.models.focus(r.models.line()),i=function(t){return void 0!==t.y0?t.y0:t.y},a=function(t){return t.x},o="x",s=function(t){return t.y},l=null,c=null,u=null,d=null,f={top:30,right:50,bottom:20,left:70},p={top:0,right:0,bottom:0,left:0},_=!0,h="linear",g=1,v=d3.time.scale(),m=d3.time.format.multi([["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",function(){return!0}]]);function y(a){a.each((function(a){t=d3.select(this);var o=(a||[]).filter((function(t){return!t.disabled}));if(!a||!o.length)return r.utils.noData(y,t),y;var s=b(a),_=r.utils.availableHeight(u,t,f)-n.height(),g=r.utils.availableWidth(d,t,f);t.attr("class","nv-differenceChart"),r.utils.initSVG(t),y.container=this,e.margin(f).color(d3.scale.category10().range()).y(i).width(d).height(_).interpolate(h).useInteractiveGuideline(!0),e.interactiveLayer.tooltip.valueFormatter((function(t,e,n){if(n.key===c||n.key===l){var r=Math.abs(n.data.y0-n.data.y1);return 0===r?"-":r}return t})),e.stack1.areaY1((function(t){return e.stack1.scatter.yScale()(t.display.y)})),e.stack1.transformData((function(t){t.display={y:t.y1,y0:t.y0}})),e.xAxis.scale(v),e.xAxis.tickFormat(m);var x=s.filter((function(t){return!t.disabled})).map((function(t){return t.values})),E=d3.extent(d3.merge(x),(function(t){return function(t){return t.x}(t)}));e.xAxis.domain(E).range([0,g]);var M=d3.extent(d3.merge(x),(function(t){return i(t)}));return e.yDomain1(M),e.yAxis1.tickFormat(d3.format(",.1f")),e.yAxis2.tickFormat(d3.format(",.1f")),n.width(g),n.margin(p),n.xScale(v.copy()),n.xAxis.tickFormat(m),n.xAxis.rotateLabels(0),t.append("g").attr("class","nv-focusWrap").style("display","initial").attr("transform","translate("+f.left+", "+(_+n.margin().top)+")").datum(s.filter((function(t){return"line"===t.type}))).call(n),t.datum(s).call(e),n.dispatch.on("onBrush",(function(n){var r=s.map((function(t){var e=-1,r=-1;t.values.some((function(t,i){return-1===e&&t.x>=n[0]&&(e=i),-1===r&&t.x>=n[1]&&(r=i,!0)}));for(var i=t.values.slice(e,r),a=0;i.length<2&&a<5;)e-=1,r+=1,i=t.values.slice(e,r),a++;return Object.assign({},t,{values:i})}));t.datum(r),e.xAxis.domain(n),e.update()})),y.update=function(){t.selectAll("*").remove(),t.transition().duration(300).call(y)},y}))}function b(t){var e=t.slice(0),n=e.every((function(t){return t.processed})),r=e.filter((function(t){return"actual"===t.type})),i=e.filter((function(t){return"expected"===t.type}));if(n)return e;if(!r.length||!i.length)return[];var u=i[0].key+" minus "+r[0].key+" (Predicted > Actual)",d=i[0].key+" minus "+r[0].key+" (Predicted < Actual)",f=[{key:l||u,type:"area",values:[],yAxis:1,color:"rgba(44,160,44,.9)",processed:!0,noHighlightSeries:!0},{key:c||d,type:"area",values:[],yAxis:1,color:"rgba(234,39,40,.9)",processed:!0,noHighlightSeries:!0},{key:r[0].key,type:"line",values:[],yAxis:1,color:"#666666",processed:!0,strokeWidth:g}];_&&(f[3]={key:i[0].key,type:"line",values:[],yAxis:1,color:"#aec7e8",processed:!0,strokeWidth:g});var p=r[0].values.reduce((function(t,e,n){return t[a(e)]=s(e),t}),{}),h=i[0].values.reduce((function(t,e,n){return t[a(e)]=s(e),t}),{});return Object.keys(p).forEach((function(t,e){var n=p[t],r=h[t],i={};i[o]=t;var s=a(i),l=r-n;isNaN(l)?(f[1].values[e]={x:s,y0:n,y1:n},f[0].values[e]={x:s,y0:n,y1:n}):l<0?(f[1].values[e]={x:s,y0:n,y1:r},f[0].values[e]={x:s,y0:n,y1:n}):(f[0].values[e]={x:s,y0:n,y1:r},f[1].values[e]={x:s,y0:n,y1:n}),f[2].values[e]={x:s,y:n},_&&(f[3].values[e]={x:s,y:r})})),f}return y.options=r.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return u},set:function(t){u=t}},strokeWidth:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return a},set:function(t){a=t}},keyForXValue:{get:function(){return o},set:function(t){o=t}},y:{get:function(){return s},set:function(t){s=t}},xScale:{get:function(){return v},set:function(t){v=t}},keyForActualLessThanPredicted:{get:function(){return l},set:function(t){l=t}},keyForActualGreaterThanPredicted:{get:function(){return c},set:function(t){c=t}},showPredictedLine:{get:function(){return _},set:function(t){_=t}},tickFormat:{get:function(){return m},set:function(t){m=t}},interpolate:{get:function(){return h},set:function(t){h=t}},focusMargin:{get:function(){return p},set:function(t){p.top=void 0!==t.top?t.top:p.top,p.right=void 0!==t.right?t.right:p.right,p.bottom=void 0!==t.bottom?t.bottom:p.bottom,p.left=void 0!==t.left?t.left:p.left}},margin:{get:function(){return f},set:function(t){f.top=void 0!==t.top?t.top:f.top,f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left}}}),y.xAxis=e.xAxis,y.yAxis=e.yAxis1,y.multiChart=e,y.focus=n,y.processData=b,r.utils.inheritOptions(y,e),r.utils.initOptions(y),y},r.models.discreteBar=function(){"use strict";var t,e,n,i,a,o,s,l={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),p=d3.scale.linear(),_=function(t){return t.x},h=function(t){return t.y},g=[0],v=r.utils.defaultColor(),m=0,y=!1,b=d3.format(",.2f"),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E="discreteBar",M=250,k=r.utils.renderWatch(x,M);function A(d){return k.reset(),d.each((function(d){var M=c-l.left-l.right,A=u-l.top-l.bottom;t=d3.select(this),r.utils.initSVG(t),d.forEach((function(t,e){t.values.forEach((function(t){t.series=e}))}));var O=e&&n?[]:d.map((function(t){return t.values.map((function(t,e){return{x:_(t,e),y:h(t,e),y0:t.y0}}))}));f.domain(e||d3.merge(O).map((function(t){return t.x}))).rangeBands(i||[0,M],.1),p.domain(n||d3.extent(d3.merge(O).map((function(t){return t.y})).concat(g))),y?p.range(a||[A-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]):p.range(a||[A,0]),o=o||f,s=s||p.copy().range([p(0),p(0)]);var D=t.selectAll("g.nv-wrap.nv-discretebar").data([d]),P=D.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");D.select("g"),P.append("g").attr("class","nv-groups"),D.attr("transform","translate("+l.left+","+l.top+")");var w=D.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t){return t.key}));w.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),w.exit().watchTransition(k,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),w.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})),w.watchTransition(k,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var C=w.selectAll("g.nv-bar").data((function(t){return t.values}));C.exit().remove();var L=C.enter().append("g").attr("transform",(function(t,e,n){return"translate("+(f(_(t,e))+.05*f.rangeBand())+", "+p(0)+")"})).on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),x.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),x.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})})).on("mousemove",(function(t,e){x.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})})).on("click",(function(t,e){x.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()})).on("dblclick",(function(t,e){x.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}));L.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/d.length),y?(L.append("text").attr("text-anchor","middle"),C.select("text").text((function(t,e){return b(h(t,e))})).watchTransition(k,"discreteBar: bars text").attr("x",.9*f.rangeBand()/2).attr("y",(function(t,e){return h(t,e)<0?p(h(t,e))-p(0)+12:-4}))):C.selectAll("text").remove(),C.attr("class",(function(t,e){return h(t,e)<0?"nv-bar negative":"nv-bar positive"})).style("fill",(function(t,e){return t.color||v(t,e)})).style("stroke",(function(t,e){return t.color||v(t,e)})).select("rect").attr("rx",m).attr("class",E).watchTransition(k,"discreteBar: bars rect").attr("width",.9*f.rangeBand()/d.length),C.watchTransition(k,"discreteBar: bars").attr("transform",(function(t,e){return"translate("+(f(_(t,e))+.05*f.rangeBand())+", "+(h(t,e)<0?p(0):p(0)-p(h(t,e))<1?p(0)-1:p(h(t,e)))+")"})).select("rect").attr("height",(function(t,e){return Math.max(Math.abs(p(h(t,e))-p(0)),1)})),o=f.copy(),s=p.copy()})),k.renderEnd("discreteBar immediate"),A}return A.dispatch=x,A.options=r.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return u},set:function(t){u=t}},forceY:{get:function(){return g},set:function(t){g=t}},showValues:{get:function(){return y},set:function(t){y=t}},cornerRadius:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return _},set:function(t){_=t}},y:{get:function(){return h},set:function(t){h=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return a},set:function(t){a=t}},valueFormat:{get:function(){return b},set:function(t){b=t}},id:{get:function(){return d},set:function(t){d=t}},rectClass:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},color:{get:function(){return v},set:function(t){v=r.utils.getColor(t)}},duration:{get:function(){return M},set:function(t){M=t,k.reset(M)}}}),r.utils.initOptions(A),A},r.models.discreteBarChart=function(){"use strict";var t,e,n=r.models.discreteBar(),i=r.models.axis(),a=r.models.axis(),o=r.models.legend(),s=r.models.tooltip(),l={top:15,right:10,bottom:50,left:60},c=null,u=null,d=null,f=r.utils.getColor(),p=!1,_=!0,h=!0,g=!1,v=!1,m=!1,y=0,b=null,x=d3.dispatch("beforeUpdate","renderEnd"),E=250;i.orient("bottom").showMaxMin(!1).tickFormat((function(t){return t})),a.orient(g?"right":"left").tickFormat(d3.format(",.1f")),s.duration(0).headerEnabled(!1).valueFormatter((function(t,e){return a.tickFormat()(t,e)})).keyFormatter((function(t,e){return i.tickFormat()(t,e)}));var M=r.utils.renderWatch(x,E);function k(s){return M.reset(),M.models(n),_&&M.models(i),h&&M.models(a),s.each((function(s){var f=d3.select(this);r.utils.initSVG(f);var b=r.utils.availableWidth(u,f,l),M=r.utils.availableHeight(d,f,l);if(k.update=function(){x.beforeUpdate(),f.transition().duration(E).call(k)},k.container=this,!(s&&s.length&&s.filter((function(t){return t.values.length})).length))return r.utils.noData(k,f),k;f.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var A=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([s]),O=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),D=O.append("defs"),P=A.select("g");if(O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),O.append("g").attr("class","nv-barsWrap"),O.append("g").attr("class","nv-legendWrap"),P.attr("transform","translate("+l.left+","+l.top+")"),p?(o.width(b),P.select(".nv-legendWrap").datum(s).call(o),c||o.height()===l.top||(l.top=o.height(),M=r.utils.availableHeight(d,f,l)),A.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")):P.select(".nv-legendWrap").selectAll("*").remove(),g&&P.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),n.width(b).height(M),P.select(".nv-barsWrap").datum(s.filter((function(t){return!t.disabled}))).transition().call(n),D.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),P.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(v?2:1)).attr("height",16).attr("x",-t.rangeBand()/(v?1:2)),_){i.scale(t)._ticks(r.utils.calcTicksX(b/100,s)).tickSize(-M,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(n.showValues()&&e.domain()[0]<0?16:0))+")"),P.select(".nv-x.nv-axis").call(i);var w=P.select(".nv-x.nv-axis").selectAll("g");v&&w.selectAll("text").attr("transform",(function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})),y&&w.selectAll(".tick text").attr("transform","rotate("+y+" 0,0)").style("text-anchor",y>0?"start":"end"),m&&P.selectAll(".tick text").call(r.utils.wrapTicks,k.xAxis.rangeBand())}h&&(a.scale(e)._ticks(r.utils.calcTicksY(M/36,s,n.y())).tickSize(-b,0),P.select(".nv-y.nv-axis").call(a)),P.select(".nv-zeroLine line").attr("x1",0).attr("x2",g?-b:b).attr("y1",e(0)).attr("y2",e(0))})),M.renderEnd("discreteBar chart immediate"),k}return n.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:k.x()(t.data),value:k.y()(t.data),color:t.color},s.data(t).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(t){s.hidden(!0)})),n.dispatch.on("elementMousemove.tooltip",(function(t){s()})),k.dispatch=x,k.discretebar=n,k.legend=o,k.xAxis=i,k.yAxis=a,k.tooltip=s,k.options=r.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return p},set:function(t){p=t}},staggerLabels:{get:function(){return v},set:function(t){v=t}},rotateLabels:{get:function(){return y},set:function(t){y=t}},wrapLabels:{get:function(){return m},set:function(t){m=!!t}},showXAxis:{get:function(){return _},set:function(t){_=t}},showYAxis:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,c=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return E},set:function(t){E=t,M.reset(E),n.duration(E),i.duration(E),a.duration(E)}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),n.color(f),o.color(f)}},rightAlignYAxis:{get:function(){return g},set:function(t){g=t,a.orient(t?"right":"left")}}}),r.utils.inheritOptions(k,n),r.utils.initOptions(k),k},r.models.distribution=function(){"use strict";var t,e={top:0,right:0,bottom:0,left:0},n=400,i=8,a="x",o=function(t){return t[a]},s=r.utils.defaultColor(),l=d3.scale.linear(),c=250,u=d3.dispatch("renderEnd"),d=r.utils.renderWatch(u,c);function f(n){return d.reset(),n.each((function(n){"x"===a?(e.left,e.right):(e.top,e.bottom);var c="x"==a?"y":"x",u=d3.select(this);r.utils.initSVG(u),t=t||l;var f=u.selectAll("g.nv-distribution").data([n]),p=(f.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),f.select("g"));f.attr("transform","translate("+e.left+","+e.top+")");var _=p.selectAll("g.nv-dist").data((function(t){return t}),(function(t){return t.key}));_.enter().append("g"),_.attr("class",(function(t,e){return"nv-dist nv-series-"+e})).style("stroke",(function(t,e){return s(t,e)}));var h=_.selectAll("line.nv-dist"+a).data((function(t){return t.values}));h.enter().append("line").attr(a+"1",(function(e,n){return t(o(e,n))})).attr(a+"2",(function(e,n){return t(o(e,n))})),d.transition(_.exit().selectAll("line.nv-dist"+a),"dist exit").attr(a+"1",(function(t,e){return l(o(t,e))})).attr(a+"2",(function(t,e){return l(o(t,e))})).style("stroke-opacity",0).remove(),h.attr("class",(function(t,e){return"nv-dist"+a+" nv-dist"+a+"-"+e})).attr(c+"1",0).attr(c+"2",i),d.transition(h,"dist").attr(a+"1",(function(t,e){return l(o(t,e))})).attr(a+"2",(function(t,e){return l(o(t,e))})),t=l.copy()})),d.renderEnd("distribution immediate"),f}return f.options=r.utils.optionsFunc.bind(f),f.dispatch=u,f.margin=function(t){return arguments.length?(e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left,f):e},f.width=function(t){return arguments.length?(n=t,f):n},f.axis=function(t){return arguments.length?(a=t,f):a},f.size=function(t){return arguments.length?(i=t,f):i},f.getData=function(t){return arguments.length?(o=d3.functor(t),f):o},f.scale=function(t){return arguments.length?(l=t,f):l},f.color=function(t){return arguments.length?(s=r.utils.getColor(t),f):s},f.duration=function(t){return arguments.length?(c=t,d.reset(c),f):c},f},r.models.distroPlot=function(){"use strict";var t,e,n,i,a,o={top:0,right:0,bottom:0,left:0},s=960,l=500,c=Math.floor(1e4*Math.random()),u=d3.scale.ordinal(),d=d3.scale.linear(),f=function(t){return t.label},p=function(t){return t.value},_=function(t){return t.color},h=function(t){return t.values.q1},g=function(t){return t.values.q2},v=function(t){return t.values.q3},m=function(t){return("mean"==C?y(t):g(t))+t.values.notch},y=function(t){return t.values.mean},b=function(t){return t.values.wl[O]},x=function(t){return t.values.wu[O]},E=function(t){return t.values.min},M=function(t){return t.values.max},k=function(t){return t.values.dev},A=!1,O="iqr",D=!1,P=!1,w=!1,C=!1,L=!0,T=.7,W=!0,B="scott",I=!0,R=50,S=3,j=r.utils.defaultColor(),F=null,K=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),U=250,N=null;function z(t,e){void 0===e&&(e="scott");var n=function(t){var e=t.sort(d3.ascending),n=(d3.quantile(e,.75)-d3.quantile(e,.25))/1.349;return d3.min([d3.deviation(e),n])}(t),r=t.length;return"scott"===e?Math.pow(1.059*n*r,-.2):Math.pow(.9*n*r,-.2)}function V(t){function e(t,e){var n,r=t.map((function(t){return w&&X.add(w(t)),p(t)})).sort(d3.ascending),i=d3.quantile(r,.25),a=d3.quantile(r,.75),o=a-i,s=a+1.5*o,l=i-1.5*o,c={iqr:d3.max([d3.min(r),d3.min(r.filter((function(t){return t>l})))]),minmax:d3.min(r),stddev:d3.mean(r)-d3.deviation(r)},u={iqr:d3.min([d3.max(r),d3.max(r.filter((function(t){return t<s})))]),minmax:d3.max(r),stddev:d3.mean(r)+d3.deviation(r)},f=d3.median(r),_=d3.mean(r),h=[];void 0!==d3.beeswarm?(h=d3.beeswarm().data(t.map((function(t){return p(t)}))).radius(S+1).orientation("vertical").side("symmetric").distributeOn((function(t){return d(t)})).arrange()).map((function(n,r){n.key=e,n.object_constancy=t[r].object_constancy,n.isOutlier=n.datum<c.iqr||n.datum>u.iqr,n.isOutlierStdDev=n.datum<c.stddev||n.datum>u.stddev,n.randX=Math.random()*T*(1==Math.floor(2*Math.random())?1:-1)})):r.forEach((function(t,n){h.push({object_constancy:t.object_constancy,datum:t,key:e,isOutlier:t<c.iqr||t>u.iqr,isOutlierStdDev:t<c.stddev||t>u.stddev,randX:Math.random()*T*(1==Math.floor(2*Math.random())?1:-1)})})),isNaN(parseFloat(B))&&(n=-1!=["scott","silverman"].indexOf(B)?z(r,B):z(r));var g,v,m,y=(m=n,g=function(t){return Math.abs(t/=m)<=1?.75*(1-t*t)/m:0},v=d.ticks(R),function(t){return v.map((function(e){var n=d3.mean(t,(function(t){return g(e-t)}));return{x:e,y:n}}))}),b=I?function(t,e){if(e[0]===e[1])return t;var n=t.reduce((function(t,n){return n.x>=e[0]&&n.x<=e[1]&&t.push(n),t}),[]);return e[0]<n[0].x&&n.unshift({x:e[0],y:n[0].y}),e[1]>n[n.length-1].x&&n.push({x:e[1],y:n[n.length-1].y}),n}(y(r),d3.extent(r)):y(r),x=d3.scale.linear().domain([0,d3.max(b,(function(t){return t.y}))]).clamp(!0);$.push(x);var E={count:r.length,num_outlier:h.filter((function(t){return t.isOutlier})).length,sum:d3.sum(r),mean:_,q1:i,q2:f,q3:a,wl:c,wu:u,iqr:o,min:d3.min(r),max:d3.max(r),dev:d3.deviation(r),observations:h,key:e,kde:b,notch:1.57*o/Math.sqrt(r.length)};return w&&Z.push({key:e,values:E}),E}var n;if(t.forEach((function(t,e){t.object_constancy=e+"_"+p(t)+"_"+f(t)})),w){X=d3.set();var r=d3.nest().key((function(t){return f(t)})).key((function(t){return w(t)})).rollup((function(t){return e(t,f(t[0]))})).entries(t);X=X.values();for(var i=r.map((function(t){return t.key})),a=[],o=0;o<i.length;o++)for(var s=0;s<X.length;s++)a.push(i[o]+"_"+X[s]);X=a,n=[],r.forEach((function(t){t.values.forEach((function(e){e.key=t.key+"_"+e.key})),n.push.apply(n,t.values)}))}else n=d3.nest().key((function(t){return f(t)})).rollup((function(t,n){return e(t)})).entries(t);return n}function G(t){return"iqr"==O&&t.isOutlier||"stddev"==O&&t.isOutlierStdDev}var H,q,Y,X=d3.set(),$=[],Z=[],Q=r.utils.renderWatch(K,U);function J(c){return Q.reset(),c.each((function(c){q=s-o.left-o.right,Y=l-o.top-o.bottom,F=d3.select(this),r.utils.initSVG(F),d.domain(i||d3.extent(c.map((function(t){return p(t)})))).nice().range(a||[Y,0]),void 0===H&&(H=V(c)),u.rangeBands(n||[0,q],.1).domain(e||w&&!W?X:H.map((function(t){return t.key})));var f=F.selectAll("g.nv-wrap").data([H]);f.enter().append("g").attr("class","nvd3 nv-wrap"),f.watchTransition(Q,"nv-wrap: wrap").attr("transform","translate("+o.left+","+o.top+")");var O,T=f.selectAll(".nv-distroplot-x-group").data((function(t){return t}));T.each((function(t,e){d3.select(this).selectAll("line.nv-distroplot-middle").datum(t)})),O=T.enter().append("g").attr("class","nv-distroplot-x-group").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).style("fill",(function(t,e){return _(t)||j(t,e)})).style("stroke",(function(t,e){return _(t)||j(t,e)})),T.exit().remove();var B=function(){return u.rangeBand()},I=function(){return d3.min([N,.9*B()])},R=function(){return I()/2},U=function(){return R()-I()/2},z=function(){return R()-I()/5},Z=function(){return R()+I()/5};O.attr("transform",(function(t){return"translate("+(u(t.key)+.5*(B()-I()))+", 0)"})),T.watchTransition(Q,"nv-distroplot-x-group: distroplots").style("stroke-opacity",1).style("fill-opacity",.5).attr("transform",(function(t){return"translate("+(u(t.key)+.5*(B()-I()))+", 0)"})),$.map((function(t){t.range([I()/2,0])})),t||(L=!1,A||(A="random")),O.each((function(t,e){var n=d3.select(this);[b,x].forEach((function(t){var e=t===b?"low":"high";n.append("line").style("opacity",(function(){return D?"1":"0"})).attr("class","nv-distroplot-whisker nv-distroplot-"+e),n.append("line").style("opacity",(function(){return D?"0":"1"})).attr("class","nv-distroplot-tick nv-distroplot-"+e)}))})),[b,x].forEach((function(e){var n=e===b?"low":"high",r=e===b?h:v;T.select("line.nv-distroplot-whisker.nv-distroplot-"+n).watchTransition(Q,"nv-distroplot-x-group: distroplots").attr("x1",R()).attr("y1",(function(n){return d("violin"!=t?e(n):g(n))})).attr("x2",R()).attr("y2",(function(e){return d("box"==t?r(e):g(e))})).style("opacity",(function(){return D?"0":"1"})),T.select("line.nv-distroplot-tick.nv-distroplot-"+n).watchTransition(Q,"nv-distroplot-x-group: distroplots").attr("x1",(function(e){return"violin"!=t?z():R()})).attr("y1",(function(n,r){return d("violin"!=t?e(n):g(n))})).attr("x2",(function(e){return"violin"!=t?Z():R()})).attr("y2",(function(n,r){return d("violin"!=t?e(n):g(n))})).style("opacity",(function(){return D?"0":"1"}))})),[b,x].forEach((function(t){var e=t===b?"low":"high";O.selectAll(".nv-distroplot-"+e).on("mouseover",(function(n,r,i){d3.select(this.parentNode).selectAll("line.nv-distroplot-"+e).classed("hover",!0),K.elementMouseover({value:"low"==e?"Lower whisker":"Upper whisker",series:{key:t(n).toFixed(2),color:_(n)||j(n,i)},e:d3.event})})).on("mouseout",(function(n,r,i){d3.select(this.parentNode).selectAll("line.nv-distroplot-"+e).classed("hover",!1),K.elementMouseout({value:"low"==e?"Lower whisker":"Upper whisker",series:{key:t(n).toFixed(2),color:_(n)||j(n,i)},e:d3.event})})).on("mousemove",(function(t,e){K.elementMousemove({e:d3.event})}))})),O.each((function(t,e){var n=d3.select(this);["left","right"].forEach((function(t){["line","area"].forEach((function(e){n.append("path").attr("class","nv-distribution-"+e+" nv-distribution-"+t).attr("transform","rotate(90,0,0)   translate(0,"+("left"==t?-I():0)+")"+("left"==t?"":" scale(1,-1)"))}))})),O.selectAll(".nv-distribution-line").style("fill","none"),O.selectAll(".nv-distribution-area").style("stroke","none").style("opacity",.7)})),T.each((function(e,n){var r=d3.select(this),i="box"==t?function(t,e,n,r){var i,a="mean"==C?y(r):g(r);return P?[{x:n,y:d(h(r))},{x:t,y:d(h(r))},{x:t,y:d((i=r,("mean"==C?y(i):g(i))-i.values.notch))},{x:e,y:d(a)},{x:t,y:d(m(r))},{x:t,y:d(v(r))},{x:n,y:d(v(r))}]:[{x:n,y:d(h(r))},{x:t,y:d(h(r))},{x:t,y:d(a)},{x:t,y:d(a)},{x:t,y:d(a)},{x:t,y:d(v(r))},{x:n,y:d(v(r))}]}(U(),z(),R(),e):e.values.kde;r.selectAll("path").datum(i);var a=$[n],o="box"==t?"linear":"basis";"box"==t||"violin"==t?["left","right"].forEach((function(e){T.selectAll(".nv-distribution-line.nv-distribution-"+e).attr("d",d3.svg.line().x((function(e){return"box"==t?e.y:d(e.x)})).y((function(e){return"box"==t?e.x:a(e.y)})).interpolate(o)).attr("transform","rotate(90,0,0)   translate(0,"+("left"==e?-I():0)+")"+("left"==e?"":" scale(1,-1)")).style("opacity",t?"1":"0"),T.selectAll(".nv-distribution-area.nv-distribution-"+e).attr("d",d3.svg.area().x((function(e){return"box"==t?e.y:d(e.x)})).y((function(e){return"box"==t?e.x:a(e.y)})).y0(I()/2).interpolate(o)).attr("transform","rotate(90,0,0)   translate(0,"+("left"==e?-I():0)+")"+("left"==e?"":" scale(1,-1)")).style("opacity",t?"1":"0")})):(T.selectAll(".nv-distribution-area").watchTransition(Q,"nv-distribution-area: distroplots").style("opacity",t?"1":"0"),T.selectAll(".nv-distribution-line").watchTransition(Q,"nv-distribution-line: distroplots").style("opacity",t?"1":"0"))})),T.selectAll("path").on("mouseover",(function(t,e,n){t=d3.select(this.parentNode).datum(),d3.select(this).classed("hover",!0),K.elementMouseover({key:t.key,value:"Group "+t.key+" stats",series:[{key:"max",value:M(t).toFixed(2),color:_(t)||j(t,n)},{key:"Q3",value:v(t).toFixed(2),color:_(t)||j(t,n)},{key:"Q2",value:g(t).toFixed(2),color:_(t)||j(t,n)},{key:"Q1",value:h(t).toFixed(2),color:_(t)||j(t,n)},{key:"min",value:E(t).toFixed(2),color:_(t)||j(t,n)},{key:"mean",value:y(t).toFixed(2),color:_(t)||j(t,n)},{key:"std. dev.",value:k(t).toFixed(2),color:_(t)||j(t,n)},{key:"count",value:t.values.count,color:_(t)||j(t,n)},{key:"num. outliers",value:t.values.num_outlier,color:_(t)||j(t,n)}],data:t,index:e,e:d3.event})})).on("mouseout",(function(t,e,n){d3.select(this).classed("hover",!1),t=d3.select(this.parentNode).datum(),K.elementMouseout({key:t.key,value:"Group "+t.key+" stats",series:[{key:"max",value:M(t).toFixed(2),color:_(t)||j(t,n)},{key:"Q3",value:v(t).toFixed(2),color:_(t)||j(t,n)},{key:"Q2",value:g(t).toFixed(2),color:_(t)||j(t,n)},{key:"Q1",value:h(t).toFixed(2),color:_(t)||j(t,n)},{key:"min",value:E(t).toFixed(2),color:_(t)||j(t,n)},{key:"mean",value:y(t).toFixed(2),color:_(t)||j(t,n)},{key:"std. dev.",value:k(t).toFixed(2),color:_(t)||j(t,n)},{key:"count",value:t.values.count,color:_(t)||j(t,n)},{key:"num. outliers",value:t.values.num_outlier,color:_(t)||j(t,n)}],data:t,index:e,e:d3.event})})).on("mousemove",(function(t,e){K.elementMousemove({e:d3.event})})),O.append("line").attr("class",(function(t){return"nv-distroplot-middle"})),T.selectAll("line.nv-distroplot-middle").watchTransition(Q,"nv-distroplot-x-group: distroplots line").attr("x1",P?z:"violin"!=t?U:z()).attr("y1",(function(t,e,n){return d("mean"==C?y(t):g(t))})).attr("x2",P?Z:"violin"!=t?function(){return R()+I()/2}:Z()).attr("y2",(function(t,e){return d("mean"==C?y(t):g(t))})).style("opacity",C?"1":"0"),T.selectAll(".nv-distroplot-middle").on("mouseover",(function(t,e,n){if(0!=d3.select(this).style("opacity")){var r=d3.select(this.parentNode).style("fill");d3.select(this).classed("hover",!0),K.elementMouseover({value:"mean"==C?"Mean":"Median",series:{key:"mean"==C?y(t).toFixed(2):g(t).toFixed(2),color:r},e:d3.event})}})).on("mouseout",(function(t,e,n){if(0!=d3.select(this).style("opacity")){d3.select(this).classed("hover",!1);var r=d3.select(this.parentNode).style("fill");K.elementMouseout({value:"mean"==C?"Mean":"Median",series:{key:"mean"==C?y(t).toFixed(2):g(t).toFixed(2),color:r},e:d3.event})}})).on("mousemove",(function(t,e){K.elementMousemove({e:d3.event})}));var J=T.selectAll("g.nv-distroplot-observation").data((function(t){return function(t){return t.values.observations}(t)}),(function(t){return t.object_constancy})),tt=J.enter().append("g").attr("class","nv-distroplot-observation");tt.append("circle").style({opacity:0}),tt.append("line").style("stroke-width",1).style({stroke:d3.rgb(85,85,85),opacity:0}),J.exit().remove(),J.attr("class",(function(e){return"nv-distroplot-observation "+(G(e)&&"box"==t?"nv-distroplot-outlier":"nv-distroplot-non-outlier")})),"line"==A?T.selectAll("g.nv-distroplot-observation line").watchTransition(Q,"nv-distrolot-x-group: nv-distoplot-observation").attr("x1",z()+I()/4).attr("x2",Z()-I()/4).attr("y1",(function(t){return d(t.datum)})).attr("y2",(function(t){return d(t.datum)})):(T.selectAll("g.nv-distroplot-observation circle").watchTransition(Q,"nv-distroplot: nv-distroplot-observation").attr("cy",(function(t){return d(t.datum)})).attr("r",S),T.selectAll("g.nv-distroplot-observation circle").watchTransition(Q,"nv-distroplot: nv-distroplot-observation").attr("cx",(function(t){return"swarm"==A?t.x+I()/2:"random"==A?I()/2+t.randX*I()/2:I()/2}))),!1!==A&&(L?(T.selectAll(".nv-distroplot-outlier "+("line"==A?"line":"circle")).watchTransition(Q,"nv-distroplot: nv-distroplot-observation").style("opacity",1),T.selectAll(".nv-distroplot-non-outlier "+("line"==A?"line":"circle")).watchTransition(Q,"nv-distroplot: nv-distroplot-observation").style("opacity",0)):T.selectAll("line"==A?"line":"circle").watchTransition(Q,"nv-distroplot: nv-distroplot-observation").style("opacity",1)),T.selectAll(".nv-distroplot-observation"+("line"==A?" circle":" line")).watchTransition(Q,"nv-distroplot: nv-distoplot-observation").style("opacity",0),T.selectAll(".nv-distroplot-observation").on("mouseover",(function(e,n,r){var i=d3.select(this);if(!L||"box"!=t||G(e)){var a=d3.select(this.parentNode).style("fill");i.classed("hover",!0),K.elementMouseover({value:"box"==t&&G(e)?"Outlier":"Observation",series:{key:e.datum.toFixed(2),color:a},e:d3.event})}})).on("mouseout",(function(e,n,r){var i=d3.select(this),a=d3.select(this.parentNode).style("fill");i.classed("hover",!1),K.elementMouseout({value:"box"==t&&G(e)?"Outlier":"Observation",series:{key:e.datum.toFixed(2),color:a},e:d3.event})})).on("mousemove",(function(t,e){K.elementMousemove({e:d3.event})}))})),Q.renderEnd("nv-distroplot-x-group immediate"),J}return J.dispatch=K,J.options=r.utils.optionsFunc.bind(J),J._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},maxBoxWidth:{get:function(){return N},set:function(t){N=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},plotType:{get:function(){return t},set:function(e){t=e}},observationType:{get:function(){return A},set:function(t){A=t}},whiskerDef:{get:function(){return O},set:function(t){O=t}},notchBox:{get:function(){return P},set:function(t){P=t}},hideWhiskers:{get:function(){return D},set:function(t){D=t}},colorGroup:{get:function(){return w},set:function(t){w=t}},centralTendency:{get:function(){return C},set:function(t){C=t}},bandwidth:{get:function(){return B},set:function(t){B=t}},clampViolin:{get:function(){return I},set:function(t){I=t}},resolution:{get:function(){return R},set:function(t){R=t}},xScale:{get:function(){return u},set:function(t){u=t}},yScale:{get:function(){return d},set:function(t){d=t}},showOnlyOutliers:{get:function(){return L},set:function(t){L=t}},jitter:{get:function(){return T},set:function(t){T=t}},squash:{get:function(){return W},set:function(t){W=t}},pointSize:{get:function(){return S},set:function(t){S=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return a},set:function(t){a=t}},recalcData:{get:function(){H=V(F.datum())}},itemColor:{get:function(){return _},set:function(t){_=t}},id:{get:function(){return c},set:function(t){c=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return j},set:function(t){j=r.utils.getColor(t)}},duration:{get:function(){return U},set:function(t){U=t,Q.reset(U)}}}),r.utils.initOptions(J),J},r.models.distroPlotChart=function(){"use strict";var t,e,n=r.models.distroPlot(),i=r.models.axis(),a=r.models.axis(),o={top:25,right:10,bottom:40,left:60},s=null,l=null,c=r.utils.getColor(),u=!0,d=!0,f=!1,p=!1,_=!1,h=!1,g=r.models.tooltip(),v="No Data Available.",m=d3.dispatch("stateChange","beforeUpdate","renderEnd"),y=500;i.orient("bottom").showMaxMin(!1).tickFormat((function(t){return t})),a.orient(f?"right":"left").tickFormat(d3.format(",.1f")),g.duration(0);var b,x,E,M,k,A,O,D=r.utils.renderWatch(m,y);function P(t){return!function(t,e){if(t.length!==e.length)return!1;for(var n=t.length;n--;)if("object_constancy"in t[n]&&delete t[n].object_constancy,"object_constancy"in e[n]&&delete e[n].object_constancy,!w(t[n],e[n]))return!1;return!0}(t,O)&&(O=JSON.parse(JSON.stringify(t)),!0)}function w(t,e){var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(t[a]!==e[a])return!1}return!0}function C(c){return D.reset(),D.models(n),u&&D.models(i),d&&D.models(a),c.each((function(c){var _=d3.select(this);r.utils.initSVG(_);var h=(s||parseInt(_.style("width"))||960)-o.left-o.right,g=(l||parseInt(_.style("height"))||400)-o.top-o.bottom;if(void 0===O&&(O=JSON.parse(JSON.stringify(c))),C.update=function(){m.beforeUpdate();var t=n.options();(b!==t.colorGroup()||x!==t.x()||E!==t.y()||k!==t.bandwidth()||M!==t.resolution()||A!==t.clampViolin()||P(c))&&n.recalcData(),_.transition().duration(y).call(C)},C.container=this,"function"!=typeof d3.beeswarm&&"swarm"==C.options().observationType())return o.left,v='Please include the library https://github.com/Kcnarf/d3-beeswarm to use "swarm".',r.utils.noData(C,_),C;if(!c||!c.length)return r.utils.noData(C,_),C;_.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var w=_.selectAll("g.nv-wrap.nv-distroPlot").data([c]),L=w.enter().append("g").attr("class","nvd3 nv-wrap nv-distroPlot").append("g"),T=L.append("defs"),W=w.select("g");if(L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),L.append("g").attr("class","nv-distroWrap"),L.attr("transform","translate("+o.left+","+o.top+")"),W.watchTransition(D,"nv-wrap: wrap").attr("transform","translate("+o.left+","+o.top+")"),f&&W.select(".nv-y.nv-axis").attr("transform","translate("+h+",0)"),n.width(h).height(g),W.select(".nv-distroWrap").datum(c).transition().call(n),T.append("clipPath").attr("id","nv-x-label-clip-"+n.id()).append("rect"),W.select("#nv-x-label-clip-"+n.id()+" rect").attr("width",t.rangeBand()*(p?2:1)).attr("height",16).attr("x",-t.rangeBand()/(p?1:2)),u){i.scale(t).ticks(r.utils.calcTicksX(h/100,c)).tickSize(-g,0),W.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),W.select(".nv-x.nv-axis").call(i);var B=W.select(".nv-x.nv-axis").selectAll("g");p&&B.selectAll("text").attr("transform",(function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}))}d&&(a.scale(e).ticks(Math.floor(g/36)).tickSize(-h,0),W.select(".nv-y.nv-axis").call(a)),W.select(".nv-zeroLine line").attr("x1",0).attr("x2",h).attr("y1",e(0)).attr("y2",e(0)),b=n.options().colorGroup(),x=n.options().x(),E=n.options().y(),k=n.options().bandwidth(),M=n.options().resolution(),A=n.options().clampViolin()})),D.renderEnd("nv-distroplot chart immediate"),C}return o.top,n.dispatch.on("elementMouseover.tooltip",(function(t){g.data(t).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(t){g.data(t).hidden(!0)})),n.dispatch.on("elementMousemove.tooltip",(function(t){g()})),C.dispatch=m,C.distroplot=n,C.xAxis=i,C.yAxis=a,C.tooltip=g,C.options=r.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},staggerLabels:{get:function(){return p},set:function(t){p=t}},showXAxis:{get:function(){return u},set:function(t){u=t}},showYAxis:{get:function(){return d},set:function(t){d=t}},tooltipContent:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return v},set:function(t){v=t}},defaultState:{get:function(){return defaultState},set:function(t){defaultState=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return y},set:function(t){y=t,D.reset(y),n.duration(y),i.duration(y),a.duration(y)}},color:{get:function(){return c},set:function(t){c=r.utils.getColor(t),n.color(c)}},rightAlignYAxis:{get:function(){return f},set:function(t){f=t,a.orient(t?"right":"left")}},xLabel:{get:function(){return _},set:function(t){_=t,i.axisLabel(_)}},yLabel:{get:function(){return h},set:function(t){h=t,a.axisLabel(h)}}}),r.utils.inheritOptions(C,n),r.utils.initOptions(C),C},r.models.focus=function(t){"use strict";t=t||r.models.line();var e,n,i=r.models.axis(),a=r.models.axis(),o=d3.svg.brush(),s={top:10,right:0,bottom:30,left:0},l=r.utils.defaultColor(),c=null,u=70,d=!0,f=!1,p=!1,_=null,h=250,g=d3.dispatch("brush","onBrush","renderEnd"),v=!0;t.interactive(!1),t.pointActive((function(t){return!1}));var m=r.utils.renderWatch(g,h);function y(b){return m.reset(),m.models(t),d&&m.models(i),f&&m.models(a),b.each((function(m){var b=d3.select(this);r.utils.initSVG(b);var x=r.utils.availableWidth(c,b,s),E=u-s.top-s.bottom;y.update=function(){0===h?b.call(y):b.transition().duration(h).call(y)},y.container=this,e=t.xScale(),n=t.yScale();var M=b.selectAll("g.nv-focus").data([m]),k=M.enter().append("g").attr("class","nvd3 nv-focus").append("g"),A=M.select("g");M.attr("transform","translate("+s.left+","+s.top+")"),k.append("g").attr("class","nv-background").append("rect"),k.append("g").attr("class","nv-x nv-axis"),k.append("g").attr("class","nv-y nv-axis"),k.append("g").attr("class","nv-contentWrap"),k.append("g").attr("class","nv-brushBackground"),k.append("g").attr("class","nv-x nv-brush"),p&&A.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),A.select(".nv-background rect").attr("width",x).attr("height",E),t.width(x).height(E).color(m.map((function(t,e){return t.color||l(t,e)})).filter((function(t,e){return!m[e].disabled})));var O=A.select(".nv-contentWrap").datum(m.filter((function(t){return!t.disabled})));d3.transition(O).call(t),o.x(e).on("brush",(function(){C(v)})),o.on("brushend",(function(){v||g.onBrush(o.empty()?e.domain():o.extent())})),_&&o.extent(_);var D=A.select(".nv-brushBackground").selectAll("g").data([_||o.extent()]),P=D.enter().append("g");P.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",E),P.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",E);var w=A.select(".nv-x.nv-brush").call(o);function C(t){_=o.empty()?null:o.extent();var n=o.empty()?e.domain():o.extent();g.brush({extent:n,brush:o}),o.empty()||o.extent(_),D.data([o.empty()?e.domain():_]).each((function(t,n){var r=e(t[0])-e.range()[0],i=x-e(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",e(t[1])).attr("width",i<0?0:i)})),t&&g.onBrush(n)}w.selectAll("rect").attr("height",E),w.selectAll(".resize").append("path").attr("d",(function(t){var e=+("e"==t),n=e?1:-1,r=E/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)})),C(!0),A.select(".nv-background rect").attr("width",x).attr("height",E),d&&(i.scale(e)._ticks(r.utils.calcTicksX(x/100,m)).tickSize(-E,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),d3.transition(A.select(".nv-x.nv-axis")).call(i)),f&&(a.scale(n)._ticks(r.utils.calcTicksY(E/36,m)).tickSize(-x,0),d3.transition(A.select(".nv-y.nv-axis")).call(a)),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")")})),m.renderEnd("focus immediate"),y}return y.dispatch=g,y.content=t,y.brush=o,y.xAxis=i,y.yAxis=a,y.options=r.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return u},set:function(t){u=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},brushExtent:{get:function(){return _},set:function(t){_=t}},syncBrushing:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return h},set:function(e){h=e,m.reset(h),t.duration(h),i.duration(h),a.duration(h)}},color:{get:function(){return l},set:function(e){l=r.utils.getColor(e),t.color(l)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t)}},yTickFormat:{get:function(){return a.tickFormat()},set:function(t){a.tickFormat(t)}},x:{get:function(){return t.x()},set:function(e){t.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e)}},rightAlignYAxis:{get:function(){return p},set:function(t){p=t,a.orient(p?"right":"left")}}}),r.utils.inheritOptions(y,t),r.utils.initOptions(y),y},r.models.forceDirectedGraph=function(){"use strict";var t={top:2,right:0,bottom:2,left:0},e=400,n=32,i=null,a=d3.dispatch("renderEnd"),o=r.utils.getColor(["#000"]),s=r.models.tooltip(),l=null,c=.1,u=.9,d=30,f=-120,p=.1,_=.8,h=.1,g=5,v=function(t){},m=function(t){},y=d3.functor(0),b=d3.functor(0),x=r.utils.renderWatch(a);function E(a){return x.reset(),a.each((function(a){i=d3.select(this),r.utils.initSVG(i);var l=r.utils.availableWidth(e,i,t),y=r.utils.availableHeight(n,i,t);if(i.attr("width",l).attr("height",y),!(a&&a.links&&a.nodes))return r.utils.noData(E,i),E;i.selectAll(".nv-noData").remove(),i.selectAll("*").remove();var b=new Set;a.nodes.forEach((function(t){Object.keys(t).forEach((function(t){b.add(t)}))}));var x=d3.layout.force().nodes(a.nodes).links(a.links).size([l,y]).linkStrength(c).friction(u).linkDistance(d).charge(f).gravity(p).theta(_).alpha(h).start(),M=i.selectAll(".link").data(a.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",(function(t){return Math.sqrt(t.value)})),k=i.selectAll(".node").data(a.nodes).enter().append("g").attr("class","nv-force-node").call(x.drag);k.append("circle").attr("r",g).style("fill",(function(t){return o(t)})).on("mouseover",(function(t){i.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),i.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=o(t);t.series=[],b.forEach((function(n){t.series.push({color:e,key:n,value:t[n]})})),s.data(t).hidden(!1)})).on("mouseout",(function(t){s.hidden(!0)})),s.headerFormatter((function(t){return"Node"})),m(M),v(k),x.on("tick",(function(){M.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),k.attr("transform",(function(t){return"translate("+t.x+", "+t.y+")"}))}))})),E}return E.options=r.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},linkStrength:{get:function(){return c},set:function(t){c=t}},friction:{get:function(){return u},set:function(t){u=t}},linkDist:{get:function(){return d},set:function(t){d=t}},charge:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return p},set:function(t){p=t}},theta:{get:function(){return _},set:function(t){_=t}},alpha:{get:function(){return h},set:function(t){h=t}},radius:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return y},set:function(t){y=d3.functor(t)}},y:{get:function(){return b},set:function(t){b=d3.functor(t)}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return o},set:function(t){o=r.utils.getColor(t)}},noData:{get:function(){return l},set:function(t){l=t}},nodeExtras:{get:function(){return v},set:function(t){v=t}},linkExtras:{get:function(){return m},set:function(t){m=t}}}),E.dispatch=a,E.tooltip=s,r.utils.initOptions(E),E},r.models.furiousLegend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=400,n=20,i=function(t){return t.key},a=function(t){return t},o=r.utils.getColor(),s=20,l=!0,c=28,u=!0,d=!0,f=!1,p=!1,_=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),h="classic";function g(v){function m(t,e){return"furious"!=h?"#000":p?t.disengaged?o(t,e):"#fff":p?void 0:t.disabled?o(t,e):"#fff"}function y(t,e){return p&&"furious"==h?t.disengaged?"#fff":o(t,e):t.disabled?"#fff":o(t,e)}return v.each((function(g){var v=e-t.left-t.right,b=d3.select(this);r.utils.initSVG(b);var x=b.selectAll("g.nv-legend").data([g]),E=(x.enter().append("g").attr("class","nvd3 nv-legend").append("g"),x.select("g"));x.attr("transform","translate("+t.left+","+t.top+")");var M,k=E.selectAll(".nv-series").data((function(t){return"furious"!=h?t:t.filter((function(t){return!!p||!t.disengaged}))})),A=k.enter().append("g").attr("class","nv-series");"classic"==h?(A.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),M=k.select("circle")):"furious"==h&&(A.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),M=k.select("rect"),A.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),k.select(".nv-check-box").each((function(t,e){d3.select(this).selectAll("path").attr("stroke",m(t,e))}))),A.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var O,D=k.select("text.nv-legend-text");switch(k.on("mouseover",(function(t,e){_.legendMouseover(t,e)})).on("mouseout",(function(t,e){_.legendMouseout(t,e)})).on("click",(function(t,e){_.legendClick(t,e);var n=k.data();d&&("classic"==h?f?(n.forEach((function(t){t.disabled=!0})),t.disabled=!1):(t.disabled=!t.disabled,n.every((function(t){return t.disabled}))&&n.forEach((function(t){t.disabled=!1}))):"furious"==h&&(p?(t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):p||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter((function(t){return!t.disengaged})).every((function(t){return t.userDisabled}))&&n.forEach((function(t){t.disabled=t.userDisabled=!1})))),_.stateChange({disabled:n.map((function(t){return!!t.disabled})),disengaged:n.map((function(t){return!!t.disengaged}))}))})).on("dblclick",(function(t,e){if(("furious"!=h||!p)&&(_.legendDblclick(t,e),d)){var n=k.data();n.forEach((function(t){t.disabled=!0,"furious"==h&&(t.userDisabled=t.disabled)})),t.disabled=!1,"furious"==h&&(t.userDisabled=t.disabled),_.stateChange({disabled:n.map((function(t){return!!t.disabled}))})}})),k.classed("nv-disabled",(function(t){return t.userDisabled})),k.exit().remove(),D.attr("fill",m).text((function(t){return a(i(t))})),h){case"furious":O=23;break;case"classic":O=20}if(l){var P=[];k.each((function(t,e){var n,o;if(a(i(t))&&a(i(t)).length>s){var l=a(i(t)).substring(0,s);n=d3.select(this).select("text").text(l+"..."),d3.select(this).append("svg:title").text(a(i(t)))}else n=d3.select(this).select("text");try{if((o=n.node().getComputedTextLength())<=0)throw Error()}catch(t){o=r.utils.calcApproxTextWidth(n)}P.push(o+c)}));for(var w=0,C=0,L=[];C<v&&w<P.length;)L[w]=P[w],C+=P[w++];for(0===w&&(w=1);C>v&&w>1;){L=[],w--;for(var T=0;T<P.length;T++)P[T]>(L[T%w]||0)&&(L[T%w]=P[T]);C=L.reduce((function(t,e,n,r){return t+e}))}for(var W=[],B=0,I=0;B<w;B++)W[B]=I,I+=L[B];k.attr("transform",(function(t,e){return"translate("+W[e%w]+","+(5+Math.floor(e/w)*O)+")"})),u?E.attr("transform","translate("+(e-t.right-C)+","+t.top+")"):E.attr("transform","translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(P.length/w)*O}else{var R,S=5,j=5,F=0;k.attr("transform",(function(n,r){var i=d3.select(this).select("text").node().getComputedTextLength()+c;return R=j,e<t.left+t.right+R+i&&(j=R=5,S+=O),(j+=i)>F&&(F=j),"translate("+R+","+S+")"})),E.attr("transform","translate("+(e-t.right-F)+","+t.top+")"),n=t.top+t.bottom+S+15}"furious"==h&&M.attr("width",(function(t,e){return D[0][e].getComputedTextLength()+27})).attr("height",18).attr("y",-9).attr("x",-15),M.style("fill",y).style("stroke",(function(t,e){return t.color||o(t,e)}))})),g}return g.dispatch=_,g.options=r.utils.optionsFunc.bind(g),g._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return a},set:function(t){a=t}},align:{get:function(){return l},set:function(t){l=t}},rightAlign:{get:function(){return u},set:function(t){u=t}},maxKeyLength:{get:function(){return s},set:function(t){s=t}},padding:{get:function(){return c},set:function(t){c=t}},updateState:{get:function(){return d},set:function(t){d=t}},radioButtonMode:{get:function(){return f},set:function(t){f=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return o},set:function(t){o=r.utils.getColor(t)}}}),r.utils.initOptions(g),g},r.models.heatMap=function(){"use strict";var t,e,n,i,a,o,s,l,c,u={top:0,right:0,bottom:0,left:0},d=960,f=500,p=Math.floor(1e4*Math.random()),_=d3.scale.ordinal(),h=d3.scale.ordinal(),g=!1,v=function(t){return t.x},m=function(t){return t.y},y=function(t){return t.value},b=!0,x=function(t){return"number"==typeof t?t.toFixed(0):t},E=!1,M=2,k=4,A=!1,O=!0,D=r.utils.defaultColor(),P=r.utils.defaultColor(),w="#bcbcbc",C="",L=5,T=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),W=250,B=function(t){return V/3},I=function(t){return G/3},R=!1;function S(t){var e=d3.median(t),n=t.map((function(t){return Math.abs(t-e)}));return d3.median(n)}function j(t){var e=A?ot(t):y(t);return F()&&!isNaN(e)||void 0!==e?g(e):w}function F(){return"number"==typeof Z[0]}function K(t){if(-1!=["centerRow","robustCenterRow","centerScaleRow","robustCenterScaleRow","centerColumn","robustCenterColumn","centerScaleColumn","robustCenterScaleColumn","centerAll","robustCenterAll","centerScaleAll","robustCenterScaleAll"].indexOf(A)){Object.keys(X),Object.keys($);var e=!!A.includes("Scale"),n=A.includes("robust")?"median":"mean",r=A.includes("Row")?"row":A.includes("Column")?"col":null,i=function(t,e){var n={};return t.forEach((function(t,r){"row"==e?(at(t)in n||(n[at(t)]=[]),n[at(t)].push(y(t))):"col"==e?(it(t)in n||(n[it(t)]=[]),n[it(t)].push(y(t))):null==e&&(0 in n||(n[0]=[]),n[0].push(y(t)))})),n}(t,r),a={},o={};for(var s in i)a[s]="mean"==n?d3.mean(i[s]):d3.median(i[s]),e&&(o[s]="mean"==n?d3.deviation(i[s]):S(i[s]));t.forEach((function(t,n){if(F()){if("row"==r)var i=at(t);else"col"==r?i=it(t):null==r&&(i=0);var s=y(t)-a[i];t._cellPos.norm=e?s/o[i]:s}else t._cellPos.norm=y(t)}))}else A=!1;return t}function U(t){X={},$={},Z=[],Q=[],J=[],tt=[];var e,n=[],r={},i=0,a=0,l=0;t.forEach((function(t){var c,u,d,f=v(t),p=m(t),_=y(t);f in X||(X[f]=i,i++,r[f]={},"function"==typeof o&&Q.push(o(t))),p in $||($[p]=a,a++,r[f][p]={},"function"==typeof s&&J.push(s(t))),-1==Z.indexOf(_)&&Z.push(_),t._cellPos={idx:l,ix:X[f],iy:$[p]},l++,c=tt,u=e=[f,p],d=JSON.stringify(u),c.some((function(t){return JSON.stringify(t)===d}))?-1==n.indexOf(f+p)&&(n.push(f+p),console.warn("The row/column position "+f+"/"+p+" has multiple values; ensure each cell has only a single value.")):(tt.push(e),r[f][p]=t)})),Z=Z.sort();var c=[];return Object.keys($).forEach((function(t){Object.keys(X).forEach((function(e){var n=r[e][t];if(n)c.push(n);else{var i={idx:l,ix:X[e],iy:$[t]};l++,c.push({_cellPos:i})}}))})),A?K(c):c}function N(){d3.selectAll(".cell-hover").classed("cell-hover",!1),d3.selectAll(".no-hover").classed("no-hover",!1),d3.selectAll(".row-hover").classed("row-hover",!1),d3.selectAll(".column-hover").classed("column-hover",!1)}var z,V,G,H=function(t){var e=x(A?ot(t):y(t));return F()&&!isNaN(e)||void 0!==e?e:C};function q(t){return Object.keys(t).sort((function(e,n){return t[e]-t[n]}))}function Y(t,e){return Object.keys(t).filter((function(n){return t[n]===e}))[0]}var X={},$={},Z=[],Q=[],J=[],tt=[],et=r.utils.renderWatch(T,W),nt=["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],rt=function(t){return t._cellPos},it=function(t){return rt(t).ix},at=function(t){return rt(t).iy},ot=function(t){return rt(t).norm},st=function(t){return rt(t).idx};function lt(p){return et.reset(),p.each((function(p){z=U(p);var v=d-u.left-u.right,m=f-u.top-u.bottom;G=v/Object.keys(X).length,V=E?G/E:m/Object.keys($).length,E&&(m=V*Object.keys($).length-u.top-u.bottom),t=d3.select(this),r.utils.initSVG(t),_.domain(e||q(X)).rangeBands(i||[0,v-k/2]),h.domain(n||q($)).rangeBands(a||[0,m-k/2]),(g=F()?d3.scale.quantize():d3.scale.ordinal()).domain(c||(F()?A?d3.extent(z,(function(t){return ot(t)})):d3.extent(Z):F()?void 0:Z)).range(l||nt);var x=t.selectAll("g.nv-heatMapWrap").data([z]),w=x.enter().append("g").attr("class","nvd3 nv-heatMapWrap");w.append("g").attr("class","cellWrap"),x.watchTransition(et,"nv-wrap: heatMapWrap").attr("transform","translate("+u.left+","+u.top+")"),w.append("g").attr("class","cellGrid").style("opacity",1e-6);var C=x.select(".cellGrid").selectAll(".gridLines.verticalGrid").data(Object.values(X).concat([Object.values(X).length]));C.enter().append("line").attr("class","gridLines verticalGrid"),C.exit().remove();var W=x.select(".cellGrid").selectAll(".gridLines.horizontalGrid").data(Object.values($).concat([Object.values($).length]));W.enter().append("line").attr("class","gridLines horizontalGrid"),W.exit().remove();var S=x.select(".cellWrap").selectAll(".nv-cell").data((function(t){return t}),(function(t){return st(t)})),K=(w.append("g").attr("class","xMetaWrap").attr("transform",(function(){return"translate(0,"+(-B()-k-L)+")"})),x.select(".xMetaWrap").selectAll(".x-meta").data(Q)),tt=(K.enter().append("rect").attr("class","x-meta meta").attr("width",G-k).attr("height",B()).attr("transform","translate(0,0)").attr("fill",(function(t){return D(t)})),w.append("g").attr("class","yMetaWrap").attr("transform",(function(t,e){return"translate("+(-I()-k-L)+",0)"})),x.select(".yMetaWrap").selectAll(".y-meta").data(J));tt.enter().append("rect").attr("class","y-meta meta").attr("width",I()).attr("height",V-k).attr("transform",(function(t,e){return"translate(0,0)"})).attr("fill",(function(t,e){return P(t)})),K.exit().remove(),tt.exit().remove();var rt=S.enter().append("g").style("opacity",1e-6).attr("transform",(function(t){return"translate(0,"+at(t)*V+")"})).attr("data-row",(function(t){return at(t)})).attr("data-column",(function(t){return it(t)}));rt.append("rect"),rt.append("text").attr("text-anchor","middle").attr("dy",4).attr("class","cell-text"),S.selectAll("rect").watchTransition(et,"heatMap: rect").attr("width",G-k).attr("height",V-k).attr("rx",M).attr("ry",M).style("stroke",(function(t){return j(t)})),S.attr("class",(function(t){return isNaN(y(t))?"nv-cell cell-missing":"nv-cell"})).watchTransition(et,"heatMap: cells").style({opacity:1,fill:function(t){return j(t)}}).attr("transform",(function(t){return"translate("+it(t)*G+","+at(t)*V+")"})).attr("class",(function(t){return isNaN(y(t))?"nv-cell cell-missing":"nv-cell"})),S.exit().remove(),S.selectAll("text").watchTransition(et,"heatMap: cells text").text((function(t){return H(t)})).attr("x",(function(t){return(G-k)/2})).attr("y",(function(t){return(V-k)/2})).style("fill",(function(t){return function(t){if(O){var e=d3.rgb(t);return(299*e.r+587*e.g+114*e.b)/1e3>=128?"#404040":"#EDEDED"}return"black"}(j(t))})).style("opacity",(function(){return b?1:0})),x.selectAll(".verticalGrid").watchTransition(et,"heatMap: gridLines").attr("y1",0).attr("y2",m-k).attr("x1",(function(t){return t*G-k/2})).attr("x2",(function(t){return t*G-k/2}));var lt=Object.keys($).length;x.selectAll(".horizontalGrid").watchTransition(et,"heatMap: gridLines").attr("x1",(function(t){return 0==t||t==lt?-k:0})).attr("x2",(function(t){return 0==t||t==lt?v:v-k})).attr("y1",(function(t){return t*V-k/2})).attr("y2",(function(t){return t*V-k/2})),x.select(".cellGrid").watchTransition(et,"heatMap: gridLines").style({"stroke-width":k,opacity:function(){return R?1:1e-6}}),x.selectAll(".x-meta"),x.selectAll(".y-meta");var ct=x.selectAll(".meta");K.watchTransition(et,"heatMap: xMetaRect").attr("width",G-k).attr("height",B()).attr("transform",(function(t,e){return"translate("+e*G+",0)"})),tt.watchTransition(et,"heatMap: yMetaRect").attr("width",I()).attr("height",V-k).attr("transform",(function(t,e){return"translate(0,"+e*V+")"})),x.select(".xMetaWrap").watchTransition(et,"heatMap: xMetaWrap").attr("transform",(function(t,e){return"translate(0,"+(-B()-k-L)+")"})).style("opacity",(function(){return!1!==o?1:0})),x.select(".yMetaWrap").watchTransition(et,"heatMap: yMetaWrap").attr("transform",(function(t,e){return"translate("+(-I()-k-L)+",0)"})).style("opacity",(function(){return!1!==s?1:0})),S.on("mouseover",(function(t,e){var n=st(t),r=it(t),i=at(t);d3.selectAll(".nv-cell").each((function(t){n==st(t)?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1)),r==it(t)&&(d3.select(this).classed("no-hover",!1),d3.select(this).classed("column-hover",!0)),i==at(t)&&(d3.select(this).classed("no-hover",!1),d3.select(this).classed("row-hover",!0))})),d3.selectAll(".x-meta").each((function(t,e){e==r?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1))})),d3.selectAll(".y-meta").each((function(t,e){e==i?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1))})),T.elementMouseover({value:Y(X,r)+" & "+Y($,i),series:{value:H(t),color:d3.select(this).select("rect").style("fill")},e:d3.event})})).on("mouseout",(function(t,e){d3.select(this).select("rect").node().getBBox();var n=d3.mouse(d3.select(".nv-heatMap").node()),r=n[0],i=n[1];(r+k>=v||i+k>=m||r<0||i<0)&&(N(),T.elementMouseout({e:d3.event}))})).on("mousemove",(function(t,e){T.elementMousemove({e:d3.event})})),ct.on("mouseover",(function(t,e){var n=-1!=d3.select(this).attr("class").indexOf("x-meta");d3.selectAll(".nv-cell").each((function(t){n&&e==it(t)?(d3.select(this).classed("column-hover",!0),d3.select(this).classed("no-hover",!1)):n||e-Q.length!=at(t)?(d3.select(this).classed("no-hover",!0),d3.select(this).classed("column-hover",!1),d3.select(this).classed("row-hover",!1)):(d3.select(this).classed("row-hover",!0),d3.select(this).classed("no-hover",!1)),d3.select(this).classed("cell-hover",!1)})),d3.selectAll(".meta").classed("no-hover",!0),d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1),T.elementMouseover({value:n?"Column meta":"Row meta",series:{value:t,color:d3.select(this).style("fill")}})})).on("mouseout",(function(t,e){var n=-1!=d3.select(this).attr("class").indexOf("x-meta"),r=(d3.select(this).node().getBBox(),d3.mouse(d3.select(n?".xMetaWrap":".yMetaWrap").node())),i=r[0],a=r[1];(a<0||i<0||n&&i+k>=v||!n&&a+k>=m)&&(N(),T.elementMouseout({e:d3.event}))})).on("mousemove",(function(t,e){T.elementMousemove({e:d3.event})}))})),et.renderEnd("heatMap immediate"),lt}return lt.dispatch=T,lt.options=r.utils.optionsFunc.bind(lt),lt._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showCellValues:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return v},set:function(t){v=t}},y:{get:function(){return m},set:function(t){m=t}},cellValue:{get:function(){return y},set:function(t){y=t}},missingDataColor:{get:function(){return w},set:function(t){w=t}},missingDataLabel:{get:function(){return C},set:function(t){C=t}},xScale:{get:function(){return _},set:function(t){_=t}},yScale:{get:function(){return h},set:function(t){h=t}},colorScale:{get:function(){return g},set:function(t){g=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return a},set:function(t){a=t}},colorRange:{get:function(){return l},set:function(t){l=t}},colorDomain:{get:function(){return c},set:function(t){c=t}},xMeta:{get:function(){return o},set:function(t){o=t}},yMeta:{get:function(){return s},set:function(t){s=t}},xMetaColorScale:{get:function(){return color},set:function(t){color=r.utils.getColor(t)}},yMetaColorScale:{get:function(){return color},set:function(t){color=r.utils.getColor(t)}},cellAspectRatio:{get:function(){return E},set:function(t){E=t}},cellRadius:{get:function(){return M},set:function(t){M=t}},cellHeight:{get:function(){return V}},cellWidth:{get:function(){return G}},normalize:{get:function(){return A},set:function(t){A=t}},cellBorderWidth:{get:function(){return k},set:function(t){k=t}},highContrastText:{get:function(){return O},set:function(t){O=t}},cellValueFormat:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return p},set:function(t){p=t}},metaOffset:{get:function(){return L},set:function(t){L=t}},xMetaHeight:{get:function(){return B},set:function(t){B=t}},yMetaWidth:{get:function(){return I},set:function(t){I=t}},showGrid:{get:function(){return R},set:function(t){R=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return W},set:function(t){W=t,et.reset(W)}}}),r.utils.initOptions(lt),lt},r.models.heatMapChart=function(){"use strict";var t,e,n=r.models.heatMap(),i=r.models.legend(),a=(r.models.legend(),r.models.legend(),r.models.tooltip()),o=r.models.axis(),s=r.models.axis(),l={top:20,right:10,bottom:50,left:60},c=null,u=null,d=(r.utils.getColor(),!0),f=!1,p=!0,_=!0,h="left",g="top",v=0,m=null,y=d3.dispatch("beforeUpdate","renderEnd"),b=250;o.orient(g).showMaxMin(!1).tickFormat((function(t){return t})),s.orient(h).showMaxMin(!1).tickFormat((function(t){return t})),a.duration(0).headerEnabled(!0).keyFormatter((function(t,e){return o.tickFormat()(t,e)}));var x=r.utils.renderWatch(y,b);function E(a){return x.reset(),x.models(n),x.models(o),x.models(s),a.each((function(a){var m=d3.select(this);r.utils.initSVG(m);var M=r.utils.availableWidth(c,m,l),k=r.utils.availableHeight(u,m,l);if(E.update=function(){y.beforeUpdate(),m.transition().duration(b).call(E)},E.container=this,!a||!a.length)return r.utils.noData(E,m),E;m.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var A=m.selectAll("g.nv-wrap").data([a]),O=A.enter().append("g").attr("class","nvd3 nv-wrap").append("g"),D=A.select("g");O.append("g").attr("class","nv-heatMap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),D.attr("transform","translate("+l.left+","+l.top+")"),n.width(M).height(k),D.select(".nv-heatMap").datum(a.filter((function(t){return!t.disabled}))).transition().call(n),n.cellAspectRatio()&&(k=n.cellHeight()*e.domain().length,n.height(k)),o.scale(t)._ticks(r.utils.calcTicksX(M/100,a)).tickSize(-k,0);var P=D.select(".nv-x.nv-axis");P.call(o).watchTransition(x,"heatMap: axisX").selectAll(".tick").style("opacity",(function(){return p?1:0})),P.selectAll("g").selectAll(".tick text").attr("transform",(function(t,e,n){return"translate(0, "+(f?n%2==0?"5":"17":"0")+") rotate("+(0!=v?v:"0")+" 0,0)"})).style("text-anchor",v>0?"start":v<0?"end":"middle");var w=-5;if("function"==typeof n.xMeta()&&(P.selectAll("text").style("text-anchor","middle"),w=-n.xMetaHeight()()/2-n.metaOffset()+3),"bottom"==g){if(P.watchTransition(x,"heatMap: axisX").attr("transform","translate(0,"+(k-w)+")"),!1!==n.xMeta()){var C=k+n.metaOffset()+n.cellBorderWidth();D.select(".xMetaWrap").watchTransition(x,"heatMap: xMetaWrap").attr("transform",(function(t,e){return"translate(0,"+C+")"}))}}else P.watchTransition(x,"heatMap: axisX").attr("transform","translate(0,"+w+")");s.scale(e)._ticks(r.utils.calcTicksY(k/36,a)).tickSize(-M,0);var L=D.select(".nv-y.nv-axis");L.call(s).watchTransition(x,"heatMap: axisY").selectAll(".tick").style("opacity",(function(){return _?1:0}));var T=-5;"function"==typeof n.yMeta()&&(L.selectAll("text").style("text-anchor","middle"),T=-n.yMetaWidth()()/2-n.metaOffset()),"right"==h?(L.attr("transform","translate("+(M-T)+",0)"),!1!==n.yMeta()&&(C=M+n.metaOffset()+n.cellBorderWidth(),D.select(".yMetaWrap").watchTransition(x,"heatMap: yMetaWrap").attr("transform",(function(t,e){return"translate("+C+",0)"})))):L.attr("transform","translate("+T+",0)");var W=D.select(".nv-legendWrap");i.width(M).color(n.colorScale().range());var B,I=(B=n.colorScale(),"string"==typeof B.domain()[0]?B.domain():B.range().map((function(t){var e=B.invertExtent(t);return null===e[0]&&(e[0]=B.domain()[0]),null===e[1]&&(e[1]=B.domain()[1]),e}))).map((function(t){return Array.isArray(t)?{key:t[0].toFixed(1)+" - "+t[1].toFixed(1)}:{key:t}}));W.datum(I).call(i).attr("transform","translate(0,"+("top"==g?k:-30)+")"),W.watchTransition(x,"heatMap: nv-legendWrap").style("opacity",(function(){return d?1:0}))})),d3.selectAll(".nv-axis").selectAll("line").style("stroke-opacity",0),d3.select(".nv-y").select("path.domain").remove(),x.renderEnd("heatMap chart immediate"),E}return n.dispatch.on("elementMouseover.tooltip",(function(t){a.data(t).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(t){a.hidden(!0)})),n.dispatch.on("elementMousemove.tooltip",(function(t){a()})),E.dispatch=y,E.heatMap=n,E.legend=i,E.xAxis=o,E.yAxis=s,E.tooltip=a,E.options=r.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return d},set:function(t){d=t}},noData:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},staggerLabels:{get:function(){return f},set:function(t){f=t}},rotateLabels:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return b},set:function(t){b=t,x.reset(b),n.duration(b),o.duration(b),s.duration(b)}},alignYAxis:{get:function(){return h},set:function(t){h=t,s.orient(t)}},alignXAxis:{get:function(){return g},set:function(t){g=t,o.orient(t)}}}),r.utils.inheritOptions(E,n),r.utils.initOptions(E),E},r.models.historicalBar=function(){"use strict";var t,e,n,i,a={top:0,right:0,bottom:0,left:0},o=null,s=null,l=Math.floor(1e4*Math.random()),c=null,u=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},_=[],h=[0],g=!1,v=!0,m=r.utils.defaultColor(),y=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),b=!0,x=r.utils.renderWatch(y,0);function E(M){return M.each((function(E){x.reset(),c=d3.select(this);var M=r.utils.availableWidth(o,c,a),k=r.utils.availableHeight(s,c,a);r.utils.initSVG(c),u.domain(t||d3.extent(E[0].values.map(f).concat(_))),g?u.range(n||[.5*M/E[0].values.length,M*(E[0].values.length-.5)/E[0].values.length]):u.range(n||[0,M]),d.domain(e||d3.extent(E[0].values.map(p).concat(h))).range(i||[k,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var A=c.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([E[0].values]),O=A.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),D=O.append("defs"),P=O.append("g"),w=A.select("g");P.append("g").attr("class","nv-bars"),A.attr("transform","translate("+a.left+","+a.top+")"),c.on("click",(function(t,e){y.chartClick({data:t,index:e,pos:d3.event,id:l})})),D.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),A.select("#nv-chart-clip-path-"+l+" rect").attr("width",M).attr("height",k),w.attr("clip-path",v?"url(#nv-chart-clip-path-"+l+")":"");var C=A.select(".nv-bars").selectAll(".nv-bar").data((function(t){return t}),(function(t,e){return f(t,e)}));C.exit().remove(),C.enter().append("rect").attr("x",0).attr("y",(function(t,e){return r.utils.NaNtoZero(d(Math.max(0,p(t,e))))})).attr("height",(function(t,e){return r.utils.NaNtoZero(Math.abs(d(p(t,e))-d(0)))})).attr("transform",(function(t,e){return"translate("+(u(f(t,e))-M/E[0].values.length*.45)+",0)"})).on("mouseover",(function(t,e){b&&(d3.select(this).classed("hover",!0),y.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))})).on("mouseout",(function(t,e){b&&(d3.select(this).classed("hover",!1),y.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))})).on("mousemove",(function(t,e){b&&y.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})})).on("click",(function(t,e){b&&(y.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation())})).on("dblclick",(function(t,e){b&&(y.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())})),C.attr("fill",(function(t,e){return m(t,e)})).attr("class",(function(t,e,n){return(p(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e})).watchTransition(x,"bars").attr("transform",(function(t,e){return"translate("+(u(f(t,e))-M/E[0].values.length*.45)+",0)"})).attr("width",M/E[0].values.length*.9),C.watchTransition(x,"bars").attr("y",(function(t,e){var n=p(t,e)<0?d(0):d(0)-d(p(t,e))<1?d(0)-1:d(p(t,e));return r.utils.NaNtoZero(n)})).attr("height",(function(t,e){return r.utils.NaNtoZero(Math.max(Math.abs(d(p(t,e))-d(0)),1))}))})),x.renderEnd("historicalBar immediate"),E}return E.highlightPoint=function(t,e){c.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},E.clearHighlights=function(){c.select(".nv-bars .nv-bar.hover").classed("hover",!1)},E.dispatch=y,E.options=r.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return _},set:function(t){_=t}},forceY:{get:function(){return h},set:function(t){h=t}},padData:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},xScale:{get:function(){return u},set:function(t){u=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return m},set:function(t){m=r.utils.getColor(t)}}}),r.utils.initOptions(E),E},r.models.historicalBarChart=function(t){"use strict";var e,n,i=t||r.models.historicalBar(),a=r.models.axis(),o=r.models.axis(),s=r.models.legend(),l=r.interactiveGuideline(),c=r.models.tooltip(),u={top:30,right:90,bottom:50,left:90},d=null,f=r.utils.defaultColor(),p=null,_=null,h=!1,g=!0,v=!0,m=!1,y=!1,b={},x=null,E=null,M=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),k=250;a.orient("bottom").tickPadding(7),o.orient(m?"right":"left"),c.duration(0).headerEnabled(!1).valueFormatter((function(t,e){return o.tickFormat()(t,e)})).headerFormatter((function(t,e){return a.tickFormat()(t,e)}));var A=r.utils.renderWatch(M,0);function O(t){return t.each((function(c){A.reset(),A.models(i),g&&A.models(a),v&&A.models(o);var E=d3.select(this);r.utils.initSVG(E);var D,P=r.utils.availableWidth(p,E,u),w=r.utils.availableHeight(_,E,u);if(O.update=function(){E.transition().duration(k).call(O)},O.container=this,b.disabled=c.map((function(t){return!!t.disabled})),!x)for(D in x={},b)b[D]instanceof Array?x[D]=b[D].slice(0):x[D]=b[D];if(!(c&&c.length&&c.filter((function(t){return t.values.length})).length))return r.utils.noData(O,E),O;E.selectAll(".nv-noData").remove(),e=i.xScale(),n=i.yScale();var C=E.selectAll("g.nv-wrap.nv-historicalBarChart").data([c]),L=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),T=C.select("g");L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-interactive"),h?(s.width(P),T.select(".nv-legendWrap").datum(c).call(s),d||s.height()===u.top||(u.top=s.height(),w=r.utils.availableHeight(_,E,u)),C.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")):T.select(".nv-legendWrap").selectAll("*").remove(),C.attr("transform","translate("+u.left+","+u.top+")"),m&&T.select(".nv-y.nv-axis").attr("transform","translate("+P+",0)"),y&&(l.width(P).height(w).margin({left:u.left,top:u.top}).svgContainer(E).xScale(e),C.select(".nv-interactive").call(l)),i.width(P).height(w).color(c.map((function(t,e){return t.color||f(t,e)})).filter((function(t,e){return!c[e].disabled}))),T.select(".nv-barsWrap").datum(c.filter((function(t){return!t.disabled}))).transition().call(i),g&&(a.scale(e)._ticks(r.utils.calcTicksX(P/100,c)).tickSize(-w,0),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),T.select(".nv-x.nv-axis").transition().call(a)),v&&(o.scale(n)._ticks(r.utils.calcTicksY(w/36,c)).tickSize(-P,0),T.select(".nv-y.nv-axis").transition().call(o)),l.dispatch.on("elementMousemove",(function(t){i.clearHighlights();var e,n,s,u=[];c.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(a,o){n=r.interactiveBisect(a.values,t.pointXValue,O.x()),i.highlightPoint(n,!0);var l=a.values[n];void 0!==l&&(void 0===e&&(e=l),void 0===s&&(s=O.xScale()(O.x()(l,n))),u.push({key:a.key,value:O.y()(l,n),color:f(a,a.seriesIndex),data:a.values[n]}))}));var d=a.tickFormat()(O.x()(e,n));l.tooltip.valueFormatter((function(t,e){return o.tickFormat()(t)})).data({value:d,index:n,series:u})(),l.renderGuideLine(s)})),l.dispatch.on("elementMouseout",(function(t){M.tooltipHide(),i.clearHighlights()})),s.dispatch.on("legendClick",(function(e,n){e.disabled=!e.disabled,c.filter((function(t){return!t.disabled})).length||c.map((function(t){return t.disabled=!1,C.selectAll(".nv-series").classed("disabled",!1),t})),b.disabled=c.map((function(t){return!!t.disabled})),M.stateChange(b),t.transition().call(O)})),s.dispatch.on("legendDblclick",(function(t){c.forEach((function(t){t.disabled=!0})),t.disabled=!1,b.disabled=c.map((function(t){return!!t.disabled})),M.stateChange(b),O.update()})),M.on("changeState",(function(t){void 0!==t.disabled&&(c.forEach((function(e,n){e.disabled=t.disabled[n]})),b.disabled=t.disabled),O.update()}))})),A.renderEnd("historicalBarChart immediate"),O}return i.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:O.x()(t.data),value:O.y()(t.data),color:t.color},c.data(t).hidden(!1)})),i.dispatch.on("elementMouseout.tooltip",(function(t){c.hidden(!0)})),i.dispatch.on("elementMousemove.tooltip",(function(t){c()})),O.dispatch=M,O.bars=i,O.legend=s,O.xAxis=a,O.yAxis=o,O.interactiveLayer=l,O.tooltip=c,O.options=r.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return _},set:function(t){_=t}},showLegend:{get:function(){return h},set:function(t){h=t}},showXAxis:{get:function(){return g},set:function(t){g=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},defaultState:{get:function(){return x},set:function(t){x=t}},noData:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return u},set:function(t){void 0!==t.top&&(u.top=t.top,d=t.top),u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),s.color(f),i.color(f)}},duration:{get:function(){return k},set:function(t){k=t,A.reset(k),o.duration(k),a.duration(k)}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,o.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(t){y=t,!0===t&&O.interactive(!1)}}}),r.utils.inheritOptions(O,i),r.utils.initOptions(O),O},r.models.ohlcBarChart=function(){var t=r.models.historicalBarChart(r.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator((function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"})),t},r.models.candlestickBarChart=function(){var t=r.models.historicalBarChart(r.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator((function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"})),t},r.models.legend=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=400,n=20,i=function(t){return t.key},a=function(t){return t},o=r.utils.getColor(),s=20,l=!0,c=32,u=!0,d=!0,f=!0,p=!1,_=!1,h=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic";function v(m){function y(t,e){return"furious"!=g?"#000":_?t.disengaged?"#000":"#fff":_?void 0:(t.color||(t.color=o(t,e)),t.disabled?t.color:"#fff")}function b(t,e){return _&&"furious"==g&&t.disengaged?"#eee":t.color||o(t,e)}function x(t,e){return _&&"furious"==g?1:t.disabled?0:1}return m.each((function(o){var v=e-t.left-t.right,m=d3.select(this);r.utils.initSVG(m);var E=m.selectAll("g.nv-legend").data([o]),M=E.enter().append("g").attr("class","nvd3 nv-legend").append("g"),k=E.select("g");u?E.attr("transform","translate("+-t.right+","+t.top+")"):E.attr("transform","translate("+t.left+","+t.top+")");var A,O,D=k.selectAll(".nv-series").data((function(t){return"furious"!=g?t:t.filter((function(t){return!!_||!t.disengaged}))})),P=D.enter().append("g").attr("class","nv-series");switch(g){case"furious":O=23;break;case"classic":O=20}"classic"==g?(P.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),A=D.select(".nv-legend-symbol")):"furious"==g&&(P.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),A=D.select(".nv-legend-symbol"),P.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),D.select(".nv-check-box").each((function(t,e){d3.select(this).selectAll("path").attr("stroke",y(t,e))}))),P.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var w=D.select("text.nv-legend-text");D.on("mouseover",(function(t,e){h.legendMouseover(t,e)})).on("mouseout",(function(t,e){h.legendMouseout(t,e)})).on("click",(function(t,e){h.legendClick(t,e);var n=D.data();d&&("classic"==g?p?(n.forEach((function(t){t.disabled=!0})),t.disabled=!1):(t.disabled=!t.disabled,n.every((function(t){return t.disabled}))&&n.forEach((function(t){t.disabled=!1}))):"furious"==g&&(_?(t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):_||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter((function(t){return!t.disengaged})).every((function(t){return t.userDisabled}))&&n.forEach((function(t){t.disabled=t.userDisabled=!1})))),h.stateChange({disabled:n.map((function(t){return!!t.disabled})),disengaged:n.map((function(t){return!!t.disengaged}))}))})).on("dblclick",(function(t,e){if(f){if("furious"==g&&_)return;if(h.legendDblclick(t,e),d){var n=D.data();n.forEach((function(t){t.disabled=!0,"furious"==g&&(t.userDisabled=t.disabled)})),t.disabled=!1,"furious"==g&&(t.userDisabled=t.disabled),h.stateChange({disabled:n.map((function(t){return!!t.disabled}))})}}})),D.classed("nv-disabled",(function(t){return t.userDisabled})),D.exit().remove(),w.attr("fill",y).text((function(t){return a(i(t))}));var C=0;if(l){var L=[];D.each((function(t,e){var n,o;if(a(i(t))&&a(i(t)).length>s){var l=a(i(t)).substring(0,s);n=d3.select(this).select("text").text(l+"..."),d3.select(this).append("svg:title").text(a(i(t)))}else n=d3.select(this).select("text");try{if((o=n.node().getComputedTextLength())<=0)throw Error()}catch(t){o=r.utils.calcApproxTextWidth(n)}L.push(o+c)}));var T=0,W=[];for(C=0;C<v&&T<L.length;)W[T]=L[T],C+=L[T++];for(0===T&&(T=1);C>v&&T>1;){W=[],T--;for(var B=0;B<L.length;B++)L[B]>(W[B%T]||0)&&(W[B%T]=L[B]);C=W.reduce((function(t,e,n,r){return t+e}))}for(var I=[],R=0,S=0;R<T;R++)I[R]=S,S+=W[R];D.attr("transform",(function(t,e){return"translate("+I[e%T]+","+(5+Math.floor(e/T)*O)+")"})),u?k.attr("transform","translate("+(e-t.right-C)+","+t.top+")"):k.attr("transform","translate(0,"+t.top+")"),n=t.top+t.bottom+Math.ceil(L.length/T)*O}else{var j,F=5,K=5,U=0;D.attr("transform",(function(n,r){var i=d3.select(this).select("text").node().getComputedTextLength()+c;return j=K,e<t.left+t.right+j+i&&(K=j=5,F+=O),(K+=i)>U&&(U=K),C<j+U&&(C=j+U),"translate("+j+","+F+")"})),k.attr("transform","translate("+(e-t.right-U)+","+t.top+")"),n=t.top+t.bottom+F+15}"furious"==g&&(A.attr("width",(function(t,e){return w[0][e].getComputedTextLength()+27})).attr("height",18).attr("y",-9).attr("x",-15),M.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),k.select(".nv-legend-bg").transition().duration(300).attr("x",-O).attr("width",C+O-12).attr("height",n+10).attr("y",-t.top-10).attr("opacity",_?1:0)),A.style("fill",b).style("fill-opacity",x).style("stroke",b)})),v}return v.dispatch=h,v.options=r.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return a},set:function(t){a=t}},align:{get:function(){return l},set:function(t){l=t}},maxKeyLength:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return u},set:function(t){u=t}},padding:{get:function(){return c},set:function(t){c=t}},updateState:{get:function(){return d},set:function(t){d=t}},enableDoubleClick:{get:function(){return f},set:function(t){f=t}},radioButtonMode:{get:function(){return p},set:function(t){p=t}},expanded:{get:function(){return _},set:function(t){_=t}},vers:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return o},set:function(t){o=r.utils.getColor(t)}}}),r.utils.initOptions(v),v},r.models.line=function(){"use strict";var t,e,n=r.models.scatter(),i={top:0,right:0,bottom:0,left:0},a=960,o=500,s=null,l=r.utils.defaultColor(),c=function(t){return t.x},u=function(t){return t.y},d=function(t,e){return!isNaN(u(t,e))&&null!==u(t,e)},f=function(t){return t.area},p=!1,_="linear",h=250,g=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");n.pointSize(16).pointDomain([16,256]);var v,m,y=r.utils.renderWatch(g,h);function b(h){return y.reset(),y.models(n),h.each((function(h){s=d3.select(this);var g=r.utils.availableWidth(a,s,i),b=r.utils.availableHeight(o,s,i);r.utils.initSVG(s),t=n.xScale(),e=n.yScale(),v=v||t,m=m||e;var x=s.selectAll("g.nv-wrap.nv-line").data([h]),E=x.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),M=E.append("defs"),k=E.append("g"),A=x.select("g");k.append("g").attr("class","nv-groups"),k.append("g").attr("class","nv-scatterWrap"),x.attr("transform","translate("+i.left+","+i.top+")"),n.width(g).height(b);var O=x.select(".nv-scatterWrap");O.call(n),M.append("clipPath").attr("id","nv-edge-clip-"+n.id()).append("rect"),x.select("#nv-edge-clip-"+n.id()+" rect").attr("width",g).attr("height",b>0?b:0),A.attr("clip-path",p?"url(#nv-edge-clip-"+n.id()+")":""),O.attr("clip-path",p?"url(#nv-edge-clip-"+n.id()+")":"");var D=x.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t){return t.key}));D.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",(function(t){return t.strokeWidth||1.5})).style("fill-opacity",1e-6),D.exit().remove(),D.attr("class",(function(t,e){return(t.classed||"")+" nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})).style("fill",(function(t,e){return l(t,e)})).style("stroke",(function(t,e){return l(t,e)})),D.watchTransition(y,"line: groups").style("stroke-opacity",1).style("fill-opacity",(function(t){return t.fillOpacity||.5}));var P=D.selectAll("path.nv-area").data((function(t){return f(t)?[t]:[]}));P.enter().append("path").attr("class","nv-area").attr("d",(function(t){return d3.svg.area().interpolate(_).defined(d).x((function(t,e){return r.utils.NaNtoZero(v(c(t,e)))})).y0((function(t,e){return r.utils.NaNtoZero(m(u(t,e)))})).y1((function(t,n){return m(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])})).apply(this,[t.values])})),D.exit().selectAll("path.nv-area").remove(),P.watchTransition(y,"line: areaPaths").attr("d",(function(n){return d3.svg.area().interpolate(_).defined(d).x((function(e,n){return r.utils.NaNtoZero(t(c(e,n)))})).y0((function(t,n){return r.utils.NaNtoZero(e(u(t,n)))})).y1((function(t,n){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])})).apply(this,[n.values])}));var w=D.selectAll("path.nv-line").data((function(t){return[t.values]}));w.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(_).defined(d).x((function(t,e){return r.utils.NaNtoZero(v(c(t,e)))})).y((function(t,e){return r.utils.NaNtoZero(m(u(t,e)))}))),w.watchTransition(y,"line: linePaths").attr("d",d3.svg.line().interpolate(_).defined(d).x((function(e,n){return r.utils.NaNtoZero(t(c(e,n)))})).y((function(t,n){return r.utils.NaNtoZero(e(u(t,n)))}))),v=t.copy(),m=e.copy()})),y.renderEnd("line immediate"),b}return b.dispatch=g,b.scatter=n,n.dispatch.on("elementClick",(function(){g.elementClick.apply(this,arguments)})),n.dispatch.on("elementMouseover",(function(){g.elementMouseover.apply(this,arguments)})),n.dispatch.on("elementMouseout",(function(){g.elementMouseout.apply(this,arguments)})),b.options=r.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return o},set:function(t){o=t}},defined:{get:function(){return d},set:function(t){d=t}},interpolate:{get:function(){return _},set:function(t){_=t}},clipEdge:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},duration:{get:function(){return h},set:function(t){h=t,y.reset(h),n.duration(h)}},isArea:{get:function(){return f},set:function(t){f=d3.functor(t)}},x:{get:function(){return c},set:function(t){c=t,n.x(t)}},y:{get:function(){return u},set:function(t){u=t,n.y(t)}},color:{get:function(){return l},set:function(t){l=r.utils.getColor(t),n.color(l)}}}),r.utils.inheritOptions(b,n),r.utils.initOptions(b),b},r.models.lineChart=function(){"use strict";var t,e,n=r.models.line(),i=r.models.axis(),a=r.models.axis(),o=r.models.legend(),s=r.interactiveGuideline(),l=r.models.tooltip(),c=r.models.focus(r.models.line()),u={top:30,right:20,bottom:50,left:60},d=null,f=r.utils.defaultColor(),p=null,_=null,h=!0,g="top",v=!0,m=!0,y=!1,b=!1,x=!1,E=r.utils.state(),M=null,k=null,A=d3.dispatch("stateChange","changeState","renderEnd"),O=250;i.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),n.clipEdge(!0).duration(0),l.valueFormatter((function(t,e){return a.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),s.tooltip.valueFormatter((function(t,e){return a.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)}));var D=r.utils.renderWatch(A,O);function P(l){return D.reset(),D.models(n),v&&D.models(i),m&&D.models(a),l.each((function(l){var k=d3.select(this);r.utils.initSVG(k);var D,w=r.utils.availableWidth(p,k,u),C=r.utils.availableHeight(_,k,u)-(x?c.height():0);if(P.update=function(){0===O?k.call(P):k.transition().duration(O).call(P)},P.container=this,E.setter(function(t){return function(e){void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(l),P.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled}))}}}(l)).update(),E.disabled=l.map((function(t){return!!t.disabled})),!M)for(D in M={},E)E[D]instanceof Array?M[D]=E[D].slice(0):M[D]=E[D];if(!(l&&l.length&&l.filter((function(t){return t.values.length})).length))return r.utils.noData(P,k),P;k.selectAll(".nv-noData").remove(),c.dispatch.on("onBrush",(function(t){F(t)})),t=n.xScale(),e=n.yScale();var L=k.selectAll("g.nv-wrap.nv-lineChart").data([l]),T=L.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),W=L.select("g");T.append("g").attr("class","nv-legendWrap");var B=T.append("g").attr("class","nv-focus");B.append("g").attr("class","nv-background").append("rect"),B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis"),B.append("g").attr("class","nv-linesWrap"),B.append("g").attr("class","nv-interactive"),T.append("g").attr("class","nv-focusWrap"),h?(o.width(w),W.select(".nv-legendWrap").datum(l).call(o),"bottom"===g?(u.bottom=i.height()+o.height(),C=r.utils.availableHeight(_,k,u),W.select(".nv-legendWrap").attr("transform","translate(0,"+(C+i.height())+")")):"top"===g&&(d||o.height()===u.top||(u.top=o.height(),C=r.utils.availableHeight(_,k,u)-(x?c.height():0)),L.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")"))):W.select(".nv-legendWrap").selectAll("*").remove(),L.attr("transform","translate("+u.left+","+u.top+")"),y&&W.select(".nv-y.nv-axis").attr("transform","translate("+w+",0)"),b&&(s.width(w).height(C).margin({left:u.left,top:u.top}).svgContainer(k).xScale(t),L.select(".nv-interactive").call(s)),W.select(".nv-focus .nv-background rect").attr("width",w).attr("height",C),n.width(w).height(C).color(l.map((function(t,e){return t.color||f(t,e)})).filter((function(t,e){return!l[e].disabled})));var I=W.select(".nv-linesWrap").datum(l.filter((function(t){return!t.disabled})));function R(){v&&W.select(".nv-focus .nv-x.nv-axis").transition().duration(O).call(i)}function S(){m&&W.select(".nv-focus .nv-y.nv-axis").transition().duration(O).call(a)}if(v&&i.scale(t)._ticks(r.utils.calcTicksX(w/100,l)).tickSize(-C,0),m&&a.scale(e)._ticks(r.utils.calcTicksY(C/36,l)).tickSize(-w,0),W.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+C+")"),x||null!==c.brush.extent()){c.width(w),W.select(".nv-focusWrap").style("display",x?"initial":"none").attr("transform","translate(0,"+(C+u.bottom+c.margin().top)+")").call(c);var j=c.brush.empty()?c.xDomain():c.brush.extent();null!==j&&F(j)}else I.transition().call(n),R(),S();function F(t){W.select(".nv-focus .nv-linesWrap").datum(l.filter((function(t){return!t.disabled})).map((function(e,r){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter((function(e,r){return n.x()(e,r)>=t[0]&&n.x()(e,r)<=t[1]})),disableTooltip:e.disableTooltip}}))).transition().duration(O).call(n),R(),S()}o.dispatch.on("stateChange",(function(t){for(var e in t)E[e]=t[e];A.stateChange(E),P.update()})),s.dispatch.on("elementMousemove",(function(e){n.clearHighlights();var i,o,u,d=[];if(l.filter((function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip})).forEach((function(a,s){var l=null!==c.brush.extent()?c.brush.empty()?c.xScale().domain():c.brush.extent():t.domain(),p=a.values.filter((function(t,e){return l[0]<=l[1]?n.x()(t,e)>=l[0]&&n.x()(t,e)<=l[1]:n.x()(t,e)>=l[1]&&n.x()(t,e)<=l[0]}));if(p.length>0){var _=p[o=r.interactiveBisect(p,e.pointXValue,n.x())],h=P.y()(_,o);if(null!==h&&n.highlightPoint(s,a.values.indexOf(_),!0),void 0===_)return;void 0===i&&(i=_),void 0===u&&(u=P.xScale()(P.x()(_,o))),d.push({key:a.key,value:h,color:f(a,a.seriesIndex),data:_})}})),d.length>2){var p=P.yScale().invert(e.mouseY),_=.03*Math.abs(P.yScale().domain()[0]-P.yScale().domain()[1]),h=r.nearestValueIndex(d.map((function(t){return t.value})),p,_);null!==h&&(d[h].highlight=!0)}void 0!==o&&(s.tooltip.valueFormatter(s.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":a.tickFormat()(t)}).data({value:P.x()(i,o),index:o,series:d})(),s.renderGuideLine(u))})),s.dispatch.on("elementClick",(function(t){var e,i=[];l.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(n){var a=r.interactiveBisect(n.values,t.pointXValue,P.x()),o=n.values[a];if(void 0!==o){void 0===e&&(e=P.xScale()(P.x()(o,a)));var s=P.yScale()(P.y()(o,a));i.push({point:o,pointIndex:a,pos:[e,s],seriesIndex:n.seriesIndex,series:n})}})),n.dispatch.elementClick(i)})),s.dispatch.on("elementMouseout",(function(t){n.clearHighlights()})),A.on("changeState",(function(t){void 0!==t.disabled&&l.length===t.disabled.length&&(l.forEach((function(e,n){e.disabled=t.disabled[n]})),E.disabled=t.disabled),P.update()}))})),D.renderEnd("lineChart immediate"),P}return n.dispatch.on("elementMouseover.tooltip",(function(t){t.series.disableTooltip||l.data(t).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(t){l.hidden(!0)})),P.dispatch=A,P.lines=n,P.legend=o,P.focus=c,P.xAxis=i,P.x2Axis=c.xAxis,P.yAxis=a,P.y2Axis=c.yAxis,P.interactiveLayer=s,P.tooltip=l,P.state=E,P.dispatch=A,P.options=r.utils.optionsFunc.bind(P),P._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return _},set:function(t){_=t}},showLegend:{get:function(){return h},set:function(t){h=t}},legendPosition:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return k},set:function(t){k=t}},focusEnable:{get:function(){return x},set:function(t){x=t}},focusHeight:{get:function(){return c.height()},set:function(t){c.height(t)}},focusShowAxisX:{get:function(){return c.showXAxis()},set:function(t){c.showXAxis(t)}},focusShowAxisY:{get:function(){return c.showYAxis()},set:function(t){c.showYAxis(t)}},brushExtent:{get:function(){return c.brushExtent()},set:function(t){c.brushExtent(t)}},focusMargin:{get:function(){return c.margin},set:function(t){void 0!==t.top&&(u.top=t.top,d=t.top),c.margin.right=void 0!==t.right?t.right:c.margin.right,c.margin.bottom=void 0!==t.bottom?t.bottom:c.margin.bottom,c.margin.left=void 0!==t.left?t.left:c.margin.left}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return O},set:function(t){O=t,D.reset(O),n.duration(O),c.duration(O),i.duration(O),a.duration(O)}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),o.color(f),n.color(f),c.color(f)}},interpolate:{get:function(){return n.interpolate()},set:function(t){n.interpolate(t),c.interpolate(t)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t),c.xTickFormat(t)}},yTickFormat:{get:function(){return a.tickFormat()},set:function(t){a.tickFormat(t),c.yTickFormat(t)}},x:{get:function(){return n.x()},set:function(t){n.x(t),c.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),c.y(t)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,a.orient(y?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){(b=t)&&(n.interactive(!1),n.useVoronoi(!1))}}}),r.utils.inheritOptions(P,n),r.utils.initOptions(P),P},r.models.lineWithFocusChart=function(){return r.models.lineChart().margin({bottom:30}).focusEnable(!0)},r.models.linePlusBarChart=function(){"use strict";var t,e,n,i,a,o,s,l=r.models.line(),c=r.models.line(),u=r.models.historicalBar(),d=r.models.historicalBar(),f=r.models.axis(),p=r.models.axis(),_=r.models.axis(),h=r.models.axis(),g=r.models.axis(),v=r.models.axis(),m=r.models.legend(),y=d3.svg.brush(),b=r.models.tooltip(),x={top:30,right:30,bottom:30,left:60},E=null,M={top:0,right:30,bottom:20,left:60},k=null,A=null,O=function(t){return t.x},D=function(t){return t.y},P=r.utils.defaultColor(),w=!0,C=!0,L=!1,T=!0,W=50,B=null,I=null,R=d3.dispatch("brush","stateChange","changeState"),S=0,j=r.utils.state(),F=null,K=" (left axis)",U=" (right axis)",N=!1;l.clipEdge(!0),c.interactive(!1),c.pointActive((function(t){return!1})),f.orient("bottom").tickPadding(5),_.orient("left"),h.orient("right"),p.orient("bottom").tickPadding(5),g.orient("left"),v.orient("right"),b.headerEnabled(!0).headerFormatter((function(t,e){return f.tickFormat()(t,e)}));var z=function(t){return t.every((function(t){return t.disabled}))};function V(b){return b.each((function(b){var I=d3.select(this);r.utils.initSVG(I);var G,H=r.utils.availableWidth(k,I,x),q=r.utils.availableHeight(A,I,x)-(C?W:0),Y=W-M.top-M.bottom;if(V.update=function(){I.transition().duration(S).call(V)},V.container=this,j.setter(function(t){return function(e){void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(b),V.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled}))}}}(b)).update(),j.disabled=b.map((function(t){return!!t.disabled})),!F)for(G in F={},j)j[G]instanceof Array?F[G]=j[G].slice(0):F[G]=j[G];if(!(b&&b.length&&b.filter((function(t){return t.values.length})).length))return r.utils.noData(V,I),V;I.selectAll(".nv-noData").remove();var X=b.filter((function(t){return!t.disabled&&t.bar})),$=b.filter((function(t){return!t.bar}));e=X.length&&!N?u.xScale():l.xScale(),n=p.scale(),i=N?l.yScale():u.yScale(),a=N?u.yScale():l.yScale(),o=N?c.yScale():d.yScale(),s=N?d.yScale():c.yScale();var Z=b.filter((function(t){return!t.disabled&&(N?!t.bar:t.bar)})).map((function(t){return t.values.map((function(t,e){return{x:O(t,e),y:D(t,e)}}))})),Q=b.filter((function(t){return!t.disabled&&(N?t.bar:!t.bar)})).map((function(t){return t.values.map((function(t,e){return{x:O(t,e),y:D(t,e)}}))}));e.range([0,H]),n.domain(d3.extent(d3.merge(Z.concat(Q)),(function(t){return t.x}))).range([0,H]);var J=I.selectAll("g.nv-wrap.nv-linePlusBar").data([b]),tt=J.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),et=J.select("g");tt.append("g").attr("class","nv-legendWrap");var nt=tt.append("g").attr("class","nv-focus");nt.append("g").attr("class","nv-x nv-axis"),nt.append("g").attr("class","nv-y1 nv-axis"),nt.append("g").attr("class","nv-y2 nv-axis"),nt.append("g").attr("class","nv-barsWrap"),nt.append("g").attr("class","nv-linesWrap");var rt=tt.append("g").attr("class","nv-context");if(rt.append("g").attr("class","nv-x nv-axis"),rt.append("g").attr("class","nv-y1 nv-axis"),rt.append("g").attr("class","nv-y2 nv-axis"),rt.append("g").attr("class","nv-barsWrap"),rt.append("g").attr("class","nv-linesWrap"),rt.append("g").attr("class","nv-brushBackground"),rt.append("g").attr("class","nv-x nv-brush"),w){var it=m.align()?H/2:H,at=m.align()?it:0;m.width(it),et.select(".nv-legendWrap").datum(b.map((function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=N?t.originalKey+(t.bar?U:K):t.originalKey+(t.bar?K:U),t}))).call(m),E||m.height()===x.top||(x.top=m.height(),q=r.utils.availableHeight(A,I,x)-W),et.select(".nv-legendWrap").attr("transform","translate("+at+","+-x.top+")")}else et.select(".nv-legendWrap").selectAll("*").remove();J.attr("transform","translate("+x.left+","+x.top+")"),et.select(".nv-context").style("display",C?"initial":"none"),d.width(H).height(Y).color(b.map((function(t,e){return t.color||P(t,e)})).filter((function(t,e){return!b[e].disabled&&b[e].bar}))),c.width(H).height(Y).color(b.map((function(t,e){return t.color||P(t,e)})).filter((function(t,e){return!b[e].disabled&&!b[e].bar})));var ot=et.select(".nv-context .nv-barsWrap").datum(X.length?X:[{values:[]}]),st=et.select(".nv-context .nv-linesWrap").datum(z($)?[{values:[]}]:$.filter((function(t){return!t.disabled})));et.select(".nv-context").attr("transform","translate(0,"+(q+x.bottom+M.top)+")"),ot.transition().call(d),st.transition().call(c),T&&(p._ticks(r.utils.calcTicksX(H/100,b)).tickSize(-Y,0),et.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),et.select(".nv-context .nv-x.nv-axis").transition().call(p)),L&&(g.scale(o)._ticks(Y/36).tickSize(-H,0),v.scale(s)._ticks(Y/36).tickSize(X.length?0:-H,0),et.select(".nv-context .nv-y3.nv-axis").style("opacity",X.length?1:0).attr("transform","translate(0,"+n.range()[0]+")"),et.select(".nv-context .nv-y2.nv-axis").style("opacity",$.length?1:0).attr("transform","translate("+n.range()[1]+",0)"),et.select(".nv-context .nv-y1.nv-axis").transition().call(g),et.select(".nv-context .nv-y2.nv-axis").transition().call(v)),y.x(n).on("brush",dt),B&&y.extent(B);var lt=et.select(".nv-brushBackground").selectAll("g").data([B||y.extent()]),ct=lt.enter().append("g");ct.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Y),ct.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Y);var ut=et.select(".nv-x.nv-brush").call(y);function dt(){B=y.empty()?null:y.extent(),t=y.empty()?n.domain():y.extent(),R.brush({extent:t,brush:y}),y.empty()||y.extent(B),lt.data([y.empty()?n.domain():B]).each((function(t,e){var r=n(t[0])-n.range()[0],i=n.range()[1]-n(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",n(t[1])).attr("width",i<0?0:i)})),u.width(H).height(q).color(b.map((function(t,e){return t.color||P(t,e)})).filter((function(t,e){return!b[e].disabled&&b[e].bar}))),l.width(H).height(q).color(b.map((function(t,e){return t.color||P(t,e)})).filter((function(t,e){return!b[e].disabled&&!b[e].bar})));var o=et.select(".nv-focus .nv-barsWrap").datum(X.length?X.map((function(e,n){return{key:e.key,values:e.values.filter((function(e,n){return u.x()(e,n)>=t[0]&&u.x()(e,n)<=t[1]}))}})):[{values:[]}]),s=et.select(".nv-focus .nv-linesWrap").datum(z($)?[{values:[]}]:$.filter((function(t){return!t.disabled})).map((function(e,n){return{area:e.area,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,key:e.key,values:e.values.filter((function(e,n){return l.x()(e,n)>=t[0]&&l.x()(e,n)<=t[1]}))}})));e=X.length&&!N?u.xScale():l.xScale(),f.scale(e)._ticks(r.utils.calcTicksX(H/100,b)).tickSize(-q,0),f.domain([Math.ceil(t[0]),Math.floor(t[1])]),et.select(".nv-x.nv-axis").transition().duration(S).call(f),o.transition().duration(S).call(u),s.transition().duration(S).call(l),et.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),_.scale(i)._ticks(r.utils.calcTicksY(q/36,b)).tickSize(-H,0),h.scale(a)._ticks(r.utils.calcTicksY(q/36,b)),N?h.tickSize($.length?0:-H,0):h.tickSize(X.length?0:-H,0);var c=X.length?1:0,d=$.length&&!z($)?1:0,p=N?d:c,g=N?c:d;et.select(".nv-focus .nv-y1.nv-axis").style("opacity",p),et.select(".nv-focus .nv-y2.nv-axis").style("opacity",g).attr("transform","translate("+e.range()[1]+",0)"),et.select(".nv-focus .nv-y1.nv-axis").transition().duration(S).call(_),et.select(".nv-focus .nv-y2.nv-axis").transition().duration(S).call(h)}ut.selectAll("rect").attr("height",Y),ut.selectAll(".resize").append("path").attr("d",(function(t){var e=+("e"==t),n=e?1:-1,r=Y/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)})),m.dispatch.on("stateChange",(function(t){for(var e in t)j[e]=t[e];R.stateChange(j),V.update()})),R.on("changeState",(function(t){void 0!==t.disabled&&(b.forEach((function(e,n){e.disabled=t.disabled[n]})),j.disabled=t.disabled),V.update()})),dt()})),V}return l.dispatch.on("elementMouseover.tooltip",(function(t){b.duration(100).valueFormatter((function(t,e){return(N?{main:_,focus:g}:{main:h,focus:v}).main.tickFormat()(t,e)})).data(t).hidden(!1)})),l.dispatch.on("elementMouseout.tooltip",(function(t){b.hidden(!0)})),u.dispatch.on("elementMouseover.tooltip",(function(t){t.value=V.x()(t.data),t.series={value:V.y()(t.data),color:t.color},b.duration(0).valueFormatter((function(t,e){return(N?{main:h,focus:v}:{main:_,focus:g}).main.tickFormat()(t,e)})).data(t).hidden(!1)})),u.dispatch.on("elementMouseout.tooltip",(function(t){b.hidden(!0)})),u.dispatch.on("elementMousemove.tooltip",(function(t){b()})),V.dispatch=R,V.legend=m,V.lines=l,V.lines2=c,V.bars=u,V.bars2=d,V.xAxis=f,V.x2Axis=p,V.y1Axis=_,V.y2Axis=h,V.y3Axis=g,V.y4Axis=v,V.tooltip=b,V.options=r.utils.optionsFunc.bind(V),V._options=Object.create({},{width:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return A},set:function(t){A=t}},showLegend:{get:function(){return w},set:function(t){w=t}},brushExtent:{get:function(){return B},set:function(t){B=t}},noData:{get:function(){return I},set:function(t){I=t}},focusEnable:{get:function(){return C},set:function(t){C=t}},focusHeight:{get:function(){return W},set:function(t){W=t}},focusShowAxisX:{get:function(){return T},set:function(t){T=t}},focusShowAxisY:{get:function(){return L},set:function(t){L=t}},legendLeftAxisHint:{get:function(){return K},set:function(t){K=t}},legendRightAxisHint:{get:function(){return U},set:function(t){U=t}},margin:{get:function(){return x},set:function(t){void 0!==t.top&&(x.top=t.top,E=t.top),x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left}},focusMargin:{get:function(){return M},set:function(t){M.top=void 0!==t.top?t.top:M.top,M.right=void 0!==t.right?t.right:M.right,M.bottom=void 0!==t.bottom?t.bottom:M.bottom,M.left=void 0!==t.left?t.left:M.left}},duration:{get:function(){return S},set:function(t){S=t}},color:{get:function(){return P},set:function(t){P=r.utils.getColor(t),m.color(P)}},x:{get:function(){return O},set:function(t){O=t,l.x(t),c.x(t),u.x(t),d.x(t)}},y:{get:function(){return D},set:function(t){D=t,l.y(t),c.y(t),u.y(t),d.y(t)}},switchYAxisOrder:{get:function(){return N},set:function(t){if(N!==t){var e=_;_=h,h=e;var n=g;g=v,v=n}N=t,_.orient("left"),h.orient("right"),g.orient("left"),v.orient("right")}}}),r.utils.inheritOptions(V,l),r.utils.initOptions(V),V},r.models.multiBar=function(){"use strict";var t,e,n,i,a,o,s,l={top:0,right:0,bottom:0,left:0},c=960,u=500,d=d3.scale.ordinal(),f=d3.scale.linear(),p=Math.floor(1e4*Math.random()),_=null,h=function(t){return t.x},g=function(t){return t.y},v=[0],m=!0,y=!1,b="zero",x=r.utils.defaultColor(),E=!1,M=null,k=500,A=.1,O=.75,D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),P=r.utils.renderWatch(D,k),w=0;function C(L){return P.reset(),L.each((function(C){var L=c-l.left-l.right,T=u-l.top-l.bottom;_=d3.select(this),r.utils.initSVG(_);var W=0;if(E&&C.length&&(E=[{values:C[0].values.map((function(t){return{x:t.x,y:0,series:t.series,size:.01}}))}]),y){var B=d3.layout.stack().offset(b).values((function(t){return t.values})).y(g)(!C.length&&E?E:C);B.forEach((function(t,e){t.nonStackable?(C[e].nonStackableSeries=W++,B[e]=C[e]):e>0&&B[e-1].nonStackable&&B[e].values.map((function(t,n){t.y0-=B[e-1].values[n].y,t.y1=t.y0+t.y}))})),C=B}C.forEach((function(t,e){t.values.forEach((function(n){n.series=e,n.key=t.key}))})),y&&C.length>0&&C[0].values.map((function(t,e){var n=0,r=0;C.map((function(t,i){if(!C[i].nonStackable){var a=t.values[e];a.size=Math.abs(a.y),a.y<0?(a.y1=r,r-=a.size):(a.y1=a.size+n,n+=a.size)}}))}));var I=e&&n?[]:C.map((function(t,e){return t.values.map((function(t,n){return{x:h(t,n),y:g(t,n),y0:t.y0,y1:t.y1,idx:e}}))}));d.domain(e||d3.merge(I).map((function(t){return t.x}))).rangeBands(i||[0,L],A),f.domain(n||d3.extent(d3.merge(I).map((function(t){var e=t.y;return y&&!C[t.idx].nonStackable&&(e=t.y>0?t.y1:t.y1+t.y),e})).concat(v))).range(a||[T,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),o=o||d,s=s||f;var R=_.selectAll("g.nv-wrap.nv-multibar").data([C]),S=R.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),j=S.append("defs"),F=S.append("g"),K=R.select("g");F.append("g").attr("class","nv-groups"),R.attr("transform","translate("+l.left+","+l.top+")"),j.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),R.select("#nv-edge-clip-"+p+" rect").attr("width",L).attr("height",T),K.attr("clip-path",m?"url(#nv-edge-clip-"+p+")":"");var U=R.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t,e){return e}));U.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var N=P.transition(U.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,k)).attr("y",(function(t,e,n){var r=s(0)||0;return y&&C[t.series]&&!C[t.series].nonStackable&&(r=s(t.y0)),r})).attr("height",0).remove();N.delay&&N.delay((function(t,e){return e*(k/(w+1))-e})),U.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})).style("fill",(function(t,e){return x(t,e)})).style("stroke",(function(t,e){return x(t,e)})),U.style("stroke-opacity",1).style("fill-opacity",O);var z=U.selectAll("rect.nv-bar").data((function(t){return E&&!C.length?E.values:t.values}));z.exit().remove(),z.enter().append("rect").attr("class",(function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"})).attr("x",(function(t,e,n){return y&&!C[n].nonStackable?0:n*d.rangeBand()/C.length})).attr("y",(function(t,e,n){return s(y&&!C[n].nonStackable?t.y0:0)||0})).attr("height",0).attr("width",(function(t,e,n){return d.rangeBand()/(y&&!C[n].nonStackable?1:C.length)})).attr("transform",(function(t,e){return"translate("+d(h(t,e))+",0)"})),z.style("fill",(function(t,e,n){return x(t,n,e)})).style("stroke",(function(t,e,n){return x(t,n,e)})).on("mouseover",(function(t,e,n){d3.select(this).classed("hover",!0),D.elementMouseover({data:t,index:e,series:C[n],color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e,n){d3.select(this).classed("hover",!1),D.elementMouseout({data:t,index:e,series:C[n],color:d3.select(this).style("fill")})})).on("mousemove",(function(t,e,n){D.elementMousemove({data:t,index:e,series:C[n],color:d3.select(this).style("fill")})})).on("click",(function(t,e,n){D.elementClick({data:t,index:e,series:C[n],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()})).on("dblclick",(function(t,e,n){D.elementDblClick({data:t,index:e,series:C[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()})),z.attr("class",(function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"})).attr("transform",(function(t,e){return"translate("+d(h(t,e))+",0)"})),M&&(t||(t=C.map((function(){return!0}))),z.style("fill",(function(e,n,r){return d3.rgb(M(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()})).style("stroke",(function(e,n,r){return d3.rgb(M(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()})));var V=z.watchTransition(P,"multibar",Math.min(250,k)).delay((function(t,e){return e*k/C[0].values.length}));y?V.attr("y",(function(t,e,n){return C[n].nonStackable?g(t,e)<0?f(0):f(0)-f(g(t,e))<-1?f(0)-1:f(g(t,e))||0:f(t.y1)})).attr("height",(function(t,e,n){return C[n].nonStackable?Math.max(Math.abs(f(g(t,e))-f(0)),0)||0:Math.max(Math.abs(f(t.y+t.y0)-f(t.y0)),0)})).attr("x",(function(t,e,n){var r=0;return C[n].nonStackable&&(r=t.series*d.rangeBand()/C.length,C.length!==W&&(r=C[n].nonStackableSeries*d.rangeBand()/(2*W))),r})).attr("width",(function(t,e,n){if(C[n].nonStackable){var r=d.rangeBand()/W;return C.length!==W&&(r=d.rangeBand()/(2*W)),r}return d.rangeBand()})):V.attr("x",(function(t,e){return t.series*d.rangeBand()/C.length})).attr("width",d.rangeBand()/C.length).attr("y",(function(t,e){return g(t,e)<0?f(0):f(0)-f(g(t,e))<1?f(0)-1:f(g(t,e))||0})).attr("height",(function(t,e){return Math.max(Math.abs(f(g(t,e))-f(0)),1)||0})),o=d.copy(),s=f.copy(),C[0]&&C[0].values&&(w=C[0].values.length)})),P.renderEnd("multibar immediate"),C}return C.dispatch=D,C.options=r.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return h},set:function(t){h=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceY:{get:function(){return v},set:function(t){v=t}},stacked:{get:function(){return y},set:function(t){y=t}},stackOffset:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return m},set:function(t){m=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return p},set:function(t){p=t}},hideable:{get:function(){return E},set:function(t){E=t}},groupSpacing:{get:function(){return A},set:function(t){A=t}},fillOpacity:{get:function(){return O},set:function(t){O=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return k},set:function(t){k=t,P.reset(k)}},color:{get:function(){return x},set:function(t){x=r.utils.getColor(t)}},barColor:{get:function(){return M},set:function(t){M=t?r.utils.getColor(t):null}}}),r.utils.initOptions(C),C},r.models.multiBarChart=function(){"use strict";var t,e,n=r.models.multiBar(),i=r.models.axis(),a=r.models.axis(),o=r.interactiveGuideline(),s=r.models.legend(),l=r.models.legend(),c=r.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=null,f=null,p=null,_=r.utils.defaultColor(),h=!0,g={},v=!0,m=null,y=!0,b=!0,x=!1,E=!0,M=!1,k=!1,A=0,O=r.utils.state(),D=null,P=null,w=d3.dispatch("stateChange","changeState","renderEnd"),C=function(){return h?180:0},L=250,T=!1;O.stacked=!1,n.stacked(!1),i.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat((function(t){return t})),a.orient(x?"right":"left").tickFormat(d3.format(",.1f")),c.duration(0).valueFormatter((function(t,e){return a.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),o.tooltip.valueFormatter((function(t,e){return null==t?"N/A":a.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),o.tooltip.valueFormatter((function(t,e){return null==t?"N/A":a.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),o.tooltip.duration(0).valueFormatter((function(t,e){return a.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),l.updateState(!1);var W=r.utils.renderWatch(w),B=!1;function I(P){return W.reset(),W.models(n),y&&W.models(i),b&&W.models(a),P.each((function(P){var W=d3.select(this);r.utils.initSVG(W);var R,S=r.utils.availableWidth(f,W,u),j=r.utils.availableHeight(p,W,u);if(I.update=function(){0===L?W.call(I):W.transition().duration(L).call(I)},I.container=this,O.setter(function(t){return function(e){void 0!==e.stacked&&(B=e.stacked),void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(P),I.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled})),stacked:B}}}(P)).update(),O.disabled=P.map((function(t){return!!t.disabled})),!D)for(R in D={},O)O[R]instanceof Array?D[R]=O[R].slice(0):D[R]=O[R];if(!(P&&P.length&&P.filter((function(t){return t.values.length})).length))return r.utils.noData(I,W),I;W.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var F=W.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([P]),K=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),U=F.select("g");if(K.append("g").attr("class","nv-x nv-axis"),K.append("g").attr("class","nv-y nv-axis"),K.append("g").attr("class","nv-barsWrap"),K.append("g").attr("class","nv-legendWrap"),K.append("g").attr("class","nv-controlsWrap"),K.append("g").attr("class","nv-interactive"),v?"bottom"===m?(s.width(S-u.right),U.select(".nv-legendWrap").datum(P).call(s),u.bottom=i.height()+s.height(),j=r.utils.availableHeight(p,W,u),U.select(".nv-legendWrap").attr("transform","translate(0,"+(j+i.height())+")")):(s.width(S-C()),U.select(".nv-legendWrap").datum(P).call(s),d||s.height()===u.top||(u.top=s.height(),j=r.utils.availableHeight(p,W,u)),U.select(".nv-legendWrap").attr("transform","translate("+C()+","+-u.top+")")):U.select(".nv-legendWrap").selectAll("*").remove(),h){var N=[{key:g.grouped||"Grouped",disabled:n.stacked()},{key:g.stacked||"Stacked",disabled:!n.stacked()}];l.width(C()).color(["#444","#444","#444"]),U.select(".nv-controlsWrap").datum(N).attr("transform","translate(0,"+-u.top+")").call(l)}else U.select(".nv-controlsWrap").selectAll("*").remove();if(F.attr("transform","translate("+u.left+","+u.top+")"),x&&U.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)"),n.disabled(P.map((function(t){return t.disabled}))).width(S).height(j).color(P.map((function(t,e){return t.color||_(t,e)})).filter((function(t,e){return!P[e].disabled}))),U.select(".nv-barsWrap").datum(P.filter((function(t){return!t.disabled}))).call(n),y){i.scale(t)._ticks(r.utils.calcTicksX(S/100,P)).tickSize(-j,0),U.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),U.select(".nv-x.nv-axis").call(i);var z=U.select(".nv-x.nv-axis > g").selectAll("g");if(z.selectAll("line, text").style("opacity",1),M){var V=function(t,e){return"translate("+t+","+e+")"};z.selectAll("text").attr("transform",(function(t,e,n){return V(0,n%2==0?5:17)}));var G=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;U.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",(function(t,e){return V(0,0===e||G%2!=0?17:5)}))}k&&U.selectAll(".tick text").call(r.utils.wrapTicks,I.xAxis.rangeBand()),E&&z.filter((function(t,e){return e%Math.ceil(P[0].values.length/(S/100))!=0})).selectAll("text, line").style("opacity",0),A&&z.selectAll(".tick text").attr("transform","rotate("+A+" 0,0)").style("text-anchor",A>0?"start":"end"),U.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}b&&(a.scale(e)._ticks(r.utils.calcTicksY(j/36,P)).tickSize(-S,0),U.select(".nv-y.nv-axis").call(a)),T&&(o.width(S).height(j).margin({left:u.left,top:u.top}).svgContainer(W).xScale(t),F.select(".nv-interactive").call(o)),s.dispatch.on("stateChange",(function(t){for(var e in t)O[e]=t[e];w.stateChange(O),I.update()})),l.dispatch.on("legendClick",(function(t,e){if(t.disabled){switch(N=N.map((function(t){return t.disabled=!0,t})),t.disabled=!1,t.key){case"Grouped":case g.grouped:n.stacked(!1);break;case"Stacked":case g.stacked:n.stacked(!0)}O.stacked=n.stacked(),w.stateChange(O),I.update()}})),w.on("changeState",(function(t){void 0!==t.disabled&&(P.forEach((function(e,n){e.disabled=t.disabled[n]})),O.disabled=t.disabled),void 0!==t.stacked&&(n.stacked(t.stacked),O.stacked=t.stacked,B=t.stacked),I.update()})),T?(o.dispatch.on("elementMousemove",(function(e){if(null!=e.pointXValue){var n,r,i,a,s=[];P.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(o,l){r=t.domain().indexOf(e.pointXValue);var c=o.values[r];void 0!==c&&(a=c.x,void 0===n&&(n=c),void 0===i&&(i=e.mouseX),s.push({key:o.key,value:I.y()(c,r),color:_(o,o.seriesIndex),data:o.values[r]}))})),o.tooltip.data({value:a,index:r,series:s})(),o.renderGuideLine(i)}})),o.dispatch.on("elementMouseout",(function(t){o.tooltip.hidden(!0)}))):(n.dispatch.on("elementMouseover.tooltip",(function(t){t.value=I.x()(t.data),t.series={key:t.data.key,value:I.y()(t.data),color:t.color},c.data(t).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(t){c.hidden(!0)})),n.dispatch.on("elementMousemove.tooltip",(function(t){c()})))})),W.renderEnd("multibarchart immediate"),I}return I.dispatch=w,I.multibar=n,I.legend=s,I.controls=l,I.xAxis=i,I.yAxis=a,I.state=O,I.tooltip=c,I.interactiveLayer=o,I.options=r.utils.optionsFunc.bind(I),I._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return m},set:function(t){m=t}},showControls:{get:function(){return h},set:function(t){h=t}},controlLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return P},set:function(t){P=t}},reduceXTicks:{get:function(){return E},set:function(t){E=t}},rotateLabels:{get:function(){return A},set:function(t){A=t}},staggerLabels:{get:function(){return M},set:function(t){M=t}},wrapLabels:{get:function(){return k},set:function(t){k=!!t}},margin:{get:function(){return u},set:function(t){void 0!==t.top&&(u.top=t.top,d=t.top),u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return L},set:function(t){L=t,n.duration(L),i.duration(L),a.duration(L),W.reset(L)}},color:{get:function(){return _},set:function(t){_=r.utils.getColor(t),s.color(_)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,a.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return T},set:function(t){T=t}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),s.color((function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()}))}}}),r.utils.inheritOptions(I,n),r.utils.initOptions(I),I},r.models.multiBarHorizontal=function(){"use strict";var t,e,n,i,a,o,s,l={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),f=null,p=d3.scale.ordinal(),_=d3.scale.linear(),h=function(t){return t.x},g=function(t){return t.y},v=function(t){return t.yErr},m=[0],y=r.utils.defaultColor(),b=null,x=!1,E=!1,M=60,k=.1,A=.75,O=d3.format(",.2f"),D=250,P=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=r.utils.renderWatch(P,D);function C(d){return w.reset(),d.each((function(d){var D=c-l.left-l.right,C=u-l.top-l.bottom;f=d3.select(this),r.utils.initSVG(f),x&&(d=d3.layout.stack().offset("zero").values((function(t){return t.values})).y(g)(d)),d.forEach((function(t,e){t.values.forEach((function(n){n.series=e,n.key=t.key}))})),x&&d[0].values.map((function(t,e){var n=0,r=0;d.map((function(t){var i=t.values[e];i.size=Math.abs(i.y),i.y<0?(i.y1=r-i.size,r-=i.size):(i.y1=n,n+=i.size)}))}));var L=e&&n?[]:d.map((function(t){return t.values.map((function(t,e){return{x:h(t,e),y:g(t,e),y0:t.y0,y1:t.y1}}))}));p.domain(e||d3.merge(L).map((function(t){return t.x}))).rangeBands(i||[0,C],k),_.domain(n||d3.extent(d3.merge(L).map((function(t){return x?t.y>0?t.y1+t.y:t.y1:t.y})).concat(m))),E&&!x?_.range(a||[_.domain()[0]<0?M:0,D-(_.domain()[1]>0?M:0)]):_.range(a||[0,D]),o=o||p,s=s||d3.scale.linear().domain(_.domain()).range([_(0),_(0)]);var T=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([d]),W=T.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),B=(W.append("defs"),W.append("g"));T.select("g"),B.append("g").attr("class","nv-groups"),T.attr("transform","translate("+l.left+","+l.top+")");var I=T.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t,e){return e}));I.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),I.exit().watchTransition(w,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),I.attr("class",(function(t,e){return"nv-group nv-series-"+e})).classed("hover",(function(t){return t.hover})).style("fill",(function(t,e){return y(t,e)})).style("stroke",(function(t,e){return y(t,e)})),I.watchTransition(w,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",A);var R=I.selectAll("g.nv-bar").data((function(t){return t.values}));R.exit().remove();var S=R.enter().append("g").attr("transform",(function(t,e,n){return"translate("+s(x?t.y0:0)+","+(x?0:n*p.rangeBand()/d.length+p(h(t,e)))+")"}));S.append("rect").attr("width",0).attr("height",p.rangeBand()/(x?1:d.length)),R.on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),P.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),P.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})})).on("mouseout",(function(t,e){P.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})})).on("mousemove",(function(t,e){P.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})})).on("click",(function(t,e){P.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()})).on("dblclick",(function(t,e){P.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()})),v(d[0],0)&&(S.append("polyline"),R.select("polyline").attr("fill","none").attr("points",(function(t,e){var n=v(t,e),r=.8*p.rangeBand()/(2*(x?1:d.length));return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map((function(n){return _(n+(g(t,e)<0?0:g(t,e)))-_(0)})))[0],-r],[n[0],r],[n[0],0],[n[1],0],[n[1],-r],[n[1],r]].map((function(t){return t.join(",")})).join(" ")})).attr("transform",(function(t,e){return"translate(0, "+p.rangeBand()/(2*(x?1:d.length))+")"}))),S.append("text"),E&&!x?(R.select("text").attr("text-anchor",(function(t,e){return g(t,e)<0?"end":"start"})).attr("y",p.rangeBand()/(2*d.length)).attr("dy",".32em").text((function(t,e){var n=O(g(t,e)),r=v(t,e);return void 0===r?n:r.length?n+"+"+O(Math.abs(r[1]))+"-"+O(Math.abs(r[0])):n+"±"+O(Math.abs(r))})),R.watchTransition(w,"multibarhorizontal: bars").select("text").attr("x",(function(t,e){return g(t,e)<0?-4:_(g(t,e))-_(0)+4}))):R.selectAll("text").text(""),R.selectAll("text.nv-bar-label").text(""),R.attr("class",(function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"})),b&&(t||(t=d.map((function(){return!0}))),R.style("fill",(function(e,n,r){return d3.rgb(b(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()})).style("stroke",(function(e,n,r){return d3.rgb(b(e,n)).darker(t.map((function(t,e){return e})).filter((function(e,n){return!t[n]}))[r]).toString()}))),x?R.watchTransition(w,"multibarhorizontal: bars").attr("transform",(function(t,e){return"translate("+_(t.y1)+","+p(h(t,e))+")"})).select("rect").attr("width",(function(t,e){return Math.abs(_(g(t,e)+t.y0)-_(t.y0))||0})).attr("height",p.rangeBand()):R.watchTransition(w,"multibarhorizontal: bars").attr("transform",(function(t,e){return"translate("+(g(t,e)<0?_(g(t,e)):_(0))+","+(t.series*p.rangeBand()/d.length+p(h(t,e)))+")"})).select("rect").attr("height",p.rangeBand()/d.length).attr("width",(function(t,e){return Math.max(Math.abs(_(g(t,e))-_(0)),1)||0})),o=p.copy(),s=_.copy()})),w.renderEnd("multibarHorizontal immediate"),C}return C.dispatch=P,C.options=r.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return h},set:function(t){h=t}},y:{get:function(){return g},set:function(t){g=t}},yErr:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return p},set:function(t){p=t}},yScale:{get:function(){return _},set:function(t){_=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return a},set:function(t){a=t}},forceY:{get:function(){return m},set:function(t){m=t}},stacked:{get:function(){return x},set:function(t){x=t}},showValues:{get:function(){return E},set:function(t){E=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return d},set:function(t){d=t}},valueFormat:{get:function(){return O},set:function(t){O=t}},valuePadding:{get:function(){return M},set:function(t){M=t}},groupSpacing:{get:function(){return k},set:function(t){k=t}},fillOpacity:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return D},set:function(t){D=t,w.reset(D)}},color:{get:function(){return y},set:function(t){y=r.utils.getColor(t)}},barColor:{get:function(){return b},set:function(t){b=t?r.utils.getColor(t):null}}}),r.utils.initOptions(C),C},r.models.multiBarHorizontalChart=function(){"use strict";var t,e,n=r.models.multiBarHorizontal(),i=r.models.axis(),a=r.models.axis(),o=r.models.legend().height(30),s=r.models.legend().height(30),l=r.models.tooltip(),c={top:30,right:20,bottom:50,left:60},u=null,d=null,f=null,p=r.utils.defaultColor(),_=!0,h="top",g={},v=!0,m="top",y=!0,b=!0,x=!1,E=r.utils.state(),M=null,k=null,A=d3.dispatch("stateChange","changeState","renderEnd"),O=function(){return _?180:0},D=250;E.stacked=!1,n.stacked(x),i.orient("left").tickPadding(5).showMaxMin(!1).tickFormat((function(t){return t})),a.orient("bottom").tickFormat(d3.format(",.1f")),l.duration(0).valueFormatter((function(t,e){return a.tickFormat()(t,e)})).headerFormatter((function(t,e){return i.tickFormat()(t,e)})),s.updateState(!1);var P=r.utils.renderWatch(A,D);function w(l){return P.reset(),P.models(n),y&&P.models(i),b&&P.models(a),l.each((function(l){var k=d3.select(this);r.utils.initSVG(k);var P,C=r.utils.availableWidth(d,k,c),L=r.utils.availableHeight(f,k,c);if(w.update=function(){k.transition().duration(D).call(w)},w.container=this,x=n.stacked(),E.setter(function(t){return function(e){void 0!==e.stacked&&(x=e.stacked),void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(l),w.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled})),stacked:x}}}(l)).update(),E.disabled=l.map((function(t){return!!t.disabled})),!M)for(P in M={},E)E[P]instanceof Array?M[P]=E[P].slice(0):M[P]=E[P];if(!(l&&l.length&&l.filter((function(t){return t.values.length})).length))return r.utils.noData(w,k),w;k.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale().clamp(!0);var T=k.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([l]),W=T.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),B=T.select("g");if(W.append("g").attr("class","nv-x nv-axis"),W.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),W.append("g").attr("class","nv-barsWrap"),W.append("g").attr("class","nv-legendWrap"),W.append("g").attr("class","nv-controlsWrap"),v?(o.width(C-O()),B.select(".nv-legendWrap").datum(l).call(o),"bottom"===m?(c.bottom=i.height()+o.height(),L=r.utils.availableHeight(f,k,c),B.select(".nv-legendWrap").attr("transform","translate("+O()+","+(L+i.height())+")")):"top"===m&&(u||o.height()===c.top||(c.top=o.height(),L=r.utils.availableHeight(f,k,c)),B.select(".nv-legendWrap").attr("transform","translate("+O()+","+-c.top+")"))):B.select(".nv-legendWrap").selectAll("*").remove(),_){var I=[{key:g.grouped||"Grouped",disabled:n.stacked()},{key:g.stacked||"Stacked",disabled:!n.stacked()}];s.width(O()).color(["#444","#444","#444"]),"bottom"===h?(c.bottom=i.height()+o.height(),L=r.utils.availableHeight(f,k,c),B.select(".nv-controlsWrap").datum(I).attr("transform","translate(0,"+(L+i.height())+")").call(s)):"top"===h&&B.select(".nv-controlsWrap").datum(I).attr("transform","translate(0,"+-c.top+")").call(s)}else B.select(".nv-controlsWrap").selectAll("*").remove();T.attr("transform","translate("+c.left+","+c.top+")"),n.disabled(l.map((function(t){return t.disabled}))).width(C).height(L).color(l.map((function(t,e){return t.color||p(t,e)})).filter((function(t,e){return!l[e].disabled}))),B.select(".nv-barsWrap").datum(l.filter((function(t){return!t.disabled}))).transition().call(n),y&&(i.scale(t)._ticks(r.utils.calcTicksY(L/24,l)).tickSize(-C,0),B.select(".nv-x.nv-axis").call(i),B.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),b&&(a.scale(e)._ticks(r.utils.calcTicksX(C/100,l)).tickSize(-L,0),B.select(".nv-y.nv-axis").attr("transform","translate(0,"+L+")"),B.select(".nv-y.nv-axis").call(a)),B.select(".nv-zeroLine line").attr("x1",e(0)).attr("x2",e(0)).attr("y1",0).attr("y2",-L),o.dispatch.on("stateChange",(function(t){for(var e in t)E[e]=t[e];A.stateChange(E),w.update()})),s.dispatch.on("legendClick",(function(t,e){if(t.disabled){switch(I=I.map((function(t){return t.disabled=!0,t})),t.disabled=!1,t.key){case"Grouped":case g.grouped:n.stacked(!1);break;case"Stacked":case g.stacked:n.stacked(!0)}E.stacked=n.stacked(),A.stateChange(E),x=n.stacked(),w.update()}})),A.on("changeState",(function(t){void 0!==t.disabled&&(l.forEach((function(e,n){e.disabled=t.disabled[n]})),E.disabled=t.disabled),void 0!==t.stacked&&(n.stacked(t.stacked),E.stacked=t.stacked,x=t.stacked),w.update()}))})),P.renderEnd("multibar horizontal chart immediate"),w}return n.dispatch.on("elementMouseover.tooltip",(function(t){t.value=w.x()(t.data),t.series={key:t.data.key,value:w.y()(t.data),color:t.color},l.data(t).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(t){l.hidden(!0)})),n.dispatch.on("elementMousemove.tooltip",(function(t){l()})),w.dispatch=A,w.multibar=n,w.legend=o,w.controls=s,w.xAxis=i,w.yAxis=a,w.state=E,w.tooltip=l,w.options=r.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return m},set:function(t){m=t}},controlsPosition:{get:function(){return h},set:function(t){h=t}},showControls:{get:function(){return _},set:function(t){_=t}},controlLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,u=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return D},set:function(t){D=t,P.reset(D),n.duration(D),i.duration(D),a.duration(D)}},color:{get:function(){return p},set:function(t){p=r.utils.getColor(t),o.color(p)}},barColor:{get:function(){return n.barColor},set:function(t){n.barColor(t),o.color((function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()}))}}}),r.utils.inheritOptions(w,n),r.utils.initOptions(w),w},r.models.multiChart=function(){"use strict";var t,e,n={top:30,right:20,bottom:50,left:60},i=null,a=r.utils.defaultColor(),o=null,s=null,l=!0,c=null,u=function(t){return t.x},d=function(t){return t.y},f="linear",p=!0,_=r.interactiveGuideline(),h=!1,g=" (right axis)",v=250,m=d3.scale.linear(),y=d3.scale.linear(),b=d3.scale.linear(),x=r.models.line().yScale(y).duration(v),E=r.models.line().yScale(b).duration(v),M=r.models.scatter().yScale(y).duration(v),k=r.models.scatter().yScale(b).duration(v),A=r.models.multiBar().stacked(!1).yScale(y).duration(v),O=r.models.multiBar().stacked(!1).yScale(b).duration(v),D=r.models.stackedArea().yScale(y).duration(v),P=r.models.stackedArea().yScale(b).duration(v),w=r.models.axis().scale(m).orient("bottom").tickPadding(5).duration(v),C=r.models.axis().scale(y).orient("left").duration(v),L=r.models.axis().scale(b).orient("right").duration(v),T=r.models.legend().height(30),W=r.models.tooltip(),B=d3.dispatch(),I=[x,E,M,k,A,O,D,P];function R(c){return c.each((function(c){var p=d3.select(this);r.utils.initSVG(p),R.update=function(){p.transition().call(R)},R.container=this;var v=r.utils.availableWidth(o,p,n),B=r.utils.availableHeight(s,p,n),S=c.filter((function(t){return"line"==t.type&&1==t.yAxis})),j=c.filter((function(t){return"line"==t.type&&2==t.yAxis})),F=c.filter((function(t){return"scatter"==t.type&&1==t.yAxis})),K=c.filter((function(t){return"scatter"==t.type&&2==t.yAxis})),U=c.filter((function(t){return"bar"==t.type&&1==t.yAxis})),N=c.filter((function(t){return"bar"==t.type&&2==t.yAxis})),z=c.filter((function(t){return"area"==t.type&&1==t.yAxis})),V=c.filter((function(t){return"area"==t.type&&2==t.yAxis}));if(!(c&&c.length&&c.filter((function(t){return t.values.length})).length))return r.utils.noData(R,p),R;p.selectAll(".nv-noData").remove();var G=c.filter((function(t){return!t.disabled&&1==t.yAxis})).map((function(t){return t.values.map((function(t,e){return{x:u(t),y:d(t)}}))})),H=c.filter((function(t){return!t.disabled&&2==t.yAxis})).map((function(t){return t.values.map((function(t,e){return{x:u(t),y:d(t)}}))}));m.domain(d3.extent(d3.merge(G.concat(H)),(function(t){return t.x}))).range([0,v]);var q=p.selectAll("g.wrap.multiChart").data([c]),Y=q.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y1 nv-axis"),Y.append("g").attr("class","nv-y2 nv-axis"),Y.append("g").attr("class","stack1Wrap"),Y.append("g").attr("class","stack2Wrap"),Y.append("g").attr("class","bars1Wrap"),Y.append("g").attr("class","bars2Wrap"),Y.append("g").attr("class","scatters1Wrap"),Y.append("g").attr("class","scatters2Wrap"),Y.append("g").attr("class","lines1Wrap"),Y.append("g").attr("class","lines2Wrap"),Y.append("g").attr("class","legendWrap"),Y.append("g").attr("class","nv-interactive");var X=q.select("g"),$=c.map((function(t,e){return c[e].color||a(t,e)}));if(l){var Z=T.align()?v/2:v,Q=T.align()?Z:0;T.width(Z),T.color($),X.select(".legendWrap").datum(c.map((function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":g),t}))).call(T),i||T.height()===n.top||(n.top=T.height(),B=r.utils.availableHeight(s,p,n)),X.select(".legendWrap").attr("transform","translate("+Q+","+-n.top+")")}else X.select(".legendWrap").selectAll("*").remove();x.width(v).height(B).interpolate(f).color($.filter((function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"line"==c[e].type}))),E.width(v).height(B).interpolate(f).color($.filter((function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"line"==c[e].type}))),M.width(v).height(B).color($.filter((function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"scatter"==c[e].type}))),k.width(v).height(B).color($.filter((function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"scatter"==c[e].type}))),A.width(v).height(B).color($.filter((function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"bar"==c[e].type}))),O.width(v).height(B).color($.filter((function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"bar"==c[e].type}))),D.width(v).height(B).interpolate(f).color($.filter((function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"area"==c[e].type}))),P.width(v).height(B).interpolate(f).color($.filter((function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"area"==c[e].type}))),X.attr("transform","translate("+n.left+","+n.top+")");var J=X.select(".lines1Wrap").datum(S.filter((function(t){return!t.disabled}))),tt=X.select(".scatters1Wrap").datum(F.filter((function(t){return!t.disabled}))),et=X.select(".bars1Wrap").datum(U.filter((function(t){return!t.disabled}))),nt=X.select(".stack1Wrap").datum(z.filter((function(t){return!t.disabled}))),rt=X.select(".lines2Wrap").datum(j.filter((function(t){return!t.disabled}))),it=X.select(".scatters2Wrap").datum(K.filter((function(t){return!t.disabled}))),at=X.select(".bars2Wrap").datum(N.filter((function(t){return!t.disabled}))),ot=X.select(".stack2Wrap").datum(V.filter((function(t){return!t.disabled}))),st=[];A.stacked()&&U.length&&(st=U.filter((function(t){return!t.disabled})).map((function(t){return t.values}))).length>0&&(st=st.reduce((function(t,e){return t.map((function(t,n){return{x:t.x,y:t.y+e[n].y}}))}))),U.length&&st.push({x:0,y:0});var lt=[];function ct(t){return d3.transpose(t).map((function(t){return t.map((function(t){return t.y}))})).map((function(t){return d3.sum(t)}))}if(O.stacked()&&N.length&&(lt=N.filter((function(t){return!t.disabled})).map((function(t){return t.values}))).length>0&&(lt=lt.reduce((function(t,e){return t.map((function(t,n){return{x:t.x,y:t.y+e[n].y}}))}))),N.length&&lt.push({x:0,y:0}),y.domain(t||d3.extent(d3.merge(G).concat(st),(function(t){return t.y}))).range([0,B]),b.domain(e||d3.extent(d3.merge(H).concat(lt),(function(t){return t.y}))).range([0,B]),x.yDomain(y.domain()),M.yDomain(y.domain()),A.stacked()){var ut=y.domain([0,d3.max(ct(G))]).range([0,B]);A.yDomain(ut.domain())}else A.yDomain(y.domain());if(D.yDomain(y.domain()),E.yDomain(b.domain()),k.yDomain(b.domain()),O.stacked()){var dt=b.domain([0,d3.max(ct(H))]).range([0,B]);O.yDomain(dt.domain())}else O.yDomain(b.domain());function ft(t){var e=2===t.series.yAxis?L:C;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},W.duration(0).headerFormatter((function(t,e){return w.tickFormat()(t,e)})).valueFormatter((function(t,n){return e.tickFormat()(t,n)})).data(t).hidden(!1)}function pt(t){var e=2===t.series.yAxis?L:C;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},W.duration(100).headerFormatter((function(t,e){return w.tickFormat()(t,e)})).valueFormatter((function(t,n){return e.tickFormat()(t,n)})).data(t).hidden(!1)}function _t(t){var e=2===t.series.yAxis?L:C;t.point.x=D.x()(t.point),t.point.y=D.y()(t.point),W.duration(0).headerFormatter((function(t,e){return w.tickFormat()(t,e)})).valueFormatter((function(t,n){return e.tickFormat()(t,n)})).data(t).hidden(!1)}function ht(t){var e=2===t.series.yAxis?L:C;t.value=A.x()(t.data),t.series={value:A.y()(t.data),color:t.color,key:t.data.key},W.duration(0).headerFormatter((function(t,e){return w.tickFormat()(t,e)})).valueFormatter((function(t,n){return e.tickFormat()(t,n)})).data(t).hidden(!1)}function gt(){for(var t=0,e=I.length;t<e;t++){var n=I[t];try{n.clearHighlights()}catch(t){}}}P.yDomain(b.domain()),z.length&&d3.transition(nt).call(D),V.length&&d3.transition(ot).call(P),U.length&&d3.transition(et).call(A),N.length&&d3.transition(at).call(O),S.length&&d3.transition(J).call(x),j.length&&d3.transition(rt).call(E),F.length&&d3.transition(tt).call(M),K.length&&d3.transition(it).call(k),w._ticks(r.utils.calcTicksX(v/100,c)).tickSize(-B,0),X.select(".nv-x.nv-axis").attr("transform","translate(0,"+B+")"),d3.transition(X.select(".nv-x.nv-axis")).call(w),C._ticks(r.utils.calcTicksY(B/36,c)).tickSize(-v,0),d3.transition(X.select(".nv-y1.nv-axis")).call(C),L._ticks(r.utils.calcTicksY(B/36,c)).tickSize(-v,0),d3.transition(X.select(".nv-y2.nv-axis")).call(L),X.select(".nv-y1.nv-axis").classed("nv-disabled",!G.length).attr("transform","translate("+m.range()[0]+",0)"),X.select(".nv-y2.nv-axis").classed("nv-disabled",!H.length).attr("transform","translate("+m.range()[1]+",0)"),T.dispatch.on("stateChange",(function(t){R.update()})),h&&(_.width(v).height(B).margin({left:n.left,top:n.top}).svgContainer(p).xScale(m),q.select(".nv-interactive").call(_)),h?(_.dispatch.on("elementMousemove",(function(t){gt();var e,n,i,o=[];c.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(s,l){var c=m.domain(),u=s.values.filter((function(t,e){return R.x()(t,e)>=c[0]&&R.x()(t,e)<=c[1]})),d=u[n=r.interactiveBisect(u,t.pointXValue,R.x())],f=R.y()(d,n);null===f||isNaN(f)||s.noHighlightSeries||function(t,e,n,r){var i={line:{yAxis1:{chart:x,data:S},yAxis2:{chart:E,data:j}},scatter:{yAxis1:{chart:M,data:F},yAxis2:{chart:k,data:K}},bar:{yAxis1:{chart:A,data:U},yAxis2:{chart:O,data:N}},area:{yAxis1:{chart:D,data:z},yAxis2:{chart:P,data:V}}},a=i[t.type]["yAxis"+t.yAxis].chart,o=i[t.type]["yAxis"+t.yAxis].data.reduce((function(e,n,r){return n.key===t.key?r:e}),0);try{a.highlightPoint(o,e,n,r)}catch(t){}}(s,n,!0),void 0!==d&&(void 0===e&&(e=d),void 0===i&&(i=m(R.x()(d,n))),o.push({key:s.key,value:f,color:a(s,s.seriesIndex),data:d,yAxis:2==s.yAxis?L:C}))})),_.tooltip.headerFormatter((function(t,e){return w.tickFormat()(t,e)})).valueFormatter(_.tooltip.valueFormatter()||function(t,e){var n=o[e].yAxis;return null==t?"N/A":n.tickFormat()(t)}).data({value:R.x()(e,n),index:n,series:o})(),_.renderGuideLine(i)})),_.dispatch.on("elementMouseout",(function(t){gt()}))):(x.dispatch.on("elementMouseover.tooltip",ft),E.dispatch.on("elementMouseover.tooltip",ft),x.dispatch.on("elementMouseout.tooltip",(function(t){W.hidden(!0)})),E.dispatch.on("elementMouseout.tooltip",(function(t){W.hidden(!0)})),M.dispatch.on("elementMouseover.tooltip",pt),k.dispatch.on("elementMouseover.tooltip",pt),M.dispatch.on("elementMouseout.tooltip",(function(t){W.hidden(!0)})),k.dispatch.on("elementMouseout.tooltip",(function(t){W.hidden(!0)})),D.dispatch.on("elementMouseover.tooltip",_t),P.dispatch.on("elementMouseover.tooltip",_t),D.dispatch.on("elementMouseout.tooltip",(function(t){W.hidden(!0)})),P.dispatch.on("elementMouseout.tooltip",(function(t){W.hidden(!0)})),A.dispatch.on("elementMouseover.tooltip",ht),O.dispatch.on("elementMouseover.tooltip",ht),A.dispatch.on("elementMouseout.tooltip",(function(t){W.hidden(!0)})),O.dispatch.on("elementMouseout.tooltip",(function(t){W.hidden(!0)})),A.dispatch.on("elementMousemove.tooltip",(function(t){W()})),O.dispatch.on("elementMousemove.tooltip",(function(t){W()})))})),R}return R.dispatch=B,R.legend=T,R.lines1=x,R.lines2=E,R.scatters1=M,R.scatters2=k,R.bars1=A,R.bars2=O,R.stack1=D,R.stack2=P,R.xAxis=w,R.yAxis1=C,R.yAxis2=L,R.tooltip=W,R.interactiveLayer=_,R.options=r.utils.optionsFunc.bind(R),R._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return m},set:function(t){m=t,w.scale(m)}},yDomain1:{get:function(){return t},set:function(e){t=e}},yDomain2:{get:function(){return e},set:function(t){e=t}},noData:{get:function(){return c},set:function(t){c=t}},interpolate:{get:function(){return f},set:function(t){f=t}},legendRightAxisHint:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return n},set:function(t){void 0!==t.top&&(n.top=t.top,i=t.top),n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return a},set:function(t){a=r.utils.getColor(t)}},x:{get:function(){return u},set:function(t){u=t,x.x(t),E.x(t),M.x(t),k.x(t),A.x(t),O.x(t),D.x(t),P.x(t)}},y:{get:function(){return d},set:function(t){d=t,x.y(t),E.y(t),M.y(t),k.y(t),D.y(t),P.y(t),A.y(t),O.y(t)}},useVoronoi:{get:function(){return p},set:function(t){p=t,x.useVoronoi(t),E.useVoronoi(t),D.useVoronoi(t),P.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return h},set:function(t){(h=t)&&(x.interactive(!1),x.useVoronoi(!1),E.interactive(!1),E.useVoronoi(!1),D.interactive(!1),D.useVoronoi(!1),P.interactive(!1),P.useVoronoi(!1),M.interactive(!1),k.interactive(!1))}},duration:{get:function(){return v},set:function(t){v=t,[x,E,D,P,M,k,w,C,L].forEach((function(t){t.duration(v)}))}}}),r.utils.initOptions(R),R},r.models.ohlcBar=function(){"use strict";var t,e,n,i,a={top:0,right:0,bottom:0,left:0},o=null,s=null,l=Math.floor(1e4*Math.random()),c=null,u=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},_=function(t){return t.open},h=function(t){return t.close},g=function(t){return t.high},v=function(t){return t.low},m=[],y=[],b=!1,x=!0,E=r.utils.defaultColor(),M=!1,k=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function A(M){return M.each((function(M){c=d3.select(this);var A=r.utils.availableWidth(o,c,a),O=r.utils.availableHeight(s,c,a);r.utils.initSVG(c);var D=A/M[0].values.length*.9;u.domain(t||d3.extent(M[0].values.map(f).concat(m))),b?u.range(n||[.5*A/M[0].values.length,A*(M[0].values.length-.5)/M[0].values.length]):u.range(n||[5+D/2,A-D/2-5]),d.domain(e||[d3.min(M[0].values.map(v).concat(y)),d3.max(M[0].values.map(g).concat(y))]).range(i||[O,0]),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var P=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([M[0].values]),w=P.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),C=w.append("defs"),L=w.append("g"),T=P.select("g");L.append("g").attr("class","nv-ticks"),P.attr("transform","translate("+a.left+","+a.top+")"),c.on("click",(function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:l})})),C.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),P.select("#nv-chart-clip-path-"+l+" rect").attr("width",A).attr("height",O),T.attr("clip-path",x?"url(#nv-chart-clip-path-"+l+")":"");var W=P.select(".nv-ticks").selectAll(".nv-tick").data((function(t){return t}));W.exit().remove(),W.enter().append("path").attr("class",(function(t,e,n){return(_(t,e)>h(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e})).attr("d",(function(t,e){return"m0,0l0,"+(d(_(t,e))-d(g(t,e)))+"l"+-D/2+",0l"+D/2+",0l0,"+(d(v(t,e))-d(_(t,e)))+"l0,"+(d(h(t,e))-d(v(t,e)))+"l"+D/2+",0l"+-D/2+",0z"})).attr("transform",(function(t,e){return"translate("+u(f(t,e))+","+d(g(t,e))+")"})).attr("fill",(function(t,e){return E[0]})).attr("stroke",(function(t,e){return E[0]})).attr("x",0).attr("y",(function(t,e){return d(Math.max(0,p(t,e)))})).attr("height",(function(t,e){return Math.abs(d(p(t,e))-d(0))})),W.attr("class",(function(t,e,n){return(_(t,e)>h(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e})),d3.transition(W).attr("transform",(function(t,e){return"translate("+u(f(t,e))+","+d(g(t,e))+")"})).attr("d",(function(t,e){var n=A/M[0].values.length*.9;return"m0,0l0,"+(d(_(t,e))-d(g(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(d(v(t,e))-d(_(t,e)))+"l0,"+(d(h(t,e))-d(v(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}))})),A}return A.highlightPoint=function(t,e){A.clearHighlights(),c.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},A.clearHighlights=function(){c.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},A.dispatch=k,A.options=r.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},xScale:{get:function(){return u},set:function(t){u=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},forceX:{get:function(){return m},set:function(t){m=t}},forceY:{get:function(){return y},set:function(t){y=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return p},set:function(t){p=t}},open:{get:function(){return _()},set:function(t){_=t}},close:{get:function(){return h()},set:function(t){h=t}},high:{get:function(){return g},set:function(t){g=t}},low:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return a},set:function(t){a.top=null!=t.top?t.top:a.top,a.right=null!=t.right?t.right:a.right,a.bottom=null!=t.bottom?t.bottom:a.bottom,a.left=null!=t.left?t.left:a.left}},color:{get:function(){return E},set:function(t){E=r.utils.getColor(t)}}}),r.utils.initOptions(A),A},r.models.parallelCoordinates=function(){"use strict";var t,e,n,i={top:30,right:0,bottom:10,left:0},a=null,o=null,s=null,l=null,c=d3.scale.ordinal(),u={},d="undefined values",f=[],p=[],_=[],h=!0,g=r.utils.defaultColor(),v=[],m=[],y=[],b=[],x=1,E=d3.svg.line(),M=d3.svg.axis(),k=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),A=r.utils.renderWatch(k);function O(D){return A.reset(),D.each((function(A){var O=d3.select(this);if(s=r.utils.availableWidth(a,O,i),l=r.utils.availableHeight(o,O,i),r.utils.initSVG(O),void 0===A[0].values){var D=[];A.forEach((function(t){var e={};Object.keys(t).forEach((function(n){"name"!==n&&(e[n]=t[n])})),D.push({key:t.name,values:e})})),A=D}var P=A.map((function(t){return t.values}));0===m.length&&(m=A),_=f.sort((function(t,e){return t.currentPosition-e.currentPosition})).map((function(t){return t.key})),p=f.filter((function(t){return!t.disabled})),c.rangePoints([0,s],1).domain(p.map((function(t){return t.key})));var w={},C=!1,L=[];_.forEach((function(t){var e=d3.extent(P,(function(e){return+e[t]})),n=e[0],r=e[1],i=!1;(isNaN(n)||isNaN(r))&&(i=!0,n=0,r=0),n===r&&(n-=1,r+=1);var a=v.filter((function(e){return e.dimension==t}));0!==a.length&&(i?(n=u[t].domain()[0],r=u[t].domain()[1]):!a[0].hasOnlyNaN&&h?(n=n>a[0].extent[0]?a[0].extent[0]:n,r=r<a[0].extent[1]?a[0].extent[1]:r):a[0].hasNaN&&(r=r<a[0].extent[1]?a[0].extent[1]:r,w[t]=u[t].domain()[1],C=!0)),u[t]=d3.scale.linear().domain([n,r]).range([.9*(l-12),0]),b=[],u[t].brush=d3.svg.brush().y(u[t]).on("brushstart",H).on("brush",q).on("brushend",Y)}));var T=O.selectAll("g.nv-wrap.nv-parallelCoordinates").data([A]),W=T.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),B=T.select("g");W.append("g").attr("class","nv-parallelCoordinates background"),W.append("g").attr("class","nv-parallelCoordinates foreground"),W.append("g").attr("class","nv-parallelCoordinates missingValuesline"),T.attr("transform","translate("+i.left+","+i.top+")"),E.interpolate("cardinal").tension(x),M.orient("left");var I,R,S=d3.behavior.drag().on("dragstart",(function(t){y[t.key]=this.parentNode.__origin__=c(t.key),e.attr("visibility","hidden")})).on("drag",(function(e){y[e.key]=Math.min(s,Math.max(0,this.parentNode.__origin__+=d3.event.x)),t.attr("d",V),p.sort((function(t,e){return $(t.key)-$(e.key)})),p.forEach((function(t,e){return t.currentPosition=e})),c.domain(p.map((function(t){return t.key}))),n.attr("transform",(function(t){return"translate("+$(t.key)+")"}))})).on("dragend",(function(n,r){delete this.parentNode.__origin__,delete y[n.key],d3.select(this.parentNode).attr("transform","translate("+c(n.key)+")"),t.attr("d",V),e.attr("d",V).attr("visibility",null),k.dimensionsOrder(p)})),j=c.range()[1]-c.range()[0];if(j=isNaN(j)?c.range()[0]:j,!isNaN(j)){var F=[0+j/2,l-12,s-j/2,l-12];(I=T.select(".missingValuesline").selectAll("line").data([F])).enter().append("line"),I.exit().remove(),I.attr("x1",(function(t){return t[0]})).attr("y1",(function(t){return t[1]})).attr("x2",(function(t){return t[2]})).attr("y2",(function(t){return t[3]})),(R=T.select(".missingValuesline").selectAll("text").data([d])).append("text").data([d]),R.enter().append("text"),R.exit().remove(),R.attr("y",l).attr("x",s-92-j/2).text((function(t){return t}))}(e=T.select(".background").selectAll("path").data(A)).enter().append("path"),e.exit().remove(),e.attr("d",V),(t=T.select(".foreground").selectAll("path").data(A)).enter().append("path"),t.exit().remove(),t.attr("d",V).style("stroke-width",(function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth})).attr("stroke",(function(t,e){return t.color||g(t,e)})),t.on("mouseover",(function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),k.elementMouseover({label:t.name,color:t.color||g(t,e),values:t.values,dimensions:p})})),t.on("mouseout",(function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),k.elementMouseout({label:t.name,index:e})})),t.on("mousemove",(function(t,e){k.elementMousemove()})),t.on("click",(function(t){k.elementClick({id:t.id})}));var K=(n=B.selectAll(".dimension").data(p)).enter().append("g").attr("class","nv-parallelCoordinates dimension");n.attr("transform",(function(t){return"translate("+c(t.key)+",0)"})),K.append("g").attr("class","nv-axis"),K.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",(function(t,e){k.elementMouseover({label:t.tooltip||t.key,color:t.color})})).on("mouseout",(function(t,e){k.elementMouseout({label:t.tooltip})})).on("mousemove",(function(t,e){k.elementMousemove()})).call(S),K.append("g").attr("class","nv-brushBackground"),n.exit().remove(),n.select(".nv-label").text((function(t){return t.key})),G(h);var U=_.filter((function(t){return!u[t].brush.empty()})),N=U.map((function(t){return u[t].brush.extent()})),z=m.slice(0);function V(t){return E(p.map((function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||C){var n=u[e.key].domain(),r=u[e.key].range(),i=n[0]-(n[1]-n[0])/9;if(b.indexOf(e.key)<0){var a=d3.scale.linear().domain([i,n[1]]).range([l-12,r[1]]);u[e.key].brush.y(a),b.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[c(e.key),u[e.key](i)]}return void 0!==I&&(b.length>0||C?(I.style("display","inline"),R.style("display","inline")):(I.style("display","none"),R.style("display","none"))),[c(e.key),u[e.key](t.values[e.key])]})))}function G(t){v.forEach((function(e){var n=u[e.dimension].brush.y().domain();e.hasOnlyNaN&&(e.extent[1]=(u[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(w[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&u[e.dimension].brush.extent(e.extent)})),n.select(".nv-brushBackground").each((function(t){d3.select(this).call(u[t.key].brush)})).selectAll("rect").attr("x",-8).attr("width",16),X()}function H(){!1===h&&(h=!0,G(!0))}function q(){U=_.filter((function(t){return!u[t].brush.empty()})),N=U.map((function(t){return u[t].brush.extent()})),v=[],U.forEach((function(t,e){v[e]={dimension:t,extent:N[e],hasNaN:!1,hasOnlyNaN:!1}})),m=[],t.style("display",(function(t){var e=U.every((function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||N[n][0]!=u[e].brush.y().domain()[0])||N[n][0]<=t.values[e]&&t.values[e]<=N[n][1]&&!isNaN(parseFloat(t.values[e]))}));return e&&m.push(t),e?null:"none"})),X(),k.brush({filters:v,active:m})}function Y(){var t=U.length>0;v.forEach((function(t){t.extent[0]===u[t.dimension].brush.y().domain()[0]&&b.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<u[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)})),k.brushEnd(m,t)}function X(){n.select(".nv-axis").each((function(t,e){var n=v.filter((function(e){return e.dimension==t.key}));L[t.key]=u[t.key].domain(),0!=n.length&&h&&(L[t.key]=[],n[0].extent[1]>u[t.key].domain()[0]&&(L[t.key]=[n[0].extent[1]]),n[0].extent[0]>=u[t.key].domain()[0]&&L[t.key].push(n[0].extent[0])),d3.select(this).call(M.scale(u[t.key]).tickFormat(t.format).tickValues(L[t.key]))}))}function $(t){var e=y[t];return null==e?c(t):e}m=[],t.style("display",(function(t){var e=U.every((function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||N[n][0]!=u[e].brush.y().domain()[0])||N[n][0]<=t.values[e]&&t.values[e]<=N[n][1]&&!isNaN(parseFloat(t.values[e]))}));return e&&m.push(t),e?null:"none"})),(v.length>0||!r.utils.arrayEquals(m,z))&&k.activeChanged(m)})),O}return O.dispatch=k,O.options=r.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return o},set:function(t){o=t}},dimensionData:{get:function(){return f},set:function(t){f=t}},displayBrush:{get:function(){return h},set:function(t){h=t}},filters:{get:function(){return v},set:function(t){v=t}},active:{get:function(){return m},set:function(t){m=t}},lineTension:{get:function(){return x},set:function(t){x=t}},undefinedValuesLabel:{get:function(){return d},set:function(t){d=t}},dimensions:{get:function(){return f.map((function(t){return t.key}))},set:function(t){r.deprecated("dimensions","use dimensionData instead"),0===f.length?t.forEach((function(t){f.push({key:t})})):t.forEach((function(t,e){f[e].key=t}))}},dimensionNames:{get:function(){return f.map((function(t){return t.key}))},set:function(t){r.deprecated("dimensionNames","use dimensionData instead"),_=[],0===f.length?t.forEach((function(t){f.push({key:t})})):t.forEach((function(t,e){f[e].key=t}))}},dimensionFormats:{get:function(){return f.map((function(t){return t.format}))},set:function(t){r.deprecated("dimensionFormats","use dimensionData instead"),0===f.length?t.forEach((function(t){f.push({format:t})})):t.forEach((function(t,e){f[e].format=t}))}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return g},set:function(t){g=r.utils.getColor(t)}}}),r.utils.initOptions(O),O},r.models.parallelCoordinatesChart=function(){"use strict";var t=r.models.parallelCoordinates(),e=r.models.legend(),n=r.models.tooltip(),i=(r.models.tooltip(),{top:0,right:0,bottom:0,left:0}),a=null,o=null,s=null,l=!0,c=r.utils.defaultColor(),u=r.utils.state(),d=[],f=!0,p=null,_=null,h="undefined",g=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),v=r.utils.renderWatch(g);function m(n){return v.reset(),v.models(t),n.each((function(n){var c=d3.select(this);r.utils.initSVG(c);var _,h=r.utils.availableWidth(o,c,i),v=r.utils.availableHeight(s,c,i);if(m.update=function(){c.call(m)},m.container=this,u.setter(function(t){return function(e){void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(d),m.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled}))}}}(d)).update(),u.disabled=d.map((function(t){return!!t.disabled})),(d=d.map((function(t){return t.disabled=!!t.disabled,t}))).forEach((function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition})),!p)for(_ in p={},u)u[_]instanceof Array?p[_]=u[_].slice(0):p[_]=u[_];if(!n||!n.length)return r.utils.noData(m,c),m;c.selectAll(".nv-noData").remove();var y=c.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([n]),b=y.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),x=y.select("g");b.append("g").attr("class","nv-parallelCoordinatesWrap"),b.append("g").attr("class","nv-legendWrap"),x.select("rect").attr("width",h).attr("height",v>0?v:0),l?(e.width(h).color((function(t){return"rgb(188,190,192)"})),x.select(".nv-legendWrap").datum(d.sort((function(t,e){return t.originalPosition-e.originalPosition}))).call(e),a||e.height()===i.top||(i.top=e.height(),v=r.utils.availableHeight(s,c,i)),y.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-i.top+")")):x.select(".nv-legendWrap").selectAll("*").remove(),y.attr("transform","translate("+i.left+","+i.top+")"),t.width(h).height(v).dimensionData(d).displayBrush(f),x.select(".nv-parallelCoordinatesWrap ").datum(n).transition().call(t),t.dispatch.on("brushEnd",(function(t,e){e?(f=!0,g.brushEnd(t)):f=!1})),e.dispatch.on("stateChange",(function(t){for(var e in t)u[e]=t[e];g.stateChange(u),m.update()})),t.dispatch.on("dimensionsOrder",(function(t){d.sort((function(t,e){return t.currentPosition-e.currentPosition}));var e=!1;d.forEach((function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)})),g.dimensionsOrder(d,e)})),g.on("changeState",(function(t){void 0!==t.disabled&&(d.forEach((function(e,n){e.disabled=t.disabled[n]})),u.disabled=t.disabled),m.update()}))})),v.renderEnd("parraleleCoordinateChart immediate"),m}return n.contentGenerator((function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach((function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"})),e+="</tbody>"),e+="</table>"})),t.dispatch.on("elementMouseover.tooltip",(function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach((function(n){var r,i=t.dimensions.filter((function(t){return t.key===n}))[0];i&&(r=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?h:i.format(t.values[n]),e.series.push({idx:i.currentPosition,key:n,value:r,color:i.color}))})),e.series.sort((function(t,e){return t.idx-e.idx}))),n.data(e).hidden(!1)})),t.dispatch.on("elementMouseout.tooltip",(function(t){n.hidden(!0)})),t.dispatch.on("elementMousemove.tooltip",(function(){n()})),m.dispatch=g,m.parallelCoordinates=t,m.legend=e,m.tooltip=n,m.options=r.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},defaultState:{get:function(){return p},set:function(t){p=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return _},set:function(t){_=t}},nanValue:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,a=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return c},set:function(n){c=r.utils.getColor(n),e.color(c),t.color(c)}}}),r.utils.inheritOptions(m,t),r.utils.initOptions(m),m},r.models.pie=function(){"use strict";var t={top:0,right:0,bottom:0,left:0},e=500,n=500,i=function(t){return t.x},a=function(t){return t.y},o=Math.floor(1e4*Math.random()),s=null,l=r.utils.defaultColor(),c=d3.format(",.2f"),u=!0,d=!1,f="key",p=.02,_=!1,h=!1,g=!1,v=!0,m=0,y=!1,b=!1,x=!1,E=!1,M=0,k=.5,A=250,O=[],D=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),P=[],w=[],C=r.utils.renderWatch(D);function L(T){return C.reset(),T.each((function(L){var T=e-t.left-t.right,W=n-t.top-t.bottom,B=Math.min(T,W)/2,I=[],R=[];if(s=d3.select(this),0===O.length)for(var S=B-B/10,j=k*B,F=0;F<L[0].length;F++)I.push(S),R.push(j);else v?(I=O.map((function(t){return(t.outer-t.outer/10)*B})),R=O.map((function(t){return(t.inner-t.inner/10)*B})),k=d3.min(O.map((function(t){return t.inner-t.inner/10})))):(I=O.map((function(t){return t.outer*B})),R=O.map((function(t){return t.inner*B})),k=d3.min(O.map((function(t){return t.inner}))));r.utils.initSVG(s);var K=s.selectAll(".nv-wrap.nv-pie").data(L),U=K.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+o).append("g"),N=K.select("g"),z=U.append("g").attr("class","nv-pie");for(U.append("g").attr("class","nv-pieLabels"),K.attr("transform","translate("+t.left+","+t.top+")"),N.select(".nv-pie").attr("transform","translate("+T/2+","+W/2+")"),N.select(".nv-pieLabels").attr("transform","translate("+T/2+","+W/2+")"),s.on("click",(function(t,e){D.chartClick({data:t,index:e,pos:d3.event,id:o})})),P=[],w=[],F=0;F<L[0].length;F++){var V=d3.svg.arc().outerRadius(I[F]),G=d3.svg.arc().outerRadius(I[F]+5);!1!==b&&(V.startAngle(b),G.startAngle(b)),!1!==E&&(V.endAngle(E),G.endAngle(E)),h&&(V.innerRadius(R[F]),G.innerRadius(R[F])),V.cornerRadius&&M&&(V.cornerRadius(M),G.cornerRadius(M)),P.push(V),w.push(G)}var H=d3.layout.pie().sort(null).value((function(t){return t.disabled?0:a(t)}));H.padAngle&&x&&H.padAngle(x),h&&g&&(z.append("text").attr("class","nv-pie-title"),K.select(".nv-pie-title").style("text-anchor","middle").text((function(t){return g})).style("font-size",Math.min(T,W)*k*2/(g.length+2)+"px").attr("dy","0.35em").attr("transform",(function(t,e){return"translate(0, "+m+")"})));var q=K.select(".nv-pie").selectAll(".nv-slice").data(H),Y=K.select(".nv-pieLabels").selectAll(".nv-label").data(H);q.exit().remove(),Y.exit().remove();var X=q.enter().append("g");if(X.attr("class","nv-slice"),X.on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),v&&d3.select(this).select("path").transition().duration(70).attr("d",w[e]),D.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})})),X.on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),v&&d3.select(this).select("path").transition().duration(50).attr("d",P[e]),D.elementMouseout({data:t.data,index:e})})),X.on("mousemove",(function(t,e){D.elementMousemove({data:t.data,index:e})})),X.on("click",(function(t,e){D.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})})),X.on("dblclick",(function(t,e){D.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})})),q.attr("fill",(function(t,e){return l(t.data,e)})),q.attr("stroke",(function(t,e){return l(t.data,e)})),X.append("path").each((function(t){this._current=t})),q.select("path").transition().duration(A).attr("d",(function(t,e){return P[e](t)})).attrTween("d",(function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,h||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return P[e](n(t))}})),u){var $=[];for(F=0;F<L[0].length;F++)$.push(P[F]),d?h&&($[F]=d3.svg.arc().outerRadius(P[F].outerRadius()),!1!==b&&$[F].startAngle(b),!1!==E&&$[F].endAngle(E)):h||$[F].innerRadius(0);Y.enter().append("g").classed("nv-label",!0).each((function(t,e){var n=d3.select(this);n.attr("transform",(function(t,e){if(y){t.outerRadius=I[e]+10,t.innerRadius=I[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+$[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=B+10,t.innerRadius=B+15,"translate("+$[e].centroid(t)+")"})),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",y?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")}));var Z={},Q=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},J=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};Y.watchTransition(C,"pie labels").attr("transform",(function(t,e){if(y){t.outerRadius=I[e]+10,t.innerRadius=I[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+$[e].centroid(t)+") rotate("+n+")"}t.outerRadius=B+10,t.innerRadius=B+15;var r=$[e].centroid(t),i=J(t);if(t.value&&i>=p){var a=Q(r);Z[a]&&(r[1]-=14),Z[Q(r)]=!0}return"translate("+r+")"})),Y.select(".nv-label text").style("text-anchor",(function(t,e){return y?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"})).text((function(t,e){var n=J(t),r="";if(!t.value||n<p)return"";if("function"==typeof f)r=f(t,e,{key:i(t.data),value:a(t.data),percent:c(n)});else switch(f){case"key":r=i(t.data);break;case"value":r=c(a(t.data));break;case"percent":r=d3.format("%")(n)}return r})),_&&Y.each((function(t,e){if(this.getBBox){var n=this.getBBox(),i=$[e].centroid(t),a={x:i[0]+n.x,y:i[1]+n.y},o={x:a.x+n.width,y:a.y},s={x:a.x,y:a.y+n.height},l={x:a.x+n.width,y:a.y+n.height};t.visible=r.utils.pointIsInArc(a,t,V)&&r.utils.pointIsInArc(o,t,V)&&r.utils.pointIsInArc(s,t,V)&&r.utils.pointIsInArc(l,t,V)}})).style("display",(function(t){return t.visible?null:"none"}))}})),C.renderEnd("pie immediate"),L}return L.dispatch=D,L.options=r.utils.optionsFunc.bind(L),L._options=Object.create({},{arcsRadius:{get:function(){return O},set:function(t){O=t}},width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return n},set:function(t){n=t}},showLabels:{get:function(){return u},set:function(t){u=t}},title:{get:function(){return g},set:function(t){g=t}},titleOffset:{get:function(){return m},set:function(t){m=t}},labelThreshold:{get:function(){return p},set:function(t){p=t}},hideOverlapLabels:{get:function(){return _},set:function(t){_=t}},valueFormat:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return o},set:function(t){o=t}},endAngle:{get:function(){return E},set:function(t){E=t}},startAngle:{get:function(){return b},set:function(t){b=t}},padAngle:{get:function(){return x},set:function(t){x=t}},cornerRadius:{get:function(){return M},set:function(t){M=t}},donutRatio:{get:function(){return k},set:function(t){k=t}},labelsOutside:{get:function(){return d},set:function(t){d=t}},labelSunbeamLayout:{get:function(){return y},set:function(t){y=t}},donut:{get:function(){return h},set:function(t){h=t}},growOnHover:{get:function(){return v},set:function(t){v=t}},pieLabelsOutside:{get:function(){return d},set:function(t){d=t,r.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return d},set:function(t){d=t,r.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return c},set:function(t){c=t,r.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},duration:{get:function(){return A},set:function(t){A=t,C.reset(A)}},y:{get:function(){return a},set:function(t){a=d3.functor(t)}},color:{get:function(){return l},set:function(t){l=r.utils.getColor(t)}},labelType:{get:function(){return f},set:function(t){f=t||"key"}}}),r.utils.initOptions(L),L},r.models.pieChart=function(){"use strict";var t=r.models.pie(),e=r.models.legend(),n=r.models.tooltip(),i={top:30,right:20,bottom:20,left:20},a=null,o=null,s=null,l=!1,c=!0,u="top",d=r.utils.defaultColor(),f=r.utils.state(),p=null,_=null,h=250,g=d3.dispatch("stateChange","changeState","renderEnd");n.duration(0).headerEnabled(!1).valueFormatter((function(e,n){return t.valueFormat()(e,n)}));var v=r.utils.renderWatch(g);function m(n){return v.reset(),v.models(t),n.each((function(n){var l=d3.select(this);r.utils.initSVG(l);var d,_=r.utils.availableWidth(o,l,i),h=r.utils.availableHeight(s,l,i);if(m.update=function(){l.transition().call(m)},m.container=this,f.setter(function(t){return function(e){void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(n),m.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled}))}}}(n)).update(),f.disabled=n.map((function(t){return!!t.disabled})),!p)for(d in p={},f)f[d]instanceof Array?p[d]=f[d].slice(0):p[d]=f[d];if(!n||!n.length)return r.utils.noData(m,l),m;l.selectAll(".nv-noData").remove();var v=l.selectAll("g.nv-wrap.nv-pieChart").data([n]),y=v.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),b=v.select("g");if(y.append("g").attr("class","nv-pieWrap"),y.append("g").attr("class","nv-legendWrap"),c)if("top"===u)e.width(_).key(t.x()),v.select(".nv-legendWrap").datum(n).call(e),a||e.height()===i.top||(i.top=e.height(),h=r.utils.availableHeight(s,l,i)),v.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")");else if("right"===u){var x=r.models.legend().width();_/2<x&&(x=_/2),e.height(h).key(t.x()),e.width(x),_-=e.width(),v.select(".nv-legendWrap").datum(n).call(e).attr("transform","translate("+_+",0)")}else"bottom"===u&&(e.width(_).key(t.x()),v.select(".nv-legendWrap").datum(n).call(e),i.bottom=e.height(),h=r.utils.availableHeight(s,l,i),v.select(".nv-legendWrap").attr("transform","translate(0,"+h+")"));else b.select(".nv-legendWrap").selectAll("*").remove();v.attr("transform","translate("+i.left+","+i.top+")"),t.width(_).height(h);var E=b.select(".nv-pieWrap").datum([n]);d3.transition(E).call(t),e.dispatch.on("stateChange",(function(t){for(var e in t)f[e]=t[e];g.stateChange(f),m.update()})),g.on("changeState",(function(t){void 0!==t.disabled&&(n.forEach((function(e,n){e.disabled=t.disabled[n]})),f.disabled=t.disabled),m.update()}))})),v.renderEnd("pieChart immediate"),m}return t.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:m.x()(t.data),value:m.y()(t.data),color:t.color,percent:t.percent},l||(delete t.percent,delete t.series.percent),n.data(t).hidden(!1)})),t.dispatch.on("elementMouseout.tooltip",(function(t){n.hidden(!0)})),t.dispatch.on("elementMousemove.tooltip",(function(t){n()})),m.legend=e,m.dispatch=g,m.pie=t,m.tooltip=n,m.options=r.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},noData:{get:function(){return _},set:function(t){_=t}},showTooltipPercent:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return c},set:function(t){c=t}},legendPosition:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return p},set:function(t){p=t}},color:{get:function(){return d},set:function(n){d=n,e.color(d),t.color(d)}},duration:{get:function(){return h},set:function(e){h=e,v.reset(h),t.duration(h)}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,a=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),r.utils.inheritOptions(m,t),r.utils.initOptions(m),m},r.models.sankey=function(){"use strict";var t={},e=24,n=8,i=[1,1],a=[],o=[],s=!0,l=function(t){a.forEach((function(t){t.sourceLinks=[],t.targetLinks=[]})),o.forEach((function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=a[t.source]),"number"==typeof n&&(n=t.target=a[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})),a.forEach((function(t){t.value=Math.max(d3.sum(t.sourceLinks,f),d3.sum(t.targetLinks,f))})),function(){for(var t,n,r=a,o=0;r.length&&o<a.length;)t=[],r.forEach((function(n){n.x=o,n.dx=e,n.sourceLinks.forEach((function(e){t.indexOf(e.target)<0&&t.push(e.target)}))})),r=t,++o;s&&function(t){a.forEach((function(e){e.sourceLinks.length||(e.x=t-1)}))}(o),n=(i[0]-e)/(o-1),a.forEach((function(t){t.x*=n}))}(),function(t){var e,r=d3.nest().key((function(t){return t.x})).sortKeys(d3.ascending).entries(a).map((function(t){return t.values}));e=d3.min(r,(function(t){return(i[1]-(t.length-1)*n)/d3.sum(t,f)})),r.forEach((function(t){t.forEach((function(t,n){t.y=n,t.dy=t.value*e}))})),o.forEach((function(t){t.dy=t.value*e})),p(),d();for(var s=1;t>0;--t)c(s*=.99),p(),d(),l(s),p(),d();function l(t){function e(t){return(t.source.y+t.sy+t.dy/2)*t.value}r.forEach((function(n,r){n.forEach((function(n){if(n.targetLinks.length){var r=d3.sum(n.targetLinks,e)/d3.sum(n.targetLinks,f);n.y+=(r-u(n))*t}}))}))}function c(t){function e(t){return(t.target.y+t.ty+t.dy/2)*t.value}r.slice().reverse().forEach((function(n){n.forEach((function(n){if(n.sourceLinks.length){var r=d3.sum(n.sourceLinks,e)/d3.sum(n.sourceLinks,f);n.y+=(r-u(n))*t}}))}))}function p(){r.forEach((function(t){var e,r,a,o=0,s=t.length;for(t.sort(_),a=0;a<s;++a)(r=o-(e=t[a]).y)>0&&(e.y+=r),o=e.y+e.dy+n;if((r=o-n-i[1])>0)for(o=e.y-=r,a=s-2;a>=0;--a)(r=(e=t[a]).y+e.dy+n-o)>0&&(e.y-=r),o=e.y}))}function _(t,e){return t.y-e.y}}(t)},c=function(){var t=.5;function e(e){var n=e.source.x+e.source.dx,r=e.target.x,i=d3.interpolateNumber(n,r),a=i(t),o=i(1-t),s=e.source.y+e.sy+e.dy/2,l=e.target.y+e.ty+e.dy/2;return"M"+n+","+s+"C"+a+","+s+" "+o+","+l+" "+r+","+l}return e.curvature=function(n){return arguments.length?(t=+n,e):t},e},u=function(t){return t.y+t.dy/2};function d(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}a.forEach((function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)})),a.forEach((function(t){var e=0,n=0;t.sourceLinks.forEach((function(t){t.sy=e,e+=t.dy})),t.targetLinks.forEach((function(t){t.ty=n,n+=t.dy}))}))}function f(t){return t.value}return t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{nodeWidth:{get:function(){return e},set:function(t){e=+t}},nodePadding:{get:function(){return n},set:function(t){n=t}},nodes:{get:function(){return a},set:function(t){a=t}},links:{get:function(){return o},set:function(t){o=t}},size:{get:function(){return i},set:function(t){i=t}},sinksRight:{get:function(){return s},set:function(t){s=t}},layout:{get:function(){l(32)},set:function(t){l(t)}},relayout:{get:function(){d()},set:function(t){}},center:{get:function(){return u()},set:function(t){"function"==typeof t&&(u=t)}},link:{get:function(){return c()},set:function(t){return"function"==typeof t&&(c=t),c()}}}),r.utils.initOptions(t),t},r.models.sankeyChart=function(){"use strict";var t={top:5,right:0,bottom:5,left:0},e=r.models.sankey(),n=600,i=400,a=36,o=40,s="units",l=void 0,c=d3.format(",.0f"),u=function(t){return c(t)+" "+s},d=d3.scale.category20(),f=function(t){return t.source.name+" → "+t.target.name+"\n"+u(t.value)},p=function(t){return t.color=d(t.name.replace(/ .*/,""))},_=function(t){return d3.rgb(t.color).darker(2)},h=function(t){return t.name+"\n"+u(t.value)},g=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};function v(t){return t.each((function(r){var s={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},c=!1,u=!1;if(("object"==typeof r.nodes&&r.nodes.length)>=0&&("object"==typeof r.links&&r.links.length)>=0&&(c=!0),r.nodes&&r.nodes.length>0&&r.links&&r.links.length>0&&(u=!0),!c)return console.error("NVD3 Sankey chart error:","invalid data format for",r),console.info("Valid data format is: ",s,JSON.stringify(s)),g(t,"Error loading chart, data is invalid"),!1;if(!u)return g(t,"No data available"),!1;var d=t.append("svg").attr("width",n).attr("height",i).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");e.nodeWidth(a).nodePadding(o).size([n,i]);var v=e.link();e.nodes(r.nodes).links(r.links).layout(32).center(l);var m=d.append("g").selectAll(".link").data(r.links).enter().append("path").attr("class","link").attr("d",v).style("stroke-width",(function(t){return Math.max(1,t.dy)})).sort((function(t,e){return e.dy-t.dy}));m.append("title").text(f);var y=d.append("g").selectAll(".node").data(r.nodes).enter().append("g").attr("class","node").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).call(d3.behavior.drag().origin((function(t){return t})).on("dragstart",(function(){this.parentNode.appendChild(this)})).on("drag",(function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(i-t.dy,d3.event.y)))+")"),e.relayout(),m.attr("d",v)})));y.append("rect").attr("height",(function(t){return t.dy})).attr("width",e.nodeWidth()).style("fill",p).style("stroke",_).append("title").text(h),y.append("text").attr("x",-6).attr("y",(function(t){return t.dy/2})).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text((function(t){return t.name})).filter((function(t){return t.x<n/2})).attr("x",6+e.nodeWidth()).attr("text-anchor","start")})),v}return v.options=r.utils.optionsFunc.bind(v),v._options=Object.create({},{units:{get:function(){return s},set:function(t){s=t}},width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return i},set:function(t){i=t}},format:{get:function(){return u},set:function(t){u=t}},linkTitle:{get:function(){return f},set:function(t){f=t}},nodeWidth:{get:function(){return a},set:function(t){a=t}},nodePadding:{get:function(){return o},set:function(t){o=t}},center:{get:function(){return l},set:function(t){l=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},nodeStyle:{get:function(){return{}},set:function(t){p=void 0!==t.fillColor?t.fillColor:p,_=void 0!==t.strokeColor?t.strokeColor:_,h=void 0!==t.title?t.title:h}}}),r.utils.initOptions(v),v},r.models.scatter=function(){"use strict";var t,e,n,i,a,o,s,l,c={top:0,right:0,bottom:0,left:0},u=null,d=null,f=r.utils.defaultColor(),p=null,_=Math.floor(1e5*Math.random()),h=null,g=d3.scale.linear(),v=d3.scale.linear(),m=d3.scale.linear(),y=function(t){return t.x},b=function(t){return t.y},x=function(t){return t.size||1},E=function(t){return t.shape||"circle"},M=[],k=[],A=[],O=!0,D=function(t){return!t.notActive},P=!1,w=.1,C=!1,L=!0,T=!1,W=function(){return 25},B=null,I=null,R=null,S=null,j=null,F=null,K=!1,U=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),N=!0,z=250,V=300,G=!1,H=!1,q=r.utils.renderWatch(U,z),Y=[16,256],X={};function $(t){var e;return e=t[0].series+":"+t[1],X[e]=X[e]||{}}function Z(t){var e;e=t[0].series+":"+t[1],delete X[e]}function Q(t){var e,n,r,i=$(t),a=!1;for(e=1;e<arguments.length;e+=2)n=arguments[e],r=arguments[e+1](t[0],t[1]),i[n]===r&&i.hasOwnProperty(n)||(i[n]=r,a=!0);return a}function J(z){return q.reset(),z.each((function(z){h=d3.select(this);var X=r.utils.availableWidth(u,h,c),$=r.utils.availableHeight(d,h,c);r.utils.initSVG(h),z.forEach((function(t,e){t.values.forEach((function(t){t.series=e}))}));var tt="function"==typeof J.yScale().base,et=B&&I&&j?[]:d3.merge(z.map((function(t){return t.values.map((function(t,e){return{x:y(t,e),y:b(t,e),size:x(t,e)}}))})));if(g.domain(B||d3.extent(et.map((function(t){return t.x})).concat(M))),P&&z[0]?g.range(R||[(X*w+X)/(2*z[0].values.length),X-X*(1+w)/(2*z[0].values.length)]):g.range(R||[0,X]),tt){var nt=d3.min(et.map((function(t){if(0!==t.y)return t.y})));v.clamp(!0).domain(I||d3.extent(et.map((function(t){return 0!==t.y?t.y:.1*nt})).concat(k))).range(S||[$,0])}else v.domain(I||d3.extent(et.map((function(t){return t.y})).concat(k))).range(S||[$,0]);m.domain(j||d3.extent(et.map((function(t){return t.size})).concat(A))).range(F||Y),K=g.domain()[0]===g.domain()[1]||v.domain()[0]===v.domain()[1],g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-.01*g.domain()[0],g.domain()[1]+.01*g.domain()[1]]):g.domain([-1,1])),v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1])),isNaN(g.domain()[0])&&g.domain([-1,1]),isNaN(v.domain()[0])&&v.domain([-1,1]),t=t||g,e=e||v,n=n||m;var rt=g(1)!==t(1)||v(1)!==e(1)||m(1)!==n(1);s=s||d;var it=(o=o||u)!==u||s!==d,at=(i=i||[])[0]!==g.domain()[0]||i[1]!==g.domain()[1];i=g.domain(),a=a||[],at=at||a[0]!==v.domain()[0]||a[1]!==v.domain()[1],a=v.domain();var ot=h.selectAll("g.nv-wrap.nv-scatter").data([z]),st=ot.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+_),lt=st.append("defs"),ct=st.append("g"),ut=ot.select("g");function dt(){if(H=!1,!O)return!1;if(h.selectAll(".nv-point.hover").classed("hover",!1),ot.select(".nv-point-paths").selectAll("path").remove(),!0===N){var t=d3.merge(z.map((function(t,e){return t.values.map((function(t,n){var i=y(t,n),a=b(t,n);return[r.utils.NaNtoZero(g(i))+1e-4*Math.random(),r.utils.NaNtoZero(v(a))+1e-4*Math.random(),e,n,t]})).filter((function(t,e){return D(t[4],e)}))})));if(0==t.length)return!1;t.length<3&&(t.push([g.range()[0]-20,v.range()[0]-20,null,null]),t.push([g.range()[1]+20,v.range()[1]+20,null,null]),t.push([g.range()[0]-20,v.range()[0]+20,null,null]),t.push([g.range()[1]+20,v.range()[1]-20,null,null]));var e=d3.geom.polygon([[-10,-10],[-10,d+10],[u+10,d+10],[u+10,-10]]);t=t.sort((function(t,e){return t[0]-e[0]||t[1]-e[1]}));for(var n=0;n<t.length-1;)Math.abs(t[n][0]-t[n+1][0])<1e-4&&Math.abs(t[n][1]-t[n+1][1])<1e-4?t.splice(n+1,1):n++;var i=d3.geom.voronoi(t).map((function(n,r){return 0===n.length?null:{data:e.clip(n),series:t[r][2],point:t[r][3]}})),a=ot.select(".nv-point-paths").selectAll("path").data(i),o=a.enter().append("svg:path").attr("d",(function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"})).attr("id",(function(t,e){return"nv-path-"+e})).attr("clip-path",(function(t,e){return"url(#nv-clip-"+_+"-"+e+")"}));T&&o.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),L&&(ot.select(".nv-point-clips").selectAll("*").remove(),ot.select(".nv-point-clips").selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",(function(t,e){return"nv-clip-"+_+"-"+e})).append("svg:circle").attr("cx",(function(t){return t[0]})).attr("cy",(function(t){return t[1]})).attr("r",W));var s=function(t,e,n){if(H)return 0;var r=z[e.series];if(void 0!==r){var i=r.values[e.point];i.color=f(r,e.series),i.x=y(i),i.y=b(i);var a=h.node().getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft;n({point:i,series:r,pos:{left:g(y(i,e.point))+a.left+s+c.left+10,top:v(b(i,e.point))+a.top+o+c.top+10},relativePos:[g(y(i,e.point))+c.left,v(b(i,e.point))+c.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};a.on("click",(function(t){s(this,t,U.elementClick)})).on("dblclick",(function(t){s(this,t,U.elementDblClick)})).on("mouseover",(function(t){s(this,t,U.elementMouseover)})).on("mouseout",(function(t,e){s(this,t,U.elementMouseout)}))}else ot.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",(function(t,e){if(H||!z[t[0].series])return 0;var n=z[t[0].series],r=n.values[e];U.elementClick({point:r,series:n,pos:[g(y(r,e))+c.left,v(b(r,e))+c.top],relativePos:[g(y(r,e))+c.left,v(b(r,e))+c.top],seriesIndex:t[0].series,pointIndex:e,event:d3.event,element:this})})).on("dblclick",(function(t,e){if(H||!z[t[0].series])return 0;var n=z[t[0].series],r=n.values[e];U.elementDblClick({point:r,series:n,pos:[g(y(r,e))+c.left,v(b(r,e))+c.top],relativePos:[g(y(r,e))+c.left,v(b(r,e))+c.top],seriesIndex:t[0].series,pointIndex:e})})).on("mouseover",(function(t,e){if(H||!z[t[0].series])return 0;var n=z[t[0].series],r=n.values[e];U.elementMouseover({point:r,series:n,pos:[g(y(r,e))+c.left,v(b(r,e))+c.top],relativePos:[g(y(r,e))+c.left,v(b(r,e))+c.top],seriesIndex:t[0].series,pointIndex:e,color:f(t[0],e)})})).on("mouseout",(function(t,e){if(H||!z[t[0].series])return 0;var n=z[t[0].series],r=n.values[e];U.elementMouseout({point:r,series:n,pos:[g(y(r,e))+c.left,v(b(r,e))+c.top],relativePos:[g(y(r,e))+c.left,v(b(r,e))+c.top],seriesIndex:t[0].series,pointIndex:e,color:f(t[0],e)})}))}ot.classed("nv-single-point",K),ct.append("g").attr("class","nv-groups"),ct.append("g").attr("class","nv-point-paths"),st.append("g").attr("class","nv-point-clips"),ot.attr("transform","translate("+c.left+","+c.top+")"),lt.append("clipPath").attr("id","nv-edge-clip-"+_).append("rect").attr("transform","translate( -10, -10)"),ot.select("#nv-edge-clip-"+_+" rect").attr("width",X+20).attr("height",$>0?$+20:0),ut.attr("clip-path",C?"url(#nv-edge-clip-"+_+")":""),H=!0;var ft=ot.select(".nv-groups").selectAll(".nv-group").data((function(t){return t}),(function(t){return t.key}));ft.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),ft.exit().remove(),ft.attr("class",(function(t,e){return(t.classed||"")+" nv-group nv-series-"+e})).classed("nv-noninteractive",!O).classed("hover",(function(t){return t.hover})),ft.watchTransition(q,"scatter: groups").style("fill",(function(t,e){return f(t,e)})).style("stroke",(function(t,e){return t.pointBorderColor||p||f(t,e)})).style("stroke-opacity",1).style("fill-opacity",.5);var pt=ft.selectAll("path.nv-point").data((function(t){return t.values.map((function(t,e){return[t,e]})).filter((function(t,e){return D(t[0],e)}))}));if(pt.enter().append("path").attr("class",(function(t){return"nv-point nv-point-"+t[1]})).style("fill",(function(t){return t.color})).style("stroke",(function(t){return t.color})).attr("transform",(function(n){return"translate("+r.utils.NaNtoZero(t(y(n[0],n[1])))+","+r.utils.NaNtoZero(e(b(n[0],n[1])))+")"})).attr("d",r.utils.symbol().type((function(t){return E(t[0])})).size((function(t){return m(x(t[0],t[1]))}))),pt.exit().each(Z).remove(),ft.exit().selectAll("path.nv-point").watchTransition(q,"scatter exit").attr("transform",(function(t){return"translate("+r.utils.NaNtoZero(g(y(t[0],t[1])))+","+r.utils.NaNtoZero(v(b(t[0],t[1])))+")"})).remove(),pt.filter((function(t){return Q(t,"x",y,"y",b)||rt||it||at})).watchTransition(q,"scatter points").attr("transform",(function(t){return"translate("+r.utils.NaNtoZero(g(y(t[0],t[1])))+","+r.utils.NaNtoZero(v(b(t[0],t[1])))+")"})),pt.filter((function(t){return Q(t,"shape",E,"size",x)||rt||it||at})).watchTransition(q,"scatter points").attr("d",r.utils.symbol().type((function(t){return E(t[0])})).size((function(t){return m(x(t[0],t[1]))}))),G){var _t=ft.selectAll(".nv-label").data((function(t){return t.values.map((function(t,e){return[t,e]})).filter((function(t,e){return D(t[0],e)}))}));_t.enter().append("text").style("fill",(function(t,e){return t.color})).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",(function(n){return"translate("+(r.utils.NaNtoZero(t(y(n[0],n[1])))+Math.sqrt(m(x(n[0],n[1]))/Math.PI)+2)+","+r.utils.NaNtoZero(e(b(n[0],n[1])))+")"})).text((function(t,e){return t[0].label})),_t.exit().remove(),ft.exit().selectAll("path.nv-label").watchTransition(q,"scatter exit").attr("transform",(function(t){return"translate("+(r.utils.NaNtoZero(g(y(t[0],t[1])))+Math.sqrt(m(x(t[0],t[1]))/Math.PI)+2)+","+r.utils.NaNtoZero(v(b(t[0],t[1])))+")"})).remove(),_t.each((function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)})),_t.watchTransition(q,"scatter labels").text((function(t,e){return t[0].label})).attr("transform",(function(t){return"translate("+(r.utils.NaNtoZero(g(y(t[0],t[1])))+Math.sqrt(m(x(t[0],t[1]))/Math.PI)+2)+","+r.utils.NaNtoZero(v(b(t[0],t[1])))+")"}))}V?(clearTimeout(l),l=setTimeout(dt,V)):dt(),t=g.copy(),e=v.copy(),n=m.copy(),o=u,s=d})),q.renderEnd("scatter immediate"),J}return J.dispatch=U,J.options=r.utils.optionsFunc.bind(J),J._calls=new function(){this.clearHighlights=function(){return r.dom.write((function(){h.selectAll(".nv-point.hover").classed("hover",!1)})),null},this.highlightPoint=function(t,e,n){r.dom.write((function(){h.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)}))}},U.on("elementMouseover.point",(function(t){O&&J._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)})),U.on("elementMouseout.point",(function(t){O&&J._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)})),J._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},xScale:{get:function(){return g},set:function(t){g=t}},yScale:{get:function(){return v},set:function(t){v=t}},pointScale:{get:function(){return m},set:function(t){m=t}},xDomain:{get:function(){return B},set:function(t){B=t}},yDomain:{get:function(){return I},set:function(t){I=t}},pointDomain:{get:function(){return j},set:function(t){j=t}},xRange:{get:function(){return R},set:function(t){R=t}},yRange:{get:function(){return S},set:function(t){S=t}},pointRange:{get:function(){return F},set:function(t){F=t}},forceX:{get:function(){return M},set:function(t){M=t}},forceY:{get:function(){return k},set:function(t){k=t}},forcePoint:{get:function(){return A},set:function(t){A=t}},interactive:{get:function(){return O},set:function(t){O=t}},pointActive:{get:function(){return D},set:function(t){D=t}},padDataOuter:{get:function(){return w},set:function(t){w=t}},padData:{get:function(){return P},set:function(t){P=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},clipVoronoi:{get:function(){return L},set:function(t){L=t}},clipRadius:{get:function(){return W},set:function(t){W=t}},showVoronoi:{get:function(){return T},set:function(t){T=t}},id:{get:function(){return _},set:function(t){_=t}},interactiveUpdateDelay:{get:function(){return V},set:function(t){V=t}},showLabels:{get:function(){return G},set:function(t){G=t}},pointBorderColor:{get:function(){return p},set:function(t){p=t}},x:{get:function(){return y},set:function(t){y=d3.functor(t)}},y:{get:function(){return b},set:function(t){b=d3.functor(t)}},pointSize:{get:function(){return x},set:function(t){x=d3.functor(t)}},pointShape:{get:function(){return E},set:function(t){E=d3.functor(t)}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return z},set:function(t){z=t,q.reset(z)}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t)}},useVoronoi:{get:function(){return N},set:function(t){!1===(N=t)&&(L=!1)}}}),r.utils.initOptions(J),J},r.models.scatterChart=function(){"use strict";var t=r.models.scatter(),e=r.models.axis(),n=r.models.axis(),i=r.models.legend(),a=r.models.distribution(),o=r.models.distribution(),s=r.models.tooltip(),l={top:30,right:20,bottom:50,left:75},c=null,u=null,d=null,f=null,p=r.utils.defaultColor(),_=t.xScale(),h=t.yScale(),g=!1,v=!1,m=!0,y=!0,b=!0,x=!1,E=r.utils.state(),M=null,k=d3.dispatch("stateChange","changeState","renderEnd"),A=null,O=250,D=!1;t.xScale(_).yScale(h),e.orient("bottom").tickPadding(10),n.orient(x?"right":"left").tickPadding(10),a.axis("x"),o.axis("y"),s.headerFormatter((function(t,n){return e.tickFormat()(t,n)})).valueFormatter((function(t,e){return n.tickFormat()(t,e)}));var P=r.utils.renderWatch(k,O);function w(A){return P.reset(),P.models(t),y&&P.models(e),b&&P.models(n),g&&P.models(a),v&&P.models(o),A.each((function(A){f=d3.select(this),r.utils.initSVG(f);var C,L=r.utils.availableWidth(u,f,l),T=r.utils.availableHeight(d,f,l);if(w.update=function(){0===O?f.call(w):f.transition().duration(O).call(w)},w.container=this,E.setter(function(t){return function(e){void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(A),w.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled}))}}}(A)).update(),E.disabled=A.map((function(t){return!!t.disabled})),!M)for(C in M={},E)E[C]instanceof Array?M[C]=E[C].slice(0):M[C]=E[C];if(!(A&&A.length&&A.filter((function(t){return t.values.length})).length))return r.utils.noData(w,f),P.renderEnd("scatter immediate"),w;f.selectAll(".nv-noData").remove(),_=t.xScale(),h=t.yScale();var W=f.selectAll("g.nv-wrap.nv-scatterChart").data([A]),B=W.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id()).append("g"),I=W.select("g");if(B.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis"),B.append("g").attr("class","nv-scatterWrap"),B.append("g").attr("class","nv-regressionLinesWrap"),B.append("g").attr("class","nv-distWrap"),B.append("g").attr("class","nv-legendWrap"),x&&I.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),m){var R=L;i.width(R),W.select(".nv-legendWrap").datum(A).call(i),c||i.height()===l.top||(l.top=i.height(),T=r.utils.availableHeight(d,f,l)),W.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")}else I.select(".nv-legendWrap").selectAll("*").remove();W.attr("transform","translate("+l.left+","+l.top+")"),t.width(L).height(T).color(A.map((function(t,e){return t.color=t.color||p(t,e),t.color})).filter((function(t,e){return!A[e].disabled}))).showLabels(D),W.select(".nv-scatterWrap").datum(A.filter((function(t){return!t.disabled}))).call(t),W.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var S=W.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data((function(t){return t}));S.enter().append("g").attr("class","nv-regLines");var j=S.selectAll(".nv-regLine").data((function(t){return[t]}));j.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),j.filter((function(t){return t.intercept&&t.slope})).watchTransition(P,"scatterPlusLineChart: regline").attr("x1",_.range()[0]).attr("x2",_.range()[1]).attr("y1",(function(t,e){return h(_.domain()[0]*t.slope+t.intercept)})).attr("y2",(function(t,e){return h(_.domain()[1]*t.slope+t.intercept)})).style("stroke",(function(t,e,n){return p(t,n)})).style("stroke-opacity",(function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1})),y&&(e.scale(_)._ticks(r.utils.calcTicksX(L/100,A)).tickSize(-T,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")").call(e)),b&&(n.scale(h)._ticks(r.utils.calcTicksY(T/36,A)).tickSize(-L,0),I.select(".nv-y.nv-axis").call(n)),a.getData(t.x()).scale(_).width(L).color(A.map((function(t,e){return t.color||p(t,e)})).filter((function(t,e){return!A[e].disabled}))),B.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),I.select(".nv-distributionX").attr("transform","translate(0,"+h.range()[0]+")").datum(A.filter((function(t){return!t.disabled}))).call(a).style("opacity",(function(){return g?"1":"1e-6"})).watchTransition(P,"scatterPlusLineChart").style("opacity",(function(){return g?"1":"1e-6"})),o.getData(t.y()).scale(h).width(T).color(A.map((function(t,e){return t.color||p(t,e)})).filter((function(t,e){return!A[e].disabled}))),B.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),I.select(".nv-distributionY").attr("transform","translate("+(x?L:-o.size())+",0)").datum(A.filter((function(t){return!t.disabled}))).call(o).style("opacity",(function(){return v?"1":"1e-6"})).watchTransition(P,"scatterPlusLineChart").style("opacity",(function(){return v?"1":"1e-6"})),i.dispatch.on("stateChange",(function(t){for(var e in t)E[e]=t[e];k.stateChange(E),w.update()})),k.on("changeState",(function(t){void 0!==t.disabled&&(A.forEach((function(e,n){e.disabled=t.disabled[n]})),E.disabled=t.disabled),w.update()})),t.dispatch.on("elementMouseout.tooltip",(function(e){s.hidden(!0),f.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),f.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",o.size())})),t.dispatch.on("elementMouseover.tooltip",(function(t){f.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-T),f.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+a.size()),s.data(t).hidden(!1)})),_.copy(),h.copy()})),P.renderEnd("scatter with line immediate"),w}return w.dispatch=k,w.scatter=t,w.legend=i,w.xAxis=e,w.yAxis=n,w.distX=a,w.distY=o,w.tooltip=s,w.options=r.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return d},set:function(t){d=t}},container:{get:function(){return f},set:function(t){f=t}},showDistX:{get:function(){return g},set:function(t){g=t}},showDistY:{get:function(){return v},set:function(t){v=t}},showLegend:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return A},set:function(t){A=t}},duration:{get:function(){return O},set:function(t){O=t}},showLabels:{get:function(){return D},set:function(t){D=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,c=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,n.orient(t?"right":"left")}},color:{get:function(){return p},set:function(t){p=r.utils.getColor(t),i.color(p),a.color(p),o.color(p)}}}),r.utils.inheritOptions(w,t),r.utils.initOptions(w),w},r.models.sparkline=function(){"use strict";var t,e,n,i,a={top:2,right:0,bottom:2,left:0},o=400,s=32,l=null,c=!0,u=d3.scale.linear(),d=d3.scale.linear(),f=function(t){return t.x},p=function(t){return t.y},_=r.utils.getColor(["#000"]),h=!0,g=!0,v=d3.dispatch("renderEnd"),m=r.utils.renderWatch(v);function y(c){return m.reset(),c.each((function(c){var v=o-a.left-a.right,m=s-a.top-a.bottom;l=d3.select(this),r.utils.initSVG(l),u.domain(t||d3.extent(c,f)).range(n||[0,v]),d.domain(e||d3.extent(c,p)).range(i||[m,0]);var y=l.selectAll("g.nv-wrap.nv-sparkline").data([c]);y.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),y.select("g"),y.attr("transform","translate("+a.left+","+a.top+")");var b=y.selectAll("path").data((function(t){return[t]}));b.enter().append("path"),b.exit().remove(),b.style("stroke",(function(t,e){return t.color||_(t,e)})).attr("d",d3.svg.line().x((function(t,e){return u(f(t,e))})).y((function(t,e){return d(p(t,e))})));var x=y.selectAll("circle.nv-point").data((function(t){var e=t.map((function(t,e){return p(t,e)}));function n(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var r=n(e.lastIndexOf(d.domain()[1])),i=n(e.indexOf(d.domain()[0])),a=n(e.length-1);return[h?i:null,h?r:null,g?a:null].filter((function(t){return null!=t}))}));x.enter().append("circle"),x.exit().remove(),x.attr("cx",(function(t,e){return u(f(t,t.pointIndex))})).attr("cy",(function(t,e){return d(p(t,t.pointIndex))})).attr("r",2).attr("class",(function(t,e){return f(t,t.pointIndex)==u.domain()[1]?"nv-point nv-currentValue":p(t,t.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"}))})),m.renderEnd("sparkline immediate"),y}return y.options=r.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},xScale:{get:function(){return u},set:function(t){u=t}},yScale:{get:function(){return d},set:function(t){d=t}},animate:{get:function(){return c},set:function(t){c=t}},showMinMaxPoints:{get:function(){return h},set:function(t){h=t}},showCurrentPoint:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return f},set:function(t){f=d3.functor(t)}},y:{get:function(){return p},set:function(t){p=d3.functor(t)}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return _},set:function(t){_=r.utils.getColor(t)}}}),y.dispatch=v,r.utils.initOptions(y),y},r.models.sparklinePlus=function(){"use strict";var t,e,n=r.models.sparkline(),i={top:15,right:100,bottom:10,left:50},a=null,o=null,s=[],l=!1,c=d3.format(",r"),u=d3.format(",.2f"),d=!0,f=!0,p=!1,_=null,h=d3.dispatch("renderEnd"),g=r.utils.renderWatch(h);function v(_){return g.reset(),g.models(n),_.each((function(_){var h=d3.select(this);r.utils.initSVG(h);var g=r.utils.availableWidth(a,h,i),m=r.utils.availableHeight(o,h,i);if(v.update=function(){h.call(v)},v.container=this,!_||!_.length)return r.utils.noData(v,h),v;h.selectAll(".nv-noData").remove();var y=n.y()(_[_.length-1],_.length-1);t=n.xScale(),e=n.yScale();var b=h.selectAll("g.nv-wrap.nv-sparklineplus").data([_]),x=b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),E=b.select("g");x.append("g").attr("class","nv-sparklineWrap"),x.append("g").attr("class","nv-valueWrap"),x.append("g").attr("class","nv-hoverArea"),b.attr("transform","translate("+i.left+","+i.top+")");var M=E.select(".nv-sparklineWrap");if(n.width(g).height(m),M.call(n),d){var k=E.select(".nv-valueWrap").selectAll(".nv-currentValue").data([y]);k.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),k.attr("x",g+(p?i.right:0)).attr("y",f?function(t){return e(t)}:0).style("fill",n.color()(_[_.length-1],_.length-1)).text(u(y))}function A(){if(!l){var e=E.selectAll(".nv-hoverValue").data(s),r=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",(function(e){return"translate("+t(n.x()(_[e],e))+",0)"})).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),s.length&&(r.append("line").attr("x1",0).attr("y1",-i.top).attr("x2",0).attr("y2",m),r.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-i.top).attr("text-anchor","end").attr("dy",".9em"),E.select(".nv-hoverValue .nv-xValue").text(c(n.x()(_[s[0]],s[0]))),r.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-i.top).attr("text-anchor","start").attr("dy",".9em"),E.select(".nv-hoverValue .nv-yValue").text(u(n.y()(_[s[0]],s[0]))))}}x.select(".nv-hoverArea").append("rect").on("mousemove",(function(){if(!l){var e=d3.mouse(this)[0]-i.left;s=[function(t,e){for(var r=Math.abs(n.x()(t[0],0)-e),i=0,a=0;a<t.length;a++)Math.abs(n.x()(t[a],a)-e)<r&&(r=Math.abs(n.x()(t[a],a)-e),i=a);return i}(_,Math.round(t.invert(e)))],A()}})).on("click",(function(){l=!l})).on("mouseout",(function(){s=[],A()})),E.select(".nv-hoverArea rect").attr("transform",(function(t){return"translate("+-i.left+","+-i.top+")"})).attr("width",g+i.left+i.right).attr("height",m+i.top)})),g.renderEnd("sparklinePlus immediate"),v}return v.dispatch=h,v.sparkline=n,v.options=r.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return o},set:function(t){o=t}},xTickFormat:{get:function(){return c},set:function(t){c=t}},yTickFormat:{get:function(){return u},set:function(t){u=t}},showLastValue:{get:function(){return d},set:function(t){d=t}},alignValue:{get:function(){return f},set:function(t){f=t}},rightAlignValue:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),r.utils.inheritOptions(v,n),r.utils.initOptions(v),v},r.models.stackedArea=function(){"use strict";var t,e,n={top:0,right:0,bottom:0,left:0},i=960,a=500,o=r.utils.defaultColor(),s=Math.floor(1e5*Math.random()),l=null,c=function(t){return t.x},u=function(t){return t.y},d=function(t,e){return!isNaN(u(t,e))&&null!==u(t,e)},f="stack",p="zero",_="default",h="linear",g=!1,v=r.models.scatter(),m=250,y=function(t,e,n){t.display={y:n,y0:e}},b=function(t){return e(t.display.y+t.display.y0)},x=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");v.pointSize(2.2).pointDomain([2.2,2.2]);var E=r.utils.renderWatch(x,m);function M(f){return E.reset(),E.models(v),f.each((function(f){var m=i-n.left-n.right,k=a-n.top-n.bottom;l=d3.select(this),r.utils.initSVG(l),t=v.xScale(),e=v.yScale();var A=f;f.forEach((function(t,e){t.seriesIndex=e,t.values=t.values.map((function(t,n){return t.index=n,t.seriesIndex=e,t}))}));var O=f.filter((function(t){return!t.disabled}));f=d3.layout.stack().order(_).offset(p).values((function(t){return t.values})).x(c).y(u).out(y)(O);var D=l.selectAll("g.nv-wrap.nv-stackedarea").data([f]),P=D.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),w=P.append("defs"),C=P.append("g"),L=D.select("g");C.append("g").attr("class","nv-areaWrap"),C.append("g").attr("class","nv-scatterWrap"),D.attr("transform","translate("+n.left+","+n.top+")"),0==v.forceY().length&&v.forceY().push(0),v.width(m).height(k).x(c).y((function(t){if(void 0!==t.display)return t.display.y+t.display.y0})).color(f.map((function(t,e){return t.color=t.color||o(t,t.seriesIndex),t.color}))),L.select(".nv-scatterWrap").datum(f).call(v),w.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),D.select("#nv-edge-clip-"+s+" rect").attr("width",m).attr("height",k),L.attr("clip-path",g?"url(#nv-edge-clip-"+s+")":"");var T=d3.svg.area().defined(d).x((function(e,n){return t(c(e,n))})).y0((function(t){return e(t.display.y0)})).y1(b).interpolate(h),W=d3.svg.area().defined(d).x((function(e,n){return t(c(e,n))})).y0((function(t){return e(t.display.y0)})).y1((function(t){return e(t.display.y0)})),B=L.select(".nv-areaWrap").selectAll("path.nv-area").data((function(t){return t}));B.enter().append("path").attr("class",(function(t,e){return"nv-area nv-area-"+e})).attr("d",(function(t,e){return W(t.values,t.seriesIndex)})).on("mouseover",(function(t,e){d3.select(this).classed("hover",!0),x.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1),x.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})})).on("click",(function(t,e){d3.select(this).classed("hover",!1),x.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})})),B.exit().remove(),B.style("fill",(function(t,e){return t.color||o(t,t.seriesIndex)})).style("stroke",(function(t,e){return t.color||o(t,t.seriesIndex)})),B.watchTransition(E,"stackedArea path").attr("d",(function(t,e){return T(t.values,e)})),v.dispatch.on("elementMouseover.area",(function(t){L.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!0)})),v.dispatch.on("elementMouseout.area",(function(t){L.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!1)})),M.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,a=t[0].length,o=[];for(n=0;n<a;++n){for(e=0,r=0;e<A.length;e++)r+=u(A[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<a;++n)o[n]=0;return o}})),E.renderEnd("stackedArea immediate"),M}return M.dispatch=x,M.scatter=v,v.dispatch.on("elementClick",(function(){x.elementClick.apply(this,arguments)})),v.dispatch.on("elementMouseover",(function(){x.elementMouseover.apply(this,arguments)})),v.dispatch.on("elementMouseout",(function(){x.elementMouseout.apply(this,arguments)})),M.interpolate=function(t){return arguments.length?(h=t,M):h},M.duration=function(t){return arguments.length?(m=t,E.reset(m),v.duration(m),M):m},M.dispatch=x,M.scatter=v,M.options=r.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return a},set:function(t){a=t}},defined:{get:function(){return d},set:function(t){d=t}},clipEdge:{get:function(){return g},set:function(t){g=t}},offset:{get:function(){return p},set:function(t){p=t}},order:{get:function(){return _},set:function(t){_=t}},interpolate:{get:function(){return h},set:function(t){h=t}},x:{get:function(){return c},set:function(t){c=d3.functor(t)}},y:{get:function(){return u},set:function(t){u=d3.functor(t)}},areaY1:{get:function(){return b},set:function(t){b=d3.functor(t)}},transformData:{get:function(){return y},set:function(t){y=d3.functor(t)}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},color:{get:function(){return o},set:function(t){o=r.utils.getColor(t)}},style:{get:function(){return f},set:function(t){switch(f=t){case"stack":M.offset("zero"),M.order("default");break;case"stream":M.offset("wiggle"),M.order("inside-out");break;case"stream-center":M.offset("silhouette"),M.order("inside-out");break;case"expand":M.offset("expand"),M.order("default");break;case"stack_percent":M.offset(M.d3_stackedOffset_stackPercent),M.order("default")}}},duration:{get:function(){return m},set:function(t){m=t,E.reset(m),v.duration(m)}}}),r.utils.inheritOptions(M,v),r.utils.initOptions(M),M},r.models.stackedAreaChart=function(){"use strict";var t,e,n=r.models.stackedArea(),i=r.models.axis(),a=r.models.axis(),o=r.models.legend(),s=r.models.legend(),l=r.interactiveGuideline(),c=r.models.tooltip(),u=r.models.focus(r.models.stackedArea()),d={top:10,right:25,bottom:50,left:60},f=null,p=null,_=null,h=r.utils.defaultColor(),g=!0,v=!0,m="top",y=!0,b=!0,x=!1,E=!1,M=!1,k=!0,A="TOTAL",O=r.utils.state(),D=null,P=null,w=d3.dispatch("stateChange","changeState","renderEnd"),C=250,L=["Stacked","Stream","Expanded"],T={},W=250;O.style=n.style(),i.orient("bottom").tickPadding(7),a.orient(x?"right":"left"),c.headerFormatter((function(t,e){return i.tickFormat()(t,e)})).valueFormatter((function(t,e){return a.tickFormat()(t,e)})),l.tooltip.headerFormatter((function(t,e){return i.tickFormat()(t,e)})).valueFormatter((function(t,e){return null==t?"N/A":a.tickFormat()(t,e)}));var B=null,I=null;s.updateState(!1);var R=r.utils.renderWatch(w),S=(n.style(),d3.format("%"));function j(c){return R.reset(),R.models(n),y&&R.models(i),b&&R.models(a),c.each((function(c){var P=d3.select(this);r.utils.initSVG(P);var R,F=r.utils.availableWidth(p,P,d),K=r.utils.availableHeight(_,P,d)-(E?u.height():0);if(j.update=function(){P.transition().duration(W).call(j)},j.container=this,O.setter(function(t){return function(e){void 0!==e.style&&e.style,void 0!==e.active&&t.forEach((function(t,n){t.disabled=!e.active[n]}))}}(c),j.update).getter(function(t){return function(){return{active:t.map((function(t){return!t.disabled})),style:n.style()}}}(c)).update(),O.disabled=c.map((function(t){return!!t.disabled})),!D)for(R in D={},O)O[R]instanceof Array?D[R]=O[R].slice(0):D[R]=O[R];if(!(c&&c.length&&c.filter((function(t){return t.values.length})).length))return r.utils.noData(j,P),j;P.selectAll(".nv-noData").remove(),t=n.xScale(),e=n.yScale();var U=P.selectAll("g.nv-wrap.nv-stackedAreaChart").data([c]),N=U.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),z=U.select("g");N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-controlsWrap");var V=N.append("g").attr("class","nv-focus");if(V.append("g").attr("class","nv-background").append("rect"),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-stackedWrap"),V.append("g").attr("class","nv-interactive"),N.append("g").attr("class","nv-focusWrap"),v){var G=g&&"top"===m?F-C:F;if(o.width(G),z.select(".nv-legendWrap").datum(c).call(o),"bottom"===m){var H=i.height();d.bottom=Math.max(o.height()+H,d.bottom);var q=(K=r.utils.availableHeight(_,P,d)-(E?u.height():0))+H;z.select(".nv-legendWrap").attr("transform","translate(0,"+q+")")}else"top"===m&&(f||d.top==o.height()||(d.top=o.height(),K=r.utils.availableHeight(_,P,d)-(E?u.height():0)),z.select(".nv-legendWrap").attr("transform","translate("+(F-G)+","+-d.top+")"))}else z.select(".nv-legendWrap").selectAll("*").remove();if(g){var Y=[{key:T.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=n.style(),style:"stack"},{key:T.stream||"Stream",metaKey:"Stream",disabled:"stream"!=n.style(),style:"stream"},{key:T.stream_center||"Stream Center",metaKey:"Stream_Center",disabled:"stream_center"!=n.style(),style:"stream-center"},{key:T.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=n.style(),style:"expand"},{key:T.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=n.style(),style:"stack_percent"}];C=L.length/3*260,Y=Y.filter((function(t){return-1!==L.indexOf(t.metaKey)})),s.width(C).color(["#444","#444","#444"]),z.select(".nv-controlsWrap").datum(Y).call(s);var X=Math.max(s.height(),v&&"top"===m?o.height():0);d.top!=X&&(d.top=X,K=r.utils.availableHeight(_,P,d)-(E?u.height():0)),z.select(".nv-controlsWrap").attr("transform","translate(0,"+-d.top+")")}else z.select(".nv-controlsWrap").selectAll("*").remove();U.attr("transform","translate("+d.left+","+d.top+")"),x&&z.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)"),M&&(l.width(F).height(K).margin({left:d.left,top:d.top}).svgContainer(P).xScale(t),U.select(".nv-interactive").call(l)),z.select(".nv-focus .nv-background rect").attr("width",F).attr("height",K),n.width(F).height(K).color(c.map((function(t,e){return t.color||h(t,e)})).filter((function(t,e){return!c[e].disabled})));var $,Z=z.select(".nv-focus .nv-stackedWrap").datum(c.filter((function(t){return!t.disabled})));function Q(){y&&z.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+K+")").transition().duration(W).call(i)}function J(){if(b){if("expand"===n.style()||"stack_percent"===n.style()){var t=a.tickFormat();B&&t===S||(B=t),a.tickFormat(S)}else B&&(a.tickFormat(B),B=null);z.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(a)}}if(y&&i.scale(t)._ticks(r.utils.calcTicksX(F/100,c)).tickSize(-K,0),b&&($="wiggle"===n.offset()?0:r.utils.calcTicksY(K/36,c),a.scale(e)._ticks($).tickSize(-F,0)),E){u.width(F),z.select(".nv-focusWrap").attr("transform","translate(0,"+(K+d.bottom+u.margin().top)+")").datum(c.filter((function(t){return!t.disabled}))).call(u);var tt=u.brush.empty()?u.xDomain():u.brush.extent();null!==tt&&et(tt)}else Z.transition().call(n),Q(),J();function et(t){z.select(".nv-focus .nv-stackedWrap").datum(c.filter((function(t){return!t.disabled})).map((function(e,r){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter((function(e,r){return n.x()(e,r)>=t[0]&&n.x()(e,r)<=t[1]})),disableTooltip:e.disableTooltip}}))).transition().duration(W).call(n),Q(),J()}n.dispatch.on("areaClick.toggle",(function(t){1===c.filter((function(t){return!t.disabled})).length?c.forEach((function(t){t.disabled=!1})):c.forEach((function(e,n){e.disabled=n!=t.seriesIndex})),O.disabled=c.map((function(t){return!!t.disabled})),w.stateChange(O),j.update()})),o.dispatch.on("stateChange",(function(t){for(var e in t)O[e]=t[e];w.stateChange(O),j.update()})),s.dispatch.on("legendClick",(function(t,e){t.disabled&&(Y=Y.map((function(t){return t.disabled=!0,t})),t.disabled=!1,n.style(t.style),O.style=n.style(),w.stateChange(O),j.update())})),l.dispatch.on("elementMousemove",(function(t){n.clearHighlights();var e,i,a,o=[],s=0,u=!0,d=!1;if(c.filter((function(t,e){return t.seriesIndex=e,!t.disabled})).forEach((function(l,f){i=r.interactiveBisect(l.values,t.pointXValue,j.x());var p=l.values[i],_=j.y()(p,i);if(null!=_&&_>0&&(n.highlightPoint(f,i,!0),d=!0),f!==c.length-1||d||n.highlightPoint(f,i,!0),void 0!==p){void 0===e&&(e=p),void 0===a&&(a=j.xScale()(j.x()(p,i)));var g="expand"==n.style()?p.display.y:j.y()(p,i);o.push({key:l.key,value:g,color:h(l,l.seriesIndex),point:p}),k&&"expand"!=n.style()&&null!=g&&(s+=g,u=!1)}})),o.reverse(),o.length>2){var f=j.yScale().invert(t.mouseY),p=null;o.forEach((function(t,e){f=Math.abs(f);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);f>=n&&f<=r+n&&(p=e)})),null!=p&&(o[p].highlight=!0)}k&&"expand"!=n.style()&&o.length>=2&&!u&&o.push({key:A,value:s,total:!0});var _=j.x()(e,i),g=l.tooltip.valueFormatter();"expand"===n.style()||"stack_percent"===n.style()?(I||(I=g),g=d3.format(".1%")):I&&(g=I,I=null),l.tooltip.valueFormatter(g).data({value:_,series:o})(),l.renderGuideLine(a)})),l.dispatch.on("elementMouseout",(function(t){n.clearHighlights()})),u.dispatch.on("onBrush",(function(t){et(t)})),w.on("changeState",(function(t){void 0!==t.disabled&&c.length===t.disabled.length&&(c.forEach((function(e,n){e.disabled=t.disabled[n]})),O.disabled=t.disabled),void 0!==t.style&&(n.style(t.style),t.style),j.update()}))})),R.renderEnd("stacked Area chart immediate"),j}return n.dispatch.on("elementMouseover.tooltip",(function(t){t.point.x=n.x()(t.point),t.point.y=n.y()(t.point),c.data(t).hidden(!1)})),n.dispatch.on("elementMouseout.tooltip",(function(t){c.hidden(!0)})),j.dispatch=w,j.stacked=n,j.legend=o,j.controls=s,j.xAxis=i,j.x2Axis=u.xAxis,j.yAxis=a,j.y2Axis=u.yAxis,j.interactiveLayer=l,j.tooltip=c,j.focus=u,j.dispatch=w,j.options=r.utils.optionsFunc.bind(j),j._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return _},set:function(t){_=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return P},set:function(t){P=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return T},set:function(t){T=t}},controlOptions:{get:function(){return L},set:function(t){L=t}},showTotalInTooltip:{get:function(){return k},set:function(t){k=t}},totalLabel:{get:function(){return A},set:function(t){A=t}},focusEnable:{get:function(){return E},set:function(t){E=t}},focusHeight:{get:function(){return u.height()},set:function(t){u.height(t)}},brushExtent:{get:function(){return u.brushExtent()},set:function(t){u.brushExtent(t)}},margin:{get:function(){return d},set:function(t){void 0!==t.top&&(d.top=t.top,f=t.top),d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},focusMargin:{get:function(){return u.margin},set:function(t){u.margin.top=void 0!==t.top?t.top:u.margin.top,u.margin.right=void 0!==t.right?t.right:u.margin.right,u.margin.bottom=void 0!==t.bottom?t.bottom:u.margin.bottom,u.margin.left=void 0!==t.left?t.left:u.margin.left}},duration:{get:function(){return W},set:function(t){W=t,R.reset(W),n.duration(W),i.duration(W),a.duration(W)}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t),o.color(h),n.color(h),u.color(h)}},x:{get:function(){return n.x()},set:function(t){n.x(t),u.x(t)}},y:{get:function(){return n.y()},set:function(t){n.y(t),u.y(t)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,a.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return M},set:function(t){M=!!t,j.interactive(!t),j.useVoronoi(!t),n.scatter.interactive(!t)}}}),r.utils.inheritOptions(j,n),r.utils.initOptions(j),j},r.models.stackedAreaWithFocusChart=function(){return r.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},r.models.sunburst=function(){"use strict";var t,e,n,i,a={top:0,right:0,bottom:0,left:0},o=600,s=600,l="count",c={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},u=Math.floor(1e4*Math.random()),d=null,f=r.utils.defaultColor(),p=!1,_=function(t){return"count"===l?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},h=.02,g=function(t,e){return t.name>e.name},v=function(t,e){return void 0!==t.parent?t.name+"-"+t.parent.name+"-"+e:t.name},m=!0,y=500,b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),x=d3.scale.linear().range([0,2*Math.PI]),E=d3.scale.sqrt(),M=d3.layout.partition().sort(g),k={},A=d3.svg.arc().startAngle((function(t){return Math.max(0,Math.min(2*Math.PI,x(t.x)))})).endAngle((function(t){return Math.max(0,Math.min(2*Math.PI,x(t.x+t.dx)))})).innerRadius((function(t){return Math.max(0,E(t.y))})).outerRadius((function(t){return Math.max(0,E(t.y+t.dy))}));function O(t){return D(t)>90?180:0}function D(t){return(Math.max(0,Math.min(2*Math.PI,x(t.x)))+Math.max(0,Math.min(2*Math.PI,x(t.x+t.dx))))/2*(180/Math.PI)-90}function P(t){var e=Math.max(0,Math.min(2*Math.PI,x(t.x)));return(Math.max(0,Math.min(2*Math.PI,x(t.x+t.dx)))-e)/(2*Math.PI)}function w(t){var e=Math.max(0,Math.min(2*Math.PI,x(t.x)));return Math.max(0,Math.min(2*Math.PI,x(t.x+t.dx)))-e>h}function C(e,n){var r=d3.interpolate(x.domain(),[t.x,t.x+t.dx]),a=d3.interpolate(E.domain(),[t.y,1]),o=d3.interpolate(E.range(),[t.y?20:0,i]);return 0===n?function(){return A(e)}:function(t){return x.domain(r(t)),E.domain(a(t)).range(o(t)),A(e)}}function L(t){var e=d3.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var r=e(n);return t.x0=r.x,t.dx0=r.dx,t.y0=r.y,t.dy0=r.dy,A(r)}}function T(t){t.forEach((function(t){var e=v(t),n=k[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),function(t){var e=v(t);k[e]||(k[e]={});var n=k[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}(t)}))}function W(e){var n=d.selectAll("text"),r=d.selectAll("path");n.transition().attr("opacity",0),t=e,r.transition().duration(y).attrTween("d",C).each("end",(function(t){t.x>=e.x&&t.x<e.x+e.dx&&t.depth>=e.depth&&d3.select(this.parentNode).select("text").transition().duration(y).text((function(t){return _(t)})).attr("opacity",(function(t){return w(t)?1:0})).attr("transform",(function(){var n=this.getBBox().width;if(0===t.depth)return"translate("+n/2*-1+",0)";if(t.depth===e.depth)return"translate("+(E(t.y)+5)+",0)";var r=D(t),i=O(t);return 0===i?"rotate("+r+")translate("+(E(t.y)+5)+",0)":"rotate("+r+")translate("+(E(t.y)+n+5)+",0)rotate("+i+")"}))}))}var B=r.utils.renderWatch(b);function I(t){return B.reset(),t.each((function(t){d=d3.select(this),e=r.utils.availableWidth(o,d,a),n=r.utils.availableHeight(s,d,a),i=Math.min(e,n)/2,E.range([0,i]);var h=d.select("g.nvd3.nv-wrap.nv-sunburst");h[0][0]?h.attr("transform","translate("+(e/2+a.left+a.right)+","+(n/2+a.top+a.bottom)+")"):h=d.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+u).attr("transform","translate("+(e/2+a.left+a.right)+","+(n/2+a.top+a.bottom)+")"),d.on("click",(function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:u})})),M.value(c[l]||c.count);var g=M.nodes(t[0]).reverse();T(g);var x=h.selectAll(".arc-container").data(g,v);x.enter().append("g").attr("class","arc-container").append("path").attr("d",A).style("fill",(function(t){return t.color?t.color:f(m?(t.children?t:t.parent).name:t.name)})).style("stroke","#FFF").on("click",(function(t,e){W(t),b.elementClick({data:t,index:e})})).on("mouseover",(function(t,e){d3.select(this).classed("hover",!0).style("opacity",.8),b.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:P(t)})})).on("mouseout",(function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),b.elementMouseout({data:t})})).on("mousemove",(function(t,e){b.elementMousemove({data:t})})),x.each((function(t){d3.select(this).select("path").transition().duration(y).attrTween("d",L)})),p&&(x.selectAll("text").remove(),x.append("text").text((function(t){return _(t)})).transition().duration(y).attr("opacity",(function(t){return w(t)?1:0})).attr("transform",(function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=D(t),r=O(t);return 0===r?"rotate("+n+")translate("+(E(t.y)+5)+",0)":"rotate("+n+")translate("+(E(t.y)+e+5)+",0)rotate("+r+")"}))),W(g[g.length-1]),x.exit().transition().duration(y).attr("opacity",0).each("end",(function(t){var e=v(t);k[e]=void 0})).remove()})),B.renderEnd("sunburst immediate"),I}return I.dispatch=b,I.options=r.utils.optionsFunc.bind(I),I._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},mode:{get:function(){return l},set:function(t){l=t}},id:{get:function(){return u},set:function(t){u=t}},duration:{get:function(){return y},set:function(t){y=t}},groupColorByParent:{get:function(){return m},set:function(t){m=!!t}},showLabels:{get:function(){return p},set:function(t){p=!!t}},labelFormat:{get:function(){return _},set:function(t){_=t}},labelThreshold:{get:function(){return h},set:function(t){h=t}},sort:{get:function(){return g},set:function(t){g=t}},key:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return a},set:function(t){a.top=null!=t.top?t.top:a.top,a.right=null!=t.right?t.right:a.right,a.bottom=null!=t.bottom?t.bottom:a.bottom,a.left=null!=t.left?t.left:a.left}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t)}}}),r.utils.initOptions(I),I},r.models.sunburstChart=function(){"use strict";var t=r.models.sunburst(),e=r.models.tooltip(),n={top:30,right:20,bottom:20,left:20},i=r.utils.defaultColor(),a=!1,o=(Math.round(1e5*Math.random()),null),s=null,l=250,c=d3.dispatch("stateChange","changeState","renderEnd"),u=r.utils.renderWatch(c);function d(e){return u.reset(),u.models(t),e.each((function(e){var i=d3.select(this);r.utils.initSVG(i);var a=r.utils.availableWidth(null,i,n),o=r.utils.availableHeight(null,i,n);if(d.update=function(){0===l?i.call(d):i.transition().duration(l).call(d)},d.container=i,!e||!e.length)return r.utils.noData(d,i),d;i.selectAll(".nv-noData").remove(),t.width(a).height(o).margin(n),i.call(t)})),u.renderEnd("sunburstChart immediate"),d}return e.duration(0).headerEnabled(!1).valueFormatter((function(t){return t})),t.dispatch.on("elementMouseover.tooltip",(function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},a||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)})),t.dispatch.on("elementMouseout.tooltip",(function(t){e.hidden(!0)})),t.dispatch.on("elementMousemove.tooltip",(function(t){e()})),d.dispatch=c,d.sunburst=t,d.tooltip=e,d.options=r.utils.optionsFunc.bind(d),d._options=Object.create({},{noData:{get:function(){return s},set:function(t){s=t}},defaultState:{get:function(){return o},set:function(t){o=t}},showTooltipPercent:{get:function(){return a},set:function(t){a=t}},color:{get:function(){return i},set:function(e){i=e,t.color(i)}},duration:{get:function(){return l},set:function(e){l=e,u.reset(l),t.duration(l)}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left,t.margin(n)}}}),r.utils.inheritOptions(d,t),r.utils.initOptions(d),d},r.version="2.0.5"},5070:function(t,e,n){},5071:function(t,e,n){"use strict";n.d(e,"e",(function(){return l})),n.d(e,"h",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return h}));var r=n(42),i=n.n(r),a=n(5),o=n.n(a),s=n(269);const l=o.a.oneOfType([o.a.number,o.a.oneOf(["auto"])]),c=o.a.oneOfType([o.a.string,o.a.shape({label:o.a.string})]),u=o.a.shape({r:o.a.number.isRequired,g:o.a.number.isRequired,b:o.a.number.isRequired}),d=o.a.shape({x:o.a.number,y:o.a.number}),f=o.a.shape({x:o.a.string,y:o.a.number}),p=o.a.shape({outliers:o.a.arrayOf(o.a.number),Q1:o.a.number,Q2:o.a.number,Q3:o.a.number,whisker_high:o.a.number,whisker_low:o.a.number}),_=o.a.shape({markerLabels:o.a.arrayOf(o.a.string),markerLineLabels:o.a.arrayOf(o.a.string),markerLines:o.a.arrayOf(o.a.number),markers:o.a.arrayOf(o.a.number),measures:o.a.arrayOf(o.a.number),rangeLabels:o.a.arrayOf(o.a.string),ranges:o.a.arrayOf(o.a.number)}),h=o.a.shape({annotationType:o.a.oneOf(i()(s.a)),color:o.a.string,hideLine:o.a.bool,name:o.a.string,opacity:o.a.string,show:o.a.bool,showMarkers:o.a.bool,sourceType:o.a.string,style:o.a.string,value:o.a.oneOfType([o.a.number,o.a.string]),width:o.a.number})},5240:function(t,e,n){"use strict";n.r(e);n(0);var r=n(1420),i=n(68),a=n(5),o=n.n(a),s=n(5064),l=n(1450),c=n(1);const u=Object(r.a)(s.a,{componentWillUnmount:function(){const{id:t}=this.props;null!=t?Object(l.q)(t):Object(l.p)(!0)}}),d=({className:t,...e})=>Object(c.d)("div",{className:t},Object(c.d)(u,e));d.propTypes={className:o.a.string.isRequired},e.default=Object(i.g)(d)`
  .superset-legacy-chart-nvd3-dist-bar, .superset-legacy-chart-nvd3-bar {
    overflow-x: auto !important;
    svg {
      &.nvd3-svg {
        width: auto;
        font-size: ${({theme:t})=>t.typography.sizes.m};
      }
    }
  }
  .superset-legacy-chart-nvd3 {
    nv-x text {
      font-size: ${({theme:t})=>t.typography.sizes.m};
    }
    g.superset path {
      stroke-dasharray: 5, 5;
    }
    .nvtooltip tr.highlight td {
      font-weight: ${({theme:t})=>t.typography.weights.bold};
      font-size: 15px !important;
    }
    text.nv-axislabel {
      font-size: ${({theme:t})=>t.typography.sizes.m} !important;
    }
    g.solid path,
    line.solid {
      stroke-dasharray: unset;
    }
    g.dashed path,
    line.dashed {
      stroke-dasharray: 5, 5;
    }
    g.longDashed path,
    line.dotted {
      stroke-dasharray: 1, 1;
    }

    g.opacityLow path,
    line.opacityLow {
      stroke-opacity: 0.2;
    }

    g.opacityMedium path,
    line.opacityMedium {
      stroke-opacity: 0.5;
    }
    g.opacityHigh path,
    line.opacityHigh {
      stroke-opacity: 0.8;
    }
    g.time-shift-0 path,
    line.time-shift-0 {
      stroke-dasharray: 5, 5;
    }
    g.time-shift-1 path,
    line.time-shift-1 {
      stroke-dasharray: 1, 5;
    }
    g.time-shift-2 path,
    line.time-shift-3 {
      stroke-dasharray: 5, 1;
    }
    g.time-shift-3 path,
    line.time-shift-3 {
      stroke-dasharray: 5, 1;
    }
    g.time-shift-4 path,
    line.time-shift-4 {
      stroke-dasharray: 5, 10;
    }
    g.time-shift-5 path,
    line.time-shift-5 {
      stroke-dasharray: 0.9;
    }
    g.time-shift-6 path,
    line.time-shift-6 {
      stroke-dasharray: 15, 10, 5;
    }
    g.time-shift-7 path,
    line.time-shift-7 {
      stroke-dasharray: 15, 10, 5, 10;
    }
    g.time-shift-8 path,
    line.time-shift-8 {
      stroke-dasharray: 15, 10, 5, 10, 15;
    }
    g.time-shift-9 path,
    line.time-shift-9 {
      stroke-dasharray: 5, 5, 1, 5;
    }
    .nv-noData.body {
      font-size: ${({theme:t})=>t.typography.sizes.m};
      font-weight: ${({theme:t})=>t.typography.weights.normal};
    }
  }
  .superset-legacy-chart-nvd3-tr-highlight {
    border-top: 1px solid;
    border-bottom: 1px solid;
    font-weight: ${({theme:t})=>t.typography.weights.bold};
  }
  .superset-legacy-chart-nvd3-tr-total {
    font-weight: ${({theme:t})=>t.typography.weights.bold};
  }
  .nvtooltip {
    .tooltip-header {
      white-space: nowrap;
      font-weight: ${({theme:t})=>t.typography.weights.bold};
    }
    tbody tr:not(.tooltip-header) td:nth-child(2) {
      word-break: break-word;
    }
  }
  .d3-tip.nv-event-annotation-layer-table,
  .d3-tip.nv-event-annotation-layer-NATIVE {
    width: 200px;
    border-radius: 2px;
    background-color: #484848;
    fill-opacity: 0.6;
    margin: 8px;
    padding: 8px;
    color: #fff;
    &:after {
      content: '\25BC';
      font-size: ${({theme:t})=>t.typography.sizes.m};
      color: #484848;
      position: absolute;
      bottom: -14px;
      left: 94px;
    }
  }
`}}]);