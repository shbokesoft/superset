{"version":3,"sources":["webpack:///./images/empty.svg","webpack:///./node_modules/highlight.js/lib/languages/htmlbars.js","webpack:///./node_modules/highlight.js/lib/languages/json.js","webpack:///./node_modules/highlight.js/lib/languages/markdown.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/json.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/markdown.js","webpack:///./src/components/IndeterminateCheckbox/index.tsx","webpack:///./src/components/ListView/CardCollection.tsx","webpack:///./src/components/ListView/CardSortSelect.tsx","webpack:///./src/components/ListView/Filters/Base.ts","webpack:///./src/components/ListView/Filters/DateRange.tsx","webpack:///./src/components/ListView/Filters/Search.tsx","webpack:///./src/components/ListView/Filters/Select.tsx","webpack:///./src/components/ListView/Filters/index.tsx","webpack:///./src/components/ListView/ListView.tsx","webpack:///./src/components/ListView/index.ts","webpack:///./src/components/ListView/types.ts","webpack:///./src/components/ListView/utils.ts","webpack:///./src/components/SearchInput/index.tsx","webpack:///./src/views/CRUD/data/common.ts","webpack:///./src/views/CRUD/data/components/SyntaxHighlighterCopy/index.tsx","webpack:///./src/views/CRUD/data/hooks.ts","webpack:///./src/views/CRUD/data/query/QueryList.tsx","webpack:///./src/views/CRUD/data/query/QueryPreviewModal.tsx","webpack:///./src/views/CRUD/types.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAqB,gDAAgD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe,GAAG,wCAAwC;;AAE5R;;AAE/B,wBAAwB,mDAAmB;AAC3C;AACA;AACA;AACA;AACA,CAAC;;AAED,yBAAyB,mDAAmB;AAC5C;AACA;AACA,CAAC;;AAED;AACA,sBAAsB,mDAAmB;AACzC;AACA;AACA;AACA,GAAG;AACH;;AAEe,oFAAuB,yCAAyC,EAAC;;;;;;;;;;;;ACxBhF;AACA,WAAW,OAAO;AAClB,aAAa;AACb;;AAEA;AACA,WAAW,iBAAiB;AAC5B,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,sBAAsB;AACjC,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,aAAa,EAAE;AAC1D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,kBAAkB,KAAK,OAAO;AAC/D;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,GAAG;;AAEH,qDAAqD,YAAY,EAAE;AACnE,4DAA4D,iBAAiB,EAAE;;AAE/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,EAAE,WAAW,EAAE;AACrC,sBAAsB,EAAE,OAAO,EAAE;AACjC;AACA,+BAA+B,OAAO,2BAA2B,QAAQ;AACzE;AACA,kBAAkB,EAAE,EAAE,EAAE;AACxB,gBAAgB,EAAE,EAAE,EAAE;AACtB;AACA,iBAAiB,QAAQ,EAAE,EAAE,EAAE;AAC/B,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE,EAAE,EAAE;AACxB,gBAAgB,EAAE,EAAE,EAAE;AACtB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA,kBAAkB,EAAE,SAAS,EAAE;AAC/B,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE,EAAE;AACtB,gBAAgB,EAAE,EAAE;AACpB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AC/SA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY,GAAG,uBAAuB;AAC7C,OAAO,YAAY,GAAG,uBAAuB;AAC7C;AACA,OAAO,iCAAiC;AACxC,OAAO,iCAAiC;AACxC,OAAO,iBAAiB;AACxB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,WAAW,aAAa,EAAE;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,UAAU,EAAE,WAAW,EAAE,GAAG;AACnC,OAAO,WAAW,EAAE,YAAY,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,+BAA+B;AACtC,OAAO,yCAAyC;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,IAAI;AACvB;AACA;AACA,QAAQ;AACR;AACA,+BAA+B,GAAG;AAClC;AACA,WAAW,mBAAmB;AAC9B,WAAW,gDAAgD;AAC3D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAC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","file":"QueryList.9ed865ea.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M83.195 1.366L103 24v38a4 4 0 01-4 4H20a4 4 0 01-4-4V24L35.805 1.366A4 4 0 0138.815 0h41.37a4 4 0 013.01 1.366zM101 26v36a2 2 0 01-2 2H20a2 2 0 01-2-2V26h17.25A4.75 4.75 0 0140 30.75a6.75 6.75 0 006.75 6.75h25.5A6.75 6.75 0 0079 30.75 4.75 4.75 0 0183.75 26H101zm-.658-2L81.69 2.683A2 2 0 0080.185 2h-41.37a2 2 0 00-1.505.683L18.657 24H35.25A6.75 6.75 0 0142 30.75a4.75 4.75 0 004.75 4.75h25.5A4.75 4.75 0 0077 30.75 6.75 6.75 0 0183.75 24h16.592z\",\n  fill: \"#D1D1D1\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 53.29C6.074 55.7 0 58.94 0 62.5 0 69.956 26.64 76 59.5 76S119 69.956 119 62.5c0-3.56-6.074-6.799-16-9.21V62a4 4 0 01-4 4H20a4 4 0 01-4-4v-8.71z\",\n  fill: \"#F2F2F2\"\n});\n\nfunction SvgEmpty(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 119,\n    height: 76,\n    fill: \"none\"\n  }, props), _ref, _ref2);\n}\n\nexport default __webpack_public_path__ + \"139f4a903d3a105300fc2d4c22f0931d.svg\";\nexport { SvgEmpty as ReactComponent };","/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/*\nLanguage: Handlebars\nRequires: xml.js\nAuthor: Robin Ward <robin.ward@gmail.com>\nDescription: Matcher for Handlebars as well as EmberJS additions.\nWebsite: https://handlebarsjs.com\nCategory: template\n*/\n\nfunction handlebars(hljs) {\n  const BUILT_INS = {\n    'builtin-name': [\n      'action',\n      'bindattr',\n      'collection',\n      'component',\n      'concat',\n      'debugger',\n      'each',\n      'each-in',\n      'get',\n      'hash',\n      'if',\n      'in',\n      'input',\n      'link-to',\n      'loc',\n      'log',\n      'lookup',\n      'mut',\n      'outlet',\n      'partial',\n      'query-params',\n      'render',\n      'template',\n      'textarea',\n      'unbound',\n      'unless',\n      'view',\n      'with',\n      'yield'\n    ].join(\" \")\n  };\n\n  const LITERALS = {\n    literal: [\n      'true',\n      'false',\n      'undefined',\n      'null'\n    ].join(\" \")\n  };\n\n  // as defined in https://handlebarsjs.com/guide/expressions.html#literal-segments\n  // this regex matches literal segments like ' abc ' or [ abc ] as well as helpers and paths\n  // like a/b, ./abc/cde, and abc.bcd\n\n  const DOUBLE_QUOTED_ID_REGEX=/\".*?\"/;\n  const SINGLE_QUOTED_ID_REGEX=/'.*?'/;\n  const BRACKET_QUOTED_ID_REGEX=/\\[.*?\\]/;\n  const PLAIN_ID_REGEX=/[^\\s!\"#%&'()*+,.\\/;<=>@\\[\\\\\\]^`{|}~]+/;\n  const PATH_DELIMITER_REGEX=/\\.|\\//;\n\n  const IDENTIFIER_REGEX = concat(\n    '(',\n    SINGLE_QUOTED_ID_REGEX, '|',\n    DOUBLE_QUOTED_ID_REGEX, '|',\n    BRACKET_QUOTED_ID_REGEX, '|',\n    PLAIN_ID_REGEX, '|',\n    PATH_DELIMITER_REGEX,\n    ')+'\n  );\n\n  // identifier followed by a equal-sign (without the equal sign)\n  const HASH_PARAM_REGEX = concat(\n    '(',\n    BRACKET_QUOTED_ID_REGEX, '|',\n    PLAIN_ID_REGEX,\n    ')(?==)'\n  );\n\n  const HELPER_NAME_OR_PATH_EXPRESSION = {\n    begin: IDENTIFIER_REGEX,\n    lexemes: /[\\w.\\/]+/\n  };\n\n  const HELPER_PARAMETER = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: LITERALS\n  });\n\n  const SUB_EXPRESSION = {\n    begin: /\\(/,\n    end: /\\)/\n    // the \"contains\" is added below when all necessary sub-modes are defined\n  };\n\n  const HASH = {\n    // fka \"attribute-assignment\", parameters of the form 'key=value'\n    className: 'attr',\n    begin: HASH_PARAM_REGEX,\n    relevance: 0,\n    starts: {\n      begin: /=/,\n      end: /=/,\n      starts: {\n        contains: [\n          hljs.NUMBER_MODE,\n          hljs.QUOTE_STRING_MODE,\n          hljs.APOS_STRING_MODE,\n          HELPER_PARAMETER,\n          SUB_EXPRESSION\n        ]\n      }\n    }\n  };\n\n  const BLOCK_PARAMS = {\n    // parameters of the form '{{#with x as | y |}}...{{/with}}'\n    begin: /as\\s+\\|/,\n    keywords: { keyword: 'as' },\n    end: /\\|/,\n    contains: [\n      {\n        // define sub-mode in order to prevent highlighting of block-parameter named \"as\"\n        begin: /\\w+/\n      }\n    ]\n  };\n\n  const HELPER_PARAMETERS = {\n    contains: [\n      hljs.NUMBER_MODE,\n      hljs.QUOTE_STRING_MODE,\n      hljs.APOS_STRING_MODE,\n      BLOCK_PARAMS,\n      HASH,\n      HELPER_PARAMETER,\n      SUB_EXPRESSION\n    ],\n    returnEnd: true\n    // the property \"end\" is defined through inheritance when the mode is used. If depends\n    // on the surrounding mode, but \"endsWithParent\" does not work here (i.e. it includes the\n    // end-token of the surrounding mode)\n  };\n\n  const SUB_EXPRESSION_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    className: 'name',\n    keywords: BUILT_INS,\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /\\)/,\n    })\n  });\n\n  SUB_EXPRESSION.contains = [\n    SUB_EXPRESSION_CONTENTS\n  ];\n\n  const OPENING_BLOCK_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: BUILT_INS,\n    className: 'name',\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /}}/,\n    })\n  });\n\n  const CLOSING_BLOCK_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: BUILT_INS,\n    className: 'name'\n  });\n\n  const BASIC_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    className: 'name',\n    keywords: BUILT_INS,\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /}}/,\n    })\n  });\n\n  const ESCAPE_MUSTACHE_WITH_PRECEEDING_BACKSLASH = {begin: /\\\\\\{\\{/, skip: true};\n  const PREVENT_ESCAPE_WITH_ANOTHER_PRECEEDING_BACKSLASH = {begin: /\\\\\\\\(?=\\{\\{)/, skip: true};\n\n  return {\n    name: 'Handlebars',\n    aliases: ['hbs', 'html.hbs', 'html.handlebars', 'htmlbars'],\n    case_insensitive: true,\n    subLanguage: 'xml',\n    contains: [\n      ESCAPE_MUSTACHE_WITH_PRECEEDING_BACKSLASH,\n      PREVENT_ESCAPE_WITH_ANOTHER_PRECEEDING_BACKSLASH,\n      hljs.COMMENT(/\\{\\{!--/, /--\\}\\}/),\n      hljs.COMMENT(/\\{\\{!/, /\\}\\}/),\n      {\n        // open raw block \"{{{{raw}}}} content not evaluated {{{{/raw}}}}\"\n        className: 'template-tag',\n        begin: /\\{\\{\\{\\{(?!\\/)/,\n        end: /\\}\\}\\}\\}/,\n        contains: [OPENING_BLOCK_MUSTACHE_CONTENTS],\n        starts: {end: /\\{\\{\\{\\{\\//, returnEnd: true, subLanguage: 'xml'}\n      },\n      {\n        // close raw block\n        className: 'template-tag',\n        begin: /\\{\\{\\{\\{\\//,\n        end: /\\}\\}\\}\\}/,\n        contains: [CLOSING_BLOCK_MUSTACHE_CONTENTS]\n      },\n      {\n        // open block statement\n        className: 'template-tag',\n        begin: /\\{\\{#/,\n        end: /\\}\\}/,\n        contains: [OPENING_BLOCK_MUSTACHE_CONTENTS],\n      },\n      {\n        className: 'template-tag',\n        begin: /\\{\\{(?=else\\}\\})/,\n        end: /\\}\\}/,\n        keywords: 'else'\n      },\n      {\n        className: 'template-tag',\n        begin: /\\{\\{(?=else if)/,\n        end: /\\}\\}/,\n        keywords: 'else if'\n      },\n      {\n        // closing block statement\n        className: 'template-tag',\n        begin: /\\{\\{\\//,\n        end: /\\}\\}/,\n        contains: [CLOSING_BLOCK_MUSTACHE_CONTENTS],\n      },\n      {\n        // template variable or helper-call that is NOT html-escaped\n        className: 'template-variable',\n        begin: /\\{\\{\\{/,\n        end: /\\}\\}\\}/,\n        contains: [BASIC_MUSTACHE_CONTENTS]\n      },\n      {\n        // template variable or helper-call that is html-escaped\n        className: 'template-variable',\n        begin: /\\{\\{/,\n        end: /\\}\\}/,\n        contains: [BASIC_MUSTACHE_CONTENTS]\n      }\n    ]\n  };\n}\n\n/*\n Language: HTMLBars (legacy)\n Requires: xml.js\n Description: Matcher for Handlebars as well as EmberJS additions.\n Website: https://github.com/tildeio/htmlbars\n Category: template\n */\n\nfunction htmlbars(hljs) {\n  const definition = handlebars(hljs);\n\n  definition.name = \"HTMLbars\";\n\n  // HACK: This lets handlebars do the auto-detection if it's been loaded (by\n  // default the build script will load in alphabetical order) and if not (perhaps\n  // an install is only using `htmlbars`, not `handlebars`) then this will still\n  // allow HTMLBars to participate in the auto-detection\n\n  // worse case someone will have HTMLbars and handlebars competing for the same\n  // content and will need to change their setup to only require handlebars, but\n  // I don't consider this a breaking change\n  if (hljs.getLanguage(\"handlebars\")) {\n    definition.disableAutodetect = true;\n  }\n\n  return definition\n}\n\nmodule.exports = htmlbars;\n","/*\nLanguage: JSON\nDescription: JSON (JavaScript Object Notation) is a lightweight data-interchange format.\nAuthor: Ivan Sagalaev <maniac@softwaremaniacs.org>\nWebsite: http://www.json.org\nCategory: common, protocols\n*/\n\nfunction json(hljs) {\n  var LITERALS = {literal: 'true false null'};\n  var ALLOWED_COMMENTS = [\n    hljs.C_LINE_COMMENT_MODE,\n    hljs.C_BLOCK_COMMENT_MODE\n  ];\n  var TYPES = [\n    hljs.QUOTE_STRING_MODE,\n    hljs.C_NUMBER_MODE\n  ];\n  var VALUE_CONTAINER = {\n    end: ',', endsWithParent: true, excludeEnd: true,\n    contains: TYPES,\n    keywords: LITERALS\n  };\n  var OBJECT = {\n    begin: '{', end: '}',\n    contains: [\n      {\n        className: 'attr',\n        begin: /\"/, end: /\"/,\n        contains: [hljs.BACKSLASH_ESCAPE],\n        illegal: '\\\\n',\n      },\n      hljs.inherit(VALUE_CONTAINER, {begin: /:/})\n    ].concat(ALLOWED_COMMENTS),\n    illegal: '\\\\S'\n  };\n  var ARRAY = {\n    begin: '\\\\[', end: '\\\\]',\n    contains: [hljs.inherit(VALUE_CONTAINER)], // inherit is a workaround for a bug that makes shared modes with endsWithParent compile only the ending of one of the parents\n    illegal: '\\\\S'\n  };\n  TYPES.push(OBJECT, ARRAY);\n  ALLOWED_COMMENTS.forEach(function(rule) {\n    TYPES.push(rule);\n  });\n  return {\n    name: 'JSON',\n    contains: TYPES,\n    keywords: LITERALS,\n    illegal: '\\\\S'\n  };\n}\n\nmodule.exports = json;\n","/*\nLanguage: Markdown\nRequires: xml.js\nAuthor: John Crepezzi <john.crepezzi@gmail.com>\nWebsite: https://daringfireball.net/projects/markdown/\nCategory: common, markup\n*/\n\nfunction markdown(hljs) {\n  const INLINE_HTML = {\n    begin: '<', end: '>',\n    subLanguage: 'xml',\n    relevance: 0\n  };\n  const HORIZONTAL_RULE = {\n    begin: '^[-\\\\*]{3,}', end: '$'\n  };\n  const CODE = {\n    className: 'code',\n    variants: [\n      // TODO: fix to allow these to work with sublanguage also\n      { begin: '(`{3,})(.|\\\\n)*?\\\\1`*[ ]*', },\n      { begin: '(~{3,})(.|\\\\n)*?\\\\1~*[ ]*', },\n      // needed to allow markdown as a sublanguage to work\n      { begin: '```', end: '```+[ ]*$' },\n      { begin: '~~~', end: '~~~+[ ]*$' },\n      { begin: '`.+?`' },\n      {\n        begin: '(?=^( {4}|\\\\t))',\n        // use contains to gobble up multiple lines to allow the block to be whatever size\n        // but only have a single open/close tag vs one per line\n        contains: [\n          { begin: '^( {4}|\\\\t)', end: '(\\\\n)$' }\n        ],\n        relevance: 0\n      }\n    ]\n  };\n  const LIST = {\n    className: 'bullet',\n    begin: '^[ \\t]*([*+-]|(\\\\d+\\\\.))(?=\\\\s+)',\n    end: '\\\\s+',\n    excludeEnd: true\n  };\n  const LINK_REFERENCE = {\n    begin: /^\\[[^\\n]+\\]:/,\n    returnBegin: true,\n    contains: [\n      {\n        className: 'symbol',\n        begin: /\\[/, end: /\\]/,\n        excludeBegin: true, excludeEnd: true\n      },\n      {\n        className: 'link',\n        begin: /:\\s*/, end: /$/,\n        excludeBegin: true\n      }\n    ]\n  };\n  const LINK = {\n    begin: '\\\\[.+?\\\\][\\\\(\\\\[].*?[\\\\)\\\\]]',\n    returnBegin: true,\n    contains: [\n      {\n        className: 'string',\n        begin: '\\\\[', end: '\\\\]',\n        excludeBegin: true,\n        returnEnd: true,\n        relevance: 0\n      },\n      {\n        className: 'link',\n        begin: '\\\\]\\\\(', end: '\\\\)',\n        excludeBegin: true, excludeEnd: true\n      },\n      {\n        className: 'symbol',\n        begin: '\\\\]\\\\[', end: '\\\\]',\n        excludeBegin: true, excludeEnd: true\n      }\n    ],\n    relevance: 10\n  };\n  const BOLD = {\n    className: 'strong',\n    contains: [],\n    variants: [\n      {begin: /_{2}/, end: /_{2}/ },\n      {begin: /\\*{2}/, end: /\\*{2}/ }\n    ]\n  };\n  const ITALIC = {\n    className: 'emphasis',\n    contains: [],\n    variants: [\n      { begin: /\\*(?!\\*)/, end: /\\*/ },\n      { begin: /_(?!_)/, end: /_/, relevance: 0},\n    ]\n  };\n  BOLD.contains.push(ITALIC);\n  ITALIC.contains.push(BOLD);\n\n  var CONTAINABLE = [\n    INLINE_HTML,\n    LINK\n  ];\n\n  BOLD.contains = BOLD.contains.concat(CONTAINABLE);\n  ITALIC.contains = ITALIC.contains.concat(CONTAINABLE);\n\n  CONTAINABLE = CONTAINABLE.concat(BOLD,ITALIC);\n\n  const HEADER = {\n    className: 'section',\n    variants: [\n      {\n        begin: '^#{1,6}',\n        end: '$',\n        contains: CONTAINABLE\n       },\n      {\n        begin: '(?=^.+?\\\\n[=-]{2,}$)',\n        contains: [\n          { begin: '^[=-]*$' },\n          { begin: '^', end: \"\\\\n\", contains: CONTAINABLE },\n        ]\n       }\n    ]\n  };\n\n  const BLOCKQUOTE = {\n    className: 'quote',\n    begin: '^>\\\\s+',\n    contains: CONTAINABLE,\n    end: '$',\n  };\n\n  return {\n    name: 'Markdown',\n    aliases: ['md', 'mkdown', 'mkd'],\n    contains: [\n      HEADER,\n      INLINE_HTML,\n      LIST,\n      BOLD,\n      ITALIC,\n      BLOCKQUOTE,\n      CODE,\n      HORIZONTAL_RULE,\n      LINK,\n      LINK_REFERENCE\n    ]\n  };\n}\n\nmodule.exports = markdown;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _htmlbars = _interopRequireDefault(require(\"highlight.js/lib/languages/htmlbars\"));\n\nvar _default = _htmlbars.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _json = _interopRequireDefault(require(\"highlight.js/lib/languages/json\"));\n\nvar _default = _json.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _markdown = _interopRequireDefault(require(\"highlight.js/lib/languages/markdown\"));\n\nvar _default = _markdown.default;\nexports.default = _default;","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled } from '@superset-ui/core';\r\nimport Icon from 'src/components/Icon';\r\n\r\nexport interface IndeterminateCheckboxProps {\r\n  indeterminate: boolean;\r\n  id: string;\r\n  checked: boolean;\r\n  onChange: React.EventHandler<React.SyntheticEvent<HTMLInputElement>>;\r\n  title?: string;\r\n  labelText?: string;\r\n}\r\n\r\nconst CheckboxLabel = styled.label`\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  margin-bottom: 0;\r\n`;\r\n\r\nconst IconWithColor = styled(Icon)`\r\n  color: ${({ theme }) => theme.colors.primary.dark1};\r\n  cursor: pointer;\r\n`;\r\n\r\nconst HiddenInput = styled.input`\r\n  &[type='checkbox'] {\r\n    cursor: pointer;\r\n    opacity: 0;\r\n    position: absolute;\r\n    left: 3px;\r\n    margin: 0;\r\n    top: 4px;\r\n  }\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  position: relative;\r\n`;\r\n\r\nconst IndeterminateCheckbox = React.forwardRef(\r\n  (\r\n    {\r\n      indeterminate,\r\n      id,\r\n      checked,\r\n      onChange,\r\n      title = '',\r\n      labelText = '',\r\n    }: IndeterminateCheckboxProps,\r\n    ref: React.MutableRefObject<any>,\r\n  ) => {\r\n    const defaultRef = React.useRef<HTMLInputElement>();\r\n    const resolvedRef = ref || defaultRef;\r\n\r\n    React.useEffect(() => {\r\n      resolvedRef.current.indeterminate = indeterminate;\r\n    }, [resolvedRef, indeterminate]);\r\n\r\n    return (\r\n      <>\r\n        <InputContainer>\r\n          {indeterminate && <IconWithColor name=\"checkbox-half\" />}\r\n          {!indeterminate && checked && <IconWithColor name=\"checkbox-on\" />}\r\n          {!indeterminate && !checked && <Icon name=\"checkbox-off\" />}\r\n          <HiddenInput\r\n            name={id}\r\n            id={id}\r\n            type=\"checkbox\"\r\n            ref={resolvedRef}\r\n            checked={checked}\r\n            onChange={onChange}\r\n          />\r\n        </InputContainer>\r\n        <CheckboxLabel title={title} htmlFor={id}>\r\n          {labelText}\r\n        </CheckboxLabel>\r\n      </>\r\n    );\r\n  },\r\n);\r\n\r\nexport default IndeterminateCheckbox;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { TableInstance, Row } from 'react-table';\r\nimport { styled } from '@superset-ui/core';\r\nimport cx from 'classnames';\r\n\r\ninterface CardCollectionProps {\r\n  bulkSelectEnabled?: boolean;\r\n  loading: boolean;\r\n  prepareRow: TableInstance['prepareRow'];\r\n  renderCard?: (row: any) => React.ReactNode;\r\n  rows: TableInstance['rows'];\r\n}\r\n\r\nconst CardContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(459px, 1fr));\r\n  grid-gap: ${({ theme }) => theme.gridUnit * 8}px;\r\n`;\r\n\r\nconst CardWrapper = styled.div`\r\n  border: 2px solid transparent;\r\n  &.card-selected {\r\n    border: 2px solid ${({ theme }) => theme.colors.primary.base};\r\n  }\r\n  &.bulk-select {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default function CardCollection({\r\n  bulkSelectEnabled,\r\n  loading,\r\n  prepareRow,\r\n  renderCard,\r\n  rows,\r\n}: CardCollectionProps) {\r\n  function handleClick(\r\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>,\r\n    toggleRowSelected: Row['toggleRowSelected'],\r\n  ) {\r\n    if (bulkSelectEnabled) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      toggleRowSelected();\r\n    }\r\n  }\r\n\r\n  if (!renderCard) return null;\r\n  return (\r\n    <CardContainer>\r\n      {loading &&\r\n        rows.length === 0 &&\r\n        [...new Array(25)].map((e, i) => (\r\n          <div key={i}>{renderCard({ loading })}</div>\r\n        ))}\r\n      {rows.length > 0 &&\r\n        rows.map(row => {\r\n          if (!renderCard) return null;\r\n          prepareRow(row);\r\n          return (\r\n            <CardWrapper\r\n              className={cx({\r\n                'card-selected': bulkSelectEnabled && row.isSelected,\r\n                'bulk-select': bulkSelectEnabled,\r\n              })}\r\n              key={row.id}\r\n              onClick={e => handleClick(e, row.toggleRowSelected)}\r\n              role=\"none\"\r\n            >\r\n              {renderCard({ ...row.original, loading })}\r\n            </CardWrapper>\r\n          );\r\n        })}\r\n    </CardContainer>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport { styled, withTheme, SupersetThemeProps, t } from '@superset-ui/core';\r\nimport { PartialThemeConfig, Select } from 'src/components/Select';\r\nimport { CardSortSelectOption, FetchDataConfig, SortColumn } from './types';\r\nimport { filterSelectStyles } from './utils';\r\n\r\nconst SortTitle = styled.label`\r\n  font-weight: bold;\r\n  line-height: 27px;\r\n  margin: 0 0.4em 0 0;\r\n`;\r\n\r\nconst SortContainer = styled.div`\r\n  display: inline-flex;\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  padding-top: ${({ theme }) => theme.gridUnit}px;\r\n  text-align: left;\r\n`;\r\ninterface CardViewSelectSortProps {\r\n  onChange: (conf: FetchDataConfig) => any;\r\n  options: Array<CardSortSelectOption>;\r\n  initialSort?: SortColumn[];\r\n  pageIndex: number;\r\n  pageSize: number;\r\n}\r\n\r\ninterface StyledSelectProps {\r\n  onChange: (value: CardSortSelectOption) => void;\r\n  options: CardSortSelectOption[];\r\n  selectStyles: any;\r\n  theme: SupersetThemeProps['theme'];\r\n  value: CardSortSelectOption;\r\n}\r\n\r\nfunction StyledSelect({\r\n  onChange,\r\n  options,\r\n  selectStyles,\r\n  theme,\r\n  value,\r\n}: StyledSelectProps) {\r\n  const filterSelectTheme: PartialThemeConfig = {\r\n    spacing: {\r\n      baseUnit: 1,\r\n      fontSize: theme.typography.sizes.s,\r\n      minWidth: '5em',\r\n    },\r\n  };\r\n  return (\r\n    <Select\r\n      data-test=\"card-sort-select\"\r\n      clearable={false}\r\n      onChange={onChange}\r\n      options={options}\r\n      stylesConfig={selectStyles}\r\n      themeConfig={filterSelectTheme}\r\n      value={value}\r\n    />\r\n  );\r\n}\r\n\r\nconst StyledCardSortSelect = withTheme(StyledSelect);\r\n\r\nexport const CardSortSelect = ({\r\n  initialSort,\r\n  onChange,\r\n  options,\r\n  pageIndex,\r\n  pageSize,\r\n}: CardViewSelectSortProps) => {\r\n  const defaultSort =\r\n    initialSort && options.find(({ id }) => id === initialSort[0].id);\r\n  const [selectedOption, setSelectedOption] = useState<CardSortSelectOption>(\r\n    defaultSort || options[0],\r\n  );\r\n\r\n  const handleOnChange = (selected: CardSortSelectOption) => {\r\n    setSelectedOption(selected);\r\n    const sortBy = [{ id: selected.id, desc: selected.desc }];\r\n    onChange({ pageIndex, pageSize, sortBy, filters: [] });\r\n  };\r\n\r\n  return (\r\n    <SortContainer>\r\n      <SortTitle>{t('Sort:')}</SortTitle>\r\n      <StyledCardSortSelect\r\n        onChange={(value: CardSortSelectOption) => handleOnChange(value)}\r\n        options={options}\r\n        selectStyles={filterSelectStyles}\r\n        value={selectedOption}\r\n      />\r\n    </SortContainer>\r\n  );\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { ReactNode } from 'react';\r\nimport { styled } from '@superset-ui/core';\r\n\r\nexport interface BaseFilter {\r\n  Header: ReactNode;\r\n  initialValue: any;\r\n}\r\n\r\nexport const FilterContainer = styled.div`\r\n  display: inline-flex;\r\n  margin-right: 2em;\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  align-items: center;\r\n`;\r\n\r\nexport const FilterTitle = styled.label`\r\n  font-weight: bold;\r\n  margin: 0 0.4em 0 0;\r\n`;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState, useMemo } from 'react';\r\nimport moment, { Moment } from 'moment';\r\nimport { styled } from '@superset-ui/core';\r\nimport { RangePicker as AntRangePicker } from 'src/components/DatePicker';\r\nimport { FilterContainer, BaseFilter, FilterTitle } from './Base';\r\n\r\ninterface DateRangeFilterProps extends BaseFilter {\r\n  onSubmit: (val: number[]) => void;\r\n  name: string;\r\n}\r\n\r\ntype ValueState = [number, number];\r\n\r\nconst RangePicker = styled(AntRangePicker)`\r\n  padding: 0 11px;\r\n  transform: translateX(-7px);\r\n`;\r\n\r\nconst RangeFilterContainer = styled(FilterContainer)`\r\n  margin-right: 1em;\r\n`;\r\n\r\nexport default function DateRangeFilter({\r\n  Header,\r\n  initialValue,\r\n  onSubmit,\r\n}: DateRangeFilterProps) {\r\n  const [value, setValue] = useState<ValueState | null>(initialValue ?? null);\r\n  const momentValue = useMemo((): [Moment, Moment] | null => {\r\n    if (!value || (Array.isArray(value) && !value.length)) return null;\r\n    return [moment(value[0]), moment(value[1])];\r\n  }, [value]);\r\n\r\n  return (\r\n    <RangeFilterContainer>\r\n      <FilterTitle>{Header}:</FilterTitle>\r\n      <RangePicker\r\n        showTime\r\n        bordered={false}\r\n        value={momentValue}\r\n        onChange={momentRange => {\r\n          if (!momentRange) {\r\n            setValue(null);\r\n            onSubmit([]);\r\n            return;\r\n          }\r\n          const changeValue = [\r\n            momentRange[0]?.valueOf() ?? 0,\r\n            momentRange[1]?.valueOf() ?? 0,\r\n          ] as ValueState;\r\n          setValue(changeValue);\r\n          onSubmit(changeValue);\r\n        }}\r\n      />\r\n    </RangeFilterContainer>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport SearchInput from 'src/components/SearchInput';\r\nimport { FilterContainer, BaseFilter } from './Base';\r\n\r\ninterface SearchHeaderProps extends BaseFilter {\r\n  Header: string;\r\n  onSubmit: (val: string) => void;\r\n  name: string;\r\n}\r\n\r\nexport default function SearchFilter({\r\n  Header,\r\n  name,\r\n  initialValue,\r\n  onSubmit,\r\n}: SearchHeaderProps) {\r\n  const [value, setValue] = useState(initialValue || '');\r\n  const handleSubmit = () => {\r\n    if (value) {\r\n      onSubmit(value);\r\n    }\r\n  };\r\n  const onClear = () => {\r\n    setValue('');\r\n    onSubmit('');\r\n  };\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue(e.currentTarget.value);\r\n    if (e.currentTarget.value === '') {\r\n      onClear();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FilterContainer>\r\n      <SearchInput\r\n        data-test=\"filters-search\"\r\n        placeholder={Header}\r\n        name={name}\r\n        value={value}\r\n        onChange={handleChange}\r\n        onSubmit={handleSubmit}\r\n        onClear={onClear}\r\n      />\r\n    </FilterContainer>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport { withTheme, SupersetThemeProps } from '@superset-ui/core';\r\nimport {\r\n  Select,\r\n  PaginatedSelect,\r\n  PartialThemeConfig,\r\n} from 'src/components/Select';\r\nimport { Filter, SelectOption } from 'src/components/ListView/types';\r\nimport { filterSelectStyles } from 'src/components/ListView/utils';\r\nimport { FilterContainer, BaseFilter, FilterTitle } from './Base';\r\n\r\ninterface SelectFilterProps extends BaseFilter {\r\n  emptyLabel?: string;\r\n  fetchSelects?: Filter['fetchSelects'];\r\n  name?: string;\r\n  onSelect: (selected: any) => any;\r\n  paginate?: boolean;\r\n  selects: Filter['selects'];\r\n  theme: SupersetThemeProps['theme'];\r\n}\r\n\r\nconst CLEAR_SELECT_FILTER_VALUE = 'CLEAR_SELECT_FILTER_VALUE';\r\n\r\nfunction SelectFilter({\r\n  Header,\r\n  emptyLabel = 'None',\r\n  fetchSelects,\r\n  initialValue,\r\n  onSelect,\r\n  paginate = false,\r\n  selects = [],\r\n  theme,\r\n}: SelectFilterProps) {\r\n  const filterSelectTheme: PartialThemeConfig = {\r\n    spacing: {\r\n      baseUnit: 2,\r\n      fontSize: theme.typography.sizes.s,\r\n      minWidth: '5em',\r\n    },\r\n  };\r\n\r\n  const clearFilterSelect = {\r\n    label: emptyLabel,\r\n    value: CLEAR_SELECT_FILTER_VALUE,\r\n  };\r\n\r\n  const options = [clearFilterSelect, ...selects];\r\n  let initialOption = clearFilterSelect;\r\n\r\n  // Set initial value if not async\r\n  if (!fetchSelects) {\r\n    const matchingOption = options.find(x => x.value === initialValue);\r\n\r\n    if (matchingOption) {\r\n      initialOption = matchingOption;\r\n    }\r\n  }\r\n\r\n  const [selectedOption, setSelectedOption] = useState(initialOption);\r\n  const onChange = (selected: SelectOption | null) => {\r\n    if (selected === null) return;\r\n    onSelect(\r\n      selected.value === CLEAR_SELECT_FILTER_VALUE ? undefined : selected.value,\r\n    );\r\n    setSelectedOption(selected);\r\n  };\r\n\r\n  const fetchAndFormatSelects = async (\r\n    inputValue: string,\r\n    loadedOptions: SelectOption[],\r\n    { page }: { page: number },\r\n  ) => {\r\n    // only include clear filter when filter value does not exist\r\n    let result = inputValue || page > 0 ? [] : [clearFilterSelect];\r\n    let hasMore = paginate;\r\n    if (fetchSelects) {\r\n      const selectValues = await fetchSelects(inputValue, page);\r\n      // update matching option at initial load\r\n      if (!selectValues.length) {\r\n        hasMore = false;\r\n      }\r\n      result = [...result, ...selectValues];\r\n\r\n      const matchingOption = result.find(x => x.value === initialValue);\r\n\r\n      if (matchingOption) {\r\n        setSelectedOption(matchingOption);\r\n      }\r\n    }\r\n\r\n    return {\r\n      options: result,\r\n      hasMore,\r\n      additional: {\r\n        page: page + 1,\r\n      },\r\n    };\r\n  };\r\n\r\n  return (\r\n    <FilterContainer>\r\n      <FilterTitle>{Header}:</FilterTitle>\r\n      {fetchSelects ? (\r\n        <PaginatedSelect\r\n          data-test=\"filters-select\"\r\n          defaultOptions\r\n          themeConfig={filterSelectTheme}\r\n          stylesConfig={filterSelectStyles}\r\n          // @ts-ignore\r\n          value={selectedOption}\r\n          // @ts-ignore\r\n          onChange={onChange}\r\n          // @ts-ignore\r\n          loadOptions={fetchAndFormatSelects}\r\n          placeholder={emptyLabel}\r\n          clearable={false}\r\n          additional={{\r\n            page: 0,\r\n          }}\r\n        />\r\n      ) : (\r\n        <Select\r\n          data-test=\"filters-select\"\r\n          themeConfig={filterSelectTheme}\r\n          stylesConfig={filterSelectStyles}\r\n          value={selectedOption}\r\n          options={options}\r\n          onChange={onChange}\r\n          clearable={false}\r\n        />\r\n      )}\r\n    </FilterContainer>\r\n  );\r\n}\r\nexport default withTheme(SelectFilter);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled, withTheme } from '@superset-ui/core';\r\n\r\nimport {\r\n  FilterValue,\r\n  Filters,\r\n  InternalFilter,\r\n} from 'src/components/ListView/types';\r\nimport SearchFilter from './Search';\r\nimport SelectFilter from './Select';\r\nimport DateRangeFilter from './DateRange';\r\n\r\ninterface UIFiltersProps {\r\n  filters: Filters;\r\n  internalFilters: InternalFilter[];\r\n  updateFilterValue: (id: number, value: FilterValue['value']) => void;\r\n}\r\n\r\nconst FilterWrapper = styled.div`\r\n  display: inline-block;\r\n`;\r\n\r\nfunction UIFilters({\r\n  filters,\r\n  internalFilters = [],\r\n  updateFilterValue,\r\n}: UIFiltersProps) {\r\n  return (\r\n    <FilterWrapper>\r\n      {filters.map(\r\n        (\r\n          {\r\n            Header,\r\n            fetchSelects,\r\n            id,\r\n            input,\r\n            paginate,\r\n            selects,\r\n            unfilteredLabel,\r\n          },\r\n          index,\r\n        ) => {\r\n          const initialValue =\r\n            internalFilters[index] && internalFilters[index].value;\r\n          if (input === 'select') {\r\n            return (\r\n              <SelectFilter\r\n                Header={Header}\r\n                emptyLabel={unfilteredLabel}\r\n                fetchSelects={fetchSelects}\r\n                initialValue={initialValue}\r\n                key={id}\r\n                name={id}\r\n                onSelect={(value: any) => updateFilterValue(index, value)}\r\n                paginate={paginate}\r\n                selects={selects}\r\n              />\r\n            );\r\n          }\r\n          if (input === 'search' && typeof Header === 'string') {\r\n            return (\r\n              <SearchFilter\r\n                Header={Header}\r\n                initialValue={initialValue}\r\n                key={id}\r\n                name={id}\r\n                onSubmit={(value: string) => updateFilterValue(index, value)}\r\n              />\r\n            );\r\n          }\r\n          if (input === 'datetime_range') {\r\n            return (\r\n              <DateRangeFilter\r\n                Header={Header}\r\n                initialValue={initialValue}\r\n                key={id}\r\n                name={id}\r\n                onSubmit={value => updateFilterValue(index, value)}\r\n              />\r\n            );\r\n          }\r\n          return null;\r\n        },\r\n      )}\r\n    </FilterWrapper>\r\n  );\r\n}\r\n\r\nexport default withTheme(UIFilters);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t, styled } from '@superset-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport { Empty } from 'src/common/components';\r\nimport Alert from 'src/components/Alert';\r\nimport { ReactComponent as EmptyImage } from 'images/empty.svg';\r\nimport cx from 'classnames';\r\nimport Button from 'src/components/Button';\r\nimport Icon from 'src/components/Icon';\r\nimport IndeterminateCheckbox from 'src/components/IndeterminateCheckbox';\r\nimport { TableCollection, Pagination } from 'src/components/dataViewCommon';\r\nimport CardCollection from './CardCollection';\r\nimport FilterControls from './Filters';\r\nimport { CardSortSelect } from './CardSortSelect';\r\nimport {\r\n  FetchDataConfig,\r\n  Filters,\r\n  SortColumn,\r\n  CardSortSelectOption,\r\n  ViewModeType,\r\n} from './types';\r\nimport { ListViewError, useListViewState } from './utils';\r\n\r\nconst ListViewStyles = styled.div`\r\n  text-align: center;\r\n\r\n  .superset-list-view {\r\n    text-align: left;\r\n    border-radius: 4px 0;\r\n    margin: 0 ${({ theme }) => theme.gridUnit * 4}px;\r\n\r\n    .header {\r\n      display: flex;\r\n      padding-bottom: ${({ theme }) => theme.gridUnit * 4}px;\r\n\r\n      .header-left {\r\n        display: flex;\r\n        flex: 5;\r\n      }\r\n      .header-right {\r\n        flex: 1;\r\n        text-align: right;\r\n      }\r\n    }\r\n\r\n    .body.empty table {\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    .body {\r\n      overflow-x: auto;\r\n    }\r\n\r\n    .ant-empty {\r\n      .ant-empty-image {\r\n        height: auto;\r\n      }\r\n    }\r\n  }\r\n\r\n  .pagination-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    margin-bottom: ${({ theme }) => theme.gridUnit * 4}px;\r\n  }\r\n\r\n  .row-count-container {\r\n    margin-top: ${({ theme }) => theme.gridUnit * 2}px;\r\n    color: ${({ theme }) => theme.colors.grayscale.base};\r\n  }\r\n`;\r\n\r\nconst BulkSelectWrapper = styled(Alert)`\r\n  border-radius: 0;\r\n  margin-bottom: 0;\r\n  color: #3d3d3d;\r\n  background-color: ${({ theme }) => theme.colors.primary.light4};\r\n\r\n  .selectedCopy {\r\n    display: inline-block;\r\n    padding: ${({ theme }) => theme.gridUnit * 2}px 0;\r\n  }\r\n\r\n  .deselect-all {\r\n    color: #1985a0;\r\n    margin-left: ${({ theme }) => theme.gridUnit * 4}px;\r\n  }\r\n\r\n  .divider {\r\n    margin: ${({ theme: { gridUnit } }) =>\r\n      `${-gridUnit * 2}px 0 ${-gridUnit * 2}px ${gridUnit * 4}px`};\r\n    width: 1px;\r\n    height: ${({ theme }) => theme.gridUnit * 8}px;\r\n    box-shadow: inset -1px 0px 0px #dadada;\r\n    display: inline-flex;\r\n    vertical-align: middle;\r\n    position: relative;\r\n  }\r\n\r\n  .ant-alert-close-icon {\r\n    margin-top: ${({ theme }) => theme.gridUnit * 1.5}px;\r\n  }\r\n`;\r\n\r\nconst bulkSelectColumnConfig = {\r\n  Cell: ({ row }: any) => (\r\n    <IndeterminateCheckbox {...row.getToggleRowSelectedProps()} id={row.id} />\r\n  ),\r\n  Header: ({ getToggleAllRowsSelectedProps }: any) => (\r\n    <IndeterminateCheckbox\r\n      {...getToggleAllRowsSelectedProps()}\r\n      id=\"header-toggle-all\"\r\n    />\r\n  ),\r\n  id: 'selection',\r\n  size: 'sm',\r\n};\r\n\r\nconst ViewModeContainer = styled.div`\r\n  padding-right: ${({ theme }) => theme.gridUnit * 4}px;\r\n  display: inline-block;\r\n\r\n  .toggle-button {\r\n    display: inline-block;\r\n    border-radius: ${({ theme }) => theme.gridUnit / 2}px;\r\n    padding: ${({ theme }) => theme.gridUnit}px;\r\n    padding-bottom: 0;\r\n\r\n    &:first-of-type {\r\n      margin-right: ${({ theme }) => theme.gridUnit * 2}px;\r\n    }\r\n  }\r\n\r\n  .active {\r\n    background-color: ${({ theme }) => theme.colors.grayscale.base};\r\n    svg {\r\n      color: ${({ theme }) => theme.colors.grayscale.light5};\r\n    }\r\n  }\r\n`;\r\n\r\nconst EmptyWrapper = styled.div`\r\n  padding: ${({ theme }) => theme.gridUnit * 40}px 0;\r\n\r\n  &.table {\r\n    background: ${({ theme }) => theme.colors.grayscale.light5};\r\n  }\r\n`;\r\n\r\nconst ViewModeToggle = ({\r\n  mode,\r\n  setMode,\r\n}: {\r\n  mode: 'table' | 'card';\r\n  setMode: (mode: 'table' | 'card') => void;\r\n}) => (\r\n  <ViewModeContainer>\r\n    <div\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      onClick={e => {\r\n        e.currentTarget.blur();\r\n        setMode('card');\r\n      }}\r\n      className={cx('toggle-button', { active: mode === 'card' })}\r\n    >\r\n      <Icon name=\"card-view\" />\r\n    </div>\r\n    <div\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      onClick={e => {\r\n        e.currentTarget.blur();\r\n        setMode('table');\r\n      }}\r\n      className={cx('toggle-button', { active: mode === 'table' })}\r\n    >\r\n      <Icon name=\"list-view\" />\r\n    </div>\r\n  </ViewModeContainer>\r\n);\r\n\r\nexport interface ListViewProps<T extends object = any> {\r\n  columns: any[];\r\n  data: T[];\r\n  count: number;\r\n  pageSize: number;\r\n  fetchData: (conf: FetchDataConfig) => any;\r\n  loading: boolean;\r\n  className?: string;\r\n  initialSort?: SortColumn[];\r\n  filters?: Filters;\r\n  bulkActions?: Array<{\r\n    key: string;\r\n    name: React.ReactNode;\r\n    onSelect: (rows: any[]) => any;\r\n    type?: 'primary' | 'secondary' | 'danger';\r\n  }>;\r\n  bulkSelectEnabled?: boolean;\r\n  disableBulkSelect?: () => void;\r\n  renderBulkSelectCopy?: (selects: any[]) => React.ReactNode;\r\n  renderCard?: (row: T & { loading: boolean }) => React.ReactNode;\r\n  cardSortSelectOptions?: Array<CardSortSelectOption>;\r\n  defaultViewMode?: ViewModeType;\r\n  highlightRowId?: number;\r\n  emptyState?: {\r\n    message?: string;\r\n    slot?: React.ReactNode;\r\n  };\r\n}\r\n\r\nfunction ListView<T extends object = any>({\r\n  columns,\r\n  data,\r\n  count,\r\n  pageSize: initialPageSize,\r\n  fetchData,\r\n  loading,\r\n  initialSort = [],\r\n  className = '',\r\n  filters = [],\r\n  bulkActions = [],\r\n  bulkSelectEnabled = false,\r\n  disableBulkSelect = () => {},\r\n  renderBulkSelectCopy = selected => t('%s Selected', selected.length),\r\n  renderCard,\r\n  cardSortSelectOptions,\r\n  defaultViewMode = 'card',\r\n  highlightRowId,\r\n  emptyState = {},\r\n}: ListViewProps<T>) {\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n    pageCount = 1,\r\n    gotoPage,\r\n    applyFilterValue,\r\n    selectedFlatRows,\r\n    toggleAllRowsSelected,\r\n    setViewMode,\r\n    state: { pageIndex, pageSize, internalFilters, viewMode },\r\n  } = useListViewState({\r\n    bulkSelectColumnConfig,\r\n    bulkSelectMode: bulkSelectEnabled && Boolean(bulkActions.length),\r\n    columns,\r\n    count,\r\n    data,\r\n    fetchData,\r\n    initialPageSize,\r\n    initialSort,\r\n    initialFilters: filters,\r\n    renderCard: Boolean(renderCard),\r\n    defaultViewMode,\r\n  });\r\n  const filterable = Boolean(filters.length);\r\n  if (filterable) {\r\n    const columnAccessors = columns.reduce(\r\n      (acc, col) => ({ ...acc, [col.id || col.accessor]: true }),\r\n      {},\r\n    );\r\n    filters.forEach(f => {\r\n      if (!columnAccessors[f.id]) {\r\n        throw new ListViewError(\r\n          `Invalid filter config, ${f.id} is not present in columns`,\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  const cardViewEnabled = Boolean(renderCard);\r\n\r\n  useEffect(() => {\r\n    // discard selections if bulk select is disabled\r\n    if (!bulkSelectEnabled) toggleAllRowsSelected(false);\r\n  }, [bulkSelectEnabled, toggleAllRowsSelected]);\r\n\r\n  return (\r\n    <ListViewStyles>\r\n      <div data-test={className} className={`superset-list-view ${className}`}>\r\n        <div className=\"header\">\r\n          <div className=\"header-left\">\r\n            {cardViewEnabled && (\r\n              <ViewModeToggle mode={viewMode} setMode={setViewMode} />\r\n            )}\r\n            {filterable && (\r\n              <FilterControls\r\n                filters={filters}\r\n                internalFilters={internalFilters}\r\n                updateFilterValue={applyFilterValue}\r\n              />\r\n            )}\r\n          </div>\r\n          <div className=\"header-right\">\r\n            {viewMode === 'card' && cardSortSelectOptions && (\r\n              <CardSortSelect\r\n                initialSort={initialSort}\r\n                onChange={fetchData}\r\n                options={cardSortSelectOptions}\r\n                pageIndex={pageIndex}\r\n                pageSize={pageSize}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className={`body ${rows.length === 0 ? 'empty' : ''}`}>\r\n          {bulkSelectEnabled && (\r\n            <BulkSelectWrapper\r\n              data-test=\"bulk-select-controls\"\r\n              type=\"info\"\r\n              closable\r\n              showIcon={false}\r\n              onClose={disableBulkSelect}\r\n              message={\r\n                <>\r\n                  <div className=\"selectedCopy\" data-test=\"bulk-select-copy\">\r\n                    {renderBulkSelectCopy(selectedFlatRows)}\r\n                  </div>\r\n                  {Boolean(selectedFlatRows.length) && (\r\n                    <>\r\n                      <span\r\n                        data-test=\"bulk-select-deselect-all\"\r\n                        role=\"button\"\r\n                        tabIndex={0}\r\n                        className=\"deselect-all\"\r\n                        onClick={() => toggleAllRowsSelected(false)}\r\n                      >\r\n                        {t('Deselect all')}\r\n                      </span>\r\n                      <div className=\"divider\" />\r\n                      {bulkActions.map(action => (\r\n                        <Button\r\n                          data-test=\"bulk-select-action\"\r\n                          key={action.key}\r\n                          buttonStyle={action.type}\r\n                          cta\r\n                          onClick={() =>\r\n                            action.onSelect(\r\n                              selectedFlatRows.map(r => r.original),\r\n                            )\r\n                          }\r\n                        >\r\n                          {action.name}\r\n                        </Button>\r\n                      ))}\r\n                    </>\r\n                  )}\r\n                </>\r\n              }\r\n            />\r\n          )}\r\n          {viewMode === 'card' && (\r\n            <CardCollection\r\n              bulkSelectEnabled={bulkSelectEnabled}\r\n              prepareRow={prepareRow}\r\n              renderCard={renderCard}\r\n              rows={rows}\r\n              loading={loading}\r\n            />\r\n          )}\r\n          {viewMode === 'table' && (\r\n            <TableCollection\r\n              getTableProps={getTableProps}\r\n              getTableBodyProps={getTableBodyProps}\r\n              prepareRow={prepareRow}\r\n              headerGroups={headerGroups}\r\n              rows={rows}\r\n              columns={columns}\r\n              loading={loading}\r\n              highlightRowId={highlightRowId}\r\n            />\r\n          )}\r\n          {!loading && rows.length === 0 && (\r\n            <EmptyWrapper className={viewMode}>\r\n              <Empty\r\n                image={<EmptyImage />}\r\n                description={emptyState.message || t('No Data')}\r\n              >\r\n                {emptyState.slot || null}\r\n              </Empty>\r\n            </EmptyWrapper>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {rows.length > 0 && (\r\n        <div className=\"pagination-container\">\r\n          <Pagination\r\n            totalPages={pageCount || 0}\r\n            currentPage={pageCount ? pageIndex + 1 : 0}\r\n            onChange={(p: number) => gotoPage(p - 1)}\r\n            hideFirstAndLastPageLinks\r\n          />\r\n          <div className=\"row-count-container\">\r\n            {!loading &&\r\n              t(\r\n                '%s-%s of %s',\r\n                pageSize * pageIndex + (rows.length && 1),\r\n                pageSize * pageIndex + rows.length,\r\n                count,\r\n              )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </ListViewStyles>\r\n  );\r\n}\r\n\r\nexport default ListView;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nexport * from './ListView';\r\nexport * from './types';\r\n\r\nexport { default } from './ListView';\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { ReactNode } from 'react';\r\n\r\nexport interface SortColumn {\r\n  id: string;\r\n  desc?: boolean;\r\n}\r\n\r\nexport type SortColumns = SortColumn[];\r\n\r\nexport interface SelectOption {\r\n  label: string;\r\n  value: any;\r\n}\r\n\r\nexport interface CardSortSelectOption {\r\n  desc: boolean;\r\n  id: any;\r\n  label: string;\r\n  value: any;\r\n}\r\n\r\nexport interface Filter {\r\n  Header: ReactNode;\r\n  id: string;\r\n  urlDisplay?: string;\r\n  operator?: FilterOperator;\r\n  input?:\r\n    | 'text'\r\n    | 'textarea'\r\n    | 'select'\r\n    | 'checkbox'\r\n    | 'search'\r\n    | 'datetime_range';\r\n  unfilteredLabel?: string;\r\n  selects?: SelectOption[];\r\n  onFilterOpen?: () => void;\r\n  fetchSelects?: (\r\n    filterValue?: string,\r\n    pageIndex?: number,\r\n    pageSize?: number,\r\n  ) => Promise<SelectOption[]>;\r\n  paginate?: boolean;\r\n}\r\n\r\nexport type Filters = Filter[];\r\n\r\nexport type ViewModeType = 'card' | 'table';\r\n\r\nexport interface FilterValue {\r\n  id: string;\r\n  urlDisplay?: string;\r\n  operator?: string;\r\n  value: string | boolean | number | null | undefined | string[] | number[];\r\n}\r\n\r\nexport interface FetchDataConfig {\r\n  pageIndex: number;\r\n  pageSize: number;\r\n  sortBy: SortColumns;\r\n  filters: FilterValue[];\r\n}\r\n\r\nexport interface InternalFilter extends FilterValue {\r\n  Header?: string;\r\n}\r\n\r\nexport enum FilterOperator {\r\n  startsWith = 'sw',\r\n  endsWith = 'ew',\r\n  contains = 'ct',\r\n  equals = 'eq',\r\n  notStartsWith = 'nsw',\r\n  notEndsWith = 'new',\r\n  notContains = 'nct',\r\n  notEquals = 'neq',\r\n  greaterThan = 'gt',\r\n  lessThan = 'lt',\r\n  relationManyMany = 'rel_m_m',\r\n  relationOneMany = 'rel_o_m',\r\n  titleOrSlug = 'title_or_slug',\r\n  nameOrDescription = 'name_or_description',\r\n  allText = 'all_text',\r\n  chartAllText = 'chart_all_text',\r\n  datasetIsNullOrEmpty = 'dataset_is_null_or_empty',\r\n  between = 'between',\r\n  dashboardIsFav = 'dashboard_is_favorite',\r\n  chartIsFav = 'chart_is_favorite',\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  useFilters,\r\n  usePagination,\r\n  useRowSelect,\r\n  useRowState,\r\n  useSortBy,\r\n  useTable,\r\n} from 'react-table';\r\n\r\nimport {\r\n  NumberParam,\r\n  StringParam,\r\n  useQueryParams,\r\n  QueryParamConfig,\r\n} from 'use-query-params';\r\n\r\nimport rison from 'rison';\r\nimport { isEqual } from 'lodash';\r\nimport { PartialStylesConfig } from 'src/components/Select';\r\nimport {\r\n  FetchDataConfig,\r\n  Filter,\r\n  FilterValue,\r\n  InternalFilter,\r\n  SortColumn,\r\n  ViewModeType,\r\n} from './types';\r\n\r\n// Define custom RisonParam for proper encoding/decoding\r\nconst RisonParam: QueryParamConfig<string, any> = {\r\n  encode: (data?: any | null) =>\r\n    data === undefined ? undefined : rison.encode(data),\r\n  decode: (dataStr?: string | string[]) =>\r\n    dataStr === undefined || Array.isArray(dataStr)\r\n      ? undefined\r\n      : rison.decode(dataStr),\r\n};\r\n\r\nexport class ListViewError extends Error {\r\n  name = 'ListViewError';\r\n}\r\n\r\n// removes element from a list, returns new list\r\nexport function removeFromList(list: any[], index: number): any[] {\r\n  return list.filter((_, i) => index !== i);\r\n}\r\n\r\n// apply update to elements of object list, returns new list\r\nfunction updateInList(list: any[], index: number, update: any): any[] {\r\n  const element = list.find((_, i) => index === i);\r\n\r\n  return [\r\n    ...list.slice(0, index),\r\n    { ...element, ...update },\r\n    ...list.slice(index + 1),\r\n  ];\r\n}\r\n\r\ntype QueryFilterState = {\r\n  [id: string]: FilterValue['value'];\r\n};\r\n\r\nfunction mergeCreateFilterValues(list: Filter[], updateObj: QueryFilterState) {\r\n  return list.map(({ id, urlDisplay, operator }) => {\r\n    const currentFilterId = urlDisplay || id;\r\n    const update = updateObj[currentFilterId];\r\n\r\n    return { id, urlDisplay, operator, value: update };\r\n  });\r\n}\r\n\r\n// convert filters from UI objects to data objects\r\nexport function convertFilters(fts: InternalFilter[]): FilterValue[] {\r\n  return fts\r\n    .filter(\r\n      f =>\r\n        !(\r\n          typeof f.value === 'undefined' ||\r\n          (Array.isArray(f.value) && !f.value.length)\r\n        ),\r\n    )\r\n    .map(({ value, operator, id }) => {\r\n      // handle between filter using 2 api filters\r\n      if (operator === 'between' && Array.isArray(value)) {\r\n        return [\r\n          {\r\n            value: value[0],\r\n            operator: 'gt',\r\n            id,\r\n          },\r\n          {\r\n            value: value[1],\r\n            operator: 'lt',\r\n            id,\r\n          },\r\n        ];\r\n      }\r\n      return {\r\n        value,\r\n        operator,\r\n        id,\r\n      };\r\n    })\r\n    .flat();\r\n}\r\n\r\n// convertFilters but to handle new decoded rison format\r\nexport function convertFiltersRison(\r\n  filterObj: any,\r\n  list: Filter[],\r\n): FilterValue[] {\r\n  const filters: FilterValue[] = [];\r\n  const refs = {};\r\n\r\n  Object.keys(filterObj).forEach(id => {\r\n    const filter: FilterValue = {\r\n      id,\r\n      value: filterObj[id],\r\n      // operator: filterObj[id][1], // TODO: can probably get rid of this\r\n    };\r\n\r\n    refs[id] = filter;\r\n    filters.push(filter);\r\n  });\r\n\r\n  // Add operators from filter list\r\n  list.forEach(value => {\r\n    const currentFilterId = value.urlDisplay || value.id;\r\n    const filter = refs[currentFilterId];\r\n\r\n    if (filter) {\r\n      filter.operator = value.operator;\r\n      filter.id = value.id;\r\n    }\r\n  });\r\n\r\n  return filters;\r\n}\r\n\r\nexport function extractInputValue(inputType: Filter['input'], event: any) {\r\n  if (!inputType || inputType === 'text') {\r\n    return event.currentTarget.value;\r\n  }\r\n  if (inputType === 'checkbox') {\r\n    return event.currentTarget.checked;\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\ninterface UseListViewConfig {\r\n  fetchData: (conf: FetchDataConfig) => any;\r\n  columns: any[];\r\n  data: any[];\r\n  count: number;\r\n  initialPageSize: number;\r\n  initialSort?: SortColumn[];\r\n  bulkSelectMode?: boolean;\r\n  initialFilters?: Filter[];\r\n  bulkSelectColumnConfig?: {\r\n    id: string;\r\n    Header: (conf: any) => React.ReactNode;\r\n    Cell: (conf: any) => React.ReactNode;\r\n  };\r\n  renderCard?: boolean;\r\n  defaultViewMode?: ViewModeType;\r\n}\r\n\r\nexport function useListViewState({\r\n  fetchData,\r\n  columns,\r\n  data,\r\n  count,\r\n  initialPageSize,\r\n  initialFilters = [],\r\n  initialSort = [],\r\n  bulkSelectMode = false,\r\n  bulkSelectColumnConfig,\r\n  renderCard = false,\r\n  defaultViewMode = 'card',\r\n}: UseListViewConfig) {\r\n  const [query, setQuery] = useQueryParams({\r\n    filters: RisonParam,\r\n    pageIndex: NumberParam,\r\n    sortColumn: StringParam,\r\n    sortOrder: StringParam,\r\n    viewMode: StringParam,\r\n  });\r\n\r\n  const initialSortBy = useMemo(\r\n    () =>\r\n      query.sortColumn && query.sortOrder\r\n        ? [{ id: query.sortColumn, desc: query.sortOrder === 'desc' }]\r\n        : initialSort,\r\n    [query.sortColumn, query.sortOrder],\r\n  );\r\n\r\n  const initialState = {\r\n    filters: query.filters\r\n      ? convertFiltersRison(query.filters, initialFilters)\r\n      : [],\r\n    pageIndex: query.pageIndex || 0,\r\n    pageSize: initialPageSize,\r\n    sortBy: initialSortBy,\r\n  };\r\n\r\n  const [viewMode, setViewMode] = useState<ViewModeType>(\r\n    (query.viewMode as ViewModeType) ||\r\n      (renderCard ? defaultViewMode : 'table'),\r\n  );\r\n\r\n  const columnsWithSelect = useMemo(() => {\r\n    // add exact filter type so filters with falsey values are not filtered out\r\n    const columnsWithFilter = columns.map(f => ({ ...f, filter: 'exact' }));\r\n    return bulkSelectMode\r\n      ? [bulkSelectColumnConfig, ...columnsWithFilter]\r\n      : columnsWithFilter;\r\n  }, [bulkSelectMode, columns]);\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageCount,\r\n    gotoPage,\r\n    setAllFilters,\r\n    selectedFlatRows,\r\n    toggleAllRowsSelected,\r\n    state: { pageIndex, pageSize, sortBy, filters },\r\n  } = useTable(\r\n    {\r\n      columns: columnsWithSelect,\r\n      count,\r\n      data,\r\n      disableFilters: true,\r\n      disableSortRemove: true,\r\n      initialState,\r\n      manualFilters: true,\r\n      manualPagination: true,\r\n      manualSortBy: true,\r\n      autoResetFilters: false,\r\n      pageCount: Math.ceil(count / initialPageSize),\r\n    },\r\n    useFilters,\r\n    useSortBy,\r\n    usePagination,\r\n    useRowState,\r\n    useRowSelect,\r\n  );\r\n\r\n  const [internalFilters, setInternalFilters] = useState<InternalFilter[]>(\r\n    query.filters && initialFilters.length\r\n      ? mergeCreateFilterValues(initialFilters, query.filters)\r\n      : [],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (initialFilters.length) {\r\n      setInternalFilters(\r\n        mergeCreateFilterValues(\r\n          initialFilters,\r\n          query.filters ? query.filters : {},\r\n        ),\r\n      );\r\n    }\r\n  }, [initialFilters]);\r\n\r\n  useEffect(() => {\r\n    // From internalFilters, produce a simplified obj\r\n    const filterObj = {};\r\n\r\n    internalFilters.forEach(filter => {\r\n      if (\r\n        filter.value !== undefined &&\r\n        (typeof filter.value !== 'string' || filter.value.length > 0)\r\n      ) {\r\n        const currentFilterId = filter.urlDisplay || filter.id;\r\n        filterObj[currentFilterId] = filter.value;\r\n      }\r\n    });\r\n\r\n    const queryParams: any = {\r\n      filters: Object.keys(filterObj).length ? filterObj : undefined,\r\n      pageIndex,\r\n    };\r\n    if (sortBy[0]) {\r\n      queryParams.sortColumn = sortBy[0].id;\r\n      queryParams.sortOrder = sortBy[0].desc ? 'desc' : 'asc';\r\n    }\r\n\r\n    if (renderCard) {\r\n      queryParams.viewMode = viewMode;\r\n    }\r\n\r\n    const method =\r\n      typeof query.pageIndex !== 'undefined' &&\r\n      queryParams.pageIndex !== query.pageIndex\r\n        ? 'push'\r\n        : 'replace';\r\n\r\n    setQuery(queryParams, method);\r\n\r\n    fetchData({ pageIndex, pageSize, sortBy, filters });\r\n  }, [fetchData, pageIndex, pageSize, sortBy, filters]);\r\n\r\n  useEffect(() => {\r\n    if (!isEqual(initialState.pageIndex, pageIndex)) {\r\n      gotoPage(initialState.pageIndex);\r\n    }\r\n  }, [query]);\r\n\r\n  const applyFilterValue = (index: number, value: any) => {\r\n    setInternalFilters(currentInternalFilters => {\r\n      // skip redunundant updates\r\n      if (currentInternalFilters[index].value === value) {\r\n        return currentInternalFilters;\r\n      }\r\n\r\n      const update = { ...currentInternalFilters[index], value };\r\n      const updatedFilters = updateInList(\r\n        currentInternalFilters,\r\n        index,\r\n        update,\r\n      );\r\n\r\n      setAllFilters(convertFilters(updatedFilters));\r\n      gotoPage(0); // clear pagination on filter\r\n      return updatedFilters;\r\n    });\r\n  };\r\n\r\n  return {\r\n    canNextPage,\r\n    canPreviousPage,\r\n    getTableBodyProps,\r\n    getTableProps,\r\n    gotoPage,\r\n    headerGroups,\r\n    pageCount,\r\n    prepareRow,\r\n    rows,\r\n    selectedFlatRows,\r\n    setAllFilters,\r\n    state: { pageIndex, pageSize, sortBy, filters, internalFilters, viewMode },\r\n    toggleAllRowsSelected,\r\n    applyFilterValue,\r\n    setViewMode,\r\n  };\r\n}\r\n\r\nexport const filterSelectStyles: PartialStylesConfig = {\r\n  container: (provider, { getValue }) => ({\r\n    ...provider,\r\n    // dynamic width based on label string length\r\n    minWidth: `${Math.min(\r\n      12,\r\n      Math.max(5, 3 + getValue()[0].label.length / 2),\r\n    )}em`,\r\n  }),\r\n  control: provider => ({\r\n    ...provider,\r\n    borderWidth: 0,\r\n    boxShadow: 'none',\r\n    cursor: 'pointer',\r\n    backgroundColor: 'transparent',\r\n  }),\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { styled } from '@superset-ui/core';\r\nimport React from 'react';\r\nimport Icon from 'src/components/Icon';\r\n\r\nexport interface SearchInputProps {\r\n  onSubmit: () => void;\r\n  onClear: () => void;\r\n  value: string;\r\n  onChange: React.EventHandler<React.ChangeEvent<HTMLInputElement>>;\r\n  placeholder?: string;\r\n  name?: string;\r\n}\r\n\r\nconst SearchInputWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  width: 200px;\r\n  height: ${({ theme }) => theme.gridUnit * 8}px;\r\n  background-image: none;\r\n  border: 1px solid ${({ theme }) => theme.colors.secondary.light2};\r\n  border-radius: 4px;\r\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\r\n  padding: 4px 28px;\r\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst commonStyles = `\r\n  position: absolute;\r\n  z-index: 2;\r\n  display: block;\r\n  cursor: pointer;\r\n`;\r\nconst SearchIcon = styled(Icon)`\r\n  ${commonStyles};\r\n  top: 4px;\r\n  left: 2px;\r\n`;\r\n\r\nconst ClearIcon = styled(Icon)`\r\n  ${commonStyles};\r\n  right: 0px;\r\n  top: 4px;\r\n`;\r\n\r\nexport default function SearchInput({\r\n  onChange,\r\n  onClear,\r\n  onSubmit,\r\n  placeholder = 'Search',\r\n  name,\r\n  value,\r\n}: SearchInputProps) {\r\n  return (\r\n    <SearchInputWrapper>\r\n      <SearchIcon\r\n        data-test=\"search-submit\"\r\n        role=\"button\"\r\n        name=\"search\"\r\n        onClick={() => onSubmit()}\r\n      />\r\n      <StyledInput\r\n        data-test=\"search-input\"\r\n        onKeyDown={e => {\r\n          if (e.key === 'Enter') {\r\n            onSubmit();\r\n          }\r\n        }}\r\n        onBlur={() => onSubmit()}\r\n        placeholder={placeholder}\r\n        onChange={onChange}\r\n        value={value}\r\n        name={name}\r\n      />\r\n      {value && (\r\n        <ClearIcon\r\n          data-test=\"search-clear\"\r\n          role=\"button\"\r\n          name=\"cancel-x\"\r\n          onClick={() => onClear()}\r\n        />\r\n      )}\r\n    </SearchInputWrapper>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t } from '@superset-ui/core';\r\n\r\nexport const commonMenuData = {\r\n  name: t('Data'),\r\n  tabs: [\r\n    {\r\n      name: 'Databases',\r\n      label: t('Databases'),\r\n      url: '/databaseview/list/',\r\n      usesRouter: true,\r\n    },\r\n    {\r\n      name: 'Datasets',\r\n      label: t('Datasets'),\r\n      url: '/tablemodelview/list/',\r\n      usesRouter: true,\r\n    },\r\n    {\r\n      name: 'Saved queries',\r\n      label: t('Saved queries'),\r\n      url: '/savedqueryview/list/',\r\n      usesRouter: true,\r\n    },\r\n    {\r\n      name: 'Query history',\r\n      label: t('Query history'),\r\n      url: '/superset/sqllab/history/',\r\n      usesRouter: true,\r\n    },\r\n  ],\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport { SyntaxHighlighterProps } from 'react-syntax-highlighter';\r\nimport sqlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\r\nimport htmlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars';\r\nimport markdownSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/markdown';\r\nimport jsonSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/json';\r\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\r\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\r\nimport { ToastProps } from 'src/messageToasts/enhancers/withToasts';\r\nimport Icon from 'src/components/Icon';\r\nimport copyTextToClipboard from 'src/utils/copy';\r\n\r\nSyntaxHighlighter.registerLanguage('sql', sqlSyntax);\r\nSyntaxHighlighter.registerLanguage('markdown', markdownSyntax);\r\nSyntaxHighlighter.registerLanguage('html', htmlSyntax);\r\nSyntaxHighlighter.registerLanguage('json', jsonSyntax);\r\n\r\nconst SyntaxHighlighterWrapper = styled.div`\r\n  margin-top: -24px;\r\n\r\n  &:hover {\r\n    svg {\r\n      visibility: visible;\r\n    }\r\n  }\r\n\r\n  svg {\r\n    position: relative;\r\n    top: 40px;\r\n    left: 512px;\r\n    visibility: hidden;\r\n    margin: -4px;\r\n  }\r\n`;\r\n\r\nexport default function SyntaxHighlighterCopy({\r\n  addDangerToast,\r\n  addSuccessToast,\r\n  children,\r\n  ...syntaxHighlighterProps\r\n}: SyntaxHighlighterProps & {\r\n  children: string;\r\n  addDangerToast?: ToastProps['addDangerToast'];\r\n  addSuccessToast?: ToastProps['addSuccessToast'];\r\n  language: 'sql' | 'markdown' | 'html' | 'json';\r\n}) {\r\n  function copyToClipboard(textToCopy: string) {\r\n    copyTextToClipboard(textToCopy)\r\n      .then(() => {\r\n        if (addSuccessToast) {\r\n          addSuccessToast(t('SQL Copied!'));\r\n        }\r\n      })\r\n      .catch(() => {\r\n        if (addDangerToast) {\r\n          addDangerToast(t('Sorry, your browser does not support copying.'));\r\n        }\r\n      });\r\n  }\r\n  return (\r\n    <SyntaxHighlighterWrapper>\r\n      <Icon\r\n        tabIndex={0}\r\n        name=\"copy\"\r\n        role=\"button\"\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          e.currentTarget.blur();\r\n          copyToClipboard(children);\r\n        }}\r\n      />\r\n      <SyntaxHighlighter style={github} {...syntaxHighlighterProps}>\r\n        {children}\r\n      </SyntaxHighlighter>\r\n    </SyntaxHighlighterWrapper>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useState, useEffect } from 'react';\r\n\r\ntype BaseQueryObject = {\r\n  id: number;\r\n};\r\nexport function useQueryPreviewState<D extends BaseQueryObject = any>({\r\n  queries,\r\n  fetchData,\r\n  currentQueryId,\r\n}: {\r\n  queries: D[];\r\n  fetchData: (id: number) => any;\r\n  currentQueryId: number;\r\n}) {\r\n  const index = queries.findIndex(query => query.id === currentQueryId);\r\n  const [currentIndex, setCurrentIndex] = useState(index);\r\n  const [disablePrevious, setDisablePrevious] = useState(false);\r\n  const [disableNext, setDisableNext] = useState(false);\r\n\r\n  function checkIndex() {\r\n    setDisablePrevious(currentIndex === 0);\r\n    setDisableNext(currentIndex === queries.length - 1);\r\n  }\r\n\r\n  function handleDataChange(previous: boolean) {\r\n    const offset = previous ? -1 : 1;\r\n    const index = currentIndex + offset;\r\n    if (index >= 0 && index < queries.length) {\r\n      fetchData(queries[index].id);\r\n      setCurrentIndex(index);\r\n      checkIndex();\r\n    }\r\n  }\r\n\r\n  function handleKeyPress(ev: any) {\r\n    if (currentIndex >= 0 && currentIndex < queries.length) {\r\n      if (ev.key === 'ArrowDown' || ev.key === 'k') {\r\n        ev.preventDefault();\r\n        handleDataChange(false);\r\n      } else if (ev.key === 'ArrowUp' || ev.key === 'j') {\r\n        ev.preventDefault();\r\n        handleDataChange(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    checkIndex();\r\n  });\r\n\r\n  return {\r\n    handleKeyPress,\r\n    handleDataChange,\r\n    disablePrevious,\r\n    disableNext,\r\n  };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useMemo, useState, useCallback } from 'react';\r\nimport { SupersetClient, t, styled } from '@superset-ui/core';\r\nimport moment from 'moment';\r\nimport {\r\n  createFetchRelated,\r\n  createFetchDistinct,\r\n  createErrorHandler,\r\n  shortenSQL,\r\n} from 'src/views/CRUD/utils';\r\nimport withToasts from 'src/messageToasts/enhancers/withToasts';\r\nimport { useListViewResource } from 'src/views/CRUD/hooks';\r\nimport SubMenu, { SubMenuProps } from 'src/components/Menu/SubMenu';\r\nimport Popover from 'src/components/Popover';\r\nimport { commonMenuData } from 'src/views/CRUD/data/common';\r\nimport ListView, {\r\n  Filters,\r\n  FilterOperator,\r\n  ListViewProps,\r\n} from 'src/components/ListView';\r\nimport Icon, { IconName } from 'src/components/Icon';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\r\nimport sql from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\r\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\r\nimport { DATETIME_WITH_TIME_ZONE, TIME_WITH_MS } from 'src/constants';\r\nimport { QueryObject, QueryObjectColumns } from 'src/views/CRUD/types';\r\n\r\nimport QueryPreviewModal from './QueryPreviewModal';\r\n\r\nconst PAGE_SIZE = 25;\r\nconst SQL_PREVIEW_MAX_LINES = 4;\r\n\r\nconst TopAlignedListView = styled(ListView)<ListViewProps<QueryObject>>`\r\n  table .table-cell {\r\n    vertical-align: top;\r\n  }\r\n`;\r\n\r\nSyntaxHighlighter.registerLanguage('sql', sql);\r\nconst StyledSyntaxHighlighter = styled(SyntaxHighlighter)`\r\n  height: ${({ theme }) => theme.gridUnit * 26}px;\r\n  overflow: hidden !important; /* needed to override inline styles */\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n`;\r\n\r\ninterface QueryListProps {\r\n  addDangerToast: (msg: string, config?: any) => any;\r\n  addSuccessToast: (msg: string, config?: any) => any;\r\n}\r\n\r\nconst StyledTableLabel = styled.div`\r\n  .count {\r\n    margin-left: 5px;\r\n    color: ${({ theme }) => theme.colors.primary.base};\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst StyledPopoverItem = styled.div`\r\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\r\n`;\r\n\r\nconst StatusIcon = styled(Icon, {\r\n  shouldForwardProp: prop => prop !== 'status',\r\n})<{ status: string }>`\r\n  color: ${({ status, theme }) => {\r\n    if (status === 'success') return theme.colors.success.base;\r\n    if (status === 'failed') return theme.colors.error.base;\r\n    if (status === 'running') return theme.colors.primary.base;\r\n    if (status === 'offline') return theme.colors.grayscale.light1;\r\n\r\n    return theme.colors.grayscale.base;\r\n  }};\r\n`;\r\n\r\nfunction QueryList({ addDangerToast, addSuccessToast }: QueryListProps) {\r\n  const {\r\n    state: { loading, resourceCount: queryCount, resourceCollection: queries },\r\n    fetchData,\r\n  } = useListViewResource<QueryObject>(\r\n    'query',\r\n    t('Query history'),\r\n    addDangerToast,\r\n    false,\r\n  );\r\n\r\n  const [\r\n    queryCurrentlyPreviewing,\r\n    setQueryCurrentlyPreviewing,\r\n  ] = useState<QueryObject>();\r\n\r\n  const handleQueryPreview = useCallback(\r\n    (id: number) => {\r\n      SupersetClient.get({\r\n        endpoint: `/api/v1/query/${id}`,\r\n      }).then(\r\n        ({ json = {} }) => {\r\n          setQueryCurrentlyPreviewing({ ...json.result });\r\n        },\r\n        createErrorHandler(errMsg =>\r\n          addDangerToast(\r\n            t('There was an issue previewing the selected query. %s', errMsg),\r\n          ),\r\n        ),\r\n      );\r\n    },\r\n    [addDangerToast],\r\n  );\r\n\r\n  const menuData: SubMenuProps = {\r\n    activeChild: 'Query history',\r\n    ...commonMenuData,\r\n  };\r\n\r\n  const initialSort = [{ id: QueryObjectColumns.start_time, desc: true }];\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Cell: ({\r\n          row: {\r\n            original: { status },\r\n          },\r\n        }: any) => {\r\n          const statusConfig = {\r\n            name: '',\r\n            label: '',\r\n            status: '',\r\n          };\r\n          if (status === 'success') {\r\n            statusConfig.name = 'check';\r\n            statusConfig.label = t('Success');\r\n            statusConfig.status = 'success';\r\n          }\r\n          if (status === 'failed' || status === 'stopped') {\r\n            statusConfig.name = 'x-small';\r\n            statusConfig.label = t('Failed');\r\n            statusConfig.status = 'failed';\r\n          }\r\n          if (status === 'running') {\r\n            statusConfig.name = 'running';\r\n            statusConfig.label = t('Running');\r\n            statusConfig.status = 'running';\r\n          }\r\n          if (status === 'timed_out') {\r\n            statusConfig.name = 'offline';\r\n            statusConfig.label = t('Offline');\r\n            statusConfig.status = 'offline';\r\n          }\r\n          if (status === 'scheduled' || status === 'pending') {\r\n            statusConfig.name = 'queued';\r\n            statusConfig.label = t('Scheduled');\r\n            statusConfig.status = 'queued';\r\n          }\r\n          return (\r\n            <Tooltip title={statusConfig.label} placement=\"bottom\">\r\n              <span>\r\n                <StatusIcon\r\n                  name={statusConfig.name as IconName}\r\n                  status={statusConfig.status}\r\n                />\r\n              </span>\r\n            </Tooltip>\r\n          );\r\n        },\r\n        accessor: QueryObjectColumns.status,\r\n        size: 'xs',\r\n        disableSortBy: true,\r\n      },\r\n      {\r\n        accessor: QueryObjectColumns.start_time,\r\n        Header: t('Time'),\r\n        size: 'xl',\r\n        Cell: ({\r\n          row: {\r\n            original: { start_time, end_time },\r\n          },\r\n        }: any) => {\r\n          const startMoment = moment.utc(start_time).local();\r\n          const formattedStartTimeData = startMoment\r\n            .format(DATETIME_WITH_TIME_ZONE)\r\n            .split(' ');\r\n\r\n          const formattedStartTime = (\r\n            <>\r\n              {formattedStartTimeData[0]} <br />\r\n              {formattedStartTimeData[1]}\r\n            </>\r\n          );\r\n\r\n          return end_time ? (\r\n            <Tooltip\r\n              title={t(\r\n                'Duration: %s',\r\n                moment(moment.utc(end_time - start_time)).format(TIME_WITH_MS),\r\n              )}\r\n              placement=\"bottom\"\r\n            >\r\n              <span>{formattedStartTime}</span>\r\n            </Tooltip>\r\n          ) : (\r\n            formattedStartTime\r\n          );\r\n        },\r\n      },\r\n      {\r\n        accessor: QueryObjectColumns.tab_name,\r\n        Header: t('Tab name'),\r\n        size: 'xl',\r\n      },\r\n      {\r\n        accessor: QueryObjectColumns.database_name,\r\n        Header: t('Database'),\r\n        size: 'xl',\r\n      },\r\n      {\r\n        accessor: QueryObjectColumns.database,\r\n        hidden: true,\r\n      },\r\n      {\r\n        accessor: QueryObjectColumns.schema,\r\n        Header: t('Schema'),\r\n        size: 'xl',\r\n      },\r\n      {\r\n        Cell: ({\r\n          row: {\r\n            original: { sql_tables: tables = [] },\r\n          },\r\n        }: any) => {\r\n          const names = tables.map((table: any) => table.table);\r\n          const main = names.length > 0 ? names.shift() : '';\r\n\r\n          if (names.length) {\r\n            return (\r\n              <StyledTableLabel>\r\n                <span>{main}</span>\r\n                <Popover\r\n                  placement=\"right\"\r\n                  title={t('TABLES')}\r\n                  trigger=\"click\"\r\n                  content={\r\n                    <>\r\n                      {names.map((name: string) => (\r\n                        <StyledPopoverItem key={name}>{name}</StyledPopoverItem>\r\n                      ))}\r\n                    </>\r\n                  }\r\n                >\r\n                  <span className=\"count\">(+{names.length})</span>\r\n                </Popover>\r\n              </StyledTableLabel>\r\n            );\r\n          }\r\n\r\n          return main;\r\n        },\r\n        accessor: QueryObjectColumns.sql_tables,\r\n        Header: t('Tables'),\r\n        size: 'xl',\r\n        disableSortBy: true,\r\n      },\r\n      {\r\n        accessor: QueryObjectColumns.user_first_name,\r\n        Header: t('User'),\r\n        size: 'xl',\r\n        Cell: ({\r\n          row: {\r\n            original: { user },\r\n          },\r\n        }: any) => (user ? `${user.first_name} ${user.last_name}` : ''),\r\n      },\r\n      {\r\n        accessor: QueryObjectColumns.user,\r\n        hidden: true,\r\n      },\r\n      {\r\n        accessor: QueryObjectColumns.rows,\r\n        Header: t('Rows'),\r\n        size: 'md',\r\n      },\r\n      {\r\n        accessor: QueryObjectColumns.sql,\r\n        Header: t('SQL'),\r\n        Cell: ({ row: { original, id } }: any) => (\r\n          <div\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            data-test={`open-sql-preview-${id}`}\r\n            onClick={() => setQueryCurrentlyPreviewing(original)}\r\n          >\r\n            <StyledSyntaxHighlighter language=\"sql\" style={github}>\r\n              {shortenSQL(original.sql, SQL_PREVIEW_MAX_LINES)}\r\n            </StyledSyntaxHighlighter>\r\n          </div>\r\n        ),\r\n      },\r\n      {\r\n        Header: t('Actions'),\r\n        id: 'actions',\r\n        disableSortBy: true,\r\n        Cell: ({\r\n          row: {\r\n            original: { id },\r\n          },\r\n        }: any) => (\r\n          <Tooltip title={t('Open query in SQL Lab')} placement=\"bottom\">\r\n            <a href={`/superset/sqllab?queryId=${id}`}>\r\n              <Icon name=\"full\" />\r\n            </a>\r\n          </Tooltip>\r\n        ),\r\n      },\r\n    ],\r\n    [],\r\n  );\r\n\r\n  const filters: Filters = useMemo(\r\n    () => [\r\n      {\r\n        Header: t('Database'),\r\n        id: 'database',\r\n        input: 'select',\r\n        operator: FilterOperator.relationOneMany,\r\n        unfilteredLabel: 'All',\r\n        fetchSelects: createFetchRelated(\r\n          'query',\r\n          'database',\r\n          createErrorHandler(errMsg =>\r\n            addDangerToast(\r\n              t('An error occurred while fetching database values: %s', errMsg),\r\n            ),\r\n          ),\r\n        ),\r\n        paginate: true,\r\n      },\r\n      {\r\n        Header: t('State'),\r\n        id: 'status',\r\n        input: 'select',\r\n        operator: FilterOperator.equals,\r\n        unfilteredLabel: 'All',\r\n        fetchSelects: createFetchDistinct(\r\n          'query',\r\n          'status',\r\n          createErrorHandler(errMsg =>\r\n            addDangerToast(\r\n              t('An error occurred while fetching schema values: %s', errMsg),\r\n            ),\r\n          ),\r\n        ),\r\n        paginate: true,\r\n      },\r\n      {\r\n        Header: t('User'),\r\n        id: 'user',\r\n        input: 'select',\r\n        operator: FilterOperator.relationOneMany,\r\n        unfilteredLabel: 'All',\r\n        fetchSelects: createFetchRelated(\r\n          'query',\r\n          'user',\r\n          createErrorHandler(errMsg =>\r\n            addDangerToast(\r\n              t('An error occurred while fetching database values: %s', errMsg),\r\n            ),\r\n          ),\r\n        ),\r\n        paginate: true,\r\n      },\r\n      {\r\n        Header: t('Time range'),\r\n        id: 'start_time',\r\n        input: 'datetime_range',\r\n        operator: FilterOperator.between,\r\n      },\r\n      {\r\n        Header: t('Search by query text'),\r\n        id: 'sql',\r\n        input: 'search',\r\n        operator: FilterOperator.contains,\r\n      },\r\n    ],\r\n    [addDangerToast],\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <SubMenu {...menuData} />\r\n      {queryCurrentlyPreviewing && (\r\n        <QueryPreviewModal\r\n          onHide={() => setQueryCurrentlyPreviewing(undefined)}\r\n          query={queryCurrentlyPreviewing}\r\n          queries={queries}\r\n          fetchData={handleQueryPreview}\r\n          openInSqlLab={(id: number) =>\r\n            window.location.assign(`/superset/sqllab?queryId=${id}`)\r\n          }\r\n          show\r\n        />\r\n      )}\r\n      <TopAlignedListView\r\n        className=\"query-history-list-view\"\r\n        columns={columns}\r\n        count={queryCount}\r\n        data={queries}\r\n        fetchData={fetchData}\r\n        filters={filters}\r\n        initialSort={initialSort}\r\n        loading={loading}\r\n        pageSize={PAGE_SIZE}\r\n        highlightRowId={queryCurrentlyPreviewing?.id}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withToasts(QueryList);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport Modal from 'src/components/Modal';\r\nimport cx from 'classnames';\r\nimport Button from 'src/components/Button';\r\nimport withToasts, { ToastProps } from 'src/messageToasts/enhancers/withToasts';\r\nimport SyntaxHighlighterCopy from 'src/views/CRUD/data/components/SyntaxHighlighterCopy';\r\nimport { useQueryPreviewState } from 'src/views/CRUD/data/hooks';\r\nimport { QueryObject } from 'src/views/CRUD/types';\r\n\r\nconst QueryTitle = styled.div`\r\n  color: ${({ theme }) => theme.colors.secondary.light2};\r\n  font-size: ${({ theme }) => theme.typography.sizes.s - 1}px;\r\n  margin-bottom: 0;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst QueryLabel = styled.div`\r\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\r\n  font-size: ${({ theme }) => theme.typography.sizes.m - 1}px;\r\n  padding: 4px 0 24px 0;\r\n`;\r\n\r\nconst QueryViewToggle = styled.div`\r\n  margin: 0 0 ${({ theme }) => theme.gridUnit * 6}px 0;\r\n`;\r\n\r\nconst TabButton = styled.div`\r\n  display: inline;\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  padding: ${({ theme }) => theme.gridUnit * 2}px\r\n    ${({ theme }) => theme.gridUnit * 4}px;\r\n  margin-right: ${({ theme }) => theme.gridUnit * 4}px;\r\n  color: ${({ theme }) => theme.colors.secondary.dark1};\r\n\r\n  &.active,\r\n  &:focus,\r\n  &:hover {\r\n    background: ${({ theme }) => theme.colors.secondary.light4};\r\n    border-bottom: none;\r\n    border-radius: ${({ theme }) => theme.borderRadius}px;\r\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\r\n  }\r\n\r\n  &:hover:not(.active) {\r\n    background: ${({ theme }) => theme.colors.secondary.light5};\r\n  }\r\n`;\r\nconst StyledModal = styled(Modal)`\r\n  .ant-modal-body {\r\n    padding: ${({ theme }) => theme.gridUnit * 6}px;\r\n  }\r\n\r\n  pre {\r\n    font-size: ${({ theme }) => theme.typography.sizes.xs}px;\r\n    font-weight: ${({ theme }) => theme.typography.weights.normal};\r\n    line-height: ${({ theme }) => theme.typography.sizes.l}px;\r\n    height: 375px;\r\n    border: none;\r\n  }\r\n`;\r\n\r\ninterface QueryPreviewModalProps extends ToastProps {\r\n  onHide: () => void;\r\n  openInSqlLab: (id: number) => any;\r\n  queries: QueryObject[];\r\n  query: QueryObject;\r\n  fetchData: (id: number) => any;\r\n  show: boolean;\r\n}\r\n\r\nfunction QueryPreviewModal({\r\n  onHide,\r\n  openInSqlLab,\r\n  queries,\r\n  query,\r\n  fetchData,\r\n  show,\r\n  addDangerToast,\r\n  addSuccessToast,\r\n}: QueryPreviewModalProps) {\r\n  const {\r\n    handleKeyPress,\r\n    handleDataChange,\r\n    disablePrevious,\r\n    disableNext,\r\n  } = useQueryPreviewState<QueryObject>({\r\n    queries,\r\n    currentQueryId: query.id,\r\n    fetchData,\r\n  });\r\n\r\n  const [currentTab, setCurrentTab] = useState<'user' | 'executed'>('user');\r\n\r\n  const { id, sql, executed_sql } = query;\r\n  return (\r\n    <div role=\"none\" onKeyUp={handleKeyPress}>\r\n      <StyledModal\r\n        onHide={onHide}\r\n        show={show}\r\n        title={t('Query preview')}\r\n        footer={[\r\n          <Button\r\n            data-test=\"previous-query\"\r\n            key=\"previous-query\"\r\n            disabled={disablePrevious}\r\n            onClick={() => handleDataChange(true)}\r\n          >\r\n            {t('Previous')}\r\n          </Button>,\r\n          <Button\r\n            data-test=\"next-query\"\r\n            key=\"next-query\"\r\n            disabled={disableNext}\r\n            onClick={() => handleDataChange(false)}\r\n          >\r\n            {t('Next')}\r\n          </Button>,\r\n          <Button\r\n            data-test=\"open-in-sql-lab\"\r\n            key=\"open-in-sql-lab\"\r\n            buttonStyle=\"primary\"\r\n            onClick={() => openInSqlLab(id)}\r\n          >\r\n            {t('Open in SQL Lab')}\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <QueryTitle>{t('Tab name')}</QueryTitle>\r\n        <QueryLabel>{query.tab_name}</QueryLabel>\r\n        <QueryViewToggle>\r\n          <TabButton\r\n            role=\"button\"\r\n            data-test=\"toggle-user-sql\"\r\n            className={cx({ active: currentTab === 'user' })}\r\n            onClick={() => setCurrentTab('user')}\r\n          >\r\n            {t('User query')}\r\n          </TabButton>\r\n          <TabButton\r\n            role=\"button\"\r\n            data-test=\"toggle-executed-sql\"\r\n            className={cx({ active: currentTab === 'executed' })}\r\n            onClick={() => setCurrentTab('executed')}\r\n          >\r\n            {t('Executed query')}\r\n          </TabButton>\r\n        </QueryViewToggle>\r\n        <SyntaxHighlighterCopy\r\n          addDangerToast={addDangerToast}\r\n          addSuccessToast={addSuccessToast}\r\n          language=\"sql\"\r\n        >\r\n          {(currentTab === 'user' ? sql : executed_sql) || ''}\r\n        </SyntaxHighlighterCopy>\r\n      </StyledModal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withToasts(QueryPreviewModal);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { User } from 'src/types/bootstrapTypes';\r\nimport Owner from 'src/types/Owner';\r\n\r\nexport type FavoriteStatus = {\r\n  [id: number]: boolean;\r\n};\r\n\r\nexport type Filters = {\r\n  col: string;\r\n  opr: string;\r\n  value: string;\r\n};\r\n\r\nexport interface DashboardTableProps {\r\n  addDangerToast: (message: string) => void;\r\n  addSuccessToast: (message: string) => void;\r\n  search: string;\r\n  user?: User;\r\n  mine: Array<Dashboard>;\r\n  showThumbnails?: boolean;\r\n  featureFlag?: boolean;\r\n}\r\n\r\nexport interface Dashboard {\r\n  changed_by_name: string;\r\n  changed_by_url: string;\r\n  changed_on_delta_humanized?: string;\r\n  changed_on_utc?: string;\r\n  changed_by: string;\r\n  dashboard_title: string;\r\n  slice_name?: string;\r\n  id: number;\r\n  published: boolean;\r\n  url: string;\r\n  thumbnail_url: string;\r\n  owners: Owner[];\r\n  loading?: boolean;\r\n}\r\n\r\nexport type SavedQueryObject = {\r\n  id: number;\r\n  changed_on: string;\r\n  changed_on_delta_humanized: string;\r\n  database: {\r\n    database_name: string;\r\n    id: number;\r\n  };\r\n  db_id: number;\r\n  description?: string;\r\n  label: string;\r\n  schema: string;\r\n  sql: string | null;\r\n  sql_tables?: { catalog?: string; schema: string; table: string }[];\r\n};\r\n\r\nexport interface QueryObject {\r\n  id: number;\r\n  changed_on: string;\r\n  database: {\r\n    database_name: string;\r\n  };\r\n  schema: string;\r\n  sql: string;\r\n  executed_sql: string | null;\r\n  sql_tables?: { catalog?: string; schema: string; table: string }[];\r\n  status:\r\n    | 'success'\r\n    | 'failed'\r\n    | 'stopped'\r\n    | 'running'\r\n    | 'timed_out'\r\n    | 'scheduled'\r\n    | 'pending';\r\n  tab_name: string;\r\n  user: {\r\n    first_name: string;\r\n    id: number;\r\n    last_name: string;\r\n    username: string;\r\n  };\r\n  start_time: number;\r\n  end_time: number;\r\n  rows: number;\r\n  tmp_table_name: string;\r\n  tracking_url: string;\r\n}\r\n\r\nexport enum QueryObjectColumns {\r\n  id = 'id',\r\n  changed_on = 'changed_on',\r\n  database = 'database',\r\n  database_name = 'database.database_name',\r\n  schema = 'schema',\r\n  sql = 'sql',\r\n  executed_sql = 'exceuted_sql',\r\n  sql_tables = 'sql_tables',\r\n  status = 'status',\r\n  tab_name = 'tab_name',\r\n  user = 'user',\r\n  user_first_name = 'user.first_name',\r\n  start_time = 'start_time',\r\n  end_time = 'end_time',\r\n  rows = 'rows',\r\n  tmp_table_name = 'tmp_table_name',\r\n  tracking_url = 'tracking_url',\r\n}\r\n\r\nexport type ImportResourceName =\r\n  | 'chart'\r\n  | 'dashboard'\r\n  | 'database'\r\n  | 'dataset'\r\n  | 'saved_query';\r\n\r\nexport type DatabaseObject = {\r\n  allow_run_async?: boolean;\r\n  database_name?: string;\r\n  encrypted_extra?: string;\r\n  extra?: string;\r\n  impersonate_user?: boolean;\r\n  server_cert?: string;\r\n  sqlalchemy_uri: string;\r\n};\r\n"],"sourceRoot":""}