{"version":3,"sources":["webpack:///./node_modules/@ant-design/icons-svg/es/asn/CaretDownOutlined.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/CheckCircleFilled.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/CheckOutlined.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/EllipsisOutlined.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/ExclamationCircleFilled.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/MinusCircleFilled.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/PlusOutlined.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/SearchOutlined.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/WarningOutlined.js","webpack:///./node_modules/@ant-design/icons/es/components/AntdIcon.js","webpack:///./node_modules/@ant-design/icons/es/components/IconBase.js","webpack:///./node_modules/@ant-design/icons/es/components/twoTonePrimaryColor.js","webpack:///./node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js","webpack:///./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js","webpack:///./node_modules/@ant-design/icons/es/icons/CheckOutlined.js","webpack:///./node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js","webpack:///./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js","webpack:///./node_modules/@ant-design/icons/es/icons/MinusCircleFilled.js","webpack:///./node_modules/@ant-design/icons/es/icons/PlusOutlined.js","webpack:///./node_modules/@ant-design/icons/es/icons/SearchOutlined.js","webpack:///./node_modules/@ant-design/icons/es/icons/WarningOutlined.js","webpack:///./node_modules/@babel/runtime-corejs3/core-js-stable/instance/fill.js","webpack:///./node_modules/@babel/runtime-corejs3/core-js-stable/map.js","webpack:///./node_modules/@babel/runtime-corejs3/core-js-stable/set-interval.js","webpack:///./node_modules/@vx/responsive/esm/components/ParentSize.js","webpack:///./node_modules/babel-runtime/core-js/object/assign.js","webpack:///./node_modules/babel-runtime/core-js/object/create.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/babel-runtime/core-js/object/get-prototype-of.js","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/babel-runtime/core-js/object/set-prototype-of.js","webpack:///./node_modules/babel-runtime/core-js/symbol.js","webpack:///./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///./node_modules/babel-runtime/helpers/classCallCheck.js","webpack:///./node_modules/babel-runtime/helpers/createClass.js","webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///./node_modules/babel-runtime/helpers/inherits.js","webpack:///./node_modules/babel-runtime/helpers/objectWithoutProperties.js","webpack:///./node_modules/babel-runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/babel-runtime/helpers/typeof.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/object/assign.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/object/create.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/object/get-own-property-descriptor.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/object/set-prototype-of.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/index.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-keys.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_iterators.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_meta.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-create.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopd.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gopn.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_redefine.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_set-proto.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-define.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_wks-ext.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/_wks.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.assign.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.create.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.set-prototype-of.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.symbol.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/core-js-pure/es/array/virtual/fill.js","webpack:///./node_modules/core-js-pure/es/instance/fill.js","webpack:///./node_modules/core-js-pure/es/map/index.js","webpack:///./node_modules/core-js-pure/internals/array-fill.js","webpack:///./node_modules/core-js-pure/modules/es.array.fill.js","webpack:///./node_modules/core-js-pure/modules/es.map.js","webpack:///./node_modules/core-js-pure/stable/instance/fill.js","webpack:///./node_modules/core-js-pure/stable/map/index.js","webpack:///./node_modules/core-js-pure/stable/set-interval.js","webpack:///./src/dashboard/stylesheets/index.less","webpack:///./node_modules/react-checkbox-tree/lib/react-checkbox-tree.css","webpack:///./node_modules/dom-helpers/util/inDOM.js","webpack:///./node_modules/dom-helpers/util/scrollbarSize.js","webpack:///./node_modules/dom-to-image/src/dom-to-image.js","webpack:///./node_modules/fast-memoize/src/index.js","webpack:///./node_modules/fuse.js/dist/fuse.js","webpack:///./node_modules/highlight.js/lib/languages/htmlbars.js","webpack:///./node_modules/highlight.js/lib/languages/json.js","webpack:///./node_modules/highlight.js/lib/languages/markdown.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/lodash/_createSet.js","webpack:///./node_modules/lodash/findLastIndex.js","webpack:///./node_modules/lodash/flatMap.js","webpack:///./node_modules/lodash/flatMapDeep.js","webpack:///./node_modules/lodash/snakeCase.js","webpack:///./node_modules/lodash/uniq.js","webpack:///./node_modules/lodash/uniqWith.js","webpack:///./node_modules/omnibar/dist/index.js","webpack:///./node_modules/performance-now/lib/performance-now.js","webpack:///./node_modules/raf/index.js","webpack:///./node_modules/re-resizable/lib/index.js","webpack:///./node_modules/re-resizable/lib/resizer.js","webpack:///./node_modules/react-checkbox-tree/lib/index.browser.js","webpack:///./node_modules/react-checkbox-tree/lib/react-checkbox-tree.css?1a3e","webpack:///./node_modules/react-dnd/dist/esm/decorators/DragLayer.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DragSource.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DropTarget.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/disposables.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/utils.js","webpack:///./node_modules/react-dnd/dist/esm/utils/isValidType.js","webpack:///./node_modules/react-dnd/dist/esm/utils/js_utils.js","webpack:///./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js","webpack:///./node_modules/react-reverse-portal/dist/web/index.js","webpack:///./node_modules/react-search-input/lib/index.js","webpack:///./node_modules/react-search-input/lib/util.js","webpack:///./node_modules/react-sticky/lib/Container.js","webpack:///./node_modules/react-sticky/lib/Sticky.js","webpack:///./node_modules/react-sticky/lib/index.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/json.js","webpack:///./node_modules/react-syntax-highlighter/dist/cjs/languages/hljs/markdown.js","webpack:///./node_modules/react-virtualized/dist/es/Grid/Grid.js","webpack:///./node_modules/react-virtualized/dist/es/Grid/accessibilityOverscanIndicesGetter.js","webpack:///./node_modules/react-virtualized/dist/es/Grid/defaultCellRangeRenderer.js","webpack:///./node_modules/react-virtualized/dist/es/Grid/defaultOverscanIndicesGetter.js","webpack:///./node_modules/react-virtualized/dist/es/Grid/types.js","webpack:///./node_modules/react-virtualized/dist/es/Grid/utils/CellSizeAndPositionManager.js","webpack:///./node_modules/react-virtualized/dist/es/Grid/utils/ScalingCellSizeAndPositionManager.js","webpack:///./node_modules/react-virtualized/dist/es/Grid/utils/calculateSizeAndPositionDataAndUpdateScrollOffset.js","webpack:///./node_modules/react-virtualized/dist/es/Grid/utils/maxElementSize.js","webpack:///./node_modules/react-virtualized/dist/es/Grid/utils/updateScrollIndexHelper.js","webpack:///./node_modules/react-virtualized/dist/es/List/List.js","webpack:///./node_modules/react-virtualized/dist/es/List/types.js","webpack:///./node_modules/react-virtualized/dist/es/utils/animationFrame.js","webpack:///./node_modules/react-virtualized/dist/es/utils/createCallbackMemoizer.js","webpack:///./node_modules/react-virtualized/dist/es/utils/requestAnimationTimeout.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/use-immer/dist/use-immer.module.js","webpack:///./src/chart/Chart.jsx","webpack:///./src/chart/ChartContainer.jsx","webpack:///./src/chart/ChartErrorMessage.tsx","webpack:///./src/chart/ChartRenderer.jsx","webpack:///./src/common/hooks/useChangeEffect/index.ts","webpack:///./src/common/hooks/useChangeEffect/useChangeEffect.ts","webpack:///./src/common/hooks/useUrlShortener.ts","webpack:///./src/components/AnchorLink/index.jsx","webpack:///./src/components/ButtonGroup/index.tsx","webpack:///./src/components/ChartIcon/index.tsx","webpack:///./src/components/EditableTitle/index.tsx","webpack:///./src/components/ErrorMessage/BasicErrorAlert.tsx","webpack:///./src/components/OmniContainer/Omnibar.tsx","webpack:///./src/components/OmniContainer/getDashboards.ts","webpack:///./src/components/OmniContainer/index.tsx","webpack:///./src/components/PopoverDropdown/index.tsx","webpack:///./src/components/SupersetResourceSelect/index.tsx","webpack:///./src/components/URLShortLinkButton/index.jsx","webpack:///./src/dashboard/components/AddSliceCard.jsx","webpack:///./src/dashboard/components/BuilderComponentPane.tsx","webpack:///./src/dashboard/components/CrossFilterScopingModal/CrossFilterScopingForm/index.tsx","webpack:///./src/dashboard/components/CrossFilterScopingModal/CrossFilterScopingModal.tsx","webpack:///./src/dashboard/components/CrossFilterScopingModal/utils/index.ts","webpack:///./src/dashboard/components/CssEditor/index.jsx","webpack:///./src/dashboard/components/Dashboard.jsx","webpack:///./src/dashboard/components/DashboardBuilder/DashboardBuilder.tsx","webpack:///./src/dashboard/components/DashboardBuilder/DashboardContainer.tsx","webpack:///./src/dashboard/components/DashboardBuilder/state.ts","webpack:///./src/dashboard/components/DashboardBuilder/utils.ts","webpack:///./src/dashboard/components/DashboardGrid.jsx","webpack:///./src/dashboard/components/DeleteComponentButton.jsx","webpack:///./src/dashboard/components/FiltersBadge/DetailsPanel/index.tsx","webpack:///./src/dashboard/components/FiltersBadge/FilterIndicator/index.tsx","webpack:///./src/dashboard/components/FiltersBadge/Styles.tsx","webpack:///./src/dashboard/components/FiltersBadge/index.tsx","webpack:///./src/dashboard/components/FiltersBadge/selectors.ts","webpack:///./src/dashboard/components/Header/HeaderActionsDropdown/index.jsx","webpack:///./src/dashboard/components/Header/index.jsx","webpack:///./src/dashboard/components/IconButton.jsx","webpack:///./src/dashboard/components/MissingChart.jsx","webpack:///./src/dashboard/components/PublishedStatus/index.jsx","webpack:///./src/dashboard/components/RefreshIntervalModal.tsx","webpack:///./src/dashboard/components/SaveModal.tsx","webpack:///./src/dashboard/components/SliceAdder.jsx","webpack:///./src/dashboard/components/SliceHeader/index.tsx","webpack:///./src/dashboard/components/SliceHeaderControls/index.jsx","webpack:///./src/dashboard/components/StickyVerticalBar.tsx","webpack:///./src/dashboard/components/UndoRedoKeyListeners/index.jsx","webpack:///./src/dashboard/components/dnd/AddSliceDragPreview.jsx","webpack:///./src/dashboard/components/dnd/DragDroppable.jsx","webpack:///./src/dashboard/components/dnd/DragHandle.jsx","webpack:///./src/dashboard/components/dnd/dragDroppableConfig.js","webpack:///./src/dashboard/components/dnd/handleDrop.js","webpack:///./src/dashboard/components/dnd/handleHover.js","webpack:///./src/dashboard/components/dnd/handleScroll/index.ts","webpack:///./src/dashboard/components/filterscope/FilterFieldItem.jsx","webpack:///./src/dashboard/components/filterscope/FilterFieldTree.jsx","webpack:///./src/dashboard/components/filterscope/FilterScopeModal.tsx","webpack:///./src/dashboard/components/filterscope/FilterScopeSelector.jsx","webpack:///./src/dashboard/components/filterscope/FilterScopeTree.jsx","webpack:///./src/dashboard/components/filterscope/renderFilterFieldTreeNodes.jsx","webpack:///./src/dashboard/components/filterscope/renderFilterScopeTreeNodes.jsx","webpack:///./src/dashboard/components/filterscope/treeIcons.jsx","webpack:///./src/dashboard/components/gridComponents/Chart.jsx","webpack:///./src/dashboard/components/gridComponents/ChartHolder.jsx","webpack:///./src/dashboard/components/gridComponents/Column.jsx","webpack:///./src/dashboard/components/gridComponents/Divider.jsx","webpack:///./src/dashboard/components/gridComponents/Header.jsx","webpack:///./src/dashboard/components/gridComponents/Markdown.jsx","webpack:///./src/dashboard/components/gridComponents/Row.jsx","webpack:///./src/dashboard/components/gridComponents/Tab.jsx","webpack:///./src/dashboard/components/gridComponents/Tabs.jsx","webpack:///./src/dashboard/components/gridComponents/index.js","webpack:///./src/dashboard/components/gridComponents/new/DraggableNewComponent.jsx","webpack:///./src/dashboard/components/gridComponents/new/NewColumn.jsx","webpack:///./src/dashboard/components/gridComponents/new/NewDivider.jsx","webpack:///./src/dashboard/components/gridComponents/new/NewHeader.jsx","webpack:///./src/dashboard/components/gridComponents/new/NewMarkdown.jsx","webpack:///./src/dashboard/components/gridComponents/new/NewRow.jsx","webpack:///./src/dashboard/components/gridComponents/new/NewTabs.jsx","webpack:///./src/dashboard/components/menu/BackgroundStyleDropdown.tsx","webpack:///./src/dashboard/components/menu/HoverMenu.tsx","webpack:///./src/dashboard/components/menu/MarkdownModeDropdown.tsx","webpack:///./src/dashboard/components/menu/ShareMenuItems/index.tsx","webpack:///./src/dashboard/components/menu/WithPopoverMenu.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/CascadeFilters/CascadeFilterControl/index.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/CascadeFilters/CascadePopover/index.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterConfigurationLink/index.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControls.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterValue.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterControls/state.ts","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterControls/utils.ts","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterSets/EditSection.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterSets/FilterSetUnit.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterSets/FiltersHeader.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterSets/Footer.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterSets/index.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterSets/state.ts","webpack:///./src/dashboard/components/nativeFilters/FilterBar/FilterSets/utils/index.ts","webpack:///./src/dashboard/components/nativeFilters/FilterBar/Header/index.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/index.tsx","webpack:///./src/dashboard/components/nativeFilters/FilterBar/state.ts","webpack:///./src/dashboard/components/nativeFilters/FilterBar/utils.ts","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/CollapsibleControl.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/ColumnSelect.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/DefaultValue.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/FilterScope/FilterScope.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/FilterScope/ScopingTree.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/FilterScope/state.ts","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/FilterScope/types.ts","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/FilterScope/utils.ts","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/FiltersConfigForm.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/RemovedFilter.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/getControlItemsMap.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/state.ts","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/utils.ts","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigModal.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/Footer/CancelConfirmationAlert.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/Footer/Footer.tsx","webpack:///./src/dashboard/components/nativeFilters/FiltersConfigModal/state.ts","webpack:///./src/dashboard/components/nativeFilters/state.ts","webpack:///./src/dashboard/components/resizable/ResizableContainer.jsx","webpack:///./src/dashboard/components/resizable/ResizableHandle.jsx","webpack:///./src/dashboard/containers/Chart.jsx","webpack:///./src/dashboard/containers/Dashboard.ts","webpack:///./src/dashboard/containers/DashboardComponent.jsx","webpack:///./src/dashboard/containers/DashboardGrid.jsx","webpack:///./src/dashboard/containers/DashboardHeader.jsx","webpack:///./src/dashboard/containers/FilterScope.jsx","webpack:///./src/dashboard/containers/FiltersBadge.tsx","webpack:///./src/dashboard/containers/SliceAdder.jsx","webpack:///./src/dashboard/stylesheets/index.less?9091","webpack:///./src/dashboard/util/activeAllDashboardFilters.ts","webpack:///./src/dashboard/util/backgroundStyleOptions.ts","webpack:///./src/dashboard/util/buildFilterScopeTreeEntry.js","webpack:///./src/dashboard/util/charts/getEffectiveExtraFilters.ts","webpack:///./src/dashboard/util/charts/getFormDataWithExtraFilters.ts","webpack:///./src/dashboard/util/charts/getOwnDataCharts.ts","webpack:///./src/dashboard/util/findTabIndexByComponentId.js","webpack:///./src/dashboard/util/getChartAndLabelComponentIdFromPath.js","webpack:///./src/dashboard/util/getChartIdsFromLayout.js","webpack:///./src/dashboard/util/getDashboardUrl.ts","webpack:///./src/dashboard/util/getDirectPathToTabIndex.js","webpack:///./src/dashboard/util/getDropPosition.js","webpack:///./src/dashboard/util/getFilterFieldNodesTree.js","webpack:///./src/dashboard/util/getFilterScopeFromNodesTree.js","webpack:///./src/dashboard/util/getFilterScopeNodesTree.js","webpack:///./src/dashboard/util/getFilterScopeParentNodes.js","webpack:///./src/dashboard/util/getFilterValuesByFilterId.js","webpack:///./src/dashboard/util/getKeyForFilterScopeTree.js","webpack:///./src/dashboard/util/getLayoutComponentFromChartId.js","webpack:///./src/dashboard/util/getLeafComponentIdFromPath.js","webpack:///./src/dashboard/util/getRevertedFilterScope.ts","webpack:///./src/dashboard/util/getSelectedChartIdForFilterScopeTree.js","webpack:///./src/dashboard/util/headerStyleOptions.ts","webpack:///./src/dashboard/util/isDashboardEmpty.ts","webpack:///./src/dashboard/util/isDashboardLoading.js","webpack:///./src/dashboard/util/isValidChild.ts","webpack:///./src/dashboard/util/propShapes.jsx","webpack:///./src/dashboard/util/resizableConfig.ts","webpack:///./src/dashboard/util/setPeriodicRunner.ts","webpack:///./src/dataMask/types.ts","webpack:///./src/explore/components/DataTableControl/index.tsx","webpack:///./src/explore/components/RowCountLabel.jsx","webpack:///./src/explore/components/controls/ViewQueryModal.tsx","webpack:///./src/utils/cacheWrapper.ts","webpack:///./src/utils/downloadAsImage.ts"],"names":["propTypes","annotationData","PropTypes","object","actions","chartId","number","isRequired","datasource","dashboardId","initialValues","formData","width","height","setControlValue","func","timeout","vizType","string","triggerRender","bool","isFiltersInitialized","chartAlert","chartStatus","chartStackTrace","queriesResponse","arrayOf","triggerQuery","refreshOverlayVisible","errorMessage","node","addFilter","onQuery","onFilterMenuOpen","onFilterMenuClose","ownState","BLANK","defaultProps","Styles","styled","div","p","theme","typography","sizes","s","RefreshOverlayWrapper","Chart","React","PureComponent","constructor","props","handleRenderContainerFailure","componentDidMount","runQuery","componentDidUpdate","isFeatureEnabled","FeatureFlag","CLIENT_CACHE","getSavedChart","postChartFormData","error","info","logging","warn","chartRenderingFailed","toString","componentStack","logEvent","LOG_ACTIONS_RENDER_CHART","slice_id","has_err","error_details","start_offset","renderStartTime","ts","Date","getTime","duration","Logger","getTimestamp","renderErrorMessage","queryResponse","errors","message","link","render","isLoading","isFaded","renderContainerStartTime","item","t","mapDispatchToProps","dispatch","bindActionCreators","updateDataMask","connect","setDataMask","ChartRenderer","Component","hasQueryResponseChange","handleAddFilter","handleRenderSuccess","handleRenderFailure","handleSetControlValue","hooks","onAddFilter","onError","dataMask","shouldComponentUpdate","nextProps","resultsReady","filterState","color_scheme","cacheBusterProp","col","vals","merge","refresh","chartRenderingSucceeded","viz_type","args","snakeCaseVizType","chartClassName","webpackHash","process","__webpack_require__","h","Behavior","INTERACTIVE_CHART","anchorLinkId","filters","showShortLinkButton","inFocus","placement","oneOf","AnchorLink","hash","getLocationHash","scrollToView","UNSAFE_componentWillReceiveProps","delay","directLinkComponent","document","getElementById","scrollIntoView","block","behavior","getDashboardUrl","window","location","pathname","url","emailSubject","emailContent","addDangerToast","URLShortLinkButton","state","shortUrl","onShortUrlSuccess","getCopyUrl","setState","e","stopPropagation","getShortUrl","then","catch","renderPopover","emailBody","href","substring","origin","length","withToasts","datasourceUrl","datasourceName","innerRef","isSelected","lastModified","sliceName","style","visType","Styled","colors","grayscale","light2","gridUnit","light5","weights","light","light4","bold","normal","base","AddSliceCard","cx","initialCss","triggerNode","onChange","templates","array","CssEditor","css","changeCss","changeCssTemplate","AceCssEditor","preload","opt","renderTemplateSelector","zIndex","border","$blockScrolling","shape","addSliceToDashboard","removeSliceFromDashboard","dashboardInfo","dashboardInfoPropShape","dashboardState","dashboardStatePropShape","charts","objectOf","chartPropShape","slices","slicePropShape","activeFilters","chartConfiguration","datasources","ownDataCharts","layout","impressionId","initMessages","userId","Dashboard","onBeforeUnload","hasChanged","addEventListener","unload","removeEventListener","event","returnValue","appliedFilters","appliedOwnDataCharts","onVisibilityChange","appContainer","bootstrapData","getAttribute","eventData","is_edit_mode","editMode","mount_duration","is_empty","isDashboardEmpty","is_published","isPublished","bootstrap_data_length","directLinkComponentId","target_id","LOG_ACTIONS_MOUNT_DASHBOARD","visibilityState","visibilityEventData","applyCharts","currentChartIds","getChartIdsFromLayout","nextChartIds","newChartIds","key","newChartId","getLayoutComponentFromChartId","removedChartIds","removedChartId","hasUnsavedChanges","DASHBOARD_CROSS_FILTERS","areObjectsEqual","ignoreUndefined","applyFilters","componentWillUnmount","logStart","LOG_ACTIONS_HIDE_BROWSER_TAB","getAllCharts","currFilterKeys","appliedFilterKeys","allKeys","affectedChartIds","getAffectedOwnDataCharts","filterKey","push","scope","chartsInScope","refreshCharts","ids","id","context","loading","contextType","PluginContext","depth","gridComponent","componentShape","handleComponentDrop","isComponentVisible","resizeComponent","setDirectPathToChild","DashboardGrid","isResizing","rowGuideTop","handleResizeStart","handleResize","handleResizeStop","handleTopDropTargetDrop","getRowGuidePosition","setGridRef","handleChangeTab","resizeRef","grid","getBoundingClientRect","bottom","top","ref","direction","widthMultiple","heightMultiple","dropResult","destination","index","pathToTabIndex","columnPlusGutterWidth","GRID_GUTTER_SIZE","GRID_COLUMN_COUNT","columnWidth","dropIndicatorProps","children","Array","_","i","left","onDelete","DeleteComponentButton","addSuccessToast","dashboardTitle","customCss","colorNamespace","colorScheme","updateCss","forceRefreshAllCharts","refreshFrequency","shouldPersistRefreshFrequency","setRefreshFrequency","startPeriodicRender","userCanEdit","userCanShare","userCanSave","expandedSlices","onSave","showPropertiesModal","refreshLimit","refreshWarning","lastModifiedTime","undefined","MENU_KEYS","SAVE_MODAL","SHARE_DASHBOARD","REFRESH_DASHBOARD","AUTOREFRESH_MODAL","SET_FILTER_MAPPING","EDIT_PROPERTIES","EDIT_CSS","DOWNLOAD_AS_IMAGE","TOGGLE_FULLSCREEN","DropdownButton","SCREENSHOT_NODE_SELECTOR","HeaderActionsDropdown","discardChanges","reload","cssTemplates","changeRefreshInterval","handleMenuClick","UNSAFE_componentWillMount","injectCustomCss","SupersetClient","get","endpoint","json","result","row","value","template_name","label","refreshInterval","isPersistent","domEvent","menu","querySelector","visibility","downloadAsImage","getActiveFilters","getUrlParam","URL_PARAMS","standalone","replace","emailTitle","SAVE_TYPE_NEWDASHBOARD","closest","addWarningToast","setColorSchemeAndUnsavedChanges","isStarred","fetchFaveStar","fetchCharts","saveFaveStar","savePublished","updateDashboardTitle","setEditMode","showBuilderPane","maxUndoHistoryExceeded","onUndo","onRedo","undoLength","redoLength","setMaxUndoHistoryExceeded","maxUndoHistoryToast","dashboardInfoChanged","dashboardTitleChanged","StyledDashboardHeader","xl","Header","didNotifyMaxUndoHistoryToast","emphasizeUndo","showingPropertiesModal","handleChangeText","handleCtrlZ","handleCtrlY","toggleEditMode","forceRefresh","overwriteDashboard","hidePropertiesModal","UNDO_LIMIT","clearTimeout","ctrlYTimeout","ctrlZTimeout","nextText","emphasizeRedo","chartList","LOG_ACTIONS_FORCE_REFRESH_DASHBOARD","force","interval","chartCount","intervalMessage","predefinedValue","PeriodicRefreshOptions","option","moment","humanize","periodicRender","metadata","immune","timed_refresh_immune_slices","affectedCharts","chart","LOG_ACTIONS_PERIODIC_RENDER_DASHBOARD","refreshTimer","setPeriodicRunner","LOG_ACTIONS_TOGGLE_EDIT_DASHBOARD","edit_mode","positions","currentRefreshFrequency","scale","CategoricalColorNamespace","getScale","labelColors","getColorMap","metadataLabelColors","label_colors","refresh_frequency","data","expanded_slices","color_namespace","dashboard_title","last_modified_time","positionJSONLength","safeStringify","limit","common","conf","SUPERSET_DASHBOARD_POSITION_DATA_LIMIT","DASHBOARD_POSITION_DATA_LIMIT","SAVE_TYPE_OVERWRITE","dash_edit_perm","dash_share_perm","userCanSaveAs","dash_save_perm","SUPERSET_DASHBOARD_PERIODICAL_REFRESH_LIMIT","SUPERSET_DASHBOARD_PERIODICAL_REFRESH_WARNING_MESSAGE","updates","slug","JSON","parse","jsonMetadata","title","history","pushState","onClick","className","IconButton","handleClick","preventDefault","MissingChart","canEdit","canSave","draftButtonTooltip","draftDivTooltip","publishedTooltip","PublishedStatus","togglePublished","fetchAllSlices","lastUpdated","selectedSliceIds","innerHeight","KEYS_TO_FILTERS","KEYS_TO_SORT","slice_name","datasource_name","changed_on","DEFAULT_SORT_KEY","MARGIN_BOTTOM","SIDEPANE_HEADER_HEIGHT","SLICE_ADDER_CONTROL_HEIGHT","DEFAULT_CELL_HEIGHT","Controls","StyledSelect","Select","SliceAdder","sortByComparator","attr","desc","a","b","filteredSlices","searchTerm","sortBy","selectedSliceIdsSet","rowRenderer","searchUpdated","handleKeyPress","handleChange","handleSelect","slicesRequest","nextState","createFilter","abort","getFilteredSortedSlices","ev","target","prevState","cellData","has","type","CHART_TYPE","NEW_CHART_ID","meta","NEW_COMPONENTS_SOURCE_ID","NEW_COMPONENT_SOURCE_TYPE","dragSourceRef","changed_on_humanized","datasource_url","slicesListHeight","slice","componentId","isCached","cachedDttm","isExpanded","updatedDttm","supersetCanExplore","supersetCanShare","supersetCanCSV","sliceCanEdit","toggleExpandSlice","exploreChart","exportCSV","CROSS_FILTER_SCOPING","FORCE_REFRESH","TOGGLE_CHART_DESCRIPTION","EXPLORE_CHART","EXPORT_CSV","RESIZE_LABEL","VIEW_QUERY","VerticalDotsContainer","RefreshTooltip","m","VerticalDotsTrigger","SliceHeaderControls","toggleControls","refreshChart","showControls","showCrossFilterScopingModal","handleToggleFullSize","isFullSize","crossFilterItems","getChartMetadataRegistry","items","isCrossFilter","behaviors","cachedWhen","itemCachedDttm","utc","fromNow","updatedWhen","getCachedTitle","itemCached","refreshTooltipData","refreshTooltip","resizeLabel","lineHeight","description","fontSize","offset","UndoRedoKeyListeners","handleKeydown","controlOrCommand","ctrlKey","metaKey","isZChar","keyCode","isYChar","isEditingMarkdown","staticCardStyles","position","pointerEvents","dragItem","isDragging","currentOffset","x","y","AddSliceDragPreview","shouldRender","parentType","transform","DragLayer","monitor","getItem","getSourceClientOffset","component","parentComponent","disableDragdrop","orientation","onDrop","useEmptyDragPreview","isDraggingOver","isDraggingOverShallow","droppableRef","dragPreviewRef","UnwrappedDragDroppable","dropIndicator","setRef","mounted","getEmptyImage","captureDraggingState","DROP_TOP","DROP_BOTTOM","DROP_LEFT","DROP_RIGHT","childProps","DragSource","dragConfig","DropTarget","dropConfig","dotCount","DragHandle","TYPE","canDrag","disableDragDrop","beginDrag","parentId","dragStateToProps","dragSource","dragPreview","hover","handleHover","drop","getDropResult","handleDrop","dropStateToProps","dropTarget","isOver","shallow","dropPosition","getDropPosition","componentIndex","draggingItem","dropAsChildOrSibling","source","dragging","sameParent","sameParentLowerIndex","nextIndex","clearDropCache","HOVER_THROTTLE_MS","isDashboardRoot","DASHBOARD_ROOT_TYPE","scroll","handleScroll","FilterFieldItem","activeKey","nodes","filterScopeSelectorTreeNodePropShape","checked","oneOfType","expanded","onCheck","onExpand","FilterFieldTree","renderFilterFieldTreeNodes","treeIcons","dashboardFilters","dashboardFilterPropShape","updateDashboardFiltersScope","setUnsavedChanges","onCloseModal","ActionsContainer","FilterScopeSelector","filterFieldNodes","getFilterFieldNodesTree","filtersNodes","allfilterFields","child","defaultFilterKey","filterScopeMap","map","filterId","columns","filterScopeByChartId","mapByChartId","columnName","getDashboardFilterKey","column","getFilterScopeNodesTree","components","filterFields","selectedChartId","getFilterScopeParentNodes","chartIdsInFilterScope","getChartIdsInFilterScope","filterScope","scopes","nodesFiltered","getChartIdAndColumnFromFilterKey","checkedFilterFields","activeFilterField","expandedFilterIds","ALL_FILTERS_ROOT","filterScopeTreeEntry","buildFilterScopeTreeEntry","showSelector","searchText","filterNodes","onChangeFilterField","onCheckFilterScope","onExpandFilterScope","onSearchInputChange","onCheckFilterField","onExpandFilterField","onClose","getKeyForFilterScopeTree","editingList","updatedEntry","updatedFilterScopeMap","getRevertedFilterScope","filterField","nextActiveFilterField","currentActiveFilterField","filterTree","allFilterFieldScopes","checkedChartIds","getFilterScopeFromNodesTree","updater","filtered","toLocaleLowerCase","renderFilterFieldList","renderFilterScopeTree","getSelectedChartIdForFilterScopeTree","renderEditingFiltersName","currentFilterLabels","labels","join","NOOP","FilterScopeTree","renderFilterScopeTreeNodes","root","allFilterNodes","traverse","currentNode","updatedChildren","toLowerCase","check","uncheck","halfCheck","expandClose","expandOpen","expandAll","collapseAll","parentClose","parentOpen","leaf","updateSliceName","changeFilter","setFocusedFilterField","unsetFocusedFilterField","RESIZE_TIMEOUT","SHOULD_UPDATE_ON_PROP_CHANGES","prop","OVERFLOWABLE_VIZ_TYPES","DEFAULT_HEADER_HEIGHT","ChartOverlay","descriptionHeight","handleFilterMenuOpen","handleFilterMenuClose","resize","setDescriptionRef","setHeaderRef","resizeTimeout","prevProps","descriptionRef","offsetHeight","getChartHeight","headerHeight","getHeaderHeight","headerRef","newSelectedValues","LOG_ACTIONS_CHANGE_DASHBOARD_FILTER","LOG_ACTIONS_EXPLORE_DASHBOARD_CHART","is_cached","LOG_ACTIONS_EXPORT_CSV_DASHBOARD_CHART","exportChart","resultType","resultFormat","LOG_ACTIONS_FORCE_REFRESH_CHART","chartUpdateEndTime","cached_dttm","isOverflowable","isFilterBox","getFilterValuesByFilterId","annotationQuery","description_markeddown","__html","CHART_MARGIN","directPathToChild","directPathLastUpdated","focusedFilterScope","availableColumnCount","onResizeStart","onResize","onResizeStop","deleteComponent","updateComponents","FilterFocusHighlight","forwardRef","nativeFilters","otherProps","useTheme","focusedNativeFilterId","focusedFilterId","unfocusedChartStyles","opacity","focusedChartStyles","borderColor","primary","boxShadow","ChartHolder","renderInFocusCSS","getDerivedStateFromProps","chartComponentId","getChartAndLabelComponentIdFromPath","outlinedComponentId","outlinedColumnName","isFocused","handleChangeFocus","handleDeleteComponent","handleUpdateSliceName","hideOutline","timerKey","prevTimerKey","nextFocus","nextName","sliceNameOverride","COLUMN_TYPE","GRID_MIN_COLUMN_COUNT","chartWidth","chartHeight","innerWidth","Math","floor","GRID_BASE_UNIT","ROW_TYPE","GRID_MIN_ROW_UNITS","minColumnWidth","Column","handleChangeBackground","handleUpdateMeta","Boolean","nextValue","columnComponent","columnItems","backgroundStyle","backgroundStyleOptions","background","BACKGROUND_TRANSPARENT","itemIndex","Divider","handleChangeSize","headerStyle","headerStyleOptions","headerSize","SMALL_HEADER","rowStyle","text","MARKDOWN_PLACE_HOLDER","MARKDOWN_ERROR_MESSAGE","Markdown","markdownSource","code","editor","editorMode","handleChangeEditorMode","handleMarkdownChange","setEditor","hasError","nextComponent","nextUndoLength","nextRedoLength","getDerivedStateFromError","MarkdownEditor","componentDidCatch","getSession","setUseWrapMode","nextFocused","nextEditMode","mode","updateMarkdownContent","isEditing","renderEditMode","renderPreviewMode","occupiedColumnCount","Row","rowComponent","rowItems","RENDER_TAB","RENDER_TAB_CONTENT","renderType","onDropOnTab","TabTitleContainer","isHighlighted","light1","Tab","nextTabText","renderTabContent","tabComponent","tabParentComponent","renderTab","defaultText","placeholder","renderHoverMenu","createComponent","onChangeTab","StyledTabsContainer","Tabs","showDeleteConfirmModal","Modal","confirm","content","onOk","tabIndex","handleClickTab","max","okType","okText","cancelText","icon","handleEdit","action","NEW_TAB_ID","TAB_TYPE","findTabIndexByComponentId","currentComponent","tabIds","handleDeleteTab","handleDropOnTab","maxIndex","currTabsIds","nextTabsIds","lastTabId","nextFocusComponent","getLeafComponentIdFromPath","currentFocusComponent","nextTabIndex","getDirectPathToTabIndex","targetTabId","LOG_ACTIONS_SELECT_DASHBOARD_TAB","dropTabIndex","tabsComponent","isCurrentTabVisible","dashboardLayout","lastFocusedTabId","setLastFocusedTab","selectedTabIndex","dashboardRoot","DASHBOARD_ROOT_ID","rootChildId","isTopLevelTabs","DASHBOARD_GRID_ID","tabsToHighlight","tabsInScope","tabsDropIndicatorProps","tabsDragSourceRef","tabId","componentLookup","MARKDOWN_TYPE","DIVIDER_TYPE","HEADER_TYPE","TABS_TYPE","DraggableNewComponent","DraggableNewColumn","NEW_COLUMN_ID","DraggableNewDivider","NEW_DIVIDER_ID","DraggableNewHeader","NEW_HEADER_ID","NEW_MARKDOWN_ID","DraggableNewRow","NEW_ROW_ID","DraggableNewTabs","NEW_TABS_ID","proxyToInfinity","Number","MAX_VALUE","adjustableWidth","adjustableHeight","gutterWidth","widthStep","heightStep","minWidthMultiple","maxWidthMultiple","minHeightMultiple","maxHeightMultiple","staticHeight","staticHeightMultiple","staticWidth","staticWidthMultiple","SNAP_TO_GRID","HANDLE_CLASSES","right","ResizableContainer","delta","nextWidthMultiple","round","nextHeightMultiple","size","enableConfig","resizableConfig","notAdjustable","widthAndHeight","widthOnly","heightOnly","min","ResizableHandle","BottomRightResizeHandle","RightResizeHandle","BottomResizeHandle","bottomRight","EMPTY_FILTERS","mapStateToProps","chartQueries","sliceEntities","ownProps","form_data","getFormDataWithExtraFilters","present","chart_configuration","getAppliedFilterValues","sliceId","SUPERSET_WEBSERVER_TIMEOUT","superset_can_explore","superset_can_share","superset_can_csv","slice_can_edit","selectFocusedFilterScope","focusedFilterField","undoableLayout","past","future","componentType","occupiedWidth","minimumWidth","getDetailedComponentWidth","DashboardComponent","DASHBOARD_HEADER_ID","isDashboardLoading","undoLayoutAction","redoLayoutAction","saveDashboardRequest","DashboardHeader","sliceIds","checkedChartIdSet","add","currentComponentIdx","nextParentId","childId","currentPath","pop","split","IN_COMPONENT_ELEMENT_TYPES","chartIds","directPathToFilter","parents","SIBLING_DROP_THRESHOLD","NON_SHALLOW_DROP_THRESHOLD","CACHED_CLIENT_OFFSET","componentDepth","validChild","isValidChild","parentDepth","childType","validSibling","hasChildren","childDropOrientation","siblingDropOrientation","refBoundingRect","clientOffset","getClientOffset","deltaTop","abs","deltaBottom","deltaLeft","deltaRight","refMiddleX","refMiddleY","allFilters","dashboardFilter","filterName","showCheckbox","getImmuneChartIdsFromTabsNotInScope","tabs","chartsNotInScope","tab","tabChildren","subTab","subTabChildren","getTabChildrenScope","tabScopes","parentNodeValue","forceAggregate","hasChartSiblings","immuneChartSiblings","immuneChartIdsFromTabsNotInScope","immuneChartIdsFromTabsInScope","immuneCharts","componentsInScope","currentValue","chartChildren","chartsImmune","FILTER_SCOPE_CONTAINER_TYPES","chartNode","childNodeTree","depthLimit","parentNodes","entry","values","chartUpdateStartTime","componentTypes","latestQueryFormData","queryController","lastRendered","slice_url","datasource_link","modified","owners","datasourceId","isDateFilter","isInstantFilter","updatedColorScheme","lazyFunction","f","apply","arguments","leafType","parentShape","rowcount","rows","suffix","RowCountLabel","limitReached","formattedRowCount","getNumberFormatter","tooltip"],"mappings":"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AAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,EAAE,mBAAO,CAAC,yGAAgB;AAC1B,EAAE,mBAAO,CAAC,uGAAe;AACzB,EAAE,mBAAO,CAAC,yGAAgB;;AAE1B,sBAAsB,mBAAO,CAAC,iGAAY;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,oCAAoC,mBAAO,CAAC,2FAAS;A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,WAAW,WAAW,MAAM,SAAS,YAAY,WAAW,WAAW,WAAW,WAAW,WAAW,MAAM,MAAM,YAAY,MAAM,MAAM,WAAW,WAAW,WAAW,UAAU,WAAW,WAAW,MAAM,MAAM,WAAW,WAAW,WAAW,UAAU,MAAM,MAAM,UAAU,MAAM,MAAM,WAAW,MAAM,MAAM,YAAY,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,YAAY,UAAU,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,UAAU,UAAU,UAAU,MAAM,OAAO,UAAU,MAAM,OAAO,WAAW,MAAM,MAAM,WAAW,WAAW,MAAM,OAAO,UAAU,MAAM,MAAM,WAAW,UAAU,UAAU,UAAU,UAAU,MAAM,MAAM,UAAU,MAAM,MAAM,UAAU,WAAW,WAAW,MAAM,MAAM,WAAW,MAAM,MAAM,WAAW,WAAW,WAAW,MAAM,MAAM,YAAY,WAAW,MAAM,MAAM,UAAU,MAAM,MAAM,UAAU,MAAM,MAAM,UAAU,MAAM,qBAAqB,MAAM,MAAM,WAAW,MAAM,MAAM,UAAU,MAAM,MAAM,UAAU,MAAM,MAAM,UAAU,MAAM,MAAM,UAAU,MAAM,YAAY,OAAO,UAAU,WAAW,WAAW,UAAU,MAAM,MAAM,UAAU,UAAU,UAAU,UAAU,WAAW,MAAM,MAAM,UAAU,UAAU,UAAU,UAAU,WAAW,MAAM,MAAM,UAAU,MAAM,MAAM,UAAU,UAAU,UAAU,UAAU,WAAW,MAAM,MAAM,UAAU,UAAU,UAAU,UAAU,WAAW,MAAM,YAAY,OAAO,WAAW,UAAU,UAAU,MAAM,MAAM,UAAU,MAAM,MAAM,UAAU,UAAU,UAAU,UAAU,MAAM,MAAM,UAAU,WAAW,UAAU,UAAU,UAAU,UAAU,MAAM,YAAY,OAAO,WAAW,UAAU,MAAM,MAAM,UAAU,UAAU,UAAU,MAAM,MAAM,UAAU,UAAU,MAAM,MAAM,MAAM,OAAO,MAAM,MAAM,UAAU,UAAU,MAAM,MAAM,UAAU,WAAW,WAAW,MAAM,MAAM,UAAU,MAAM,qBAAqB,MAAM,OAAO,UAAU,WAAW,UAAU,WAAW,WAAW,OAAO,OAAO,UAAU,OAAO,OAAO,UAAU,WAAW,OAAO,QAAQ,YAAY,OAAO,OAAO,WAAW,OAAO,OAAO,UAAU,WAAW,WAAW,WAAW,OAAO,OAAO,UAAU,OAAO,OAAO,WAAW,WAAW,OAAO,OAAO,WAAW,OAAO,OAAO,YAAY,OAAO,OAAO,UAAU,WAAW,WAAW,UAAU,OAAO,SAAS,UAAU,WAAW,OAAO,QAAQ,WAAW,WAAW,UAAU,OAAO,QAAQ,UAAU,OAAO,QAAQ,WAAW,OAAO,QAAQ,UAAU,OAAO,OAAO,YAAY,UAAU,WAAW,WAAW,OAAO,OAAO,YAAY,WAAW,WAAW,OAAO,OAAO,WAAW,UAAU,WAAW,WAAW,WAAW,WAAW,OAAO,OAAO,WAAW,WAAW,WAAW,WAAW,OAAO,OAAO,YAAY,OAAO,OAAO,WAAW,OAAO,OAAO,YAAY,UAAU,WAAW,OAAO,OAAO,YAAY,UAAU,WAAW,OAAO,OAAO,WAAW,UAAU,OAAO,OAAO,YAAY,UAAU,WAAW,OAAO,OAAO,WAAW,OAAO,OAAO,WAAW,WAAW,UAAU,OAAO,OAAO,UAAU,WAAW,UAAU,UAAU,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,OAAO,OAAO,WAAW,OAAO,OAAO,YAAY,UAAU,UAAU,OAAO,OAAO,WAAW,OAAO,OAAO,YAAY,UAAU,WAAW,OAAO,OAAO,WAAW,UAAU,OAAO,OAAO,WAAW,OAAO,UAAU,YAAY,OAAO,OAAO,UAAU,OAAO,OAAO,YAAY,WAAW,OAAO,OAAO,WAAW,OAAO,OAAO,YAAY,UAAU,UAAU,WAAW,WAAW,WAAW,WAAW,UAAU,OAAO,OAAO,WAAW,OAAO,qBAAqB,MAAM,YAAY,QAAQ,WAAW,OAAO,OAAO,UAAU,WAAW,OAAO,YAAY,QAAQ,WAAW,OAAO,YAAY,QAAQ,WAAW,UAAU,WAAW,WAAW,WAAW,WAAW,OAAO,OAAO,WAAW,UAAU,UAAU,UAAU,WAAW,WAAW,UAAU,OAAO,qBAAqB,MAAM,OAAO,UAAU,WAAW,UAAU,WAAW,OAAO,OAAO,UAAU,UAAU,WAAW,UAAU,UAAU,UAAU,WAAW,WAAW,WAAW,OAAO,OAAO,WAAW,OAAO,OAAO,UAAU,UAAU,UAAU,WAAW,UAAU,UAAU,WAAW,WAAW,WAAW,OAAO,YAAY,aAAa,QAAQ,UAAU,WAAW,WAAW,OAAO,YAAY,SAAS,UAAU,WAAW,WAAW,OAAO,YAAY,Q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Ae,OAAO,oCAAoC;AAC1D,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,eAAe,KAAK;AACpB,eAAe,OAAO,oCAAoC;AAC1D,gBAAgB,QAAQ;AACxB;AACA;AACA,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oEAAoE,gBAAgB;;AAEpF;AACA;AACA,8EAA8E;AAC9E;;AAEA;;AAEA;AACA;AACA,wCAAwC,QAAQ;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA,2CAA2C;AAC3C,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,YAAY;AAC3C;;AAEA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,sCAAsC;AACtC;;AAEA;AACA,6CAA6C;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,YAAY;AACvC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA,yEAAyE;AACzE;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,iBAAiB;;AAEjB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;AChwBD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,IAAyD;AAC7D;AACA,MAAM,EAKqB;AAC3B,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,cAAc;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED,oCAAoC;AACpC;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,2CAA2C,SAAS;AACpD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kCAAkC,SAAS;AAC3C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;;AAEA,kBAAkB,UAAU;AAC5B;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA,sCAAsC,EAAE;;AAExC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gDAAgD,gBAAgB;AAChE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,iBAAiB,aAAa;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,kBAAkB,iBAAiB;AACnC,+BAA+B;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,wBAAwB,YAAY;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,4CAA4C,SAAS;AACrD;AACA;AACA;;AAEA;;AAEA,cAAc;AACd;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA,0CAA0C,WAAW;AACrD;AACA;AACA,2DAA2D,aAAa;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA,cAAc;AACd;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB,2BAA2B;AACpD;;AAEA;;AAEA;AACA;;AAEA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;;AAEA;AACA;AACA;AACA,OAAO;AACP,6CAA6C,WAAW;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,2CAA2C,SAAS;AACpD;AACA;;AAEA;AACA;;AAEA,uBAAuB,cAAc;AACrC;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,8CAA8C,SAAS;AACvD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA,2CAA2C,SAAS;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oDAAoD,WAAW;AAC/D;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA,CAAC;AACD,gC;;;;;;;;;;;ACz+BA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;;AAEA;AACA,WAAW,iBAAiB;AAC5B,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,sBAAsB;AACjC,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,aAAa,EAAE;AAC1D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC,kBAAkB,KAAK,OAAO;AAC/D;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,GAAG;;AAEH,qDAAqD,YAAY,EAAE;AACnE,4DAA4D,iBAAiB,EAAE;;AAE/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,EAAE,WAAW,EAAE;AACrC,sBAAsB,EAAE,OAAO,EAAE;AACjC;AACA,+BAA+B,OAAO,2BAA2B,QAAQ;AACzE;AACA,kBAAkB,EAAE,EAAE,EAAE;AACxB,gBAAgB,EAAE,EAAE,EAAE;AACtB;AACA,iBAAiB,QAAQ,EAAE,EAAE,EAAE;AAC/B,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE,EAAE,EAAE;AACxB,gBAAgB,EAAE,EAAE,EAAE;AACtB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA,kBAAkB,EAAE,SAAS,EAAE;AAC/B,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE,EAAE;AACtB,gBAAgB,EAAE,EAAE;AACpB;AACA,OAAO;AACP;AACA;AACA;AACA,kBAAkB,EAAE;AACpB,gBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AC/SA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,qCAAqC,WAAW;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY,GAAG,uBAAuB;AAC7C,OAAO,YAAY,GAAG,uBAAuB;AAC7C;AACA,OAAO,iCAAiC;AACxC,OAAO,iCAAiC;AACxC,OAAO,iBAAiB;AACxB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,WAAW,aAAa,EAAE;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,UAAU,EAAE,WAAW,EAAE,GAAG;AACnC,OAAO,WAAW,EAAE,YAAY,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,+BAA+B;AACtC,OAAO,yCAAyC;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,IAAI;AACvB;AACA;AACA,QAAQ;AACR;AACA,+BAA+B,GAAG;AAClC;AACA,WAAW,mBAAmB;AAC9B,WAAW,gDAAgD;AAC3D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5JA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrBA,eAAe,mBAAO,CAAC,uDAAa;AACpC,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,wBAAwB,mBAAO,CAAC,yEAAsB;AACtD,eAAe,mBAAO,CAAC,uDAAa;AACpC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvEA,UAAU,mBAAO,CAAC,6CAAQ;AAC1B,WAAW,mBAAO,CAAC,6CAAQ;AAC3B,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClBA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA,MAAM,oCAAoC;AAC1C,MAAM,qCAAqC;AAC3C,MAAM;AACN;AACA;AACA,uCAAuC,4BAA4B,EAAE;AACrE;AACA;AACA;AACA,2BAA2B,mCAAmC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC1DA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,UAAU,mBAAO,CAAC,2CAAO;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,UAAU,mBAAO,CAAC,2CAAO;;AAEzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC9BA,uBAAuB,mBAAO,CAAC,uEAAqB;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;AC3BA,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACxBA,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA,mBAAmB,iBAAiB,GAAG,iBAAiB,GAAG,iBAAiB;AAC5E;AACA;AACA,WAAW,iBAAiB,GAAG,iBAAiB;AAChD;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;AC3Ba;;AAEb,8CAA8C,cAAc;;AAE5D,cAAc,mBAAO,CAAC,gDAAO;AAC7B,YAAY,mBAAO,CAAC,4CAAO;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,yCAAyC,uBAAuB;AAC9H;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,qCAAqC;AAC5F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mFAAmF,wCAAwC,2CAA2C,kSAAkS,GAAG,EAAE;AACpf;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA,yCAAyC;AACzC;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA,MAAM,EAAE;AACR;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,iBAAiB;AAC5B,YAAY;AACZ;AACA;AACA;AACA;AACA,+CAA+C,0BAA0B;AACzE;AACA;AACA;AACA;AACA;AACA,wDAAwD,wBAAwB,EAAE;AAClF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD;AACA;AACA,4BAA4B,mBAAmB;AAC/C;AACA;AACA,oCAAoC,wBAAwB,wBAAwB,EAAE,EAAE;AACxF;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,mBAAmB;AAC/D,0DAA0D,SAAS,iHAAiH;AACpL,wEAAwE,sPAAsP;AAC9T;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,oBAAoB,uBAAuB;AAC3C;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,uGAAuG;AAC/I;AACA;AACA,6CAA6C,kQAAkQ;AAC/S,6CAA6C,uWAAuW;AACpZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,wBAAwB;AACzE,wCAAwC,sCAAsC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,cAAc;AAC9D,kEAAkE,eAAe,wCAAwC;AACzH,+CAA+C,kCAAkC;AACjF,qDAAqD,uDAAuD;AAC5G;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,yBAAyB;AACjG;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3dA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;;;;;;;;;;;;;ACnCA,wDAAU,mBAAO,CAAC,8EAAiB;AACnC;AACA;AACA;AACA;AACA;;AAEA,cAAc,4BAA4B;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA,aAAa;AACb,qCAAqC,UAAU;AAC/C;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,gBAAgB,SAAI,IAAI,SAAI;AAC5B;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC+B;AACK;AACD;AACnC;AACA;AACA;AACA;AACA,YAAY,mDAAO,yBAAyB,wCAAwC,EAAE;AACtF,WAAW,mDAAO,qBAAqB,oCAAoC,EAAE;AAC7E,mBAAmB,mDAAO;AAC1B;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mDAAO;AAC7B,6BAA6B,aAAa;AAC1C,yEAAyE,4EAA4E,EAAE;AACvJ;AACA;AACA,CAAC;AACD,eAAe,mDAAO;AACtB;AACA,CAAC;AACD,oBAAoB,mDAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,wBAAwB;AACxB;AACA,oBAAoB;AACpB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iCAAiC;AAChE;AACA;AACA,+BAA+B,+BAA+B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,iDAAiD,gCAAgC,sEAAsE;AACvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,6DAA6D,GAAG,qCAAqC;AACtL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gCAAgC,iBAAiB;AAClG,SAAS;AACT;AACA;AACA,uBAAuB,yCAAyC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mDAAmB,CAAC,gDAAO,GAAG,iKAAiK;AACvN;AACA;AACA,SAAS;AACT;AACA,gBAAgB,mDAAmB,UAAU,2DAA2D;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,IAAI;AACb,gDAAgD,4EAA4E,uCAAuC,yKAAyK;AAC5U;AACA;AACA;AACA;AACA,gBAAgB,mDAAmB,oBAAoB,+DAA+D;AACtH,qCAAqC,mDAAmB,SAAS,oCAAoC;AACrG;AACA;AACA;AACA;AACA;AACA,oCAAoC,EAAE;AACtC,+BAA+B,EAAE;AACjC,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,mDAAmB;AACA;;;;;;;;;;;;;ACpuBrB;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,gBAAgB,SAAI,IAAI,SAAI;AAC5B;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA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AAE,iDAAiD,GAAG;;AAEva,iDAAiD,0EAA0E,aAAa,EAAE,qCAAqC;;AAE/K,uCAAuC,uBAAuB,uFAAuF,EAAE,aAAa;;AAEpK,sCAAsC,wEAAwE,0CAA0C,8CAA8C,MAAM,wEAAwE,GAAG,aAAa,EAAE,YAAY,cAAc,EAAE;;AAElU,6BAA6B,gGAAgG,gDAAgD,GAAG,2BAA2B;;AAE5K;AACwB;AACN;AACE;AACD;AACA;AACgC;AAC9C;AAC7B;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,oEAAY;AACrE;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,6BAA6B,+CAAe;;AAE5C;AACA;;AAEA,eAAe,4EAAY;AAC3B;AACA;AACA;;AAEA,+BAA+B,6DAAgB;;AAE/C;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,UAAU,sEAAS;AACnB;AACA;AACA,OAAO;AACP;AACA;AACA,2DAA2D,4EAAY;AACvE;AACA,OAAO;AACP;AACA;AACA,gCAAgC,6DAAgB;AAChD;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,4CAA4C,gEAAmB,KAAK,uDAAU,mBAAmB,uDAAU;AAC3G;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;;AAEA,cAAc,IAAqC;AACnD,YAAY,sEAAS,CAAC,qEAAa;AACnC;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,iBAAiB,mDAAmB,CAAC,6DAAU;AAC/C;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,eAAe;AACf;;AAEA,mBAAmB,mDAAmB,4BAA4B;AAClE;AACA,mBAAmB,wDAAS;AAC5B,aAAa;AACb,WAAW;AACX;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA,UAAU,sEAAS;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK,CAAC,+CAAe;;AAErB;AACA;AACA;AACA,GAAG;;AAEH,SAAS,8DAAY;AACrB,C;;;;;;;;;;;;ACjPA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE;;AAE3T,6DAA6D,sEAAsE,8DAA8D,oBAAoB;;AAEhK;AACrD;AACA;AACA,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,kEAAU,oBAAoB,oDAAI;AACtD;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,4BAA4B,kEAAU;AACtC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA,kBAAkB,WAAW;AAC7B;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA,aAAa,oDAAI;AACjB;AACA;AACA,CAAC;;AAEqB;AACtB;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;;AAEA,8EAA8E,aAAa;AAC3F;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,IAAI;AACjB;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB,iBAAiB,QAAQ,eAAe;AACxC;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,SAAS;AAChC;AACA;;AAEA;;AAEA,wBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,SAAS;AAChC;AACA;;AAEA;;AAEA,yBAAyB,WAAW;AACpC;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB;;;AAGA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC,G;;;;;;;;;;;;AClPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACO;AACP;AACA;AACO;AACP;;AAEA;AACA;AACA;AACO;AACP;AACA;AACO;AACP,MAAM,IAAqC;AAC3C,mBAAmB,wDAAwD;AAC3E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACpCA;AAAA;AAAA,uBAAuB,2BAA2B,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAEjX;AACP;AACA;AACA,GAAG;AACH,C;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA,uBAAuB,2BAA2B,2EAA2E,kCAAkC,mBAAmB,GAAG,EAAE,OAAO,kCAAkC,8HAA8H,GAAG,EAAE,qBAAqB;;AAExX;AACO;AACP;AACA;AACO,iBAAiB;AACxB;;AAEA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC7BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEoB;;;;;;;;;;;;;AC7JpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AAC8B;AACO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sDAAqB,CAAC,8CAAc;AACnD,iBAAiB,oDAAoB;AACrC;AACA,mBAAmB,kDAAkB;AACrC,SAAS;AACT;AACA;AACA,CAAC,CAAC,mDAAmB;AACrB;AACA;AACA;AACA;AACA,gCAAgC,+CAAe;AAC/C;AACA;AACA;AACA;AACA,6CAA6C,eAAe,kBAAkB;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mDAAmB,SAAS,4BAA4B;AACvE;AACA;AACA,CAAC,CAAC,mDAAmB;AACrB;AACA;AAC2E;AAC3E,iC;;;;;;;;;;;;ACzKa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,aAAa,mBAAO,CAAC,4CAAO;;AAE5B;;AAEA,iBAAiB,mBAAO,CAAC,sDAAY;;AAErC;;AAEA,YAAY,mBAAO,CAAC,6DAAQ;;AAE5B,sCAAsC,uCAAuC,gBAAgB;;AAE7F,8CAA8C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE1N,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iLAAiL;;;AAGjL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,uBAAuB;AAChC;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0C;;;;;;;;;;;;AChJa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA,YAAY,mBAAO,CAAC,oDAAS;;AAE7B;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,OAAO,IAAI,gFAAgF;AAC3F;AACA;AACA;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A;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,iFAAiC;AAC5E;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL,wCAAwC,iFAAiC;AACzE;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,iCAAiC,uFAAwB;AACzD,+BAA+B,uFAAwB;AACvD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA,EAAE,wEAAY;AACd;AACA;AACA,uFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,oEAAQ,GAAG;AACnC;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qHAAqH,uFAAwB,GAAG,wFAAyB;AACzK,+GAA+G,uFAAwB,GAAG,wFAAyB;;AAEnK;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA,wFAAwF;AACxF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,gDAAgD,oEAAQ,GAAG;AAC3D;AACA,SAAS;AACT;;AAEA;AACA,4CAA4C,oEAAQ,GAAG;AACvD;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,QAAQ,+EAAuB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,OAAO;AACP,QAAQ,+EAAuB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,QAAQ,8FAAsB;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,aAAa,mDAAmB;AAChC;AACA,QAAQ,oEAAQ;AAChB;AACA,SAAS;AACT;AACA;AACA,qBAAqB,iDAAE;AACvB;AACA;AACA;AACA,iBAAiB,oEAAQ,GAAG;AAC5B,8BAA8B;AAC9B,wCAAwC,mDAAmB;AAC3D;AACA;AACA;AACA;AACA,mBAAmB,oEAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,0BAA0B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAoD,gCAAgC;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;;;AAGA;AACA,QAAQ,8FAAsB;AAC9B;;AAEA,4CAA4C,+FAAuB;AACnE;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gCAAgC,+CAA+C;AAC/E;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C,gCAAgC;AAC9E,sDAAsD,sCAAsC;AAC5F;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,4CAA4C,WAAW,YAAY,SAAS;AAC5E,oBAAoB,WAAW;AAC/B;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,UAAU,0EAAc;AACxB;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ,0EAAc;AACtB;AACA,SAAS;AACT;;AAEA;AACA;;AAEA,MAAM,wGAAiD;AACvD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM,wGAAiD;AACvD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA,aAAa,oEAAQ,GAAG;AACxB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iFAAiF,uFAAwB,GAAG,wFAAyB;AACrI;AACA;;AAEA;AACA,6EAA6E,uFAAwB,GAAG,wFAAyB;AACjI;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC,CAAC,mDAAmB;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,kEAAwB;AAC7C;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB,sEAAa;AACjC;AACA,kCAAkC;AAClC,oEAAoE;AACpE,oDAAoD;AACpD;AACA,yBAAyB,sEAA4B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,iBAAiB,MAAqC,GAAG,SAAI;AAC7D,gBAAgB,kDAAS;AACzB,mBAAmB,kDAAS;;;AAG5B;AACA;AACA;AACA;AACA,sBAAsB,kDAAS;;;AAG/B;AACA;AACA;AACA;AACA,cAAc,kDAAS;;;AAGvB;AACA;AACA;AACA;AACA,aAAa,kDAAS;;;AAGtB;AACA;AACA,mBAAmB,oEAA4B,kBAAkB,oEAA4B,cAAc,oEAA4B,cAAc,oEAA4B,GAAG,kDAAS,OAAO,oEAA4B;AAChO,GAAG;;;AAGH;AACA;AACA,mBAAmB,yEAAiC,kBAAkB,yEAAiC,cAAc,yEAAiC,cAAc,yEAAiC,GAAG,kDAAS,OAAO,yEAAiC;AACzP,GAAG;;;AAGH;AACA,aAAa,kDAAS;;;AAGtB;AACA,eAAe,kDAAS;;;AAGxB;AACA;AACA,mBAAmB,gEAAwB,kBAAkB,gEAAwB,cAAc,gEAAwB,cAAc,gEAAwB,GAAG,kDAAS,OAAO,gEAAwB;AAC5M,GAAG;;;AAGH;AACA,kBAAkB,kDAAS;;;AAG3B;AACA,iBAAiB,kDAAS;;;AAG1B;AACA,kBAAkB,kDAAS;;;AAG3B;AACA;AACA;AACA;AACA,4BAA4B,kDAAS;;;AAGrC;AACA;AACA;AACA;AACA,uBAAuB,kDAAS;;;AAGhC;AACA;AACA;AACA;AACA,oBAAoB,kDAAS;;;AAG7B;AACA,oBAAoB,kDAAS;;;AAG7B,qBAAqB;AACrB,UAAU,kDAAS;;;AAGnB;AACA,MAAM,kDAAS;;;AAGf;AACA;AACA;AACA;AACA,eAAe,kDAAS;;;AAGxB;AACA;AACA,mBAAmB,yEAAiC,kBAAkB,yEAAiC,cAAc,yEAAiC,cAAc,yEAAiC,GAAG,kDAAS,OAAO,yEAAiC;AACzP,GAAG;;;AAGH;AACA;AACA;AACA;AACA,YAAY,kDAAS;;;AAGrB;AACA;AACA;AACA;AACA;AACA,6BAA6B,kDAAS;;;AAGtC;AACA,qBAAqB,kDAAS;;;AAG9B;AACA;AACA;AACA;AACA,uBAAuB,kDAAS;;;AAGhC;AACA;AACA;AACA;AACA;AACA,mBAAmB,6EAAqC,kBAAkB,6EAAqC,cAAc,6EAAqC,cAAc,6EAAqC,GAAG,kDAAS,OAAO,6EAAqC;AAC7Q,GAAG;;;AAGH;AACA;AACA;AACA;AACA,oBAAoB,kDAAS;;;AAG7B;AACA,QAAQ,kDAAS;;;AAGjB;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA,mBAAmB,gEAAwB,kBAAkB,gEAAwB,cAAc,gEAAwB,cAAc,gEAAwB,GAAG,kDAAS,OAAO,gEAAwB;AAC5M,GAAG;;;AAGH;AACA,YAAY,kDAAS;;;AAGrB;AACA,8BAA8B,kDAAS;;;AAGvC;AACA,cAAc,kDAAS;;;AAGvB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iEAAyB,kBAAkB,iEAAyB,cAAc,iEAAyB,cAAc,iEAAyB,GAAG,kDAAS,OAAO,iEAAyB;AACjN,GAAG;;;AAGH;AACA,kBAAkB,kDAAS;;;AAG3B;AACA,aAAa,kDAAS;;;AAGtB;AACA,eAAe,kDAAS;;;AAGxB;AACA,SAAS,kDAAS;;;AAGlB;AACA,YAAY,kDAAS;;;AAGrB,oBAAoB;AACpB,SAAS,kDAAS;AAClB;;;AAGA,yEAAQ;AACO,mEAAI,EAAC;AACmC;AACK;AACL;AACJ;AACM;AACG;AACX;AACiB;AACR;AACM;AACZ;AACA;AACC;AACiC;;;;;;;;;;;;;;;;;;;;;ACrgD/E;;AAEA;;AAEA;AACA;;AAEP;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACsE;;;;;;;;;;;;;;;;;ACpCtE;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,oCAAoC,0BAA0B;AAC9D;;AAEA,4CAA4C,gCAAgC;AAC5E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA,UAAU,IAAqC;AAC/C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACxIO;;AAEA;;AAEA;AACA;;AAEP;AACA;AACA;AACA;;AAEe;AACf;AACA;A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ACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iDAAiD,YAAY;AAC7D,4CAA4C,WAAW;;AAEvD;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wDAAwD;AACxD;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAEc,yFAA0B,EAAC;AACW;AACK;;;;;;;;;;;;;AClT1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqF;AAClB;AACN;;;AAGS;;AAEd;;AAExD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,4EAAiB;AAC5E,iBAAiB,oFAAwB;;AAEzC,IAAI,2EAAe;;AAEnB;AACA,2CAA2C,mEAA0B;AACrE;AACA;;AAEA,EAAE,wEAAY;AACd;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAEc,gGAAiC,EAAC;AACI;AACK;;;;;;;;;;;;;;;;;AC7M3C;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,G;;;;;;;;;;;;AC5BA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;;;;;;;;AChBuF;;AAEvF;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACqD;;;;;;;;;;;;;AC7CrD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqD;AACmD;AACrB;AAChB;AACN;AAC4B;AAClC;AACY;AACpC;AACH;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE,qEAAS;;AAEX;AACA;;AAEA;;AAEA,IAAI,2EAAe;;AAEnB,mEAAmE,aAAa;AAChF;AACA;;AAEA,oCAAoC,sFAA0B,iCAAiC,oFAAsB;AACrH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,+FAAgC;AAClE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA,gBAAgB,+EAA+E;AAC/F,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK,UAAU,sFAA0B;AACzC;;AAEA,EAAE,wEAAY;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA,wFAAwF;AACxF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA,oCAAoC,uBAAuB;AAC3D;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,uBAAuB,kDAAE;;AAEzB,aAAa,mDAAmB,CAAC,6CAAI,EAAE,oEAAQ,GAAG;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA,CAAC,CAAC,mDAAmB;;AAErB;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,GAAG;AACH,8CAA8C;AAC9C,yBAAyB,6CAAkC;AAC3D;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAqC,GAAG,SAAI;AAC7D,gBAAgB,kDAAS;;;AAGzB;AACA;AACA;AACA;AACA,cAAc,kDAAS;;;AAGvB;AACA,aAAa,kDAAS;;;AAGtB;AACA;AACA;AACA;AACA,oBAAoB,kDAAS;;;AAG7B;AACA,UAAU,kDAAS;;;AAGnB;AACA;AACA,mBAAmB,wEAAiC,kBAAkB,wEAAiC,cAAc,wEAAiC,cAAc,wEAAiC,GAAG,kDAAS,OAAO,wEAAiC;AACzP,GAAG;;;AAGH;;AAEA,kBAAkB,kDAAS;;;AAG3B;AACA;AACA;AACA;AACA,YAAY,kDAAS;;;AAGrB;AACA;AACA,mBAAmB,4EAAqC,kBAAkB,4EAAqC,cAAc,4EAAqC,cAAc,4EAAqC,GAAG,kDAAS,OAAO,4EAAqC;AAC7Q,GAAG;;;AAGH;AACA;AACA;AACA;AACA,oBAAoB,kDAAS;;;AAG7B;AACA;AACA,mBAAmB,+DAAwB,kBAAkB,+DAAwB,cAAc,+DAAwB,cAAc,+DAAwB,GAAG,kDAAS,OAAO,+DAAwB;AAC5M,GAAG;;;AAGH,qDAAqD,GAAG,gBAAgB;AACxE;AACA,mBAAmB,mEAA2B,kBAAkB,mEAA2B,cAAc,mEAA2B,cAAc,mEAA2B,GAAG,kDAAS,OAAO,mEAA2B;AAC3N,GAAG;;;AAGH;AACA,YAAY,kDAAS;;;AAGrB;AACA;AACA,mBAAmB,gEAAyB,kBAAkB,gEAAyB,cAAc,gEAAyB,cAAc,gEAAyB,GAAG,kDAAS,OAAO,gEAAyB;AACjN,GAAG;;;AAGH;AACA,iBAAiB,kDAAS;;;AAG1B;AACA,aAAa,kDAAS;;;AAGtB;AACA,SAAS,kDAAS;;;AAGlB;AACA,YAAY,kDAAS;;;AAGrB;AACA,SAAS,kDAAS;AAClB;AACe,mEAAI,EAAC;AACwC;AACR;AACD;AACI;AACS;AACN;AACG;AACkB;AACzB;AACC;AACN;;;;;;;;;;;;;ACzWjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+B;;AAE/B,wCAAwC,MAAqC,GAAG,SAAI;AACpF,SAAS,iDAAS;AAClB,eAAe,iDAAS;AACxB,aAAa,iDAAS;AACtB,OAAO,iDAAS;AAChB,UAAU,iDAAS;AACnB,SAAS,iDAAS;AAClB;AACA,kCAAkC,MAAqC,GAAG,SAAI,GAAG,iDAAS;AAC1F,mCAAmC,MAAqC,GAAG,SAAI;AAC/E,sBAAsB,iDAAS;AAC/B,qBAAqB,iDAAS;AAC9B,cAAc,iDAAS;AACvB,aAAa,iDAAS;AACtB;AACA,6BAA6B,MAAqC,GAAG,SAAI;AACzE,gBAAgB,iDAAS;AACzB,gBAAgB,iDAAS;AACzB,aAAa,iDAAS;AACtB;AACmC;AACU;AACN;AACC;;;;;;;;;;;;;;;;;;ACvBxC;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEO;AACA,iB;;;;;;;;;;;;ACxBP;AAAA;AAAA;AAAA;AAA6D;AAC7D;AACA;AACA;AACe;AACf;;AAEA;;AAEA;AACA;AACA;;AAEA,eAAe,wEAAY;AAC3B;AACA;AACA;AACA,KAAK;AACL,uCAAuC,wEAAY;AACnD;AACA;;AAEA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4C;;AAE5C,yCAAyC,MAAqC,GAAG,SAAI;AACrF,MAAM,iDAAS;AACf;;;AAGO;AACP,SAAS,2DAAG;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;;AAEA;AACA;AACA;AACA,KAAK;AACL,iBAAiB,2DAAG;AACpB;AACA;;AAEA;AACA,QAAQ,2DAAG;AACX;;AAEA;AACA;AACmC;;;;;;;;;;;;;AClCnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;;AAEO;AACP;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEO;AACP;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;;AAEO;AACP,mCAAmC,oCAAoC;AACvE;;AAEO;AACP;AACA;;AAEO;AACP,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;;AAEO;AACP,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;;AAEO;AACP,4BAA4B,sBAAsB;AAClD;AACA;AACA;;AAEO;AACP,iDAAiD,QAAQ;AACzD,wCAAwC,QAAQ;AAChD,wDAAwD,QAAQ;AAChE;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA,iBAAiB,sFAAsF,aAAa,EAAE;AACtH,sBAAsB,gCAAgC,qCAAqC,0CAA0C,EAAE,EAAE,GAAG;AAC5I,2BAA2B,MAAM,eAAe,EAAE,YAAY,oBAAoB,EAAE;AACpF,sBAAsB,oGAAoG;AAC1H,6BAA6B,uBAAuB;AACpD,4BAA4B,wBAAwB;AACpD,2BAA2B,yDAAyD;AACpF;;AAEO;AACP;AACA,iBAAiB,4CAA4C,SAAS,EAAE,qDAAqD,aAAa,EAAE;AAC5I,yBAAyB,6BAA6B,oBAAoB,gDAAgD,gBAAgB,EAAE,KAAK;AACjJ;;AAEO;AACP;AACA;AACA,2GAA2G,sFAAsF,aAAa,EAAE;AAChN,sBAAsB,8BAA8B,gDAAgD,uDAAuD,EAAE,EAAE,GAAG;AAClK,4CAA4C,sCAAsC,UAAU,oBAAoB,EAAE,EAAE,UAAU;AAC9H;;AAEO;AACP,gCAAgC,uCAAuC,aAAa,EAAE,EAAE,OAAO,kBAAkB;AACjH;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP,4CAA4C;AAC5C;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoG,cAAc,MAAM,sDAAC,WAAW,YAAY,yDAAC,aAAa,EAAE,qDAAC,KAAK,MAAM,kBAAkB,MAAM,qDAAC,YAAY,OAAO,qDAAC,IAAI,MAAM,OAAO,wDAAC,QAAmD;AAC9R;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAMA,SAAS,GAAG;AAChBC,gBAAc,EAAEC,iDAAS,CAACC,MADV;AAEhBC,SAAO,EAAEF,iDAAS,CAACC,MAFH;AAGhBE,SAAO,EAAEH,iDAAS,CAACI,MAAV,CAAiBC,UAHV;AAIhBC,YAAU,EAAEN,iDAAS,CAACC,MAAV,CAAiBI,UAJb;AAKhB;AACAE,aAAW,EAAEP,iDAAS,CAACI,MANP;AAOhB;AACA;AACA;AACAI,eAAa,EAAER,iDAAS,CAACC,MAVT;AAWhB;AACA;AACAQ,UAAQ,EAAET,iDAAS,CAACC,MAAV,CAAiBI,UAbX;AAchBK,OAAK,EAAEV,iDAAS,CAACI,MAdD;AAehBO,QAAM,EAAEX,iDAAS,CAACI,MAfF;AAgBhBQ,iBAAe,EAAEZ,iDAAS,CAACa,IAhBX;AAiBhBC,SAAO,EAAEd,iDAAS,CAACI,MAjBH;AAkBhBW,SAAO,EAAEf,iDAAS,CAACgB,MAAV,CAAiBX,UAlBV;AAmBhBY,eAAa,EAAEjB,iDAAS,CAACkB,IAnBT;AAoBhBC,sBAAoB,EAAEnB,iDAAS,CAACkB,IApBhB;AAqBhB;AACAE,YAAU,EAAEpB,iDAAS,CAACgB,MAtBN;AAuBhBK,aAAW,EAAErB,iDAAS,CAACgB,MAvBP;AAwBhBM,iBAAe,EAAEtB,iDAAS,CAACgB,MAxBX;AAyBhBO,iBAAe,EAAEvB,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACC,MAA5B,CAzBD;AA0BhBwB,cAAY,EAAEzB,iDAAS,CAACkB,IA1BR;AA2BhBQ,uBAAqB,EAAE1B,iDAAS,CAACkB,IA3BjB;AA4BhBS,cAAY,EAAE3B,iDAAS,CAAC4B,IA5BR;AA6BhB;AACAC,WAAS,EAAE7B,iDAAS,CAACa,IA9BL;AA+BhBiB,SAAO,EAAE9B,iDAAS,CAACa,IA/BH;AAgChBkB,kBAAgB,EAAE/B,iDAAS,CAACa,IAhCZ;AAiChBmB,mBAAiB,EAAEhC,iDAAS,CAACa,IAjCb;AAkChBoB,UAAQ,EAAEjC,iDAAS,CAACC,MAlCJ,EAAlB;;;AAqCA,MAAMiC,KAAK,GAAG,EAAd;;AAEA,MAAMC,YAAY,GAAG;AACnBN,WAAS,EAAE,MAAMK,KADE;AAEnBH,kBAAgB,EAAE,MAAMG,KAFL;AAGnBF,mBAAiB,EAAE,MAAME,KAHN;AAInB1B,eAAa,EAAE0B,KAJI;AAKnBtB,iBAAe,GAAG,CAAE,CALD;AAMnBK,eAAa,EAAE,KANI;AAOnBV,aAAW,EAAE,IAPM;AAQnBe,iBAAe,EAAE,IARE,EAArB;;;AAWA,MAAMc,MAAM,GAAGC,wDAAM,CAACC,GAAI;AAC1B,gBAAgBC,CAAC,IAAIA,CAAC,CAAC5B,MAAO;AAC9B;AACA;AACA;AACA;AACA,iBAAiB,CAAC,EAAE6B,KAAF,EAAD,KAAeA,KAAK,CAACC,UAAN,CAAiBC,KAAjB,CAAuBC,CAAE;AACzD;AACA,CARA;;AAUA,MAAMC,qBAAqB,GAAGP,wDAAM,CAACC,GAAI;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATA;;AAWA,MAAMO,KAAN,SAAoBC,4CAAK,CAACC,aAA1B,CAAwC;AACtCC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,4BAAL,GAAoC,2GAAKA,4BAAL;AAClC,QADkC,CAApC;;AAGD;;AAEDC,mBAAiB,GAAG;AAClB,QAAI,KAAKF,KAAL,CAAWxB,YAAf,EAA6B;AAC3B,WAAK2B,QAAL;AACD;AACF;;AAEDC,oBAAkB,GAAG;AACnB,QAAI,KAAKJ,KAAL,CAAWxB,YAAf,EAA6B;AAC3B,WAAK2B,QAAL;AACD;AACF;;AAEDA,UAAQ,GAAG;AACT,QAAI,KAAKH,KAAL,CAAW9C,OAAX,GAAqB,CAArB,IAA0BmD,yEAAgB,CAACC,4DAAW,CAACC,YAAb,CAA9C,EAA0E;AACxE;AACA,WAAKP,KAAL,CAAW/C,OAAX,CAAmBuD,aAAnB;AACE,WAAKR,KAAL,CAAWxC,QADb;AAEE,WAFF;AAGE,WAAKwC,KAAL,CAAWnC,OAHb;AAIE,WAAKmC,KAAL,CAAW9C,OAJb;AAKE,WAAK8C,KAAL,CAAW1C,WALb;AAME,WAAK0C,KAAL,CAAWhB,QANb;;AAQD,KAVD,MAUO;AACL;AACA,WAAKgB,KAAL,CAAW/C,OAAX,CAAmBwD,iBAAnB;AACE,WAAKT,KAAL,CAAWxC,QADb;AAEE,WAFF;AAGE,WAAKwC,KAAL,CAAWnC,OAHb;AAIE,WAAKmC,KAAL,CAAW9C,OAJb;AAKE,WAAK8C,KAAL,CAAW1C,WALb;AAME,WAAK0C,KAAL,CAAWhB,QANb;;AAQD;AACF;;AAEDiB,8BAA4B,CAACS,KAAD,EAAQC,IAAR,EAAc;AACxC,UAAM,EAAE1D,OAAF,EAAWC,OAAX,KAAuB,KAAK8C,KAAlC;AACAY,6DAAO,CAACC,IAAR,CAAaH,KAAb;AACAzD,WAAO,CAAC6D,oBAAR;AACEJ,SAAK,CAACK,QAAN,EADF;AAEE7D,WAFF;AAGEyD,QAAI,GAAGA,IAAI,CAACK,cAAR,GAAyB,IAH/B;;;AAMA/D,WAAO,CAACgE,QAAR,CAAiBC,0EAAjB,EAA2C;AACzCC,cAAQ,EAAEjE,OAD+B;AAEzCkE,aAAO,EAAE,IAFgC;AAGzCC,mBAAa,EAAEX,KAAK,CAACK,QAAN,EAH0B;AAIzCO,kBAAY,EAAE,KAAKC,eAJsB;AAKzCC,QAAE,EAAE,IAAIC,IAAJ,GAAWC,OAAX,EALqC;AAMzCC,cAAQ,EAAEC,wDAAM,CAACC,YAAP,KAAwB,KAAKN,eANE,EAA3C;;AAQD;;AAEDO,oBAAkB,CAACC,aAAD,EAAgB;AAChC,UAAM,EAAE7E,OAAF,EAAWiB,UAAX,EAAuBE,eAAvB,EAAwCf,WAAxC,KAAwD,KAAK0C,KAAnE;;AAEA,UAAMU,KAAK,GAAGqB,aAAH,6CAAGA,aAAa,CAAEC,MAAlB,qBAAG,sBAAwB,CAAxB,CAAd;AACA,UAAMC,OAAO,GAAG9D,UAAU,KAAI4D,aAAJ,oBAAIA,aAAa,CAAEE,OAAnB,CAA1B;AACA;AACE,kEAAC,qEAAD;AACE,eAAO,EAAE/E,OADX;AAEE,aAAK,EAAEwD,KAFT;AAGE,gBAAQ,EAAEuB,OAHZ;AAIE,gBAAQ,EAAEA,OAJZ;AAKE,YAAI,EAAEF,aAAa,GAAGA,aAAa,CAACG,IAAjB,GAAwB,IAL7C;AAME,cAAM,EAAE5E,WAAW,GAAG,WAAH,GAAiB,SANtC;AAOE,kBAAU,EAAEe,eAPd,GADF;;;AAWD;;AAED8D,QAAM,GAAG;AACP,UAAM;AACJzE,YADI;AAEJS,gBAFI;AAGJC,iBAHI;AAIJM,kBAJI;AAKJG,aALI;AAMJJ,2BANI;AAOJH,qBAAe,GAAG,EAPd;AAQF,SAAK0B,KART;;AAUA,UAAMoC,SAAS,GAAGhE,WAAW,KAAK,SAAlC;AACA,UAAMiE,OAAO,GAAG5D,qBAAqB,IAAI,CAACC,YAA1C;AACA,SAAK4D,wBAAL,GAAgCV,wDAAM,CAACC,YAAP,EAAhC;AACA,QAAIzD,WAAW,KAAK,QAApB,EAA8B;AAC5B,aAAO,0FAAAE,eAAe,MAAf,CAAAA,eAAe,EAAKiE,IAAI,IAAI,KAAKT,kBAAL,CAAwBS,IAAxB,CAAb,CAAtB;AACD;AACD,QAAI7D,YAAJ,EAAkB;AAChB;AACE,oEAAC,4DAAD;AACE,uBAAU,eADZ;AAEE,iBAAO,EAAEA,YAFX;AAGE,cAAI,EAAC,SAHP,GADF;;;AAOD;;AAED;AACE,kEAAC,kEAAD;AACE,eAAO,EAAE,KAAKuB,4BADhB;AAEE,mBAAW,EAAE,KAFf;;AAIE,kEAAC,MAAD;AACE,0BAAe,OADjB;AAEE,iBAAS,EAAC,iBAFZ;AAGE,qBAAU,iBAHZ;AAIE,cAAM,EAAEvC,MAJV;;AAME;AACE,iBAAS,EAAG,mBAAkB2E,OAAO,GAAG,QAAH,GAAc,EAAG,EADxD;AAEE,qBAAU,iBAFZ;;AAIE,kEAAC,uDAAD,oFAAmB,KAAKrC,KAAxB,IAA+B,aAAW,KAAKA,KAAL,CAAWlC,OAArD,IAJF,CANF;;;AAaG,OAACsE,SAAD,IAAc,CAACjE,UAAf,IAA6BkE,OAA7B;AACC,kEAAC,qBAAD;AACE,kEAAC,8DAAD,IAAQ,OAAO,EAAExD,OAAjB,EAA0B,WAAW,EAAC,SAAtC;AACG2D,iEAAC,CAAC,WAAD,CADJ,CADF,CAdJ;;;;;AAqBGJ,eAAS,IAAI,4DAAC,4DAAD,OArBhB,CAJF,CADF;;;;AA8BD,GA1IqC;AAAA;AAAA;AA6IxCxC,KAAK,CAAC/C,SAAN,GAAkBA,SAAlB;AACA+C,KAAK,CAACV,YAAN,GAAqBA,YAArB,C;;AAEeU,K,CAAA,yE,iLAvNT/C,S,oIAqCAoC,K,gIAEAC,Y,uIAWAC,M,iIAUAQ,qB,gJAWAC,K;;;;;;;;;;;;;;;;;;;;wSCtGN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS6C,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAO;AACLzF,WAAO,EAAE0F,gEAAkB;AACzB;AACE,SAAG1F,yCADL;AAEE2F,sFAFF;AAGE3B,wEAHF,EADyB;;AAMzByB,YANyB,CADtB,EAAP;;;AAUD,C;;AAEcG,2DAAO,CAAC,IAAD,EAAOJ,kBAAP,CAAP,CAAkC7C,8CAAlC,C,CAAA,yE,iLAbN6C,kB;;;;;;;;;;;;;;;;;;;;;;wSC1BT;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AACA;AAQA;;AAEG,G;AACI,MAAM,iBAAiB,GAAoB,CAAC,EACjD,OADiD,EAEjD,KAFiD,EAGjD,GAAG,KAH8C,EAAD,KAI7C;AACH,QAAM,EAAE,MAAM,EAAE,MAAV,KAAqB,wFAAkB,CAAC,OAAD,CAA7C;AAEA;AACA,QAAM,UAAU,GAAG,KAAK,IAAI;AAC1B,OAAG,KADuB;AAE1B,SAAK,EAAE,EAAE,GAAG,KAAK,CAAC,KAAX,EAAkB,MAAlB,EAFmB,EAA5B;;AAKA,SAAO,2DAAC,8FAAD,oFAAgC,KAAhC,IAAuC,KAAK,EAAE,UAA9C,IAAP;AACD,CAdM,C,cAAM,iB,mDAKgB,gF,oLALhB,iB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbb;AACA;AACA;;;AAGA,MAAM5F,SAAS,GAAG;AAChBC,gBAAc,EAAEC,iDAAS,CAACC,MADV;AAEhBC,SAAO,EAAEF,iDAAS,CAACC,MAFH;AAGhBE,SAAO,EAAEH,iDAAS,CAACI,MAAV,CAAiBC,UAHV;AAIhBC,YAAU,EAAEN,iDAAS,CAACC,MAAV,CAAiBI,UAJb;AAKhBG,eAAa,EAAER,iDAAS,CAACC,MALT;AAMhBQ,UAAQ,EAAET,iDAAS,CAACC,MAAV,CAAiBI,UANX;AAOhBM,QAAM,EAAEX,iDAAS,CAACI,MAPF;AAQhBM,OAAK,EAAEV,iDAAS,CAACI,MARD;AAShBQ,iBAAe,EAAEZ,iDAAS,CAACa,IATX;AAUhBE,SAAO,EAAEf,iDAAS,CAACgB,MAAV,CAAiBX,UAVV;AAWhBY,eAAa,EAAEjB,iDAAS,CAACkB,IAXT;AAYhB;AACAE,YAAU,EAAEpB,iDAAS,CAACgB,MAbN;AAchBK,aAAW,EAAErB,iDAAS,CAACgB,MAdP;AAehBO,iBAAe,EAAEvB,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACC,MAA5B,CAfD;AAgBhBwB,cAAY,EAAEzB,iDAAS,CAACkB,IAhBR;AAiBhBQ,uBAAqB,EAAE1B,iDAAS,CAACkB,IAjBjB;AAkBhB;AACAW,WAAS,EAAE7B,iDAAS,CAACa,IAnBL;AAoBhBkF,aAAW,EAAE/F,iDAAS,CAACa,IApBP;AAqBhBkB,kBAAgB,EAAE/B,iDAAS,CAACa,IArBZ;AAsBhBmB,mBAAiB,EAAEhC,iDAAS,CAACa,IAtBb;AAuBhBoB,UAAQ,EAAEjC,iDAAS,CAACC,MAvBJ,EAAlB;;;AA0BA,MAAMiC,KAAK,GAAG,EAAd;;AAEA,MAAMC,YAAY,GAAG;AACnBN,WAAS,EAAE,MAAMK,KADE;AAEnBH,kBAAgB,EAAE,MAAMG,KAFL;AAGnBF,mBAAiB,EAAE,MAAME,KAHN;AAInB1B,eAAa,EAAE0B,KAJI;AAKnBtB,iBAAe,GAAG,CAAE,CALD;AAMnBK,eAAa,EAAE,KANI,EAArB;;;AASA,MAAM+E,aAAN,SAA4BlD,4CAAK,CAACmD,SAAlC,CAA4C;AAC1CjD,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKiD,sBAAL,GAA8B,KAA9B;;AAEA,SAAKC,eAAL,GAAuB,2GAAKA,eAAL,iBAA0B,IAA1B,CAAvB;AACA,SAAKC,mBAAL,GAA2B,4GAAKA,mBAAL,kBAA8B,IAA9B,CAA3B;AACA,SAAKC,mBAAL,GAA2B,4GAAKA,mBAAL,kBAA8B,IAA9B,CAA3B;AACA,SAAKC,qBAAL,GAA6B,4GAAKA,qBAAL,kBAAgC,IAAhC,CAA7B;;AAEA,SAAKC,KAAL,GAAa;AACXC,iBAAW,EAAE,KAAKL,eADP;AAEXM,aAAO,EAAE,KAAKJ,mBAFH;AAGXzF,qBAAe,EAAE,KAAK0F,qBAHX;AAIXvE,sBAAgB,EAAE,KAAKkB,KAAL,CAAWlB,gBAJlB;AAKXC,uBAAiB,EAAE,KAAKiB,KAAL,CAAWjB,iBALnB;AAMX+D,iBAAW,EAAEW,QAAQ,IAAI;AACvB,oCAAKzD,KAAL,CAAW/C,OAAX,yCAAoB2F,cAApB,CAAmC,KAAK5C,KAAL,CAAW9C,OAA9C,EAAuDuG,QAAvD;AACD,OARU,EAAb;;AAUD;;AAEDC,uBAAqB,CAACC,SAAD,EAAY;AAC/B,UAAMC,YAAY;AAChBD,aAAS,CAACrF,eAAV;AACA,gHAAC,SAAD,EAAY,UAAZ,mBAAgCqF,SAAS,CAACvF,WAA1C,IAAyD,CAAC,CAD1D;AAEA,+BAACuF,SAAS,CAACrF,eAAX,uCAAC,sBAA4B,CAA5B,CAAD,aAAC,uBAAgCoC,KAAjC,CAFA;AAGA,KAACiD,SAAS,CAAClF,qBAJb;;AAMA,QAAImF,YAAJ,EAAkB;AAChB,WAAKX,sBAAL;AACEU,eAAS,CAACrF,eAAV,KAA8B,KAAK0B,KAAL,CAAW1B,eAD3C;AAEA;AACE,aAAK2E,sBAAL;AACAU,iBAAS,CAAC7G,cAAV,KAA6B,KAAKkD,KAAL,CAAWlD,cADxC;AAEA6G,iBAAS,CAAC3E,QAAV,KAAuB,KAAKgB,KAAL,CAAWhB,QAFlC;AAGA2E,iBAAS,CAACE,WAAV,KAA0B,KAAK7D,KAAL,CAAW6D,WAHrC;AAIAF,iBAAS,CAACjG,MAAV,KAAqB,KAAKsC,KAAL,CAAWtC,MAJhC;AAKAiG,iBAAS,CAAClG,KAAV,KAAoB,KAAKuC,KAAL,CAAWvC,KAL/B;AAMAkG,iBAAS,CAAC3F,aANV;AAOA2F,iBAAS,CAACnG,QAAV,CAAmBsG,YAAnB,KAAoC,KAAK9D,KAAL,CAAWxC,QAAX,CAAoBsG,YAPxD;AAQAH,iBAAS,CAACI,eAAV,KAA8B,KAAK/D,KAAL,CAAW+D,eAT3C;;AAWD;AACD,WAAO,KAAP;AACD;;AAEDb,iBAAe,CAACc,GAAD,EAAMC,IAAN,EAAYC,KAAK,GAAG,IAApB,EAA0BC,OAAO,GAAG,IAApC,EAA0C;AACvD,SAAKnE,KAAL,CAAWpB,SAAX,CAAqBoF,GAArB,EAA0BC,IAA1B,EAAgCC,KAAhC,EAAuCC,OAAvC;AACD;;AAEDhB,qBAAmB,GAAG;AACpB,UAAM,EAAElG,OAAF,EAAWmB,WAAX,EAAwBlB,OAAxB,EAAiCY,OAAjC,KAA6C,KAAKkC,KAAxD;AACA,QAAI,4GAAC,SAAD,EAAY,UAAZ,mBAAgC5B,WAAhC,IAA+C,CAAnD,EAAsD;AACpDnB,aAAO,CAACmH,uBAAR,CAAgClH,OAAhC;AACD;;AAED;AACA;AACA,QAAI,KAAK+F,sBAAT,EAAiC;AAC/BhG,aAAO,CAACgE,QAAR,CAAiBC,yEAAjB,EAA2C;AACzCC,gBAAQ,EAAEjE,OAD+B;AAEzCmH,gBAAQ,EAAEvG,OAF+B;AAGzCwD,oBAAY,EAAE,KAAKC,eAHsB;AAIzCC,UAAE,EAAE,IAAIC,IAAJ,GAAWC,OAAX,EAJqC;AAKzCC,gBAAQ,EAAEC,uDAAM,CAACC,YAAP,KAAwB,KAAKN,eALE,EAA3C;;AAOD;AACF;;AAED6B,qBAAmB,CAAC1C,KAAD,EAAQC,IAAR,EAAc;AAC/B,UAAM,EAAE1D,OAAF,EAAWC,OAAX,KAAuB,KAAK8C,KAAlC;AACAY,6DAAO,CAACC,IAAR,CAAaH,KAAb;AACAzD,WAAO,CAAC6D,oBAAR;AACEJ,SAAK,CAACK,QAAN,EADF;AAEE7D,WAFF;AAGEyD,QAAI,GAAGA,IAAI,CAACK,cAAR,GAAyB,IAH/B;;;AAMA;AACA,QAAI,KAAKiC,sBAAT,EAAiC;AAC/BhG,aAAO,CAACgE,QAAR,CAAiBC,yEAAjB,EAA2C;AACzCC,gBAAQ,EAAEjE,OAD+B;AAEzCkE,eAAO,EAAE,IAFgC;AAGzCC,qBAAa,EAAEX,KAAK,CAACK,QAAN,EAH0B;AAIzCO,oBAAY,EAAE,KAAKC,eAJsB;AAKzCC,UAAE,EAAE,IAAIC,IAAJ,GAAWC,OAAX,EALqC;AAMzCC,gBAAQ,EAAEC,uDAAM,CAACC,YAAP,KAAwB,KAAKN,eANE,EAA3C;;AAQD;AACF;;AAED8B,uBAAqB,CAAC,GAAGiB,IAAJ,EAAU;AAC7B,UAAM,EAAE3G,eAAF,KAAsB,KAAKqC,KAAjC;AACA,QAAIrC,eAAJ,EAAqB;AACnBA,qBAAe,CAAC,GAAG2G,IAAJ,CAAf;AACD;AACF;;AAEDnC,QAAM,GAAG;AACP,UAAM;AACJhE,gBADI;AAEJC,iBAFI;AAGJN,aAHI;AAIJZ,aAJI;AAKJuB,2BALI;AAMF,SAAKuB,KANT;;AAQA;AACA;AACEvB,yBAAqB;AACrBL,eAAW,KAAK,SADhB;AAEA,KAAC,CAACD,UAFF;AAGAC,eAAW,KAAK,IAJlB;AAKE;AACA,aAAO,IAAP;AACD;;AAED,SAAKmD,eAAL,GAAuBK,uDAAM,CAACC,YAAP,EAAvB;;AAEA,UAAM;AACJpE,WADI;AAEJC,YAFI;AAGJZ,oBAHI;AAIJO,gBAJI;AAKJE,mBALI;AAMJyB,cANI;AAOJ6E,iBAPI;AAQJrG,cARI;AASJc,qBATI;AAUF,SAAK0B,KAVT;;AAYA;AACA;AACA;AACA;AACA,UAAMuE,gBAAgB,GAAG,wDAAUzG,OAAV,CAAzB;AACA,UAAM0G,cAAc;AAClB1G,WAAO,KAAK,OAAZ;AACK,sBAAiByG,gBAAiB,EADvC;AAEIA,oBAHN;;AAKA,UAAME,WAAW;AACfC,SAAA;AACK;AACC;AACA;AACA;AACA,WAAOC,mBAAmB,CAACC,CAA3B,KAAiC,UAFjC;AAGA;AACAD,uBAAmB,CAACC,CAApB;AACD,MARL;AASI,aAVN;;AAYA;AACE,kEAAC,yDAAD;AACE,4BAAoB,MADtB;AAEE,WAAG,EAAG,GAAE1H,OAAQ,GAAEuH,WAAY,EAFhC;AAGE,UAAE,EAAG,YAAWvH,OAAQ,EAH1B;AAIE,iBAAS,EAAEsH,cAJb;AAKE,iBAAS,EAAE1G,OALb;AAME,aAAK,EAAEL,KANT;AAOE,cAAM,EAAEC,MAPV;AAQE,sBAAc,EAAEZ,cARlB;AASE,kBAAU,EAAEO,UATd;AAUE,qBAAa,EAAEE,aAVjB;AAWE,gBAAQ,EAAEC,QAXZ;AAYE,gBAAQ,EAAEwB,QAZZ;AAaE,mBAAW,EAAE6E,WAbf;AAcE,aAAK,EAAE,KAAKP,KAdd;AAeE,iBAAS,EAAE,CAACuB,0DAAQ,CAACC,iBAAV,CAfb;AAgBE,mBAAW,EAAExG,eAhBf;AAiBE,uBAAe,EAAE,KAAK6E,mBAjBxB;AAkBE,uBAAe,EAAE,KAAKC,mBAlBxB,GADF;;;AAsBD,GAhLyC;AAAA;AAAA;AAmL5CL,aAAa,CAAClG,SAAd,GAA0BA,SAA1B;AACAkG,aAAa,CAAC7D,YAAd,GAA6BA,YAA7B,C;;AAEe6D,a,CAAA,yE,iLA3NTlG,S,4IA0BAoC,K,wIAEAC,Y,+IASA6D,a;;;;;;;;;;;;;;;;;qIC7DN;;;;;;;;;;;;;;;;;AAiBG;;;;;;;;;;;;;;;;;;wSCjBH;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AAEA;;;;AAIG;AACG,SAAU,eAAV,CACJ,KADI,EAEJ,QAFI,EAEmD;AAEvD,QAAM,QAAQ,GAAG,gEAAW,CAAC,KAAD,CAA5B;AACA,yDAAS,CAAC,MAAK;AACb,QAAI,KAAK,KAAK,QAAd,EAAwB;AACtB,cAAQ,CAAC,QAAD,EAAW,KAAX,CAAR;AACD;AACF,GAJQ,EAIN,CAAC,KAAD,EAAQ,QAAR,EAAkB,QAAlB,CAJM,CAAT;AAKD,C,cAVe,e,+CAIG,wD,oLAJH,e;;;;;;;;;;;;;;;;;;;;wSC3BhB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AAEM,SAAU,eAAV,CAA0B,GAA1B,EAAqC;AACzC,QAAM,CAAC,MAAD,EAAS,SAAT,IAAsB,sDAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAAC,QAAD,EAAW,WAAX,IAA0B,sDAAQ,CAAC,EAAD,CAAxC;AAEA,iBAAe,WAAf,GAA0B;AACxB,QAAI,MAAJ,EAAY;AACV,YAAM,WAAW,GAAG,MAAM,sEAAe,CAAC,GAAD,CAAzC;AACA,iBAAW,CAAC,WAAD,CAAX;AACA,eAAS,CAAC,KAAD,CAAT;AACA,aAAO,WAAP;AACD;AACD,WAAO,QAAP;AACD;AAED,yDAAS,CAAC,MAAM,SAAS,CAAC,IAAD,CAAhB,EAAwB,CAAC,GAAD,CAAxB,CAAT;AAEA,SAAO,WAAP;AACD,C,cAjBe,e,+QAAA,e;;;;;;;;;;;;;;;;;;;;;;;;;wSCrBhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,MAAMlG,SAAS,GAAG;AAChBkI,cAAY,EAAEhI,iDAAS,CAACgB,MAAV,CAAiBX,UADf;AAEhB4H,SAAO,EAAEjI,iDAAS,CAACC,MAFH;AAGhBiI,qBAAmB,EAAElI,iDAAS,CAACkB,IAHf;AAIhBiH,SAAO,EAAEnI,iDAAS,CAACkB,IAJH;AAKhBkH,WAAS,EAAEpI,iDAAS,CAACqI,KAAV,CAAgB,CAAC,OAAD,EAAU,MAAV,EAAkB,KAAlB,EAAyB,QAAzB,CAAhB,CALK,EAAlB;;;AAQA,MAAMlG,YAAY,GAAG;AACnBgG,SAAO,EAAE,KADU;AAEnBD,qBAAmB,EAAE,KAFF;AAGnBE,WAAS,EAAE,OAHQ;AAInBH,SAAO,EAAE,EAJU,EAArB;;;AAOA,MAAMK,UAAN,SAAyBxF,4CAAK,CAACC,aAA/B,CAA6C;AAC3CI,mBAAiB,GAAG;AAClB,UAAMoF,IAAI,GAAGC,kFAAe,EAA5B;AACA,UAAM,EAAER,YAAF,KAAmB,KAAK/E,KAA9B;;AAEA,QAAIsF,IAAI,IAAIP,YAAY,KAAKO,IAA7B,EAAmC;AACjC,WAAKE,YAAL;AACD;AACF;;AAEDC,kCAAgC,CAAC9B,SAAD,EAAY;AAC1C,UAAM,EAAEuB,OAAO,GAAG,KAAZ,KAAsBvB,SAA5B;AACA,QAAIuB,OAAJ,EAAa;AACX,WAAKM,YAAL;AACD;AACF;;AAEDA,cAAY,CAACE,KAAK,GAAG,CAAT,EAAY;AACtB,UAAM,EAAEX,YAAF,KAAmB,KAAK/E,KAA9B;AACA,UAAM2F,mBAAmB,GAAGC,QAAQ,CAACC,cAAT,CAAwBd,YAAxB,CAA5B;AACA,QAAIY,mBAAJ,EAAyB;AACvB,+FAAW,MAAM;AACfA,2BAAmB,CAACG,cAApB,CAAmC;AACjCC,eAAK,EAAE,QAD0B;AAEjCC,kBAAQ,EAAE,QAFuB,EAAnC;;AAID,OALD,EAKGN,KALH;AAMD;AACF;;AAEDvD,QAAM,GAAG;AACP,UAAM;AACJ4C,kBADI;AAEJC,aAFI;AAGJC,yBAHI;AAIJE,eAJI;AAKF,SAAKnF,KALT;AAMA;AACE,2EAAM,SAAS,EAAC,uBAAhB,EAAwC,EAAE,EAAE+E,YAA5C;AACGE,yBAAmB;AAClB,iEAAC,yEAAD;AACE,WAAG,EAAEgB,kFAAe;AAClBC,cAAM,CAACC,QAAP,CAAgBC,QADE;AAElBpB,eAFkB;AAGlBD,oBAHkB,CADtB;;AAME,oBAAY,EAAEvC,2DAAC,CAAC,gBAAD,CANjB;AAOE,oBAAY,EAAEA,2DAAC,CAAC,oCAAD,CAPjB;AAQE,iBAAS,EAAE2C,SARb,GAFJ,CADF;;;;;AAgBD,GArD0C;AAAA;AAAA;AAwD7CE,UAAU,CAACxI,SAAX,GAAuBA,SAAvB;AACAwI,UAAU,CAACnG,YAAX,GAA0BA,YAA1B,C;;AAEemG,U,CAAA,yE,iLA1ETxI,S,qJAQAqC,Y,wJAOAmG,U;;;;;;;;;;;;;;;;;;+jBCzCN;;;;;;;;;;;;;;;;;AAiBG;;AAQW,SAAU,WAAV,CAAsB,KAAtB,EAA6C;AACzD,QAAM,EAAE,SAAF,EAAa,QAAb,KAA0B,KAAhC;AACA,SACE,oEACE,IAAI,EAAC,OADP,EAEE,SAAS,EAAE,SAFb,EAGE,GAAG,MAHL;;;;;;;;;;;;;;;;;;AAsBG,UAtBH,CADF;;AA0BD,C,iLA5BuB,W;;;;;;;;;;;;;;;;;wSCzBxB;;;;;;;;;;;;;;;;;AAiBG;;AAGH,MAAM,SAAS,GAAG,MAChB,oEACE,KAAK,EAAC,IADR,EAEE,MAAM,EAAC,IAFT,EAGE,OAAO,EAAC,WAHV,EAIE,IAAI,EAAC,MAJP,EAKE,KAAK,EAAC,4BALR;AAOE,qEACE,CAAC,EAAC,KADJ,EAEE,CAAC,EAAC,KAFJ,EAGE,KAAK,EAAC,IAHR,EAIE,MAAM,EAAC,IAJT,EAKE,EAAE,EAAC,KALL,EAME,IAAI,EAAC,SANP,EAOE,MAAM,EAAC,SAPT,GAPF;AAgBE,qEAAM,CAAC,EAAC,GAAR,EAAY,CAAC,EAAC,GAAd,EAAkB,KAAK,EAAC,GAAxB,EAA4B,MAAM,EAAC,IAAnC,EAAwC,EAAE,EAAC,GAA3C,EAA+C,IAAI,EAAC,SAApD,GAhBF;AAiBE,qEAAM,CAAC,EAAC,IAAR,EAAa,CAAC,EAAC,IAAf,EAAoB,KAAK,EAAC,GAA1B,EAA8B,MAAM,EAAC,GAArC,EAAyC,EAAE,EAAC,GAA5C,EAAgD,IAAI,EAAC,SAArD,GAjBF;AAkBE,qEAAM,CAAC,EAAC,GAAR,EAAY,CAAC,EAAC,GAAd,EAAkB,KAAK,EAAC,GAAxB,EAA4B,MAAM,EAAC,GAAnC,EAAuC,EAAE,EAAC,GAA1C,EAA8C,IAAI,EAAC,SAAnD,GAlBF,CADF,C;;AAuBe,S,CAAA,yE,iLAvBT,S;;;;;;;;;;;;;;;;;;;;;;;;;;wSCpBN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;;AAkBc,SAAU,aAAV,CAAwB,EACpC,OAAO,GAAG,KAD0B,EAEpC,OAAO,GAAG,KAF0B,EAGpC,YAHoC,EAIpC,SAAS,GAAG,KAJwB,EAKpC,eALoC,EAMpC,WANoC,EAOpC,WAAW,GAAG,IAPsB,EAQpC,KARoC,EASpC,KAAK,GAAG,EAT4B,EAUpC,YAAY,GAAG,EAVqB,EAWpC,WAAW,GAAG,EAXsB,EAAxB,EAYO;AACnB,QAAM,CAAC,SAAD,EAAY,YAAZ,IAA4B,sDAAQ,CAAC,OAAD,CAA1C;AACA,QAAM,CAAC,YAAD,EAAe,eAAf,IAAkC,sDAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAAC,SAAD,EAAY,YAAZ,IAA4B,sDAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CACJ,mBADI,EAEJ,sBAFI,IAGF,sDAAQ,CAAiB,IAAjB,CAHZ;AAIA;AAEA,QAAM,UAAU,GAAG,oDAAM,EAAzB;AAEA,yDAAS,CAAC,MAAK;AACb,QAAI,KAAK,KAAK,YAAd,EAA4B;AAC1B,kBAAY,CAAC,YAAD,CAAZ;AACA,qBAAe,CAAC,KAAD,CAAf;AACD;AACF,GALQ,EAKN,CAAC,KAAD,CALM,CAAT;AAOA,yDAAS,CAAC,MAAK;AACb,QAAI,SAAJ,EAAe;AACb,gBAAU,CAAC,OAAX,CAAmB,KAAnB;AACD;AACF,GAJQ,EAIN,CAAC,SAAD,CAJM,CAAT;AAMA,WAAS,WAAT,GAAoB;AAClB,QAAI,CAAC,OAAD,IAAY,SAAhB,EAA2B;AACzB;AACD;AAED;AACA;AACA,UAAM,eAAe,GAAG,UAAU,CAAC,OAAX;AACpB,cAAU,CAAC,OAAX,CAAmB,qBAAnB,EADoB;AAEpB,QAFJ;AAGA,gBAAY,CAAC,IAAD,CAAZ;AACA,0BAAsB,CAAC,eAAD,CAAtB;AACD;AAED,WAAS,UAAT,GAAmB;AACjB,UAAM,cAAc,GAAG,uGAAY,MAAZ,aAAY,CAAnC;AAEA,QAAI,CAAC,OAAL,EAAc;AACZ;AACD;AAED,gBAAY,CAAC,KAAD,CAAZ;AAEA,QAAI,CAAC,cAAc,CAAC,MAApB,EAA4B;AAC1B,qBAAe,CAAC,SAAD,CAAf;AACA;AACD;AAED,QAAI,SAAS,KAAK,cAAlB,EAAkC;AAChC,kBAAY,CAAC,cAAD,CAAZ;AACD;AAED,QAAI,KAAK,KAAK,cAAd,EAA8B;AAC5B,iBAAW,CAAC,cAAD,CAAX;AACD;AACF;AAED;AACA;AACA;AACA;AACA,WAAS,aAAT,CAAuB,KAAvB,EAAiC;AAC/B,QAAI,KAAK,CAAC,GAAN,KAAc,GAAlB,EAAuB;AACrB,WAAK,CAAC,eAAN;AACD;AACD,QAAI,KAAK,CAAC,GAAN,KAAc,OAAlB,EAA2B;AACzB,WAAK,CAAC,cAAN;AACA,gBAAU;AACX;AACF;AAED,WAAS,YAAT,CAAsB,EAAtB,EAA6B;AAC3B,QAAI,CAAC,OAAL,EAAc;AACZ;AACD;AACD,mBAAe,CAAC,EAAE,CAAC,MAAH,CAAU,KAAX,CAAf;AACD;AAED,WAAS,cAAT,CAAwB,EAAxB,EAA+B;AAC7B,QAAI,EAAE,CAAC,GAAH,KAAW,OAAf,EAAwB;AACtB,QAAE,CAAC,cAAH;AACA,gBAAU;AACX;AACF;AAED,MAAI,KAAJ;AACA,OAAK,GAAG,YAAR;AACA,MAAI,CAAC,SAAD,IAAc,CAAC,YAAnB,EAAiC;AAC/B,SAAK,GAAG,YAAY,IAAI,KAAxB;AACD;AAED;AACA;AACA,QAAM,SAAS,GACb,SAAS,IAAI,mBAAb;AACI,IAAE,MAAM,EAAE,GAAG,mBAAmB,CAAC,MAAM,IAAvC,EADJ;AAEI,WAHN;AAKA;AACA;AACA,MAAI,cAAc,GAChB,SAAS,IAAI,SAAb,GACE,yEACE,aAAU,sBADZ,EAEE,GAAG,EAAE,UAFP,EAGE,KAAK,EAAE,KAHT,EAIE,SAAS,EAAE,CAAC,KAAD,GAAS,YAAT,GAAwB,SAJrC,EAKE,SAAS,EAAE,aALb,EAME,QAAQ,EAAE,YANZ,EAOE,MAAM,EAAE,UAPV,EAQE,OAAO,EAAE,WARX,EASE,UAAU,EAAE,cATd,EAUE,WAAW,EAAE,WAVf,EAWE,KAAK,EAAE,SAXT,GADF,GAeE,sEACE,aAAU,sBADZ,EAEE,GAAG,EAAE,UAFP,EAGE,IAAI,EAAE,SAAS,GAAG,MAAH,GAAY,QAH7B,EAIE,KAAK,EAAE,KAJT,EAKE,SAAS,EAAE,CAAC,KAAD,GAAS,YAAT,GAAwB,SALrC,EAME,SAAS,EAAE,aANb,EAOE,QAAQ,EAAE,YAPZ,EAQE,MAAM,EAAE,UARV,EASE,OAAO,EAAE,WATX,EAUE,UAAU,EAAE,cAVd,EAWE,WAAW,EAAE,WAXf,GAhBJ;AA8BA,MAAI,WAAW,IAAI,CAAC,SAApB,EAA+B;AAC7B,kBAAc,GACZ,2DAAC,8DAAD,IACE,EAAE,EAAC,eADL,EAEE,KAAK,EACH,OAAO;AACH,iEAAC,CAAC,eAAD,CADE;AAEH,qBAAe;AACf,iEAAC,CAAC,gDAAD,CANT;AASG,kBATH,CADF;;AAaD;AACD,MAAI,CAAC,OAAL,EAAc;AACZ;AACA,kBAAc,GACZ,qEAAM,aAAU,sBAAhB,EAAuC,KAAK,EAAE,KAA9C;AACG,SADH,CADF;;AAKD;AACD,SACE,qEACE,aAAU,gBADZ,EAEE,SAAS,EAAE,iDAAE,CACX,gBADW,EAEX,YAFW,EAGX,OAAO,IAAI,0BAHA,EAIX,SAAS,IAAI,yBAJF,CAFf,EAQE,KAAK,EAAE,KART;AAUG,gBAVH,CADF;;AAcD,C,cAxLuB,a,+aAAA,a;;;;;;;;;;;;;;;;;;;;wSCtCxB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;;AAIA,MAAM,eAAe,GAAG,wDAAM,CAAC,GAA0B;;;sBAGnC,CAAC,EAAE,KAAF,EAAS,KAAT,EAAD,KAAsB,KAAK,CAAC,MAAN,CAAa,KAAb,EAAoB,MAAM;mBACnD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,YAAY;sBAC9B,CAAC,EAAE,KAAF,EAAS,KAAT,EAAD,KAAsB,KAAK,CAAC,MAAN,CAAa,KAAb,EAAoB,IAAI;WACzD,CAAC,EAAE,KAAF,EAAS,KAAT,EAAD,KAAsB,KAAK,CAAC,MAAN,CAAa,KAAb,EAAoB,KAAK;aAC7C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;mBAC3B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;;AAE/C,CAVD;AAYA,MAAM,aAAa,GAAG,wDAAM,CAAC,GAAG;;;iBAGf,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;AACjD,CAJD;AAMA,MAAM,WAAW,GAAG,wDAAM,CAAC,IAAI;iBACd,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,OAAjB,CAAyB,IAAI;AAC5D,CAFD;AAUc,SAAU,eAAV,CAA0B,EACtC,IADsC,EAEtC,KAFsC,EAGtC,KAHsC,EAA1B,EAIS;AACrB,SACE,2DAAC,eAAD,IAAiB,KAAK,EAAE,KAAxB,EAA+B,IAAI,EAAC,OAApC;AACE,6DAAC,6CAAD,IACE,IAAI,EAAE,KAAK,KAAK,OAAV,GAAoB,aAApB,GAAoC,eAD5C,EAEE,KAAK,EAAE,+DAAa,CAAC,MAAd,CAAqB,KAArB,EAA4B,IAFrC,GADF;AAKE,6DAAC,aAAD;AACE,6DAAC,WAAD,QAAc,KAAd,CADF;AAEE,wEAAI,IAAJ,CAFF,CALF,CADF;;;AAYD,C,iLA7CK,e,uKAYA,a,qKAMA,W,mKAUkB,e;;;;;;;;;;;;;;;;;;;;wSCnDxB;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AAQA;;;;AAIG,G;AACG,SAAU,OAAV,CAAkB,EAAE,UAAF,EAAc,WAAd,EAA2B,EAA3B,EAAlB,EAAwD;AAC5D,SACE,2DAAC,8CAAiB;AAChB;AADF,MAEE,EAAE,EAAE,EAFN,EAGE,WAAW,EAAE,WAHf,EAIE,UAAU,EAAE,UAJd,GADF;AASD,C,iLAVe,O;;;;;;;;;;;;;;;;;;;wSCjChB;;;;;;;;;;;;;;;;;AAiBG;AAEH;AAiBO,MAAM,aAAa,GAAG,MAC3B,KAD2B,IAEoB;AAC/C;AACA;AACA,MAAI,QAAJ;AACA,MAAI;AACF,YAAQ,GAAG,MAAM,yDAAc,CAAC,GAAf,CAAmB;AAClC,cAAQ,EAAE,2HAA2H,KAAK,EADxG,EAAnB,CAAjB;;AAGD;AAAC,SAAO,KAAP,EAAc;AACd,WAAO,CAAC,EAAE,KAAK,EAAE,2DAAC,CAAC,6CAAD,CAAV,EAAD,CAAP;AACD;AACD,sBAAO,QAAP,qBAAO,+GAAU,IAAV,CAAe,MAAf,iBAA2B,IAAD,KAA0B;AACzD,SAAK,EAAE,IAAI,CAAC,eAD6C;AAEzD,OAAG,IAFsD,EAA1B,CAA1B,CAAP;;AAID,CAjBM,C,iLAAM,a;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCpCb;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,MAAM,SAAS,GAAG,gEAAM,CAAC,4DAAD,CAAO;;;;;;AAM9B,CAND;AAYc,SAAU,aAAV,CAAwB,EAAE,QAAF,EAAxB,EAA2C;AACvD,QAAM,QAAQ,GAAG,oDAAM,EAAvB;AACA,QAAM,CAAC,SAAD,EAAY,YAAZ,IAA4B,sDAAQ,CAAC,KAAD,CAA1C;AAEA,oGAAoB,CAAC,MAAK;AACxB,YAAQ,CAAC,OAAT,GAAmB,KAAnB;AACA,aAAS,aAAT,CAAuB,KAAvB,EAA2C;AACzC,UAAI,CAAC,yEAAgB,CAAC,4DAAW,CAAC,OAAb,CAArB;AAA4C;AAC5C,YAAM,gBAAgB,GAAG,KAAK,CAAC,OAAN,IAAiB,KAAK,CAAC,OAAhD;AACA,YAAM,IAAI,GAAG,2GAAC,MAAD,EAAS,MAAT,kBAA0B,KAAK,CAAC,IAAhC,CAAb,CAHyC,CAGW;AACpD,UAAI,gBAAgB,IAAI,IAAxB,EAA8B;AAC5B,gBAAQ,CAAC,8EAAD,EAAgC;AACtC,mBAAS,EAAE,CAAC,CAAC,QAAQ,CAAC,OADgB,EAAhC,CAAR;;AAGA,gBAAQ,CAAC,OAAT,GAAmB,CAAC,QAAQ,CAAC,OAA7B;AACA,oBAAY,CAAC,QAAQ,CAAC,OAAV,CAAZ;AACA,YAAI,QAAQ,CAAC,OAAb,EAAsB;AACpB,2CAAQ,CAAC,cAAT,CAAwB,cAAxB,4CAAyC,KAAzC;AACD;AACF;AACF;AAED,YAAQ,CAAC,gBAAT,CAA0B,SAA1B,EAAqC,aAArC;AACA,WAAO,MAAM,QAAQ,CAAC,mBAAT,CAA6B,SAA7B,EAAwC,aAAxC,CAAb;AACD,GApBmB,CAApB;AAsBA,SACE,4DAAC,SAAD,IACE,KAAK,EAAC,EADR,EAEE,IAAI,EAAE,SAFR,EAGE,UAAU,MAHZ,EAIE,QAAQ,EAAE,KAJZ,EAKE,MAAM,EAAE,MAAK,CAAG,CALlB;AAOE,8DAAC,gDAAD,IACE,EAAE,EAAC,cADL,EAEE,WAAW,EAAC,uBAFd,EAGE,UAAU,EAAE,CAAC,4DAAD,CAHd,GAPF,CADF;;AAeD,C,cAzCuB,a,iGAItB,0F,oLAhBI,S,wJAYkB,a;;;;;;;;;;;;;;;;;;;;;;;;;;+jBCxCxB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;;AAyBA,MAAM,QAAQ,GAAG,gEAAM,CAAC,0DAAI,CAAC,IAAN,CAAW;;;;;mBAKf,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;sBAC1B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;;;;;;;;;;oBAU/B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;;qBAI3C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,OAAjB,CAAyB,IAAI;oBAC7C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;;;;;AAO/D,CA5BD,C;AA8BA,MAAM,eAAe,GAAI,KAAD,IAAgC;AACtD,QAAM,EACJ,KADI,EAEJ,OAFI,EAGJ,QAHI,EAIJ,YAAY,GAAI,MAAD,IAAyB,MAAM,CAAC,KAJ3C,EAKJ,YAAY,GAAI,MAAD,IACb,oEAAK,SAAS,EAAE,MAAM,CAAC,SAAvB,IAAmC,MAAM,CAAC,KAA1C,CANE,KAQF,KARJ;AAUA,QAAM,KAAK,GAAG,kEAAQ,EAAtB;AACA,QAAM,QAAQ,GAAG,kGAAO,MAAP,QAAO,EAAM,GAAG,IAAI,GAAG,CAAC,KAAJ,KAAc,KAA3B,CAAxB;AACA,SACE,2DAAC,8DAAD,IACE,OAAO,EAAE,CAAC,OAAD,CADX,EAEE,YAAY,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,MAAN,CAAa,GAAvB,EAFhB,EAGE,OAAO,EACL,2DAAC,0DAAD,IAAM,OAAO,EAAE,CAAC,EAAE,GAAF,EAAD,KAAgC,QAAQ,CAAC,GAAD,CAAvD;AACG,qGAAO,MAAP,QAAO,EAAK,MAAM,IACjB,2DAAC,QAAD,IACE,EAAE,EAAC,WADL,EAEE,GAAG,EAAE,MAAM,CAAC,KAFd,EAGE,SAAS,EAAE,iDAAE,CAAC,eAAD,EAAkB;AAC7B,cAAM,EAAE,MAAM,CAAC,KAAP,KAAiB,KADI,EAAlB,CAHf;;AAOG,gBAAY,CAAC,MAAD,CAPf,CADM,CADV,CAJJ;;;AAmBE,sEAAK,IAAI,EAAC,QAAV,EAAmB,GAAG,MAAtB;AACG,UAAQ,IAAI,YAAY,CAAC,QAAD,CAD3B;AAEE,6DAAC,2DAAD,IAAM,IAAI,EAAC,YAAX,EAAwB,GAAG,0EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,QAAnB,EAAF,irIAA3B,GAFF,CAnBF,CADF;;;AA0BD,CAvCD,C,cAAM,e,4BAWU,0D;AA8BD,e,CAAA,yE,iLAvET,Q,yJA8BA,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC5EN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AAIA;AAgBA;;;;;;;;;;;AAWG,G;AAEH,MAAM,UAAU,GAAG,IAAI,kFAAvB;AAEO,MAAM,iBAAiB,GAAG,2EAAY,CAC3C,yDAAc,CAAC,GAD4B,EAE3C,UAF2C,EAG3C,CAAC,EAAE,QAAF,EAAD,KAAkB,QAAQ,IAAI,EAHa,CAAtC;AAMO,SAAU,sBAAV,CAAuC,EACnD,KADmD,EAEnD,SAFmD,EAGnD,QAHmD,EAInD,OAJmD,EAKnD,QALmD,EAMnD,YANmD,EAOnD,aAPmD,EAQnD,OARmD,EASnD,cAAc,GAAG,IATkC,EAAvC,EAUsB;AAClC,yDAAS,CAAC,MAAK;AACb,QAAI,SAAS,IAAI,IAAjB;AAAuB;AACvB,qBAAiB,CAAC;AAChB,cAAQ,EAAE,WAAW,QAAQ,IAAI,SAAS,EAD1B,EAAD,CAAjB;;AAGG,QAHH,CAGQ,QAAQ,IAAG;AACf,YAAM,EAAE,MAAF,KAAa,QAAQ,CAAC,IAA5B;AACA,YAAM,KAAK,GAAG,aAAa,GAAG,aAAa,CAAC,MAAD,CAAhB,GAA2B,MAAtD;AACA,UAAI,QAAJ;AAAc,cAAQ,CAAC,KAAD,CAAR;AACf,KAPH;AAQG,SARH,CAQS,QAAQ,IAAG;AAChB,UAAI,SAAQ,QAAR,oBAAQ,CAAE,MAAV,MAAqB,GAArB,IAA4B,QAAhC;AAA0C,cAAQ,CAAC,SAAD,CAAR;AAC3C,KAVH;AAWD,GAbQ,EAaN,CAAC,QAAD,EAAW,SAAX,CAbM,CAAT,CADkC,CAcP;AAE3B,WAAS,WAAT,CAAqB,KAArB,EAAkC;AAChC,UAAM,KAAK,GAAG,YAAY;AACtB,gDAAK,CAAC,MAAN,CAAa;AACX,aAAO,EAAE,CAAC,EAAE,GAAG,EAAE,YAAP,EAAqB,GAAG,EAAE,IAA1B,EAAgC,KAAK,EAAE,KAAvC,EAAD,CADE,EAAb,CADsB;;AAItB,gDAAK,CAAC,MAAN,CAAa,EAAE,MAAM,EAAE,KAAV,EAAb,CAJJ;AAKA,WAAO,iBAAiB,CAAC;AACvB,cAAQ,EAAE,WAAW,QAAQ,OAAO,KAAK,EADlB,EAAD,CAAjB;AAEJ,QAFI,CAGL,QAAQ,oCACN,oNAAQ,CAAC,IAAT,CAAc,MAAd;AACO,mBADP;AAEQ,OAAC,CAAD,EAAc,CAAd,KAA8B,CAAC,CAAC,KAAF,CAAQ,aAAR,CAAsB,CAAC,CAAC,KAAxB,CAFtC,CADM,EAHH,EAOL,MAAM,WAAN,IAAoB;AAClB,aAAO,CAAC,MAAM,2FAAoB,CAAC,WAAD,CAA3B,CAAP;AACA,aAAO,EAAP;AACD,KAVI,CAAP;AAYD;AAED,SACE,2DAAC,iEAAD,IACE,KAAK,EAAE,KADT,EAEE,QAAQ,EAAE,QAFZ,EAGE,OAAO,EAAE,OAHX,EAIE,WAAW,EAAE,WAJf,EAKE,cAAc,EAAE,cALlB,CAKkC;AALlC,MAME,YAAY,MANd,EAOE,YAAY,EAAE,IAPhB,CAOsB;AAPtB,IADF;AAWD,C,cAzDuB,sB,kMARlB,U,kKAEO,iB,yKAMW,sB;;;;;;;;;;;;;;;;;;;;;;;;;;wSC/DxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAMxI,SAAS,GAAG;AAChBwJ,KAAG,EAAEtJ,iDAAS,CAACgB,MADC;AAEhBuI,cAAY,EAAEvJ,iDAAS,CAACgB,MAFR;AAGhBwI,cAAY,EAAExJ,iDAAS,CAACgB,MAHR;AAIhByI,gBAAc,EAAEzJ,iDAAS,CAACa,IAAV,CAAeR,UAJf;AAKhB+H,WAAS,EAAEpI,iDAAS,CAACqI,KAAV,CAAgB,CAAC,OAAD,EAAU,MAAV,EAAkB,KAAlB,EAAyB,QAAzB,CAAhB,CALK,EAAlB;;;AAQA,MAAMqB,kBAAN,SAAiC5G,4CAAK,CAACmD,SAAvC,CAAiD;AAC/CjD,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACXC,cAAQ,EAAE,EADC,EAAb;;AAGA,SAAKC,iBAAL,GAAyB,2GAAKA,iBAAL,iBAA4B,IAA5B,CAAzB;AACA,SAAKC,UAAL,GAAkB,4GAAKA,UAAL,kBAAqB,IAArB,CAAlB;AACD;;AAEDD,mBAAiB,CAACD,QAAD,EAAW;AAC1B,SAAKG,QAAL,CAAc,OAAO;AACnBH,cADmB,EAAP,CAAd;;AAGD;;AAEDE,YAAU,CAACE,CAAD,EAAI;AACZA,KAAC,CAACC,eAAF;AACAC,0EAAW,CAAC,KAAKjH,KAAL,CAAWqG,GAAZ,CAAX;AACGa,QADH,CACQ,KAAKN,iBADb;AAEGO,SAFH,CAES,KAAKnH,KAAL,CAAWwG,cAFpB;AAGD;;AAEDY,eAAa,GAAG;AACd,UAAMC,SAAS,GAAG7E,2DAAC,CAAC,MAAD,EAAS,KAAKxC,KAAL,CAAWuG,YAApB,EAAkC,KAAKG,KAAL,CAAWC,QAA7C,CAAnB;AACA;AACE,0EAAK,EAAE,EAAC,kBAAR,EAA2B,aAAU,kBAArC;AACE,iEAAC,sEAAD;AACE,YAAI,EAAE,KAAKD,KAAL,CAAWC,QADnB;AAEE,gBAAQ;AACN,0EAAG,SAAS,EAAC,iBAAb,EAA+B,KAAK,EAAEnE,2DAAC,CAAC,mBAAD,CAAvC,GAHJ,GADF;;;;AAQE;AACE,YAAI,EAAG,mBAAkB,KAAKxC,KAAL,CAAWsG,YAAa,YAAWe,SAAU,EADxE;;AAGE,wEAAG,SAAS,EAAC,gBAAb,GAHF,CARF,CADF;;;;AAgBD;;AAEDlF,QAAM,GAAG;AACP;AACE,iEAAC,8DAAD;AACE,eAAO,EAAC,OADV;AAEE,iBAAS,EAAE,KAAKnC,KAAL,CAAWmF,SAFxB;AAGE,eAAO,EAAE,KAAK0B,UAHhB;AAIE,eAAO,EAAE,KAAKO,aAAL,EAJX;;AAME;AACE,iBAAS,EAAC,2CADZ;AAEE,YAAI,EAAC,QAFP;;AAIE,wEAAG,SAAS,EAAC,+BAAb,GAJF,SANF,CADF;;;;;AAgBD,GA5D8C;AAAA;AAAA;AA+DjDX,kBAAkB,CAACvH,YAAnB,GAAkC;AAChCmH,KAAG,EAAEH,MAAM,CAACC,QAAP,CAAgBmB,IAAhB,CAAqBC,SAArB,CAA+BrB,MAAM,CAACC,QAAP,CAAgBqB,MAAhB,CAAuBC,MAAtD,CAD2B;AAEhCtC,WAAS,EAAE,MAFqB;AAGhCmB,cAAY,EAAE,EAHkB;AAIhCC,cAAY,EAAE,EAJkB,EAAlC;;;AAOAE,kBAAkB,CAAC5J,SAAnB,GAA+BA,SAA/B,C;;AAEe6K,sFAAU,CAACjB,kBAAD,C,CAAV,yE,iLAhFT5J,S,6JAQA4J,kB;;;;;;;;;;;;;;;;;;;;;;;wSClCN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAM5J,SAAS,GAAG;AAChB8K,eAAa,EAAE5K,iDAAS,CAACgB,MADT;AAEhB6J,gBAAc,EAAE7K,iDAAS,CAACgB,MAFV;AAGhB8J,UAAQ,EAAE9K,iDAAS,CAACa,IAHJ;AAIhBkK,YAAU,EAAE/K,iDAAS,CAACkB,IAJN;AAKhB8J,cAAY,EAAEhL,iDAAS,CAACgB,MALR;AAMhBiK,WAAS,EAAEjL,iDAAS,CAACgB,MAAV,CAAiBX,UANZ;AAOhB6K,OAAK,EAAElL,iDAAS,CAACC,MAPD;AAQhBkL,SAAO,EAAEnL,iDAAS,CAACgB,MAAV,CAAiBX,UARV,EAAlB;;;AAWA,MAAM8B,YAAY,GAAG;AACnByI,eAAa,EAAE,IADI;AAEnBC,gBAAc,EAAE,GAFG;AAGnBC,UAAQ,EAAE,IAHS;AAInBC,YAAU,EAAE,KAJO;AAKnBG,OAAK,EAAE,IALY;AAMnBF,cAAY,EAAE,IANK,EAArB;;;AASA,MAAMI,MAAM,GAAG/I,wDAAM,CAACC,GAAI;AAC1B,IAAI,CAAC,EAAEE,KAAF,EAAD,KAAgB;AACpB;AACA,0BAA0BA,KAAK,CAAC6I,MAAN,CAAaC,SAAb,CAAuBC,MAAO;AACxD,uBAAuB/I,KAAK,CAACgJ,QAAS;AACtC,oBAAoBhJ,KAAK,CAAC6I,MAAN,CAAaC,SAAb,CAAuBG,MAAO;AAClD,qBAAqBjJ,KAAK,CAACC,UAAN,CAAiBiJ,OAAjB,CAAyBC,KAAM;AACpD,iBAAiBnJ,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AACpC,kBAAkBhJ,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AACrC,UAAUhJ,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AAC7B,UAAUhJ,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsBhJ,KAAK,CAAC6I,MAAN,CAAaC,SAAb,CAAuBM,MAAO;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuBpJ,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AAC1C,qBAAqBhJ,KAAK,CAACC,UAAN,CAAiBiJ,OAAjB,CAAyBG,IAAK;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2BrJ,KAAK,CAACC,UAAN,CAAiBiJ,OAAjB,CAAyBI,MAAO;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoBtJ,KAAK,CAAC6I,MAAN,CAAaC,SAAb,CAAuBS,IAAK;AAChD,uBAAuBvJ,KAAK,CAACgJ,QAAS;AACtC,eAAehJ,KAAK,CAAC6I,MAAN,CAAaC,SAAb,CAAuBG,MAAO;AAC7C,mBAAmBjJ,KAAK,CAACC,UAAN,CAAiBC,KAAjB,CAAuBC,CAAE;AAC5C;AACA;AACA,iBAAiBH,KAAK,CAACgJ,QAAS;AAChC,UAAUhJ,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AAC7B,aAAahJ,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AAChC,eAAehJ,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AAClC;AACA;AACA,GAAI;AACJ,CA7DA;;AA+DA,SAASQ,YAAT,CAAsB;AACpBpB,eADoB;AAEpBC,gBAFoB;AAGpBC,UAHoB;AAIpBC,YAJoB;AAKpBC,cALoB;AAMpBC,WANoB;AAOpBC,OAPoB;AAQpBC,SARoB,EAAtB;AASG;AACD;AACE,+DAAC,MAAD,IAAQ,GAAG,EAAEL,QAAb,EAAuB,KAAK,EAAEI,KAA9B;AACE;AACE,eAAS,EAAEe,iDAAE,CAAC,YAAD,EAAelB,UAAU,IAAI,aAA7B,CADf;AAEE,mBAAU,YAFZ;;AAIE,wEAAK,SAAS,EAAC,YAAf,EAA4B,aAAU,YAAtC;AACGE,aADH,CAJF;;AAOE,wEAAK,SAAS,EAAC,WAAf;AACE,wEAAK,SAAS,EAAC,MAAf;AACE,6EAAOxF,2DAAC,CAAC,UAAD,CAAR,MADF;AAEE,6EAAOuF,YAAP,CAFF,CADF;;AAKE,wEAAK,SAAS,EAAC,MAAf;AACE,6EAAOvF,2DAAC,CAAC,eAAD,CAAR,MADF;AAEE,6EAAO0F,OAAP,CAFF,CALF;;AASE,wEAAK,SAAS,EAAC,MAAf;AACE,6EAAO1F,2DAAC,CAAC,aAAD,CAAR,MADF;AAEE,sEAAG,IAAI,EAAEmF,aAAT,IAAyBC,cAAzB,CAFF,CATF,CAPF,CADF;;;;AAuBGE,cAAU,IAAI,oEAAK,SAAS,EAAC,gBAAf,IAAiCtF,2DAAC,CAAC,OAAD,CAAlC,CAvBjB,CADF;;;AA2BD;;AAEDuG,YAAY,CAAClM,SAAb,GAAyBA,SAAzB;AACAkM,YAAY,CAAC7J,YAAb,GAA4BA,YAA5B,C;;AAEe6J,Y,CAAA,yE,iLA7HTlM,S,2JAWAqC,Y,8JASAiJ,M,wJA+DGY,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC1GT;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAOA,MAAM,sBAAsB,GAAG,EAA/B;AAEA,MAAM,wBAAwB,GAAG,gEAAM,CAAC,2DAAD,CAAM;;gBAE7B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;AAChD,CAHD;AAKA,MAAM,oBAAoB,GAAuB,CAAC,EAAE,SAAS,GAAG,CAAd,EAAD,KAC/C,qEACE,SAAS,EAAC,4BADZ,EAEE,KAAK,EAAE;AACL,UAAM,EAAE,gBAAgB,SAAS,GAAG,sBAAsB,KADrD,EAFT;;AAME,4DAAC,sDAAD;AACG,CAAC,EAAE,MAAF,EAAD,KACC,4DAAC,4DAAD;AACE,4DAAC,mDAAD,IAAQ,SAAS,EAAE,CAAC,SAApB,EAA+B,YAAY,EAAE,QAA7C;AACG,CAAC,EAAE,KAAF,EAAS,QAAT,EAAD,KACC,qEACE,SAAS,EAAC,UADZ,EAEE,KAAK,EAAE,QAAQ,GAAG,EAAE,GAAG,KAAL,EAAY,GAAG,EAAE,SAAjB,EAAH,GAAkC,IAFnD;AAIE,4DAAC,wBAAD,IACE,EAAE,EAAC,MADL,EAEE,SAAS,EAAC,iBAFZ,EAGE,aAAU,kDAHZ;AAKE,4DAAC,2DAAD,CAAM,OAAN,IAAc,GAAG,EAAE,CAAnB,EAAsB,GAAG,EAAE,2DAAC,CAAC,YAAD,CAA5B;AACE,4DAAC,oEAAD,OADF;AAEE,4DAAC,kEAAD,OAFF;AAGE,4DAAC,qEAAD,OAHF;AAIE,4DAAC,qEAAD,OAJF;AAKE,4DAAC,wEAAD,OALF;AAME,4DAAC,sEAAD,OANF,CALF;;AAaE,4DAAC,2DAAD,CAAM,OAAN,IACE,GAAG,EAAE,CADP,EAEE,GAAG,EAAE,2DAAC,CAAC,QAAD,CAFR,EAGE,SAAS,EAAC,YAHZ;AAKE,4DAAC,+DAAD,IACE,MAAM,EAAE,MAAM,IAAI,QAAQ,GAAG,sBAAH,GAA4B,CAAxC,CADhB,GALF,CAbF,CAJF,CAFJ,CADF,CAFJ,CANF,CADF,C;;;;;;;;AAgDe,oB,CAAA,yE,iLAvDT,sB,gLAEA,wB,kLAKA,oB;;;;;;;;;;;;;;;;;;;;wSC7CN;;;;;;;;;;;;;;;;;AAiBG;AACH;AAEA;AACA;;AAWA,MAAM,sBAAsB,GAAoC,CAAC,EAC/D,IAD+D,EAE/D,KAF+D,EAG/D,OAH+D,EAAD,KAI3D;AACH,QAAM,WAAW,GAAG,wIAAc,EAAlC;AACA,QAAM,SAAS,GAAG,IAAI,CAAC,aAAL,CAAmB,OAAnB,CAAlB;AACA,QAAM,WAAW,GAAG,IAAI,CAAC,aAAL,CAAmB,SAAnB,CAApB;AACA,SACE,2DAAC,2IAAD,IACE,gBAAgB,EAAG,MAAD,IAAgB;AAChC,8HAAyB,CAAC,IAAD,EAAO;AAC9B,WAAG,MAD2B,EAAP,CAAzB;;AAGD,KALH,EAME,KAAK,EAAE,KANT,EAOE,OAAO,EAAE,OAPX,EAQE,SAAS,EAAE,SARb,EASE,WAAW,EAAE,WATf,EAUE,WAAW,EAAE,WAVf,GADF;AAcD,CAtBD,C,cAAM,sB,wCAKgB,gI;AAmBP,sB,CAAA,yE,iLAxBT,sB;;;;;;;;;;;;;;;;;;;;;;;;;;;wSChCN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAUA,MAAM,uBAAuB,GAAqC,CAAC,EACjE,MADiE,EAEjE,OAFiE,EAGjE,OAHiE,EAAD,KAI7D;AACH,QAAM,QAAQ,GAAG,+DAAW,EAA5B;AACA,QAAM,CAAC,IAAD,IAAS,0DAAI,CAAC,OAAL,EAAf;AACA,QAAM,WAAW,GAAG,+DAAW,CAC7B,CAAC,EAAE,aAAF,EAAD,uCAAuB,aAAvB,6CAAuB,aAAa,CAAE,QAAtC,qBAAuB,sBAAyB,mBAAhD,EAD6B,CAA/B;AAGA,QAAM,KAAK,GAAG,WAAH,4CAAG,WAAW,CAAG,OAAH,CAAd,8CAAG,qBAAwB,YAA3B,qBAAG,sBAAsC,KAApD;AACA,QAAM,UAAU,GAAG,MAAK;AACtB,YAAQ,CACN,iGAAqB,CAAC;AACpB,SAAG,WADiB;AAEpB,OAAC,OAAD,GAAW;AACT,UAAE,EAAE,OADK;AAET,oBAAY,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,aAAL,CAAmB,OAAnB,CAAT,EAFL,EAFS,EAAD,CADf,CAAR;;;AASA,WAAO;AACR,GAXD;AAaA,SACE,4DAAC,gEAAD,IACE,OAAO,EAAE,MADX,EAEE,YAAY,EAAE,KAFhB,EAGE,KAAK,EAAE,2DAAC,CAAC,sBAAD,CAHV,EAIE,KAAK,EAAC,KAJR,EAKE,cAAc,MALhB,EAME,QAAQ,EAAE,OANZ,EAOE,IAAI,EAAE,UAPR,EAQE,QAAQ,MARV,EASE,aAAU,4BATZ,EAUE,MAAM,EACJ;AACE,gEAAC,6DAAD,IACE,GAAG,EAAC,QADN,EAEE,WAAW,EAAC,WAFd,EAGE,aAAU,0CAHZ,EAIE,OAAO,EAAE,OAJX;AAMG,+DAAC,CAAC,QAAD,CANJ,CADF;;AASE,gEAAC,6DAAD,IACE,GAAG,EAAC,QADN,EAEE,WAAW,EAAC,SAFd,EAGE,OAAO,EAAE,UAHX,EAIE,aAAU,wCAJZ;AAMG,+DAAC,CAAC,MAAD,CANJ,CATF,CAXJ;;;AA+BE,8DAAC,+FAAD,IAAY,QAAQ,EAAE,KAAtB,EAA6B,IAAI,EAAE,IAAnC,EAAyC,MAAM,EAAC,UAAhD;AACE,8DAAC,+DAAD,IAAwB,IAAI,EAAE,IAA9B,EAAoC,KAAK,EAAE,KAA3C,EAAkD,OAAO,EAAE,OAA3D,GADF,CA/BF,CADF;;;AAqCD,CA7DD,C,cAAM,uB,6EAKa,uD,EAEG,uD;AAwDP,uB,CAAA,yE,iLA/DT,uB;;;;;;;;;;;;;;;wSChBN;AACO,MAAM,yBAAyB,GAAG,CACvC,IADuC,EAEvC,MAFuC,KAGrC;AACF,MAAI,CAAC,cAAL,CAAoB;AAClB,OAAG,MADe,EAApB;;AAGD,CAPM,C,iLAAM,yB;;;;;;;;;;;;;;;;;;;;;;;;;wSCrBb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAMlM,SAAS,GAAG;AAChBoM,YAAU,EAAElM,iDAAS,CAACgB,MADN;AAEhBmL,aAAW,EAAEnM,iDAAS,CAAC4B,IAAV,CAAevB,UAFZ;AAGhB+L,UAAQ,EAAEpM,iDAAS,CAACa,IAHJ;AAIhBwL,WAAS,EAAErM,iDAAS,CAACsM,KAJL,EAAlB;;;AAOA,MAAMnK,YAAY,GAAG;AACnB+J,YAAU,EAAE,EADO;AAEnBE,UAAQ,EAAE,MAAM,CAAE,CAFC,EAArB;;;AAKA,MAAMG,SAAN,SAAwBzJ,4CAAK,CAACC,aAA9B,CAA4C;AAC1CC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACX6C,SAAG,EAAEvJ,KAAK,CAACiJ,UADA,EAAb;;AAGA,SAAKO,SAAL,GAAiB,2GAAKA,SAAL,iBAAoB,IAApB,CAAjB;AACA,SAAKC,iBAAL,GAAyB,4GAAKA,iBAAL,kBAA4B,IAA5B,CAAzB;AACD;;AAEDvJ,mBAAiB,GAAG;AAClBwJ,2EAAY,CAACC,OAAb;AACD;;AAEDH,WAAS,CAACD,GAAD,EAAM;AACb,SAAKzC,QAAL,CAAc,EAAEyC,GAAF,EAAd,EAAuB,MAAM;AAC3B,WAAKvJ,KAAL,CAAWmJ,QAAX,CAAoBI,GAApB;AACD,KAFD;AAGD;;AAEDE,mBAAiB,CAACG,GAAD,EAAM;AACrB,SAAKJ,SAAL,CAAeI,GAAG,CAACL,GAAnB;AACD;;AAEDM,wBAAsB,GAAG;AACvB,QAAI,KAAK7J,KAAL,CAAWoJ,SAAf,EAA0B;AACxB;AACE,4EAAK,KAAK,EAAE,EAAEU,MAAM,EAAE,EAAV,EAAZ;AACE,+EAAKtH,2DAAC,CAAC,iBAAD,CAAN,CADF;AAEE,mEAAC,6DAAD;AACE,iBAAO,EAAE,KAAKxC,KAAL,CAAWoJ,SADtB;AAEE,qBAAW,EAAE5G,2DAAC,CAAC,qBAAD,CAFhB;AAGE,kBAAQ,EAAE,KAAKiH,iBAHjB,GAFF,CADF;;;;AAUD;AACD,WAAO,IAAP;AACD;;AAEDtH,QAAM,GAAG;AACP;AACE,iEAAC,mEAAD;AACE,mBAAW,EAAE,KAAKnC,KAAL,CAAWkJ,WAD1B;AAEE,kBAAU,EAAE1G,2DAAC,CAAC,KAAD,CAFf;AAGE,iBAAS;AACP;AACG,aAAKqH,sBAAL,EADH;AAEE,4EAAK,KAAK,EAAE,EAAEC,MAAM,EAAE,CAAV,EAAZ;AACE,+EAAKtH,2DAAC,CAAC,iBAAD,CAAN,CADF;AAEE,4EAAK,KAAK,EAAE,EAAEuH,MAAM,EAAE,gBAAV,EAAZ;AACE,mEAAC,uEAAD;AACE,kBAAQ,EAAE,EADZ;AAEE,kBAAQ,EAAE,EAFZ;AAGE,kBAAQ,EAAE,KAAKP,SAHjB;AAIE,gBAAM,EAAC,OAJT;AAKE,eAAK,EAAC,MALR;AAME,qBAAW,EAAE,EAAEQ,eAAe,EAAE,IAAnB,EANf;AAOE,kCAAwB,MAP1B;AAQE,eAAK,EAAE,KAAKtD,KAAL,CAAW6C,GAAX,IAAkB,EAR3B,GADF,CAFF,CAFF,CAJJ,GADF;;;;;;;;AA0BD,GAnEyC;AAAA;AAAA;AAsE5CD,SAAS,CAACzM,SAAV,GAAsBA,SAAtB;AACAyM,SAAS,CAACpK,YAAV,GAAyBA,YAAzB,C;;AAEeoK,S,CAAA,yE,iLArFTzM,S,+JAOAqC,Y,kKAKAoK,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCrCN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAMA;AAKA;AACA;;AAEA;AACA;AACA;;;AAGA,MAAMzM,SAAS,GAAG;AAChBI,SAAO,EAAEF,kDAAS,CAACkN,KAAV,CAAgB;AACvBC,uBAAmB,EAAEnN,kDAAS,CAACa,IAAV,CAAeR,UADb;AAEvB+M,4BAAwB,EAAEpN,kDAAS,CAACa,IAAV,CAAeR,UAFlB;AAGvBoB,gBAAY,EAAEzB,kDAAS,CAACa,IAAV,CAAeR,UAHN;AAIvB6D,YAAQ,EAAElE,kDAAS,CAACa,IAAV,CAAeR,UAJF,EAAhB;AAKNA,YANa;AAOhBgN,eAAa,EAAEC,wEAAsB,CAACjN,UAPtB;AAQhBkN,gBAAc,EAAEC,yEAAuB,CAACnN,UARxB;AAShBoN,QAAM,EAAEzN,kDAAS,CAAC0N,QAAV,CAAmBC,gEAAnB,EAAmCtN,UAT3B;AAUhBuN,QAAM,EAAE5N,kDAAS,CAAC0N,QAAV,CAAmBG,gEAAnB,EAAmCxN,UAV3B;AAWhByN,eAAa,EAAE9N,kDAAS,CAACC,MAAV,CAAiBI,UAXhB;AAYhB0N,oBAAkB,EAAE/N,kDAAS,CAACC,MAAV,CAAiBI,UAZrB;AAahB2N,aAAW,EAAEhO,kDAAS,CAACC,MAAV,CAAiBI,UAbd;AAchB4N,eAAa,EAAEjO,kDAAS,CAACC,MAAV,CAAiBI,UAdhB;AAehB6N,QAAM,EAAElO,kDAAS,CAACC,MAAV,CAAiBI,UAfT;AAgBhB8N,cAAY,EAAEnO,kDAAS,CAACgB,MAAV,CAAiBX,UAhBf;AAiBhB+N,cAAY,EAAEpO,kDAAS,CAACsM,KAjBR;AAkBhBxL,SAAO,EAAEd,kDAAS,CAACI,MAlBH;AAmBhBiO,QAAM,EAAErO,kDAAS,CAACgB,MAnBF,EAAlB;;;AAsBA,MAAMmB,YAAY,GAAG;AACnBiM,cAAY,EAAE,EADK;AAEnBtN,SAAO,EAAE,EAFU;AAGnBuN,QAAM,EAAE,EAHW,EAArB;;;AAMA,MAAMC,SAAN,SAAwBxL,6CAAK,CAACC,aAA9B,CAA4C;;;AAG1C,SAAOwL,cAAP,CAAsBC,UAAtB,EAAkC;AAChC,QAAIA,UAAJ,EAAgB;AACdrF,YAAM,CAACsF,gBAAP,CAAwB,cAAxB,EAAwCH,SAAS,CAACI,MAAlD;AACD,KAFD,MAEO;AACLvF,YAAM,CAACwF,mBAAP,CAA2B,cAA3B,EAA2CL,SAAS,CAACI,MAArD;AACD;AACF;;AAED,SAAOA,MAAP,GAAgB;AACd,UAAMxJ,OAAO,GAAGO,4DAAC,CAAC,2BAAD,CAAjB;AACA0D,UAAM,CAACyF,KAAP,CAAaC,WAAb,GAA2B3J,OAA3B,CAFc,CAEsB;AACpC,WAAOA,OAAP,CAHc,CAGE;AACjB;;AAEDlC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK6L,cAAL,2BAAsB7L,KAAK,CAAC6K,aAA5B,mCAA6C,EAA7C;AACA,SAAKiB,oBAAL,2BAA4B9L,KAAK,CAACgL,aAAlC,mCAAmD,EAAnD;AACA,SAAKe,kBAAL,GAA0B,4GAAKA,kBAAL,iBAA6B,IAA7B,CAA1B;AACD;;AAED7L,mBAAiB,GAAG;AAClB,UAAM8L,YAAY,GAAGpG,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAArB;AACA,UAAMoG,aAAa,GAAG,CAAAD,YAAY,QAAZ,YAAAA,YAAY,CAAEE,YAAd,CAA2B,gBAA3B,MAAgD,EAAtE;AACA,UAAM,EAAE5B,cAAF,EAAkBW,MAAlB,KAA6B,KAAKjL,KAAxC;AACA,UAAMmM,SAAS,GAAG;AAChBC,kBAAY,EAAE9B,cAAc,CAAC+B,QADb;AAEhBC,oBAAc,EAAE1K,wDAAM,CAACC,YAAP,EAFA;AAGhB0K,cAAQ,EAAEC,uEAAgB,CAACvB,MAAD,CAHV;AAIhBwB,kBAAY,EAAEnC,cAAc,CAACoC,WAJb;AAKhBC,2BAAqB,EAAEV,aAAa,CAACxE,MALrB,EAAlB;;AAOA,UAAMmF,qBAAqB,GAAGrH,sEAAe,EAA7C;AACA,QAAIqH,qBAAJ,EAA2B;AACzBT,eAAS,CAACU,SAAV,GAAsBD,qBAAtB;AACD;AACD,SAAK5M,KAAL,CAAW/C,OAAX,CAAmBgE,QAAnB,CAA4B6L,6EAA5B,EAAyDX,SAAzD;;AAEA;AACA,QAAIvG,QAAQ,CAACmH,eAAT,KAA6B,QAAjC,EAA2C;AACzC,WAAKC,mBAAL,GAA2B;AACzB1L,oBAAY,EAAEM,wDAAM,CAACC,YAAP,EADW;AAEzBL,UAAE,EAAE,IAAIC,IAAJ,GAAWC,OAAX,EAFqB,EAA3B;;AAID;AACDwE,UAAM,CAACsF,gBAAP,CAAwB,kBAAxB,EAA4C,KAAKO,kBAAjD;AACA,SAAKkB,WAAL;AACD;;AAED7M,oBAAkB,GAAG;AACnB,SAAK6M,WAAL;AACD;;AAEDxH,kCAAgC,CAAC9B,SAAD,EAAY;AAC1C,UAAMuJ,eAAe,GAAGC,4EAAqB,CAAC,KAAKnN,KAAL,CAAWiL,MAAZ,CAA7C;AACA,UAAMmC,YAAY,GAAGD,4EAAqB,CAACxJ,SAAS,CAACsH,MAAX,CAA1C;;AAEA,QAAIiC,eAAe,CAACzF,MAAhB,GAAyB2F,YAAY,CAAC3F,MAA1C,EAAkD;AAChD,YAAM4F,WAAW,GAAG,6FAAAD,YAAY,MAAZ,CAAAA,YAAY;AAC9BE,SAAG,IAAI,+FAAAJ,eAAe,MAAf,CAAAA,eAAe,EAASI,GAAT,CAAf,KAAiC,CAAC,CADX,CAAhC;;AAGA,qGAAAD,WAAW,MAAX,CAAAA,WAAW,EAAS,CAAAE,UAAU;AAC5B,WAAKvN,KAAL,CAAW/C,OAAX,CAAmBiN,mBAAnB;AACEqD,gBADF;AAEEC,0FAA6B,CAAC7J,SAAS,CAACsH,MAAX,EAAmBsC,UAAnB,CAF/B,CADS,CAAX;;;AAMD,KAVD,MAUO,IAAIL,eAAe,CAACzF,MAAhB,GAAyB2F,YAAY,CAAC3F,MAA1C,EAAkD;AACvD;AACA,YAAMgG,eAAe,GAAG,6FAAAP,eAAe,MAAf,CAAAA,eAAe;AACrCI,SAAG,IAAI,+FAAAF,YAAY,MAAZ,CAAAA,YAAY,EAASE,GAAT,CAAZ,KAA8B,CAAC,CADD,CAAvC;;AAGA,qGAAAG,eAAe,MAAf,CAAAA,eAAe,EAAS,CAAAC,cAAc;AACpC,WAAK1N,KAAL,CAAW/C,OAAX,CAAmBkN,wBAAnB,CAA4CuD,cAA5C,CADa,CAAf;;AAGD;AACF;;AAEDT,aAAW,GAAG;AACZ,UAAM,EAAEU,iBAAF,EAAqBtB,QAArB,KAAkC,KAAKrM,KAAL,CAAWsK,cAAnD;;AAEA,UAAM,EAAEuB,cAAF,EAAkBC,oBAAlB,KAA2C,IAAjD;AACA,UAAM,EAAEjB,aAAF,EAAiBG,aAAjB,EAAgCF,kBAAhC,KAAuD,KAAK9K,KAAlE;AACA;AACEK,+EAAgB,CAACC,8DAAW,CAACsN,uBAAb,CAAhB;AACA,KAAC9C,kBAFH;AAGE;AACA;AACA;AACA;AACD;;AAED;AACE,KAACuB,QAAD;AACC,KAACwB,oEAAe,CAAC/B,oBAAD,EAAuBd,aAAvB,EAAsC;AACrD8C,qBAAe,EAAE,IADoC,EAAtC,CAAhB;;AAGC,KAACD,oEAAe,CAAChC,cAAD,EAAiBhB,aAAjB,EAAgC;AAC9CiD,qBAAe,EAAE,IAD6B,EAAhC,CAJlB,CADF;;AAQE;AACA,WAAKC,YAAL;AACD;;AAED,QAAIJ,iBAAJ,EAAuB;AACrBtC,eAAS,CAACC,cAAV,CAAyB,IAAzB;AACD,KAFD,MAEO;AACLD,eAAS,CAACC,cAAV,CAAyB,KAAzB;AACD;AACF;;AAED0C,sBAAoB,GAAG;AACrB9H,UAAM,CAACwF,mBAAP,CAA2B,kBAA3B,EAA+C,KAAKK,kBAApD;AACD;;AAEDA,oBAAkB,GAAG;AACnB,QAAInG,QAAQ,CAACmH,eAAT,KAA6B,QAAjC,EAA2C;AACzC;AACA,WAAKC,mBAAL,GAA2B;AACzB1L,oBAAY,EAAEM,wDAAM,CAACC,YAAP,EADW;AAEzBL,UAAE,EAAE,IAAIC,IAAJ,GAAWC,OAAX,EAFqB,EAA3B;;AAID,KAND,MAMO,IAAIkE,QAAQ,CAACmH,eAAT,KAA6B,SAAjC,EAA4C;AACjD;AACA,YAAMkB,QAAQ,GAAG,KAAKjB,mBAAL,CAAyB1L,YAA1C;AACA,WAAKtB,KAAL,CAAW/C,OAAX,CAAmBgE,QAAnB,CAA4BiN,8EAA5B,EAA0D;AACxD,WAAG,KAAKlB,mBADgD;AAExDrL,gBAAQ,EAAEC,wDAAM,CAACC,YAAP,KAAwBoM,QAFsB,EAA1D;;AAID;AACF;;AAED;AACAE,cAAY,GAAG;AACb,WAAO,2FAAc,KAAKnO,KAAL,CAAWwK,MAAzB,CAAP;AACD;;AAEDuD,cAAY,GAAG;AACb,UAAM,EAAElC,cAAF,KAAqB,IAA3B;AACA,UAAM,EAAEhB,aAAF,EAAiBG,aAAjB,KAAmC,KAAKhL,KAA9C;;AAEA;AACA,UAAMoO,cAAc,GAAG,yFAAYvD,aAAZ,CAAvB;AACA,UAAMwD,iBAAiB,GAAG,yFAAYxC,cAAZ,CAA1B;;AAEA,UAAMyC,OAAO,GAAG,IAAI,iFAAI,6FAAAF,cAAc,MAAd,CAAAA,cAAc,EAAQC,iBAAR,CAAtB,CAAhB;AACA,UAAME,gBAAgB,GAAGC,+FAAwB;AAC/CxD,iBAD+C;AAE/C,SAAKc,oBAF0C,CAAjD;;AAIA,gHAAC,GAAGwC,OAAJ,mBAAqBG,SAAS,IAAI;AAChC;AACE,OAAC,+FAAAL,cAAc,MAAd,CAAAA,cAAc,EAAUK,SAAV,CAAf;AACA,qGAAAJ,iBAAiB,MAAjB,CAAAA,iBAAiB,EAAUI,SAAV,CAFnB;AAGE;AACA;AACAF,wBAAgB,CAACG,IAAjB,CAAsB,GAAG7C,cAAc,CAAC4C,SAAD,CAAd,CAA0BE,KAAnD;AACD,OAND,MAMO,IAAI,CAAC,+FAAAN,iBAAiB,MAAjB,CAAAA,iBAAiB,EAAUI,SAAV,CAAtB,EAA4C;AACjD;AACAF,wBAAgB,CAACG,IAAjB,CAAsB,GAAG7D,aAAa,CAAC4D,SAAD,CAAb,CAAyBE,KAAlD;AACD,OAHM,MAGA;AACL;AACA;AACA;AACE,SAACd,oEAAe,CAAC;AACfhC,sBAAc,CAAC4C,SAAD,CADA;AAEd5D,qBAAa,CAAC4D,SAAD,CAFC;AAGd;AACEX,yBAAe,EAAE,IADnB,EAHc,CADlB;;;AAQE;AACAS,0BAAgB,CAACG,IAAjB,CAAsB,GAAG7D,aAAa,CAAC4D,SAAD,CAAb,CAAyBE,KAAlD;AACD;;AAED;AACA;AACA;AACE,SAACd,oEAAe;AACdhC,sBAAc,CAAC4C,SAAD,CAAd,CAA0BE,KADZ;AAEd9D,qBAAa,CAAC4D,SAAD,CAAb,CAAyBE,KAFX,CADlB;;AAKE;AACA,gBAAMC,aAAa,GAAG,yGAAC/D,aAAa,CAAC4D,SAAD,CAAb,CAAyBE,KAAzB,IAAkC,EAAnC;AACpB9C,wBAAc,CAAC4C,SAAD,CAAd,CAA0BE,KAA1B,IAAmC,EADf,CAAtB;;AAGAJ,0BAAgB,CAACG,IAAjB,CAAsB,GAAGE,aAAzB;AACD;AACF;AACF,KAvCD;;AAyCA;AACA,SAAKC,aAAL,CAAmB,CAAC,GAAG,IAAI,iFAAIN,gBAAR,CAAJ,CAAnB;AACA,SAAK1C,cAAL,GAAsBhB,aAAtB;AACA,SAAKiB,oBAAL,GAA4Bd,aAA5B;AACD;;AAED6D,eAAa,CAACC,GAAD,EAAM;AACjB,mGAAAA,GAAG,MAAH,CAAAA,GAAG,EAASC,EAAE,IAAI;AAChB,WAAK/O,KAAL,CAAW/C,OAAX,CAAmBuB,YAAnB,CAAgC,IAAhC,EAAsCuQ,EAAtC;AACD,KAFE,CAAH;AAGD;;AAED5M,QAAM,GAAG;AACP,QAAI,KAAK6M,OAAL,CAAaC,OAAjB,EAA0B;AACxB,aAAO,4DAAC,+DAAD,OAAP;AACD;AACD;AACE;AACE,kEAAC,kEAAD,IAAe,QAAQ,EAAE,KAAKjP,KAAL,CAAW/C,OAAX,CAAmBgE,QAA5C,GADF;AAEE,kEAAC,2EAAD,OAFF,CADF;;;AAMD,GAxNyC;AAAA;AAAA,6BAAtCoK,S,CACG6D,W,GAAcC,4E;AA0NvB9D,SAAS,CAACxO,SAAV,GAAsBA,SAAtB;AACAwO,SAAS,CAACnM,YAAV,GAAyBA,YAAzB,C;;AAEemM,S,CAAA,yE,iLA1PTxO,S,wJAsBAqC,Y,2JAMAmM,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC1EN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAMA;AACA;AACA;AACA;AACA;;AAGA,MAAM,WAAW,GAAG,EAApB;AACA,MAAM,aAAa,GAAG,EAAtB;AAIA,MAAM,sBAAsB,GAAG,wDAAM,CAAC,GAGpC;;;;;;;;;;;;;;;;;;kBAkBgB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;oBAC/B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;qBAChC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;mBACnC,CAAC,EAAE,KAAF,EAAS,oBAAT,EAA+B,QAA/B,EAAD,KAA8C;AAC3D,MAAI,CAAC,oBAAD,IAAyB,CAAC,QAA9B,EAAwC;AACtC,WAAO,CAAP;AACD;AACD,SAAO,KAAK,CAAC,QAAN,GAAiB,CAAxB;AACD;;;;;0BAKqB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,gBAAgB;qBAC1C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,gBAAgB;mBACvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,gBAAgB;;;AAGvD,CAvCD;AAyCA,MAAM,gBAAgB,GAA8B,MAAK;AACvD,QAAM,QAAQ,GAAG,gEAAW,EAA5B;AACA,QAAM,eAAe,GAAG,gEAAW,CACjC,KAAK,IAAI,KAAK,CAAC,eAAN,CAAsB,OADE,CAAnC;AAGA,QAAM,QAAQ,GAAG,gEAAW,CAC1B,KAAK,IAAI,KAAK,CAAC,cAAN,CAAqB,QADJ,CAA5B;AAGA,QAAM,iBAAiB,GAAG,gEAAW,CACnC,KAAK,IAAI,KAAK,CAAC,cAAN,CAAqB,iBADK,CAArC;AAIA,QAAM,eAAe,GAAG,CAAC,EACvB,cADuB,EAAD,KAInB;AACH,YAAQ,CAAC,kGAAoB,CAAC,cAAD,CAArB,CAAR;AACD,GAND;AAQA,QAAM,wBAAwB,GAAG,MAAK;AACpC,YAAQ,CAAC,iGAAkB,EAAnB,CAAR;AAEA,UAAM,QAAQ,GAAG,2FAAuB,CACtC,yEAAyB,CAAC,eAAD,CADa,EAEtC,CAFsC,CAAxC;AAIA,YAAQ,CAAC,kGAAoB,CAAC,QAAD,CAArB,CAAR;AACD,GARD;AAUA,QAAM,aAAa,GAAG,eAAe,CAAC,+EAAD,CAArC;AACA,QAAM,WAAW,GAAG,aAAa,CAAC,QAAd,CAAuB,CAAvB,CAApB;AACA,QAAM,YAAY,GAChB,WAAW,KAAK,+EAAhB;AACI,iBAAe,CAAC,WAAD,CADnB;AAEI,WAHN;AAKA,QAAM,mBAAmB,GACvB,uEAAW,CAAC,yDAAU,CAAC,UAAZ,CAAX;AACA,uFAAuB,CAAC,kBAF1B;AAIA,QAAM,YAAY,GAChB,CAAC,mBAAmB,GAAG,CAAH,GAAO,aAA3B;AACC,cAAY,GAAG,WAAH,GAAiB,CAD9B,CADF;AAIA,QAAM,EACJ,aADI,EAEJ,oBAFI,EAGJ,0BAHI,EAIJ,oBAJI,KAKF,gEAAgB,EALpB;AAOA,SACE,4DAAC,4DAAD,IACE,SAAS,EAAE,iDAAE,CAAC,WAAD,EAAc,QAAQ,IAAI,oBAA1B,CADf;AAGE,8DAAC,mDAAD;AACG,GAAC,EAAE,KAAF,EAAD;AACC;AACA,8DAAC,kFAAD,IACE,SAAS,EAAE,aADb,EAEE,eAAe,EAAE,IAFnB,EAGE,KAAK,EAAE,kFAHT,EAIE,KAAK,EAAE,CAJT,EAKE,WAAW,EAAC,QALd,EAME,MAAM,EAAE,UAAU,IAAI,QAAQ,CAAC,kGAAmB,CAAC,UAAD,CAApB,CANhC,EAOE,QAAQ,EAAE;AACV;AARF,MASE,eAAe,EAAE,CAAC,CAAC,YATrB,EAUE,KAAK,EAAE;AACL,YAAM,EAAE,GADH;AAEL,SAAG,KAFE,EAVT;;AAeG,GAAC,EAAE,kBAAF,EAAD,KACC;AACG,GAAC,mBAAD,IAAwB,4DAAC,gFAAD,OAD3B;AAEG,oBAAkB,IAAI,mEAAS,kBAAT,CAFzB;AAGG,cAAY,IACX,4DAAC,sFAAD,IACE,WAAW,EAAE,uDADf,EAEE,SAAS,EAAE;AACT,gEAAC,2EAAD,IACE,SAAS,EAAC,kBADZ,EAEE,KAAK,EAAC,sBAFR,EAGE,OAAO,EAAE,wBAHX,GADS,CAFb;AASE,YAAQ,EAAE,QATZ;;AAaE,8DAAC,mFAAD,IACE,EAAE,EAAE,YAAF,oBAAE,YAAY,CAAE,EADpB,EAEE,QAAQ,EAAE,+EAFZ,EAGE,KAAK,EAAE,kFAAoB,GAAG,CAHhC,EAIE,KAAK,EAAE,CAJT,EAKE,gBAAgB,EAAE,KALpB,EAME,eAAe,EAAE,KANnB,EAOE,WAAW,EAAE,eAPf,GAbF,CAJJ,CAhBJ,CAHJ,CAHF;;;;;AAuDE,8DAAC,sBAAD,IACE,SAAS,EAAC,mBADZ,EAEE,oBAAoB,EAAE,oBAFxB,EAGE,QAAQ,EAAE,QAHZ;AAKG,sBAAoB,IAAI,CAAC,QAAzB,IACC,4DAAC,qEAAD,IACE,WAAW,EAAE,oBADf,EAEE,SAAS,EAAE,YAFb;AAIE,8DAAC,oEAAD;AACE,8DAAC,yFAAD,IACE,WAAW,EAAE,oBADf,EAEE,gBAAgB,EAAE,0BAFpB,EAGE,iBAAiB,EAAE,iBAHrB,GADF,CAJF,CANJ;;;AAmBG,eAAa,GACZ,4DAAC,4DAAD,IAAoB,YAAY,EAAE,YAAlC,GADY,GAGZ,4DAAC,+DAAD,OAtBJ;AAwBG,UAAQ,IAAI,4DAAC,qFAAD,IAAsB,SAAS,EAAE,YAAjC,GAxBf,CAvDF;;AAiFE,8DAAC,oFAAD,OAjFF,CADF;;AAqFD,CAzID,C,cAAM,gB,qOACa,wD,EACO,wD,EAGP,wD,EAGS,wD,EA0CtB,wD;AAyFS,gB,CAAA,yE,iLAzLT,W,mLACA,a,qLAIA,sB,8LAyCA,gB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCpGN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AAEA;AACA;;AAOA,MAAM,kBAAkB,GAAgC,CAAC,EAAE,YAAF,EAAD,KAAqB;AAC3E,QAAM,eAAe,GAAG,gEAAW,CACjC,KAAK,IAAI,KAAK,CAAC,eAAN,CAAsB,OADE,CAAnC;AAGA,QAAM,aAAa,GAAG,gEAAW,CAC/B,KAAK,IAAI,KAAK,CAAC,aAAN,CAAoB,OADE,CAAjC;AAGA,QAAM,iBAAiB,GAAG,gEAAW,CACnC,KAAK,IAAI,KAAK,CAAC,cAAN,CAAqB,iBADK,CAArC;AAGA,QAAM,CAAC,QAAD,EAAW,WAAX,IAA0B,sDAAQ,CACtC,oEAAoB,CAAC,eAAD,EAAkB,iBAAlB,CADkB,CAAxC;AAIA,QAAM,QAAQ,GAAG,gEAAW,EAA5B;AAEA,yDAAS,CAAC,MAAK;AACb,eAAW,CAAC,oEAAoB,CAAC,eAAD,EAAkB,iBAAlB,CAArB,CAAX;AACD,GAFQ,EAEN,CAAC,8FAA0B,CAAC,iBAAD,CAA3B,CAFM,CAAT;AAIA;AACA,QAAM,mBAAmB,GAAG,2FAAc,aAAd,CAA5B;AACA,QAAM,MAAM,GAAG,6GAAmB,MAAnB,oBAAmB,EAAK,MAAM,IAAI,MAAM,CAAC,KAAtB,CAAlC;AACA,yDAAS,CAAC,MAAK;AACb,sHAAmB,MAAnB,oBAAmB,EAAS,MAAM,IAAG;AACnC,YAAM,WAAW,GAAG,MAAM,CAAC,KAA3B;AACA,YAAM,aAAa,GAAG,8FAAwB,CAAC;AAC7C,mBAAW,EAAE;AACX,eAAK,EAAE,WAAW,CAAC,QADR;AAEX;AACA,gBAAM,EAAE,WAAW,CAAC,QAHT,EADgC,EAAD,CAA9C;;;AAOA,YAAM,WAAW,GAAG,uFAAyB,CAC3C,eAD2C,EAE3C,aAF2C,CAA7C;AAIA,iGAAc,MAAd,EAAsB;AACpB,qBADoB;AAEpB,mBAAW,EAAE,wFAAW,WAAX,CAFO,EAAtB;;AAID,KAjBkB,CAAnB;AAkBA,YAAQ,CAAC,sFAAsB,CAAC,mBAAD,CAAvB,CAAR;AACD,GApBQ,EAoBN,CAAC,4FAAe,MAAf,CAAD,EAAyB,4FAAe,eAAf,CAAzB,CApBM,CAAT;AAsBA,QAAM,QAAQ,GAAa,YAAY;AACnC,cAAY,CAAC,QADsB;AAEnC,GAAC,+EAAD,CAFJ;AAIA,QAAM,GAAG,GAAG,IAAI,CAAC,GAAL,CAAS,QAAT,EAAmB,QAAQ,CAAC,MAAT,GAAkB,CAArC,CAAZ;AACA,QAAM,SAAS,GAAG,GAAG,KAAK,CAAR,GAAY,+EAAZ,GAAgC,GAAG,CAAC,QAAJ,EAAlD;AAEA,SACE,qEAAK,SAAS,EAAC,gBAAf,EAAgC,aAAU,gBAA1C;AACE,8DAAC,sDAAD;AACG,GAAC,EAAE,KAAF,EAAD;AACC;;;;;AAKE;AACF,8DAAC,2DAAD,IACE,EAAE,EAAE,+EADN,EAEE,SAAS,EAAE,SAFb,EAGE,YAAY,EAAE,MAAM,wHAHtB,EAIE,SAAS,EAAE,KAJb,EAKE,QAAQ,EAAE,KALZ,EAME,aAAa,MANf;AAQG,oGAAQ,MAAR,SAAQ,EAAK,CAAC,EAAD,EAAK,KAAL;AACZ;AACA;AACA;AACA,8DAAC,2DAAD,CAAM,OAAN,IACE,GAAG,EAAE,KAAK,KAAK,CAAV,GAAc,+EAAd,GAAkC,KAAK,CAAC,QAAN,EADzC;AAGE,8DAAC,+EAAD,IACE,aAAa,EAAE,eAAe,CAAC,EAAD;AAC9B;AAFF,MAGE,KAAK,EAAE,kFAAoB,GAAG,CAHhC,CAGmC;AAHnC,MAIE,KAAK,EAAE,KAJT,EAKE,kBAAkB,EAAE,KAAK,KAAK,QALhC,GAHF,CAJO,CARX,CARJ,CADF,CADF;;;;;AAuCD,CA3FD,C,cAAM,kB,mPACoB,wD,EAGF,wD,EAGI,wD,EAOT,wD;AA+EJ,kB,CAAA,yE,iLA7FT,kB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCzCN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AAEA;AAMA;AACO,MAAM,gBAAgB,GAAG,MAAK;AACnC,QAAM,CAAC,aAAD,EAAgB,gBAAhB,IAAoC,sDAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAAC,oBAAD,EAAuB,uBAAvB,IAAkD,sDAAQ,iBAC9D,sEAAW,CAAC,wDAAU,CAAC,WAAZ,CADmD,2BACvB,IADuB,CAAhE;AAGA,QAAM,iBAAiB,GAAG,+DAAW,CACnC,KAAK,+DAAI,KAAK,CAAC,aAAN,CAAoB,QAAxB,qBAAI,sBAA8B,mBAAlC,EAD8B,CAArC;AAGA,QAAM,OAAO,GAAG,+DAAW,CACzB,CAAC,EAAE,aAAF,EAAD,KAAuB,aAAa,CAAC,cADZ,CAA3B;AAIA,QAAM,OAAO,GAAG,iFAAU,EAA1B;AACA,QAAM,YAAY,GAAG,2FAAsB,OAAtB,CAArB;AAEA,QAAM,oBAAoB,GACxB,iBAAiB;AACjB,2EAAgB,CAAC,4DAAW,CAAC,wBAAb,CADhB;AAEC,SAAO,IAAK,CAAC,OAAD,IAAY,YAAY,CAAC,MAAb,KAAwB,CAFjD,CADF;AAKA,QAAM,mBAAmB,GAAG,yGAAY,MAAZ,aAAY,EACtC,CAAC,EAAE,aAAF,EAAD,KAAuB,aADe,CAAxC;AAGA,QAAM,QAAQ,GAAG,+FAAwB,EAAzC;AACA,QAAM,aAAa,GACjB,aAAa;AACb,GAAC,oBADD;AAEA,IACE,oBAAoB;AACpB,qBAAmB,CAAC,MADpB;AAEA,gHAAmB,MAAnB,oBAAmB,EACjB,CAAC,EAAE,EAAF,EAAD,qDAAY,yBAAQ,CAAC,EAAD,CAAR,2DAAc,WAAd,2CAA2B,KAA3B,MAAqC,SAAjD,EADiB,CAHrB,CAHF;AAWA,QAAM,0BAA0B,GAAI,OAAD,IAAsB;AACvD,2BAAuB,CAAC,OAAD,WAAC,OAAD,GAAY,CAAC,oBAAb,CAAvB;AACD,GAFD;AAIA,yDAAS,CAAC,MAAK;AACb,QACE,YAAY,CAAC,MAAb,KAAwB,CAAxB;AACA,wBADA;AAEA,wBAHF,EAIE;AACA,gCAA0B,CAAC,KAAD,CAA1B;AACD;AACF,GARQ,EAQN,CAAC,YAAY,CAAC,MAAd,CARM,CAAT;AAUA,yDAAS,CAAC,MAAK;AACb,QAAI,aAAJ,EAAmB;AACjB,sBAAgB,CAAC,IAAD,CAAhB;AACD;AACF,GAJQ,EAIN,CAAC,aAAD,CAJM,CAAT;AAMA,SAAO;AACL,iBADK;AAEL,wBAFK;AAGL,8BAHK;AAIL,wBAJK,EAAP;;AAMD,CA7DM,C,cAAM,gB,gTAKe,uD,EAGV,uD,EAIA,yE,EAWC,uF,oLAvBN,gB;;;;;;;;;;;;;;;;;;;wSC/Bb;;;;;;;;;;;;;;;;;AAiBG;AACH;AAKA;AAEO,MAAM,yBAAyB,GAAI,eAAD,IAAqC;AAC5E,QAAM,aAAa,GAAG,eAAe,CAAC,8EAAD,CAArC;AACA,QAAM,WAAW,GAAG,aAAa,CAAC,QAAd,CAAuB,CAAvB,CAApB;AACA,SAAO,WAAW,KAAK,8EAAhB;AACH,iBAAe,CAAC,8EAAD,CADZ;AAEH,iBAAe,CAAC,WAAD,CAFnB;AAGD,CANM;AAQA,MAAM,eAAe,GAAG,CAC7B,KAD6B,EAE7B,SAF6B;AAI7B;AACA,KAAK,CAAC,MAAN,CAAa,SAAb,KAA2B,mBAA3B;AACC,cAAc,IAAd,CAAmB,KAAK,CAAC,MAAN,CAAa,SAAhC;AACC,SAAS,CAAC,QAAV,CAAmB,KAAK,CAAC,MAAzB,CAPG;AASA,MAAM,oBAAoB,GAAG,CAClC,eADkC,EAElC,iBAFkC,KAIlC,IAAI,CAAC,GAAL,CACE,CADF,EAEE,4FAAyB,CAAC;AACxB,kBAAgB,EAAE,yBAAyB,CAAC,eAAD,CADnB;AAExB,mBAFwB,EAAD,CAF3B,CAJK,C,iLAjBM,yB,qLAQA,e,2KASA,oB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC1Cb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA,MAAMxO,SAAS,GAAG;AAChBuS,OAAK,EAAErS,iDAAS,CAACI,MAAV,CAAiBC,UADR;AAEhBiP,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UAFT;AAGhBiS,eAAa,EAAEC,+DAAc,CAAClS,UAHd;AAIhBmS,qBAAmB,EAAExS,iDAAS,CAACa,IAAV,CAAeR,UAJpB;AAKhBoS,oBAAkB,EAAEzS,iDAAS,CAACkB,IAAV,CAAeb,UALnB;AAMhBqS,iBAAe,EAAE1S,iDAAS,CAACa,IAAV,CAAeR,UANhB;AAOhBsS,sBAAoB,EAAE3S,iDAAS,CAACa,IAAV,CAAeR,UAPrB;AAQhBK,OAAK,EAAEV,iDAAS,CAACI,MAAV,CAAiBC,UARR,EAAlB;;;AAWA,MAAM8B,YAAY,GAAG,EAArB;;AAEA,MAAMyQ,aAAN,SAA4B9P,4CAAK,CAACC,aAAlC,CAAgD;AAC9CC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACXkJ,gBAAU,EAAE,KADD;AAEXC,iBAAW,EAAE,IAFF,EAAb;;;AAKA,SAAKC,iBAAL,GAAyB,2GAAKA,iBAAL,iBAA4B,IAA5B,CAAzB;AACA,SAAKC,YAAL,GAAoB,4GAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACA,SAAKC,gBAAL,GAAwB,4GAAKA,gBAAL,kBAA2B,IAA3B,CAAxB;AACA,SAAKC,uBAAL,GAA+B,4GAAKA,uBAAL,kBAAkC,IAAlC,CAA/B;AACA,SAAKC,mBAAL,GAA2B,4GAAKA,mBAAL,kBAA8B,IAA9B,CAA3B;AACA,SAAKC,UAAL,GAAkB,4GAAKA,UAAL,kBAAqB,IAArB,CAAlB;AACA,SAAKC,eAAL,GAAuB,4GAAKA,eAAL,kBAA0B,IAA1B,CAAvB;AACD;;AAEDF,qBAAmB,CAACG,SAAD,EAAY;AAC7B,QAAIA,SAAS,IAAI,KAAKC,IAAtB,EAA4B;AAC1B;AACED,iBAAS,CAACE,qBAAV,GAAkCC,MAAlC;AACA,aAAKF,IAAL,CAAUC,qBAAV,GAAkCE,GADlC;AAEA,SAHF;;AAKD;AACD,WAAO,IAAP;AACD;;AAEDN,YAAU,CAACO,GAAD,EAAM;AACd,SAAKJ,IAAL,GAAYI,GAAZ;AACD;;AAEDZ,mBAAiB,CAAC,EAAEY,GAAF,EAAOC,SAAP,EAAD,EAAqB;AACpC,QAAId,WAAW,GAAG,IAAlB;AACA,QAAIc,SAAS,KAAK,QAAd,IAA0BA,SAAS,KAAK,aAA5C,EAA2D;AACzDd,iBAAW,GAAG,KAAKK,mBAAL,CAAyBQ,GAAzB,CAAd;AACD;;AAED,SAAK5J,QAAL,CAAc,OAAO;AACnB8I,gBAAU,EAAE,IADO;AAEnBC,iBAFmB,EAAP,CAAd;;AAID;;AAEDE,cAAY,CAAC,EAAEW,GAAF,EAAOC,SAAP,EAAD,EAAqB;AAC/B,QAAIA,SAAS,KAAK,QAAd,IAA0BA,SAAS,KAAK,aAA5C,EAA2D;AACzD,WAAK7J,QAAL,CAAc,OAAO,EAAE+I,WAAW,EAAE,KAAKK,mBAAL,CAAyBQ,GAAzB,CAAf,EAAP,CAAd;AACD;AACF;;AAEDV,kBAAgB,CAAC,EAAEjB,EAAF,EAAM6B,aAAa,EAAEnT,KAArB,EAA4BoT,cAAc,EAAEnT,MAA5C,EAAD,EAAuD;AACrE,SAAKsC,KAAL,CAAWyP,eAAX,CAA2B,EAAEV,EAAF,EAAMtR,KAAN,EAAaC,MAAb,EAA3B;;AAEA,SAAKoJ,QAAL,CAAc,OAAO;AACnB8I,gBAAU,EAAE,KADO;AAEnBC,iBAAW,EAAE,IAFM,EAAP,CAAd;;AAID;;AAEDI,yBAAuB,CAACa,UAAD,EAAa;AAClC,QAAIA,UAAJ,EAAgB;AACd,WAAK9Q,KAAL,CAAWuP,mBAAX,CAA+B;AAC7B,WAAGuB,UAD0B;AAE7BC,mBAAW,EAAE;AACX,aAAGD,UAAU,CAACC,WADH;AAEX;AACAC,eAAK,EAAE,CAHI,EAFgB,EAA/B;;;AAQD;AACF;;AAEDZ,iBAAe,CAAC,EAAEa,cAAF,EAAD,EAAqB;AAClC,SAAKjR,KAAL,CAAW0P,oBAAX,CAAgCuB,cAAhC;AACD;;AAED9O,QAAM,GAAG;AACP,UAAM;AACJkN,mBADI;AAEJE,yBAFI;AAGJH,WAHI;AAIJ/C,cAJI;AAKJ5O,WALI;AAMJ+R,wBANI;AAOF,SAAKxP,KAPT;AAQA,UAAMkR,qBAAqB;AACzB,KAACzT,KAAK,GAAG0T,gEAAT,IAA6BC,iEAD/B;;AAGA,UAAMC,WAAW,GAAGH,qBAAqB,GAAGC,gEAA5C;AACA,UAAM,EAAEvB,UAAF,EAAcC,WAAd,KAA8B,KAAKnJ,KAAzC;;AAEA,WAAOjJ,KAAK,GAAG,GAAR,GAAc,IAAd;AACL,wEAAK,SAAS,EAAC,gBAAf,EAAgC,GAAG,EAAE,KAAK0S,UAA1C;AACE,wEAAK,SAAS,EAAC,cAAf,EAA8B,aAAU,cAAxC;;AAEG9D,YAAQ;AACP,+DAAC,0DAAD;AACE,eAAS,EAAEgD,aADb;AAEE,WAAK,EAAED,KAFT;AAGE,qBAAe,EAAE,IAHnB;AAIE,WAAK,EAAE,CAJT;AAKE,iBAAW,EAAC,QALd;AAME,YAAM,EAAE,KAAKa,uBANf;AAOE,eAAS,EAAC,kBAPZ;AAQE,cAAQ,MARV;;AAUG,KAAC,EAAEqB,kBAAF,EAAD;AACCA,sBAAkB;AAChB,wEAAK,SAAS,EAAC,uCAAf,GAZN,CAHJ;;;;;;AAqBG,0GAAAjC,aAAa,CAACkC,QAAd,kBAA2B,CAACxC,EAAD,EAAKiC,KAAL;AAC1B,+DAAC,sEAAD;AACE,SAAG,EAAEjC,EADP;AAEE,QAAE,EAAEA,EAFN;AAGE,cAAQ,EAAEM,aAAa,CAACN,EAH1B;AAIE,WAAK,EAAEK,KAAK,GAAG,CAJjB;AAKE,WAAK,EAAE4B,KALT;AAME,0BAAoB,EAAEI,iEANxB;AAOE,iBAAW,EAAEC,WAPf;AAQE,wBAAkB,EAAE7B,kBARtB;AASE,mBAAa,EAAE,KAAKM,iBATtB;AAUE,cAAQ,EAAE,KAAKC,YAVjB;AAWE,kBAAY,EAAE,KAAKC,gBAXrB;AAYE,iBAAW,EAAE,KAAKI,eAZpB,GADD,CArBH;;;;;AAuCG/D,YAAQ,IAAIgD,aAAa,CAACkC,QAAd,CAAuB9J,MAAvB,GAAgC,CAA5C;AACC,+DAAC,0DAAD;AACE,eAAS,EAAE4H,aADb;AAEE,WAAK,EAAED,KAFT;AAGE,qBAAe,EAAE,IAHnB;AAIE,WAAK,EAAEC,aAAa,CAACkC,QAAd,CAAuB9J,MAJhC;AAKE,iBAAW,EAAC,QALd;AAME,YAAM,EAAE8H,mBANV;AAOE,eAAS,EAAC,kBAPZ;AAQE,cAAQ,MARV;;AAUG,KAAC,EAAE+B,kBAAF,EAAD;AACCA,sBAAkB;AAChB,wEAAK,SAAS,EAAC,oCAAf,GAZN,CAxCJ;;;;;;AA0DG1B,cAAU;AACT,kNAAA4B,KAAK,CAACJ,iEAAD,CAAL;AACQ,QADR;AAEO,KAACK,CAAD,EAAIC,CAAJ;AACH;AACE,SAAG,EAAG,eAAcA,CAAE,EADxB;AAEE,eAAS,EAAC,mBAFZ;AAGE,WAAK,EAAE;AACLC,YAAI,EAAED,CAAC,GAAGP,gEAAJ,GAAuBO,CAAC,GAAGL,WAD5B;AAEL5T,aAAK,EAAE4T,WAFF,EAHT,GAHJ,CA3DJ;;;;;AAwEGzB,cAAU,IAAIC,WAAd;AACC;AACE,eAAS,EAAC,gBADZ;AAEE,WAAK,EAAE;AACLY,WAAG,EAAEZ,WADA;AAELpS,aAFK,EAFT,GAzEJ,CADF,CADF;;;;;;;AAsFD,GAjL6C;AAAA;AAAA;AAoLhDkS,aAAa,CAAC9S,SAAd,GAA0BA,SAA1B;AACA8S,aAAa,CAACzQ,YAAd,GAA6BA,YAA7B,C;;AAEeyQ,a,CAAA,yE,iLApMT9S,S,4JAWAqC,Y,+JAEAyQ,a;;;;;;;;;;;;;;;;;;;;;wSCxCN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA,MAAM9S,SAAS,GAAG;AAChB+U,UAAQ,EAAE7U,iDAAS,CAACa,IAAV,CAAeR,UADT,EAAlB;;;AAIA,MAAM8B,YAAY,GAAG,EAArB;;AAEe,MAAM2S,qBAAN,SAAoChS,4CAAK,CAACC,aAA1C,CAAwD;AACrEqC,QAAM,GAAG;AACP,UAAM,EAAEyP,QAAF,KAAe,KAAK5R,KAA1B;AACA,WAAO,2DAAC,mDAAD,IAAY,OAAO,EAAE4R,QAArB,EAA+B,SAAS,EAAC,aAAzC,GAAP;AACD,GAJoE;AAAA;AAAA;AAOvEC,qBAAqB,CAAChV,SAAtB,GAAkCA,SAAlC;AACAgV,qBAAqB,CAAC3S,YAAtB,GAAqCA,YAArC,C,iLAdMrC,S,oKAIAqC,Y,uKAEe2S,qB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC7BrB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;;AAkBA,MAAM,mBAAmB,GAAG,CAAC,EAC3B,4BAA4B,GAAG,EADJ,EAE3B,iBAAiB,GAAG,EAFO,EAG3B,sBAAsB,GAAG,EAHE,EAI3B,eAAe,GAAG,EAJS,EAK3B,uBAL2B,EAM3B,QAN2B,EAAD,KAOJ;AACtB,QAAM,KAAK,GAAG,kEAAQ,EAAtB;AAEA,QAAM,qBAAqB,GAAG,MAAK;AACjC,UAAM,MAAM,GAAG,EAAf;AACA,QAAI,4BAA4B,CAAC,MAAjC,EAAyC;AACvC,YAAM,CAAC,IAAP,CAAY,qBAAZ;AACD;AACD,QAAI,iBAAiB,CAAC,MAAtB,EAA8B;AAC5B,YAAM,CAAC,IAAP,CAAY,SAAZ;AACD;AACD,QAAI,sBAAsB,CAAC,MAA3B,EAAmC;AACjC,YAAM,CAAC,IAAP,CAAY,cAAZ;AACD;AACD,QAAI,MAAM,CAAC,MAAX,EAAmB;AACjB,aAAO,MAAP;AACD;AACD,WAAO,CAAC,OAAD,CAAP;AACD,GAfD;AAiBA,QAAM,CAAC,YAAD,EAAe,eAAf,IAAkC,sDAAQ,CAAW,MAAM;AAC/D,KAAG,qBAAqB,EADuC,CAAjB,CAAhD;;AAIA,WAAS,mBAAT,CAA6B,MAA7B,EAA4C;AAC1C;AACA,QAAI,MAAJ,EAAY;AACV,qBAAe,CAAC,qBAAqB,EAAtB,CAAf;AACD;AACF;AAED,WAAS,uBAAT,CAAiC,MAAjC,EAA0D;AACxD;AACA,QAAI,OAAO,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,qBAAe,CAAC,CAAC,MAAD,CAAD,CAAf;AACD,KAFD;AAEO;AACL,qBAAe,CAAC,MAAD,CAAf;AACD;AACF;AAED,QAAM,YAAY,GAAI,SAAD,IACnB,GAAG,SAAS,CAAC,MAAM,MAAM,SAAS,CAAC,IAAI,EADzC;AAGA,QAAM,OAAO,GACX,2DAAC,mFAAD;AACE,6DAAC,qDAAD,IACE,MAAM,eAAE,0DAAF;;;AAGoB,SAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAH3C;;;;;;;;;;AAasB,SAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAb7C;AAcuB,SAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAd9C;;;;;;;AAqByB,SAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KArBhD;AAsBwB,SAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAtB/C;;;;;;;AA6BsB,SAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KA7B7C;AA8BwB,SAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KA9B/C;;;;;;;AAqCyB,SAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KArChD;AAsCuB,SAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAtC9C;;;;AA0CS,SAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MA1ChC,m6VADR,GADF;;;;AAiDE,6DAAC,mFAAD;AACE,6DAAC,gEAAD,IACE,KAAK,MADP,EAEE,KAAK,MAFP,EAGE,SAAS,EAAE,YAHb,EAIE,QAAQ,EAAE,uBAJZ;AAMG,8BAA4B,CAAC,MAA7B,GACC,2DAAC,gEAAD,CAAU,KAAV,IACE,GAAG,EAAC,qBADN,EAEE,MAAM,EACJ,2DAAC,mFAAD,IAAO,IAAI,MAAX,EAAY,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,MAAxC;AACE,+DAAC,4DAAD,IACE,IAAI,EAAC,oBADP,EAEE,GAAG,0EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,MAA7B,EAAF,y5VAFL,GADF;AAKG,+DAAC,CACA,4BADA,EAEA,4BAA4B,CAAC,MAF7B,CALJ,CAHJ;;AAeE,6DAAC,oFAAD,IAAQ,GAAG,0EAAE,EAAE,aAAa,EAAE,KAAK,CAAC,QAAN,GAAiB,CAAlC,EAAF,y5VAAX;AACG,wHAA4B,MAA5B,6BAA4B,EAAK,SAAS,IACzC,2DAAC,8FAAD,IACE,GAAG,EAAE,YAAY,CAAC,SAAD,CADnB,EAEE,SAAS,EAAE,SAFb,EAGE,OAAO,EAAE,uBAHX,GAD2B,CAD/B,CAfF,CADD;;AA0BG,MAhCN;AAiCG,mBAAiB,CAAC,MAAlB,GACC,2DAAC,gEAAD,CAAU,KAAV,IACE,GAAG,EAAC,SADN,EAEE,MAAM,EACJ,2DAAC,mFAAD,IAAO,IAAI,MAAX,EAAY,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,IAAxC;AACE,+DAAC,yDAAD,OADF,EACwB,GADxB;AAEG,+DAAC,CAAC,sBAAD,EAAyB,iBAAiB,CAAC,MAA3C,CAFJ,CAHJ;;AASE,6DAAC,oFAAD,IAAQ,GAAG,0EAAE,EAAE,aAAa,EAAE,KAAK,CAAC,QAAN,GAAiB,CAAlC,EAAF,y5VAAX;AACG,6GAAiB,MAAjB,kBAAiB,EAAK,SAAS,IAC9B,2DAAC,8FAAD,IACE,GAAG,EAAE,YAAY,CAAC,SAAD,CADnB,EAEE,SAAS,EAAE,SAFb,EAGE,OAAO,EAAE,uBAHX,GADgB,CADpB,CATF,CADD;;AAoBG,MArDN;AAsDG,wBAAsB,CAAC,MAAvB,GACC,2DAAC,gEAAD,CAAU,KAAV,IACE,GAAG,EAAC,cADN,EAEE,MAAM,EACJ,2DAAC,mFAAD,IAAO,IAAI,MAAX,EAAY,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,KAAb,CAAmB,IAAtC;AACE,+DAAC,yDAAD,OADF,EAC8B,GAD9B;AAEG,+DAAC,CACA,2BADA,EAEA,sBAAsB,CAAC,MAFvB,CAFJ,CAHJ;;AAYE,6DAAC,oFAAD,IAAQ,GAAG,0EAAE,EAAE,aAAa,EAAE,KAAK,CAAC,QAAN,GAAiB,CAAlC,EAAF,y5VAAX;AACG,kHAAsB,MAAtB,uBAAsB,EAAK,SAAS,IACnC,2DAAC,8FAAD,IACE,GAAG,EAAE,YAAY,CAAC,SAAD,CADnB,EAEE,SAAS,EAAE,SAFb,EAGE,OAAO,EAAE,uBAHX,GADqB,CADzB,CAZF,CADD;;AAuBG,MA7EN;AA8EG,iBAAe,CAAC,MAAhB,GACC,2DAAC,gEAAD,CAAU,KAAV,IACE,GAAG,EAAC,OADN,EAEE,MAAM,EACJ,2DAAC,mFAAD,IAAO,IAAI,MAAX,EAAY,KAAK,EAAE,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAA1C;AACE,+DAAC,yDAAD,OADF,EACwB,GADxB;AAEG,+DAAC,CAAC,oBAAD,EAAuB,eAAe,CAAC,MAAvC,CAFJ,CAHJ;AAQE,YAAQ,EAAE,CAAC,eAAe,CAAC,MAR7B;AAUE,6DAAC,oFAAD,IAAQ,GAAG,0EAAE,EAAE,aAAa,EAAE,KAAK,CAAC,QAAN,GAAiB,CAAlC,EAAF,y5VAAX;AACG,2GAAe,MAAf,gBAAe,EAAK,SAAS,IAC5B,2DAAC,8FAAD,IACE,GAAG,EAAE,YAAY,CAAC,SAAD,CADnB,EAEE,SAAS,EAAE,SAFb,EAGE,OAAO,EAAE,uBAHX,GADc,CADlB,CAVF,CADD;;AAqBG,MAnGN,CADF,CAjDF,CADF;;;;AA4JA,SACE,2DAAC,8DAAD,IACE,gBAAgB,EAAC,qBADnB,EAEE,OAAO,EAAE,OAFX,EAGE,eAAe,EAAE,mBAHnB,EAIE,SAAS,EAAC,QAJZ,EAKE,OAAO,EAAC,OALV;AAOG,UAPH,CADF;;AAWD,CAzND,C,cAAM,mB,gIAQU,0D;AAmND,mB,CAAA,yE,iLA3NT,mB;;;;;;;;;;;;;;;;;;;;;;wSC/CN;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AACA;;AAcA,MAAM,eAAe,GAAuB,CAAC,EAC3C,SAAS,EAAE,EAAE,MAAF,EAAU,IAAV,EAAgB,KAAhB,EAAuB,IAAI,GAAG,EAA9B,EADgC,EAE3C,OAAO,GAAG,MAAK,CAAG,CAFyB,EAAD,KAGvC;AACH,QAAM,WAAW,GAAG,kIAAwB,CAAC,KAAD,CAA5C;AACA,SACE,2DAAC,iFAAD,IAAM,OAAO,EAAE,MAAM,OAAO,CAAC,CAAC,GAAG,IAAJ,EAAU,SAAS,MAAM,EAAzB,CAAD,CAA5B;AACE,6DAAC,kFAAD,IAAO,IAAI,MAAX;AACE,6DAAC,qFAAD;AACE,6DAAC,yDAAD,OADF,CADF;;AAIG,MAJH;AAKG,aAAW,GAAG,IAAH,GAAU,EALxB,CADF;;AAQE,6DAAC,wFAAD,QAAc,WAAd,CARF,CADF;;AAYD,CAjBD,C;AAmBe,e,CAAA,yE,iLAnBT,e;;;;;;;;;;;;;;;;;;;;;;;wSCnCN;;;;;;;;;;;;;;;;;AAiBG;AACH;AAEO,MAAM,IAAI,GAAG,wDAAM,CAAC,GAAG;;WAEnB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;gBACvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,IAAI;;;aAG7C,CAAC,EAAE,KAAF,EAAD,KAAe,GAAG,KAAK,CAAC,QAAQ,MAAM,KAAK,CAAC,QAAN,GAAiB,CAAC,IAAI;eAC1D,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,KAAjB,CAAuB,CAAC;;;;;;;;;;;aAWzC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;;;;;;;kBASvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;;;;kBAI3C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,IAAI;;oBAEtC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,KAAK;;;;;aAKhD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;kBACtC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,KAAb,CAAmB,IAAI;;oBAEpC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,KAAb,CAAmB,KAAK;;;eAG5C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;;;;;aAK7C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;kBACvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;eAC/C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;;;;;;oBAMxB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,IAAI;;;AAG7D,CA5DM;AAmEA,MAAM,KAAK,GAAG,wDAAM,CAAC,IAAgB;;kBAE1B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;iBAC9B,CAAC,EAAE,IAAF,EAAQ,KAAR,EAAD,KAAoB;AACjC,MAAI,IAAJ;AAAU,SAAO,KAAK,CAAC,UAAN,CAAiB,OAAjB,CAAyB,IAAhC;AACV,SAAO,MAAP;AACD;WACQ,CAAC,EAAE,KAAF,EAAS,KAAT,EAAD,KAAsB,KAAK,IAAI,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;;oBAInD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;;AAEhD,CAbM;AAeA,MAAM,QAAQ,GAAG,wDAAM,CAAC,CAAC;;;;WAIrB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;AAC3C,CALM;AAOA,MAAM,IAAI,GAAG,wDAAM,CAAC,MAAM;;;;;;;;;;;;;;;;;oBAiBb,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;;;;;;AAMhD,CAvBM;AAyBA,MAAM,KAAK,GAAG,wDAAM,CAAC,GAAG;eAChB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;AAC/C,CAFM;AAIA,MAAM,MAAM,GAAG,wDAAM,CAAC,GAAG;kBACd,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;aACtC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;AAC7C,CAHM;AAKA,MAAM,KAAK,GAAG,wDAAM,CAAC,GAAG;;;;AAI9B,CAJM;AAMA,MAAM,WAAW,GAAG,wDAAM,CAAC,GAAG;;;;WAI1B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;AACtD,CALM,C,iLAjIM,I,8JAmEA,K,+JAeA,Q,kKAOA,I,8JAyBA,K,+JAIA,M,gKAKA,K,+JAMA,W;;;;;;;;;;;;;;;;;;;;;;;wSCrJb;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;;AAYA,MAAM,YAAY,GAAG,CAAC,EACpB,4BADoB,EAEpB,iBAFoB,EAGpB,eAHoB,EAIpB,sBAJoB,EAKpB,uBALoB,EAAD,KAMG;AACtB,MACE,CAAC,4BAA4B,CAAC,MAA9B;AACA,GAAC,iBAAiB,CAAC,MADnB;AAEA,GAAC,sBAAsB,CAAC,MAFxB;AAGA,GAAC,eAAe,CAAC,MAJnB,EAKE;AACA,WAAO,IAAP;AACD;AAED,QAAM,UAAU,GACd,CAAC,4BAA4B,CAAC,MAA9B;AACA,GAAC,iBAAiB,CAAC,MADnB;AAEA,GAAC,sBAAsB,CAAC,MAH1B;AAKA,SACE,2DAAC,qDAAD,IACE,4BAA4B,EAAE,4BADhC,EAEE,iBAAiB,EAAE,iBAFrB,EAGE,eAAe,EAAE,eAHnB,EAIE,sBAAsB,EAAE,sBAJ1B,EAKE,uBAAuB,EAAE,uBAL3B;AAOE,6DAAC,4CAAD,IACE,SAAS,EAAE,iDAAE,CACX,eADW,EAEX,CAAC,CAAC,sBAAsB,CAAC,MAAzB,IAAmC,0BAFxB,EAGX,CAAC,CAAC,4BAA4B,CAAC,MAA/B,IAAyC,mBAH9B,EAIX,UAAU,IAAI,kBAJH,CADf;AAQE,6DAAC,2DAAD,IAAM,IAAI,EAAC,QAAX,GARF;AASG,GAAC,UAAD,IACC,qEAAM,aAAU,sBAAhB;AACG,mBAAiB,CAAC,MAAlB,GAA2B,4BAA4B,CAAC,MAD3D,CAVJ;;AAcG,wBAAsB,CAAC,MAAvB,GACC;AACG,KADH;AAEE,6DAAC,4DAAD,CAAO,UAAP,OAFF;AAGE,uEAAM,aAAU,2BAAhB;AACG,wBAAsB,CAAC,MAD1B,CAHF,CADD;;AAQG,MAtBN,CAPF,CADF;;;AAkCD,CAvDD,C;AAyDe,Y,CAAA,yE,iLAzDT,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSClCN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AAKA;AACA;AAEA;AAEA,IAAY,eAAZ;AAAA,WAAY,eAAZ,EAA2B;AACzB;AACA;AACA;AACA;AACD,CALD,EAAY,eAAe,KAAf,eAAe,MAA3B;AAOA,MAAM,uBAAuB,GAAG,IAAI,kFAAI,4FAAc,sEAAd,CAAR,CAAhC;AAmBA,MAAM,oBAAoB,GAAG,CAC3B,SAD2B,EAE3B,MAF2B,EAG3B,UAH2B,KAIpB;AACP,QAAM,MAAM,GAAG,MAAM,CAAC,OAAP,CAAe,SAAf,CAAf;AACA,QAAM,SAAS,GAAG,6FAAc,MAAd,IAAwB,MAAxB,GAAiC,CAAC,MAAD,CAAnD;AAEA,MACE,MAAM,IAAI,IAAV;AACC,QAAM,CAAC,YAAP,IAAuB,MAAM,KAAK,WADnC;AAEA,WAAS,CAAC,MAAV,KAAqB,CAHvB,EAIE;AACA,WAAO,EAAP;AACD;AAED,MAAI,MAAM,CAAC,YAAP,IAAuB,uBAAuB,CAAC,GAAxB,CAA4B,SAA5B,CAA3B,EAAmE;AACjE,UAAM,kBAAkB,GAAG,wGACzB,CAAC,SAAS,KAAK,sEAAe,CAAC,eAA9B;AACG,cAAU,CAAC,eADd;AAEG,cAAU,CAAC,WAFf,KAE+B,EAHN,iBAKzB,CAAC,GAAD,EAAM,CAAC,GAAD,EAAM,KAAN,CAAN,MAAwB;AACtB,SAAG,GADmB;AAEtB,OAAC,GAAD,GAAO,KAFe,EAAxB,CALyB;AASzB,MATyB,CAA3B;AAYA,WAAO,mGAAS,MAAT,UAAS,EAAK,KAAK,IAAI,kBAAkB,CAAC,KAAD,CAAlB,IAA6B,KAA3C,CAAhB;AACD;AAED,SAAO,SAAP;AACD,CAjCD;AAmCA,MAAM,kCAAkC,GAAG,CACzC,OADyC,EAEzC,MAFyC,EAGzC,gBAHyC,EAIzC,cAJyC,EAKzC,eALyC,KAM1B;AACf;AACA;AACA;AACA,QAAM,SAAS,GAAG,CAAC,MAAD,EAAiB,MAAjB,KAAmC;AACnD,QAAI,cAAc,CAAC,GAAf,CAAmB,MAAnB,KAA8B,MAAM,CAAC,OAAP,CAAe,MAAf,CAAlC;AACE,WAAO,eAAe,CAAC,OAAvB;AACF,QAAI,eAAe,CAAC,GAAhB,CAAoB,MAApB,CAAJ;AAAiC,WAAO,eAAe,CAAC,YAAvB;AACjC,WAAO,eAAe,CAAC,KAAvB;AACD,GALD;AAOA,SAAO,wSAAY,MAAM,CAAC,OAAnB;AACG,QAAM,0BACZ,sNAAwB,CAAC;AACvB,iBAAW,EAAE,MAAM,CAAC,MAAP,CAAc,MAAd,CADU,EAAD,CAAxB;AAEY,WAFZ,CADY,EADT;AAMA,QAAM,KAAK;AACd,UADc;AAEd,QAAI,EAAE,MAAM,CAAC,MAAP,CAAc,MAAd,KAAyB,MAFjB;AAGd,SAAK,EAAE,oBAAoB,CAAC,MAAD,EAAS,MAAT,EAAiB,gBAAjB,CAHb;AAId,UAAM,EAAE,SAAS,CAAC,MAAD,EAAS,MAAT,CAJH;AAKd,QAAI,EAAE,MAAM,CAAC,kBALC,EAAL,CANN,CAAP;;AAaD,CA9BD;AAgCA,MAAM,iBAAiB,GAAI,KAAD,yEACxB,IAAI,kFACF,sGAAC,MAAK,QAAL,0CAAK,CAAE,eAAP,qEAAyB,CAAzB,6CAA6B,eAA7B,KAAgD,EAAjD,kBACG,MAAD,IAAiB,MAAM,CAAC,MAD1B,CADF,CADwB,EAA1B;AAOA,MAAM,kBAAkB,GAAI,KAAD,0EACzB,IAAI,kFACF,sGAAC,MAAK,QAAL,2CAAK,CAAE,eAAP,sEAAyB,CAAzB,6CAA6B,gBAA7B,KAAiD,EAAlD,kBACG,MAAD,IAAiB,MAAM,CAAC,MAD1B,CADF,CADyB,EAA3B;AAeA;AACO,MAAM,wBAAwB,GAAG,CACtC,OADsC,EAEtC,OAFsC,EAGtC,WAHsC,EAItC,MAJsC,KAKvB;AACf,QAAM,KAAK,GAAG,MAAM,CAAC,OAAD,CAApB;AACA;AACA,MAAI,KAAK,CAAC,WAAN,KAAsB,SAA1B;AAAqC,SAAO,EAAP;AAErC;AACA;AACA,QAAM,cAAc,GAAG,iBAAiB,CAAC,KAAD,CAAxC;AACA,QAAM,eAAe,GAAG,kBAAkB,CAAC,KAAD,CAA1C;AAEA,QAAM,UAAU,GAAG,8SAAc,OAAd;AACT,QAAM,IAAI,MAAM,CAAC,OAAP,KAAmB,OADpB;AAGf,GAAC,GAAD,EAAM,MAAN,KACE,gGAAG,MAAH,IAAG,EACD,kCAAkC,CAChC,OADgC,EAEhC,MAFgC,EAGhC,WAAW,CAAC,MAAM,CAAC,YAAR,CAAX,IAAoC,EAHJ,EAIhC,cAJgC,EAKhC,eALgC,CADjC,CAJU,EAaf,EAbe,CAAnB;AAeA,uGAAU,MAAV,WAAU,EAAM,CAAC,CAAD,EAAI,CAAJ,KAAU,CAAC,CAAC,IAAF,CAAO,aAAP,CAAqB,CAAC,CAAC,IAAvB,CAAhB,CAAV;AACA,SAAO,UAAP;AACD,CAhCM;AAkCA,MAAM,8BAA8B,GAAG,CAC5C,aAD4C,EAE5C,QAF4C,EAG5C,OAH4C,EAI5C,MAJ4C,EAK5C,eAL4C,EAM5C,qBAAyC,EANG,KAO7B;AACf,QAAM,KAAK,GAAG,MAAM,CAAC,OAAD,CAApB;AAEA,QAAM,cAAc,GAAG,iBAAiB,CAAC,KAAD,CAAxC;AACA,QAAM,eAAe,GAAG,kBAAkB,CAAC,KAAD,CAA1C;AAEA,QAAM,SAAS,GAAG,CAAC,EACjB,KADiB,EAEjB,MAFiB,EAGjB,IAAI,GAAG,gEAAY,CAAC,aAHH,EAAD,KAQI;AACpB;AACA,UAAM,QAAQ,GAAG,KAAK,KAAK,IAA3B;AACA,QAAI,IAAI,KAAK,gEAAY,CAAC,YAAtB,IAAsC,QAA1C,EAAoD;AAClD,aAAO,eAAe,CAAC,kBAAvB;AACD;AACD,QAAI,CAAC,MAAD,IAAW,QAAf,EAAyB;AACvB;AACA,aAAO,eAAe,CAAC,OAAvB;AACD;AACD,QAAI,MAAM,IAAI,eAAe,CAAC,GAAhB,CAAoB,MAApB,CAAd;AACE,WAAO,eAAe,CAAC,YAAvB;AACF,QAAI,MAAM,IAAI,cAAc,CAAC,GAAf,CAAmB,MAAnB,CAAV,IAAwC,QAA5C,EAAsD;AACpD,aAAO,eAAe,CAAC,OAAvB;AACD;AACD,WAAO,eAAe,CAAC,KAAvB;AACD,GAxBD;AA0BA,MAAI,sBAAsB,GAAQ,EAAlC;AACA,MAAI,2EAAgB,CAAC,8DAAW,CAAC,wBAAb,CAApB,EAA4D;AAC1D,0BAAsB,GAAG,4SAAc,aAAa,CAAC,OAA5B;AACf,gBAAY,2BAClB,0OAAmB,CAAC,YAAY,CAAC,KAAd,EAAqB,eAArB,CAAnB,mBACE,UAAU,8DAAI,yCAAe,CAAC,UAAD,CAAf,qEAA6B,IAA7B,4CAAmC,OAAnC,MAA+C,OAAnD,EADZ,CADkB,EADG;AAMlB,gBAAY,IAAG;AAClB,YAAM,MAAM,4BAAG,YAAY,CAAC,OAAb,CAAqB,CAArB,CAAH,+CAAG,sBAAyB,MAA5B,qBAAG,uBAAiC,IAAhD;AACA,UAAI,KAAK,8DACP,QAAQ,CAAC,YAAY,CAAC,EAAd,CADD,+CACP,uBAA2B,WADpB,qBACP,uBAAwC,KADjC;AAEP,cAAQ,CAAC,YAAY,CAAC,EAAd,CAFD,+CAEP,uBAA2B,WAFpB,qBAEP,uBAAwC,KAFjC;AAGP,UAHF;AAIA,UAAI,CAAC,6FAAc,KAAd,CAAD,IAAyB,KAAK,KAAK,IAAvC,EAA6C;AAC3C,aAAK,GAAG,CAAC,KAAD,CAAR;AACD;AACD,aAAO;AACL,cADK;AAEL,YAAI,EAAE,YAAY,CAAC,IAFd;AAGL,YAAI,EAAE,CAAC,YAAY,CAAC,EAAd,CAHD;AAIL,cAAM,EAAE,SAAS,CAAC,EAAE,KAAF,EAAS,MAAT,EAAD,CAJZ;AAKL,aALK,EAAP;;AAOD,KAtBsB,CAAzB;AAuBD;AAED,MAAI,qBAAqB,GAAQ,EAAjC;AACA,MAAI,2EAAgB,CAAC,8DAAW,CAAC,uBAAb,CAApB,EAA2D;AACzD,yBAAqB,GAAG,uZAAc,kBAAd;AACd,eAAW,kDACjB,0OAAmB,CACjB,WADiB,6CACjB,WAAW,CAAE,YADI,qBACjB,sBAA2B,KADV,EAEjB,eAFiB,CAAnB,mBAIE,UAAU,+DAAI,0CAAe,CAAC,UAAD,CAAf,sEAA6B,IAA7B,4CAAmC,OAAnC,MAA+C,OAAnD,EAJZ,CADiB,EADG;AASjB,eAAW,IAAG;AACjB,UAAI,KAAK,+DACP,QAAQ,CAAC,WAAW,CAAC,EAAb,CADD,+CACP,uBAA0B,WADnB,qBACP,uBAAuC,KADhC;AAEP,cAAQ,CAAC,WAAW,CAAC,EAAb,CAFD,+CAEP,uBAA0B,WAFnB,qBAEP,uBAAuC,KAFhC;AAGP,UAHF;AAIA,UAAI,CAAC,6FAAc,KAAd,CAAD,IAAyB,KAAK,KAAK,IAAvC,EAA6C;AAC3C,aAAK,GAAG,CAAC,KAAD,CAAR;AACD;AACD,aAAO;AACL,YAAI,yBAAE,oMAAc,eAAd,oBACJ,UAAU,iCAAI,WAAU,QAAV,0CAAU,CAAE,IAAZ,sCAAkB,OAAlB,MAA8B,WAAW,CAAC,EAA9C,EADN,CAAF,8CAAE,oBAEH,IAFC,qBAAE,sBAEG,SAHJ;AAIL,YAAI,EAAE,CAAC,GAAG,WAAW,CAAC,EAAE,EAAlB,CAJD;AAKL,cAAM,EAAE,SAAS,CAAC;AAChB,eADgB;AAEhB,cAAI,EAAE,gEAAY,CAAC,YAFH,EAAD,CALZ;;AASL,aATK,EAAP;;AAWD,KA5BqB;AA6Bd,UAAM,IAAI,MAAM,CAAC,MAAP,KAAkB,eAAe,CAAC,kBA7B9B,CAAxB;AA8BD;AACD,SAAO,kHAAqB,MAArB,sBAAqB,EAAQ,sBAAR,CAA5B;AACD,CApGM,C,iLAtJK,e,2KAON,uB,mLAmBA,oB,gLAmCA,kC,8LAgCA,iB,6KAOA,kB,8KAgBO,wB,oLAkCA,8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCnLb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAMhV,SAAS,GAAG;AAChBiV,iBAAe,EAAE/U,iDAAS,CAACa,IAAV,CAAeR,UADhB;AAEhBoJ,gBAAc,EAAEzJ,iDAAS,CAACa,IAAV,CAAeR,UAFf;AAGhBgN,eAAa,EAAErN,iDAAS,CAACC,MAAV,CAAiBI,UAHhB;AAIhBE,aAAW,EAAEP,iDAAS,CAACI,MAAV,CAAiBC,UAJd;AAKhB2U,gBAAc,EAAEhV,iDAAS,CAACgB,MAAV,CAAiBX,UALjB;AAMhB4U,WAAS,EAAEjV,iDAAS,CAACgB,MAAV,CAAiBX,UANZ;AAOhB6U,gBAAc,EAAElV,iDAAS,CAACgB,MAPV;AAQhBmU,aAAW,EAAEnV,iDAAS,CAACgB,MARP;AAShBoL,UAAQ,EAAEpM,iDAAS,CAACa,IAAV,CAAeR,UATT;AAUhB+U,WAAS,EAAEpV,iDAAS,CAACa,IAAV,CAAeR,UAVV;AAWhBgV,uBAAqB,EAAErV,iDAAS,CAACa,IAAV,CAAeR,UAXtB;AAYhBiV,kBAAgB,EAAEtV,iDAAS,CAACI,MAAV,CAAiBC,UAZnB;AAahBkV,+BAA6B,EAAEvV,iDAAS,CAACkB,IAAV,CAAeb,UAb9B;AAchBmV,qBAAmB,EAAExV,iDAAS,CAACa,IAAV,CAAeR,UAdpB;AAehBoV,qBAAmB,EAAEzV,iDAAS,CAACa,IAAV,CAAeR,UAfpB;AAgBhBiP,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UAhBT;AAiBhBqV,aAAW,EAAE1V,iDAAS,CAACkB,IAAV,CAAeb,UAjBZ;AAkBhBsV,cAAY,EAAE3V,iDAAS,CAACkB,IAAV,CAAeb,UAlBb;AAmBhBuV,aAAW,EAAE5V,iDAAS,CAACkB,IAAV,CAAeb,UAnBZ;AAoBhBgF,WAAS,EAAErF,iDAAS,CAACkB,IAAV,CAAeb,UApBV;AAqBhB6N,QAAM,EAAElO,iDAAS,CAACC,MAAV,CAAiBI,UArBT;AAsBhBwV,gBAAc,EAAE7V,iDAAS,CAACC,MAAV,CAAiBI,UAtBjB;AAuBhByV,QAAM,EAAE9V,iDAAS,CAACa,IAAV,CAAeR,UAvBP;AAwBhB0V,qBAAmB,EAAE/V,iDAAS,CAACa,IAAV,CAAeR,UAxBpB;AAyBhB2V,cAAY,EAAEhW,iDAAS,CAACI,MAzBR;AA0BhB6V,gBAAc,EAAEjW,iDAAS,CAACgB,MA1BV;AA2BhBkV,kBAAgB,EAAElW,iDAAS,CAACI,MAAV,CAAiBC,UA3BnB,EAAlB;;;AA8BA,MAAM8B,YAAY,GAAG;AACnB+S,gBAAc,EAAEiB,SADG;AAEnBhB,aAAW,EAAEgB,SAFM;AAGnBH,cAAY,EAAE,CAHK;AAInBC,gBAAc,EAAE,IAJG,EAArB;;;AAOA,MAAMG,SAAS,GAAG;AAChBC,YAAU,EAAE,YADI;AAEhBC,iBAAe,EAAE,iBAFD;AAGhBC,mBAAiB,EAAE,mBAHH;AAIhBC,mBAAiB,EAAE,mBAJH;AAKhBC,oBAAkB,EAAE,oBALJ;AAMhBC,iBAAe,EAAE,iBAND;AAOhBC,UAAQ,EAAE,UAPM;AAQhBC,mBAAiB,EAAE,mBARH;AAShBC,mBAAiB,EAAE,mBATH,EAAlB;;;AAYA,MAAMC,cAAc,GAAGzU,wDAAM,CAACC,GAAI;AAClC,iBAAiB,CAAC,EAAEE,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,GAAI;AACrD,CAFA;;AAIA,MAAMuL,wBAAwB,GAAG,YAAjC;;AAEA,MAAMC,qBAAN,SAAoClU,4CAAK,CAACC,aAA1C,CAAwD;AACtD,SAAOkU,cAAP,GAAwB;AACtB9N,UAAM,CAACC,QAAP,CAAgB8N,MAAhB;AACD;;AAEDlU,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACX6C,SAAG,EAAEvJ,KAAK,CAACgS,SADA;AAEXkC,kBAAY,EAAE,EAFH,EAAb;;;AAKA,SAAK1K,SAAL,GAAiB,2GAAKA,SAAL,iBAAoB,IAApB,CAAjB;AACA,SAAK2K,qBAAL,GAA6B,4GAAKA,qBAAL,kBAAgC,IAAhC,CAA7B;AACA,SAAKC,eAAL,GAAuB,4GAAKA,eAAL,kBAA0B,IAA1B,CAAvB;AACD;;AAEDC,2BAAyB,GAAG;AAC1BC,uFAAe,CAAC,KAAK5N,KAAL,CAAW6C,GAAZ,CAAf;;AAEAgL,6DAAc,CAACC,GAAf,CAAmB,EAAEC,QAAQ,EAAE,qCAAZ,EAAnB;AACGvN,QADH,CACQ,CAAC,EAAEwN,IAAF,EAAD,KAAc;AAClB,YAAMR,YAAY,GAAG,sGAAAQ,IAAI,CAACC,MAAL,kBAAgBC,GAAG,KAAK;AAC3CC,aAAK,EAAED,GAAG,CAACE,aADgC;AAE3CvL,WAAG,EAAEqL,GAAG,CAACrL,GAFkC;AAG3CwL,aAAK,EAAEH,GAAG,CAACE,aAHgC,EAAL,CAAnB,CAArB;;AAKA,WAAKhO,QAAL,CAAc,EAAEoN,YAAF,EAAd;AACD,KARH;AASG/M,SATH,CASS,MAAM;AACX,WAAKnH,KAAL,CAAWwG,cAAX;AACEhE,iEAAC,CAAC,0DAAD,CADH;;AAGD,KAbH;AAcD;;AAEDgH,WAAS,CAACD,GAAD,EAAM;AACb,SAAKzC,QAAL,CAAc,EAAEyC,GAAF,EAAd,EAAuB,MAAM;AAC3B+K,yFAAe,CAAC/K,GAAD,CAAf;AACD,KAFD;AAGA,SAAKvJ,KAAL,CAAWmJ,QAAX;AACA,SAAKnJ,KAAL,CAAWmS,SAAX,CAAqB5I,GAArB;AACD;;AAED4K,uBAAqB,CAACa,eAAD,EAAkBC,YAAlB,EAAgC;AACnD,SAAKjV,KAAL,CAAWuS,mBAAX,CAA+ByC,eAA/B,EAAgDC,YAAhD;AACA,SAAKjV,KAAL,CAAWwS,mBAAX,CAA+BwC,eAAe,GAAG,IAAjD;AACD;;AAEDZ,iBAAe,CAAC,EAAE9G,GAAF,EAAO4H,QAAP,EAAD,EAAoB;AACjC,YAAQ5H,GAAR;AACE,WAAK6F,SAAS,CAACG,iBAAf;AACE,aAAKtT,KAAL,CAAWoS,qBAAX;AACA;AACF,WAAKe,SAAS,CAACM,eAAf;AACE,aAAKzT,KAAL,CAAW8S,mBAAX;AACA;AACF,WAAKK,SAAS,CAACQ,iBAAf,CAAkC;AAChC;AACA;AACA,gBAAMwB,IAAI,GAAGvP,QAAQ,CAACwP,aAAT;AACX,mDADW,CAAb;;AAGAD,cAAI,CAAClN,KAAL,CAAWoN,UAAX,GAAwB,QAAxB;AACAC,oFAAe;AACbxB,kCADa;AAEb,eAAK9T,KAAL,CAAW+R,cAFE,CAAf;AAGEmD,kBAHF,EAGYhO,IAHZ,CAGiB,MAAM;AACrBiO,gBAAI,CAAClN,KAAL,CAAWoN,UAAX,GAAwB,SAAxB;AACD,WALD;AAMA;AACD;AACD,WAAKlC,SAAS,CAACS,iBAAf,CAAkC;AAChC,gBAAMvN,GAAG,GAAGJ,mFAAe;AACzBC,gBAAM,CAACC,QAAP,CAAgBC,QADS;AAEzBmP,6GAAgB,EAFS;AAGzBrP,gBAAM,CAACC,QAAP,CAAgBb,IAHS;AAIzB,WAACkQ,uEAAW,CAACC,yDAAU,CAACC,UAAZ,CAJa,CAA3B;;AAMAxP,gBAAM,CAACC,QAAP,CAAgBwP,OAAhB,CAAwBtP,GAAxB;AACA;AACD;AACD;AACE,cAjCJ;;AAmCD;;AAEDlE,QAAM,GAAG;AACP,UAAM;AACJ4P,oBADI;AAEJzU,iBAFI;AAGJ8M,mBAHI;AAIJiI,sBAJI;AAKJC,mCALI;AAMJjG,cANI;AAOJ2F,eAPI;AAQJC,oBARI;AASJC,iBATI;AAUJjH,YAVI;AAWJ2H,oBAXI;AAYJC,YAZI;AAaJJ,iBAbI;AAcJC,kBAdI;AAeJC,iBAfI;AAgBJvQ,eAhBI;AAiBJ2Q,kBAjBI;AAkBJC,oBAlBI;AAmBJC,sBAnBI;AAoBJnB,qBApBI;AAqBJtL,oBArBI;AAsBF,SAAKxG,KAtBT;;AAwBA,UAAM4V,UAAU,GAAGpT,2DAAC,CAAC,oBAAD,CAApB;AACA,UAAM8D,YAAY,GAAI,GAAEsP,UAAW,IAAG7D,cAAe,EAArD;AACA,UAAM1K,SAAS,GAAG7E,2DAAC,CAAC,4BAAD,CAAnB;AACA,UAAM6D,GAAG,GAAGJ,mFAAe;AACzBC,UAAM,CAACC,QAAP,CAAgBC,QADS;AAEzBmP,uGAAgB,EAFS;AAGzBrP,UAAM,CAACC,QAAP,CAAgBb,IAHS,CAA3B;;;AAMA,UAAM6P,IAAI;AACR,gEAAC,0DAAD;AACE,aAAO,EAAE,KAAKf,eADhB;AAEE,gBAAU,EAAE,KAFd;AAGE,mBAAU,qBAHZ;;AAKGzB,eAAW;AACV,gEAAC,0DAAD,CAAM,IAAN,IAAW,GAAG,EAAEQ,SAAS,CAACC,UAA1B;AACE,gEAAC,2EAAD;AACE,qBAAe,EAAE,KAAKpT,KAAL,CAAW8R,eAD9B;AAEE,oBAAc,EAAE,KAAK9R,KAAL,CAAWwG,cAF7B;AAGE,iBAAW,EAAElJ,WAHf;AAIE,oBAAc,EAAEyU,cAJlB;AAKE,mBAAa,EAAE3H,aALjB;AAME,cAAQ,EAAEyL,oFANZ;AAOE,YAAM,EAAE5K,MAPV;AAQE,oBAAc,EAAE2H,cARlB;AASE,sBAAgB,EAAEP,gBATpB;AAUE,mCAA6B,EAAEC,6BAVjC;AAWE,sBAAgB,EAAEW,gBAXpB;AAYE,eAAS,EAAEjB,SAZb;AAaE,oBAAc,EAAEC,cAblB;AAcE,iBAAW,EAAEC,WAdf;AAeE,YAAM,EAAEW,MAfV;AAgBE,iBAAW;AACT,4EAAM,aAAU,mBAAhB,IAAqCrQ,2DAAC,CAAC,SAAD,CAAtC,CAjBJ;;AAmBE,kBAAY,EAAEiQ,WAnBhB,GADF,CANJ;;;;AA8BGC,gBAAY;AACX,gEAAC,qFAAD;AACE,SAAG,EAAErM,GADP;AAEE,uBAAiB,EAAE7D,2DAAC,CAAC,oBAAD,CAFtB;AAGE,wBAAkB,EAAEA,2DAAC,CAAC,0BAAD,CAHvB;AAIE,kBAAY,EAAE8D,YAJhB;AAKE,eAAS,EAAEe,SALb;AAME,qBAAe,EAAEyK,eANnB;AAOE,oBAAc,EAAEtL,cAPlB,GA/BJ;;;AAyCE,gEAAC,0DAAD,CAAM,IAAN;AACE,SAAG,EAAE2M,SAAS,CAACG,iBADjB;AAEE,mBAAU,6BAFZ;AAGE,cAAQ,EAAElR,SAHZ;;AAKGI,+DAAC,CAAC,mBAAD,CALJ,CAzCF;;AAgDE,gEAAC,0DAAD,CAAM,OAAN,OAhDF;AAiDE,gEAAC,0DAAD,CAAM,IAAN,IAAW,GAAG,EAAE2Q,SAAS,CAACI,iBAA1B;AACE,gEAAC,sFAAD;AACE,sBAAgB,EAAElB,gBADpB;AAEE,kBAAY,EAAEU,YAFhB;AAGE,oBAAc,EAAEC,cAHlB;AAIE,cAAQ,EAAE,KAAKmB,qBAJjB;AAKE,cAAQ,EAAE9H,QALZ;AAME,iBAAW,EAAE,0EAAO7J,2DAAC,CAAC,2BAAD,CAAR,CANf,GADF,CAjDF;;;;AA4DG6J,YAAQ;AACP,gEAAC,0DAAD,CAAM,IAAN,IAAW,GAAG,EAAE8G,SAAS,CAACK,kBAA1B;AACE,gEAAC,8FAAD;AACE,eAAS,EAAC,OADZ;AAEE,iBAAW,EAAEhR,2DAAC,CAAC,oBAAD,CAFhB,GADF,CA7DJ;;;;;AAqEG6J,YAAQ;AACP,gEAAC,0DAAD,CAAM,IAAN,IAAW,GAAG,EAAE8G,SAAS,CAACM,eAA1B;AACGjR,+DAAC,CAAC,2BAAD,CADJ,CAtEJ;;;;AA2EG6J,YAAQ;AACP,gEAAC,0DAAD,CAAM,IAAN,IAAW,GAAG,EAAE8G,SAAS,CAACO,QAA1B;AACE,gEAAC,2EAAD;AACE,iBAAW,EAAE,0EAAOlR,2DAAC,CAAC,UAAD,CAAR,CADf;AAEE,gBAAU,EAAE,KAAKkE,KAAL,CAAW6C,GAFzB;AAGE,eAAS,EAAE,KAAK7C,KAAL,CAAWwN,YAHxB;AAIE,cAAQ,EAAE,KAAK1K,SAJjB,GADF,CA5EJ;;;;;AAsFG,KAAC6C,QAAD;AACC,gEAAC,0DAAD,CAAM,IAAN,IAAW,GAAG,EAAE8G,SAAS,CAACQ,iBAA1B;AACGnR,+DAAC,CAAC,mBAAD,CADJ,CAvFJ;;;;AA4FG,KAAC6J,QAAD;AACC,gEAAC,0DAAD,CAAM,IAAN,IAAW,GAAG,EAAE8G,SAAS,CAACS,iBAA1B;AACGpR,+DAAC,CAAC,mBAAD,CADJ,CA7FJ,CADF;;;;;AAoGA;AACE,kEAAC,yEAAD;AACE,eAAO,EAAE2S,IADX;AAEE,eAAO,EAAE,CAAC,OAAD,CAFX;AAGE,yBAAiB,EAAE,CAAAjM,WAAW;AAC5BA,mBAAW,CAAC4M,OAAZ,CAAoB,mBAApB,CAJJ;;;AAOE,kEAAC,cAAD,IAAgB,EAAE,EAAC,wBAAnB,EAA4C,IAAI,EAAC,QAAjD;AACE,kEAAC,2DAAD,IAAM,IAAI,EAAC,YAAX,GADF,CAPF,CADF;;;;AAaD,GA1OqD;AAAA;AAAA;AA6OxD/B,qBAAqB,CAAClX,SAAtB,GAAkCA,SAAlC;AACAkX,qBAAqB,CAAC7U,YAAtB,GAAqCA,YAArC,C;;AAEe6U,qB,CAAA,yE,iLAvSTlX,S,mLA8BAqC,Y,sLAOAiU,S,mLAYAU,c,wLAIAC,wB,kMAEAC,qB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC7FN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;;;AAGA,MAAMlX,SAAS,GAAG;AAChBiV,iBAAe,EAAE/U,kDAAS,CAACa,IAAV,CAAeR,UADhB;AAEhBoJ,gBAAc,EAAEzJ,kDAAS,CAACa,IAAV,CAAeR,UAFf;AAGhB2Y,iBAAe,EAAEhZ,kDAAS,CAACa,IAAV,CAAeR,UAHhB;AAIhBgN,eAAa,EAAErN,kDAAS,CAACC,MAAV,CAAiBI,UAJhB;AAKhB2U,gBAAc,EAAEhV,kDAAS,CAACgB,MAAV,CAAiBX,UALjB;AAMhBoN,QAAM,EAAEzN,kDAAS,CAAC0N,QAAV,CAAmBC,6EAAnB,EAAmCtN,UAN3B;AAOhB6N,QAAM,EAAElO,kDAAS,CAACC,MAAV,CAAiBI,UAPT;AAQhBwV,gBAAc,EAAE7V,kDAAS,CAACC,MAAV,CAAiBI,UARjB;AAShB4U,WAAS,EAAEjV,kDAAS,CAACgB,MAAV,CAAiBX,UATZ;AAUhB6U,gBAAc,EAAElV,kDAAS,CAACgB,MAVV;AAWhBmU,aAAW,EAAEnV,kDAAS,CAACgB,MAXP;AAYhBiY,iCAA+B,EAAEjZ,kDAAS,CAACa,IAAV,CAAeR,UAZhC;AAahB6Y,WAAS,EAAElZ,kDAAS,CAACkB,IAAV,CAAeb,UAbV;AAchBsP,aAAW,EAAE3P,kDAAS,CAACkB,IAAV,CAAeb,UAdZ;AAehBgF,WAAS,EAAErF,kDAAS,CAACkB,IAAV,CAAeb,UAfV;AAgBhByV,QAAM,EAAE9V,kDAAS,CAACa,IAAV,CAAeR,UAhBP;AAiBhB+L,UAAQ,EAAEpM,kDAAS,CAACa,IAAV,CAAeR,UAjBT;AAkBhB8Y,eAAa,EAAEnZ,kDAAS,CAACa,IAAV,CAAeR,UAlBd;AAmBhB+Y,aAAW,EAAEpZ,kDAAS,CAACa,IAAV,CAAeR,UAnBZ;AAoBhBgZ,cAAY,EAAErZ,kDAAS,CAACa,IAAV,CAAeR,UApBb;AAqBhBiZ,eAAa,EAAEtZ,kDAAS,CAACa,IAAV,CAAeR,UArBd;AAsBhBkZ,sBAAoB,EAAEvZ,kDAAS,CAACa,IAAV,CAAeR,UAtBrB;AAuBhBiP,UAAQ,EAAEtP,kDAAS,CAACkB,IAAV,CAAeb,UAvBT;AAwBhBmZ,aAAW,EAAExZ,kDAAS,CAACa,IAAV,CAAeR,UAxBZ;AAyBhBoZ,iBAAe,EAAEzZ,kDAAS,CAACa,IAAV,CAAeR,UAzBhB;AA0BhB+U,WAAS,EAAEpV,kDAAS,CAACa,IAAV,CAAeR,UA1BV;AA2BhB6D,UAAQ,EAAElE,kDAAS,CAACa,IAAV,CAAeR,UA3BT;AA4BhBuQ,mBAAiB,EAAE5Q,kDAAS,CAACkB,IAAV,CAAeb,UA5BlB;AA6BhBqZ,wBAAsB,EAAE1Z,kDAAS,CAACkB,IAAV,CAAeb,UA7BvB;AA8BhB6V,kBAAgB,EAAElW,kDAAS,CAACI,MAAV,CAAiBC,UA9BnB;;AAgChB;AACAsZ,QAAM,EAAE3Z,kDAAS,CAACa,IAAV,CAAeR,UAjCP;AAkChBuZ,QAAM,EAAE5Z,kDAAS,CAACa,IAAV,CAAeR,UAlCP;AAmChBwZ,YAAU,EAAE7Z,kDAAS,CAACI,MAAV,CAAiBC,UAnCb;AAoChByZ,YAAU,EAAE9Z,kDAAS,CAACI,MAAV,CAAiBC,UApCb;AAqChB0Z,2BAAyB,EAAE/Z,kDAAS,CAACa,IAAV,CAAeR,UArC1B;AAsChB2Z,qBAAmB,EAAEha,kDAAS,CAACa,IAAV,CAAeR,UAtCpB;AAuChBiV,kBAAgB,EAAEtV,kDAAS,CAACI,MAAV,CAAiBC,UAvCnB;AAwChBkV,+BAA6B,EAAEvV,kDAAS,CAACkB,IAAV,CAAeb,UAxC9B;AAyChBmV,qBAAmB,EAAExV,kDAAS,CAACa,IAAV,CAAeR,UAzCpB;AA0ChB4Z,sBAAoB,EAAEja,kDAAS,CAACa,IAAV,CAAeR,UA1CrB;AA2ChB6Z,uBAAqB,EAAEla,kDAAS,CAACa,IAAV,CAAeR,UA3CtB,EAAlB;;;AA8CA,MAAM8B,YAAY,GAAG;AACnB+S,gBAAc,EAAEiB,SADG;AAEnBhB,aAAW,EAAEgB,SAFM,EAArB;;;AAKA;AACA,MAAMgE,qBAAqB,GAAG9X,yDAAM,CAACC,GAAI;AACzC,gBAAgB,CAAC,EAAEE,KAAF,EAAD,KAAeA,KAAK,CAAC6I,MAAN,CAAaC,SAAb,CAAuBG,MAAO;AAC7D;AACA;AACA;AACA;AACA,eAAe,CAAC,EAAEjJ,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AACjD,6BAA6B,CAAC,EAAEhJ,KAAF,EAAD,KAAeA,KAAK,CAAC6I,MAAN,CAAaC,SAAb,CAAuBC,MAAO;AAC1E;AACA;AACA;AACA,mBAAmB,CAAC,EAAE/I,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,CAAC,EAAEhJ,KAAF,EAAD,KAAeA,KAAK,CAACC,UAAN,CAAiBC,KAAjB,CAAuB0X,EAAG;AAC5D;AACA;AACA,CArBA;;AAuBA,MAAMC,MAAN,SAAqBvX,4CAAK,CAACC,aAA3B,CAAyC;AACvC,SAAOkU,cAAP,GAAwB;AACtB9N,UAAM,CAACC,QAAP,CAAgB8N,MAAhB;AACD;;AAEDlU,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACX2Q,kCAA4B,EAAE,KADnB;AAEXC,mBAAa,EAAE,KAFJ;AAGXC,4BAAsB,EAAE,KAHb,EAAb;;;AAMA,SAAKC,gBAAL,GAAwB,2GAAKA,gBAAL,iBAA2B,IAA3B,CAAxB;AACA,SAAKC,WAAL,GAAmB,4GAAKA,WAAL,kBAAsB,IAAtB,CAAnB;AACA,SAAKC,WAAL,GAAmB,4GAAKA,WAAL,kBAAsB,IAAtB,CAAnB;AACA,SAAKC,cAAL,GAAsB,4GAAKA,cAAL,kBAAyB,IAAzB,CAAtB;AACA,SAAKC,YAAL,GAAoB,4GAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACA,SAAKpF,mBAAL,GAA2B,4GAAKA,mBAAL,kBAA8B,IAA9B,CAA3B;AACA,SAAKqF,kBAAL,GAA0B,4GAAKA,kBAAL,kBAA6B,IAA7B,CAA1B;AACA,SAAK/E,mBAAL,GAA2B,4GAAKA,mBAAL,kBAA8B,IAA9B,CAA3B;AACA,SAAKgF,mBAAL,GAA2B,4GAAKA,mBAAL,kBAA8B,IAA9B,CAA3B;AACD;;AAED5X,mBAAiB,GAAG;AAClB,UAAM,EAAEmS,gBAAF,KAAuB,KAAKrS,KAAlC;AACA,SAAKwS,mBAAL,CAAyBH,gBAAgB,GAAG,IAA5C;AACD;;AAED5M,kCAAgC,CAAC9B,SAAD,EAAY;AAC1C;AACEoU,4EAAU,GAAGpU,SAAS,CAACiT,UAAvB,IAAqC,CAArC;AACA,KAAC,KAAKlQ,KAAL,CAAW2Q,4BAFd;AAGE;AACA,WAAKvQ,QAAL,CAAc,OAAO,EAAEuQ,4BAA4B,EAAE,IAAhC,EAAP,CAAd;AACA,WAAKrX,KAAL,CAAW+W,mBAAX;AACD;AACD;AACEpT,aAAS,CAACiT,UAAV,GAAuBmB,wEAAvB;AACA,KAAC,KAAK/X,KAAL,CAAWyW,sBAFd;AAGE;AACA,WAAKzW,KAAL,CAAW8W,yBAAX;AACD;AACF;;AAED9I,sBAAoB,GAAG;AACrBgK,gBAAY,CAAC,KAAKC,YAAN,CAAZ;AACAD,gBAAY,CAAC,KAAKE,YAAN,CAAZ;AACD;;AAEDV,kBAAgB,CAACW,QAAD,EAAW;AACzB,UAAM,EAAE7B,oBAAF,EAAwBnN,QAAxB,KAAqC,KAAKnJ,KAAhD;AACA,QAAImY,QAAQ,IAAI,KAAKnY,KAAL,CAAW+R,cAAX,KAA8BoG,QAA9C,EAAwD;AACtD7B,0BAAoB,CAAC6B,QAAD,CAApB;AACAhP,cAAQ;AACT;AACF;;AAEDuO,aAAW,GAAG;AACZ,SAAK1X,KAAL,CAAW2W,MAAX;AACA,SAAK7P,QAAL,CAAc,EAAEsR,aAAa,EAAE,IAAjB,EAAd,EAAuC,MAAM;AAC3C,UAAI,KAAKH,YAAT,EAAuBD,YAAY,CAAC,KAAKC,YAAN,CAAZ;AACvB,WAAKA,YAAL,GAAoB,yFAAW,MAAM;AACnC,aAAKnR,QAAL,CAAc,EAAEsR,aAAa,EAAE,KAAjB,EAAd;AACD,OAFmB,EAEjB,GAFiB,CAApB;AAGD,KALD;AAMD;;AAEDX,aAAW,GAAG;AACZ,SAAKzX,KAAL,CAAW0W,MAAX;AACA,SAAK5P,QAAL,CAAc,EAAEwQ,aAAa,EAAE,IAAjB,EAAd,EAAuC,MAAM;AAC3C,UAAI,KAAKY,YAAT,EAAuBF,YAAY,CAAC,KAAKE,YAAN,CAAZ;AACvB,WAAKA,YAAL,GAAoB,yFAAW,MAAM;AACnC,aAAKpR,QAAL,CAAc,EAAEwQ,aAAa,EAAE,KAAjB,EAAd;AACD,OAFmB,EAEjB,GAFiB,CAApB;AAGD,KALD;AAMD;;AAEDM,cAAY,GAAG;AACb,QAAI,CAAC,KAAK5X,KAAL,CAAWoC,SAAhB,EAA2B;AACzB,YAAMiW,SAAS,GAAG,yFAAY,KAAKrY,KAAL,CAAWwK,MAAvB,CAAlB;AACA,WAAKxK,KAAL,CAAWiB,QAAX,CAAoBqX,wFAApB,EAAyD;AACvDC,aAAK,EAAE,IADgD;AAEvDC,gBAAQ,EAAE,CAF6C;AAGvDC,kBAAU,EAAEJ,SAAS,CAAC5Q,MAHiC,EAAzD;;;AAMA,aAAO,KAAKzH,KAAL,CAAWmW,WAAX;AACLkC,eADK;AAEL,UAFK;AAGL,OAHK;AAIL,WAAKrY,KAAL,CAAWoK,aAAX,CAAyB2E,EAJpB,CAAP;;AAMD;AACD,WAAO,KAAP;AACD;;AAEDyD,qBAAmB,CAACgG,QAAD,EAAW;AAC5B,QAAIE,eAAJ;AACA,QAAIF,QAAJ,EAAc;AACZ,YAAMG,eAAe,GAAG,2FAAAC,sFAAsB,MAAtB,CAAAA,sFAAsB;AAC5CC,YAAM,IAAIA,MAAM,CAAChE,KAAP,KAAiB2D,QAAQ,GAAG,IADM,CAA9C;;AAGA,UAAIG,eAAJ,EAAqB;AACnBD,uBAAe,GAAGC,eAAe,CAAC5D,KAAlC;AACD,OAFD,MAEO;AACL2D,uBAAe,GAAGI,6CAAM,CAACnX,QAAP,CAAgB6W,QAAhB,EAA0B,aAA1B,EAAyCO,QAAzC,EAAlB;AACD;AACF;;AAED,UAAMC,cAAc,GAAG,MAAM;AAC3B,YAAM,EAAE7C,WAAF,EAAelV,QAAf,EAAyBuJ,MAAzB,EAAiCJ,aAAjC,KAAmD,KAAKpK,KAA9D;AACA,YAAM,EAAEiZ,QAAF,KAAe7O,aAArB;AACA,YAAM8O,MAAM,GAAGD,QAAQ,CAACE,2BAAT,IAAwC,EAAvD;AACA,YAAMC,cAAc,GAAG,4SAAc5O,MAAd;AACb6O,WAAK,IAAI,+FAAAH,MAAM,MAAN,CAAAA,MAAM,EAASG,KAAK,CAACtK,EAAf,CAAN,KAA6B,CAAC,CAD1B;AAEhBsK,WAAK,IAAIA,KAAK,CAACtK,EAFC,CAAvB;;AAIA9N,cAAQ,CAACqY,0FAAD,EAAwC;AAC9Cd,gBAD8C;AAE9CC,kBAAU,EAAEW,cAAc,CAAC3R,MAFmB,EAAxC,CAAR;;AAIA,WAAKzH,KAAL,CAAW+V,eAAX;AACEvT,kEAAC;AACE,2FADF;AAECkW,qBAFD,CADH;;;;AAOA,aAAOvC,WAAW;AAChBiD,oBADgB;AAEhB,UAFgB;AAGhBZ,cAAQ,GAAG,GAHK;AAIhBpO,mBAAa,CAAC2E,EAJE,CAAlB;;AAMD,KAzBD;;AA2BA,SAAKwK,YAAL,GAAoBC,qFAAiB,CAAC;AACpChB,cADoC;AAEpCQ,oBAFoC;AAGpCO,kBAAY,EAAE,KAAKA,YAHiB,EAAD,CAArC;;AAKD;;AAED5B,gBAAc,GAAG;AACf,SAAK3X,KAAL,CAAWiB,QAAX,CAAoBwY,sFAApB,EAAuD;AACrDC,eAAS,EAAE,CAAC,KAAK1Z,KAAL,CAAWqM,QAD8B,EAAvD;;AAGA,SAAKrM,KAAL,CAAWuW,WAAX,CAAuB,CAAC,KAAKvW,KAAL,CAAWqM,QAAnC;AACD;;AAEDwL,oBAAkB,GAAG;AACnB,UAAM;AACJ9F,oBADI;AAEJ9G,YAAM,EAAE0O,SAFJ;AAGJ/G,oBAHI;AAIJZ,eAJI;AAKJC,oBALI;AAMJC,iBANI;AAOJ9H,mBAPI;AAQJiI,sBAAgB,EAAEuH,uBARd;AASJtH,mCATI;AAUJW,sBAVI;AAWF,SAAKjT,KAXT;;AAaA,UAAM6Z,KAAK,GAAGC,4EAAyB,CAACC,QAA1B;AACZ7H,eADY;AAEZD,kBAFY,CAAd;;;AAKA;AACA,QAAI+H,WAAW,GAAG9H,WAAW,GAAG2H,KAAK,CAACI,WAAN,EAAH,GAAyB,EAAtD;AACA;AACA;AACA,UAAMC,mBAAmB,4BAAG9P,aAAa,CAAC6O,QAAjB,qBAAG,sBAAwBkB,YAApD;AACA,QAAID,mBAAJ,EAAyB;AACvBF,iBAAW,GAAG,EAAE,GAAGA,WAAL,EAAkB,GAAGE,mBAArB,EAAd;AACD;;AAED;AACA,UAAM7H,gBAAgB,GAAGC,6BAA6B;AAClDsH,2BADkD;AAElDxP,iBAAa,CAAC6O,QAFoC,qBAElD,uBAAwBmB,iBAF5B,CA7BmB,CA+B4B;;AAE/C,UAAMC,IAAI,GAAG;AACXV,eADW;AAEXW,qBAAe,EAAE1H,cAFN;AAGXrJ,SAAG,EAAEyI,SAHM;AAIXuI,qBAAe,EAAEtI,cAJN;AAKXnO,kBAAY,EAAEoO,WALH;AAMXiI,kBAAY,EAAEH,WANH;AAOXQ,qBAAe,EAAEzI,cAPN;AAQXqI,uBAAiB,EAAE/H,gBARR;AASXoI,wBAAkB,EAAExH,gBATT,EAAb;;;AAYA;AACA,UAAMyH,kBAAkB,GAAGC,8EAAa,CAAChB,SAAD,CAAb,CAAyBlS,MAApD;AACA,UAAMmT,KAAK;AACTxQ,iBAAa,CAACyQ,MAAd,CAAqBC,IAArB,CAA0BC,sCAA1B;AACAC,+FAFF;AAGA,QAAIN,kBAAkB,IAAIE,KAA1B,EAAiC;AAC/B,WAAK5a,KAAL,CAAWwG,cAAX;AACEhE,kEAAC;AACC,2EADD,CADH;;;AAKD,KAND,MAMO;AACL,UAAIkY,kBAAkB,IAAIE,KAAK,GAAG,GAAlC,EAAuC;AACrC,aAAK5a,KAAL,CAAW+V,eAAX,CAA2B,wCAA3B;AACD;;AAED,WAAK/V,KAAL,CAAW6S,MAAX,CAAkBwH,IAAlB,EAAwBjQ,aAAa,CAAC2E,EAAtC,EAA0CkM,iFAA1C;AACD;AACF;;AAEDnI,qBAAmB,GAAG;AACpB,SAAKhM,QAAL,CAAc,EAAEyQ,sBAAsB,EAAE,IAA1B,EAAd;AACD;;AAEDO,qBAAmB,GAAG;AACpB,SAAKhR,QAAL,CAAc,EAAEyQ,sBAAsB,EAAE,KAA1B,EAAd;AACD;;AAEDpV,QAAM,GAAG;AACP,UAAM;AACJ4P,oBADI;AAEJ9G,YAFI;AAGJ2H,oBAHI;AAIJZ,eAJI;AAKJC,oBALI;AAMJ+D,qCANI;AAOJ9D,iBAPI;AAQJwE,YARI;AASJC,YATI;AAUJC,gBAVI;AAWJC,gBAXI;AAYJ1N,cAZI;AAaJ0J,YAbI;AAcJV,eAdI;AAeJ9F,cAfI;AAgBJK,iBAhBI;AAiBJtC,mBAjBI;AAkBJuD,uBAlBI;AAmBJvL,eAnBI;AAoBJiQ,sBApBI;AAqBJC,mCArBI;AAsBJC,yBAtBI;AAuBJU,sBAvBI;AAwBF,SAAKjT,KAxBT;;AA0BA,UAAMyS,WAAW,GAAGrI,aAAa,CAAC8Q,cAAlC;AACA,UAAMxI,YAAY,GAAGtI,aAAa,CAAC+Q,eAAnC;AACA,UAAMC,aAAa,GAAGhR,aAAa,CAACiR,cAApC;AACA,UAAMtI,YAAY;AAChB3I,iBAAa,CAACyQ,MAAd,CAAqBC,IAArB,CAA0BQ,2CAD5B;AAEA,UAAMtI,cAAc;AAClB5I,iBAAa,CAACyQ,MAAd,CAAqBC,IAArB;AACGS,yDAFL;;AAIA;AACE,kEAAC,qBAAD;AACE,iBAAS,EAAC,kBADZ;AAEE,qBAAU,kBAFZ;AAGE,wBAAe,GAAEnR,aAAa,CAAC2E,EAAG,EAHpC;;AAKE,2EAAK,SAAS,EAAC,yCAAf;AACE,kEAAC,qEAAD;AACE,aAAK,EAAEgD,cADT;AAEE,eAAO,EAAEU,WAAW,IAAIpG,QAF1B;AAGE,mBAAW,EAAE,KAAKmL,gBAHpB;AAIE,mBAAW,EAAE,KAJf,GADF;;AAOE,kEAAC,iFAAD;AACE,mBAAW,EAAEpN,aAAa,CAAC2E,EAD7B;AAEE,mBAAW,EAAErC,WAFf;AAGE,qBAAa,EAAE,KAAK1M,KAAL,CAAWqW,aAH5B;AAIE,eAAO,EAAE5D,WAJX;AAKE,eAAO,EAAE2I,aALX,GAPF;;AAcGhR,mBAAa,CAACgB,MAAd;AACC,kEAAC,gEAAD;AACE,cAAM,EAAEhB,aAAa,CAAC2E,EADxB;AAEE,qBAAa,EAAE,KAAK/O,KAAL,CAAWkW,aAF5B;AAGE,oBAAY,EAAE,KAAKlW,KAAL,CAAWoW,YAH3B;AAIE,iBAAS,EAAE,KAAKpW,KAAL,CAAWiW,SAJxB;AAKE,mBAAW,MALb,GAfJ,CALF;;;;;AA8BE,2EAAK,SAAS,EAAC,kBAAf;AACGmF,mBAAa;AACZ;AACE,iBAAS,EAAC,kBADZ;AAEE,qBAAU,wBAFZ;;AAIG/O,cAAQ;AACP;AACE,kEAAC,mEAAD,IAAa,SAAS,EAAC,OAAvB;AACE,kEAAC,8DAAD;AACE,kBAAU,EAAC,OADb;AAEE,eAAO,EAAEqK,MAFX;AAGE,gBAAQ,EAAEE,UAAU,GAAG,CAHzB;AAIE,mBAAW;AACT,aAAKlQ,KAAL,CAAW4Q,aAAX,GAA2B,SAA3B,GAAuCpE,SAL3C;;;AAQE;AACE,aAAK,EAAC,MADR;AAEE,iBAAS,EAAC,yBAFZ;AAGE,qBAAU,aAHZ,GARF,SADF;;;;AAgBE,kEAAC,8DAAD;AACE,kBAAU,EAAC,OADb;AAEE,eAAO,EAAEyD,MAFX;AAGE,gBAAQ,EAAEE,UAAU,GAAG,CAHzB;AAIE,mBAAW;AACT,aAAKnQ,KAAL,CAAW0R,aAAX,GAA2B,SAA3B,GAAuClF,SAL3C;;;;AASE,yEAAG,KAAK,EAAC,MAAT,EAAgB,SAAS,EAAC,yBAA1B,GATF,CAhBF,CADF;;;AA6BE,kEAAC,8DAAD;AACE,kBAAU,EAAC,OADb;AAEE,iBAAS,EAAC,OAFZ;AAGE,eAAO,EAAE,KAAKnT,WAAL,CAAiBiU,cAH5B;AAIE,mBAAW,EAAC,SAJd;AAKE,qBAAU,wBALZ;;AAOGxR,kEAAC,CAAC,iBAAD,CAPJ,CA7BF;;AAsCE,kEAAC,8DAAD;AACE,kBAAU,EAAC,OADb;AAEE,gBAAQ,EAAE,CAACmL,iBAFb;AAGE,mBAAW,EAAC,SAHd;AAIE,eAAO,EAAE,KAAKkK,kBAJhB;AAKE,qBAAU,oBALZ;;AAOGrV,kEAAC,CAAC,MAAD,CAPJ,CAtCF,CALJ,CAFJ;;;;;;AA0DG6J,cAAQ;AACP,kEAAC,sFAAD;AACE,cAAM,EAAE,KAAKoL,WADf;AAEE,cAAM,EAAE,KAAKC,WAFf,GA3DJ;;;;AAiEG,OAACrL,QAAD,IAAaoG,WAAb;AACC;AACE;AACE,YAAI,EAAC,QADP;AAEE,aAAK,EAAEjQ,4DAAC,CAAC,gBAAD,CAFV;AAGE,gBAAQ,EAAE,CAHZ;AAIE,iBAAS,EAAC,eAJZ;AAKE,eAAO,EAAE,KAAKmV,cALhB;;AAOE,kEAAC,4DAAD,IAAM,IAAI,EAAC,UAAX,GAPF,CADF,CAlEJ;;;;;AA+EG,WAAKjR,KAAL,CAAW6Q,sBAAX;AACC,kEAAC,iFAAD;AACE,mBAAW,EAAEnN,aAAa,CAAC2E,EAD7B;AAEE,YAAI,EAAE,KAAKrI,KAAL,CAAW6Q,sBAFnB;AAGE,cAAM,EAAE,KAAKO,mBAHf;AAIE,mBAAW,EAAE,KAAK9X,KAAL,CAAWkS,WAJ1B;AAKE,gBAAQ,EAAEsJ,OAAO,IAAI;AACnB,gBAAM;AACJxE,gCADI;AAEJC,iCAFI;AAGF,eAAKjX,KAHT;AAIAgX,8BAAoB,CAAC;AACnByE,gBAAI,EAAED,OAAO,CAACC,IADK;AAEnBxC,oBAAQ,EAAEyC,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACI,YAAnB,CAFS,EAAD,CAApB;;AAIA5F,yCAA+B,CAACwF,OAAO,CAACtJ,WAAT,CAA/B;AACA+E,+BAAqB,CAACuE,OAAO,CAACK,KAAT,CAArB;AACA,cAAIL,OAAO,CAACC,IAAZ,EAAkB;AAChBvV,kBAAM,CAAC4V,OAAP,CAAeC,SAAf;AACE,cAAEpQ,KAAK,EAAE,8BAAT,EADF;AAEE,cAFF;AAGG,mCAAsB6P,OAAO,CAACC,IAAK,GAHtC;;AAKD;AACF,SAvBH,GAhFJ;;;;AA2GE,kEAAC,8FAAD;AACE,uBAAe,EAAE,KAAKzb,KAAL,CAAW8R,eAD9B;AAEE,sBAAc,EAAE,KAAK9R,KAAL,CAAWwG,cAF7B;AAGE,mBAAW,EAAE4D,aAAa,CAAC2E,EAH7B;AAIE,sBAAc,EAAEgD,cAJlB;AAKE,qBAAa,EAAE3H,aALjB;AAME,cAAM,EAAEa,MANV;AAOE,sBAAc,EAAE2H,cAPlB;AAQE,iBAAS,EAAEZ,SARb;AASE,sBAAc,EAAEC,cATlB;AAUE,mBAAW,EAAEC,WAVf;AAWE,cAAM,EAAEW,MAXV;AAYE,gBAAQ,EAAE1J,QAZZ;AAaE,6BAAqB,EAAE,KAAKyO,YAb9B;AAcE,2BAAmB,EAAE,KAAKpF,mBAd5B;AAeE,wBAAgB,EAAEH,gBAfpB;AAgBE,qCAA6B,EAAEC,6BAhBjC;AAiBE,2BAAmB,EAAEC,mBAjBvB;AAkBE,iBAAS,EAAEJ,SAlBb;AAmBE,gBAAQ,EAAE9F,QAnBZ;AAoBE,yBAAiB,EAAEsB,iBApBrB;AAqBE,mBAAW,EAAE8E,WArBf;AAsBE,oBAAY,EAAEC,YAtBhB;AAuBE,mBAAW,EAAE0I,aAvBf;AAwBE,iBAAS,EAAEhZ,SAxBb;AAyBE,2BAAmB,EAAE,KAAK0Q,mBAzB5B;AA0BE,oBAAY,EAAEC,YA1BhB;AA2BE,sBAAc,EAAEC,cA3BlB;AA4BE,wBAAgB,EAAEC,gBA5BpB,GA3GF,CA9BF,CADF;;;;;AA2KD,GA/asC;AAAA;AAAA;AAkbzCmE,MAAM,CAACva,SAAP,GAAmBA,SAAnB;AACAua,MAAM,CAAClY,YAAP,GAAsBA,YAAtB,C;;AAEekY,M,CAAA,yE,iLAhgBTva,S,4JA8CAqC,Y,+JAMAgY,qB,wKAuBAE,M;;;;;;;;;;;;;;;;;;;;;;wSC5HN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAMva,SAAS,GAAG;AAChBmf,SAAO,EAAEjf,iDAAS,CAACa,IAAV,CAAeR,UADR;AAEhB6e,WAAS,EAAElf,iDAAS,CAACgB,MAFL;AAGhBgX,OAAK,EAAEhY,iDAAS,CAACgB,MAHD,EAAlB;;;AAMA,MAAMmB,YAAY,GAAG;AACnB+c,WAAS,EAAE,IADQ;AAEnBlH,OAAK,EAAE,IAFY,EAArB;;;AAKe,MAAMmH,UAAN,SAAyBrc,4CAAK,CAACC,aAA/B,CAA6C;AAC1DC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKmc,WAAL,GAAmB,2GAAKA,WAAL,iBAAsB,IAAtB,CAAnB;AACD;;AAEDA,aAAW,CAACxQ,KAAD,EAAQ;AACjBA,SAAK,CAACyQ,cAAN;AACA,UAAM,EAAEJ,OAAF,KAAc,KAAKhc,KAAzB;AACAgc,WAAO,CAACrQ,KAAD,CAAP;AACD;;AAEDxJ,QAAM,GAAG;AACP,UAAM,EAAE8Z,SAAF,EAAalH,KAAb,KAAuB,KAAK/U,KAAlC;AACA;AACE;AACE,iBAAS,EAAC,aADZ;AAEE,eAAO,EAAE,KAAKmc,WAFhB;AAGE,gBAAQ,EAAC,GAHX;AAIE,YAAI,EAAC,QAJP;AAKE,qBAAU,aALZ;;AAOE,2EAAM,aAAU,kBAAhB,EAAmC,SAAS,EAAEF,SAA9C,GAPF;AAQGlH,WAAK,IAAI,qEAAM,SAAS,EAAC,mBAAhB,IAAqCA,KAArC,CARZ,CADF;;;AAYD,GA1ByD;AAAA;AAAA;AA6B5DmH,UAAU,CAACrf,SAAX,GAAuBA,SAAvB;AACAqf,UAAU,CAAChd,YAAX,GAA0BA,YAA1B,C,iLAzCMrC,S,yJAMAqC,Y,4JAKegd,U;;;;;;;;;;;;;;;;;;;;;wSChCrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAMrf,SAAS,GAAG;AAChBa,QAAM,EAAEX,iDAAS,CAACI,MAAV,CAAiBC,UADT,EAAlB;;;AAIe,SAASif,YAAT,CAAsB,EAAE3e,MAAF,EAAtB,EAAkC;AAC/C;AACE,wEAAK,SAAS,EAAC,yBAAf,EAAyC,KAAK,EAAE,EAAEA,MAAM,EAAEA,MAAM,GAAG,EAAnB,EAAhD;AACE,wEAAK,SAAS,EAAC,oBAAf;AACG8E,+DAAC;AACA,8FADA,CADJ;;AAIE,0EAJF;AAKE,0EALF;AAMGA,+DAAC,CAAC,wDAAD,CANJ,CADF,CADF;;;;AAYD;;AAED6Z,YAAY,CAACxf,SAAb,GAAyBA,SAAzB,C,iLAnBMA,S,2JAIkBwf,Y;;;;;;;;;;;;;;;;;;;;;;;;;wSC1BxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAMxf,SAAS,GAAG;AAChBS,aAAW,EAAEP,iDAAS,CAACI,MAAV,CAAiBC,UADd;AAEhBsP,aAAW,EAAE3P,iDAAS,CAACkB,IAAV,CAAeb,UAFZ;AAGhBiZ,eAAa,EAAEtZ,iDAAS,CAACa,IAAV,CAAeR,UAHd;AAIhBkf,SAAO,EAAEvf,iDAAS,CAACkB,IAAV,CAAeb,UAJR;AAKhBmf,SAAO,EAAExf,iDAAS,CAACkB,IAAV,CAAeb,UALR,EAAlB;;;AAQA,MAAMof,kBAAkB,GAAGha,2DAAC;AAC1B;AACE,uCAFwB,CAA5B;;;AAKA,MAAMia,eAAe,GAAGja,2DAAC;AACvB;AACE,sEAFqB,CAAzB;;;AAKA,MAAMka,gBAAgB,GAAGla,2DAAC;AACxB,wDADwB,CAA1B;;;AAIe,MAAMma,eAAN,SAA8B9c,4CAAK,CAACmD,SAApC,CAA8C;AAC3D9C,mBAAiB,GAAG;AAClB,SAAK0c,eAAL,GAAuB,2GAAKA,eAAL,iBAA0B,IAA1B,CAAvB;AACD;;AAEDA,iBAAe,GAAG;AAChB,SAAK5c,KAAL,CAAWqW,aAAX,CAAyB,KAAKrW,KAAL,CAAW1C,WAApC,EAAiD,CAAC,KAAK0C,KAAL,CAAW0M,WAA7D;AACD;;AAEDvK,QAAM,GAAG;AACP;AACA,QAAI,CAAC,KAAKnC,KAAL,CAAW0M,WAAhB,EAA6B;AAC3B;AACA,UAAI,KAAK1M,KAAL,CAAWsc,OAAX,IAAsB,KAAKtc,KAAL,CAAWuc,OAArC,EAA8C;AAC5C;AACE,qEAAC,8DAAD;AACE,cAAE,EAAC,+BADL;AAEE,qBAAS,EAAC,QAFZ;AAGE,iBAAK,EAAEC,kBAHT;;AAKE,qEAAC,4DAAD;AACE,mBAAO,EAAE,MAAM;AACb,mBAAKI,eAAL;AACD,aAHH;;AAKGpa,qEAAC,CAAC,OAAD,CALJ,CALF,CADF;;;;AAeD;AACD;AACE,mEAAC,8DAAD;AACE,YAAE,EAAC,+BADL;AAEE,mBAAS,EAAC,QAFZ;AAGE,eAAK,EAAEia,eAHT;;AAKE,mEAAC,4DAAD,QAAQja,2DAAC,CAAC,OAAD,CAAT,CALF,CADF;;;AASD;;AAED;AACA,QAAI,KAAKxC,KAAL,CAAWsc,OAAX,IAAsB,KAAKtc,KAAL,CAAWuc,OAArC,EAA8C;AAC5C;AACE,mEAAC,8DAAD;AACE,YAAE,EAAC,6BADL;AAEE,mBAAS,EAAC,QAFZ;AAGE,eAAK,EAAEG,gBAHT;;AAKE,mEAAC,4DAAD;AACE,iBAAO,EAAE,MAAM;AACb,iBAAKE,eAAL;AACD,WAHH;;AAKGpa,mEAAC,CAAC,WAAD,CALJ,CALF,CADF;;;;AAeD;;AAED;AACA,WAAO,IAAP;AACD,GA9D0D;AAAA;AAAA;AAiE7Dma,eAAe,CAAC9f,SAAhB,GAA4BA,SAA5B,C,iLAvFMA,S,qKAQA2f,kB,8KAKAC,e,2KAKAC,gB,4KAIeC,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qTC9CrB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AAEA;;AAGO,MAAM,OAAO,GAAG;AACrB,CAAC,CAAD,EAAI,2DAAC,CAAC,eAAD,CAAL,CADqB;AAErB,CAAC,EAAD,EAAK,2DAAC,CAAC,YAAD,CAAN,CAFqB;AAGrB,CAAC,EAAD,EAAK,2DAAC,CAAC,YAAD,CAAN,CAHqB;AAIrB,CAAC,EAAD,EAAK,2DAAC,CAAC,UAAD,CAAN,CAJqB;AAKrB,CAAC,GAAD,EAAM,2DAAC,CAAC,WAAD,CAAP,CALqB;AAMrB,CAAC,IAAD,EAAO,2DAAC,CAAC,YAAD,CAAR,CANqB;AAOrB,CAAC,IAAD,EAAO,2DAAC,CAAC,QAAD,CAAR,CAPqB;AAQrB,CAAC,KAAD,EAAQ,2DAAC,CAAC,SAAD,CAAT,CARqB;AASrB,CAAC,KAAD,EAAQ,2DAAC,CAAC,UAAD,CAAT,CATqB;AAUrB,CAAC,KAAD,EAAQ,2DAAC,CAAC,UAAD,CAAT,CAVqB;AAWjB,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,CAAD,CAAV,EAAe,KAAK,EAAE,CAAC,CAAC,CAAD,CAAvB,EAAL,CAXgB,CAAhB;AAaP,MAAM,kBAAkB,GAAG,gEAAM,CAAC,mEAAD,CAAc;;;;AAI9C,CAJD;AAMA,MAAM,uBAAuB,GAAG,wDAAM,CAAC,GAAG;gBAC1B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;AAChD,CAFD;AAiBA,MAAM,oBAAN,SAAmC,4CAAK,CAAC,aAAzC,CAGC;AAQC,cAAY,KAAZ,EAA4C;AAC1C,UAAM,KAAN;AACA,SAAK,QAAL,gBAAgB,4CAAK,CAAC,SAAN,EAAhB;AACA,SAAK,KAAL,GAAa;AACX,sBAAgB,EAAE,KAAK,CAAC,gBADb,EAAb;;AAGA,SAAK,qBAAL,GAA6B,4GAAK,qBAAL,kBAAgC,IAAhC,CAA7B;AACA,SAAK,MAAL,GAAc,4GAAK,MAAL,kBAAiB,IAAjB,CAAd;AACA,SAAK,QAAL,GAAgB,4GAAK,QAAL,kBAAmB,IAAnB,CAAhB;AACD;AAED,QAAM;AACJ,SAAK,KAAL,CAAW,QAAX,CAAoB,KAAK,KAAL,CAAW,gBAA/B,EAAiD,KAAK,KAAL,CAAW,QAA5D;AACA,kCAAK,QAAL,CAAc,OAAd,2CAAuB,KAAvB;AACD;AAED,UAAQ;AACN,SAAK,QAAL,CAAc;AACZ,sBAAgB,EAAE,KAAK,KAAL,CAAW,gBADjB,EAAd;;AAGA,mCAAK,QAAL,CAAc,OAAd,4CAAuB,KAAvB;AACD;AAED,uBAAqB,CAAC,GAAD,EAAyB;AAC5C,UAAM,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC,KAAP,GAAe,OAAO,CAAC,CAAD,CAAP,CAAW,KAA3C;AACA,SAAK,QAAL,CAAc;AACZ,sBAAgB,EAAE,KADN,EAAd;;AAGD;AAED,QAAM;AACJ,UAAM,EAAE,YAAY,GAAG,CAAjB,EAAoB,cAApB,EAAoC,QAApC,KAAiD,KAAK,KAA5D;AACA,UAAM,EAAE,gBAAgB,GAAG,CAArB,KAA2B,KAAK,KAAtC;AACA,UAAM,kBAAkB,GACtB,CAAC,CAAC,gBAAF,IAAsB,CAAC,CAAC,cAAxB,IAA0C,gBAAgB,GAAG,YAD/D;AAGA,WACE,4DAAC,kBAAD,IACE,GAAG,EAAE,KAAK,QADZ,EAEE,WAAW,EAAE,KAAK,KAAL,CAAW,WAF1B,EAGE,UAAU,EAAE,2DAAC,CAAC,kBAAD,CAHf,EAIE,SAAS,EACP;AACE,kEAAC,6DAAD,QAAY,2DAAC,CAAC,mBAAD,CAAb,CADF;AAEE,kEAAC,6DAAD,IACE,OAAO,EAAE,OADX,EAEE,KAAK,EAAE,EAAE,KAAK,EAAE,gBAAT,EAFT,EAGE,QAAQ,EAAE,KAAK,qBAHjB,EAIE,aAAa,MAJf,GAFF;AAQG,wBAAkB,IACjB,4DAAC,uBAAD;AACE,kEAAC,4DAAD,IACE,IAAI,EAAC,SADP,EAEE,OAAO,EACL;AACE,iFAAM,cAAN,CADF;AAEE,+EAFF;AAGE,oFAAS,2DAAC,CAAC,mCAAD,CAAV,CAHF,CAHJ,GADF,CATJ,CALJ;;;AA6BE,iBAAW,EACT;AACE,kEAAC,6DAAD,IACE,WAAW,EAAC,SADd,EAEE,UAAU,EAAC,OAFb,EAGE,OAAO,EAAE,KAAK,MAHhB;AAKG,cAAQ,GAAG,2DAAC,CAAC,MAAD,CAAJ,GAAe,2DAAC,CAAC,uBAAD,CAL3B,CADF;;AAQE,kEAAC,6DAAD,IAAQ,OAAO,EAAE,KAAK,QAAtB,EAAgC,UAAU,EAAC,OAA3C;AACG,iEAAC,CAAC,QAAD,CADJ,CARF,CA9BJ,GADF;;;AA8CD,GA1FF;AAAA;AAAA,6BACQ,oCAAe;AACpB,cAAY,EAAE,CADM;AAEpB,gBAAc,EAAE,IAFI,EAAf,C;;AA4FM,oB,CAAA,yE,iLApIF,O,iKAaP,kB,4KAMA,uB,iLAiBA,oB;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC/DN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAkCA,MAAM,YAAY,GAAG;AACnB,UAAQ,EAAE,gFADS;AAEnB,gBAAc,EAAE,SAFG;AAGnB,aAAW,EAAE,SAHM;AAInB,+BAA6B,EAAE,KAJZ,EAArB;;AAOA,MAAM,SAAN,SAAwB,4CAAK,CAAC,aAA9B,CAA2E;AAWzE,cAAY,KAAZ,EAAiC;AAC/B,UAAM,KAAN;AACA,SAAK,KAAL,GAAa;AACX,cAAQ,EAAE,KAAK,CAAC,QADL;AAEX,iBAAW,EAAE,GAAG,KAAK,CAAC,cAAc,SAFzB;AAGX,qBAAe,EAAE,KAHN,EAAb;;AAKA,SAAK,KAAL,GAAa,IAAb;AACA,SAAK,oBAAL,GAA4B,2GAAK,oBAAL,iBAA+B,IAA/B,CAA5B;AACA,SAAK,gBAAL,GAAwB,4GAAK,gBAAL,kBAA2B,IAA3B,CAAxB;AACA,SAAK,aAAL,GAAqB,4GAAK,aAAL,kBAAwB,IAAxB,CAArB;AACA,SAAK,WAAL,GAAmB,4GAAK,WAAL,kBAAsB,IAAtB,CAAnB;AACA,SAAK,qBAAL,GAA6B,4GAAK,qBAAL,kBAAgC,IAAhC,CAA7B;AACA,SAAK,MAAL,GAAc,4GAAK,KAAL,CAAW,MAAX,kBAAuB,IAAvB,CAAd;AACD;AAED,aAAW,CAAC,GAAD,EAAyB;AAClC,SAAK,KAAL,GAAa,GAAb;AACD;AAED,uBAAqB;AACnB,SAAK,QAAL,CAAc,SAAS,KAAK;AAC1B,qBAAe,EAAE,CAAC,SAAS,CAAC,eADF,EAAL,CAAvB;;AAGD;AAED,sBAAoB,CAAC,KAAD,EAAwB;AAC1C,SAAK,QAAL,CAAc;AACZ,cAAQ,EAAG,KAAK,CAAC,MAAN,CAAkC,KADjC,EAAd;;AAGD;AAED,kBAAgB,CAAC,IAAD,EAAa;AAC3B,SAAK,QAAL,CAAc;AACZ,iBAAW,EAAE,IADD;AAEZ,cAAQ,EAAE,mFAFE,EAAd;;AAID;AAED,eAAa;AACX,UAAM,EAAE,QAAF,EAAY,WAAZ,KAA4B,KAAK,KAAvC;AACA,UAAM,EACJ,cADI,EAEJ,aAFI,EAGJ,MAAM,EAAE,SAHJ,EAIJ,SAJI,EAKJ,cALI,EAMJ,WANI,EAOJ,cAPI,EAQJ,WARI,EASJ,gBAAgB,EAAE,uBATd,EAUJ,6BAVI,EAWJ,gBAXI,KAYF,KAAK,KAZT;AAcA,UAAM,KAAK,GAAG,2EAAyB,CAAC,QAA1B,CACZ,WADY,EAEZ,cAFY,CAAd;AAIA,UAAM,WAAW,GAAG,WAAW,GAAG,KAAK,CAAC,WAAN,EAAH,GAAyB,EAAxD;AACA;AACA,UAAM,gBAAgB,GAAG,6BAA6B;AAClD,2BADkD;AAElD,iBAAa,CAAC,QAFoC,qBAElD,sBAAwB,iBAF5B,CAtBW,CAwBoC;AAE/C,UAAM,IAAI,GAAG;AACX,eADW;AAEX,SAAG,EAAE,SAFM;AAGX,qBAAe,EAAE,cAHN;AAIX,kBAAY,EAAE,WAJH;AAKX,kBAAY,EAAE,WALH;AAMX,qBAAe,EAAE,cANN;AAOX,qBAAe,EACb,QAAQ,KAAK,mFAAb,GAAsC,WAAtC,GAAoD,cAR3C;AASX,sBAAgB,EAAE,KAAK,KAAL,CAAW,eATlB;AAUX,uBAAiB,EAAE,gBAVR;AAWX,wBAAkB,EAAE,gBAXT,EAAb;;AAcA,QAAI,QAAQ,KAAK,mFAAb,IAAuC,CAAC,WAA5C,EAAyD;AACvD,WAAK,KAAL,CAAW,cAAX,CACE,2DAAC,CAAC,4CAAD,CADH;AAGD,KAJD;AAIO;AACL,WAAK,MAAL,CAAY,IAAZ,EAAkB,WAAlB,EAA+B,QAA/B,EAAyC,IAAzC,CAA+C,IAAD,IAAuB;AACnE,YACE,QAAQ,KAAK,mFAAb;AACA,YADA;AAEA,YAAI,CAAC,IAFL;AAGA,YAAI,CAAC,IAAL,CAAU,EAJZ,EAKE;AACA,gBAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,uBAAuB,IAAI,CAAC,IAAL,CAAU,EAAE,GAA1D;AACD;AACF,OATD;AAUA,0BAAK,KAAL,iCAAY,KAAZ;AACD;AACF;AAED,QAAM;AACJ,WACE,4DAAC,mEAAD,IACE,GAAG,EAAE,KAAK,WADZ,EAEE,WAAW,EAAE,KAAK,KAAL,CAAW,WAF1B,EAGE,UAAU,EAAE,2DAAC,CAAC,gBAAD,CAHf,EAIE,SAAS,EACP;AACE,kEAAC,0DAAD,IACE,KAAK,EAAE,gFADT,EAEE,QAAQ,EAAE,KAAK,oBAFjB,EAGE,OAAO,EAAE,KAAK,KAAL,CAAW,QAAX,KAAwB,gFAHnC,EAIE,QAAQ,EAAE,CAAC,KAAK,KAAL,CAAW,YAJxB;AAMG,iEAAC,CAAC,0BAAD,EAA6B,KAAK,KAAL,CAAW,cAAxC,CANJ,CADF;;AASE,6EATF;AAUE,kEAAC,0DAAD,IACE,KAAK,EAAE,mFADT,EAEE,QAAQ,EAAE,KAAK,oBAFjB,EAGE,OAAO,EAAE,KAAK,KAAL,CAAW,QAAX,KAAwB,mFAHnC;AAKG,iEAAC,CAAC,UAAD,CALJ,CAVF;;AAiBE,kEAAC,2DAAD,IACE,IAAI,EAAC,MADP,EAEE,WAAW,EAAE,2DAAC,CAAC,kBAAD,CAFhB,EAGE,KAAK,EAAE,KAAK,KAAL,CAAW,WAHpB,EAIE,OAAO,EAAE,CAAC,IAAI,KAAK,gBAAL,CAAsB,CAAC,CAAC,MAAF,CAAS,KAA/B,CAJhB,EAKE,QAAQ,EAAE,CAAC,IAAI,KAAK,gBAAL,CAAsB,CAAC,CAAC,MAAF,CAAS,KAA/B,CALjB,GAjBF;AAwBE,2EAAK,SAAS,EAAC,cAAf;AACE,kEAAC,+DAAD,IACE,OAAO,EAAE,KAAK,KAAL,CAAW,eADtB,EAEE,QAAQ,EAAE,MAAM,KAAK,qBAAL,EAFlB,GADF;AAKE,4EAAM,SAAS,EAAC,OAAhB,IAAyB,2DAAC,CAAC,8BAAD,CAA1B,CALF,CAxBF,CALJ;;AAsCE,iBAAW,EACT;AACE,kEAAC,6DAAD,IACE,aAAU,6BADZ,EAEE,WAAW,EAAC,SAFd,EAGE,OAAO,EAAE,KAAK,aAHhB;AAKG,iEAAC,CAAC,MAAD,CALJ,CADF,CAvCJ,GADF;;;AAoDD,GAlKwE;AAAA;AAAA,6BAClE,yBAAe,YAAf,C;AAoKM,S,CAAA,yE,iLA5KT,Y,2JAOA,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCnEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAIA;AACA;AACA;;;AAGA,MAAM9f,SAAS,GAAG;AAChBggB,gBAAc,EAAE9f,kDAAS,CAACa,IAAV,CAAeR,UADf;AAEhBgF,WAAS,EAAErF,kDAAS,CAACkB,IAAV,CAAeb,UAFV;AAGhBuN,QAAM,EAAE5N,kDAAS,CAAC0N,QAAV,CAAmBG,6EAAnB,EAAmCxN,UAH3B;AAIhB0f,aAAW,EAAE/f,kDAAS,CAACI,MAAV,CAAiBC,UAJd;AAKhBsB,cAAY,EAAE3B,kDAAS,CAACgB,MALR;AAMhBqN,QAAM,EAAErO,kDAAS,CAACgB,MAAV,CAAiBX,UANT;AAOhB2f,kBAAgB,EAAEhgB,kDAAS,CAACwB,OAAV,CAAkBxB,kDAAS,CAACI,MAA5B,CAPF;AAQhBkP,UAAQ,EAAEtP,kDAAS,CAACkB,IARJ;AAShBP,QAAM,EAAEX,kDAAS,CAACI,MATF,EAAlB;;;AAYA,MAAM+B,YAAY,GAAG;AACnB6d,kBAAgB,EAAE,EADC;AAEnB1Q,UAAQ,EAAE,KAFS;AAGnB3N,cAAY,EAAE,EAHK;AAInBhB,QAAM,EAAEwI,MAAM,CAAC8W,WAJI,EAArB;;;AAOA,MAAMC,eAAe,GAAG,CAAC,YAAD,EAAe,UAAf,EAA2B,iBAA3B,CAAxB;AACA,MAAMC,YAAY,GAAG;AACnBC,YAAU,EAAE,MADO;AAEnB9Y,UAAQ,EAAE,UAFS;AAGnB+Y,iBAAe,EAAE,SAHE;AAInBC,YAAU,EAAE,QAJO,EAArB;;;AAOA,MAAMC,gBAAgB,GAAG,YAAzB;;AAEA,MAAMC,aAAa,GAAG,EAAtB;AACA,MAAMC,sBAAsB,GAAG,EAA/B;AACA,MAAMC,0BAA0B,GAAG,EAAnC;AACA,MAAMC,mBAAmB,GAAG,GAA5B;;AAEA,MAAMC,QAAQ,GAAGve,yDAAM,CAACC,GAAI;AAC5B;AACA;AACA,aAAa,CAAC,EAAEE,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AAC/C,CAJA;;AAMA,MAAMqV,YAAY,GAAGxe,iEAAM,CAACye,8DAAD,CAAS;AACpC,iBAAiB,CAAC,EAAEte,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AACnD;AACA,CAHA;;AAKA,MAAMuV,UAAN,SAAyBje,4CAAK,CAACmD,SAA/B,CAAyC;AACvC,SAAO+a,gBAAP,CAAwBC,IAAxB,EAA8B;AAC5B,UAAMC,IAAI,GAAGD,IAAI,KAAK,YAAT,GAAwB,CAAC,CAAzB,GAA6B,CAA1C;;AAEA,WAAO,CAACE,CAAD,EAAIC,CAAJ,KAAU;AACf,UAAID,CAAC,CAACF,IAAD,CAAD,GAAUG,CAAC,CAACH,IAAD,CAAf,EAAuB;AACrB,eAAO,CAAC,CAAD,GAAKC,IAAZ;AACD;AACD,UAAIC,CAAC,CAACF,IAAD,CAAD,GAAUG,CAAC,CAACH,IAAD,CAAf,EAAuB;AACrB,eAAO,IAAIC,IAAX;AACD;AACD,aAAO,CAAP;AACD,KARD;AASD;;AAEDle,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACX0X,oBAAc,EAAE,EADL;AAEXC,gBAAU,EAAE,EAFD;AAGXC,YAAM,EAAEhB,gBAHG;AAIXiB,yBAAmB,EAAE,IAAI,iFAAIve,KAAK,CAAC+c,gBAAd,CAJV,EAAb;;AAMA,SAAKyB,WAAL,GAAmB,2GAAKA,WAAL,iBAAsB,IAAtB,CAAnB;AACA,SAAKC,aAAL,GAAqB,4GAAKA,aAAL,kBAAwB,IAAxB,CAArB;AACA,SAAKC,cAAL,GAAsB,4GAAKA,cAAL,kBAAyB,IAAzB,CAAtB;AACA,SAAKC,YAAL,GAAoB,4GAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,4GAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACD;;AAED1e,mBAAiB,GAAG;AAClB,SAAK2e,aAAL,GAAqB,KAAK7e,KAAL,CAAW6c,cAAX,CAA0B,KAAK7c,KAAL,CAAWoL,MAArC,CAArB;AACD;;AAED3F,kCAAgC,CAAC9B,SAAD,EAAY;AAC1C,UAAMmb,SAAS,GAAG,EAAlB;AACA,QAAInb,SAAS,CAACmZ,WAAV,KAA0B,KAAK9c,KAAL,CAAW8c,WAAzC,EAAsD;AACpDgC,eAAS,CAACV,cAAV,GAA2B,2SAAcza,SAAS,CAACgH,MAAxB;AACjBoU,8EAAY,CAAC,KAAKrY,KAAL,CAAW2X,UAAZ,EAAwBpB,eAAxB,CADK;AAEnBa,gBAAU,CAACC,gBAAX,CAA4B,KAAKrX,KAAL,CAAW4X,MAAvC,CAFmB,CAA3B;AAGD;;AAED,QAAI3a,SAAS,CAACoZ,gBAAV,KAA+B,KAAK/c,KAAL,CAAW+c,gBAA9C,EAAgE;AAC9D+B,eAAS,CAACP,mBAAV,GAAgC,IAAI,iFAAI5a,SAAS,CAACoZ,gBAAlB,CAAhC;AACD;;AAED,QAAI,yFAAY+B,SAAZ,EAAuBrX,MAA3B,EAAmC;AACjC,WAAKX,QAAL,CAAcgY,SAAd;AACD;AACF;;AAED9Q,sBAAoB,GAAG;AACrB,QAAI,KAAK6Q,aAAL,IAAsB,KAAKA,aAAL,CAAmBG,KAA7C,EAAoD;AAClD,WAAKH,aAAL,CAAmBG,KAAnB;AACD;AACF;;AAEDC,yBAAuB,CAACZ,UAAD,EAAaC,MAAb,EAAqB;AAC1C,WAAO,2SAAc,KAAKte,KAAL,CAAW2K,MAAzB;AACGoU,4EAAY,CAACV,UAAD,EAAapB,eAAb,CADf;AAECa,cAAU,CAACC,gBAAX,CAA4BO,MAA5B,CAFD,CAAP;AAGD;;AAEDI,gBAAc,CAACQ,EAAD,EAAK;AACjB,QAAIA,EAAE,CAAC5R,GAAH,KAAW,OAAf,EAAwB;AACtB4R,QAAE,CAAC9C,cAAH;;AAEA,WAAKqC,aAAL,CAAmBS,EAAE,CAACC,MAAH,CAAUtK,KAA7B;AACD;AACF;;AAED8J,cAAY,CAACO,EAAD,EAAK;AACf,SAAKT,aAAL,CAAmBS,EAAE,CAACC,MAAH,CAAUtK,KAA7B;AACD;;AAED4J,eAAa,CAACJ,UAAD,EAAa;AACxB,SAAKvX,QAAL,CAAcsY,SAAS,KAAK;AAC1Bf,gBAD0B;AAE1BD,oBAAc,EAAE,KAAKa,uBAAL;AACdZ,gBADc;AAEde,eAAS,CAACd,MAFI,CAFU,EAAL,CAAvB;;;AAOD;;AAEDM,cAAY,CAAC5hB,MAAD,EAAS;AACnB,UAAMshB,MAAM,GAAGthB,MAAM,CAAC6X,KAAtB;AACA,SAAK/N,QAAL,CAAcsY,SAAS,KAAK;AAC1Bd,YAD0B;AAE1BF,oBAAc,EAAE,KAAKa,uBAAL;AACdG,eAAS,CAACf,UADI;AAEdC,YAFc,CAFU,EAAL,CAAvB;;;AAOD;;AAEDE,aAAW,CAAC,EAAElR,GAAF,EAAO0D,KAAP,EAAc/I,KAAd,EAAD,EAAwB;AACjC,UAAM,EAAEmW,cAAF,EAAkBG,mBAAlB,KAA0C,KAAK7X,KAArD;AACA,UAAM2Y,QAAQ,GAAGjB,cAAc,CAACpN,KAAD,CAA/B;AACA,UAAMlJ,UAAU,GAAGyW,mBAAmB,CAACe,GAApB,CAAwBD,QAAQ,CAACle,QAAjC,CAAnB;AACA,UAAMoe,IAAI,GAAGC,6EAAb;AACA,UAAMzQ,EAAE,GAAG0Q,0EAAX;;AAEA,UAAMC,IAAI,GAAG;AACXxiB,aAAO,EAAEmiB,QAAQ,CAACle,QADP;AAEX6G,eAAS,EAAEqX,QAAQ,CAAClC,UAFT,EAAb;;AAIA;AACE,kEAAC,2DAAD;AACE,WAAG,EAAE7P,GADP;AAEE,iBAAS,EAAE,EAAEiS,IAAF,EAAQxQ,EAAR,EAAY2Q,IAAZ,EAFb;AAGE,uBAAe,EAAE;AACf3Q,YAAE,EAAE4Q,sFADW;AAEfJ,cAAI,EAAEK,4FAFS,EAHnB;;AAOE,aAAK,EAAE5O,KAPT;AAQE,aAAK,EAAE,CART;AASE,uBAAe,EAAElJ,UATnB;AAUE,gBAAQ,EAAE,KAAK9H,KAAL,CAAWqM;AACrB;AACA;AAZF,UAaE,mBAAmB;AACnB;AACA;AAfF,UAgBE,KAAK,EAAE,EAhBT;;AAkBG,OAAC,EAAEwT,aAAF,EAAD;AACC,kEAAC,sDAAD;AACE,gBAAQ,EAAEA,aADZ;AAEE,aAAK,EAAE5X,KAFT;AAGE,iBAAS,EAAEoX,QAAQ,CAAClC,UAHtB;AAIE,oBAAY,EAAEkC,QAAQ,CAACS,oBAJzB;AAKE,eAAO,EAAET,QAAQ,CAAChb,QALpB;AAME,qBAAa,EAAEgb,QAAQ,CAACU,cAN1B;AAOE,sBAAc,EAAEV,QAAQ,CAACjC,eAP3B;AAQE,kBAAU,EAAEtV,UARd,GAnBJ,CADF;;;;;AAiCD;;AAED3F,QAAM,GAAG;AACP,UAAM6d,gBAAgB;AACpB,SAAKhgB,KAAL,CAAWtC,MAAX;AACA8f,0BADA;AAEAC,8BAFA;AAGAF,iBAJF;AAKA;AACE,2EAAK,SAAS,EAAC,uBAAf;AACE,kEAAC,QAAD;AACE,kEAAC,4DAAD;AACE,mBAAW,EAAE/a,4DAAC,CAAC,oBAAD,CADhB;AAEE,iBAAS,EAAC,cAFZ;AAGE,gBAAQ,EAAE,KAAKmc,YAHjB;AAIE,kBAAU,EAAE,KAAKD,cAJnB;AAKE,qBAAU,sCALZ,GADF;;AAQE,kEAAC,YAAD;AACE,UAAE,EAAC,oBADL;AAEE,aAAK,EAAE,KAAKhY,KAAL,CAAW4X,MAFpB;AAGE,gBAAQ,EAAE,KAAKM,YAHjB;AAIE,eAAO,EAAE,mMAAe1B,YAAf,oBAAiC,CAAC,CAAC5P,GAAD,EAAMyH,KAAN,CAAD,MAAmB;AAC3DA,eAAK,EAAG,GAAEvS,4DAAC,CAAC,SAAD,CAAY,IAAGuS,KAAM,EAD2B;AAE3DF,eAAK,EAAEvH,GAFoD,EAAnB,CAAjC,CAJX;;AAQE,mBAAW,EAAE9K,4DAAC,CAAC,SAAD,CARhB,GARF,CADF;;;AAoBG,WAAKxC,KAAL,CAAWoC,SAAX,IAAwB,4DAAC,+DAAD,OApB3B;AAqBG,OAAC,KAAKpC,KAAL,CAAWoC,SAAZ,IAAyB,KAAKsE,KAAL,CAAW0X,cAAX,CAA0B3W,MAA1B,GAAmC,CAA5D;AACC,kEAAC,0DAAD;AACE,aAAK,EAAE,GADT;AAEE,cAAM,EAAEuY,gBAFV;AAGE,gBAAQ,EAAE,KAAKtZ,KAAL,CAAW0X,cAAX,CAA0B3W,MAHtC;AAIE,iBAAS,EAAEiW,mBAJb;AAKE,mBAAW,EAAE,KAAKc,WALpB;AAME,kBAAU,EAAE,KAAK9X,KAAL,CAAW2X,UANzB;AAOE,cAAM,EAAE,KAAK3X,KAAL,CAAW4X,MAPrB;AAQE,wBAAgB,EAAE,KAAKte,KAAL,CAAW+c,gBAR/B,GAtBJ;;;AAiCG,WAAK/c,KAAL,CAAWtB,YAAX;AACC,2EAAK,SAAS,EAAC,eAAf,IAAgC,KAAKsB,KAAL,CAAWtB,YAA3C,CAlCJ;;;AAqCE,kEAAC,iEAAD,IAAqB,MAAM,EAAE,KAAKgI,KAAL,CAAW0X,cAAxC,GArCF,CADF;;;AAyCD,GA7LsC;AAAA;AAAA;AAgMzCN,UAAU,CAACjhB,SAAX,GAAuBA,SAAvB;AACAihB,UAAU,CAAC5e,YAAX,GAA0BA,YAA1B,C;;AAEe4e,U,CAAA,yE,iLAhPTjhB,S,yJAYAqC,Y,4JAOA+d,e,+JACAC,Y,4JAOAI,gB,gKAEAC,a,6JACAC,sB,sKACAC,0B,0KACAC,mB,mKAEAC,Q,wJAMAC,Y,4JAKAE,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCrFN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAoCA,MAAM,kBAAkB,GAAG,2DAAC,CAAC,sCAAD,CAA5B;AACA,MAAM,gBAAgB,GAAG,2DAAC,CAAC,gDAAD,CAA1B;AAEA,MAAM,eAAe,GAAG,gEAAM,CAAC,2DAAD,CAAM;UAC1B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;YAE1C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,IAAI;;AAEnD,CALD;AAOA,MAAM,WAAW,GAAyB,CAAC,EACzC,QAAQ,GAAG,IAD8B,EAEzC,YAAY,GAAG,OAAO,EAAP,CAF0B,EAGzC,eAAe,GAAG,OAAO,EAAP,CAHuB,EAIzC,iBAAiB,GAAG,OAAO,EAAP,CAJqB,EAKzC,YAAY,GAAG,OAAO,EAAP,CAL0B,EAMzC,SAAS,GAAG,OAAO,EAAP,CAN6B,EAOzC,QAAQ,GAAG,KAP8B,EAQzC,eAAe,GAAG,EARuB,EASzC,eAAe,GAAG,EATuB,EAUzC,UAAU,GAAG,IAV4B,EAWzC,WAAW,GAAG,IAX2B,EAYzC,QAAQ,GAAG,EAZ8B,EAazC,UAAU,GAAG,EAb4B,EAczC,SAAS,GAAG,EAd6B,EAezC,kBAAkB,GAAG,KAfoB,EAgBzC,gBAAgB,GAAG,KAhBsB,EAiBzC,cAAc,GAAG,KAjBwB,EAkBzC,YAAY,GAAG,KAlB0B,EAmBzC,KAnByC,EAoBzC,WApByC,EAqBzC,WArByC,EAsBzC,eAtByC,EAuBzC,cAvByC,EAwBzC,oBAxByC,EAyBzC,UAzByC,EA0BzC,WA1ByC,EA2BzC,QA3ByC,EAAD,KA4BrC;AACH;AACA,QAAM,gBAAgB,GAAG,+DAAW,CAClC,KAAK,uFAAI,KAAK,CAAC,QAAN,CAAe,KAAf,oBAAe,KAAK,CAAE,QAAtB,CAAJ,+CAAI,sBAAiC,WAArC,qBAAI,uBAA8C,KAAlD,EAD6B,CAApC;AAIA,SACE,qEAAK,SAAS,EAAC,cAAf,EAA8B,aAAU,cAAxC,EAAuD,GAAG,EAAE,QAA5D;AACE,uEAAK,SAAS,EAAC,cAAf;AACE,8DAAC,oEAAD,IACE,KAAK,EACH,SAAS;AACR,YAAQ;AACL,SADK,CACC;AADD,MAEL,EAHK,CAFb,EAOE,OAAO,EAAE,QAPX,EAQE,SAAS,EAAC,EARZ,EASE,WAAW,EAAE,eATf,EAUE,WAAW,EAAE,KAVf,GADF;AAaG,GAAC,CAAC,2FAAc,eAAd,EAA+B,MAAjC,IACC,4DAAC,8DAAD,IACE,EAAE,EAAC,6BADL,EAEE,SAAS,EAAC,KAFZ,EAGE,KAAK,EAAE,kBAHT;AAKE,qEACE,IAAI,EAAC,KADP,EAEE,cAAY,kBAFd,EAGE,SAAS,EAAC,uBAHZ,GALF,CAdJ;;AA0BG,GAAC,CAAC,2FAAc,eAAd,EAA+B,MAAjC,IACC,4DAAC,8DAAD,IACE,EAAE,EAAC,0BADL,EAEE,SAAS,EAAC,KAFZ,EAGE,KAAK,EAAE,gBAHT;AAKE,qEACE,IAAI,EAAC,KADP,EAEE,cAAY,gBAFd,EAGE,SAAS,EAAC,iCAHZ,GALF,CA3BJ,CADF;;;AAyCE,uEAAK,SAAS,EAAC,iBAAf;AACG,GAAC,QAAD,IACC;AACG,kBAAgB,IACf,4DAAC,8DAAD,IACE,SAAS,EAAC,KADZ,EAEE,KAAK,EACH,4DAAC,8FAAD,IACE,SAAS,EAAE;AACT,aAAK,EAAE,gBADE;AAET,YAAI,EAAE,2DAAC,CAAC,gBAAD,CAFE,EADb,GAHJ;;AAWE,8DAAC,eAAD,IAAiB,IAAI,EAAC,oBAAtB,GAXF,CAFJ;;AAgBE,8DAAC,6EAAD,IAAc,OAAO,EAAE,KAAK,CAAC,QAA7B,GAhBF;AAiBE,8DAAC,oFAAD,IACE,KAAK,EAAE,KADT,EAEE,QAAQ,EAAE,QAFZ,EAGE,UAAU,EAAE,UAHd,EAIE,UAAU,EAAE,UAJd,EAKE,WAAW,EAAE,WALf,EAME,iBAAiB,EAAE,iBANrB,EAOE,YAAY,EAAE,YAPhB,EAQE,YAAY,EAAE,YARhB,EASE,SAAS,EAAE,SATb,EAUE,kBAAkB,EAAE,kBAVtB,EAWE,gBAAgB,EAAE,gBAXpB,EAYE,cAAc,EAAE,cAZlB,EAaE,YAAY,EAAE,YAbhB,EAcE,WAAW,EAAE,WAdf,EAeE,WAAW,EAAE,WAff,EAgBE,eAAe,EAAE,eAhBnB,EAiBE,cAAc,EAAE,cAjBlB,EAkBE,oBAAoB,EAAE,oBAlBxB,EAmBE,UAAU,EAAE,UAnBd,EAoBE,WAAW,EAAE,WApBf,EAqBE,QAAQ,EAAE,QArBZ,GAjBF,CAFJ,CAzCF,CADF;;;;AAyFD,CA3HD,C,cAAM,W,0CA8BqB,uD;AA+FZ,W,CAAA,yE,iLAvIT,kB,0KACA,gB,wKAEA,e,uKAOA,W;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCvEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAMjhB,SAAS,GAAG;AAChBojB,OAAK,EAAEljB,kDAAS,CAACC,MAAV,CAAiBI,UADR;AAEhB8iB,aAAW,EAAEnjB,kDAAS,CAACgB,MAAV,CAAiBX,UAFd;AAGhBE,aAAW,EAAEP,kDAAS,CAACI,MAAV,CAAiBC,UAHd;AAIhBoJ,gBAAc,EAAEzJ,kDAAS,CAACa,IAAV,CAAeR,UAJf;AAKhB+iB,UAAQ,EAAEpjB,kDAAS,CAACwB,OAAV,CAAkBxB,kDAAS,CAACkB,IAA5B,CALM;AAMhBmiB,YAAU,EAAErjB,kDAAS,CAACwB,OAAV,CAAkBxB,kDAAS,CAACgB,MAA5B,CANI;AAOhBsiB,YAAU,EAAEtjB,kDAAS,CAACkB,IAPN;AAQhBqiB,aAAW,EAAEvjB,kDAAS,CAACI,MARP;AAShBojB,oBAAkB,EAAExjB,kDAAS,CAACkB,IATd;AAUhBuiB,kBAAgB,EAAEzjB,kDAAS,CAACkB,IAVZ;AAWhBwiB,gBAAc,EAAE1jB,kDAAS,CAACkB,IAXV;AAYhByiB,cAAY,EAAE3jB,kDAAS,CAACkB,IAZR;AAahB0iB,mBAAiB,EAAE5jB,kDAAS,CAACa,IAbb;AAchBga,cAAY,EAAE7a,kDAAS,CAACa,IAdR;AAehBgjB,cAAY,EAAE7jB,kDAAS,CAACa,IAfR;AAgBhBijB,WAAS,EAAE9jB,kDAAS,CAACa,IAhBL,EAAlB;;;AAmBA,MAAMsB,YAAY,GAAG;AACnB0Y,cAAY,EAAE,OAAO,EAAP,CADK;AAEnB+I,mBAAiB,EAAE,OAAO,EAAP,CAFA;AAGnBC,cAAY,EAAE,OAAO,EAAP,CAHK;AAInBC,WAAS,EAAE,OAAO,EAAP,CAJQ;AAKnBT,YAAU,EAAE,EALO;AAMnBE,aAAW,EAAE,IANM;AAOnBH,UAAQ,EAAE,EAPS;AAQnBE,YAAU,EAAE,KARO;AASnBE,oBAAkB,EAAE,KATD;AAUnBC,kBAAgB,EAAE,KAVC;AAWnBC,gBAAc,EAAE,KAXG;AAYnBC,cAAY,EAAE,KAZK,EAArB;;;AAeA,MAAMvN,SAAS,GAAG;AAChB2N,sBAAoB,EAAE,sBADN;AAEhBC,eAAa,EAAE,eAFC;AAGhBC,0BAAwB,EAAE,0BAHV;AAIhBC,eAAa,EAAE,eAJC;AAKhBC,YAAU,EAAE,YALI;AAMhBC,cAAY,EAAE,cANE;AAOhBxN,mBAAiB,EAAE,mBAPH;AAQhByN,YAAU,EAAE,YARI,EAAlB;;;AAWA,MAAMC,qBAAqB,GAAGjiB,yDAAM,CAACC,GAAI;AACzC,aAAa,CAAC,EAAEE,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AAC/C,MAAM,CAAC,EAAEhJ,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,GAAI;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAXA;;AAaA,MAAM+Y,cAAc,GAAGliB,yDAAM,CAACC,GAAI;AAClC;AACA,YAAY,CAAC,EAAEE,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAS;AAC1C,WAAW,CAAC,EAAEhJ,KAAF,EAAD,KAAeA,KAAK,CAAC6I,MAAN,CAAaC,SAAb,CAAuBS,IAAK;AACtD,iBAAiB,CAAC,EAAEvJ,KAAF,EAAD,KAAeA,KAAK,CAACC,UAAN,CAAiBC,KAAjB,CAAuB8hB,CAAvB,GAA2B,GAAI;AAC/D;AACA;AACA;AACA;AACA,CATA;;AAWA,MAAMzN,wBAAwB,GAAG,mCAAjC;;AAEA,MAAM0N,mBAAmB,GAAG;AAC1B,4DAAC,qBAAD;AACE,sEAAM,SAAS,EAAC,KAAhB,GADF;AAEE,sEAAM,SAAS,EAAC,KAAhB,GAFF;AAGE,sEAAM,SAAS,EAAC,KAAhB,GAHF,CADF;;;;AAQA,MAAMC,mBAAN,SAAkC5hB,4CAAK,CAACC,aAAxC,CAAsD;AACpDC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0hB,cAAL,GAAsB,2GAAKA,cAAL,iBAAyB,IAAzB,CAAtB;AACA,SAAKC,YAAL,GAAoB,4GAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACA,SAAKvN,eAAL,GAAuB,4GAAKA,eAAL,kBAA0B,IAA1B,CAAvB;;AAEA,SAAK1N,KAAL,GAAa;AACXkb,kBAAY,EAAE,KADH;AAEXC,iCAA2B,EAAE,KAFlB,EAAb;;AAID;;AAEDF,cAAY,GAAG;AACb,QAAI,KAAK3hB,KAAL,CAAWsgB,WAAf,EAA4B;AAC1B,WAAKtgB,KAAL,CAAW4X,YAAX;AACE,uGAAK5X,KAAL,EAAiBmB,QADnB;AAEE,WAAKnB,KAAL,CAAW1C,WAFb;;AAID;AACF;;AAEDokB,gBAAc,GAAG;AACf,SAAK5a,QAAL,CAAcsY,SAAS,KAAK;AAC1BwC,kBAAY,EAAE,CAACxC,SAAS,CAACwC,YADC,EAAL,CAAvB;;AAGD;;AAEDxN,iBAAe,CAAC,EAAE9G,GAAF,EAAO4H,QAAP,EAAD,EAAoB;AACjC,YAAQ5H,GAAR;AACE,WAAK6F,SAAS,CAAC4N,aAAf;AACE,aAAKY,YAAL;AACA;AACF,WAAKxO,SAAS,CAAC2N,oBAAf;AACE,aAAKha,QAAL,CAAc,EAAE+a,2BAA2B,EAAE,IAA/B,EAAd;AACA;AACF,WAAK1O,SAAS,CAAC6N,wBAAf;AACE,aAAKhhB,KAAL,CAAW2gB,iBAAX,CAA6B,iGAAK3gB,KAAL,EAAiBmB,QAA9C;AACA;AACF,WAAKgS,SAAS,CAAC8N,aAAf;AACE,aAAKjhB,KAAL,CAAW4gB,YAAX,CAAwB,iGAAK5gB,KAAL,EAAiBmB,QAAzC;AACA;AACF,WAAKgS,SAAS,CAAC+N,UAAf;AACE,aAAKlhB,KAAL,CAAW6gB,SAAX,CAAqB,iGAAK7gB,KAAL,EAAiBmB,QAAtC;AACA;AACF,WAAKgS,SAAS,CAACgO,YAAf;AACE,aAAKnhB,KAAL,CAAW8hB,oBAAX;AACA;AACF,WAAK3O,SAAS,CAACQ,iBAAf,CAAkC;AAChC;AACA;AACA,gBAAMwB,IAAI,GAAGvP,QAAQ,CAACwP,aAAT;AACX,mDADW,CAAb;;AAGAD,cAAI,CAAClN,KAAL,CAAWoN,UAAX,GAAwB,QAAxB;AACAC,oFAAe;AACbxB,kCADa;AAEb,2GAAK9T,KAAL,EAAiBmd,UAFJ,CAAf;AAGEjI,kBAHF,EAGYhO,IAHZ,CAGiB,MAAM;AACrBiO,gBAAI,CAAClN,KAAL,CAAWoN,UAAX,GAAwB,SAAxB;AACD,WALD;AAMA;AACD;AACD;AACE,cAnCJ;;AAqCD;;AAEDlT,QAAM,GAAG;AACP,UAAM;AACJ8d,WADI;AAEJE,cAFI;AAGJC,gBAHI;AAIJE,iBAJI;AAKJJ,iBALI;AAMJpO,qBANI;AAOJtL,oBAPI;AAQJub,gBARI;AASJvB,sBATI;AAUF,SAAKxgB,KAVT;AAWA,UAAMgiB,gBAAgB,GAAGC,kEAAwB,GAAGC,KAApD;AACA,UAAMC,aAAa,GAAG,4SAAeH,gBAAf;AACpB;AADoB,sBAEZ,CAAC,GAAG,EAAEnN,KAAF,EAAH,CAAD;AACNA,WAAK,CAACuN,SADA,qBACN,wIAA0Bvd,2DAAQ,CAACC,iBAAnC,CADM,EAFY;;AAKd,KAAC,CAACwI,GAAD,CAAD,KAAWA,GAAG,KAAK2S,KAAK,CAAC5b,QALX,CAAtB;;AAOA,UAAMge,UAAU,GAAG,0FAAAjC,UAAU,MAAV,CAAAA,UAAU,EAAK,CAAAkC,cAAc;AAC9CxJ,kDAAM,CAACyJ,GAAP,CAAWD,cAAX,EAA2BE,OAA3B,EAD2B,CAA7B;;AAGA,UAAMC,WAAW,GAAGnC,WAAW,GAAGxH,8CAAM,CAACyJ,GAAP,CAAWjC,WAAX,EAAwBkC,OAAxB,EAAH,GAAuC,EAAtE;AACA,UAAME,cAAc,GAAGC,UAAU,IAAI;AACnC,UAAIA,UAAJ,EAAgB;AACd,eAAOngB,4DAAC,CAAC,WAAD,EAAc6f,UAAd,CAAR;AACD;AACD,UAAII,WAAJ,EAAiB;AACf,eAAOjgB,4DAAC,CAAC,YAAD,EAAeigB,WAAf,CAAR;AACD;AACD,aAAO,EAAP;AACD,KARD;AASA,UAAMG,kBAAkB,GAAG,0FAAAzC,QAAQ,MAAR,CAAAA,QAAQ,EAAKuC,cAAL,CAAR,IAAgC,EAA3D;AACA;AACA,QAAIG,cAAc,GAAG,CAAC,GAAG,IAAI,iFAAID,kBAAR,CAAJ,CAArB;AACAC,kBAAc,GAAG,0FAAAA,cAAc,MAAd,CAAAA,cAAc,EAAK,CAACtgB,IAAD,EAAOyO,KAAP;AAClC,yEAAK,GAAG,EAAG,WAAUA,KAAM,EAA3B;AACG6R,kBAAc,CAACpb,MAAf,GAAwB,CAAxB;AACI,OAAEjF,4DAAC,CAAC,OAAD,CAAU,IAAGwO,KAAK,GAAG,CAAE,KAAIzO,IAAK,EADvC;AAEGA,QAHN,CAD6B,CAA/B;;;AAOA,UAAMugB,WAAW,GAAGf,UAAU,GAAGvf,4DAAC,CAAC,gBAAD,CAAJ,GAAyBA,4DAAC,CAAC,gBAAD,CAAxD;AACA,UAAM2S,IAAI;AACR,gEAAC,2DAAD;AACE,aAAO,EAAE,KAAKf,eADhB;AAEE,gBAAU,EAAE,KAFd;AAGE,mBAAY,SAAQ6L,KAAK,CAAC9e,QAAS,OAHrC;;AAKE,gEAAC,2DAAD,CAAM,IAAN;AACE,SAAG,EAAEgS,SAAS,CAAC4N,aADjB;AAEE,cAAQ,EAAE,KAAK/gB,KAAL,CAAW5B,WAAX,KAA2B,SAFvC;AAGE,WAAK,EAAE,EAAEV,MAAM,EAAE,MAAV,EAAkBqlB,UAAU,EAAE,SAA9B,EAHT;AAIE,mBAAU,yBAJZ;;AAMGvgB,gEAAC,CAAC,eAAD,CANJ;AAOE,gEAAC,cAAD,IAAgB,aAAU,iCAA1B;AACGqgB,kBADH,CAPF,CALF;;;;AAiBE,gEAAC,2DAAD,CAAM,OAAN,OAjBF;;AAmBG5C,SAAK,CAAC+C,WAAN;AACC,gEAAC,2DAAD,CAAM,IAAN,IAAW,GAAG,EAAE7P,SAAS,CAAC6N,wBAA1B;AACGxe,gEAAC,CAAC,0BAAD,CADJ,CApBJ;;;;AAyBG,SAAKxC,KAAL,CAAWugB,kBAAX;AACC,gEAAC,2DAAD,CAAM,IAAN,IAAW,GAAG,EAAEpN,SAAS,CAAC8N,aAA1B;AACGze,gEAAC,CAAC,uBAAD,CADJ,CA1BJ;;;;AA+BG,SAAKxC,KAAL,CAAWugB,kBAAX;AACC,gEAAC,2DAAD,CAAM,IAAN,IAAW,GAAG,EAAEpN,SAAS,CAACiO,UAA1B;AACE,gEAAC,oEAAD;AACE,iBAAW;AACT,4EAAM,aAAU,sBAAhB,IAAwC5e,4DAAC,CAAC,YAAD,CAAzC,CAFJ;;AAIE,gBAAU,EAAEA,4DAAC,CAAC,YAAD,CAJf;AAKE,eAAS;AACP,kEAAC,uFAAD,IAAgB,mBAAmB,EAAE,KAAKxC,KAAL,CAAWxC,QAAhD,GANJ;;AAQE,gBAAU,MARZ,GADF,CAhCJ;;;;;AA8CGgjB,oBAAgB;AACf,gEAAC,qFAAD;AACE,SAAG,EAAEva,mFAAe;AAClBC,YAAM,CAACC,QAAP,CAAgBC,QADE;AAElBmP,yGAAgB,EAFE;AAGlB2K,iBAHkB,CADtB;;AAME,uBAAiB,EAAE1d,4DAAC,CAAC,gBAAD,CANtB;AAOE,wBAAkB,EAAEA,4DAAC,CAAC,sBAAD,CAPvB;AAQE,kBAAY,EAAEA,4DAAC,CAAC,gBAAD,CARjB;AASE,eAAS,EAAEA,4DAAC,CAAC,wBAAD,CATd;AAUE,qBAAe,EAAEsP,eAVnB;AAWE,oBAAc,EAAEtL,cAXlB,GA/CJ;;;;AA8DE,gEAAC,2DAAD,CAAM,IAAN,IAAW,GAAG,EAAE2M,SAAS,CAACgO,YAA1B,IAAyC2B,WAAzC,CA9DF;;AAgEE,gEAAC,2DAAD,CAAM,IAAN,IAAW,GAAG,EAAE3P,SAAS,CAACQ,iBAA1B;AACGnR,gEAAC,CAAC,mBAAD,CADJ,CAhEF;;;AAoEG,SAAKxC,KAAL,CAAWygB,cAAX;AACC,gEAAC,2DAAD,CAAM,IAAN,IAAW,GAAG,EAAEtN,SAAS,CAAC+N,UAA1B,IAAuC1e,4DAAC,CAAC,YAAD,CAAxC,CArEJ;;AAuEGnC,8EAAgB,CAACC,6DAAW,CAACsN,uBAAb,CAAhB;AACCuU,iBADD;AAEG,gEAAC,2DAAD,CAAM,IAAN,IAAW,GAAG,EAAEhP,SAAS,CAAC2N,oBAA1B;AACGte,gEAAC,CAAC,sBAAD,CADJ,CAzEN,CADF;;;;;;AAiFA;AACE;AACE,kEAAC,iHAAD;AACE,eAAO,EAAEyd,KAAK,CAAC9e,QADjB;AAEE,cAAM,EAAE,KAAKuF,KAAL,CAAWmb,2BAFrB;AAGE,eAAO,EAAE,MAAM,KAAK/a,QAAL,CAAc,EAAE+a,2BAA2B,EAAE,KAA/B,EAAd,CAHjB,GADF;;AAMGE,gBAAU;AACT,kEAAC,6DAAD,CAAO,sBAAP;AACE,aAAK,EAAE,EAAEkB,QAAQ,EAAE,EAAZ,EADT;AAEE,eAAO,EAAE,MAAM;AACb,eAAKjjB,KAAL,CAAW8hB,oBAAX;AACD,SAJH,GAPJ;;;AAcE,kEAAC,0EAAD;AACE,eAAO,EAAE3M,IADX;AAEE,eAAO,EAAE,CAAC,OAAD,CAFX;AAGE,iBAAS,EAAC,aAHZ;AAIE,qBAAa,EAAE;AACb+N,gBAAM,EAAE,CAAC,CAAC,EAAF,EAAM,CAAN,CADK,EAJjB;;AAOE,yBAAiB,EAAE,CAAAha,WAAW;AAC5BA,mBAAW,CAAC4M,OAAZ,CAAoBhC,wBAApB,CARJ;;;AAWE;AACE,UAAE,EAAG,SAAQmM,KAAK,CAAC9e,QAAS,WAD9B;AAEE,YAAI,EAAC,QAFP;AAGE,sBAAW,cAHb;;AAKE,kEAAC,mBAAD,OALF,CAXF,CAdF,CADF;;;;;AAoCD,GArOmD;AAAA;AAAA;AAwOtDsgB,mBAAmB,CAAC5kB,SAApB,GAAgCA,SAAhC;AACA4kB,mBAAmB,CAACviB,YAApB,GAAmCA,YAAnC,C;;AAEeuiB,mB,CAAA,yE,iLA1TT5kB,S,yKAmBAqC,Y,4KAeAiU,S,yKAWAkO,qB,qLAaAC,c,8KAWAxN,wB,wLAEA0N,mB,mLAQAC,mB;;;;;;;;;;;;;;;;;;;;;;;wSCrHN;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AACA;;AAGA,MAAM,OAAO,GAAG,wDAAM,CAAC,GAAG;;WAEf,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;cAC9B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;;wBAKvB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,gBAAN,GAAyB,CAAC;;;;;;;;;AAShE,CAjBD;AAmBA,MAAM,QAAQ,GAAG,wDAAM,CAAC,GAAG;;;;;AAK1B,CALD;AAaA;;;;;;AAMG;AACI,MAAM,iBAAiB,GAAuB,CAAC,EACpD,SADoD,EAEpD,QAFoD,EAGpD,WAHoD,EAAD,KAKnD,2DAAC,OAAD,IAAS,SAAS,EAAE,iDAAE,CAAC,EAAE,IAAI,EAAE,WAAR,EAAD,CAAtB;AACE,2DAAC,4DAAD;AACE,2DAAC,mDAAD,IAAQ,SAAS,EAAE,CAAC,SAApB,EAA+B,YAAY,EAAE,QAA7C;AACG,CAAC,EACA,KADA,EAEA,QAFA,EAGA,eAHA,EAAD,KASC,2DAAC,QAAD,IACE,KAAK,EACH,QAAQ;AACJ;AACE,OAAG,KADL;AAEE,OAAG,EAAE,SAFP;AAGE,UAAM,EAAE,gBAAgB,SAAS,KAHnC,EADI;;AAMJ;AACE,UAAM,EAAE,gBAAgB,eAAe,KADzC,EARR;;AAaG,QAbH,CAVJ,CADF,CADF,CALK,C,iLAvCD,O,8JAmBA,Q,+JAoBO,iB;;;;;;;;;;;;;;;;;;;;wSC/Db;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM5kB,SAAS,GAAG;AAChB6Z,QAAM,EAAE3Z,iDAAS,CAACa,IAAV,CAAeR,UADP;AAEhBuZ,QAAM,EAAE5Z,iDAAS,CAACa,IAAV,CAAeR,UAFP,EAAlB;;;AAKA,MAAM+lB,oBAAN,SAAmCtjB,4CAAK,CAACC,aAAzC,CAAuD;AACrDC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKojB,aAAL,GAAqB,2GAAKA,aAAL,iBAAwB,IAAxB,CAArB;AACD;;AAEDljB,mBAAiB,GAAG;AAClB0F,YAAQ,CAAC4F,gBAAT,CAA0B,SAA1B,EAAqC,KAAK4X,aAA1C;AACD;;AAEDpV,sBAAoB,GAAG;AACrBpI,YAAQ,CAAC8F,mBAAT,CAA6B,SAA7B,EAAwC,KAAK0X,aAA7C;AACD;;AAEDA,eAAa,CAACzX,KAAD,EAAQ;AACnB,UAAM0X,gBAAgB,GAAG1X,KAAK,CAAC2X,OAAN,IAAiB3X,KAAK,CAAC4X,OAAhD;AACA,QAAIF,gBAAJ,EAAsB;AACpB,YAAMG,OAAO,GAAG7X,KAAK,CAAC2B,GAAN,KAAc,GAAd,IAAqB3B,KAAK,CAAC8X,OAAN,KAAkB,EAAvD;AACA,YAAMC,OAAO,GAAG/X,KAAK,CAAC2B,GAAN,KAAc,GAAd,IAAqB3B,KAAK,CAAC8X,OAAN,KAAkB,EAAvD;AACA,YAAME,iBAAiB;AACrB/d,cAAQ,IAAIA,QAAQ,CAACwP,aAAT,CAAuB,8BAAvB,CADd;;AAGA,UAAI,CAACuO,iBAAD,KAAuBH,OAAO,IAAIE,OAAlC,CAAJ,EAAgD;AAC9C/X,aAAK,CAACyQ,cAAN;AACA,cAAMxe,IAAI,GAAG4lB,OAAO,GAAG,KAAKxjB,KAAL,CAAW0W,MAAd,GAAuB,KAAK1W,KAAL,CAAW2W,MAAtD;AACA/Y,YAAI;AACL;AACF;AACF;;AAEDuE,QAAM,GAAG;AACP,WAAO,IAAP;AACD,GAhCoD;AAAA;AAAA;AAmCvDghB,oBAAoB,CAACtmB,SAArB,GAAiCA,SAAjC,C;;AAEesmB,oB,CAAA,yE,iLA1CTtmB,S,0KAKAsmB,oB;;;;;;;;;;;;;;;;;;;;;;;wSC1BN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAMA,MAAMS,gBAAgB,GAAG;AACvBC,UAAQ,EAAE,OADa;AAEvBC,eAAa,EAAE,MAFQ;AAGvBrT,KAAG,EAAE,CAHkB;AAIvBkB,MAAI,EAAE,CAJiB;AAKvB7H,QAAM,EAAE,GALe,EAKV;AACbrM,OAAK,EAAE,MAAM,IAAI,EANM,EAAzB;;;AASA,MAAMZ,SAAS,GAAG;AAChBknB,UAAQ,EAAEhnB,iDAAS,CAACkN,KAAV,CAAgB;AACxB+G,SAAK,EAAEjU,iDAAS,CAACI,MAAV,CAAiBC,UADA,EAAhB,CADM;;AAIhBuN,QAAM,EAAE5N,iDAAS,CAACwB,OAAV,CAAkBqM,+DAAlB,CAJQ;AAKhBoZ,YAAU,EAAEjnB,iDAAS,CAACkB,IAAV,CAAeb,UALX;AAMhB6mB,eAAa,EAAElnB,iDAAS,CAACkN,KAAV,CAAgB;AAC7Bia,KAAC,EAAEnnB,iDAAS,CAACI,MAAV,CAAiBC,UADS;AAE7B+mB,KAAC,EAAEpnB,iDAAS,CAACI,MAAV,CAAiBC,UAFS,EAAhB,CANC,EAAlB;;;;AAYA,MAAM8B,YAAY,GAAG;AACnB+kB,eAAa,EAAE,IADI;AAEnBF,UAAQ,EAAE,IAFS;AAGnBpZ,QAAM,EAAE,IAHW,EAArB;;;AAMA,SAASyZ,mBAAT,CAA6B,EAAEL,QAAF,EAAYpZ,MAAZ,EAAoBqZ,UAApB,EAAgCC,aAAhC,EAA7B,EAA8E;AAC5E,MAAI,CAACD,UAAD,IAAe,CAACC,aAAhB,IAAiC,CAACF,QAAlC,IAA8C,CAACpZ,MAAnD,EAA2D,OAAO,IAAP;;AAE3D,QAAMsV,KAAK,GAAGtV,MAAM,CAACoZ,QAAQ,CAAC/S,KAAV,CAApB;;AAEA;AACA,QAAMqT,YAAY;AAChBpE,OAAK;AACL8D,UAAQ,CAACO,UAAT,KAAwB1E,8EADxB;AAEAmE,UAAQ,CAACxE,IAAT,KAAkBC,+DAHpB;;AAKA,SAAO,CAAC6E,YAAD,GAAgB,IAAhB;AACL,6DAAC,qDAAD;AACE,SAAK,EAAE;AACL,SAAGT,gBADE;AAELW,eAAS,EAAG,aAAYN,aAAa,CAACC,CAAE,OAAMD,aAAa,CAACE,CAAE,KAFzD,EADT;;AAKE,aAAS,EAAElE,KAAK,CAAC9C,UALnB;AAME,gBAAY,EAAE8C,KAAK,CAACH,oBANtB;AAOE,WAAO,EAAEG,KAAK,CAAC5b,QAPjB;AAQE,iBAAa,EAAE4b,KAAK,CAACF,cARvB;AASE,kBAAc,EAAEE,KAAK,CAAC7C,eATxB,GADF;;;AAaD;;AAEDgH,mBAAmB,CAACvnB,SAApB,GAAgCA,SAAhC;AACAunB,mBAAmB,CAACllB,YAApB,GAAmCA,YAAnC;;AAEA;iBACeslB,2DAAS,CAACC,OAAO,KAAK;AACnCV,UAAQ,EAAEU,OAAO,CAACC,OAAR,EADyB;AAEnCT,eAAa,EAAEQ,OAAO,CAACE,qBAAR,EAFoB;AAGnCX,YAAU,EAAES,OAAO,CAACT,UAAR,EAHuB,EAAL,CAAR,CAAT;AAIXI,mBAJW,C,CAAA,yE,iLAzDTR,gB,8KASA/mB,S,uKAYAqC,Y,0KAMGklB,mB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCxDT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAQA,MAAMvnB,SAAS,GAAG;AAChB0U,UAAQ,EAAExU,iDAAS,CAACa,IADJ;AAEhBqe,WAAS,EAAElf,iDAAS,CAACgB,MAFL;AAGhB6mB,WAAS,EAAEtV,+DAAc,CAAClS,UAHV;AAIhBynB,iBAAe,EAAEvV,+DAJD;AAKhBF,OAAK,EAAErS,iDAAS,CAACI,MAAV,CAAiBC,UALR;AAMhB0nB,iBAAe,EAAE/nB,iDAAS,CAACkB,IANX;AAOhB8mB,aAAW,EAAEhoB,iDAAS,CAACqI,KAAV,CAAgB,CAAC,KAAD,EAAQ,QAAR,CAAhB,CAPG;AAQhB4L,OAAK,EAAEjU,iDAAS,CAACI,MAAV,CAAiBC,UARR;AAShB6K,OAAK,EAAElL,iDAAS,CAACC,MATD;AAUhBgoB,QAAM,EAAEjoB,iDAAS,CAACa,IAVF;AAWhByO,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UAXT;AAYhB6nB,qBAAmB,EAAEloB,iDAAS,CAACkB,IAZf;;AAchB;AACA+lB,YAAU,EAAEjnB,iDAAS,CAACkB,IAAV,CAAeb,UAfX;AAgBhB8nB,gBAAc,EAAEnoB,iDAAS,CAACkB,IAAV,CAAeb,UAhBf;AAiBhB+nB,uBAAqB,EAAEpoB,iDAAS,CAACkB,IAAV,CAAeb,UAjBtB;AAkBhBgoB,cAAY,EAAEroB,iDAAS,CAACa,IAAV,CAAeR,UAlBb;AAmBhByiB,eAAa,EAAE9iB,iDAAS,CAACa,IAAV,CAAeR,UAnBd;AAoBhBioB,gBAAc,EAAEtoB,iDAAS,CAACa,IAAV,CAAeR,UApBf,EAAlB;;;AAuBA,MAAM8B,YAAY,GAAG;AACnB+c,WAAS,EAAE,IADQ;AAEnBhU,OAAK,EAAE,IAFY;AAGnB4c,iBAAe,EAAE,IAHE;AAInBC,iBAAe,EAAE,KAJE;AAKnBvT,UAAQ,GAAG,CAAE,CALM;AAMnByT,QAAM,GAAG,CAAE,CANQ;AAOnBD,aAAW,EAAE,KAPM;AAQnBE,qBAAmB,EAAE,KARF,EAArB;;;AAWA;AACO,MAAMK,sBAAN,SAAqCzlB,4CAAK,CAACmD,SAA3C,CAAqD;AAC1DjD,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACX6e,mBAAa,EAAE,IADJ,CACU;AADV,KAAb;AAGA,SAAKC,MAAL,GAAc,2GAAKA,MAAL,iBAAiB,IAAjB,CAAd;AACD;;AAEDtlB,mBAAiB,GAAG;AAClB,SAAKulB,OAAL,GAAe,IAAf;AACD;;AAEDzX,sBAAoB,GAAG;AACrB,SAAKyX,OAAL,GAAe,KAAf;AACD;;AAEDD,QAAM,CAAC9U,GAAD,EAAM;AACV,SAAKA,GAAL,GAAWA,GAAX;AACA;AACA,QAAI,KAAK1Q,KAAL,CAAWilB,mBAAf,EAAoC;AAClC,WAAKjlB,KAAL,CAAWqlB,cAAX,CAA0BK,6EAAa,EAAvC,EAA2C;AACzC;AACA;AACAC,4BAAoB,EAAE,IAHmB,EAA3C;;AAKD,KAND,MAMO;AACL,WAAK3lB,KAAL,CAAWqlB,cAAX,CAA0B3U,GAA1B;AACD;AACD,SAAK1Q,KAAL,CAAWolB,YAAX,CAAwB1U,GAAxB;AACD;;AAEDvO,QAAM,GAAG;AACP,UAAM;AACJoP,cADI;AAEJ0K,eAFI;AAGJ8I,iBAHI;AAIJlF,mBAJI;AAKJmE,gBALI;AAMJkB,oBANI;AAOJjd,WAPI;AAQJoE,cARI;AASF,SAAKrM,KATT;;AAWA,UAAM,EAAEulB,aAAF,KAAoB,KAAK7e,KAA/B;AACA,UAAM4K,kBAAkB;AACtB4T,kBAAc,IAAIK,aAAlB;AACI;AACEtJ,eAAS,EAAEjT,iDAAE;AACX,sBADW;AAEXuc,mBAAa,KAAKK,+DAAlB,IAA8B,qBAFnB;AAGXL,mBAAa,KAAKM,kEAAlB,IAAiC,wBAHtB;AAIXN,mBAAa,KAAKO,gEAAlB,IAA+B,sBAJpB;AAKXP,mBAAa,KAAKQ,iEAAlB,IAAgC,uBALrB,CADf,EADJ;;;AAUI,QAXN;;AAaA,UAAMC,UAAU,GAAG3Z,QAAQ;AACvB;AACEwT,mBADF;AAEEvO,wBAFF,EADuB;;AAKvB,MALJ;;AAOA;AACE;AACE,aAAK,EAAErJ,KADT;AAEE,WAAG,EAAE,KAAKud,MAFZ;AAGE,qBAAU,sBAHZ;AAIE,iBAAS,EAAExc,iDAAE;AACX,uBADW;AAEX+b,mBAAW,KAAK,KAAhB,IAAyB,mBAFd;AAGXA,mBAAW,KAAK,QAAhB,IAA4B,sBAHjB;AAIXf,kBAAU,IAAI,yBAJH;AAKX/H,iBALW,CAJf;;;AAYG1K,cAAQ,CAACyU,UAAD,CAZX,CADF;;;AAgBD,GAjFyD;AAAA;AAAA;AAoF5DV,sBAAsB,CAACzoB,SAAvB,GAAmCA,SAAnC;AACAyoB,sBAAsB,CAACpmB,YAAvB,GAAsCA,YAAtC;;AAEA;AACA;iBACe+mB,4DAAU,CAAC,GAAGC,+DAAJ,CAAV;AACbC,4DAAU,CAAC,GAAGC,+DAAJ,CAAV,CAA0Bd,sBAA1B,CADa,C,CAAA,yE,iLA5HTzoB,S,iKAuBAqC,Y,oKAYOomB,sB;;;;;;;;;;;;;;;;;;;;;;;;;;wSCpEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAMzoB,SAAS,GAAG;AAChBgnB,UAAQ,EAAE9mB,iDAAS,CAACqI,KAAV,CAAgB,CAAC,MAAD,EAAS,KAAT,CAAhB,CADM;AAEhByC,UAAQ,EAAE9K,iDAAS,CAACa,IAFJ;AAGhByoB,UAAQ,EAAEtpB,iDAAS,CAACI,MAHJ,EAAlB;;;AAMA,MAAM+B,YAAY,GAAG;AACnB2kB,UAAQ,EAAE,MADS;AAEnBhc,UAAQ,EAAE,IAFS;AAGnBwe,UAAQ,EAAE,CAHS,EAArB;;;AAMe,MAAMC,UAAN,SAAyBzmB,4CAAK,CAACC,aAA/B,CAA6C;AAC1DqC,QAAM,GAAG;AACP,UAAM,EAAE0F,QAAF,EAAYgc,QAAZ,EAAsBwC,QAAtB,KAAmC,KAAKrmB,KAA9C;AACA;AACE;AACE,WAAG,EAAE6H,QADP;AAEE,iBAAS,EAAEmB,iDAAE;AACX,qBADW;AAEX6a,gBAAQ,KAAK,MAAb,IAAuB,mBAFZ;AAGXA,gBAAQ,KAAK,KAAb,IAAsB,kBAHX,CAFf;;;AAQG,kNAAArS,KAAK,CAAC6U,QAAD,CAAL;AACO,UADP;AAEM,OAAC5U,CAAD,EAAIC,CAAJ;AACH,0EAAK,GAAG,EAAG,cAAaA,CAAE,EAA1B,EAA6B,SAAS,EAAC,iBAAvC,GAHH,CARH,CADF;;;;AAgBD,GAnByD;AAAA;AAAA;AAsB5D4U,UAAU,CAACzpB,SAAX,GAAuBA,SAAvB;AACAypB,UAAU,CAACpnB,YAAX,GAA0BA,YAA1B,C,iLAnCMrC,S,8JAMAqC,Y,iKAMeonB,U;;;;;;;;;;;;;;;;;;wSClCrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMC,IAAI,GAAG,gBAAb;;AAEO,MAAML,UAAU,GAAG;AACxBK,IADwB;AAExB;AACEC,SAAO,CAACxmB,KAAD,EAAQ;AACb,WAAO,CAACA,KAAK,CAACymB,eAAd;AACD,GAHH;;AAKE;AACAC,WAAS,CAAC1mB,KAAD,CAAO,0BAAP,EAAmC;AAC1C,UAAM,EAAE4kB,SAAF,EAAa5T,KAAb,EAAoB6T,eAAe,GAAG,EAAtC,KAA6C7kB,KAAnD;AACA,WAAO;AACLuf,UAAI,EAAEqF,SAAS,CAACrF,IADX;AAELxQ,QAAE,EAAE6V,SAAS,CAAC7V,EAFT;AAGL2Q,UAAI,EAAEkF,SAAS,CAAClF,IAHX;AAIL1O,WAJK;AAKL2V,cAAQ,EAAE9B,eAAe,CAAC9V,EALrB;AAMLuV,gBAAU,EAAEO,eAAe,CAACtF,IANvB,EAAP;;AAQD,GAhBH,EAFwB;;AAoBxB,SAASqH,gBAAT,CAA0B/jB,OAA1B,EAAmC4hB,OAAnC,EAA4C;AAC1C,SAAO;AACL5E,iBAAa,EAAEhd,OAAO,CAACgkB,UAAR,EADV;AAELxB,kBAAc,EAAExiB,OAAO,CAACikB,WAAR,EAFX;AAGL9C,cAAU,EAAES,OAAO,CAACT,UAAR,EAHP,EAAP;;AAKD,CA1BuB,CAAnB;;;AA6BA,MAAMoC,UAAU,GAAG;AACxBG,IADwB;AAExB;AACEQ,OAAK,CAAC/mB,KAAD,EAAQykB,OAAR,EAAiBG,SAAjB,EAA4B;AAC/B,QAAIA,SAAS,IAAIA,SAAS,CAACa,OAA3B,EAAoC;AAClCuB,kEAAW,CAAChnB,KAAD,EAAQykB,OAAR,EAAiBG,SAAjB,CAAX;AACD;AACF,GALH;AAME;AACA;AACA;AACAqC,MAAI,CAACjnB,KAAD,EAAQykB,OAAR,EAAiBG,SAAjB,EAA4B;AAC9B,UAAM9T,UAAU,GAAG2T,OAAO,CAACyC,aAAR,EAAnB;AACA,QAAI,CAAC,CAACpW,UAAD,IAAe,CAACA,UAAU,CAACC,WAA5B,KAA4C6T,SAAS,CAACa,OAA1D,EAAmE;AACjE,aAAO0B,2DAAU,CAACnnB,KAAD,EAAQykB,OAAR,EAAiBG,SAAjB,CAAjB;AACD;AACD,WAAO1R,SAAP;AACD,GAfH,EAFwB;;AAmBxB,SAASkU,gBAAT,CAA0BvkB,OAA1B,EAAmC4hB,OAAnC,EAA4C;AAC1C,SAAO;AACLW,gBAAY,EAAEviB,OAAO,CAACwkB,UAAR,EADT;AAELnC,kBAAc,EAAET,OAAO,CAAC6C,MAAR,EAFX;AAGLnC,yBAAqB,EAAEV,OAAO,CAAC6C,MAAR,CAAe,EAAEC,OAAO,EAAE,IAAX,EAAf,CAHlB,EAAP;;AAKD,CAzBuB,CAAnB,C,iLA/BDhB,I,iKAEOL,U,uKA6BAE,U;;;;;;;;;;;;;;;;wSCrDb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAQe,SAASe,UAAT,CAAoBnnB,KAApB,EAA2BykB,OAA3B,EAAoCzhB,SAApC,EAA+C;AAC5D;AACA,MAAI,CAACA,SAAS,CAACyiB,OAAf,EAAwB,OAAOvS,SAAP;;AAExBlQ,WAAS,CAAC8D,QAAV,CAAmB,OAAO,EAAEye,aAAa,EAAE,IAAjB,EAAP,CAAnB;AACA,QAAMiC,YAAY,GAAGC,qEAAe,CAAChD,OAAD,EAAUzhB,SAAV,CAApC;;AAEA,MAAI,CAACwkB,YAAL,EAAmB;AACjB,WAAOtU,SAAP;AACD;;AAED,QAAM;AACJ2R,mBADI;AAEJD,aAFI;AAGJ5T,SAAK,EAAE0W,cAHH;AAIJ1C,UAJI;AAKJD,eALI;AAMF/hB,WAAS,CAAChD,KANd;;AAQA,QAAM2nB,YAAY,GAAGlD,OAAO,CAACC,OAAR,EAArB;;AAEA,QAAMkD,oBAAoB;AACvB7C,aAAW,KAAK,KAAhB;AACEyC,cAAY,KAAK5B,8DAAjB,IAA6B4B,YAAY,KAAK3B,iEADhD,CAAD;AAECd,aAAW,KAAK,QAAhB;AACEyC,cAAY,KAAK1B,+DAAjB,IAA8B0B,YAAY,KAAKzB,gEADjD,CAFD;AAII,WAJJ;AAKI,SANN;;AAQA,QAAMjV,UAAU,GAAG;AACjB+W,UAAM,EAAE;AACN9Y,QAAE,EAAE4Y,YAAY,CAAChB,QADX;AAENpH,UAAI,EAAEoI,YAAY,CAACrD,UAFb;AAGNtT,WAAK,EAAE2W,YAAY,CAAC3W,KAHd,EADS;;AAMjB8W,YAAQ,EAAE;AACR/Y,QAAE,EAAE4Y,YAAY,CAAC5Y,EADT;AAERwQ,UAAI,EAAEoI,YAAY,CAACpI,IAFX;AAGRG,UAAI,EAAEiI,YAAY,CAACjI,IAHX,EANO,EAAnB;;;;AAaA;AACA,MAAIkI,oBAAoB,KAAK,OAA7B,EAAsC;AACpC9W,cAAU,CAACC,WAAX,GAAyB;AACvBhC,QAAE,EAAE6V,SAAS,CAAC7V,EADS;AAEvBwQ,UAAI,EAAEqF,SAAS,CAACrF,IAFO;AAGvBvO,WAAK,EAAE4T,SAAS,CAACrT,QAAV,CAAmB9J,MAHH,EAAzB;;AAKD,GAND,MAMO;AACL;AACA;AACA,UAAMsgB,UAAU;AACdlD,mBAAe,IAAI8C,YAAY,CAAChB,QAAb,KAA0B9B,eAAe,CAAC9V,EAD/D;AAEA,UAAMiZ,oBAAoB;AACxBD,cAAU,IAAIJ,YAAY,CAAC3W,KAAb,GAAqB0W,cADrC;;AAGA,QAAIO,SAAS,GAAGD,oBAAoB,GAAGN,cAAc,GAAG,CAApB,GAAwBA,cAA5D;AACA,QAAIF,YAAY,KAAK3B,iEAAjB,IAAgC2B,YAAY,KAAKzB,gEAArD,EAAiE;AAC/DkC,eAAS,IAAI,CAAb;AACD;;AAEDnX,cAAU,CAACC,WAAX,GAAyB;AACvBhC,QAAE,EAAE8V,eAAe,CAAC9V,EADG;AAEvBwQ,UAAI,EAAEsF,eAAe,CAACtF,IAFC;AAGvBvO,WAAK,EAAEiX,SAHgB,EAAzB;;AAKD;;AAEDjD,QAAM,CAAClU,UAAD,CAAN;AACAoX,8EAAc;;AAEd,SAAOpX,UAAP;AACD,C,iLAzEuBqW,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPxB;AACA;AACA;;AAEA,MAAMgB,iBAAiB,GAAG,GAA1B;;AAEA,SAASnB,WAAT,CAAqBhnB,KAArB,EAA4BykB,OAA5B,EAAqCzhB,SAArC,EAAgD;AAC9C;AACA,MAAI,CAACA,SAAS,CAACyiB,OAAf,EAAwB;;AAExB,QAAM+B,YAAY,GAAGC,kFAAe,CAAChD,OAAD,EAAUzhB,SAAV,CAApC;;AAEA,QAAMolB,eAAe;AACnB,GAAAplB,SAAS,QAAT,gCAAAA,SAAS,CAAEhD,KAAX,+DAAkB4kB,SAAlB,2CAA6BrF,IAA7B,MAAsC8I,qFADxC;AAEA,QAAMC,MAAM,GAAGF,eAAe,GAAG,YAAH,GAAkB,IAAhD;;AAEAG,+DAAY,CAACD,MAAD,CAAZ;;AAEA,MAAI,CAACd,YAAL,EAAmB;AACjBxkB,aAAS,CAAC8D,QAAV,CAAmB,OAAO,EAAEye,aAAa,EAAE,IAAjB,EAAP,CAAnB;AACA;AACD;;AAEDviB,WAAS,CAAC8D,QAAV,CAAmB,OAAO;AACxBye,iBAAa,EAAEiC,YADS,EAAP,CAAnB;;AAGD;;AAED;iBACe,uDAASR,WAAT,EAAsBmB,iBAAtB,C,CAAA,yE,iLAzBTA,iB,sKAEGnB,W;;;;;;;;;;;;;;;;;wSCzBT;;;;;;;;;;;;;;;;;AAiBG;AACH,IAAI,0BAAJ;AACA,MAAM,WAAW,GAAG,GAApB;AACA,MAAM,cAAc,GAAG,EAAvB;AAEc,SAAU,YAAV,CAAuB,MAAvB,EAAqC;AACjD,QAAM,WAAW,GACf,MAAM,KAAK,YAAX;AACA,GAAC,0BADD;AAEA,UAAQ,CAAC,eAAT,CAAyB,SAAzB,KAAuC,CAHzC;AAKA,QAAM,WAAW,GACf,0BAA0B;AACzB,QAAM,KAAK,YAAX,IAA2B,QAAQ,CAAC,eAAT,CAAyB,SAAzB,KAAuC,CADzC,CAD5B;AAIA,MAAI,WAAJ,EAAiB;AACf,8BAA0B,GAAG,0FAAY,MAAK;AAC5C,UAAI,QAAQ,CAAC,eAAT,CAAyB,SAAzB,KAAuC,CAA3C,EAA8C;AAC5C,qBAAa,CAAC,0BAAD,CAAb;AACA,kCAA0B,GAAG,IAA7B;AACA;AACD;AAED,UAAI,SAAS,GAAG,QAAQ,CAAC,eAAT,CAAyB,SAAzB,GAAqC,WAArD;AACA,UAAI,SAAS,GAAG,CAAhB,EAAmB;AACjB,iBAAS,GAAG,CAAZ;AACD;AACD,YAAM,CAAC,MAAP,CAAc;AACZ,WAAG,EAAE,SADO;AAEZ,gBAAQ,EAAE,QAFE,EAAd;;AAID,KAf4B,EAe1B,cAf0B,CAA7B;AAgBD,GAjBD;AAiBO,MAAI,WAAJ,EAAiB;AACtB,iBAAa,CAAC,0BAAD,CAAb;AACA,8BAA0B,GAAG,IAA7B;AACD;AACF,C,iLAnCG,0B,uLACE,W,wKACA,c,2KAEkB,Y;;;;;;;;;;;;;;;;;;;;;;;wSCtBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAMnqB,SAAS,GAAG;AAChBkY,OAAK,EAAEhY,iDAAS,CAACgB,MAAV,CAAiBX,UADR;AAEhB0K,YAAU,EAAE/K,iDAAS,CAACkB,IAAV,CAAeb,UAFX,EAAlB;;;AAKe,SAASorB,eAAT,CAAyB,EAAEzT,KAAF,EAASjN,UAAT,EAAzB,EAAgD;AAC7D;AACE;AACE,eAAS,EAAEkB,iDAAE,CAAC,oCAAD,EAAuC;AAClD,uBAAelB,UADmC,EAAvC,CADf;;;AAKE,+DAAC,6DAAD,IAAW,OAAO,EAAEiN,KAApB,IAA4BA,KAA5B,CALF,CADF;;;AASD;;AAEDyT,eAAe,CAAC3rB,SAAhB,GAA4BA,SAA5B,C,iLAjBMA,S,2KAKkB2rB,e;;;;;;;;;;;;;;;;;;;;;;;;;wSC5BxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAM3rB,SAAS,GAAG;AAChB4rB,WAAS,EAAE1rB,iDAAS,CAACgB,MADL;AAEhB2qB,OAAK,EAAE3rB,iDAAS,CAACwB,OAAV,CAAkBoqB,kGAAlB,EAAwDvrB,UAF/C;AAGhBwrB,SAAO,EAAE7rB,iDAAS,CAACwB,OAAV;AACPxB,mDAAS,CAAC8rB,SAAV,CAAoB,CAAC9rB,iDAAS,CAACI,MAAX,EAAmBJ,iDAAS,CAACgB,MAA7B,CAApB,CADO;AAEPX,YALc;AAMhB0rB,UAAQ,EAAE/rB,iDAAS,CAACwB,OAAV;AACRxB,mDAAS,CAAC8rB,SAAV,CAAoB,CAAC9rB,iDAAS,CAACI,MAAX,EAAmBJ,iDAAS,CAACgB,MAA7B,CAApB,CADQ;AAERX,YARc;AAShB2rB,SAAO,EAAEhsB,iDAAS,CAACa,IAAV,CAAeR,UATR;AAUhB4rB,UAAQ,EAAEjsB,iDAAS,CAACa,IAAV,CAAeR,UAVT;AAWhB4e,SAAO,EAAEjf,iDAAS,CAACa,IAAV,CAAeR,UAXR,EAAlB;;;AAcA,MAAM8B,YAAY,GAAG;AACnBupB,WAAS,EAAE,IADQ,EAArB;;;AAIe,SAASQ,eAAT,CAAyB;AACtCR,WADsC;AAEtCC,OAAK,GAAG,EAF8B;AAGtCE,SAAO,GAAG,EAH4B;AAItCE,UAAQ,GAAG,EAJ2B;AAKtC9M,SALsC;AAMtC+M,SANsC;AAOtCC,UAPsC,EAAzB;AAQZ;AACD;AACE,+DAAC,0DAAD;AACE,mBAAa,MADf;AAEE,kBAAY,EAAE,KAFhB;AAGE,mBAAa,MAHf;AAIE,WAAK,EAAEE,2EAA0B,CAAC,EAAER,KAAF,EAASD,SAAT,EAAD,CAJnC;AAKE,aAAO,EAAEG,OALX;AAME,cAAQ,EAAEE,QANZ;AAOE,aAAO,EAAE9M,OAPX;AAQE,aAAO,EAAE+M,OARX;AASE,cAAQ,EAAEC,QATZ;AAUE,WAAK,EAAEG,kDAVT,GADF;;;AAcD;;AAEDF,eAAe,CAACpsB,SAAhB,GAA4BA,SAA5B;AACAosB,eAAe,CAAC/pB,YAAhB,GAA+BA,YAA/B,C,iLA5CMrC,S,2KAcAqC,Y,8KAIkB+pB,e;;;;;;;;;;;;;;;;;;;;;;;wSC3CxB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;;AAOA,MAAM,oBAAoB,GAAG,wDAAM,CAAC,GAAP,CAAW,CAAC,EAAE,KAAK,EAAE,EAAE,QAAF,EAAT,EAAD,MAA8B;AACpE,SAAO,EAAE,QAAQ,GAAG,CADgD;AAEpE,eAAa,EAAE,QAAQ,GAAG,CAF0C,EAA9B,CAAX,CAA7B;;AAKc,MAAO,gBAAP,SAAgC,4CAAK,CAAC,aAAtC,CAGb;AAGC,cAAY,KAAZ,EAAwC;AACtC,UAAM,KAAN;AAEA,SAAK,KAAL,gBAAa,4CAAK,CAAC,SAAN,EAAb;AACA,SAAK,gBAAL,GAAwB,2GAAK,gBAAL,iBAA2B,IAA3B,CAAxB;AACD;AAED,kBAAgB;AACd,QAAI,KAAK,KAAL,CAAW,OAAf,EAAwB;AACtB,WAAK,KAAL,CAAW,OAAX,CAAmB,KAAnB;AACD;AACF;AAED,QAAM;AACJ,UAAM,gBAAgB,GAAG;AACvB,kBAAY,EAAE,KAAK,gBADI,EAAzB;;AAIA,WACE,2DAAC,mEAAD,IACE,GAAG,EAAE,KAAK,KADZ,EAEE,WAAW,EAAE,KAAK,KAAL,CAAW,WAF1B,EAGE,SAAS,EACP,2DAAC,oBAAD;AACE,iEAAC,4EAAD,EAAiB,gBAAjB,CADF,CAJJ;AAQE,WAAK,EAAC,KARR,GADF;AAYD,GAjCF;AAAA;AAAA,6B,iLARK,oB,uLAKe,gB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSChCrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;;;AAGA,MAAMpsB,SAAS,GAAG;AAChBusB,kBAAgB,EAAErsB,kDAAS,CAAC0N,QAAV,CAAmB4e,uFAAnB,EAA6CjsB,UAD/C;AAEhB6N,QAAM,EAAElO,kDAAS,CAACC,MAAV,CAAiBI,UAFT;;AAIhBksB,6BAA2B,EAAEvsB,kDAAS,CAACa,IAAV,CAAeR,UAJ5B;AAKhBmsB,mBAAiB,EAAExsB,kDAAS,CAACa,IAAV,CAAeR,UALlB;AAMhBosB,cAAY,EAAEzsB,kDAAS,CAACa,IAAV,CAAeR,UANb,EAAlB;;;AASA,MAAMqsB,gBAAgB,GAAGrqB,yDAAM,CAACC,GAAI;AACpC,YAAY,CAAC,EAAEE,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,EAAG;AAC/C;AACA;AACA,gBAAgB,CAAC,EAAEhJ,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AAClD,aAAa,CAAC,EAAEhJ,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AAC/C,kBAAkB,CAAC,EAAEhJ,KAAF,EAAD,KAAe,CAACA,KAAK,CAACgJ,QAAP,GAAkB,CAAE;AACrD;AACA;AACA;AACA,oBAAoB,CAAC,EAAEhJ,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AACtD;AACA;AACA;AACA;AACA;AACA,CAhBA;;AAkBe,MAAMmhB,mBAAN,SAAkC7pB,6CAAK,CAACC,aAAxC,CAAsD;AACnEC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AAEA,UAAM,EAAEopB,gBAAF,EAAoBne,MAApB,KAA+BjL,KAArC;;AAEA,QAAI,0FAAYopB,gBAAZ,EAA8B3hB,MAA9B,GAAuC,CAA3C,EAA8C;AAC5C;AACA,YAAMkiB,gBAAgB,GAAGC,2FAAuB,CAAC;AAC/CR,wBAD+C,EAAD,CAAhD;;AAGA;AACA;AACA,YAAMS,YAAY,GAAGF,gBAAgB,CAAC,CAAD,CAAhB,CAAoBpY,QAAzC;AACA,WAAKuY,eAAL,GAAuB,EAAvB;AACA,qGAAAD,YAAY,MAAZ,CAAAA,YAAY,EAAS,CAAC,EAAEtY,QAAF,EAAD,KAAkB;AACrC,uGAAAA,QAAQ,MAAR,CAAAA,QAAQ,EAASwY,KAAK,IAAI;AACxB,eAAKD,eAAL,CAAqBpb,IAArB,CAA0Bqb,KAAK,CAAClV,KAAhC;AACD,SAFO,CAAR;AAGD,OAJW,CAAZ;AAKA,WAAKmV,gBAAL,GAAwBH,YAAY,CAAC,CAAD,CAAZ,CAAgBtY,QAAhB,CAAyB,CAAzB,EAA4BsD,KAApD;;AAEA;AACA,YAAMoV,cAAc,GAAG,mMAAcb,gBAAd;AACrB,OAACc,GAAD,EAAM,EAAEhtB,OAAO,EAAEitB,QAAX,EAAqBC,OAArB,EAAN,KAAyC;AACvC,cAAMC,oBAAoB,GAAG,mMAAYD,OAAZ;AAC3B,SAACE,YAAD,EAAeC,UAAf,KAA8B;AAC5B,gBAAM9b,SAAS,GAAG+b,uGAAqB,CAAC;AACtCttB,mBAAO,EAAEitB,QAD6B;AAEtCM,kBAAM,EAAEF,UAF8B,EAAD,CAAvC;;AAIA,gBAAM7B,KAAK,GAAGgC,2FAAuB,CAAC;AACpCC,sBAAU,EAAE1f,MADwB;AAEpC2f,wBAAY,EAAE,CAACnc,SAAD,CAFsB;AAGpCoc,2BAAe,EAAEV,QAHmB,EAAD,CAArC;;AAKA,gBAAMrB,QAAQ,GAAGgC,6FAAyB,CAACpC,KAAD,EAAQ,CAAR,CAA1C;AACA;AACA,gBAAMqC,qBAAqB,GAAG;AAC5BC,qHAAwB,CAAC;AACvBC,uBAAW,EAAE7B,gBAAgB,CAACe,QAAD,CAAhB,CAA2Be,MAA3B,CAAkCX,UAAlC,CADU,EAAD,CAAxB;AAEM,YAHsB;AAIrBxb,YAAE,IAAIA,EAAE,KAAKob,QAJQ,CAA9B;;AAMA,iBAAO;AACL,eAAGG,YADE;AAEL,aAAC7b,SAAD,GAAa;AACX;AACAia,mBAFW;AAGX;AACAyC,2BAAa,EAAE,CAAC,GAAGzC,KAAJ,CAJJ;AAKXE,qBAAO,EAAEmC,qBALE;AAMXjC,sBANW,EAFR,EAAP;;;AAWD,SA9B0B;AA+B3B,UA/B2B,CAA7B;;;AAkCA,eAAO;AACL,aAAGoB,GADE;AAEL,aAAGG,oBAFE,EAAP;;AAID,OAxCoB;AAyCrB,QAzCqB,CAAvB;;;AA4CA;AACA,YAAM,EAAEntB,OAAF,KAAckuB,kHAAgC;AAClD,WAAKpB,gBAD6C,CAApD;;AAGA,YAAMqB,mBAAmB,GAAG,EAA5B;AACA,YAAMC,iBAAiB,GAAG,KAAKtB,gBAA/B;AACA;AACA,YAAMuB,iBAAiB,GAAG,0GAACC,8EAAD,mBAA0BtuB,OAA1B,CAA1B;;AAEA,YAAMuuB,oBAAoB,GAAGC,6FAAyB,CAAC;AACrDL,2BADqD;AAErDC,yBAFqD;AAGrDrB,sBAHqD;AAIrDhf,cAJqD,EAAD,CAAtD;;AAMA,WAAKvE,KAAL,GAAa;AACXilB,oBAAY,EAAE,IADH;AAEXL,yBAFW;AAGXM,kBAAU,EAAE,EAHD;AAIX3B,sBAAc,EAAE;AACd,aAAGA,cADW;AAEd,aAAGwB,oBAFW,EAJL;;AAQX9B,wBARW;AASX0B,2BATW;AAUXE,yBAVW,EAAb;;AAYD,KAxFD,MAwFO;AACL,WAAK7kB,KAAL,GAAa;AACXilB,oBAAY,EAAE,KADH,EAAb;;AAGD;;AAED,SAAKE,WAAL,GAAmB,4GAAKA,WAAL,kBAAsB,IAAtB,CAAnB;AACA,SAAKC,mBAAL,GAA2B,4GAAKA,mBAAL,kBAA8B,IAA9B,CAA3B;AACA,SAAKC,kBAAL,GAA0B,4GAAKA,kBAAL,kBAA6B,IAA7B,CAA1B;AACA,SAAKC,mBAAL,GAA2B,4GAAKA,mBAAL,kBAA8B,IAA9B,CAA3B;AACA,SAAKC,mBAAL,GAA2B,4GAAKA,mBAAL,kBAA8B,IAA9B,CAA3B;AACA,SAAKC,kBAAL,GAA0B,6GAAKA,kBAAL,mBAA6B,IAA7B,CAA1B;AACA,SAAKC,mBAAL,GAA2B,6GAAKA,mBAAL,mBAA8B,IAA9B,CAA3B;AACA,SAAKC,OAAL,GAAe,6GAAKA,OAAL,mBAAkB,IAAlB,CAAf;AACA,SAAKvZ,MAAL,GAAc,6GAAKA,MAAL,mBAAiB,IAAjB,CAAd;AACD;;AAEDkZ,oBAAkB,CAACnD,OAAO,GAAG,EAAX,EAAe;AAC/B,UAAM;AACJ0C,uBADI;AAEJrB,oBAFI;AAGJoB,yBAHI;AAIF,SAAK3kB,KAJT;;AAMA,UAAM4G,GAAG,GAAG+e,4FAAwB,CAAC;AACnCf,uBADmC;AAEnCD,yBAFmC,EAAD,CAApC;;AAIA,UAAMiB,WAAW,GAAGhB,iBAAiB;AACjC,KAACA,iBAAD,CADiC;AAEjCD,uBAFJ;AAGA,UAAMkB,YAAY,GAAG;AACnB,SAAGtC,cAAc,CAAC3c,GAAD,CADE;AAEnBsb,aAFmB,EAArB;;;AAKA,UAAM4D,qBAAqB,GAAGC,0FAAsB,CAAC;AACnD7D,aADmD;AAEnDgC,kBAAY,EAAE0B,WAFqC;AAGnDrC,oBAHmD,EAAD,CAApD;;;AAMA,SAAKnjB,QAAL,CAAc,OAAO;AACnBmjB,oBAAc,EAAE;AACd,WAAGA,cADW;AAEd,WAAGuC,qBAFW;AAGd,SAAClf,GAAD,GAAOif,YAHO,EADG,EAAP,CAAd;;;AAOD;;AAEDP,qBAAmB,CAAClD,QAAQ,GAAG,EAAZ,EAAgB;AACjC,UAAM;AACJwC,uBADI;AAEJD,yBAFI;AAGJpB,oBAHI;AAIF,SAAKvjB,KAJT;AAKA,UAAM4G,GAAG,GAAG+e,4FAAwB,CAAC;AACnCf,uBADmC;AAEnCD,yBAFmC,EAAD,CAApC;;AAIA,UAAMkB,YAAY,GAAG;AACnB,SAAGtC,cAAc,CAAC3c,GAAD,CADE;AAEnBwb,cAFmB,EAArB;;AAIA,SAAKhiB,QAAL,CAAc,OAAO;AACnBmjB,oBAAc,EAAE;AACd,WAAGA,cADW;AAEd,SAAC3c,GAAD,GAAOif,YAFO,EADG,EAAP,CAAd;;;AAMD;;AAEDL,oBAAkB,CAACb,mBAAmB,GAAG,EAAvB,EAA2B;AAC3C,UAAM,EAAEpgB,MAAF,KAAa,KAAKjL,KAAxB;AACA,UAAM,EAAEiqB,cAAF,KAAqB,KAAKvjB,KAAhC;AACA,UAAM+kB,oBAAoB,GAAGC,6FAAyB,CAAC;AACrDL,yBADqD;AAErDC,uBAAiB,EAAE,IAFkC;AAGrDrB,oBAHqD;AAIrDhf,YAJqD,EAAD,CAAtD;;;AAOA,SAAKnE,QAAL,CAAc,OAAO;AACnBwkB,uBAAiB,EAAE,IADA;AAEnBD,yBAFmB;AAGnBpB,oBAAc,EAAE;AACd,WAAGA,cADW;AAEd,WAAGwB,oBAFW,EAHG,EAAP,CAAd;;;AAQD;;AAEDU,qBAAmB,CAACZ,iBAAiB,GAAG,EAArB,EAAyB;AAC1C,SAAKzkB,QAAL,CAAc,OAAO;AACnBykB,uBADmB,EAAP,CAAd;;AAGD;;AAEDO,qBAAmB,CAACY,WAAW,GAAG,EAAf,EAAmB;AACpC,UAAM,EAAEzhB,MAAF,KAAa,KAAKjL,KAAxB;AACA,UAAM2sB,qBAAqB,GAAGD,WAAW,CAAC7X,KAA1C;AACA,UAAM;AACJyW,uBAAiB,EAAEsB,wBADf;AAEJvB,yBAFI;AAGJpB,oBAHI;AAIF,SAAKvjB,KAJT;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,QAAIimB,qBAAqB,KAAKC,wBAA9B,EAAwD;AACtD,YAAMnB,oBAAoB,GAAGC,6FAAyB,CAAC;AACrDL,2BADqD;AAErDC,yBAAiB,EAAE,IAFkC;AAGrDrB,sBAHqD;AAIrDhf,cAJqD,EAAD,CAAtD;;;AAOA,WAAKnE,QAAL,CAAc;AACZwkB,yBAAiB,EAAE,IADP;AAEZrB,sBAAc,EAAE;AACd,aAAGA,cADW;AAEd,aAAGwB,oBAFW,EAFJ,EAAd;;;AAOD,KAfD,MAeO,IAAI,iHAAK3B,eAAL,mBAA8B6C,qBAA9B,CAAJ,EAA0D;AAC/D,YAAMlB,oBAAoB,GAAGC,6FAAyB,CAAC;AACrDL,2BADqD;AAErDC,yBAAiB,EAAEqB,qBAFkC;AAGrD1C,sBAHqD;AAIrDhf,cAJqD,EAAD,CAAtD;;;AAOA,WAAKnE,QAAL,CAAc;AACZwkB,yBAAiB,EAAEqB,qBADP;AAEZ1C,sBAAc,EAAE;AACd,aAAGA,cADW;AAEd,aAAGwB,oBAFW,EAFJ,EAAd;;;AAOD;AACF;;AAEDQ,qBAAmB,CAACllB,CAAD,EAAI;AACrB,SAAKD,QAAL,CAAc,EAAE8kB,UAAU,EAAE7kB,CAAC,CAACoY,MAAF,CAAStK,KAAvB,EAAd,EAA8C,KAAKgY,UAAnD;AACD;;AAEDT,SAAO,GAAG;AACR,SAAKpsB,KAAL,CAAWwpB,YAAX;AACD;;AAED3W,QAAM,GAAG;AACP,UAAM,EAAEoX,cAAF,KAAqB,KAAKvjB,KAAhC;;AAEA,UAAMomB,oBAAoB,GAAG,+GAAKhD,eAAL;AAC3B,KAACI,GAAD,EAAMzb,SAAN,KAAoB;AAClB,YAAM,EAAEia,KAAF,KAAYuB,cAAc,CAACxb,SAAD,CAAhC;AACA,YAAMse,eAAe,GAAG9C,cAAc,CAACxb,SAAD,CAAd,CAA0Bma,OAAlD;;AAEA,aAAO;AACL,WAAGsB,GADE;AAEL,SAACzb,SAAD,GAAaue,+FAA2B,CAAC;AACvCve,mBADuC;AAEvCia,eAFuC;AAGvCqE,yBAHuC,EAAD,CAFnC,EAAP;;;AAQD,KAb0B;AAc3B,MAd2B,CAA7B;;;AAiBA,SAAK/sB,KAAL,CAAWspB,2BAAX,CAAuCwD,oBAAvC;AACA,SAAK9sB,KAAL,CAAWupB,iBAAX,CAA6B,IAA7B;;AAEA;AACA,SAAKvpB,KAAL,CAAWwpB,YAAX;AACD;;AAEDqD,YAAU,GAAG;AACX;AACA,QAAI,CAAC,KAAKnmB,KAAL,CAAWklB,UAAhB,EAA4B;AAC1B,WAAK9kB,QAAL,CAAcsY,SAAS,IAAI;AACzB,cAAM;AACJkM,2BADI;AAEJD,6BAFI;AAGJpB,wBAHI;AAIF7K,iBAJJ;AAKA,cAAM9R,GAAG,GAAG+e,4FAAwB,CAAC;AACnCf,2BADmC;AAEnCD,6BAFmC,EAAD,CAApC;;;AAKA,cAAMkB,YAAY,GAAG;AACnB,aAAGtC,cAAc,CAAC3c,GAAD,CADE;AAEnB6d,uBAAa,EAAElB,cAAc,CAAC3c,GAAD,CAAd,CAAoBob,KAFhB,EAArB;;AAIA,eAAO;AACLuB,wBAAc,EAAE;AACd,eAAGA,cADW;AAEd,aAAC3c,GAAD,GAAOif,YAFO,EADX,EAAP;;;AAMD,OArBD;AAsBD,KAvBD,MAuBO;AACL,YAAMU,OAAO,GAAG7N,SAAS,IAAI;AAC3B,cAAM;AACJkM,2BADI;AAEJD,6BAFI;AAGJpB,wBAHI;AAIF7K,iBAJJ;AAKA,cAAM9R,GAAG,GAAG+e,4FAAwB,CAAC;AACnCf,2BADmC;AAEnCD,6BAFmC,EAAD,CAApC;;;AAKA,cAAMF,aAAa,GAAG,0GAAAlB,cAAc,CAAC3c,GAAD,CAAd,CAAoBob,KAApB;AACpB,aAAKmD,WADe;AAEpB,UAFoB,CAAtB;;AAIA,cAAM/C,QAAQ,GAAGgC,6FAAyB,CAAC,CAAC,GAAGK,aAAJ,CAAD,CAA1C;AACA,cAAMoB,YAAY,GAAG;AACnB,aAAGtC,cAAc,CAAC3c,GAAD,CADE;AAEnB6d,uBAFmB;AAGnBrC,kBAHmB,EAArB;;;AAMA,eAAO;AACLmB,wBAAc,EAAE;AACd,eAAGA,cADW;AAEd,aAAC3c,GAAD,GAAOif,YAFO,EADX,EAAP;;;AAMD,OA5BD;;AA8BA,WAAKzlB,QAAL,CAAcmmB,OAAd;AACD;AACF;;AAEDpB,aAAW,CAACqB,QAAQ,GAAG,EAAZ,EAAgBvuB,IAAI,GAAG,EAAvB,EAA2B;AACpC,UAAM,EAAEitB,UAAF,KAAiB,KAAKllB,KAA5B;AACA,UAAM6K,QAAQ,GAAG,0GAAC5S,IAAI,CAAC4S,QAAL,IAAiB,EAAlB,mBAA6B,KAAKsa,WAAlC,EAA+C,EAA/C,CAAjB;;AAEA;AACE;AACA,gHAAAltB,IAAI,CAACoW,KAAL,CAAWoY,iBAAX,qBAAuCvB,UAAU,CAACuB,iBAAX,EAAvC;AACE,KAAC,CADH;AAEA;AACA5b,YAAQ,CAAC9J,MALX;AAME;AACAylB,cAAQ,CAACxe,IAAT,CAAc,EAAE,GAAG/P,IAAL,EAAW4S,QAAX,EAAd;AACD;;AAED,WAAO2b,QAAP;AACD;;AAEDE,uBAAqB,GAAG;AACtB,UAAM;AACJ9B,uBADI;AAEJ3B,sBAFI;AAGJ0B,yBAHI;AAIJE,uBAJI;AAKF,SAAK7kB,KALT;AAMA;AACE,kEAAC,yDAAD;AACE,iBAAS,EAAE4kB,iBADb;AAEE,aAAK,EAAE3B,gBAFT;AAGE,eAAO,EAAE0B,mBAHX;AAIE,gBAAQ,EAAEE,iBAJZ;AAKE,eAAO,EAAE,KAAKO,mBALhB;AAME,eAAO,EAAE,KAAKI,kBANhB;AAOE,gBAAQ,EAAE,KAAKC,mBAPjB,GADF;;;AAWD;;AAEDkB,uBAAqB,GAAG;AACtB,UAAM;AACJpD,oBADI;AAEJqB,uBAFI;AAGJD,yBAHI;AAIJO,gBAJI;AAKF,SAAKllB,KALT;;AAOA,UAAM4G,GAAG,GAAG+e,4FAAwB,CAAC;AACnCf,uBADmC;AAEnCD,yBAFmC,EAAD,CAApC;;;AAKA,UAAMR,eAAe,GAAGyC,wGAAoC,CAAC;AAC3DhC,uBAD2D;AAE3DD,yBAF2D,EAAD,CAA5D;;AAIA;AACE;AACE;AACE,iBAAS,EAAC,0CADZ;AAEE,mBAAW,EAAE7oB,4DAAC,CAAC,WAAD,CAFhB;AAGE,YAAI,EAAC,MAHP;AAIE,aAAK,EAAEopB,UAJT;AAKE,gBAAQ,EAAE,KAAKK,mBALjB,GADF;;AAQE,kEAAC,yDAAD;AACE,aAAK,EAAEhC,cAAc,CAAC3c,GAAD,CAAd,CAAoB6d,aAD7B;AAEE,eAAO,EAAElB,cAAc,CAAC3c,GAAD,CAAd,CAAoBsb,OAF/B;AAGE,gBAAQ,EAAEqB,cAAc,CAAC3c,GAAD,CAAd,CAAoBwb,QAHhC;AAIE,eAAO,EAAE,KAAKiD,kBAJhB;AAKE,gBAAQ,EAAE,KAAKC;AACf;AACA;AAPF,UAQE,eAAe,EAAEnB,eARnB,GARF,CADF;;;;AAqBD;;AAED0C,0BAAwB,GAAG;AACzB,UAAM,EAAEnE,gBAAF,KAAuB,KAAKppB,KAAlC;AACA,UAAM,EAAEsrB,iBAAF,EAAqBD,mBAArB,KAA6C,KAAK3kB,KAAxD;AACA,UAAM8mB,mBAAmB,GAAG;AAClBlC,qBAAiB,IAAID,mBADH;AAErB/d,OAAG,IAAI;AACV,YAAM,EAAEpQ,OAAF,EAAWutB,MAAX,KAAsBW,kHAAgC,CAAC9d,GAAD,CAA5D;AACA,aAAO8b,gBAAgB,CAAClsB,OAAD,CAAhB,CAA0BuwB,MAA1B,CAAiChD,MAAjC,KAA4CA,MAAnD;AACD,KALyB,CAA5B;;AAOA;AACE,2EAAK,SAAS,EAAC,iCAAf;AACG+C,yBAAmB,CAAC/lB,MAApB,KAA+B,CAA/B,IAAoCjF,4DAAC,CAAC,wBAAD,CADxC;AAEGgrB,yBAAmB,CAAC/lB,MAApB,KAA+B,CAA/B,IAAoCjF,4DAAC,CAAC,mBAAD,CAFxC;AAGGgrB,yBAAmB,CAAC/lB,MAApB,GAA6B,CAA7B;AACCjF,kEAAC,CAAC,2BAAD,EAA8BgrB,mBAAmB,CAAC/lB,MAAlD,CAJL;AAKE,4EAAM,SAAS,EAAC,iBAAhB;AACG+lB,yBAAmB,CAACE,IAApB,CAAyB,IAAzB,CADH,CALF,CADF;;;;AAWD;;AAEDvrB,QAAM,GAAG;AACP,UAAM,EAAEwpB,YAAF,KAAmB,KAAKjlB,KAA9B;;AAEA;AACE,2EAAK,SAAS,EAAC,wBAAf;AACE,2EAAK,SAAS,EAAC,qBAAf;AACE,8EAAKlE,4DAAC,CAAC,yBAAD,CAAN,CADF;AAEGmpB,kBAAY,IAAI,KAAK4B,wBAAL,EAFnB,CADF;;;AAME,2EAAK,SAAS,EAAC,mBAAf;AACG,OAAC5B,YAAD;AACC,2EAAK,SAAS,EAAC,iBAAf;AACGnpB,kEAAC,CAAC,yCAAD,CADJ,CADD;;;AAKC,2EAAK,SAAS,EAAC,wBAAf;AACE,2EAAK,SAAS,EAAEwG,kDAAE,CAAC,mCAAD,CAAlB;AACG,WAAKokB,qBAAL,EADH,CADF;;AAIE,2EAAK,SAAS,EAAC,mCAAf;AACG,WAAKC,qBAAL,EADH,CAJF,CANJ,CANF;;;;;;AAuBE,kEAAC,gBAAD;AACE,kEAAC,8DAAD,IAAQ,UAAU,EAAC,OAAnB,EAA2B,OAAO,EAAE,KAAKjB,OAAzC;AACG5pB,kEAAC,CAAC,OAAD,CADJ,CADF;;AAIGmpB,kBAAY;AACX,kEAAC,8DAAD;AACE,kBAAU,EAAC,OADb;AAEE,mBAAW,EAAC,SAFd;AAGE,eAAO,EAAE,KAAK9Y,MAHhB;;AAKGrQ,kEAAC,CAAC,MAAD,CALJ,CALJ,CAvBF,CADF;;;;;;AAwCD,GA/dkE;AAAA;AAAA;AAkerEknB,mBAAmB,CAAC7sB,SAApB,GAAgCA,SAAhC,C,iLA7fMA,S,+KASA4sB,gB,sLAkBeC,mB;;;;;;;;;;;;;;;;;;;;;;;;;wSCrErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAM7sB,SAAS,GAAG;AAChB6rB,OAAK,EAAE3rB,iDAAS,CAACwB,OAAV,CAAkBoqB,kGAAlB,EAAwDvrB,UAD/C;AAEhBwrB,SAAO,EAAE7rB,iDAAS,CAACwB,OAAV;AACPxB,mDAAS,CAAC8rB,SAAV,CAAoB,CAAC9rB,iDAAS,CAACI,MAAX,EAAmBJ,iDAAS,CAACgB,MAA7B,CAApB,CADO;AAEPX,YAJc;AAKhB0rB,UAAQ,EAAE/rB,iDAAS,CAACwB,OAAV;AACRxB,mDAAS,CAAC8rB,SAAV,CAAoB,CAAC9rB,iDAAS,CAACI,MAAX,EAAmBJ,iDAAS,CAACgB,MAA7B,CAApB,CADQ;AAERX,YAPc;AAQhB2rB,SAAO,EAAEhsB,iDAAS,CAACa,IAAV,CAAeR,UARR;AAShB4rB,UAAQ,EAAEjsB,iDAAS,CAACa,IAAV,CAAeR,UATT;AAUhBytB,iBAAe,EAAE9tB,iDAAS,CAACI,MAVX,EAAlB;;;AAaA,MAAM+B,YAAY,GAAG;AACnB2rB,iBAAe,EAAE,IADE,EAArB;;;AAIA,MAAM8C,IAAI,GAAG,MAAM,CAAE,CAArB;;AAEe,SAASC,eAAT,CAAyB;AACtClF,OAAK,GAAG,EAD8B;AAEtCE,SAAO,GAAG,EAF4B;AAGtCE,UAAQ,GAAG,EAH2B;AAItCC,SAJsC;AAKtCC,UALsC;AAMtC6B,iBANsC,EAAzB;AAOZ;AACD;AACE,+DAAC,0DAAD;AACE,mBAAa,MADf;AAEE,mBAAa,MAFf;AAGE,kBAAY,EAAE,KAHhB;AAIE,WAAK,EAAEgD,2EAA0B,CAAC,EAAEnF,KAAF,EAASmC,eAAT,EAAD,CAJnC;AAKE,aAAO,EAAEjC,OALX;AAME,cAAQ,EAAEE,QANZ;AAOE,aAAO,EAAEC,OAPX;AAQE,cAAQ,EAAEC,QARZ;AASE,aAAO,EAAE2E,IATX;AAUE,WAAK,EAAExE,kDAVT,GADF;;;AAcD;;AAEDyE,eAAe,CAAC/wB,SAAhB,GAA4BA,SAA5B;AACA+wB,eAAe,CAAC1uB,YAAhB,GAA+BA,YAA/B,C,iLA5CMrC,S,2KAaAqC,Y,8KAIAyuB,I,sKAEkBC,e;;;;;;;;;;;;;;;;;;;;;wSC5CxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGe,SAAS1E,0BAAT,CAAoC,EAAER,KAAF,EAASD,SAAT,EAApC,EAA0D;AACvE,MAAI,CAACC,KAAL,EAAY;AACV,WAAO,EAAP;AACD;;AAED,QAAMoF,IAAI,GAAGpF,KAAK,CAAC,CAAD,CAAlB;AACA,QAAMqF,cAAc,GAAGD,IAAI,CAACvc,QAA5B;AACA,QAAMA,QAAQ,GAAG,0FAAAwc,cAAc,MAAd,CAAAA,cAAc,EAAKpvB,IAAI,yBAAK;AAC3C,SAAGA,IADwC;AAE3C4S,cAAQ,EAAE,qGAAA5S,IAAI,CAAC4S,QAAL,iBAAkBwY,KAAK,IAAI;AACnC,cAAM,EAAEhV,KAAF,EAASF,KAAT,KAAmBkV,KAAzB;AACA,eAAO;AACL,aAAGA,KADE;AAELhV,eAAK;AACH,qEAAC,wDAAD,IAAiB,UAAU,EAAEF,KAAK,KAAK4T,SAAvC,EAAkD,KAAK,EAAE1T,KAAzD,GAHG,EAAP;;;AAMD,OARS,CAFiC,EAAL,EAAT,CAA/B;;;AAaA,SAAO;AACL;AACE,OAAG+Y,IADL;AAEE/Y,SAAK,EAAE,qEAAM,SAAS,EAAC,MAAhB,IAAwB+Y,IAAI,CAAC/Y,KAA7B,CAFT;AAGExD,YAHF,EADK,CAAP;;;AAOD,C,iLA3BuB2X,0B;;;;;;;;;;;;;;;;;;;;;;;;wSCrBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,SAAS8E,QAAT,CAAkB,EAAEC,WAAW,GAAG,EAAhB,EAAoBpD,eAApB,EAAlB,EAAyD;AACvD,MAAI,CAACoD,WAAL,EAAkB;AAChB,WAAO,IAAP;AACD;;AAED,QAAM,EAAElZ,KAAF,EAASF,KAAT,EAAgB0K,IAAhB,EAAsBhO,QAAtB,KAAmC0c,WAAzC;AACA,MAAI1c,QAAQ,IAAIA,QAAQ,CAAC9J,MAAzB,EAAiC;AAC/B,UAAMymB,eAAe,GAAG,0FAAA3c,QAAQ,MAAR,CAAAA,QAAQ,EAAK,CAAAwY,KAAK;AACxCiE,YAAQ,CAAC,EAAEC,WAAW,EAAElE,KAAf,EAAsBc,eAAtB,EAAD,CADsB,CAAhC;;AAGA,WAAO;AACL,SAAGoD,WADE;AAELlZ,WAAK;AACH;AACE,iBAAS,EAAE/L,iDAAE,CAAE,qBAAoBuW,IAAI,CAAC4O,WAAL,EAAmB,EAAzC,EAA4C;AACvD,6BAAmBtD,eAAe,KAAKhW,KADgB,EAA5C,CADf;;;AAKG0K,UAAI,KAAKC,4EAAT;AACC,2EAAM,SAAS,EAAC,gBAAhB;AACE,iEAAC,gEAAD,OADF,CANJ;;;AAUGzK,WAVH,CAHG;;;AAgBLxD,cAAQ,EAAE2c,eAhBL,EAAP;;AAkBD;AACD,SAAO;AACL,OAAGD,WADE;AAELlZ,SAAK;AACH;AACE,eAAS,EAAE/L,iDAAE,CAAE,qBAAoBuW,IAAI,CAAC4O,WAAL,EAAmB,EAAzC,EAA4C;AACvD,2BAAmBtD,eAAe,KAAKhW,KADgB,EAA5C,CADf;;;AAKGE,SALH,CAHG,EAAP;;;;AAYD;;AAEc,SAAS8Y,0BAAT,CAAoC,EAAEnF,KAAF,EAASmC,eAAT,EAApC,EAAgE;AAC7E,MAAI,CAACnC,KAAL,EAAY;AACV,WAAO,EAAP;AACD;;AAED,SAAO,0FAAAA,KAAK,MAAL,CAAAA,KAAK,EAAK/pB,IAAI,IAAIqvB,QAAQ,CAAC,EAAEC,WAAW,EAAEtvB,IAAf,EAAqBksB,eAArB,EAAD,CAArB,CAAZ;AACD,C,iLAjDQmD,Q,qLA2CeH,0B;;;;;;;;;;;;;;;;;;;;;wSCnExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAQA,MAAM1E,SAAS,GAAG;AAChBiF,OAAK,EAAE,2DAAC,qFAAD,OADS;AAEhBC,SAAO,EAAE,2DAAC,uFAAD,OAFO;AAGhBC,WAAS,EAAE,2DAAC,yFAAD,OAHK;AAIhBC,aAAW,EAAE,qEAAM,SAAS,EAAC,gCAAhB,GAJG;AAKhBC,YAAU,EAAE,qEAAM,SAAS,EAAC,+BAAhB,GALI;AAMhBC,WAAS;AACP,uEAAM,SAAS,EAAC,8BAAhB,IAAgDjsB,2DAAC,CAAC,YAAD,CAAjD,CAPc;;AAShBksB,aAAW;AACT,uEAAM,SAAS,EAAC,gCAAhB,IAAkDlsB,2DAAC,CAAC,cAAD,CAAnD,CAVc;;AAYhBmsB,aAAW,EAAE,qEAAM,SAAS,EAAC,gCAAhB,GAZG;AAahBC,YAAU,EAAE,qEAAM,SAAS,EAAC,+BAAhB,GAbI;AAchBC,MAAI,EAAE,qEAAM,SAAS,EAAC,wBAAhB,GAdU,EAAlB,C;;;AAiBe1F,S,CAAA,yE,iLAjBTA,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qTC5BN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;;;AAGA,MAAMtsB,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACI,MAAV,CAAiBC,UADL;AAEhB8iB,aAAW,EAAEnjB,iDAAS,CAACgB,MAAV,CAAiBX,UAFd;AAGhBE,aAAW,EAAEP,iDAAS,CAACI,MAAV,CAAiBC,UAHd;AAIhBK,OAAK,EAAEV,iDAAS,CAACI,MAAV,CAAiBC,UAJR;AAKhBM,QAAM,EAAEX,iDAAS,CAACI,MAAV,CAAiBC,UALT;AAMhB0xB,iBAAe,EAAE/xB,iDAAS,CAACa,IAAV,CAAeR,UANhB;AAOhBoS,oBAAkB,EAAEzS,iDAAS,CAACkB,IAPd;AAQhB6jB,sBAAoB,EAAE/kB,iDAAS,CAACa,IAAV,CAAeR,UARrB;;AAUhB;AACAic,OAAK,EAAE3O,gEAAc,CAACtN,UAXN;AAYhBI,UAAQ,EAAET,iDAAS,CAACC,MAAV,CAAiBI,UAZX;AAahBC,YAAU,EAAEN,iDAAS,CAACC,MAAV,CAAiBI,UAbb;AAchB6iB,OAAK,EAAErV,gEAAc,CAACxN,UAdN;AAehB4K,WAAS,EAAEjL,iDAAS,CAACgB,MAAV,CAAiBX,UAfZ;AAgBhBS,SAAO,EAAEd,iDAAS,CAACI,MAAV,CAAiBC,UAhBV;AAiBhB;AACA4H,SAAO,EAAEjI,iDAAS,CAACC,MAAV,CAAiBI,UAlBV;AAmBhBukB,cAAY,EAAE5kB,iDAAS,CAACa,IAAV,CAAeR,UAnBb;AAoBhB6D,UAAQ,EAAElE,iDAAS,CAACa,IAAV,CAAeR,UApBT;AAqBhBujB,mBAAiB,EAAE5jB,iDAAS,CAACa,IAAV,CAAeR,UArBlB;AAsBhB2xB,cAAY,EAAEhyB,iDAAS,CAACa,IAAV,CAAeR,UAtBb;AAuBhB4xB,uBAAqB,EAAEjyB,iDAAS,CAACa,IAAV,CAAeR,UAvBtB;AAwBhB6xB,yBAAuB,EAAElyB,iDAAS,CAACa,IAAV,CAAeR,UAxBxB;AAyBhBiP,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UAzBT;AA0BhBijB,YAAU,EAAEtjB,iDAAS,CAACkB,IAAV,CAAeb,UA1BX;AA2BhB+iB,UAAQ,EAAEpjB,iDAAS,CAACkB,IA3BJ;AA4BhBsiB,oBAAkB,EAAExjB,iDAAS,CAACkB,IAAV,CAAeb,UA5BnB;AA6BhBojB,kBAAgB,EAAEzjB,iDAAS,CAACkB,IAAV,CAAeb,UA7BjB;AA8BhBqjB,gBAAc,EAAE1jB,iDAAS,CAACkB,IAAV,CAAeb,UA9Bf;AA+BhBsjB,cAAY,EAAE3jB,iDAAS,CAACkB,IAAV,CAAeb,UA/Bb;AAgChB0U,iBAAe,EAAE/U,iDAAS,CAACa,IAAV,CAAeR,UAhChB;AAiChBoJ,gBAAc,EAAEzJ,iDAAS,CAACa,IAAV,CAAeR,UAjCf;AAkChB4B,UAAQ,EAAEjC,iDAAS,CAACC,MAlCJ;AAmChB6G,aAAW,EAAE9G,iDAAS,CAACC,MAnCP,EAAlB;;;AAsCA,MAAMkC,YAAY,GAAG;AACnBihB,UAAQ,EAAE,KADS;AAEnB3Q,oBAAkB,EAAE,IAFD,EAArB;;;AAKA;AACA;AACA,MAAM0f,cAAc,GAAG,GAAvB;AACA,MAAMC,6BAA6B,GAAG,iMAAYtyB,SAAZ;AACpCuyB,IAAI,IAAIA,IAAI,KAAK,OAAT,IAAoBA,IAAI,KAAK,QADD,CAAtC;;AAGA,MAAMC,sBAAsB,GAAG,IAAI,iFAAI,CAAC,YAAD,CAAR,CAA/B;AACA,MAAMC,qBAAqB,GAAG,EAA9B;;AAEA,MAAMC,YAAY,GAAGnwB,yDAAM,CAACC,GAAI;AAChC;AACA;AACA;AACA;AACA,CALA;;AAOe,MAAMO,KAAN,SAAoBC,4CAAK,CAACmD,SAA1B,CAAoC;AACjDjD,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACXjJ,WAAK,EAAEuC,KAAK,CAACvC,KADF;AAEXC,YAAM,EAAEsC,KAAK,CAACtC,MAFH;AAGX8xB,uBAAiB,EAAE,CAHR,EAAb;;;AAMA,SAAKT,YAAL,GAAoB,4GAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACA,SAAKU,oBAAL,GAA4B,4GAAKA,oBAAL,kBAA+B,IAA/B,CAA5B;AACA,SAAKC,qBAAL,GAA6B,4GAAKA,qBAAL,kBAAgC,IAAhC,CAA7B;AACA,SAAK9O,YAAL,GAAoB,4GAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACA,SAAKC,SAAL,GAAiB,4GAAKA,SAAL,kBAAoB,IAApB,CAAjB;AACA,SAAKjJ,YAAL,GAAoB,4GAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACA,SAAK+X,MAAL,GAAc,4GAAKA,MAAL,kBAAiB,IAAjB,CAAd;AACA,SAAKC,iBAAL,GAAyB,4GAAKA,iBAAL,kBAA4B,IAA5B,CAAzB;AACA,SAAKC,YAAL,GAAoB,6GAAKA,YAAL,mBAAuB,IAAvB,CAApB;AACD;;AAEDnsB,uBAAqB,CAACC,SAAD,EAAYmb,SAAZ,EAAuB;AAC1C;AACA;AACA;AACA;AACEA,aAAS,CAACrhB,KAAV,KAAoB,KAAKiJ,KAAL,CAAWjJ,KAA/B;AACAqhB,aAAS,CAACphB,MAAV,KAAqB,KAAKgJ,KAAL,CAAWhJ,MADhC;AAEAohB,aAAS,CAAC0Q,iBAAV,KAAgC,KAAK9oB,KAAL,CAAW8oB,iBAH7C;AAIE;AACA,aAAO,IAAP;AACD;;AAED;AACA;AACA,QAAI7rB,SAAS,CAAC6L,kBAAd,EAAkC;AAChC,UAAI7L,SAAS,CAAC0V,KAAV,CAAgB7a,YAApB,EAAkC;AAChC,eAAO,IAAP;AACD;;AAED,UAAImF,SAAS,CAACoe,UAAV,KAAyB,KAAK/hB,KAAL,CAAW+hB,UAAxC,EAAoD;AAClD/J,oBAAY,CAAC,KAAK8X,aAAN,CAAZ;AACA,aAAKA,aAAL,GAAqB,yFAAW,KAAKH,MAAhB,EAAwBT,cAAxB,CAArB;AACA,eAAO,KAAP;AACD;;AAED;AACEvrB,eAAS,CAAClG,KAAV,KAAoB,KAAKuC,KAAL,CAAWvC,KAA/B;AACAkG,eAAS,CAACjG,MAAV,KAAqB,KAAKsC,KAAL,CAAWtC,MAFlC;AAGE;AACAsa,oBAAY,CAAC,KAAK8X,aAAN,CAAZ;AACA,aAAKA,aAAL,GAAqB,yFAAW,KAAKH,MAAhB,EAAwBT,cAAxB,CAArB;AACD;;AAED,WAAK,IAAIxd,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyd,6BAA6B,CAAC1nB,MAAlD,EAA0DiK,CAAC,IAAI,CAA/D,EAAkE;AAChE,cAAM0d,IAAI,GAAGD,6BAA6B,CAACzd,CAAD,CAA1C;AACA;AACA;AACA,YAAI,CAAC7D,oEAAe,CAAClK,SAAS,CAACyrB,IAAD,CAAV,EAAkB,KAAKpvB,KAAL,CAAWovB,IAAX,CAAlB,CAApB,EAAyD;AACvD,iBAAO,IAAP;AACD;AACF;AACF;;AAED;AACA,WAAO,KAAKpvB,KAAL,CAAW+D,eAAX,KAA+BJ,SAAS,CAACI,eAAhD;AACD;;AAEDiK,sBAAoB,GAAG;AACrBgK,gBAAY,CAAC,KAAK8X,aAAN,CAAZ;AACD;;AAED1vB,oBAAkB,CAAC2vB,SAAD,EAAY;AAC5B,QAAI,KAAK/vB,KAAL,CAAWqgB,UAAX,KAA0B0P,SAAS,CAAC1P,UAAxC,EAAoD;AAClD,YAAMmP,iBAAiB;AACrB,WAAKxvB,KAAL,CAAWqgB,UAAX,IAAyB,KAAK2P,cAA9B;AACI,WAAKA,cAAL,CAAoBC,YADxB;AAEI,OAHN;AAIA;AACA,WAAKnpB,QAAL,CAAc,EAAE0oB,iBAAF,EAAd;AACD;AACF;;AAEDU,gBAAc,GAAG;AACf,UAAMC,YAAY,GAAG,KAAKC,eAAL,EAArB;AACA,WAAO,KAAK1pB,KAAL,CAAWhJ,MAAX,GAAoByyB,YAApB,GAAmC,KAAKzpB,KAAL,CAAW8oB,iBAArD;AACD;;AAEDY,iBAAe,GAAG;AAChB;AACG,WAAKC,SAAL,IAAkB,KAAKA,SAAL,CAAeJ,YAAlC,IAAmDX,qBADrD;;AAGD;;AAEDM,mBAAiB,CAAClf,GAAD,EAAM;AACrB,SAAKsf,cAAL,GAAsBtf,GAAtB;AACD;;AAEDmf,cAAY,CAACnf,GAAD,EAAM;AAChB,SAAK2f,SAAL,GAAiB3f,GAAjB;AACD;;AAEDif,QAAM,GAAG;AACP,UAAM,EAAElyB,KAAF,EAASC,MAAT,KAAoB,KAAKsC,KAA/B;AACA,SAAK8G,QAAL,CAAc,OAAO,EAAErJ,KAAF,EAASC,MAAT,EAAP,CAAd;AACD;;AAEDqxB,cAAY,CAACuB,iBAAiB,GAAG,EAArB,EAAyB;AACnC,SAAKtwB,KAAL,CAAWiB,QAAX,CAAoBsvB,qFAApB,EAAyD;AACvDxhB,QAAE,EAAE,KAAK/O,KAAL,CAAWqZ,KAAX,CAAiBtK,EADkC;AAEvDqb,aAAO,EAAE,yFAAYkG,iBAAZ,CAF8C,EAAzD;;AAIA,SAAKtwB,KAAL,CAAW+uB,YAAX,CAAwB,KAAK/uB,KAAL,CAAWqZ,KAAX,CAAiBtK,EAAzC,EAA6CuhB,iBAA7C;AACD;;AAEDb,sBAAoB,CAACvyB,OAAD,EAAUutB,MAAV,EAAkB;AACpC,SAAKzqB,KAAL,CAAWgvB,qBAAX,CAAiC9xB,OAAjC,EAA0CutB,MAA1C;AACD;;AAEDiF,uBAAqB,CAACxyB,OAAD,EAAUutB,MAAV,EAAkB;AACrC,SAAKzqB,KAAL,CAAWivB,uBAAX,CAAmC/xB,OAAnC,EAA4CutB,MAA5C;AACD;;AAED7J,cAAY,GAAG;AACb,SAAK5gB,KAAL,CAAWiB,QAAX,CAAoBuvB,qFAApB,EAAyD;AACvDrvB,cAAQ,EAAE,iGAAKnB,KAAL,EAAiBmB,QAD4B;AAEvDsvB,eAAS,EAAE,KAAKzwB,KAAL,CAAWmgB,QAFiC,EAAzD;;AAIAS,+EAAY,CAAC,KAAK5gB,KAAL,CAAWxC,QAAZ,CAAZ;AACD;;AAEDqjB,WAAS,GAAG;AACV,SAAK7gB,KAAL,CAAWiB,QAAX,CAAoByvB,wFAApB,EAA4D;AAC1DvvB,cAAQ,EAAE,iGAAKnB,KAAL,EAAiBmB,QAD+B;AAE1DsvB,eAAS,EAAE,KAAKzwB,KAAL,CAAWmgB,QAFoC,EAA5D;;AAIAwQ,8EAAW,CAAC;AACVnzB,cAAQ,EAAE,KAAKwC,KAAL,CAAWxC,QADX;AAEVozB,gBAAU,EAAE,SAFF;AAGVC,kBAAY,EAAE,KAHJ,EAAD,CAAX;;AAKD;;AAEDjZ,cAAY,GAAG;AACb,SAAK5X,KAAL,CAAWiB,QAAX,CAAoB6vB,iFAApB,EAAqD;AACnD3vB,cAAQ,EAAE,iGAAKnB,KAAL,EAAiBmB,QADwB;AAEnDsvB,eAAS,EAAE,KAAKzwB,KAAL,CAAWmgB,QAF6B,EAArD;;AAIA,WAAO,KAAKngB,KAAL,CAAW2hB,YAAX;AACL,SAAK3hB,KAAL,CAAWqZ,KAAX,CAAiBtK,EADZ;AAEL,QAFK;AAGL,SAAK/O,KAAL,CAAW1C,WAHN,CAAP;;AAKD;;AAED6E,QAAM,GAAG;AACP,UAAM;AACJ4M,QADI;AAEJmR,iBAFI;AAGJ5iB,iBAHI;AAIJ+b,WAJI;AAKJ4G,WALI;AAMJ5iB,gBANI;AAOJgjB,gBAPI;AAQJhU,cARI;AASJrH,aATI;AAUJxH,cAVI;AAWJsxB,qBAXI;AAYJ9mB,eAZI;AAaJ2Y,uBAbI;AAcJ9iB,aAdI;AAeJ0iB,wBAfI;AAgBJC,sBAhBI;AAiBJC,oBAjBI;AAkBJC,kBAlBI;AAmBJ5O,qBAnBI;AAoBJtL,oBApBI;AAqBJxH,cArBI;AAsBJ6E,iBAtBI;AAuBJie,0BAvBI;AAwBJC,gBAxBI;AAyBF,SAAK/hB,KAzBT;;AA2BA,UAAM,EAAEvC,KAAF,KAAY,KAAKiJ,KAAvB;;AAEA;AACA;AACA,QAAI,CAAC2S,KAAD,IAAU,CAAC4G,KAAf,EAAsB;AACpB,aAAO,4DAAC,sDAAD,IAAc,MAAM,EAAE,KAAKiQ,cAAL,EAAtB,GAAP;AACD;;AAED,UAAM,EAAE5xB,eAAF,EAAmByyB,kBAAnB,EAAuC3yB,WAAvC,KAAuDib,KAA7D;AACA,UAAMjX,SAAS,GAAGhE,WAAW,KAAK,SAAlC;AACA;AACA,UAAM+hB,QAAQ,GAAG,CAAA7hB,eAAe,QAAf,sGAAAA,eAAe,MAAf,CAAAA,eAAe,EAAM,CAAC,EAAEmyB,SAAF,EAAD,KAAmBA,SAAzB,CAAf,KAAsD,EAAvE;AACA,UAAMrQ,UAAU;AACd;AACA,KAAA9hB,eAAe,QAAf,sGAAAA,eAAe,MAAf,CAAAA,eAAe,EAAM,CAAC,EAAE0yB,WAAF,EAAD,KAAqBA,WAA3B,CAAf,KAA0D,EAF5D;AAGA,UAAMC,cAAc,GAAG5B,sBAAsB,CAAC/P,GAAvB,CAA2BW,KAAK,CAAC5b,QAAjC,CAAvB;AACA,UAAM9G,aAAa,GAAG2zB,iFAAW,CAACniB,EAAD,CAAX;AAClBoiB,oFAAyB,CAAC;AACxBtmB,mBAAa,EAAE7F,OADS;AAExBmlB,cAAQ,EAAEpb,EAFc,EAAD,CADP;;AAKlB,MALJ;AAMA;AACE;AACE,iBAAS,EAAC,aADZ;AAEE,qBAAU,sBAFZ;AAGE,8BAAoBA,EAHtB;AAIE,8BAAoBkR,KAAK,CAAC5b,QAJ5B;AAKE,gCAAsB4b,KAAK,CAAC9C,UAL9B;;AAOE,kEAAC,qDAAD;AACE,gBAAQ,EAAE,KAAK0S,YADjB;AAEE,aAAK,EAAE5P,KAFT;AAGE,kBAAU,EAAE,CAAC,CAACI,UAHhB;AAIE,gBAAQ,EAAEF,QAJZ;AAKE,kBAAU,EAAEC,UALd;AAME,mBAAW,EAAE2Q,kBANf;AAOE,yBAAiB,EAAEpQ,iBAPrB;AAQE,oBAAY,EAAE,KAAK/I,YARrB;AASE,gBAAQ,EAAEvL,QATZ;AAUE,uBAAe,EAAEgN,KAAK,CAAC+X,eAVzB;AAWE,oBAAY,EAAE,KAAKxQ,YAXrB;AAYE,iBAAS,EAAE,KAAKC,SAZlB;AAaE,uBAAe,EAAEiO,eAbnB;AAcE,iBAAS,EAAE9mB,SAdb;AAeE,0BAAkB,EAAEuY,kBAftB;AAgBE,wBAAgB,EAAEC,gBAhBpB;AAiBE,sBAAc,EAAEC,cAjBlB;AAkBE,oBAAY,EAAEC,YAlBhB;AAmBE,mBAAW,EAAER,WAnBf;AAoBE,mBAAW,EAAE5iB,WApBf;AAqBE,eAAO,EAAE0H,OArBX;AAsBE,uBAAe,EAAE8M,eAtBnB;AAuBE,sBAAc,EAAEtL,cAvBlB;AAwBE,4BAAoB,EAAEsb,oBAxBxB;AAyBE,kBAAU,EAAEC,UAzBd;AA0BE,mBAAW,EAAE1I,KAAK,CAACjb,WA1BrB;AA2BE,gBAAQ,EAAEZ,QA3BZ,GAPF;;;;;;;;;;AA4CG6iB,gBAAU,IAAIJ,KAAK,CAACoR,sBAApB;AACC;AACE,iBAAS,EAAC,iDADZ;AAEE,WAAG,EAAE,KAAKzB;AACV;AAHF,UAIE,uBAAuB,EAAE,EAAE0B,MAAM,EAAErR,KAAK,CAACoR,sBAAhB,EAJ3B,GA7CJ;;;;AAqDE;AACE,iBAAS,EAAEroB,iDAAE;AACX,yBADW;AAEXioB,sBAAc,IAAI,+BAFP,CADf;;;AAMG7uB,eAAS;AACR,kEAAC,YAAD;AACE,aAAK,EAAE;AACL3E,eADK;AAELC,gBAAM,EAAE,KAAKwyB,cAAL,EAFH,EADT,GAPJ;;;;;AAeE,kEAAC,8DAAD;AACE,aAAK,EAAEzyB,KADT;AAEE,cAAM,EAAE,KAAKyyB,cAAL,EAFV;AAGE,iBAAS,EAAE,KAAKnB,YAHlB;AAIE,wBAAgB,EAAE,KAAKU,oBAJzB;AAKE,yBAAiB,EAAE,KAAKC,qBAL1B;AAME,sBAAc,EAAErW,KAAK,CAACvc,cANxB;AAOE,kBAAU,EAAEuc,KAAK,CAAClb,UAPpB;AAQE,eAAO,EAAE4Q,EARX;AASE,mBAAW,EAAE3Q,WATf;AAUE,kBAAU,EAAEf,UAVd;AAWE,mBAAW,EAAEC,WAXf;AAYE,qBAAa,EAAEC,aAZjB;AAaE,gBAAQ,EAAEC,QAbZ;AAcE,gBAAQ,EAAEwB,QAdZ;AAeE,mBAAW,EAAE6E,WAff;AAgBE,uBAAe,EAAEwV,KAAK,CAAC/a,eAhBzB;AAiBE,eAAO,EAAET,OAjBX;AAkBE,oBAAY,EAAEwb,KAAK,CAAC7a,YAlBtB;AAmBE,eAAO,EAAEyhB,KAAK,CAAC5b,QAnBjB,GAfF,CArDF,CADF;;;;;AA6FD,GAzSgD;AAAA;AAAA;AA4SnDzE,KAAK,CAAC/C,SAAN,GAAkBA,SAAlB;AACA+C,KAAK,CAACV,YAAN,GAAqBA,YAArB,C,iLAxWMrC,S,oKAsCAqC,Y,uKAOAgwB,c,yKACAC,6B,wLAGAE,sB,iLACAC,qB,gLAEAC,Y,uKAOe3vB,K;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCjGrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AASA,MAAM2xB,YAAY,GAAG,EAArB;;AAEA,MAAM10B,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADL;AAEhBupB,UAAQ,EAAE5pB,iDAAS,CAACgB,MAAV,CAAiBX,UAFX;AAGhBE,aAAW,EAAEP,iDAAS,CAACI,MAAV,CAAiBC,UAHd;AAIhBwnB,WAAS,EAAEtV,gEAAc,CAAClS,UAJV;AAKhBynB,iBAAe,EAAEvV,gEAAc,CAAClS,UALhB;AAMhB4T,OAAK,EAAEjU,iDAAS,CAACI,MAAV,CAAiBC,UANR;AAOhBgS,OAAK,EAAErS,iDAAS,CAACI,MAAV,CAAiBC,UAPR;AAQhBiP,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UART;AAShBo0B,mBAAiB,EAAEz0B,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACgB,MAA5B,CATH;AAUhB0zB,uBAAqB,EAAE10B,iDAAS,CAACI,MAVjB;AAWhBu0B,oBAAkB,EAAE30B,iDAAS,CAACC,MAXd;;AAahB;AACA20B,sBAAoB,EAAE50B,iDAAS,CAACI,MAAV,CAAiBC,UAdvB;AAehBiU,aAAW,EAAEtU,iDAAS,CAACI,MAAV,CAAiBC,UAfd;AAgBhBw0B,eAAa,EAAE70B,iDAAS,CAACa,IAAV,CAAeR,UAhBd;AAiBhBy0B,UAAQ,EAAE90B,iDAAS,CAACa,IAAV,CAAeR,UAjBT;AAkBhB00B,cAAY,EAAE/0B,iDAAS,CAACa,IAAV,CAAeR,UAlBb;;AAoBhB;AACA20B,iBAAe,EAAEh1B,iDAAS,CAACa,IAAV,CAAeR,UArBhB;AAsBhB40B,kBAAgB,EAAEj1B,iDAAS,CAACa,IAAV,CAAeR,UAtBjB;AAuBhBmS,qBAAmB,EAAExS,iDAAS,CAACa,IAAV,CAAeR,UAvBpB,EAAlB;;;AA0BA,MAAM8B,YAAY,GAAG;AACnBsyB,mBAAiB,EAAE,EADA;AAEnBC,uBAAqB,EAAE,CAFJ,EAArB;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMQ,oBAAoB,gBAAGpyB,4CAAK,CAACqyB,UAAN;AAC3B,CAAC,EAAEh1B,OAAF,EAAWw0B,kBAAX,EAA+BS,aAA/B,EAA8C,GAAGC,UAAjD,EAAD,EAAgE1hB,GAAhE,KAAwE;AACtE,QAAMnR,KAAK,GAAG8yB,kEAAQ,EAAtB;AACA,QAAMC,qBAAqB,GAAGH,aAAa,CAACI,eAA5C;AACA,MAAI,EAAEb,kBAAkB,IAAIY,qBAAxB,CAAJ;AACE,SAAO,mJAAK,GAAG,EAAE5hB,GAAV,IAAmB0hB,UAAnB,EAAP;;AAEF;AACA;AACA;;AAEA;AACA,QAAMI,oBAAoB,GAAG,EAAEC,OAAO,EAAE,GAAX,EAAgB3O,aAAa,EAAE,MAA/B,EAA7B;AACA,QAAM4O,kBAAkB,GAAG;AACzBC,eAAW,EAAEpzB,KAAK,CAAC6I,MAAN,CAAawqB,OAAb,CAAqBtqB,MADT;AAEzBmqB,WAAO,EAAE,CAFgB;AAGzBI,aAAS,EAAG,WAAUtzB,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AACvChJ,SAAK,CAAC6I,MAAN,CAAawqB,OAAb,CAAqBtqB;AACtB,MALwB;AAMzBwb,iBAAa,EAAE,MANU,EAA3B;;;AASA,MAAIwO,qBAAJ,EAA2B;AACzB;AACE,8GAAAH,aAAa,CAACntB,OAAd,CAAsBstB,qBAAtB,EAA6C1jB,aAA7C;AACE1R,WADF,CADF;;AAIE;AACA,aAAO,mJAAK,GAAG,EAAEwT,GAAV,EAAe,KAAK,EAAEgiB,kBAAtB,IAA8CN,UAA9C,EAAP;AACD;AACF,GARD,MAQO;AACLl1B,SAAO,KAAKw0B,kBAAkB,CAACx0B,OAA/B;AACA,6GAAA8tB,0GAAwB,CAAC;AACvBC,eAAW,EAAEyG,kBAAkB,CAAC/iB,KADT,EAAD,CAAxB;AAEYzR,SAFZ,CAFK;AAKL;AACA,WAAO,mJAAK,GAAG,EAAEwT,GAAV,EAAe,KAAK,EAAEgiB,kBAAtB,IAA8CN,UAA9C,EAAP;AACD;;AAED;AACA,SAAO,mJAAK,GAAG,EAAE1hB,GAAV,EAAe,KAAK,EAAE8hB,oBAAtB,IAAgDJ,UAAhD,EAAP;AACD,CAzC0B,4BAEXC,0DAFW,GAA7B;;;AA4CA,MAAMS,WAAN,SAA0BjzB,4CAAK,CAACmD,SAAhC,CAA0C;AACxC,SAAO+vB,gBAAP,CAAwBxI,UAAxB,EAAoC;AAClC;AACE;AACI,mBAAYA,UAAW;AACjC;AACA;AACA,aAJM,CADF;;;AAQD;;AAED,SAAOyI,wBAAP,CAAgChzB,KAAhC,EAAuC0G,KAAvC,EAA8C;AAC5C,UAAM,EAAEke,SAAF,EAAa4M,iBAAb,EAAgCC,qBAAhC,KAA0DzxB,KAAhE;AACA,UAAM;AACJ+U,WAAK,EAAEwV,UADH;AAEJlR,WAAK,EAAE4Z,gBAFH;AAGFC,8FAAmC,CAAC1B,iBAAD,CAHvC;;AAKA;AACEC,yBAAqB,KAAK/qB,KAAK,CAAC+qB,qBAAhC;AACA7M,aAAS,CAAC7V,EAAV,KAAiBkkB,gBAFnB;AAGE;AACA,aAAO;AACLE,2BAAmB,EAAEvO,SAAS,CAAC7V,EAD1B;AAELqkB,0BAAkB,EAAE7I,UAFf;AAGLkH,6BAHK,EAAP;;AAKD;AACD,WAAO,IAAP;AACD;;AAED1xB,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACX2sB,eAAS,EAAE,KADA;AAEXF,yBAAmB,EAAE,IAFV;AAGXC,wBAAkB,EAAE,IAHT;AAIX3B,2BAAqB,EAAE,CAJZ;AAKX1P,gBAAU,EAAE,KALD,EAAb;;;AAQA,SAAKuR,iBAAL,GAAyB,4GAAKA,iBAAL,kBAA4B,IAA5B,CAAzB;AACA,SAAKC,qBAAL,GAA6B,4GAAKA,qBAAL,kBAAgC,IAAhC,CAA7B;AACA,SAAKC,qBAAL,GAA6B,4GAAKA,qBAAL,kBAAgC,IAAhC,CAA7B;AACA,SAAK1R,oBAAL,GAA4B,4GAAKA,oBAAL,kBAA+B,IAA/B,CAA5B;AACD;;AAED5hB,mBAAiB,GAAG;AAClB,SAAKuzB,WAAL,CAAiB,EAAjB,EAAqB,KAAK/sB,KAA1B;AACD;;AAEDtG,oBAAkB,CAAC2vB,SAAD,EAAY3Q,SAAZ,EAAuB;AACvC,SAAKqU,WAAL,CAAiBrU,SAAjB,EAA4B,KAAK1Y,KAAjC;AACD;;AAED+sB,aAAW,CAACrU,SAAD,EAAY1Y,KAAZ,EAAmB;AAC5B,UAAM,EAAEysB,mBAAmB,EAAEO,QAAvB,KAAoChtB,KAA1C;AACA,UAAM,EAAEysB,mBAAmB,EAAEQ,YAAvB,KAAwCvU,SAA9C;;AAEA;AACA,QAAI,CAAC,CAACsU,QAAF,IAAc,CAACC,YAAnB,EAAiC;AAC/B,+FAAW,MAAM;AACf,aAAK7sB,QAAL,CAAc,OAAO;AACnBqsB,6BAAmB,EAAE,IADF;AAEnBC,4BAAkB,EAAE,IAFD,EAAP,CAAd;;AAID,OALD,EAKG,IALH;AAMD;AACF;;AAEDE,mBAAiB,CAACM,SAAD,EAAY;AAC3B,SAAK9sB,QAAL,CAAc,OAAO,EAAEusB,SAAS,EAAEO,SAAb,EAAP,CAAd;AACD;;AAEDL,uBAAqB,GAAG;AACtB,UAAM,EAAExB,eAAF,EAAmBhjB,EAAnB,EAAuB4X,QAAvB,KAAoC,KAAK3mB,KAA/C;AACA+xB,mBAAe,CAAChjB,EAAD,EAAK4X,QAAL,CAAf;AACD;;AAED6M,uBAAqB,CAACK,QAAD,EAAW;AAC9B,UAAM,EAAEjP,SAAF,EAAaoN,gBAAb,KAAkC,KAAKhyB,KAA7C;AACAgyB,oBAAgB,CAAC;AACf,OAACpN,SAAS,CAAC7V,EAAX,GAAgB;AACd,WAAG6V,SADW;AAEdlF,YAAI,EAAE;AACJ,aAAGkF,SAAS,CAAClF,IADT;AAEJoU,2BAAiB,EAAED,QAFf,EAFQ,EADD,EAAD,CAAhB;;;;AASD;;AAED/R,sBAAoB,GAAG;AACrB,SAAKhb,QAAL,CAAcsY,SAAS,KAAK,EAAE2C,UAAU,EAAE,CAAC3C,SAAS,CAAC2C,UAAzB,EAAL,CAAvB;AACD;;AAED5f,QAAM,GAAG;AACP,UAAM,EAAEkxB,SAAF,KAAgB,KAAK3sB,KAA3B;AACA,UAAM;AACJke,eADI;AAEJC,qBAFI;AAGJ7T,WAHI;AAIJ5B,WAJI;AAKJuiB,0BALI;AAMJtgB,iBANI;AAOJugB,mBAPI;AAQJC,cARI;AASJC,kBATI;AAUJviB,yBAVI;AAWJlD,cAXI;AAYJmD,wBAZI;AAaJlS,iBAbI;AAcJo0B,wBAdI;AAeJS,mBAfI;AAgBF,SAAKnyB,KAhBT;;AAkBA;AACA,UAAM4Q,aAAa;AACjBiU,mBAAe,CAACtF,IAAhB,KAAyBwU,iEAAzB;AACIlP,mBAAe,CAACnF,IAAhB,CAAqBjiB,KAArB,IAA8Bu2B,sEADlC;AAEIpP,aAAS,CAAClF,IAAV,CAAejiB,KAAf,IAAwBu2B,sEAH9B;;AAKA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,WAAW,GAAG,CAAlB;;AAEA,QAAI,KAAKxtB,KAAL,CAAWqb,UAAf,EAA2B;AACzBkS,gBAAU,GAAG/tB,MAAM,CAACiuB,UAAP,GAAoB5C,YAAjC;AACA2C,iBAAW,GAAGhuB,MAAM,CAAC8W,WAAP,GAAqBuU,YAAnC;AACD,KAHD,MAGO;AACL0C,gBAAU,GAAGG,IAAI,CAACC,KAAL;AACXzjB,mBAAa,GAAGS,WAAhB;AACE,OAACT,aAAa,GAAG,CAAjB,IAAsBO,iEADxB;AAEEogB,kBAHS,CAAb;;AAKA2C,iBAAW,GAAGE,IAAI,CAACC,KAAL;AACZzP,eAAS,CAAClF,IAAV,CAAehiB,MAAf,GAAwB42B,+DAAxB,GAAyC/C,YAD7B,CAAd;;AAGD;;AAED,UAAM,EAAEr0B,OAAF,KAAc0nB,SAAS,CAAClF,IAA9B;;AAEA;AACE,kEAAC,2DAAD;AACE,iBAAS,EAAEkF,SADb;AAEE,uBAAe,EAAEC,eAFnB;AAGE,mBAAW,EAAEA,eAAe,CAACtF,IAAhB,KAAyBgV,8DAAzB,GAAoC,QAApC,GAA+C,KAH9D;AAIE,aAAK,EAAEvjB,KAJT;AAKE,aAAK,EAAE5B,KALT;AAME,cAAM,EAAEG,mBANV;AAOE,uBAAe,EAAE8jB,SAPnB;AAQE,gBAAQ,EAAEhnB,QARZ;;AAUG,OAAC,EAAEiF,kBAAF,EAAsBuO,aAAtB,EAAD;AACC,kEAAC,sEAAD;AACE,UAAE,EAAE+E,SAAS,CAAC7V,EADhB;AAEE,uBAAe,EAAE8V,eAAe,CAACtF,IAAhB,KAAyBgV,8DAF5C;AAGE,wBAAgB,MAHlB;AAIE,iBAAS,EAAEljB,WAJb;AAKE,qBAAa,EAAET,aALjB;AAME,kBAAU,EAAE0jB,+DANd;AAOE,sBAAc,EAAE1P,SAAS,CAAClF,IAAV,CAAehiB,MAPjC;AAQE,wBAAgB,EAAEs2B,sEARpB;AASE,yBAAiB,EAAEQ,mEATrB;AAUE,wBAAgB,EAAE7C,oBAAoB,GAAG/gB,aAV3C;AAWE,qBAAa,EAAEghB,aAXjB;AAYE,gBAAQ,EAAEC,QAZZ;AAaE,oBAAY,EAAEC,YAbhB;AAcE,gBAAQ,EAAEzlB,QAdZ;;AAgBE,kEAAC,oBAAD;AACE,eAAO,EAAEnP,OADX;AAEE,0BAAkB,EAAEw0B,kBAFtB;AAGE,qBAAa,EAAES,aAHjB;AAIE,WAAG,EAAEtS,aAJP;AAKE,qBAAU,kCALZ;AAME,iBAAS,EAAE7W,iDAAE;AACX,6BADW;AAEX,0CAFW;AAGX,aAAKtC,KAAL,CAAWysB,mBAAX,GAAiC,SAAjC,GAA6C,UAHlC;AAIX,aAAKzsB,KAAL,CAAWqb,UAAX,IAAyB,WAJd,CANf;;;AAaG,OAAC1V,QAAD;AACC,kEAAC,+DAAD;AACE,oBAAY,EAAEuY,SAAS,CAAC7V,EAD1B;AAEE,eAAO,EAAE,CAAC,CAAC,KAAKrI,KAAL,CAAWysB,mBAFxB,GAdJ;;;AAmBG,OAAC,CAAC,KAAKzsB,KAAL,CAAWysB,mBAAb;AACCL,iBAAW,CAACC,gBAAZ,CAA6B,KAAKrsB,KAAL,CAAW0sB,kBAAxC,CApBJ;AAqBE,kEAAC,yDAAD;AACE,mBAAW,EAAExO,SAAS,CAAC7V,EADzB;AAEE,UAAE,EAAE6V,SAAS,CAAClF,IAAV,CAAexiB,OAFrB;AAGE,mBAAW,EAAEI,WAHf;AAIE,aAAK,EAAE22B,UAJT;AAKE,cAAM,EAAEC,WALV;AAME,iBAAS;AACPtP,iBAAS,CAAClF,IAAV,CAAeoU,iBAAf;AACAlP,iBAAS,CAAClF,IAAV,CAAe1X,SADf;AAEA,UATJ;;AAWE,uBAAe,EAAE,KAAKwrB,qBAXxB;AAYE,0BAAkB,EAAEhkB,kBAZtB;AAaE,4BAAoB,EAAE,KAAKsS,oBAb7B;AAcE,kBAAU,EAAE,KAAKpb,KAAL,CAAWqb,UAdzB,GArBF;;AAqCG1V,cAAQ;AACP,kEAAC,wDAAD,IAAW,QAAQ,EAAC,KAApB;AACE,2EAAK,aAAU,mCAAf;AACE,kEAAC,+DAAD;AACE,gBAAQ,EAAE,KAAKknB,qBADjB,GADF,CADF,CAtCJ,CAhBF;;;;;;;AAgEGjiB,wBAAkB,IAAI,mEAASA,kBAAT,CAhEzB,CAXJ,CADF;;;;;AAiFD,GA/NuC;AAAA;AAAA;AAkO1CwhB,WAAW,CAACj2B,SAAZ,GAAwBA,SAAxB;AACAi2B,WAAW,CAAC5zB,YAAZ,GAA2BA,YAA3B,C;;AAEe4zB,W,CAAA,yE,iLA9TTvB,Y,6KAEA10B,S,0KA0BAqC,Y,6KAiBA+yB,oB,qLA4CAa,W;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSClIN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA,MAAMj2B,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADL;AAEhBupB,UAAQ,EAAE5pB,iDAAS,CAACgB,MAAV,CAAiBX,UAFX;AAGhBwnB,WAAS,EAAEtV,gEAAc,CAAClS,UAHV;AAIhBynB,iBAAe,EAAEvV,gEAAc,CAAClS,UAJhB;AAKhB4T,OAAK,EAAEjU,iDAAS,CAACI,MAAV,CAAiBC,UALR;AAMhBgS,OAAK,EAAErS,iDAAS,CAACI,MAAV,CAAiBC,UANR;AAOhBiP,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UAPT;;AAShB;AACAu0B,sBAAoB,EAAE50B,iDAAS,CAACI,MAAV,CAAiBC,UAVvB;AAWhBiU,aAAW,EAAEtU,iDAAS,CAACI,MAAV,CAAiBC,UAXd;AAYhBq3B,gBAAc,EAAE13B,iDAAS,CAACI,MAAV,CAAiBC,UAZjB;AAahBw0B,eAAa,EAAE70B,iDAAS,CAACa,IAAV,CAAeR,UAbd;AAchBy0B,UAAQ,EAAE90B,iDAAS,CAACa,IAAV,CAAeR,UAdT;AAehB00B,cAAY,EAAE/0B,iDAAS,CAACa,IAAV,CAAeR,UAfb;;AAiBhB;AACA20B,iBAAe,EAAEh1B,iDAAS,CAACa,IAAV,CAAeR,UAlBhB;AAmBhBmS,qBAAmB,EAAExS,iDAAS,CAACa,IAAV,CAAeR,UAnBpB;AAoBhB40B,kBAAgB,EAAEj1B,iDAAS,CAACa,IAAV,CAAeR,UApBjB,EAAlB;;;AAuBA,MAAM8B,YAAY,GAAG,EAArB;;AAEA,MAAMw1B,MAAN,SAAqB70B,4CAAK,CAACC,aAA3B,CAAyC;AACvCC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACX2sB,eAAS,EAAE,KADA,EAAb;;AAGA,SAAKsB,sBAAL,GAA8B,2GAAKC,gBAAL;AAC5B,QAD4B;AAE5B,gBAF4B,CAA9B;;AAIA,SAAKtB,iBAAL,GAAyB,4GAAKA,iBAAL,kBAA4B,IAA5B,CAAzB;AACA,SAAKC,qBAAL,GAA6B,4GAAKA,qBAAL,kBAAgC,IAAhC,CAA7B;AACD;;AAEDA,uBAAqB,GAAG;AACtB,UAAM,EAAExB,eAAF,EAAmBhjB,EAAnB,EAAuB4X,QAAvB,KAAoC,KAAK3mB,KAA/C;AACA+xB,mBAAe,CAAChjB,EAAD,EAAK4X,QAAL,CAAf;AACD;;AAED2M,mBAAiB,CAACM,SAAD,EAAY;AAC3B,SAAK9sB,QAAL,CAAc,OAAO,EAAEusB,SAAS,EAAEwB,OAAO,CAACjB,SAAD,CAApB,EAAP,CAAd;AACD;;AAEDgB,kBAAgB,CAACrR,OAAD,EAAUuR,SAAV,EAAqB;AACnC,UAAM,EAAE9C,gBAAF,EAAoBpN,SAApB,KAAkC,KAAK5kB,KAA7C;AACA,QAAI80B,SAAS,IAAIlQ,SAAS,CAAClF,IAAV,CAAe6D,OAAf,MAA4BuR,SAA7C,EAAwD;AACtD9C,sBAAgB,CAAC;AACf,SAACpN,SAAS,CAAC7V,EAAX,GAAgB;AACd,aAAG6V,SADW;AAEdlF,cAAI,EAAE;AACJ,eAAGkF,SAAS,CAAClF,IADT;AAEJ,aAAC6D,OAAD,GAAWuR,SAFP,EAFQ,EADD,EAAD,CAAhB;;;;AASD;AACF;;AAED3yB,QAAM,GAAG;AACP,UAAM;AACJyiB,eAAS,EAAEmQ,eADP;AAEJlQ,qBAFI;AAGJ7T,WAHI;AAIJ2gB,0BAJI;AAKJtgB,iBALI;AAMJojB,oBANI;AAOJrlB,WAPI;AAQJwiB,mBARI;AASJC,cATI;AAUJC,kBAVI;AAWJviB,yBAXI;AAYJlD,cAZI;AAaJmD,wBAbI;AAcF,SAAKxP,KAdT;;AAgBA,UAAMg1B,WAAW,GAAGD,eAAe,CAACxjB,QAAhB,IAA4B,EAAhD;AACA,UAAM0jB,eAAe,GAAG,2FAAAC,qEAAsB,MAAtB,CAAAA,qEAAsB;AAC5C,KAAAtrB,GAAG;AACDA,OAAG,CAACiL,KAAJ;AACCkgB,mBAAe,CAACrV,IAAhB,CAAqByV,UAArB,IAAmCC,uEADpC,CAF0C,CAA9C;;;AAMA;AACE,kEAAC,0DAAD;AACE,iBAAS,EAAEL,eADb;AAEE,uBAAe,EAAElQ,eAFnB;AAGE,mBAAW,EAAC,QAHd;AAIE,aAAK,EAAE7T,KAJT;AAKE,aAAK,EAAE5B,KALT;AAME,cAAM,EAAEG,mBANV;AAOE,gBAAQ,EAAElD,QAPZ;;AASG,OAAC,EAAEiF,kBAAF,EAAsBuO,aAAtB,EAAD;AACC,kEAAC,sEAAD;AACE,UAAE,EAAEkV,eAAe,CAAChmB,EADtB;AAEE,uBAAe,MAFjB;AAGE,wBAAgB,EAAE,KAHpB;AAIE,iBAAS,EAAEsC,WAJb;AAKE,qBAAa,EAAE0jB,eAAe,CAACrV,IAAhB,CAAqBjiB,KALtC;AAME,wBAAgB,EAAEg3B,cANpB;AAOE,wBAAgB;AACd9C,4BAAoB,IAAIoD,eAAe,CAACrV,IAAhB,CAAqBjiB,KAArB,IAA8B,CAAlC,CARxB;;AAUE,qBAAa,EAAEm0B,aAVjB;AAWE,gBAAQ,EAAEC,QAXZ;AAYE,oBAAY,EAAEC,YAZhB;AAaE,gBAAQ,EAAEzlB,QAbZ;;AAeE,kEAAC,8DAAD;AACE,iBAAS,EAAE,KAAK3F,KAAL,CAAW2sB,SADxB;AAEE,qBAAa,EAAE,KAAKC,iBAFtB;AAGE,oBAAY,MAHd;AAIE,iBAAS,EAAE;AACT,oEAAC,sEAAD;AACE,YAAE,EAAG,GAAEyB,eAAe,CAAChmB,EAAG,aAD5B;AAEE,eAAK,EAAEgmB,eAAe,CAACrV,IAAhB,CAAqByV,UAF9B;AAGE,kBAAQ,EAAE,KAAKR,sBAHjB,GADS,CAJb;;;AAWE,gBAAQ,EAAEtoB,QAXZ;;AAaGA,cAAQ;AACP,kEAAC,wDAAD,IAAW,QAAQ,EAAEwT,aAArB,EAAoC,QAAQ,EAAC,KAA7C;AACE,kEAAC,uDAAD,IAAY,QAAQ,EAAC,KAArB,GADF;AAEE,kEAAC,8DAAD;AACE,gBAAQ,EAAE,KAAK0T,qBADjB,GAFF;;AAKE,kEAAC,oDAAD;AACE,eAAO,EAAE,KAAKD,iBADhB;AAEE,iBAAS,EAAC,WAFZ,GALF,CAdJ;;;;AAyBE;AACE,iBAAS,EAAEtqB,iDAAE;AACX,qBADW;AAEXgsB,mBAAW,CAACvtB,MAAZ,KAAuB,CAAvB,IAA4B,oBAFjB;AAGXwtB,uBAAe,CAAChZ,SAHL,CADf;;;AAOG,gGAAA+Y,WAAW,MAAX,CAAAA,WAAW,EAAK,CAAC9U,WAAD,EAAcmV,SAAd;AACf,kEAAC,sEAAD;AACE,WAAG,EAAEnV,WADP;AAEE,UAAE,EAAEA,WAFN;AAGE,gBAAQ,EAAE6U,eAAe,CAAChmB,EAH5B;AAIE,aAAK,EAAEK,KAAK,GAAG,CAJjB;AAKE,aAAK,EAAEimB,SALT;AAME,4BAAoB,EAAEN,eAAe,CAACrV,IAAhB,CAAqBjiB,KAN7C;AAOE,mBAAW,EAAE4T,WAPf;AAQE,qBAAa,EAAEugB,aARjB;AASE,gBAAQ,EAAEC,QATZ;AAUE,oBAAY,EAAEC,YAVhB;AAWE,0BAAkB,EAAEtiB,kBAXtB,GADU,CAPd;;;;AAuBG8B,wBAAkB,IAAI,mEAASA,kBAAT,CAvBzB,CAzBF,CAfF,CAVJ,CADF;;;;;;;AAiFD,GA/IsC;AAAA;AAAA;AAkJzCojB,MAAM,CAAC73B,SAAP,GAAmBA,SAAnB;AACA63B,MAAM,CAACx1B,YAAP,GAAsBA,YAAtB,C;;AAEew1B,M,CAAA,yE,iLA9KT73B,S,qKAuBAqC,Y,wKAEAw1B,M;;;;;;;;;;;;;;;;;;;;;;;;;wSC9DN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA,MAAM73B,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADL;AAEhBupB,UAAQ,EAAE5pB,iDAAS,CAACgB,MAAV,CAAiBX,UAFX;AAGhBwnB,WAAS,EAAEtV,+DAAc,CAAClS,UAHV;AAIhBgS,OAAK,EAAErS,iDAAS,CAACI,MAAV,CAAiBC,UAJR;AAKhBynB,iBAAe,EAAEvV,+DAAc,CAAClS,UALhB;AAMhB4T,OAAK,EAAEjU,iDAAS,CAACI,MAAV,CAAiBC,UANR;AAOhBiP,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UAPT;AAQhBmS,qBAAmB,EAAExS,iDAAS,CAACa,IAAV,CAAeR,UARpB;AAShB20B,iBAAe,EAAEh1B,iDAAS,CAACa,IAAV,CAAeR,UAThB,EAAlB;;;AAYA,MAAMk4B,OAAN,SAAsBz1B,4CAAK,CAACC,aAA5B,CAA0C;AACxCC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKuzB,qBAAL,GAA6B,2GAAKA,qBAAL,iBAAgC,IAAhC,CAA7B;AACD;;AAEDA,uBAAqB,GAAG;AACtB,UAAM,EAAExB,eAAF,EAAmBhjB,EAAnB,EAAuB4X,QAAvB,KAAoC,KAAK3mB,KAA/C;AACA+xB,mBAAe,CAAChjB,EAAD,EAAK4X,QAAL,CAAf;AACD;;AAEDxkB,QAAM,GAAG;AACP,UAAM;AACJyiB,eADI;AAEJxV,WAFI;AAGJyV,qBAHI;AAIJ7T,WAJI;AAKJzB,yBALI;AAMJlD,cANI;AAOF,SAAKrM,KAPT;;AASA;AACE,iEAAC,0DAAD;AACE,iBAAS,EAAE4kB,SADb;AAEE,uBAAe,EAAEC,eAFnB;AAGE,mBAAW,EAAC,KAHd;AAIE,aAAK,EAAE7T,KAJT;AAKE,aAAK,EAAE5B,KALT;AAME,cAAM,EAAEG,mBANV;AAOE,gBAAQ,EAAElD,QAPZ;;AASG,OAAC,EAAEiF,kBAAF,EAAsBuO,aAAtB,EAAD;AACC,0EAAK,GAAG,EAAEA,aAAV;AACGxT,cAAQ;AACP,iEAAC,uDAAD,IAAW,QAAQ,EAAC,MAApB;AACE,iEAAC,8DAAD,IAAuB,QAAQ,EAAE,KAAKknB,qBAAtC,GADF,CAFJ;;;;AAOE,0EAAK,SAAS,EAAC,iDAAf,GAPF;;AASGjiB,wBAAkB,IAAI,kEAASA,kBAAT,CATzB,CAVJ,CADF;;;;;AAyBD,GA9CuC;AAAA;AAAA;AAiD1CgkB,OAAO,CAACz4B,SAAR,GAAoBA,SAApB,C;;AAEey4B,O,CAAA,yE,iLA/DTz4B,S,sKAYAy4B,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCtCN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAMA,MAAMz4B,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADL;AAEhBupB,UAAQ,EAAE5pB,iDAAS,CAACgB,MAAV,CAAiBX,UAFX;AAGhBwnB,WAAS,EAAEtV,6EAAc,CAAClS,UAHV;AAIhBgS,OAAK,EAAErS,iDAAS,CAACI,MAAV,CAAiBC,UAJR;AAKhBynB,iBAAe,EAAEvV,6EAAc,CAAClS,UALhB;AAMhB4T,OAAK,EAAEjU,iDAAS,CAACI,MAAV,CAAiBC,UANR;AAOhBiP,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UAPT;AAQhB4H,SAAO,EAAEjI,iDAAS,CAACC,MAAV,CAAiBI,UARV;;AAUhB;AACAmS,qBAAmB,EAAExS,iDAAS,CAACa,IAAV,CAAeR,UAXpB;AAYhB20B,iBAAe,EAAEh1B,iDAAS,CAACa,IAAV,CAAeR,UAZhB;AAahB40B,kBAAgB,EAAEj1B,iDAAS,CAACa,IAAV,CAAeR,UAbjB,EAAlB;;;AAgBA,MAAM8B,YAAY,GAAG,EAArB;;AAEA,MAAMkY,MAAN,SAAqBvX,4CAAK,CAACC,aAA3B,CAAyC;AACvCC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACX2sB,eAAS,EAAE,KADA,EAAb;;AAGA,SAAKE,qBAAL,GAA6B,2GAAKA,qBAAL,iBAAgC,IAAhC,CAA7B;AACA,SAAKD,iBAAL,GAAyB,4GAAKA,iBAAL,kBAA4B,IAA5B,CAAzB;AACA,SAAKsB,gBAAL,GAAwB,4GAAKA,gBAAL,kBAA2B,IAA3B,CAAxB;AACA,SAAKW,gBAAL,GAAwB,4GAAKX,gBAAL,kBAA2B,IAA3B,EAAiC,YAAjC,CAAxB;AACA,SAAKD,sBAAL,GAA8B,4GAAKC,gBAAL;AAC5B,QAD4B;AAE5B,gBAF4B,CAA9B;;AAIA,SAAKpd,gBAAL,GAAwB,4GAAKod,gBAAL,kBAA2B,IAA3B,EAAiC,MAAjC,CAAxB;AACD;;AAEDtB,mBAAiB,CAACM,SAAD,EAAY;AAC3B,SAAK9sB,QAAL,CAAc,OAAO,EAAEusB,SAAS,EAAEO,SAAb,EAAP,CAAd;AACD;;AAEDgB,kBAAgB,CAACrR,OAAD,EAAUuR,SAAV,EAAqB;AACnC,UAAM,EAAE9C,gBAAF,EAAoBpN,SAApB,KAAkC,KAAK5kB,KAA7C;AACA,QAAI80B,SAAS,IAAIlQ,SAAS,CAAClF,IAAV,CAAe6D,OAAf,MAA4BuR,SAA7C,EAAwD;AACtD9C,sBAAgB,CAAC;AACf,SAACpN,SAAS,CAAC7V,EAAX,GAAgB;AACd,aAAG6V,SADW;AAEdlF,cAAI,EAAE;AACJ,eAAGkF,SAAS,CAAClF,IADT;AAEJ,aAAC6D,OAAD,GAAWuR,SAFP,EAFQ,EADD,EAAD,CAAhB;;;;AASD;AACF;;AAEDvB,uBAAqB,GAAG;AACtB,UAAM,EAAExB,eAAF,EAAmBhjB,EAAnB,EAAuB4X,QAAvB,KAAoC,KAAK3mB,KAA/C;AACA+xB,mBAAe,CAAChjB,EAAD,EAAK4X,QAAL,CAAf;AACD;;AAEDxkB,QAAM,GAAG;AACP,UAAM,EAAEkxB,SAAF,KAAgB,KAAK3sB,KAA3B;;AAEA,UAAM;AACJke,eADI;AAEJxV,WAFI;AAGJyV,qBAHI;AAIJ7T,WAJI;AAKJzB,yBALI;AAMJlD,cANI;AAOJrH,aAPI;AAQF,SAAKhF,KART;;AAUA,UAAMw1B,WAAW,GAAG,2FAAAC,8EAAkB,MAAlB,CAAAA,8EAAkB;AACpC7rB,OAAG,IAAIA,GAAG,CAACiL,KAAJ,MAAe+P,SAAS,CAAClF,IAAV,CAAegW,UAAf,IAA6BC,0EAA5C,CAD6B,CAAtC;;;AAIA,UAAMC,QAAQ,GAAG,2FAAAV,kFAAsB,MAAtB,CAAAA,kFAAsB;AACrC,KAAAtrB,GAAG;AACDA,OAAG,CAACiL,KAAJ,MAAe+P,SAAS,CAAClF,IAAV,CAAeyV,UAAf,IAA6BC,oFAA5C,CAFmC,CAAvC;;;AAKA;AACE,kEAAC,kFAAD;AACE,iBAAS,EAAExQ,SADb;AAEE,uBAAe,EAAEC,eAFnB;AAGE,mBAAW,EAAC,KAHd;AAIE,aAAK,EAAE7T,KAJT;AAKE,aAAK,EAAE5B,KALT;AAME,cAAM,EAAEG,mBANV;AAOE,uBAAe,EAAE8jB,SAPnB;AAQE,gBAAQ,EAAEhnB,QARZ;;AAUG,OAAC,EAAEiF,kBAAF,EAAsBuO,aAAtB,EAAD;AACC,2EAAK,GAAG,EAAEA,aAAV;AACGxT,cAAQ;AACP+C,WAAK,IAAI,CADV,IACiB;AACd,kEAAC,+EAAD,IAAW,QAAQ,EAAC,MAApB;AACE,kEAAC,+EAAD,IAAY,QAAQ,EAAC,MAArB,GADF,CAHN;;;;AAQE,kEAAC,sFAAD;AACE,qBAAa,EAAE,KAAKkkB,iBADtB;AAEE,iBAAS,EAAE;AACT,oEAAC,uEAAD;AACE,YAAE,EAAG,GAAE1O,SAAS,CAAC7V,EAAG,eADtB;AAEE,iBAAO,EAAE0mB,8EAFX;AAGE,eAAK,EAAE7Q,SAAS,CAAClF,IAAV,CAAegW,UAHxB;AAIE,kBAAQ,EAAE,KAAKH,gBAJjB,GADS;;AAOT,oEAAC,8FAAD;AACE,YAAE,EAAG,GAAE3Q,SAAS,CAAC7V,EAAG,aADtB;AAEE,eAAK,EAAE6V,SAAS,CAAClF,IAAV,CAAeyV,UAFxB;AAGE,kBAAQ,EAAE,KAAKR,sBAHjB,GAPS;;AAYT,oEAAC,uFAAD,IAAuB,QAAQ,EAAE,KAAKpB,qBAAtC,GAZS,CAFb;;AAgBE,gBAAQ,EAAElnB,QAhBZ;;AAkBE;AACE,iBAAS,EAAErD,iDAAE;AACX,6BADW;AAEX,oCAFW;AAGXwsB,mBAAW,CAACvZ,SAHD;AAIX2Z,gBAAQ,CAAC3Z,SAJE,CADf;;;AAQE,kEAAC,oEAAD;AACE,aAAK,EAAE2I,SAAS,CAAClF,IAAV,CAAemW,IADxB;AAEE,eAAO,EAAExpB,QAFX;AAGE,mBAAW,EAAE,KAAKmL,gBAHpB;AAIE,mBAAW,EAAE,KAJf,GARF;;AAcG,OAACnL,QAAD;AACC,kEAAC,iEAAD;AACE,oBAAY,EAAEuY,SAAS,CAAC7V,EAD1B;AAEE,eAAO,EAAE/J,OAFX;AAGE,2BAAmB,MAHrB,GAfJ,CAlBF,CARF;;;;;;AAkDGsM,wBAAkB,IAAI,mEAASA,kBAAT,CAlDzB,CAXJ,CADF;;;;;AAmED,GAlIsC;AAAA;AAAA;AAqIzC8F,MAAM,CAACva,SAAP,GAAmBA,SAAnB;AACAua,MAAM,CAAClY,YAAP,GAAsBA,YAAtB,C;;AAEekY,M,CAAA,yE,iLA1JTva,S,qKAgBAqC,Y,wKAEAkY,M;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCzDN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAOA,MAAMva,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADL;AAEhBupB,UAAQ,EAAE5pB,iDAAS,CAACgB,MAAV,CAAiBX,UAFX;AAGhBwnB,WAAS,EAAEtV,6EAAc,CAAClS,UAHV;AAIhBynB,iBAAe,EAAEvV,6EAAc,CAAClS,UAJhB;AAKhB4T,OAAK,EAAEjU,iDAAS,CAACI,MAAV,CAAiBC,UALR;AAMhBgS,OAAK,EAAErS,iDAAS,CAACI,MAAV,CAAiBC,UANR;AAOhBiP,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UAPT;;AAShB;AACA6D,UAAQ,EAAElE,iDAAS,CAACa,IAAV,CAAeR,UAVT;AAWhBoJ,gBAAc,EAAEzJ,iDAAS,CAACa,IAAV,CAAeR,UAXf;AAYhBwZ,YAAU,EAAE7Z,iDAAS,CAACI,MAAV,CAAiBC,UAZb;AAahByZ,YAAU,EAAE9Z,iDAAS,CAACI,MAAV,CAAiBC,UAbb;;AAehB;AACAu0B,sBAAoB,EAAE50B,iDAAS,CAACI,MAAV,CAAiBC,UAhBvB;AAiBhBiU,aAAW,EAAEtU,iDAAS,CAACI,MAAV,CAAiBC,UAjBd;AAkBhBw0B,eAAa,EAAE70B,iDAAS,CAACa,IAAV,CAAeR,UAlBd;AAmBhBy0B,UAAQ,EAAE90B,iDAAS,CAACa,IAAV,CAAeR,UAnBT;AAoBhB00B,cAAY,EAAE/0B,iDAAS,CAACa,IAAV,CAAeR,UApBb;;AAsBhB;AACA20B,iBAAe,EAAEh1B,iDAAS,CAACa,IAAV,CAAeR,UAvBhB;AAwBhBmS,qBAAmB,EAAExS,iDAAS,CAACa,IAAV,CAAeR,UAxBpB;AAyBhB40B,kBAAgB,EAAEj1B,iDAAS,CAACa,IAAV,CAAeR,UAzBjB,EAAlB;;;AA4BA,MAAM8B,YAAY,GAAG,EAArB;;AAEA,MAAM42B,qBAAqB,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,sDANA;;AAQA,MAAMC,sBAAsB,GAAGvzB,2DAAC,CAAC,uCAAD,CAAhC;;AAEA,MAAMwzB,QAAN,SAAuBn2B,4CAAK,CAACC,aAA7B,CAA2C;AACzCC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACX2sB,eAAS,EAAE,KADA;AAEX4C,oBAAc,EAAEj2B,KAAK,CAAC4kB,SAAN,CAAgBlF,IAAhB,CAAqBwW,IAF1B;AAGXC,YAAM,EAAE,IAHG;AAIXC,gBAAU,EAAE,SAJD;AAKXxf,gBAAU,EAAE5W,KAAK,CAAC4W,UALP;AAMXC,gBAAU,EAAE7W,KAAK,CAAC6W,UANP,EAAb;;AAQA,SAAKtV,eAAL,GAAuBK,0DAAM,CAACC,YAAP,EAAvB;;AAEA,SAAKyxB,iBAAL,GAAyB,2GAAKA,iBAAL,iBAA4B,IAA5B,CAAzB;AACA,SAAK+C,sBAAL,GAA8B,4GAAKA,sBAAL,kBAAiC,IAAjC,CAA9B;AACA,SAAKC,oBAAL,GAA4B,4GAAKA,oBAAL,kBAA+B,IAA/B,CAA5B;AACA,SAAK/C,qBAAL,GAA6B,4GAAKA,qBAAL,kBAAgC,IAAhC,CAA7B;AACA,SAAKzjB,iBAAL,GAAyB,4GAAKA,iBAAL,kBAA4B,IAA5B,CAAzB;AACA,SAAKymB,SAAL,GAAiB,4GAAKA,SAAL,kBAAoB,IAApB,CAAjB;AACD;;AAEDr2B,mBAAiB,GAAG;AAClB,SAAKF,KAAL,CAAWiB,QAAX,CAAoBC,4EAApB,EAA8C;AAC5CmD,cAAQ,EAAE,UADkC;AAE5C/C,kBAAY,EAAE,KAAKC,eAFyB;AAG5CC,QAAE,EAAE,IAAIC,IAAJ,GAAWC,OAAX,EAHwC;AAI5CC,cAAQ,EAAEC,0DAAM,CAACC,YAAP,KAAwB,KAAKN,eAJK,EAA9C;;AAMD;;AAED,SAAOyxB,wBAAP,CAAgCrvB,SAAhC,EAA2C+C,KAA3C,EAAkD;AAChD,UAAM;AACJ8vB,cADI;AAEJJ,gBAFI;AAGJH,oBAHI;AAIJrf,gBAJI;AAKJC,gBALI;AAMFnQ,SANJ;AAOA,UAAM;AACJke,eAAS,EAAE6R,aADP;AAEJ7f,gBAAU,EAAE8f,cAFR;AAGJ7f,gBAAU,EAAE8f,cAHR;AAIFhzB,aAJJ;AAKA;AACA,QAAI+yB,cAAc,KAAK9f,UAAnB,IAAiC+f,cAAc,KAAK9f,UAAxD,EAAoE;AAClE,aAAO;AACL,WAAGnQ,KADE;AAELkQ,kBAAU,EAAE8f,cAFP;AAGL7f,kBAAU,EAAE8f,cAHP;AAILV,sBAAc,EAAEQ,aAAa,CAAC/W,IAAd,CAAmBwW,IAJ9B;AAKLM,gBAAQ,EAAE,KALL,EAAP;;AAOD;AACD;AACE,KAACA,QAAD;AACAJ,cAAU,KAAK,SADf;AAEAK,iBAAa,CAAC/W,IAAd,CAAmBwW,IAAnB,KAA4BD,cAH9B;AAIE;AACA,aAAO;AACL,WAAGvvB,KADE;AAELuvB,sBAAc,EAAEQ,aAAa,CAAC/W,IAAd,CAAmBwW,IAF9B,EAAP;;AAID;;AAED,WAAOxvB,KAAP;AACD;;AAED,SAAOkwB,wBAAP,GAAkC;AAChC,WAAO;AACLJ,cAAQ,EAAE,IADL,EAAP;;AAGD;;AAEDp2B,oBAAkB,CAAC2vB,SAAD,EAAY;AAC5B;AACE,SAAKrpB,KAAL,CAAWyvB,MAAX;AACCpG,aAAS,CAACnL,SAAV,CAAoBlF,IAApB,CAAyBjiB,KAAzB,KAAmC,KAAKuC,KAAL,CAAW4kB,SAAX,CAAqBlF,IAArB,CAA0BjiB,KAA7D;AACCsyB,aAAS,CAAC1e,WAAV,KAA0B,KAAKrR,KAAL,CAAWqR,WAFvC,CADF;AAIE;AACA,WAAK3K,KAAL,CAAWyvB,MAAX,CAAkBxG,MAAlB,CAAyB,IAAzB;AACD;AACD;AACA,QAAI,KAAK3vB,KAAL,CAAWqM,QAAf,EAAyB;AACvBwqB,kFAAc,CAACltB,OAAf;AACD;AACF;;AAEDmtB,mBAAiB,GAAG;AAClB,QAAI,KAAKpwB,KAAL,CAAWyvB,MAAX,IAAqB,KAAKzvB,KAAL,CAAW0vB,UAAX,KAA0B,SAAnD,EAA8D;AAC5D,WAAKp2B,KAAL,CAAWwG,cAAX;AACEhE,iEAAC;AACC,gFADD,CADH;;;AAKD;AACF;;AAED+zB,WAAS,CAACJ,MAAD,EAAS;AAChBA,UAAM,CAACY,UAAP,GAAoBC,cAApB,CAAmC,IAAnC;AACA,SAAKlwB,QAAL,CAAc;AACZqvB,YADY,EAAd;;AAGD;;AAED7C,mBAAiB,CAACM,SAAD,EAAY;AAC3B,UAAMqD,WAAW,GAAG,CAAC,CAACrD,SAAtB;AACA,UAAMsD,YAAY,GAAGD,WAAW,GAAG,MAAH,GAAY,SAA5C;AACA,SAAKnwB,QAAL,CAAc,OAAO,EAAEusB,SAAS,EAAE4D,WAAb,EAAP,CAAd;AACA,SAAKZ,sBAAL,CAA4Ba,YAA5B;AACD;;AAEDb,wBAAsB,CAACc,IAAD,EAAO;AAC3B,UAAMrY,SAAS,GAAG;AAChB,SAAG,KAAKpY,KADQ;AAEhB0vB,gBAAU,EAAEe,IAFI,EAAlB;;AAIA,QAAIA,IAAI,KAAK,SAAb,EAAwB;AACtB,WAAKC,qBAAL;AACAtY,eAAS,CAAC0X,QAAV,GAAqB,KAArB;AACD;;AAED,SAAK1vB,QAAL,CAAcgY,SAAd;AACD;;AAEDsY,uBAAqB,GAAG;AACtB,UAAM,EAAEpF,gBAAF,EAAoBpN,SAApB,KAAkC,KAAK5kB,KAA7C;AACA,QAAI4kB,SAAS,CAAClF,IAAV,CAAewW,IAAf,KAAwB,KAAKxvB,KAAL,CAAWuvB,cAAvC,EAAuD;AACrDjE,sBAAgB,CAAC;AACf,SAACpN,SAAS,CAAC7V,EAAX,GAAgB;AACd,aAAG6V,SADW;AAEdlF,cAAI,EAAE;AACJ,eAAGkF,SAAS,CAAClF,IADT;AAEJwW,gBAAI,EAAE,KAAKxvB,KAAL,CAAWuvB,cAFb,EAFQ,EADD,EAAD,CAAhB;;;;AASD;AACF;;AAEDK,sBAAoB,CAACxB,SAAD,EAAY;AAC9B,SAAKhuB,QAAL,CAAc;AACZmvB,oBAAc,EAAEnB,SADJ,EAAd;;AAGD;;AAEDvB,uBAAqB,GAAG;AACtB,UAAM,EAAExB,eAAF,EAAmBhjB,EAAnB,EAAuB4X,QAAvB,KAAoC,KAAK3mB,KAA/C;AACA+xB,mBAAe,CAAChjB,EAAD,EAAK4X,QAAL,CAAf;AACD;;AAED7W,mBAAiB,CAAC/I,CAAD,EAAI;AACnB,UAAM,EAAEqvB,UAAF,KAAiB,KAAK1vB,KAA5B;AACA,UAAM,EAAE2F,QAAF,EAAYulB,aAAZ,KAA8B,KAAK5xB,KAAzC;AACA,UAAMq3B,SAAS,GAAGjB,UAAU,KAAK,MAAjC;AACAxE,iBAAa,CAAC7qB,CAAD,CAAb;AACA,QAAIsF,QAAQ,IAAIgrB,SAAhB,EAA2B;AACzB,WAAKD,qBAAL;AACD;AACF;;AAEDE,gBAAc,GAAG;AACf;AACE,kEAAC,4EAAD;AACE,gBAAQ,EAAE,KAAKhB,oBADjB;AAEE,aAAK,EAAC,MAFR;AAGE,cAAM,EAAC,MAHT;AAIE,kBAAU,EAAE,KAJd;AAKE,mBAAW,EAAE,EAAEtsB,eAAe,EAAE,IAAnB,EALf;AAME,aAAK;AACH;AACA,eAAO,KAAKtD,KAAL,CAAWuvB,cAAlB,KAAqC,QAArC;AACI,aAAKvvB,KAAL,CAAWuvB,cADf;AAEIH,6BAVR;;AAYE,gBAAQ,EAAE,KAZZ;AAaE,cAAM,EAAE,KAAKS,SAbf;AAcE,qBAAU,QAdZ,GADF;;;AAkBD;;AAEDgB,mBAAiB,GAAG;AAClB,UAAM,EAAEf,QAAF,KAAe,KAAK9vB,KAA1B;;AAEA;AACE,kEAAC,yDAAD;AACE,cAAM;AACJ8vB,gBAAQ;AACJT,8BADI;AAEJ,aAAKrvB,KAAL,CAAWuvB,cAAX,IAA6BH,qBAJrC,GADF;;;;AASD;;AAED3zB,QAAM,GAAG;AACP,UAAM,EAAEkxB,SAAF,EAAa+C,UAAb,KAA4B,KAAK1vB,KAAvC;;AAEA,UAAM;AACJke,eADI;AAEJC,qBAFI;AAGJ7T,WAHI;AAIJ5B,WAJI;AAKJuiB,0BALI;AAMJtgB,iBANI;AAOJwgB,cAPI;AAQJC,kBARI;AASJviB,yBATI;AAUJlD,cAVI;AAWF,SAAKrM,KAXT;;AAaA;AACA,UAAM4Q,aAAa;AACjBiU,mBAAe,CAACtF,IAAhB,KAAyBwU,8EAAzB;AACIlP,mBAAe,CAACnF,IAAhB,CAAqBjiB,KAArB,IAA8Bu2B,mFADlC;AAEIpP,aAAS,CAAClF,IAAV,CAAejiB,KAAf,IAAwBu2B,mFAH9B;;AAKA,UAAMqD,SAAS,GAAGjB,UAAU,KAAK,MAAjC;;AAEA;AACE,kEAAC,kFAAD;AACE,iBAAS,EAAExR,SADb;AAEE,uBAAe,EAAEC,eAFnB;AAGE,mBAAW,EAAEA,eAAe,CAACtF,IAAhB,KAAyBgV,2EAAzB,GAAoC,QAApC,GAA+C,KAH9D;AAIE,aAAK,EAAEvjB,KAJT;AAKE,aAAK,EAAE5B,KALT;AAME,cAAM,EAAEG,mBANV;AAOE,uBAAe,EAAE8jB,SAPnB;AAQE,gBAAQ,EAAEhnB,QARZ;;AAUG,OAAC,EAAEiF,kBAAF,EAAsBuO,aAAtB,EAAD;AACC,kEAAC,sFAAD;AACE,qBAAa,EAAE,KAAKyT,iBADtB;AAEE,iBAAS,EAAE;AACT,oEAAC,2FAAD;AACE,YAAE,EAAG,GAAE1O,SAAS,CAAC7V,EAAG,OADtB;AAEE,eAAK,EAAE,KAAKrI,KAAL,CAAW0vB,UAFpB;AAGE,kBAAQ,EAAE,KAAKC,sBAHjB,GADS;;AAMT,oEAAC,sFAAD,IAAuB,QAAQ,EAAE,KAAK9C,qBAAtC,GANS,CAFb;;AAUE,gBAAQ,EAAElnB,QAVZ;;AAYE;AACE,qBAAU,2BADZ;AAEE,iBAAS,EAAErD,iDAAE;AACX,4BADW;AAEXquB,iBAAS,IAAI,6BAFF,CAFf;;;AAOE,kEAAC,8FAAD;AACE,UAAE,EAAEzS,SAAS,CAAC7V,EADhB;AAEE,uBAAe,EAAE8V,eAAe,CAACtF,IAAhB,KAAyBgV,2EAF5C;AAGE,wBAAgB,MAHlB;AAIE,iBAAS,EAAEljB,WAJb;AAKE,qBAAa,EAAET,aALjB;AAME,kBAAU,EAAE0jB,4EANd;AAOE,sBAAc,EAAE1P,SAAS,CAAClF,IAAV,CAAehiB,MAPjC;AAQE,wBAAgB,EAAEs2B,mFARpB;AASE,yBAAiB,EAAEQ,gFATrB;AAUE,wBAAgB,EAAE7C,oBAAoB,GAAG/gB,aAV3C;AAWE,qBAAa,EAAE,KAAKd,iBAXtB;AAYE,gBAAQ,EAAE+hB,QAZZ;AAaE,oBAAY,EAAEC,YAbhB;AAcE,gBAAQ,EAAEuB,SAAS,GAAG,KAAH,GAAWhnB,QAdhC;;AAgBE;AACE,WAAG,EAAEwT,aADP;AAEE,iBAAS,EAAC,sDAFZ;AAGE,qBAAU,kCAHZ;;AAKGxT,cAAQ,IAAIgrB,SAAZ;AACG,WAAKC,cAAL,EADH;AAEG,WAAKC,iBAAL,EAPN,CAhBF,CAPF,CAZF;;;;AA8CGjmB,wBAAkB,IAAI,mEAASA,kBAAT,CA9CzB,CAXJ,CADF;;;;;AA+DD,GA1RwC;AAAA;AAAA;AA6R3C0kB,QAAQ,CAACn5B,SAAT,GAAqBA,SAArB;AACAm5B,QAAQ,CAAC92B,YAAT,GAAwBA,YAAxB,C;;AAEe82B,Q,CAAA,yE,iLAxUTn5B,S,uKA4BAqC,Y,0KAEA42B,qB,mLAQAC,sB,oLAEAC,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC/EN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,MAAMn5B,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADL;AAEhBupB,UAAQ,EAAE5pB,iDAAS,CAACgB,MAAV,CAAiBX,UAFX;AAGhBwnB,WAAS,EAAEtV,gEAAc,CAAClS,UAHV;AAIhBynB,iBAAe,EAAEvV,gEAAc,CAAClS,UAJhB;AAKhB4T,OAAK,EAAEjU,iDAAS,CAACI,MAAV,CAAiBC,UALR;AAMhBgS,OAAK,EAAErS,iDAAS,CAACI,MAAV,CAAiBC,UANR;AAOhBiP,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UAPT;;AAShB;AACAu0B,sBAAoB,EAAE50B,iDAAS,CAACI,MAAV,CAAiBC,UAVvB;AAWhBiU,aAAW,EAAEtU,iDAAS,CAACI,MAAV,CAAiBC,UAXd;AAYhBo6B,qBAAmB,EAAEz6B,iDAAS,CAACI,MAAV,CAAiBC,UAZtB;AAahBw0B,eAAa,EAAE70B,iDAAS,CAACa,IAAV,CAAeR,UAbd;AAchBy0B,UAAQ,EAAE90B,iDAAS,CAACa,IAAV,CAAeR,UAdT;AAehB00B,cAAY,EAAE/0B,iDAAS,CAACa,IAAV,CAAeR,UAfb;;AAiBhB;AACAmS,qBAAmB,EAAExS,iDAAS,CAACa,IAAV,CAAeR,UAlBpB;AAmBhB20B,iBAAe,EAAEh1B,iDAAS,CAACa,IAAV,CAAeR,UAnBhB;AAoBhB40B,kBAAgB,EAAEj1B,iDAAS,CAACa,IAAV,CAAeR,UApBjB,EAAlB;;;AAuBA,MAAMq6B,GAAN,SAAkB53B,4CAAK,CAACC,aAAxB,CAAsC;AACpCC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAK0G,KAAL,GAAa;AACX2sB,eAAS,EAAE,KADA,EAAb;;AAGA,SAAKE,qBAAL,GAA6B,2GAAKA,qBAAL,iBAAgC,IAAhC,CAA7B;AACA,SAAKqB,gBAAL,GAAwB,4GAAKA,gBAAL,kBAA2B,IAA3B,CAAxB;AACA,SAAKD,sBAAL,GAA8B,4GAAKC,gBAAL;AAC5B,QAD4B;AAE5B,gBAF4B,CAA9B;;AAIA,SAAKtB,iBAAL,GAAyB,4GAAKA,iBAAL,kBAA4B,IAA5B,CAAzB;AACD;;AAEDA,mBAAiB,CAACM,SAAD,EAAY;AAC3B,SAAK9sB,QAAL,CAAc,OAAO,EAAEusB,SAAS,EAAEwB,OAAO,CAACjB,SAAD,CAApB,EAAP,CAAd;AACD;;AAEDgB,kBAAgB,CAACrR,OAAD,EAAUuR,SAAV,EAAqB;AACnC,UAAM,EAAE9C,gBAAF,EAAoBpN,SAApB,KAAkC,KAAK5kB,KAA7C;AACA,QAAI80B,SAAS,IAAIlQ,SAAS,CAAClF,IAAV,CAAe6D,OAAf,MAA4BuR,SAA7C,EAAwD;AACtD9C,sBAAgB,CAAC;AACf,SAACpN,SAAS,CAAC7V,EAAX,GAAgB;AACd,aAAG6V,SADW;AAEdlF,cAAI,EAAE;AACJ,eAAGkF,SAAS,CAAClF,IADT;AAEJ,aAAC6D,OAAD,GAAWuR,SAFP,EAFQ,EADD,EAAD,CAAhB;;;;AASD;AACF;;AAEDvB,uBAAqB,GAAG;AACtB,UAAM,EAAExB,eAAF,EAAmBnN,SAAnB,EAA8B+B,QAA9B,KAA2C,KAAK3mB,KAAtD;AACA+xB,mBAAe,CAACnN,SAAS,CAAC7V,EAAX,EAAe4X,QAAf,CAAf;AACD;;AAEDxkB,QAAM,GAAG;AACP,UAAM;AACJyiB,eAAS,EAAE8S,YADP;AAEJ7S,qBAFI;AAGJ7T,WAHI;AAIJ2gB,0BAJI;AAKJtgB,iBALI;AAMJmmB,yBANI;AAOJpoB,WAPI;AAQJwiB,mBARI;AASJC,cATI;AAUJC,kBAVI;AAWJviB,yBAXI;AAYJlD,cAZI;AAaJmD,wBAbI;AAcF,SAAKxP,KAdT;;AAgBA,UAAM23B,QAAQ,GAAGD,YAAY,CAACnmB,QAAb,IAAyB,EAA1C;;AAEA,UAAM0jB,eAAe,GAAG,2FAAAC,qEAAsB,MAAtB,CAAAA,qEAAsB;AAC5C,KAAAtrB,GAAG;AACDA,OAAG,CAACiL,KAAJ,MAAe6iB,YAAY,CAAChY,IAAb,CAAkByV,UAAlB,IAAgCC,uEAA/C,CAF0C,CAA9C;;;AAKA;AACE,kEAAC,0DAAD;AACE,iBAAS,EAAEsC,YADb;AAEE,uBAAe,EAAE7S,eAFnB;AAGE,mBAAW,EAAC,KAHd;AAIE,aAAK,EAAE7T,KAJT;AAKE,aAAK,EAAE5B,KALT;AAME,cAAM,EAAEG,mBANV;AAOE,gBAAQ,EAAElD,QAPZ;;AASG,OAAC,EAAEiF,kBAAF,EAAsBuO,aAAtB,EAAD;AACC,kEAAC,8DAAD;AACE,iBAAS,EAAE,KAAKnZ,KAAL,CAAW2sB,SADxB;AAEE,qBAAa,EAAE,KAAKC,iBAFtB;AAGE,oBAAY,MAHd;AAIE,iBAAS,EAAE;AACT,oEAAC,sEAAD;AACE,YAAE,EAAG,GAAEoE,YAAY,CAAC3oB,EAAG,aADzB;AAEE,eAAK,EAAEkmB,eAAe,CAACpgB,KAFzB;AAGE,kBAAQ,EAAE,KAAK8f,sBAHjB,GADS,CAJb;;;AAWE,gBAAQ,EAAEtoB,QAXZ;;AAaGA,cAAQ;AACP,kEAAC,wDAAD,IAAW,QAAQ,EAAEwT,aAArB,EAAoC,QAAQ,EAAC,MAA7C;AACE,kEAAC,uDAAD,IAAY,QAAQ,EAAC,MAArB,GADF;AAEE,kEAAC,8DAAD,IAAuB,QAAQ,EAAE,KAAK0T,qBAAtC,GAFF;AAGE,kEAAC,oDAAD;AACE,eAAO,EAAE,KAAKD,iBADhB;AAEE,iBAAS,EAAC,WAFZ,GAHF,CAdJ;;;;AAuBE;AACE,iBAAS,EAAEtqB,iDAAE;AACX,kBADW;AAEX2uB,gBAAQ,CAAClwB,MAAT,KAAoB,CAApB,IAAyB,iBAFd;AAGXwtB,uBAAe,CAAChZ,SAHL,CADf;;AAME,qBAAY,YAAWgZ,eAAe,CAAChZ,SAAU,EANnD;;AAQG,gGAAA0b,QAAQ,MAAR,CAAAA,QAAQ,EAAK,CAACzX,WAAD,EAAcmV,SAAd;AACZ,kEAAC,sEAAD;AACE,WAAG,EAAEnV,WADP;AAEE,UAAE,EAAEA,WAFN;AAGE,gBAAQ,EAAEwX,YAAY,CAAC3oB,EAHzB;AAIE,aAAK,EAAEK,KAAK,GAAG,CAJjB;AAKE,aAAK,EAAEimB,SALT;AAME,4BAAoB;AAClB1D,4BAAoB,GAAG6F,mBAP3B;;AASE,mBAAW,EAAEnmB,WATf;AAUE,qBAAa,EAAEugB,aAVjB;AAWE,gBAAQ,EAAEC,QAXZ;AAYE,oBAAY,EAAEC,YAZhB;AAaE,0BAAkB,EAAEtiB,kBAbtB,GADO,CARX;;;;AA0BG8B,wBAAkB,IAAI,mEAASA,kBAAT,CA1BzB,CAvBF,CAVJ,CADF;;;;;;AAkED,GAjImC;AAAA;AAAA;AAoItCmmB,GAAG,CAAC56B,SAAJ,GAAgBA,SAAhB,C;;AAEe46B,G,CAAA,yE,iLA7JT56B,S,kKAuBA46B,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC1DN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGO,MAAMG,UAAU,GAAG,YAAnB;AACA,MAAMC,kBAAkB,GAAG,oBAA3B;;AAEP,MAAMh7B,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADL;AAEhBupB,UAAQ,EAAE5pB,iDAAS,CAACgB,MAAV,CAAiBX,UAFX;AAGhBwnB,WAAS,EAAEtV,+DAAc,CAAClS,UAHV;AAIhBynB,iBAAe,EAAEvV,+DAAc,CAAClS,UAJhB;AAKhB4T,OAAK,EAAEjU,iDAAS,CAACI,MAAV,CAAiBC,UALR;AAMhBgS,OAAK,EAAErS,iDAAS,CAACI,MAAV,CAAiBC,UANR;AAOhB06B,YAAU,EAAE/6B,iDAAS,CAACqI,KAAV,CAAgB,CAACwyB,UAAD,EAAaC,kBAAb,CAAhB,EAAkDz6B,UAP9C;AAQhB26B,aAAW,EAAEh7B,iDAAS,CAACa,IARP;AAShByO,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UATT;AAUhB4H,SAAO,EAAEjI,iDAAS,CAACC,MAAV,CAAiBI,UAVV;;AAYhB;AACAu0B,sBAAoB,EAAE50B,iDAAS,CAACI,MAbhB;AAchBkU,aAAW,EAAEtU,iDAAS,CAACI,MAdP;AAehBy0B,eAAa,EAAE70B,iDAAS,CAACa,IAfT;AAgBhBi0B,UAAQ,EAAE90B,iDAAS,CAACa,IAhBJ;AAiBhBk0B,cAAY,EAAE/0B,iDAAS,CAACa,IAjBR;;AAmBhB;AACA2R,qBAAmB,EAAExS,iDAAS,CAACa,IAAV,CAAeR,UApBpB;AAqBhB40B,kBAAgB,EAAEj1B,iDAAS,CAACa,IAAV,CAAeR,UArBjB;AAsBhBsS,sBAAoB,EAAE3S,iDAAS,CAACa,IAAV,CAAeR,UAtBrB,EAAlB;;;AAyBA,MAAM8B,YAAY,GAAG;AACnByyB,sBAAoB,EAAE,CADH;AAEnBtgB,aAAW,EAAE,CAFM;AAGnB0mB,aAAW,GAAG,CAAE,CAHG;AAInBnG,eAAa,GAAG,CAAE,CAJC;AAKnBC,UAAQ,GAAG,CAAE,CALM;AAMnBC,cAAY,GAAG,CAAE,CANE,EAArB;;;AASA,MAAMkG,iBAAiB,GAAG54B,wDAAM,CAACC,GAAI;AACrC,IAAI,CAAC,EAAE44B,aAAF,EAAiB14B,KAAK,EAAE,EAAEgJ,QAAF,EAAYH,MAAZ,EAAxB,EAAD,KAAqD;AACzD,eAAeG,QAAS,MAAKA,QAAQ,GAAG,CAAE;AAC1C,cAAc,CAACA,QAAS,MAAKA,QAAQ,GAAG,CAAC,CAAE;AAC3C;AACA;AACM0vB,aAAa,IAAK,mBAAkB1vB,QAAS,MAAKH,MAAM,CAACwqB,OAAP,CAAesF,MAAO;AACzE;AACL,GAAI;AACJ,CATA;;AAWe,MAAMC,GAAN,SAAkBt4B,4CAAK,CAACC,aAAxB,CAAsC;AACnDC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKwX,gBAAL,GAAwB,2GAAKA,gBAAL,iBAA2B,IAA3B,CAAxB;AACA,SAAK2P,UAAL,GAAkB,4GAAKA,UAAL,kBAAqB,IAArB,CAAlB;AACA,SAAKlX,uBAAL,GAA+B,4GAAKA,uBAAL,kBAAkC,IAAlC,CAA/B;AACA,SAAKG,eAAL,GAAuB,4GAAKA,eAAL,kBAA0B,IAA1B,CAAvB;AACD;;AAEDA,iBAAe,CAAC,EAAEa,cAAF,EAAD,EAAqB;AAClC,SAAKjR,KAAL,CAAW0P,oBAAX,CAAgCuB,cAAhC;AACD;;AAEDuG,kBAAgB,CAAC4gB,WAAD,EAAc;AAC5B,UAAM,EAAEpG,gBAAF,EAAoBpN,SAApB,KAAkC,KAAK5kB,KAA7C;AACA,QAAIo4B,WAAW,IAAIA,WAAW,KAAKxT,SAAS,CAAClF,IAAV,CAAemW,IAAlD,EAAwD;AACtD7D,sBAAgB,CAAC;AACf,SAACpN,SAAS,CAAC7V,EAAX,GAAgB;AACd,aAAG6V,SADW;AAEdlF,cAAI,EAAE;AACJ,eAAGkF,SAAS,CAAClF,IADT;AAEJmW,gBAAI,EAAEuC,WAFF,EAFQ,EADD,EAAD,CAAhB;;;;AASD;AACF;;AAEDjR,YAAU,CAACrW,UAAD,EAAa;AACrB,SAAK9Q,KAAL,CAAWuP,mBAAX,CAA+BuB,UAA/B;AACA,SAAK9Q,KAAL,CAAW+3B,WAAX,CAAuBjnB,UAAvB;AACD;;AAEDb,yBAAuB,CAACa,UAAD,EAAa;AAClC,QAAIA,UAAJ,EAAgB;AACd,WAAK9Q,KAAL,CAAWuP,mBAAX,CAA+B;AAC7B,WAAGuB,UAD0B;AAE7BC,mBAAW,EAAE;AACX,aAAGD,UAAU,CAACC,WADH;AAEX;AACAC,eAAK,EAAE,CAHI,EAFgB,EAA/B;;;AAQD;AACF;;AAEDqnB,kBAAgB,GAAG;AACjB,UAAM;AACJzT,eAAS,EAAE0T,YADP;AAEJzT,qBAAe,EAAE0T,kBAFb;AAGJnpB,WAHI;AAIJuiB,0BAJI;AAKJtgB,iBALI;AAMJugB,mBANI;AAOJC,cAPI;AAQJC,kBARI;AASJzlB,cATI;AAUJmD,wBAVI;AAWF,SAAKxP,KAXT;;AAaA;AACE,2EAAK,SAAS,EAAC,kCAAf;;AAEGqM,cAAQ;AACP,kEAAC,0DAAD;AACE,iBAAS,EAAEisB,YADb;AAEE,uBAAe,EAAEC,kBAFnB;AAGE,mBAAW,EAAC,QAHd;AAIE,aAAK,EAAE,CAJT;AAKE,aAAK,EAAEnpB,KALT;AAME,cAAM,EAAE,KAAKa,uBANf;AAOE,gBAAQ,MAPV;AAQE,iBAAS,EAAC,kBARZ;;AAUG,OAAC,EAAEqB,kBAAF,EAAD;AACCA,wBAAkB;AAChB,2EAAK,SAAS,EAAC,oCAAf,GAZN,CAHJ;;;;;AAoBG,4GAAAgnB,YAAY,CAAC/mB,QAAb,kBAA0B,CAAC2O,WAAD,EAAcwH,cAAd;AACzB,kEAAC,sEAAD;AACE,WAAG,EAAExH,WADP;AAEE,UAAE,EAAEA,WAFN;AAGE,gBAAQ,EAAEoY,YAAY,CAACvpB,EAHzB;AAIE,aAAK,EAAEK,KAJT,CAIgB;AAJhB,UAKE,KAAK,EAAEsY,cALT;AAME,cAAM,EAAE,KAAKP,UANf;AAOE,4BAAoB,EAAEwK,oBAPxB;AAQE,mBAAW,EAAEtgB,WARf;AASE,qBAAa,EAAEugB,aATjB;AAUE,gBAAQ,EAAEC,QAVZ;AAWE,oBAAY,EAAEC,YAXhB;AAYE,0BAAkB,EAAEtiB,kBAZtB;AAaE,mBAAW,EAAE,KAAKY,eAbpB,GADD,CApBH;;;;AAsCG/D,cAAQ;AACP,kEAAC,0DAAD;AACE,iBAAS,EAAEisB,YADb;AAEE,uBAAe,EAAEC,kBAFnB;AAGE,mBAAW,EAAC,QAHd;AAIE,aAAK,EAAED,YAAY,CAAC/mB,QAAb,CAAsB9J,MAJ/B;AAKE,aAAK,EAAE2H,KALT;AAME,cAAM,EAAE,KAAK+X,UANf;AAOE,gBAAQ,MAPV;AAQE,iBAAS,EAAC,kBARZ;;AAUG,OAAC,EAAE7V,kBAAF,EAAD;AACCA,wBAAkB;AAChB,2EAAK,SAAS,EAAC,uCAAf,GAZN,CAvCJ,CADF;;;;;;;AA2DD;;AAEDknB,WAAS,GAAG;AACV,UAAM;AACJ5T,eADI;AAEJC,qBAFI;AAGJ7T,WAHI;AAIJ5B,WAJI;AAKJ/C,cALI;AAMJrH,aANI;AAOJquB,eAPI;AAQJ4E,mBARI;AASF,SAAKj4B,KATT;;AAWA;AACE,kEAAC,0DAAD;AACE,iBAAS,EAAE4kB,SADb;AAEE,uBAAe,EAAEC,eAFnB;AAGE,mBAAW,EAAC,QAHd;AAIE,aAAK,EAAE7T,KAJT;AAKE,aAAK,EAAE5B,KALT;AAME,cAAM,EAAE,KAAK+X,UANf;AAOE,gBAAQ,EAAE9a,QAPZ;;AASG,OAAC,EAAEiF,kBAAF,EAAsBuO,aAAtB,EAAD;AACC,kEAAC,iBAAD;AACE,qBAAa,EAAEoY,aADjB;AAEE,iBAAS,EAAC,mBAFZ;AAGE,WAAG,EAAEpY,aAHP;;AAKE,kEAAC,iEAAD;AACE,aAAK,EAAE+E,SAAS,CAAClF,IAAV,CAAemW,IADxB;AAEE,oBAAY,EAAEjR,SAAS,CAAClF,IAAV,CAAe+Y,WAF/B;AAGE,mBAAW,EAAE7T,SAAS,CAAClF,IAAV,CAAegZ,WAH9B;AAIE,eAAO,EAAErsB,QAAQ,IAAIgnB,SAJvB;AAKE,mBAAW,EAAE,KAAK7b,gBALpB;AAME,mBAAW,EAAE,KANf;AAOE,eAAO,EAAEnL,QAAQ,IAAIgnB,SAPvB,GALF;;AAcG,OAAChnB,QAAD;AACC,kEAAC,8DAAD;AACE,oBAAY,EAAEuY,SAAS,CAAC7V,EAD1B;AAEE,eAAO,EAAE/J,OAFX;AAGE,2BAAmB,MAHrB;AAIE,iBAAS,EAAEgM,KAAK,IAAI,CAAT,GAAa,MAAb,GAAsB,OAJnC,GAfJ;;;;AAuBGM,wBAAkB,IAAI,mEAASA,kBAAT,CAvBzB,CAVJ,CADF;;;;;AAuCD;;AAEDnP,QAAM,GAAG;AACP,UAAM,EAAE21B,UAAF,KAAiB,KAAK93B,KAA5B;AACA,WAAO83B,UAAU,KAAKF,UAAf;AACH,SAAKY,SAAL,EADG;AAEH,SAAKH,gBAAL,EAFJ;AAGD,GAnLkD;AAAA;AAAA;AAsLrDF,GAAG,CAACt7B,SAAJ,GAAgBA,SAAhB;AACAs7B,GAAG,CAACj5B,YAAJ,GAAmBA,YAAnB,C,iLAvOa04B,U,mKACAC,kB,2KAEPh7B,S,kKAyBAqC,Y,qKASA84B,iB,0KAWeG,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC5ErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;;;AAGA,MAAMt7B,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADL;AAEhBupB,UAAQ,EAAE5pB,iDAAS,CAACgB,MAAV,CAAiBX,UAFX;AAGhBwnB,WAAS,EAAEtV,gEAAc,CAAClS,UAHV;AAIhBynB,iBAAe,EAAEvV,gEAAc,CAAClS,UAJhB;AAKhB4T,OAAK,EAAEjU,iDAAS,CAACI,MAAV,CAAiBC,UALR;AAMhBgS,OAAK,EAAErS,iDAAS,CAACI,MAAV,CAAiBC,UANR;AAOhBi7B,kBAAgB,EAAEt7B,iDAAS,CAACkB,IAPZ,EAOkB;AAClCoO,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UART;AAShBu7B,iBAAe,EAAE57B,iDAAS,CAACkB,IATX;AAUhBuzB,mBAAiB,EAAEz0B,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACgB,MAA5B,CAVH;;AAYhB;AACAkD,UAAQ,EAAElE,iDAAS,CAACa,IAAV,CAAeR,UAbT;;AAehB;AACAu0B,sBAAoB,EAAE50B,iDAAS,CAACI,MAhBhB;AAiBhBkU,aAAW,EAAEtU,iDAAS,CAACI,MAjBP;AAkBhBy0B,eAAa,EAAE70B,iDAAS,CAACa,IAlBT;AAmBhBi0B,UAAQ,EAAE90B,iDAAS,CAACa,IAnBJ;AAoBhBk0B,cAAY,EAAE/0B,iDAAS,CAACa,IApBR;;AAsBhB;AACAg7B,iBAAe,EAAE77B,iDAAS,CAACa,IAAV,CAAeR,UAvBhB;AAwBhBmS,qBAAmB,EAAExS,iDAAS,CAACa,IAAV,CAAeR,UAxBpB;AAyBhBy7B,aAAW,EAAE97B,iDAAS,CAACa,IAAV,CAAeR,UAzBZ;AA0BhB20B,iBAAe,EAAEh1B,iDAAS,CAACa,IAAV,CAAeR,UA1BhB;AA2BhB40B,kBAAgB,EAAEj1B,iDAAS,CAACa,IAAV,CAAeR,UA3BjB,EAAlB;;;AA8BA,MAAM8B,YAAY,GAAG;AACnBm5B,kBAAgB,EAAE,IADC;AAEnBM,iBAAe,EAAE,IAFE;AAGnBhH,sBAAoB,EAAE,CAHH;AAInBtgB,aAAW,EAAE,CAJM;AAKnBmgB,mBAAiB,EAAE,EALA;AAMnBI,eAAa,GAAG,CAAE,CANC;AAOnBC,UAAQ,GAAG,CAAE,CAPM;AAQnBC,cAAY,GAAG,CAAE,CARE,EAArB;;;AAWA,MAAMgH,mBAAmB,GAAG15B,yDAAM,CAACC,GAAI;AACvC;AACA,sBAAsB,CAAC,EAAEE,KAAF,EAAD,KAAeA,KAAK,CAAC6I,MAAN,CAAaC,SAAb,CAAuBG,MAAO;AACnE;AACA;AACA,kBAAkB,CAAC,EAAEjJ,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,EAAG;AACrD,kBAAkB,CAAC,EAAEhJ,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,CAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,CAAC,EAAEhJ,KAAF,EAAD,KAAeA,KAAK,CAACgJ,QAAN,GAAiB,IAAK;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAzBA;;AA2BA,MAAMwwB,IAAN,SAAmBl5B,4CAAK,CAACC,aAAzB,CAAuC;AACrCC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN,EADiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEnBg5B,0BAjEmB,GAiEM1rB,GAAG,IAAI;AAC9B,YAAM,EAAEsX,SAAF,EAAamN,eAAb,KAAiC,KAAK/xB,KAA5C;AACAi5B,iEAAK,CAACC,OAAN,CAAc;AACZrd,aAAK,EAAErZ,4DAAC,CAAC,uBAAD,CADI;AAEZ22B,eAAO;AACL;;AAE+B,sFAF/B,mDAHU;;;;AASZC,YAAI,EAAE,MAAM;AACVrH,yBAAe,CAACzkB,GAAD,EAAMsX,SAAS,CAAC7V,EAAhB,CAAf;AACA,gBAAMsqB,QAAQ,GAAG,0GAAAzU,SAAS,CAACrT,QAAV,iBAA2BjE,GAA3B,CAAjB;AACA,eAAKgsB,cAAL,CAAoBlF,IAAI,CAACmF,GAAL,CAAS,CAAT,EAAYF,QAAQ,GAAG,CAAvB,CAApB;AACD,SAbW;AAcZG,cAAM,EAAE,QAdI;AAeZC,cAAM,EAAE,QAfI;AAgBZC,kBAAU,EAAE,QAhBA;AAiBZC,YAAI,EAAE,IAjBM,EAAd;;AAmBD,KAtFkB;;AAwFnBC,cAxFmB,GAwFN,CAACtsB,GAAD,EAAMusB,MAAN,KAAiB;AAC5B,YAAM,EAAEjV,SAAF,EAAagU,eAAb,KAAiC,KAAK54B,KAA5C;AACA,UAAI65B,MAAM,KAAK,KAAf,EAAsB;AACpBjB,uBAAe,CAAC;AACd7nB,qBAAW,EAAE;AACXhC,cAAE,EAAE6V,SAAS,CAAC7V,EADH;AAEXwQ,gBAAI,EAAEqF,SAAS,CAACrF,IAFL;AAGXvO,iBAAK,EAAE4T,SAAS,CAACrT,QAAV,CAAmB9J,MAHf,EADC;;AAMdqgB,kBAAQ,EAAE;AACR/Y,cAAE,EAAE+qB,2DADI;AAERva,gBAAI,EAAEwa,8DAFE,EANI,EAAD,CAAf;;;AAWD,OAZD,MAYO,IAAIF,MAAM,KAAK,QAAf,EAAyB;AAC9B,aAAKb,sBAAL,CAA4B1rB,GAA5B;AACD;AACF,KAzGkB,CAEjB,MAAM+rB,SAAQ,GAAGjF,IAAI,CAACmF,GAAL,CACf,CADe,EAEfS,gFAAyB,CAAC,EACxBC,gBAAgB,EAAEj6B,KAAK,CAAC4kB,SADA,EAExB4M,iBAAiB,EAAExxB,KAAK,CAACwxB,iBAFD,EAAD,CAFV,CAAjB,CAOA,MAAM,EAAEjgB,QAAQ,EAAE2oB,MAAZ,KAAuBl6B,KAAK,CAAC4kB,SAAnC,CACA,MAAM6D,SAAS,GAAGyR,MAAM,CAACb,SAAD,CAAxB,CAEA,KAAK3yB,KAAL,GAAa,EACX2yB,QAAQ,EAARA,SADW,EAEX5Q,SAFW,EAAb,CAIA,KAAK6Q,cAAL,GAAsB,4GAAKA,cAAL,kBAAyB,IAAzB,CAAtB,CACA,KAAK/F,qBAAL,GAA6B,4GAAKA,qBAAL,kBAAgC,IAAhC,CAA7B,CACA,KAAK4G,eAAL,GAAuB,4GAAKA,eAAL,kBAA0B,IAA1B,CAAvB,CACA,KAAKC,eAAL,GAAuB,4GAAKA,eAAL,kBAA0B,IAA1B,CAAvB,CACD,CAED30B,gCAAgC,CAAC9B,SAAD,EAAY,CAC1C,MAAM02B,QAAQ,GAAGjG,IAAI,CAACmF,GAAL,CAAS,CAAT,EAAY51B,SAAS,CAACihB,SAAV,CAAoBrT,QAApB,CAA6B9J,MAA7B,GAAsC,CAAlD,CAAjB,CACA,MAAM6yB,WAAW,GAAG,KAAKt6B,KAAL,CAAW4kB,SAAX,CAAqBrT,QAAzC,CACA,MAAMgpB,WAAW,GAAG52B,SAAS,CAACihB,SAAV,CAAoBrT,QAAxC,CAEA,IAAI,KAAK7K,KAAL,CAAW2yB,QAAX,GAAsBgB,QAA1B,EAAoC,CAClC,KAAKvzB,QAAL,CAAc,OAAO,EAAEuyB,QAAQ,EAAEgB,QAAZ,EAAP,CAAd,EACD,CAED,IAAIE,WAAW,CAAC9yB,MAAhB,EAAwB,CACtB,MAAM+yB,SAAS,GAAGD,WAAW,CAACA,WAAW,CAAC9yB,MAAZ,GAAqB,CAAtB,CAA7B,CADsB,CAEtB;AACA,UAAI8yB,WAAW,CAAC9yB,MAAZ,GAAqB6yB,WAAW,CAAC7yB,MAArC,EAA6C,CAC3C,KAAKX,QAAL,CAAc,OAAO,EAAE2hB,SAAS,EAAE+R,SAAb,EAAP,CAAd,EACD,CALqB,CAMtB;AACA,UAAID,WAAW,CAAC9yB,MAAZ,GAAqB6yB,WAAW,CAAC7yB,MAArC,EAA6C,CAC3C,KAAKX,QAAL,CAAc,OAAO,EAAE2hB,SAAS,EAAE8R,WAAW,CAAC,CAAD,CAAxB,EAAP,CAAd,EACD,CACF,CAED,IAAI52B,SAAS,CAAC6L,kBAAd,EAAkC,CAChC,MAAMirB,kBAAkB,GAAGC,iFAA0B,CACnD/2B,SAAS,CAAC6tB,iBADyC,CAArD,CAGA,MAAMmJ,qBAAqB,GAAGD,iFAA0B,CACtD,KAAK16B,KAAL,CAAWwxB,iBAD2C,CAAxD,CAIA,IAAIiJ,kBAAkB,KAAKE,qBAA3B,EAAkD,CAChD,MAAMC,YAAY,GAAGZ,gFAAyB,CAAC,EAC7CC,gBAAgB,EAAEt2B,SAAS,CAACihB,SADiB,EAE7C4M,iBAAiB,EAAE7tB,SAAS,CAAC6tB,iBAFgB,EAAD,CAA9C,CADgD,CAMhD;AACA,YAAIoJ,YAAY,GAAG,CAAC,CAAhB,IAAqBA,YAAY,KAAK,KAAKl0B,KAAL,CAAW2yB,QAArD,EAA+D,CAC7D,KAAKvyB,QAAL,CAAc,OAAO,EAAEuyB,QAAQ,EAAEuB,YAAZ,EAAP,CAAd,EACD,CACF,CACF,CACF,CA4CDtB,cAAc,CAACD,QAAD,EAAW,CACvB,MAAM,EAAEzU,SAAF,KAAgB,KAAK5kB,KAA3B;AACA,UAAM,EAAEuR,QAAQ,EAAE2oB,MAAZ,KAAuBtV,SAA7B;;AAEA,QAAIyU,QAAQ,KAAK,KAAK3yB,KAAL,CAAW2yB,QAA5B,EAAsC;AACpC,YAAMpoB,cAAc,GAAG4pB,8EAAuB,CAACjW,SAAD,EAAYyU,QAAZ,CAA9C;AACA,YAAMyB,WAAW,GAAG7pB,cAAc,CAACA,cAAc,CAACxJ,MAAf,GAAwB,CAAzB,CAAlC;AACA,WAAKzH,KAAL,CAAWiB,QAAX,CAAoB85B,oFAApB,EAAsD;AACpDluB,iBAAS,EAAEiuB,WADyC;AAEpD9pB,aAAK,EAAEqoB,QAF6C,EAAtD;;;AAKA,WAAKr5B,KAAL,CAAW64B,WAAX,CAAuB,EAAE5nB,cAAF,EAAvB;AACD;AACD,SAAKnK,QAAL,CAAc,OAAO,EAAE2hB,SAAS,EAAEyR,MAAM,CAACb,QAAD,CAAnB,EAAP,CAAd;AACD;;AAED9F,uBAAqB,GAAG;AACtB,UAAM,EAAExB,eAAF,EAAmBhjB,EAAnB,EAAuB4X,QAAvB,KAAoC,KAAK3mB,KAA/C;AACA+xB,mBAAe,CAAChjB,EAAD,EAAK4X,QAAL,CAAf;AACD;;AAEDwT,iBAAe,CAACd,QAAD,EAAW;AACxB,SAAKC,cAAL,CAAoBlF,IAAI,CAACmF,GAAL,CAAS,CAAT,EAAYF,QAAQ,GAAG,CAAvB,CAApB;AACD;;AAEDe,iBAAe,CAACtpB,UAAD,EAAa;AAC1B,UAAM,EAAE8T,SAAF,KAAgB,KAAK5kB,KAA3B;;AAEA;AACA,UAAM,EAAE+Q,WAAF,KAAkBD,UAAxB;AACA,QAAIC,WAAJ,EAAiB;AACf,YAAMiqB,YAAY;AAChBjqB,iBAAW,CAAChC,EAAZ,KAAmB6V,SAAS,CAAC7V,EAA7B;AACIgC,iBAAW,CAACC,KADhB,CACsB;AADtB,QAEI,2GAAA4T,SAAS,CAACrT,QAAV,kBAA2BR,WAAW,CAAChC,EAAvC,CAHN,CADe,CAImC;;AAElD,UAAIisB,YAAY,GAAG,CAAC,CAApB,EAAuB;AACrB,iGAAW,MAAM;AACf,eAAK1B,cAAL,CAAoB0B,YAApB;AACD,SAFD,EAEG,EAFH;AAGD;AACF;AACF;;AAED74B,QAAM,GAAG;AACP,UAAM;AACJiN,WADI;AAEJwV,eAAS,EAAEqW,aAFP;AAGJpW,qBAHI;AAIJ7T,WAJI;AAKJ2gB,0BALI;AAMJtgB,iBANI;AAOJugB,mBAPI;AAQJC,cARI;AASJC,kBATI;AAUJviB,yBAVI;AAWJ8oB,sBAXI;AAYJM,qBAZI;AAaJnpB,wBAAkB,EAAE0rB,mBAbhB;AAcJ7uB,cAdI;AAeJ8lB,mBAfI;AAgBJgJ,qBAhBI;AAiBJC,sBAjBI;AAkBJC,uBAlBI;AAmBF,SAAKr7B,KAnBT;;AAqBA,UAAM,EAAEuR,QAAQ,EAAE2oB,MAAZ,KAAuBe,aAA7B;AACA,UAAM,EAAE5B,QAAQ,EAAEiC,gBAAZ,EAA8B7S,SAA9B,KAA4C,KAAK/hB,KAAvD;;AAEA;AACA,UAAM60B,aAAa,GAAGJ,eAAe,CAACK,kEAAD,CAArC;AACA,UAAMC,WAAW,GAAGF,aAAa,CAAChqB,QAAd,CAAuB,CAAvB,CAApB;AACA,UAAMmqB,cAAc,GAAGD,WAAW,KAAKE,kEAAvC;AACA,QAAID,cAAc,IAAI,CAACN,gBAAvB,EAAyC;AACvCC,uBAAiB,CAAC5S,SAAD,CAAjB;AACD;;AAED,QAAImT,eAAJ;AACA,QAAIzJ,aAAa,CAACI,eAAlB,EAAmC;AACjCqJ,qBAAe;AACbzJ,mBAAa,CAACntB,OAAd,CAAsBmtB,aAAa,CAACI,eAApC,EAAqDsJ,WADvD;AAED;AACD;AACE,kEAAC,2DAAD;AACE,iBAAS,EAAEZ,aADb;AAEE,uBAAe,EAAEpW,eAFnB;AAGE,mBAAW,EAAC,KAHd;AAIE,aAAK,EAAE7T,KAJT;AAKE,aAAK,EAAE5B,KALT;AAME,cAAM,EAAEG,mBANV;AAOE,gBAAQ,EAAElD,QAPZ;;AASG,OAAC;AACAiF,0BAAkB,EAAEwqB,sBADpB;AAEAjc,qBAAa,EAAEkc,iBAFf,EAAD;;AAIC,kEAAC,mBAAD;AACE,iBAAS,EAAC,8CADZ;AAEE,qBAAU,0BAFZ;;AAIG1vB,cAAQ,IAAIssB,eAAZ;AACC,kEAAC,wDAAD,IAAW,QAAQ,EAAEoD,iBAArB,EAAwC,QAAQ,EAAC,MAAjD;AACE,kEAAC,wDAAD,IAAY,QAAQ,EAAC,MAArB,GADF;AAEE,kEAAC,+DAAD,IAAuB,QAAQ,EAAE,KAAKxI,qBAAtC,GAFF,CALJ;;;;AAWE,kEAAC,oEAAD;AACE,UAAE,EAAE0H,aAAa,CAAClsB,EADpB;AAEE,iBAAS,EAAE0Z,SAFb;AAGE,gBAAQ,EAAEnb,GAAG,IAAI;AACf,eAAKgsB,cAAL,CAAoB,+FAAAY,MAAM,MAAN,CAAAA,MAAM,EAAS5sB,GAAT,CAA1B;AACD,SALH;AAME,cAAM,EAAE,KAAKssB,UANf;AAOE,qBAAU,UAPZ;AAQE,YAAI,EAAEvtB,QAAQ,GAAG,eAAH,GAAqB,MARrC;AASE,kBAAU,EAAEgvB,iBATd;;AAWG,gGAAAnB,MAAM,MAAN,CAAAA,MAAM,EAAK,CAAC8B,KAAD,EAAQ3C,QAAR;AACV,sEAAC,oEAAD,CAAkB,OAAlB;AACE,eAAG,EAAE2C,KADP;AAEE,eAAG;AACD,wEAAC,uEAAD;AACE,gBAAE,EAAEA,KADN;AAEE,sBAAQ,EAAEf,aAAa,CAAClsB,EAF1B;AAGE,mBAAK,EAAEK,KAHT;AAIE,mBAAK,EAAEiqB,QAJT;AAKE,wBAAU,EAAEzB,gDALd;AAME,kCAAoB,EAAEjG,oBANxB;AAOE,yBAAW,EAAEtgB,WAPf;AAQE,yBAAW,EAAE,KAAK+oB,eARpB;AASE,uBAAS,EAAE3R,SAAS,KAAKuT,KAT3B;AAUE,2BAAa;AACXvT,uBAAS,KAAKuT,KAAd,yBAAuBJ,eAAvB,qBAAuB,wIAA0BI,KAA1B,CAAvB,CAXJ,GAHJ;;;;;AAmBG3D,0BAAgB;AACf,sEAAC,uEAAD;AACE,cAAE,EAAE2D,KADN;AAEE,oBAAQ,EAAEf,aAAa,CAAClsB,EAF1B;AAGE,iBAAK,EAAEK,KAHT,CAGgB;AAHhB,cAIE,KAAK,EAAEiqB,QAJT;AAKE,sBAAU,EAAExB,wDALd;AAME,gCAAoB,EAAElG,oBANxB;AAOE,uBAAW,EAAEtgB,WAPf;AAQE,yBAAa,EAAEugB,aARjB;AASE,oBAAQ,EAAEC,QATZ;AAUE,wBAAY,EAAEC,YAVhB;AAWE,uBAAW,EAAE,KAAKsI,eAXpB;AAYE,8BAAkB;AAChBkB,4BAAgB,KAAKjC,QAArB,IAAiC6B,mBAbrC,GApBJ,CADU,GAAL,CAXT,CAXF;;;;;;;;;AAiEGY,4BAAsB;AACrBjX,qBAAe,CAAC9V,EAAhB,KAAuBysB,kEADxB;AAEG,yEAASM,sBAAT,CAnEN,CAbJ,CADF;;;;;;AAuFD,GAtRoC;AAAA;AAAA;AAyRvC/C,IAAI,CAACl8B,SAAL,GAAiBA,SAAjB;AACAk8B,IAAI,CAAC75B,YAAL,GAAoBA,YAApB,C;;AAEe65B,I,CAAA,yE,iLAhWTl8B,S,mKA8BAqC,Y,sKAWA45B,mB,6KA2BAC,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC7GN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,MAAMkD,eAAe,GAAG;AAC7B,GAACzc,+DAAD,GAAcsT,oDADe;AAE7B,GAACoJ,kEAAD,GAAiBlG,iDAFY;AAG7B,GAACjC,gEAAD,GAAeW,+CAHc;AAI7B,GAACyH,iEAAD,GAAgB7G,gDAJa;AAK7B,GAAC8G,gEAAD,GAAehlB,+CALc;AAM7B,GAACmd,6DAAD,GAAYkD,4CANiB;AAO7B,GAACsC,6DAAD,GAAY5B,4CAPiB;AAQ7B,GAACkE,8DAAD,GAAatD,6CARgB,EAAxB,C,iLAAMkD,e;;;;;;;;;;;;;;;;;;;;;;;;;wSC/Cb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,MAAMp/B,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADL;AAEhBmiB,MAAI,EAAExiB,iDAAS,CAACgB,MAAV,CAAiBX,UAFP;AAGhB2X,OAAK,EAAEhY,iDAAS,CAACgB,MAAV,CAAiBX,UAHR;AAIhB6e,WAAS,EAAElf,iDAAS,CAACgB,MAJL,EAAlB;;;AAOA,MAAMmB,YAAY,GAAG;AACnB+c,WAAS,EAAE,IADQ,EAArB;;;AAIe,MAAMqgB,qBAAN,SAAoCz8B,4CAAK,CAACC,aAA1C,CAAwD;AACrEqC,QAAM,GAAG;AACP,UAAM,EAAE4S,KAAF,EAAShG,EAAT,EAAawQ,IAAb,EAAmBtD,SAAnB,KAAiC,KAAKjc,KAA5C;AACA;AACE,iEAAC,0DAAD;AACE,iBAAS,EAAE,EAAEuf,IAAF,EAAQxQ,EAAR,EADb;AAEE,uBAAe,EAAE;AACfA,YAAE,EAAE4Q,wEADW;AAEfJ,cAAI,EAAEK,8EAFS,EAFnB;;AAME,aAAK,EAAE,CANT;AAOE,aAAK,EAAE,CAPT;AAQE,gBAAQ,MARV;;AAUG,OAAC,EAAEC,aAAF,EAAD;AACC;AACE,WAAG,EAAEA,aADP;AAEE,iBAAS,EAAC,eAFZ;AAGE,qBAAU,eAHZ;;AAKE,0EAAK,SAAS,EAAE7W,iDAAE,CAAC,2BAAD,EAA8BiT,SAA9B,CAAlB,GALF;AAMGlH,WANH,CAXJ,CADF;;;;;AAuBD,GA1BoE;AAAA;AAAA;AA6BvEunB,qBAAqB,CAACz/B,SAAtB,GAAkCA,SAAlC;AACAy/B,qBAAqB,CAACp9B,YAAtB,GAAqCA,YAArC,C,iLAzCMrC,S,yLAOAqC,Y,4LAIeo9B,qB;;;;;;;;;;;;;;;;;;;;;;wSCrCrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGe,SAASC,kBAAT,GAA8B;AAC3C;AACE,+DAAC,8DAAD;AACE,QAAE,EAAEC,6DADN;AAEE,UAAI,EAAEzI,gEAFR;AAGE,WAAK,EAAEvxB,2DAAC,CAAC,QAAD,CAHV;AAIE,eAAS,EAAC,uBAJZ,GADF;;;AAQD,C,iLATuB+5B,kB;;;;;;;;;;;;;;;;;;;;;;wSCzBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGe,SAASE,mBAAT,GAA+B;AAC5C;AACE,+DAAC,8DAAD;AACE,QAAE,EAAEC,8DADN;AAEE,UAAI,EAAEP,iEAFR;AAGE,WAAK,EAAE35B,2DAAC,CAAC,SAAD,CAHV;AAIE,eAAS,EAAC,qBAJZ,GADF;;;AAQD,C,iLATuBi6B,mB;;;;;;;;;;;;;;;;;;;;;;wSCzBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGe,SAASE,kBAAT,GAA8B;AAC3C;AACE,+DAAC,8DAAD;AACE,QAAE,EAAEC,6DADN;AAEE,UAAI,EAAER,gEAFR;AAGE,WAAK,EAAE55B,2DAAC,CAAC,QAAD,CAHV;AAIE,eAAS,EAAC,cAJZ,GADF;;;AAQD,C,iLATuBm6B,kB;;;;;;;;;;;;;;;;;;;;;wSCzBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGe,SAASF,mBAAT,GAA+B;AAC5C;AACE,+DAAC,8DAAD;AACE,QAAE,EAAEI,+DADN;AAEE,UAAI,EAAEX,kEAFR;AAGE,WAAK,EAAC,UAHR;AAIE,eAAS,EAAC,YAJZ,GADF;;;AAQD,C,iLATuBO,mB;;;;;;;;;;;;;;;;;;;;;;wSCxBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGe,SAASK,eAAT,GAA2B;AACxC;AACE,+DAAC,8DAAD;AACE,QAAE,EAAEC,0DADN;AAEE,UAAI,EAAExI,6DAFR;AAGE,WAAK,EAAE/xB,2DAAC,CAAC,KAAD,CAHV;AAIE,eAAS,EAAC,wBAJZ,GADF;;;AAQD,C,iLATuBs6B,e;;;;;;;;;;;;;;;;;;;;;;wSCzBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGe,SAASE,gBAAT,GAA4B;AACzC;AACE,+DAAC,8DAAD;AACE,QAAE,EAAEC,2DADN;AAEE,UAAI,EAAEZ,8DAFR;AAGE,WAAK,EAAE75B,2DAAC,CAAC,MAAD,CAHV;AAIE,eAAS,EAAC,sBAJZ,GADF;;;AAQD,C,iLATuBw6B,gB;;;;;;;;;;;;;;;;;;;;;;wSCzBxB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AAEA;;AAYA,SAAS,YAAT,CAAsB,MAAtB,EAAyC;AACvC,SACE,oEAAK,SAAS,EAAE,iDAAE,CAAC,yBAAD,EAA4B,MAAM,CAAC,SAAnC,CAAlB;AACG,KAAG,MAAM,CAAC,KAAK,aADlB,CADF;;AAKD;AAED,SAAS,YAAT,CAAsB,MAAtB,EAAyC;AACvC,SACE,oEAAK,SAAS,EAAE,iDAAE,CAAC,yBAAD,EAA4B,MAAM,CAAC,SAAnC,CAAlB;AACG,QAAM,CAAC,KADV,CADF;;AAKD;AAEa,MAAO,uBAAP,SAAuC,4CAAK,CAAC,aAA7C,CAAwF;AACpG,QAAM;AACJ,UAAM,EAAE,EAAF,EAAM,KAAN,EAAa,QAAb,KAA0B,KAAK,KAArC;AACA,WACE,2DAAC,sEAAD,IACE,EAAE,EAAE,EADN,EAEE,OAAO,EAAE,iFAFX,EAGE,KAAK,EAAE,KAHT,EAIE,QAAQ,EAAE,QAJZ,EAKE,YAAY,EAAE,YALhB,EAME,YAAY,EAAE,YANhB,GADF;AAUD,GAbmG;AAAA;AAAA,6B,iLAhB7F,Y,+KAQA,Y,+KAQY,uB;;;;;;;;;;;;;;;;;;;;wSCjDrB;;;;;;;;;;;;;;;;;AAiBG;AACH;;AASc,MAAO,SAAP,SAAyB,4CAAK,CAAC,aAA/B,CAA4D;AAOxE,QAAM;AACJ,UAAM,EAAE,QAAF,EAAY,QAAZ,EAAsB,QAAtB,KAAmC,KAAK,KAA9C;AACA,WACE,oEACE,GAAG,EAAE,QADP,EAEE,SAAS,EAAE,iDAAE,CACX,YADW,EAEX,QAAQ,KAAK,MAAb,IAAuB,kBAFZ,EAGX,QAAQ,KAAK,KAAb,IAAsB,iBAHX,CAFf;AAQG,YARH,CADF;;AAYD,GArBuE;AAAA;AAAA,6BACjE,yBAAe;AACpB,UAAQ,EAAE,MADU;AAEpB,UAAQ,EAAE,IAFU;AAGpB,UAAQ,EAAE,IAHU,EAAf,C,iLADY,S;;;;;;;;;;;;;;;;;;;;wSC3BrB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;;AAYA,MAAM,eAAe,GAAG;AACtB;AACE,OAAK,EAAE,MADT;AAEE,OAAK,EAAE,2DAAC,CAAC,MAAD,CAFV,EADsB;;AAKtB;AACE,OAAK,EAAE,SADT;AAEE,OAAK,EAAE,2DAAC,CAAC,SAAD,CAFV,EALsB,CAAxB;;;AAWc,MAAO,oBAAP,SAAoC,4CAAK,CAAC,aAA1C,CAAkF;AAC9F,QAAM;AACJ,UAAM,EAAE,EAAF,EAAM,KAAN,EAAa,QAAb,KAA0B,KAAK,KAArC;AAEA,WACE,2DAAC,sEAAD,IACE,EAAE,EAAE,EADN,EAEE,OAAO,EAAE,eAFX,EAGE,KAAK,EAAE,KAHT,EAIE,QAAQ,EAAE,QAJZ,GADF;AAQD,GAZ6F;AAAA;AAAA,6B,iLAX1F,e,+KAWe,oB;;;;;;;;;;;;;;;;;;;;;;;wSC1CrB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;;AAaA,MAAM,cAAc,GAAI,KAAD,IAA8B;AACnD,QAAM,EACJ,GADI,EAEJ,iBAFI,EAGJ,kBAHI,EAIJ,YAJI,EAKJ,SALI,EAMJ,cANI,EAOJ,eAPI,EAQJ,GAAG,IARC,KASF,KATJ;AAWA,QAAM,WAAW,GAAG,wFAAe,CAAC,GAAD,CAAnC;AAEA,iBAAe,UAAf,GAAyB;AACvB,QAAI;AACF,YAAM,QAAQ,GAAG,MAAM,WAAW,EAAlC;AACA,YAAM,8DAAmB,CAAC,QAAD,CAAzB;AACA,qBAAe,CAAC,2DAAC,CAAC,sBAAD,CAAF,CAAf;AACD;AAAC,WAAO,KAAP,EAAc;AACd,oBAAc,CAAC,2DAAC,CAAC,+CAAD,CAAF,CAAd;AACD;AACF;AAED,iBAAe,cAAf,GAA6B;AAC3B,QAAI;AACF,YAAM,QAAQ,GAAG,MAAM,WAAW,EAAlC;AACA,YAAM,YAAY,GAAG,GAAG,SAAS,GAAG,QAAQ,EAA5C;AACA,YAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,mBAAmB,YAAY,YAAY,YAAY,EAA9E;AACD;AAAC,WAAO,KAAP,EAAc;AACd,oBAAc,CAAC,2DAAC,CAAC,+CAAD,CAAF,CAAd;AACD;AACF;AAED,SACE;AACE,6DAAC,0DAAD,CAAM,IAAN,kFAAW,GAAG,EAAC,UAAf,IAA8B,IAA9B;AACE,sEAAK,OAAO,EAAE,UAAd,EAA0B,IAAI,EAAC,QAA/B,EAAwC,QAAQ,EAAE,CAAlD;AACG,mBADH,CADF,CADF;;;AAME,6DAAC,0DAAD,CAAM,IAAN,kFAAW,GAAG,EAAC,gBAAf,IAAoC,IAApC;AACE,sEAAK,OAAO,EAAE,cAAd,EAA8B,IAAI,EAAC,QAAnC,EAA4C,QAAQ,EAAE,CAAtD;AACG,oBADH,CADF,CANF,CADF;;;;AAcD,CAhDD,C,cAAM,c,yCAYgB,gF;AAsCP,c,CAAA,yE,iLAlDT,c;;;;;;;;;;;;;;;;;;;;;;;;wSClCN;;;;;;;;;;;;;;;;;AAiBG;AACH;;AAyBc,MAAO,eAAP,SAA+B,4CAAK,CAAC,aAArC,CAGb;AAgBC,cAAY,KAAZ,EAAuC;AACrC,UAAM,KAAN;AACA,SAAK,KAAL,GAAa;AACX,eAAS,EAAE,KAAK,CAAC,SADN,EAAb;;AAGA,SAAK,MAAL,GAAc,2GAAK,MAAL,iBAAiB,IAAjB,CAAd;AACA,SAAK,WAAL,GAAmB,4GAAK,WAAL,kBAAsB,IAAtB,CAAnB;AACD;AAED,kCAAgC,CAAC,SAAD,EAAgC;AAC9D,QAAI,SAAS,CAAC,QAAV,IAAsB,SAAS,CAAC,SAAhC,IAA6C,CAAC,KAAK,KAAL,CAAW,SAA7D,EAAwE;AACtE,cAAQ,CAAC,gBAAT,CAA0B,OAA1B,EAAmC,KAAK,WAAxC;AACA,cAAQ,CAAC,gBAAT,CAA0B,MAA1B,EAAkC,KAAK,WAAvC;AACA,WAAK,QAAL,CAAc,EAAE,SAAS,EAAE,IAAb,EAAd;AACD,KAJD;AAIO,QAAI,KAAK,KAAL,CAAW,SAAX,IAAwB,CAAC,SAAS,CAAC,QAAvC,EAAiD;AACtD,cAAQ,CAAC,mBAAT,CAA6B,OAA7B,EAAsC,KAAK,WAA3C;AACA,cAAQ,CAAC,mBAAT,CAA6B,MAA7B,EAAqC,KAAK,WAA1C;AACA,WAAK,QAAL,CAAc,EAAE,SAAS,EAAE,KAAb,EAAd;AACD;AACF;AAED,sBAAoB;AAClB,YAAQ,CAAC,mBAAT,CAA6B,OAA7B,EAAsC,KAAK,WAA3C;AACA,YAAQ,CAAC,mBAAT,CAA6B,MAA7B,EAAqC,KAAK,WAA1C;AACD;AAED,QAAM,CAAC,GAAD,EAA0B;AAC9B,SAAK,SAAL,GAAiB,GAAjB;AACD;AAED,aAAW,CAAC,KAAD,EAAW;AACpB,QAAI,CAAC,KAAK,KAAL,CAAW,QAAhB,EAA0B;AACxB;AACD;AACD,UAAM,EACJ,aADI,EAEJ,WAAW,EAAE,eAFT,EAGJ,YAHI,KAIF,KAAK,KAJT;AAMA,UAAM,WAAW,GAAG,eAAe,CAAC,KAAD,EAAQ,KAAK,SAAb,CAAnC;AAEA,QAAI,CAAC,YAAD,IAAiB,WAAjB,IAAgC,CAAC,KAAK,KAAL,CAAW,SAAhD,EAA2D;AACzD;AACA;AACA,cAAQ,CAAC,gBAAT,CAA0B,OAA1B,EAAmC,KAAK,WAAxC;AACA,cAAQ,CAAC,gBAAT,CAA0B,MAA1B,EAAkC,KAAK,WAAvC;AACA,WAAK,QAAL,CAAc,OAAO,EAAE,SAAS,EAAE,IAAb,EAAP,CAAd;AACA,UAAI,aAAJ,EAAmB;AACjB,qBAAa,CAAC,IAAD,CAAb;AACD;AACF,KATD;AASO,QAAI,CAAC,WAAD,IAAgB,KAAK,KAAL,CAAW,SAA/B,EAA0C;AAC/C,cAAQ,CAAC,mBAAT,CAA6B,OAA7B,EAAsC,KAAK,WAA3C;AACA,cAAQ,CAAC,mBAAT,CAA6B,MAA7B,EAAqC,KAAK,WAA1C;AACA,WAAK,QAAL,CAAc,OAAO,EAAE,SAAS,EAAE,KAAb,EAAP,CAAd;AACA,UAAI,aAAJ,EAAmB;AACjB,qBAAa,CAAC,KAAD,CAAb;AACD;AACF;AACF;AAED,QAAM;AACJ,UAAM,EAAE,QAAF,EAAY,SAAZ,EAAuB,QAAvB,EAAiC,KAAjC,KAA2C,KAAK,KAAtD;AACA,UAAM,EAAE,SAAF,KAAgB,KAAK,KAA3B;AAEA,WACE,oEACE,GAAG,EAAE,KAAK,MADZ,EAEE,OAAO,EAAE,KAAK,WAFhB,EAGE,IAAI,EAAC,MAHP,EAIE,SAAS,EAAE,iDAAE,CACX,mBADW,EAEX,QAAQ,IAAI,SAAZ,IAAyB,4BAFd,CAJf,EAQE,KAAK,EAAE,KART;AAUG,YAVH;AAWG,YAAQ,IAAI,SAAZ,IAAyB,sBAAC,SAAD,oBAAC,SAAS,CAAE,MAAZ,gCAAsB,CAAtB,IAA2B,CAApD,IACC,oEAAK,SAAS,EAAC,cAAf;AACG,uGAAS,MAAT,UAAS,EAAK,CAAC,IAAD,EAAwB,CAAxB,KACb,oEAAK,SAAS,EAAC,WAAf,EAA2B,GAAG,EAAE,aAAa,CAAC,EAA9C;AACG,QADH,CADQ,CADZ,CAZJ,CADF;;;;AAuBD,GAxGF;AAAA;AAAA,6BAGQ,+BAAe;AACpB,UAAQ,EAAE,IADU;AAEpB,cAAY,EAAE,KAFM;AAGpB,eAAa,EAAE,IAHK;AAIpB,WAAS,EAAE,EAJS;AAKpB,WAAS,EAAE,KALS;AAMpB,aAAW,EAAE,CAAC,KAAD,EAAa,SAAb,uCACX,UAAS,QAAT,qBAAS,CAAE,QAAX,CAAoB,KAAK,CAAC,MAA1B;AACA,SAAK,CAAC,MAAN,CAAa,EAAb,KAAoB,WADpB;AAEA,mCAAK,CAAC,MAAN,CAAa,UAAb,2CAAyB,EAAzB,MAAgC,WAHrB,EANO;AAUpB,OAAK,EAAE,IAVa,EAAf,C,iLANY,e;;;;;;;;;;;;;;;;;;;;;;wSC3CrB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;;AAaA,MAAM,yBAAyB,GAAG,wDAAM,CAAC,EAAE;;;;;AAK1C,CALD;AAOA,MAAM,sBAAsB,GAAG,wDAAM,CAAC,GAAG;;AAExC,CAFD;AAIA,MAAM,eAAe,GAAG,gEAAM,CAAC,2DAAD,CAAM;gBACpB,CAAC,EAAE,KAAF,EAAD,KAAe,CAAC,KAAK,CAAC,QAAQ;AAC7C,CAFD;AAIA,MAAM,oBAAoB,GAAwC,CAAC,EACjE,gBADiE,EAEjE,MAFiE,EAGjE,iBAHiE,EAIjE,uBAJiE,EAAD,uCAMhE;AACE,6DAAC,sBAAD;AACE,6DAAC,eAAD,IAAiB,IAAI,EAAC,YAAtB,GADF;AAEE,6DAAC,qHAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,MAAM,EAAE,MAFV,EAGE,iBAAiB,EAAE,iBAHrB,EAIE,uBAAuB,EAAE,uBAJ3B,GAFF,CADF;;;AAWE,6DAAC,yBAAD;AACG,QAAM,CAAC,eADV,qBACG,6IAA4B,WAAW,IACtC,mEAAI,GAAG,EAAE,WAAW,CAAC,EAArB;AACE,6DAAC,oBAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,MAAM,EAAE,WAFV,EAGE,iBAAiB,EAAE,iBAHrB,EAIE,uBAAuB,EAAE,uBAJ3B,GADF,CADD,CADH,CAXF,CANgE,EAAlE,C;;;;AAgCe,oB,CAAA,yE,iLA/CT,yB,oOAOA,sB,iOAIA,e,0NAIA,oB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSChDN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AAEA;;AAcA,MAAM,cAAc,GAAG,wDAAM,CAAC,GAAG;;;;;sBAKX,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;YACtD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC,CAAC;MACxC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC,CAAC;aAC3B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;MACxC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;;AAKtC,CAdD;AAgBA,MAAM,WAAW,GAAG,wDAAM,CAAC,EAAE;;;WAGlB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;;;AAGrD,CAND;AAQA,MAAM,UAAU,GAAG,gEAAM,CAAC,4DAAD,CAAM;kBACb,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;WACpC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;WAC3C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;AAC3C,CAJD;AAMA,MAAM,UAAU,GAAG,gEAAM,CAAC,kFAAD,CAAM;aAClB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;MACpC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;eACxB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,KAAjB,CAAuB,CAAC;gBACtC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;AAC3D,CALD;AAOA,MAAM,cAAc,GAAkC,CAAC,EACrD,gBADqD,EAErD,MAFqD,EAGrD,OAHqD,EAIrD,eAJqD,EAKrD,uBALqD,EAMrD,iBANqD,EAAD,KAOjD;AACH,QAAM,CAAC,kBAAD,EAAqB,qBAArB,IAA8C,sDAAQ,EAA5D;AACA,QAAM,QAAQ,GAAG,gBAAgB,CAAC,MAAM,CAAC,EAAR,CAAjC;AAEA,yDAAS,CAAC,MAAK;AACb,yBAAqB,CAAC,iBAAD,CAArB;AACA;AACA;AACA,UAAM,OAAO,GAAG,yFAAW,MAAM,qBAAqB,CAAC,SAAD,CAAtC,EAAmD,GAAnD,CAAhB;AACA,WAAO,MAAM,YAAY,CAAC,OAAD,CAAzB;AACD,GANQ,EAMN,CAAC,iBAAD,EAAoB,qBAApB,CANM,CAAT;AAQA,QAAM,iBAAiB,GAAG,yDAAW,CAClC,MAAD,IAAkD;AAChD,UAAM,QAAQ,GAAG,MAAM,CAAC,eAAP,IAA0B,EAA3C;AACA,UAAM,YAAY,GAAG,QAAH,6CAAG,QAAQ,CAAE,WAAb,qBAAG,sBAAuB,KAA5C;AAEA,UAAM,cAAc,GAAG,uGAAQ,MAAR,SAAQ,EAC7B,WAAW,IAAI,iBAAiB,CAAC,WAAD,CAAjB,IAAkC,EADpB,CAA/B;AAIA,QAAI,cAAc,CAAC,MAAf,GAAwB,CAA5B,EAA+B;AAC7B,aAAO,cAAP;AACD;AAED,QAAI,YAAY,KAAK,SAAjB,IAA8B,YAAY,KAAK,IAAnD,EAAyD;AACvD,aAAO,CAAC,MAAD,CAAP;AACD;AAED,WAAO,IAAP;AACD,GAlBkC,EAmBnC,CAAC,QAAD,CAnBmC,CAArC;AAsBA,QAAM,aAAa,GAAI,MAAD,IAA2C;AAC/D,UAAM,QAAQ,GAAG,MAAM,CAAC,eAAP,IAA0B,EAA3C;AACA,UAAM,WAAW,GAAG,uGAAQ,MAAR,SAAQ,EAAS,aAAT,CAA5B;AACA,WAAO,CAAC,MAAD,EAAS,GAAG,WAAZ,CAAP;AACD,GAJD;AAMA,QAAM,UAAU,GAAG,aAAa,CAAC,MAAD,CAAhC;AACA,QAAM,aAAa,GAAG,qDAAO,CAAC,MAAM,iBAAiB,CAAC,MAAD,CAAjB,IAA6B,CAAC,MAAD,CAApC,EAA8C;AACzE,QADyE;AAEzE,mBAFyE,CAA9C,CAA7B;;AAKA,yDAAS,CAAC,MAAK;AACb,UAAM,eAAe,GAAG,kBAAH,oBAAG,kBAAkB,CAAG,CAAH,CAA1C;AACA;AACA,UAAM,eAAe,GAAG,uGAAU,MAAV,WAAU,EAChC,QAAQ,IAAI,CAAC,4GAAa,MAAb,cAAa,EAAU,QAAV,CADM,CAAlC;AAGA,UAAM,qBAAqB,GAAG,0GAAe,MAAf,gBAAe,EAC3C,YAAY,IAAI,YAAY,CAAC,EAAb,KAAoB,eADO,CAA7C;AAIA,QAAI,qBAAJ,EAA2B;AACzB,qBAAe,CAAC,IAAD,CAAf;AACD;AACF,GAbQ,EAaN,CAAC,kBAAD,CAbM,CAAT;AAeA,MAAI,2BAAC,MAAM,CAAC,eAAR,aAAC,sBAAwB,MAAzB,CAAJ,EAAqC;AACnC,WACE,4DAAC,sHAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,MAAM,EAAE,MAFV,EAGE,iBAAiB,EAAE,iBAHrB,EAIE,uBAAuB,EAAE,uBAJ3B,GADF;AAQD;AAED,QAAM,KAAK,GACT,4DAAC,cAAD;AACE,8DAAC,WAAD;AACE,8DAAC,UAAD,IAAY,IAAI,EAAC,MAAjB,GADF;AAEG,6DAAC,CAAC,uBAAD,CAFJ,QAEiC,UAAU,CAAC,MAF5C,MADF;;AAKE,8DAAC,UAAD,IAAY,IAAI,EAAC,OAAjB,EAAyB,OAAO,EAAE,MAAM,eAAe,CAAC,KAAD,CAAvD,GALF,CADF;;AAUA,QAAM,OAAO,GACX,4DAAC,6HAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,aAAU,yBAFZ,EAGE,GAAG,EAAE,MAAM,CAAC,EAHd,EAIE,MAAM,EAAE,MAJV,EAKE,iBAAiB,EAAE,OAAO,GAAG,kBAAH,GAAwB,SALpD,EAME,uBAAuB,EAAE,uBAN3B,GADF;AAWA,SACE,4DAAC,+DAAD,IACE,OAAO,EAAE,OADX,EAEE,KAAK,EAAE,KAFT,EAGE,OAAO,EAAC,OAHV,EAIE,OAAO,EAAE,OAJX,EAKE,eAAe,EAAE,eALnB,EAME,SAAS,EAAC,UANZ,EAOE,EAAE,EAAE,MAAM,CAAC,EAPb,EAQE,YAAY,EAAE,EAAE,QAAQ,EAAE,OAAZ,EAAqB,QAAQ,EAAE,OAA/B,EARhB;AAUE;AACG,yGAAa,MAAb,cAAa,EAAK,YAAY,IAC7B,4DAAC,sHAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,GAAG,EAAE,YAAY,CAAC,EAFpB,EAGE,MAAM,EAAE,YAHV,EAIE,uBAAuB,EAAE,uBAJ3B,EAKE,iBAAiB,EAAE,kBALrB,EAME,IAAI,EACF;AACG,UAAM,CAAC,eAAP,CAAuB,MAAvB,KAAkC,CAAlC,IACC,4DAAC,UAAD,IAAY,OAAO,EAAE,MAAM,eAAe,CAAC,IAAD,CAA1C;AACE,gEAAC,4DAAD,IAAM,IAAI,EAAC,QAAX,GADF,OAC0B,UAAU,CAAC,MADrC,CAFJ,CAPJ,GADY,CADhB,CAVF,CADF;;;;;AAiCD,CArID,C,cAAM,c;AAuIS,c,CAAA,yE,iLA5KT,c,mNAgBA,W,gNAQA,U,+MAMA,U,+MAOA,c;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC3EN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AAEA;;AAOA,MAAM,YAAY,GAAG,gEAAM,CAAC,6DAAD,CAAQ;;AAElC,CAFD;AAIO,MAAM,uBAAuB,GAAuB,CAAC,EAC1D,eAD0D,EAE1D,QAF0D,EAAD,KAGtD;AACH,QAAM,QAAQ,GAAG,+DAAW,EAA5B;AACA,QAAM,CAAC,MAAD,EAAS,OAAT,IAAoB,sDAAQ,CAAC,KAAD,CAAlC;AAEA,WAAS,KAAT,GAAc;AACZ,WAAO,CAAC,KAAD,CAAP;AACD;AAED,iBAAe,MAAf,CAAsB,YAAtB,EAAuD;AACrD,YAAQ,CAAC,MAAM,kGAAsB,CAAC,YAAD,CAA7B,CAAR;AACA,SAAK;AACN;AAED,SACE;;AAEE,6DAAC,YAAD,oFACM,4DAAkB,CAAC,eAAD,CADxB,IAEE,WAAW,EAAC,MAFd,EAGE,UAAU,EAAC,QAHb,EAIE,OAAO,EAAE,MAAM,OAAO,CAAC,IAAD,CAJxB;AAMG,UANH,CAFF;;AAUE,6DAAC,+HAAD,IACE,MAAM,EAAE,MADV,EAEE,MAAM,EAAE,MAFV,EAGE,QAAQ,EAAE,KAHZ,EAIE,eAAe,EAAE,eAJnB,GAVF,CADF;;AAmBD,CAnCM,C,cAAM,uB,sEAIM,uD;AAiCJ,uB,CAAA,yE,iLAzCT,Y,0MAIO,uB;;;;;;;;;;;;;;;;;;;wSCnCb;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;;AAIA,MAAM,wBAAwB,GAAG,wDAAM,CAAC,EAAE;;eAE3B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,KAAjB,CAAuB,CAAC;WAC3C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;;;AAGrD,CAND;AAQA,MAAM,2BAA2B,GAAG,wDAAM,CAAC,GAAG;;;;;mBAK3B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;AAC/C,CAND;AAQA,MAAM,4BAA4B,GAAG,wDAAM,CAAC,GAAG;;AAE9C,CAFD;AAIA,MAAM,aAAa,GAA0B,CAAC,EAC5C,gBAD4C,EAE5C,MAF4C,EAG5C,IAH4C,EAI5C,uBAJ4C,EAK5C,iBAL4C,EAAD,KAMxC;AACH,QAAM,EAAE,IAAI,GAAG,aAAT,KAA2B,MAAjC;AACA,SACE,2DAAC,4BAAD;AACE,6DAAC,2BAAD;AACE,6DAAC,wBAAD,IAA0B,aAAU,qBAApC;AACG,MADH,CADF;;AAIE,sEAAK,aAAU,aAAf,IAA8B,IAA9B,CAJF,CADF;;AAOE,6DAAC,oDAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,MAAM,EAAE,MAFV,EAGE,iBAAiB,EAAE,iBAHrB,EAIE,uBAAuB,EAAE,uBAJ3B,GAPF,CADF;;AAgBD,CAxBD,C;AA0Be,a,CAAA,yE,iLA9CT,wB,qNAQA,2B,wNAQA,4B,yNAIA,a;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC3CN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;AAKA,MAAM,OAAO,GAAG,yDAAM,CAAC,GAAG;aACb,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;AAI7C,CALD;AAaA,MAAM,cAAc,GAA4B,CAAC,EAC/C,iBAD+C,EAE/C,gBAF+C,EAG/C,uBAH+C,EAAD,KAI3C;AACH,QAAM,CAAC,gBAAD,EAAmB,mBAAnB,IAA0C,sDAAQ,CAAgB,IAAhB,CAAxD;AACA,QAAM,OAAO,GAAG,0DAAU,EAA1B;AACA,QAAM,eAAe,GAAG,kEAAkB,EAA1C;AACA,QAAM,gBAAgB,GAAG,gEAAW,CAClC,KAAK,+DAAI,KAAK,CAAC,cAAV,qBAAI,sBAAsB,gBAA1B,EAD6B,CAApC;AAGA,QAAM,YAAY,GAAG,2FAAsB,OAAtB,CAArB;AACA,QAAM,WAAW,GAAG,4CAAK,CAAC,OAAN,CAAc,MAAK;AACrC,UAAM,KAAK,GAAG,IAAI,KAAJ,CAAU,YAAY,CAAC,MAAvB,CAAd;AACA,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,YAAY,CAAC,MAAjC,EAAyC,CAAC,IAAI,CAA9C,EAAiD;AAC/C,WAAK,CAAC,CAAD,CAAL,GAAW,4EAAX;AACD;AACD,WAAO,KAAP;AACD,GANmB,EAMjB,CAAC,YAAY,CAAC,MAAd,CANiB,CAApB;AAQA,QAAM,cAAc,GAAG,qDAAO,CAAC,MAAK;AAClC,UAAM,gBAAgB,GAAG,sGAAY,MAAZ,aAAY,EAAK,MAAM,KAAK;AACnD,SAAG,MADgD;AAEnD,cAAQ,EAAE,gBAAgB,CAAC,MAAM,CAAC,EAAR,CAFyB,EAAL,CAAX,CAArC;;AAIA,WAAO,uEAAuB,CAAC,gBAAD,CAA9B;AACD,GAN6B,EAM3B,CAAC,YAAD,EAAe,gBAAf,CAN2B,CAA9B;AAOA,QAAM,gBAAgB,GAAG,IAAI,iFAAI,wGAAc,MAAd,eAAc,EAAK,IAAI,IAAI,IAAI,CAAC,EAAlB,CAAtB,CAAzB;AAEA,MAAI,cAAc,GAAoB,EAAtC;AACA,QAAM,iBAAiB,GAAoB,EAA3C;AACA,QAAM,gBAAgB,GAAG,iMAAc,eAAd,kBACvB,OAAO,IAAI,OAAO,CAAC,IAAR,KAAiB,2EADL,CAAzB;AAGA,QAAM,iBAAiB,GAAG,gBAAgB,IAAI,cAAc,CAAC,MAAf,GAAwB,CAAtE;AACA,MAAI,CAAC,gBAAD,IAAqB,CAAC,gBAA1B,EAA4C;AAC1C,kBAAc,GAAG,cAAjB;AACD,GAFD;AAEO;AACL,iHAAc,MAAd,eAAc,EAAS,CAAC,MAAD,EAAS,KAAT,KAAkB;AACvC,mCAAI,cAAc,CAAC,KAAD,CAAd,CAAsB,WAA1B,aAAI,kJAA4C,gBAA5C,CAAJ,EAAmE;AACjE,sBAAc,CAAC,IAAf,CAAoB,MAApB;AACD,OAFD;AAEO;AACL,yBAAiB,CAAC,IAAlB,CAAuB,MAAvB;AACD;AACF,KANa,CAAd;AAOD;AAED,SACE,4DAAC,OAAD;AACG,gNAAW,MAAX,YAAW;AACF,GAAC,IAAD,EAAO,KAAP,KAAiB,gBAAgB,CAAC,GAAjB,CAAqB,YAAY,CAAC,KAAD,CAAZ,CAAoB,EAAzC,CADf,CAAX;AAEM,GAAC,IAAD,EAAO,KAAP,KACH,4DAAC,8DAAD,IAAkB,IAAI,EAAE,IAAxB;AACE,8DAAC,uEAAD,IACE,aAAU,yBADZ,EAEE,GAAG,EAAE,cAAc,CAAC,KAAD,CAAd,CAAsB,EAF7B,EAGE,gBAAgB,EAAE,gBAHpB,EAIE,OAAO,EAAE,gBAAgB,KAAK,cAAc,CAAC,KAAD,CAAd,CAAsB,EAJtD,EAKE,eAAe,EAAE,OAAO,IACtB,mBAAmB,CAAC,OAAO,GAAG,cAAc,CAAC,KAAD,CAAd,CAAsB,EAAzB,GAA8B,IAAtC,CANvB,EAQE,MAAM,EAAE,cAAc,CAAC,KAAD,CARxB,EASE,uBAAuB,EAAE,uBAT3B,EAUE,iBAAiB,EAAE,iBAVrB,GADF,CAHH,CADH;;AAmBG,0GAAc,MAAd,eAAc,EAAK,MAAM,IAAG;AAC3B,UAAM,KAAK,GAAG,6GAAY,MAAZ,aAAY,EAAW,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,MAAM,CAAC,EAAhC,CAA1B;AACA,WAAO,4DAAC,+DAAD,IAAmB,IAAI,EAAE,WAAW,CAAC,KAAD,CAApC,GAAP;AACD,GAHc,CAnBjB;AAuBG,mBAAiB,IAChB,4DAAC,+DAAD,IACE,KAAK,MADP,EAEE,QAAQ,MAFV,EAGE,kBAAkB,EAAC,OAHrB,EAIE,WAAW,EAAE,iBAAiB,CAAC,MAAlB,KAA6B,CAA7B,GAAiC,UAAjC,GAA8C,SAJ7D,EAKE,GAAG,EAAE,KAAK,iBAAI,2DAAJ;;AAEQ,kBAAc,CAAC,MAAf,GAAwB,CAAxB;AACV,SAAK,CAAC,QAAN,GAAiB,CADP;AAEV,KAJE;;;;AAQgB,SAAK,CAAC,QAAN,GAAiB,CARjC;;;AAWS,SAAK,CAAC,QAXf;;;;;AAgBS,SAAK,CAAC,QAAN,GAAiB,CAhB1B,yyPALZ;;;;;AA2BE,8DAAC,+DAAD,CAAU,KAAV,IACE,MAAM,EAAE,GAAG,4DAAC,CAAC,sBAAD,CAAwB,KAClC,iBAAiB,CAAC,MACpB,GAHF,EAIE,GAAG,EAAC,GAJN;AAMG,6GAAiB,MAAjB,kBAAiB,EAAK,MAAM,IAAG;AAC9B,UAAM,KAAK,GAAG,+GAAc,MAAd,eAAc,EAAW,CAAC,IAAI,CAAC,CAAC,EAAF,KAAS,MAAM,CAAC,EAAhC,CAA5B;AACA,WAAO,4DAAC,+DAAD,IAAmB,IAAI,EAAE,WAAW,CAAC,KAAD,CAApC,GAAP;AACD,GAHiB,CANpB,CA3BF,CAxBJ,CADF;;;;AAmED,CAlHD,C,cAAM,c,4MAMY,kD,EACQ,0D,EACC,wD;AA4GZ,c,CAAA,yE,iLAjIT,O,qMAaA,c;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC/CN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;;AAGA,MAAM,UAAU,GAAG,wDAAM,CAAC,GAAG;gBACb,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,EAAE;oBAC9B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;AAIpD,CAND;AAQA,MAAM,WAAW,GAA0B,CAAC,EAC1C,gBAD0C,EAE1C,MAF0C,EAG1C,iBAH0C,EAI1C,uBAJ0C,EAAD,KAKtC;AACH,QAAM,EAAE,EAAF,EAAM,OAAN,EAAe,UAAf,EAA2B,aAA3B,EAA0C,UAA1C,KAAyD,MAA/D;AACA,QAAM,QAAQ,GAAG,iEAAwB,GAAG,GAA3B,CAA+B,UAA/B,CAAjB;AACA,QAAM,gBAAgB,GAAG,mEAAmB,CAAC,EAAD,EAAK,gBAAL,CAA5C;AACA,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,sDAAQ,CAA4B,EAA5B,CAAlC;AACA,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,sDAAQ,CAAS,EAAT,CAAlC;AACA,QAAM,CAAC,QAAD,EAAW,WAAX,IAA0B,sDAAQ,CAAyB,EAAzB,CAAxC;AACA,QAAM,CAAC,QAAD,EAAW,WAAX,IAA0B,sDAAQ,CAAa,EAAb,CAAxC;AACA,QAAM,QAAQ,GAAG,oDAAM,CAAmB,IAAnB,CAAvB;AACA,QAAM,CAAC,MAAD,IAAW,OAAjB;AACA,QAAM,EACJ,SADI,EAEJ,MAAM,GAAG,EAFL,KAGyD,MAH/D;AAIA,QAAM,EAAE,IAAI,EAAE,OAAR,KAAoB,MAA1B;AACA,QAAM,aAAa,GAAG,CAAC,CAAC,SAAxB;AACA,QAAM,CAAC,SAAD,EAAY,YAAZ,IAA4B,sDAAQ,CAAU,aAAV,CAA1C;AACA,QAAM,CAAC,YAAD,EAAe,eAAf,IAAkC,sDAAQ,CAAU,IAAV,CAAhD;AACA,QAAM,QAAQ,GAAG,+DAAW,EAA5B;AACA,yDAAS,CAAC,MAAK;AACb,UAAM,WAAW,GAAG,2DAAW,CAAC;AAC9B,SAAG,MAD2B;AAE9B,eAF8B;AAG9B,sBAH8B;AAI9B,aAJ8B;AAK9B,cAL8B;AAM9B,mBAN8B;AAO9B,gBAP8B,EAAD,CAA/B;;AASA,UAAM,cAAc,GAAG,2BAAM,CAAC,QAAP,sCAAiB,QAAjB,KAA6B,EAApD;AACA,QACE,CAAC,uEAAe,CAAC,QAAD,EAAW,WAAX,CAAhB;AACA,KAAC,uEAAe,CAAC,QAAD,EAAW,cAAX,CAFlB,EAGE;AACA,iBAAW,CAAC,WAAD,CAAX;AACA,iBAAW,CAAC,cAAD,CAAX;AACA,UAAI,CAAC,aAAL,EAAoB;AAClB;AACD;AACD,qBAAe,CAAC,IAAD,CAAf;AACA,wFAAmB,CAAC;AAClB,gBAAQ,EAAE,WADQ;AAElB,aAAK,EAAE,KAFW;AAGlB,qBAAa,EAAE,EAAE,WAAW,EAAE,CAAf,EAHG;AAIlB,gBAAQ,EAAE,cAJQ,EAAD,CAAnB;;AAMG,UANH,CAMQ,QAAQ,IAAG;AACf,YAAI,0EAAgB,CAAC,6DAAW,CAAC,oBAAb,CAApB,EAAwD;AACtD;AACA,gBAAM,MAAM,GAAG,YAAY,QAAZ,GAAuB,QAAQ,CAAC,MAAT,CAAgB,CAAhB,CAAvB,GAA4C,QAA3D;AACA,6FAAgB,CAAC,MAAD,CAAhB;AACG,cADH,CACS,WAAD,IAA2C;AAC/C,2BAAe,CAAC,KAAD,CAAf;AACA,wBAAY,CAAC,KAAD,CAAZ;AACA,oBAAQ,CAAC,WAAD,CAAR;AACD,WALH;AAMG,eANH,CAMU,KAAD,IAA6B;AAClC,oBAAQ,CACN,KAAK,CAAC,OAAN,IAAiB,KAAK,CAAC,KAAvB,IAAgC,2DAAC,CAAC,qBAAD,CAD3B,CAAR;AAGA,2BAAe,CAAC,KAAD,CAAf;AACA,wBAAY,CAAC,KAAD,CAAZ;AACD,WAZH;AAaD,SAhBD;AAgBO;AACL,kBAAQ,CAAC,QAAQ,CAAC,MAAV,CAAR;AACA,kBAAQ,CAAC,EAAD,CAAR;AACA,yBAAe,CAAC,KAAD,CAAf;AACA,sBAAY,CAAC,KAAD,CAAZ;AACD;AACF,OA7BH;AA8BG,WA9BH,CA8BU,KAAD,IAAoB;AACzB,gBAAQ,CAAC,KAAK,CAAC,UAAP,CAAR;AACA,uBAAe,CAAC,KAAD,CAAf;AACA,oBAAY,CAAC,KAAD,CAAZ;AACD,OAlCH;AAmCD;AACF,GAzDQ,EAyDN;AACD,kBADC;AAED,WAFC;AAGD,SAHC;AAID,8FAAe,MAAf,CAJC;AAKD,eALC,CAzDM,CAAT;;AAiEA,yDAAS,CAAC,MAAK;AACb,QAAI,kBAAiB,QAAjB,6BAAiB,CAAG,CAAH,CAAjB,MAA2B,MAAM,CAAC,EAAtC,EAA0C;AACxC;AACA,YAAM,OAAO,GAAG,yFAAW,MAAK;AAC9B,gBAAQ,QAAR,yCAAQ,CAAE,OAAV,uCAAmB,KAAnB;AACD,OAFe,EAEb,GAFa,CAAhB;AAGA,aAAO,MAAM,YAAY,CAAC,OAAD,CAAzB;AACD;AACD,WAAO,SAAP;AACD,GATQ,EASN,CAAC,QAAD,EAAW,iBAAX,EAA8B,MAAM,CAAC,EAArC,CATM,CAAT;AAWA,QAAM,WAAW,GAAI,QAAD,IAClB,uBAAuB,CAAC,MAAD,EAAS,QAAT,CADzB;AAGA,QAAM,gBAAgB,GAAG,MAAM,QAAQ,CAAC,mGAAsB,CAAC,EAAD,CAAvB,CAAvC;AACA,QAAM,kBAAkB,GAAG,MAAM,QAAQ,CAAC,qGAAwB,EAAzB,CAAzC;AAEA,MAAI,KAAJ,EAAW;AACT,WACE,4DAAC,oFAAD,IACE,KAAK,EAAE,2DAAC,CAAC,oBAAD,CADV,EAEE,IAAI,EAAE,KAFR,EAGE,KAAK,EAAC,OAHR,GADF;AAOD;AAED,SACE,4DAAC,UAAD,IAAY,aAAU,iBAAtB;AACG,WAAS,GACR,4DAAC,+DAAD,IAAS,QAAQ,EAAC,iBAAlB,GADQ,GAGR,4DAAC,yDAAD,IACE,MAAM,EAAE,EADV,EAEE,KAAK,EAAE,GAFT,EAGE,QAAQ,EAAE;AACV;AAJF,MAKE,WAAW,EAAE,aAAa,GAAG,KAAH,GAAW,CAAC,EAAE,IAAI,EAAE,CAAC,EAAD,CAAR,EAAD,CALvC,EAME,SAAS,EAAE,UANb,EAOE,SAAS,EAAE,CAAC,0DAAQ,CAAC,aAAV,CAPb,EAQE,WAAW,uBAAE,MAAM,CAAC,QAAT,qBAAE,kBAAiB,WARhC,EASE,QAAQ,uBAAE,MAAM,CAAC,QAAT,qBAAE,kBAAiB,QAT7B,EAUE,eAAe,EAAE,QAAF,oBAAE,QAAQ,CAAE,eAV7B,EAWE,YAAY,EAAE,YAXhB,EAYE,KAAK,EAAE,EAAE,WAAF,EAAe,gBAAf,EAAiC,kBAAjC,EAZT,GAJJ,CADF;;AAsBD,CA1ID,C,cAAM,W,0WAQqB,2D,EAeR,uD;AAqHJ,W,CAAA,yE,iLApJT,U,qMAQA,W;;;;;;;;;;;;;;;;;;;wSCtDN;;;;;;;;;;;;;;;;;AAiBG;AACH;AAIA;AAEA;AACM,SAAU,mBAAV,CACJ,EADI,EAEJ,gBAFI,EAEkC;AAEtC,QAAM,EAAE,OAAF,KAAc,+DAAW,CAC7B,KAAK,IAAI,KAAK,CAAC,aADc,CAA/B;AAGA,QAAM,MAAM,GAAG,OAAO,CAAC,EAAD,CAAtB;AACA,QAAM,gBAAgB,4BAAa,MAAb,oBAAa,MAAM,CAAE,gBAArB,oCAAyC,EAA/D;AACA,MAAI,eAAe,GAAG,EAAtB;AACA,iHAAgB,MAAhB,iBAAgB,EAAS,QAAQ,IAAG;AAClC,UAAM,WAAW,GAAG,gBAAH,oBAAG,gBAAgB,CAAG,QAAH,CAApC;AACA,mBAAe,GAAG,iEAAkB,CAClC,eADkC,EAElC,WAFkC,oBAElC,WAAW,CAAE,aAFqB,CAApC;AAID,GANe,CAAhB;AAOA,SAAO,eAAP;AACD,C,cAlBe,mB,qCAIM,uD,oLAJN,mB;;;;;;;;;;;;;;;;;;;;uSCLhB;AAEA;AACM,SAAU,uBAAV,CAAkC,OAAlC,EAAmD;AACvD,QAAM,eAAe,GAAG,yEAA0B,CAAC,OAAD,CAAlD;AAEA,QAAM,gBAAgB,GAAI,MAAD,IAAkC;AACzD,UAAM,QAAQ,GAAG,eAAe,CAAC,MAAM,CAAC,EAAR,CAAf,IAA8B,EAA/C;AACA,WAAO;AACL,SAAG,MADE;AAEL,qBAAe,EAAE,kGAAQ,MAAR,SAAQ,EAAK,gBAAL,CAFpB,EAAP;;AAID,GAND;AAQA,SAAO,yMAAO,MAAP,QAAO;AACJ,QAAM,sCAAI,2BAAC,MAAM,CAAC,gBAAR,aAAC,sBAAyB,MAA1B,CAAJ,EADF,CAAP;AAEA,kBAFA,CAAP;AAGD,C,iLAde,uB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCvBhB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAGA,MAAM,OAAO,GAAG,wDAAM,CAAC,GAAG;;;;;cAKZ,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;gBAC3B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,MAAM;aAC7C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;AAC7C,CARD;AAUA,MAAM,KAAK,GAAG,gEAAM,CAAC,gEAAU,CAAC,IAAZ,CAAiB;WAC1B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,KAAK;AACnD,CAFD;AAIA,MAAM,OAAO,GAAG,gEAAM,CAAC,gEAAU,CAAC,IAAZ,CAAiB;eACxB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,KAAjB,CAAuB,CAAC;;eAEvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;;AAE3C,CALD;AAOA,MAAM,YAAY,GAAG,wDAAM,CAAC,GAA2B;;;MAGjD,CAAC,EAAE,QAAF,EAAD,KAAkB,mBAAmB,QAAQ,GAAG,MAAH,GAAY,KAAK,EAAE;;;AAGrE,CAND;AAeA,MAAM,WAAW,GAAyB,CAAC,EACzC,WADyC,EAEzC,QAFyC,EAGzC,gBAHyC,EAIzC,QAJyC,EAAD,KAKrC;AACH,QAAM,eAAe,GAAG,wEAAwB,EAAhD;AACA,QAAM,QAAQ,GAAG,+DAAW,EAA5B;AACA,QAAM,UAAU,GAAG,6DAAa,EAAhC;AACA,QAAM,OAAO,GAAG,0DAAU,EAA1B;AACA,QAAM,qBAAqB,GAAG,2FAAc,UAAd,CAA9B;AAEA,QAAM,CAAC,aAAD,EAAgB,gBAAhB,IAAoC,sDAAQ,CAChD,UAAU,CAAC,WAAD,CAAV,CAAwB,IADwB,CAAlD;AAIA,QAAM,yBAAyB,GAAG,0EAA0B,CAC1D,aAD0D,EAE1D,UAAU,CAAC,WAAD,CAAV,CAAwB,IAFkC,CAA5D;AAKA,QAAM,UAAU,GAAG,MAAK;AACtB,YAAQ,CACN,uGAA0B,CACxB,+GAAqB,MAArB,sBAAqB,EAAK,SAAS,IAAG;AACpC,YAAM,YAAY,GAAG;AACnB,WAAG,SADgB;AAEnB,YAAI,EAAE,aAFa;AAGnB,qBAAa,EAAE,OAHI;AAInB,gBAAQ,EAAE,EAAE,GAAG,eAAL,EAJS,EAArB;;AAMA,aAAO,WAAW,KAAK,SAAS,CAAC,EAA1B,GAA+B,YAA/B,GAA8C,SAArD;AACD,KARoB,CADG,CADpB,CAAR;AAaA,YAAQ;AACT,GAfD;AAiBA,QAAM,cAAc,GAAG,qDAAO,CAC5B,MACE,qEAAqB,CAAC;AACpB,oBADoB;AAEpB,yBAFoB,EAAD,CAFK;AAM5B,GAAC,gBAAD,EAAmB,qBAAnB,CAN4B,CAA9B;AASA,QAAM,oBAAoB,GACxB,cAAc,IAAI,cAAc,CAAC,EAAf,KAAsB,WAD1C;AAGA,QAAM,cAAc,GAClB,QAAQ,IAAI,oBAAZ,IAAoC,yBADtC;AAGA,SACE,4DAAC,OAAD;AACE,8DAAC,KAAD,IAAO,MAAM,MAAb,IAAe,2DAAC,CAAC,qBAAD,CAAhB,CADF;AAEE,8DAAC,KAAD,IACE,QAAQ,EAAE;AACR,aAAO,EAAE,IADD;AAER,UAAI,EAAE,yEAFE;AAGR,cAAQ,EAAE,gBAHF,EADZ;;AAOG,eAPH,CAFF;;AAWE,8DAAC,sDAAD;AACE,8DAAC,6DAAD,IACE,KAAK,MADP,EAEE,WAAW,EAAC,UAFd,EAGE,UAAU,EAAC,OAHb,EAIE,OAAO,EAAE,QAJX,EAKE,aAAU,wBALZ;AAOG,6DAAC,CAAC,QAAD,CAPJ,CADF;;AAUE,8DAAC,6DAAD,IACE,SAAS,EAAC,OADZ,EAEE,KAAK,EACF,yBAAyB;AACxB,+DAAC,CAAC,0CAAD,CADH;AAEC,wBAAoB,IAAI,2DAAC,CAAC,2BAAD,CAF1B;AAGC,YAAQ,IAAI,0DANjB;AASE,8DAAC,YAAD,IAAc,QAAQ,EAAE,cAAxB;AACE,8DAAC,6DAAD,kFACE,QAAQ,EAAE,cADZ,EAEE,WAAW,EAAC,SAFd,EAGE,QAAQ,EAAC,QAHX,EAIE,UAAU,EAAC,OAJb,EAKE,OAAO,EAAE,UALX,IAMM,kEAAkB,CAAC,sBAAD,CANxB;AAQG,6DAAC,CAAC,MAAD,CARJ,CADF,CATF,CAVF,CAXF;;;;;AA4CG,sBAAoB,IACnB,4DAAC,OAAD,IAAS,IAAI,MAAb;AACE,8DAAC,0DAAD,OADF;AAEG,6DAAC,CAAC,uCAAD,EAA0C,cAA1C,oBAA0C,cAAc,CAAE,IAA1D,CAFJ,CA7CJ,CADF;;;AAqDD,CA1GD,C,cAAM,W,wRAMoB,gE,EACP,uD,EACE,qD,EACH,kD,EAOkB,kE;AA4FrB,W,CAAA,yE,iLAhJT,O,8LAUA,K,4LAIA,O,8LAOA,Y,mMAeA,W;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCpEN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AAGA;AACA;AACA;AACA;AACA;;AAGA,MAAM,YAAY,GAAG,gEAAM,CAAC,6DAAD,CAAQ;;AAElC,CAFD;AAIA,MAAM,SAAS,GAAG,wDAAM,CAAC,GAAG;;;;AAI3B,CAJD;AAMA,MAAM,UAAU,GAAG,wDAAM,CAAC,GAAG;;;;;;MAMvB,CAAC,EAAE,KAAF,EAAD,KAAe,gBAAgB,KAAK,CAAC,QAAN,GAAiB,CAAC,IAAI;;AAE1D,CARD;AAsBA,MAAM,aAAa,GAA2B,CAAC,EAC7C,QAD6C,EAE7C,gBAF6C,EAG7C,QAH6C,EAI7C,MAJ6C,EAK7C,aAL6C,EAM7C,gBAN6C,EAO7C,SAP6C,EAQ7C,SAR6C,EAS7C,SAT6C,EAAD,KAUzC;AACH,QAAM,IAAI,GACR,4DAAC,0DAAD;AACE,8DAAC,0DAAD,CAAM,IAAN,IAAW,OAAO,EAAE,MAApB,IAA6B,2DAAC,CAAC,MAAD,CAA9B,CADF;AAEE,8DAAC,0DAAD,CAAM,IAAN,IAAW,OAAO,EAAE,SAApB;AACE,8DAAC,8DAAD,IAAS,SAAS,EAAC,OAAnB,EAA2B,KAAK,EAAE,2DAAC,CAAC,wBAAD,CAAnC;AACG,6DAAC,CAAC,SAAD,CADJ,CADF,CAFF;;;AAOE,8DAAC,0DAAD,CAAM,IAAN,IAAW,OAAO,EAAE,QAApB,EAA8B,MAAM,MAApC;AACG,6DAAC,CAAC,QAAD,CADJ,CAPF,CADF;;;AAcA,SACE;AACE,8DAAC,SAAD;AACE,8DAAC,gEAAD,CAAY,IAAZ,IACE,MAAM,MADR,EAEE,QAAQ,EAAE;AACR,aAAO,EAAE,QADD;AAER,UAAI,EAAE,yEAFE;AAGR,cAAQ,EAAE,gBAHF,EAFZ;;AAQG,WARH,oBAQG,SAAS,CAAE,IARd,8BAQsB,aARtB,CADF;;AAWE,8DAAC,UAAD;AACG,WAAS,IACR,4DAAC,yDAAD,IACE,KAAK,EAAE,EAAE,KAAK,EAAE,+DAAa,CAAC,MAAd,CAAqB,OAArB,CAA6B,IAAtC,EADT,GAFJ;AAMG,UAAQ,IACP,4DAAC,8DAAD,IACE,OAAO,EAAE,IADX,EAEE,SAAS,EAAC,aAFZ,EAGE,OAAO,EAAE,CAAC,OAAD,CAHX;AAKE,8DAAC,YAAD,kFACE,OAAO,EAAE,CAAC,IAAG;AACX,OAAC,CAAC,eAAF;AACA,OAAC,CAAC,cAAF;AACD,KAJH,IAKM,6DAAkB,CAAC,wBAAD,CALxB,IAME,WAAW,EAAC,MANd,EAOE,UAAU,EAAC,QAPb;AASE,8DAAC,yDAAD,OATF,CALF,CAPJ,CAXF,CADF;;;;;AAuCE,8DAAC,sDAAD,IACE,SAAS,EAAE,SADb,EAEE,QAAQ,yBAAE,SAAF,oBAAE,SAAS,CAAE,QAAb,kCAAyB,gBAFnC,GAvCF,CADF;;AA8CD,CAvED,C;AAyEe,a,CAAA,yE,iLAzGT,Y,qMAIA,S,kMAMA,U,mMAsBA,a;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC7DN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AAEA;AACA;AAEA;AACA;;AAGA,MAAM,YAAY,GAAG,wDAAM,CAAC,GAAG;;;eAGhB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,KAAjB,CAAuB,CAAC;AACrD,CAJD;AAMA,MAAM,cAAc,GAAG,gEAAM,CAAC,8DAAD,CAAU;;;;;;mBAMpB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,KAAjB,CAAuB,CAAC;;;;;;;;;;;wBAWlC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;;;AAGpD,CApBD;AA2BA,MAAM,aAAa,GAA2B,CAAC,EAAE,QAAF,EAAY,SAAZ,EAAD,KAA4B;AACxE,QAAM,OAAO,GAAG,0DAAU,EAA1B;AACA,QAAM,YAAY,GAAG,2FAAc,OAAd,CAArB;AAEA,MAAI,aAAa,GAAG,YAAH,WAAG,YAAH,GAAmB,EAApC;AACA,MAAI,SAAJ,YAAI,SAAS,CAAE,aAAf,EAA8B;AAC5B,iBAAa,GAAG,2FAAc,SAAd,oBAAc,SAAS,CAAE,aAAzB,CAAhB;AACD;AAED,QAAM,gBAAgB,GAAG,MACvB,4DAAC,YAAD;AACE,8DAAC,gEAAD,CAAY,IAAZ,IAAiB,IAAI,EAAC,WAAtB;AACG,6DAAC,CAAC,cAAD,EAAiB,aAAa,CAAC,MAA/B,CADJ,CADF,CADF;;;AAQA,QAAM,YAAY,GAAG,CAAC,EAAE,EAAF,EAAM,IAAN,EAAD,KAA+C;AAClE,UAAM,aAAa,GACjB,SAAS;AACT,KAAC,uEAAe,CAAC,OAAO,CAAC,EAAD,CAAR,EAAc,SAAd,6CAAc,SAAS,CAAE,aAAzB,qBAAc,sBAA2B,EAA3B,CAAd,EAA8C;AAC5D,qBAAe,EAAE,IAD2C,EAA9C,CAFlB;;AAKA,UAAM,aAAa,GAAG,CAAC,mMAAY,OAAZ,kBAA8B,EAA9B,CAAvB;AAEA,WACE,4DAAC,6DAAD,IACE,KAAK,EACF,aAAa;AACZ,iEAAC,CACC,iEADD,CADH;AAIC,mBAAa;AACZ,iEAAC,CAAC,+DAAD,CAPP,EASE,SAAS,EAAC,YATZ,EAUE,GAAG,EAAE,EAVP;AAYE,yEAAK,aAAU,aAAf;AACE,gEAAC,gEAAD,CAAY,IAAZ,IAAiB,MAAM,MAAvB,EAAwB,MAAM,EAAE,aAAhC,EAA+C,IAAI,EAAE,aAArD;AACG,QADH,UADF;;AAIE,gEAAC,gEAAD,CAAY,IAAZ,IAAiB,MAAM,EAAE,aAAzB,EAAwC,IAAI,EAAE,aAA9C;AACG,4EAAwB,CAAC,QAAD,oCAAC,QAAQ,CAAG,EAAH,CAAT,8CAAC,aAAgB,WAAjB,qBAAC,sBAA6B,KAA9B,CAAxB,IACC,4DAAC,gEAAD,CAAY,IAAZ,IAAiB,IAAI,EAAC,WAAtB,IAAmC,2DAAC,CAAC,MAAD,CAApC,CAFJ,CAJF,CAZF,CADF;;;;AAyBD,GAjCD;AAmCA,SACE,4DAAC,cAAD,IACE,KAAK,MADP,EAEE,kBAAkB,EAAC,OAFrB,EAGE,gBAAgB,EAAE,CAAC,SAAD,GAAa,CAAC,SAAD,CAAb,GAA2B,SAH/C,EAIE,UAAU,EAAE,CAAC,EAAE,QAAF,EAAD,KACV,4DAAC,yDAAD,IAAmB,MAAM,EAAE,QAAQ,GAAG,CAAH,GAAO,GAA1C,GALJ;AAQE,8DAAC,8DAAD,CAAU,KAAV,oFACM,kEAAkB,CAAC,iCAAD,CADxB,IAEE,MAAM,EAAE,gBAAgB,EAF1B,EAGE,GAAG,EAAC,SAHN;AAKG,yGAAa,MAAb,cAAa,EAAK,YAAL,CALhB,CARF,CADF;;;AAkBD,CAtED,C,cAAM,a,gCACY,kD;AAuEH,a,CAAA,yE,iLAzGT,Y,qMAMA,c,uMA2BA,a;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC9DN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AACA;;AAYA,MAAM,YAAY,GAAG,wDAAM,CAAC,GAA0B;;;MAGhD,CAAC,EAAE,QAAF,EAAD,KAAkB,mBAAmB,QAAQ,GAAG,MAAH,GAAY,KAAK,EAAE;;;AAGrE,CAND;AAQO,MAAM,aAAa,GAAG,wDAAM,CAAC,GAAG;;;;;;;AAOtC,CAPM;AASP,MAAM,MAAM,GAAoB,CAAC,EAC/B,QAD+B,EAE/B,QAF+B,EAG/B,MAH+B,EAI/B,QAJ+B,EAK/B,QAL+B,EAM/B,aAN+B,EAAD,KAO3B;AACH,QAAM,yBAAyB,GAAG,yEAA0B,CAAC,aAAD,CAA5D;AAEA,QAAM,gBAAgB,GACpB,CAAC,aAAD,IAAkB,yBAAlB,IAA+C,QADjD;AAGA,SACE;AACG,UAAQ,GACP,2DAAC,aAAD;AACE,6DAAC,6DAAD,IACE,WAAW,EAAC,UADd,EAEE,UAAU,EAAC,OAFb,EAGE,OAAO,EAAE,QAHX,EAIE,aAAU,0BAJZ;AAMG,6DAAC,CAAC,QAAD,CANJ,CADF;;AASE,6DAAC,8DAAD,IACE,SAAS,EAAC,OADZ,EAEE,KAAK,EACF,CAAC,aAAD,IAAkB,2DAAC,CAAC,wBAAD,CAApB;AACC,6BAAyB;AACxB,+DAAC,CAAC,0CAAD,CAFH;AAGC,YAAQ,IAAI,yDANjB;AASE,6DAAC,YAAD,IAAc,QAAQ,EAAE,gBAAxB;AACE,6DAAC,6DAAD,kFACE,QAAQ,EAAE,gBADZ,EAEE,WAAW,EAAC,SAFd,EAGE,QAAQ,EAAC,QAHX,EAIE,UAAU,EAAC,OAJb,EAKE,OAAO,EAAE,QALX,IAMM,4DAAkB,CAAC,0BAAD,CANxB;AAQG,6DAAC,CAAC,QAAD,CARJ,CADF,CATF,CATF,CADO;;;;AAkCP,6DAAC,8DAAD,IAAS,SAAS,EAAC,QAAnB,EAA4B,KAAK,EAAE,QAAQ,IAAI,yDAA/C;AACE,6DAAC,YAAD,IAAc,QAAQ,EAAE,QAAxB;AACE,6DAAC,6DAAD,kFACE,QAAQ,EAAE,QADZ,EAEE,WAAW,EAAC,UAFd,EAGE,UAAU,EAAC,OAHb,EAIE,OAAO,EAAE,MAJX,IAKM,4DAAkB,CAAC,uBAAD,CALxB;AAOG,6DAAC,CAAC,uBAAD,CAPJ,CADF,CADF,CAnCJ,CADF;;;;;AAoDD,CAjED,C,cAAM,M,kEAQ8B,iE;AA2DrB,M,CAAA,yE,iLApFT,Y,8LAQO,a,+LASP,M;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCpDN;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;;AAGA,MAAM,iBAAiB,GAAG,yDAAM,CAAC,GAAG;;;;;;;;;;;AAWnC,CAXD;AAaA,MAAM,oBAAoB,GAAG,yDAAM,CAAC,GAGlC;;;;;cAKY,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;IACvC,CAAC,EAAE,KAAF,EAAD,KACA,cAAc,KAAK,CAAC,QAAN,GAAiB,CAAC,MAAM,KAAK,CAAC,QAAN,GAAiB,CAAC,IAAI;6BACnC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;aAC5D,CAAC,EAAE,KAAF,EAAD,KAAe,GAAG,KAAK,CAAC,QAAN,GAAiB,CAAC,MAAM,KAAK,CAAC,QAAN,GAAiB,CAAC,IAAI;YACjE,CAAC,EAAE,OAAF,EAAD,KAAkB,CAAC,OAAD,GAAW,MAAX,GAAoB,SAAU;IACxD,CAAC,EAAE,KAAF,EAAS,iBAAiB,QAA1B,EAAD,KACA,eAAe,QAAQ,GAAG,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,MAAxB,GAAiC,aAAa,EAAE;AAC1E,CAhBD;AA6BA,MAAM,uBAAuB,GAAG,4DAAC,CAAC,gBAAD,CAAjC;AAEA,MAAM,UAAU,GAA8B,CAAC,EAC7C,gBAD6C,EAE7C,eAF6C,EAG7C,QAH6C,EAI7C,uBAJ6C,EAK7C,kBAL6C,EAAD,KAMzC;AACH,QAAM,QAAQ,GAAG,gEAAW,EAA5B;AACA,QAAM,CAAC,aAAD,EAAgB,gBAAhB,IAAoC,uDAAQ,CAAC,uBAAD,CAAlD;AACA,QAAM,CAAC,QAAD,EAAW,WAAX,IAA0B,uDAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,eAAe,GAAG,wEAAwB,EAAhD;AACA,QAAM,UAAU,GAAG,6DAAa,EAAhC;AACA,QAAM,qBAAqB,GAAG,4FAAc,UAAd,CAA9B;AACA,QAAM,OAAO,GAAG,0DAAU,EAA1B;AACA,QAAM,YAAY,GAAG,4FAAc,OAAd,CAArB;AACA,QAAM,CAAC,oBAAD,EAAuB,uBAAvB,IAAkD,uDAAQ,CAE9D,IAF8D,CAAhE;AAIA,0DAAS,CAAC,MAAK;AACb,QAAI,kBAAJ,EAAwB;AACtB;AACD;AAED,UAAM,cAAc,GAAG,qEAAqB,CAAC;AAC3C,sBAD2C;AAE3C,2BAF2C,EAAD,CAA5C;;AAIA,2BAAuB,uBAAC,cAAD,oBAAC,cAAc,CAAE,EAAjB,iCAAuB,IAAvB,CAAvB;AACD,GAVQ,EAUN,CAAC,kBAAD,EAAqB,gBAArB,EAAuC,qBAAvC,CAVM,CAAT;AAYA,QAAM,wCAAwC,GAAG,CAC/C,EAD+C,EAE/C,SAF+C,uCAI/C,CAAC,uGAAY,MAAZ,aAAY,EAAM,MAAM,IAAI,OAAM,QAAN,kBAAM,CAAE,EAAR,MAAe,EAA/B,CAAb;AACA,KAAC,uEAAe,CAAC,OAAO,CAAC,EAAD,CAAR,EAAc,SAAd,6CAAc,SAAS,CAAE,aAAzB,qBAAc,sBAA2B,EAA3B,CAAd,EAA8C;AAC5D,qBAAe,EAAE,IAD2C,EAA9C,CAL+B,EAAjD;;AASA,QAAM,aAAa,GAAG,CAAC,EAAD,EAAa,MAAb,KAAqC;AACzD,UAAM,oBAAoB,GAAG,qBAA7B;AACA,UAAM,sBAAsB,GAAG,wBAA/B;AACA,QACE,MAAM,QAAN,UAAM,CAAE,SAAR,CAAkB,QAAlB,CAA2B,oBAA3B;AACA,UADA,YACA,MAAM,CAAE,SAAR,CAAkB,QAAlB,CAA2B,sBAA3B,CADA;AAEA,UAFA,qCAEA,MAAM,CAAE,aAFR,aAEA,sBAAuB,SAAvB,CAAiC,QAAjC,CAA0C,oBAA1C,CAFA;AAGA,UAHA,sCAGA,MAAM,CAAE,aAHR,uCAGA,uBAAuB,aAHvB,aAGA,uBAAsC,SAAtC,CAAgD,QAAhD,CACE,oBADF,CAHA;AAMA,UANA,sCAMA,MAAM,CAAE,aANR,uCAMA,uBAAuB,aANvB,uCAMA,uBAAsC,aANtC,aAMA,uBAAqD,SAArD,CAA+D,QAA/D,CACE,oBADF,CAPF,EAUE;AACA;AACA;AACD;AACD,2BAAuB,CAAC,EAAD,CAAvB;AACA,QAAI,CAAC,EAAL,EAAS;AACP;AACD;AAED,UAAM,SAAS,GAAG,UAAU,CAAC,EAAD,CAA5B;AAEA,iIAAC,4FAAc,SAAd,oBAAc,SAAS,CAAE,QAAzB,CAAD,8BAAuC,EAAvC,iBACG,QAAD,IAA6B;AAC3B,YAAM,EAAE,aAAF,EAAiB,WAAjB,EAA8B,EAA9B,KAAqC,QAA3C;AACA,UAAI,wCAAwC,CAAC,EAAD,EAAK,SAAL,CAA5C,EAA6D;AAC3D;AACD;AACD,6BAAuB,CAAC,EAAE,EAAF,EAAD,EAAS,EAAE,aAAF,EAAiB,WAAjB,EAAT,CAAvB;AACD,KAPH;AASD,GAjCD;AAmCA,QAAM,aAAa,GAAI,EAAD,IAAe;AACnC,UAAM,SAAS,GAAG,UAAU,CAAC,EAAD,CAA5B;AACA;AACA,UAAM,UAAU,GAAG,qUAAc,SAAd,oBAAc,SAAS,CAAE,QAAzB,kCAAqC,EAArC;AACT,YAAQ,IAAG;AACjB,YAAM,EAAE,EAAF,KAAS,QAAf;AACA,aAAO,CAAC,wCAAwC,CAAC,EAAD,EAAK,SAAL,CAAhD;AACD,KAJgB;AAMf,KAAC,IAAD,EAAO,IAAP,MAAiC;AAC/B,SAAG,IAD4B;AAE/B,OAAC,IAAI,CAAC,EAAN,GAAW,OAAO,CAAC,IAAI,CAAC,EAAN,CAFa,EAAjC,CANe;AAUf,MAVe,CAAnB;AAaA,UAAM,gBAAgB,GAAc;AAClC,SAAG,SAD+B;AAElC,mBAAa,EAAE,UAFmB;AAGlC,cAAQ,EAAE,kMAAY,UAAZ,mBACR,CAAC,IAAD,EAAO,YAAP,sCAAyB;AACvB,aAAG,IADoB;AAEvB,WAAC,YAAD,2BAAgB,SAAS,CAAC,QAA1B,qBAAgB,qBAAqB,YAArB,CAFO,EAAzB,EADQ;AAKR,QALQ,CAHwB,EAApC;;AAWA,YAAQ,CACN,uGAA0B,CACxB,+GAAqB,MAArB,sBAAqB,EAAK,WAAW,IAAG;AACtC,YAAM,QAAQ,GAAG,WAAW,CAAC,EAAZ,KAAmB,gBAAgB,CAAC,EAArD;AACA,aAAO,QAAQ,GAAG,gBAAH,GAAsB,WAArC;AACD,KAHoB,CADG,CADpB,CAAR;AAQD,GAnCD;AAqCA,QAAM,UAAU,GAAI,EAAD,IAAe;AAChC,iBAAa,CAAC,EAAD,CAAb;AACA,mBAAe,CAAC,EAAD,CAAf;AACD,GAHD;AAKA,QAAM,qBAAqB,GAAI,WAAD,IAAwB;AACpD,YAAQ,CACN,uGAA0B,CACxB,kHAAqB,MAArB,sBAAqB,EACnB,UAAU,IAAI,UAAU,CAAC,EAAX,KAAkB,WADb,CADG,CADpB,CAAR;AAOA,QAAI,WAAW,KAAK,oBAApB,EAA0C;AACxC,6BAAuB,CAAC,IAAD,CAAvB;AACD;AACF,GAXD;AAaA,QAAM,YAAY,GAAG,MAAK;AACxB,eAAW,CAAC,KAAD,CAAX;AACA,oBAAgB,CAAC,uBAAD,CAAhB;AACD,GAHD;AAKA,QAAM,qBAAqB,GAAG,MAAK;AACjC,UAAM,YAAY,GAAc;AAC9B,UAAI,EAAE,wGAAa,MAAb,cAAa,CADW;AAE9B,QAAE,EAAE,oEAAoB,EAFM;AAG9B,mBAAa,EAAE,OAHe;AAI9B,cAAQ,EAAE,kMAAY,OAAZ,mBACR,CAAC,IAAD,EAAO,YAAP,MAAyB;AACvB,WAAG,IADoB;AAEvB,SAAC,YAAD,GAAgB,eAAe,CAAC,YAAD,CAFR,EAAzB,CADQ;AAKR,QALQ,CAJoB,EAAhC;;AAYA,YAAQ,CACN,uGAA0B,CAAC,0GAAC,YAAD,mBAAsB,qBAAtB,CAAD,CADpB,CAAR;AAGA,eAAW,CAAC,KAAD,CAAX;AACA,oBAAgB,CAAC,uBAAD,CAAhB;AACD,GAlBD;AAoBA,SACE,4DAAC,iBAAD;AACG,GAAC,oBAAD,IACC,4DAAC,oBAAD;AACE,8DAAC,uDAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,QAAQ,EAAE,QAFZ,EAGE,gBAAgB,EAAE,gBAHpB,EAIE,aAAa,EAAE,aAJjB,GADF;AAOE,8DAAC,gDAAD,IACE,aAAa,EAAE,wGAAa,MAAb,cAAa,CAD9B,EAEE,QAAQ,EAAE,QAFZ,EAGE,QAAQ,EAAE,YAHZ,EAIE,QAAQ,EAAE,QAJZ,EAKE,MAAM,EAAE,MAAM,WAAW,CAAC,IAAD,CAL3B,EAME,QAAQ,EAAE,qBANZ,GAPF,CAFJ;;AAmBG,iHAAqB,MAArB,sBAAqB,EAAK,SAAS,IAClC,4DAAC,oBAAD,oFACM,6DAAkB,CAAC,oBAAD,CADxB,IAEE,iBAAe,SAAS,CAAC,EAAV,KAAiB,oBAFlC,EAGE,OAAO,EAAG,CAAD,IACP,aAAa,CAAC,SAAS,CAAC,EAAX,EAAe,CAAC,CAAC,MAAjB,CAJjB,EAME,GAAG,EAAE,SAAS,CAAC,EANjB;AAQE,8DAAC,uDAAD,IACE,SAAS,EAAE,SAAS,CAAC,EAAV,KAAiB,oBAAjB,IAAyC,CAAC,QADvD,EAEE,QAAQ,EAAE,MAAM,qBAAqB,CAAC,SAAS,CAAC,EAAX,CAFvC,EAGE,MAAM,EAAE,MAAM,UAAU,CAAC,SAAS,CAAC,EAAX,CAH1B,EAIE,SAAS,EAAE,MAAM,aAAa,CAAC,SAAS,CAAC,EAAX,CAJhC,EAKE,gBAAgB,EAAE,gBALpB,EAME,SAAS,EAAE,SANb,GARF,CADoB,CAnBxB,CADF;;;AAyCD,CApMD,C,cAAM,U,2TAOa,wD,EAGO,gE,EACL,qD,EAEH,kD;AAyLH,U,CAAA,yE,iLAlPT,iB,kMAaA,oB,qMA6BA,uB,wMAEA,U;;;;;;;;;;;;;;;;;;;;;;wSC7EN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AAEA;AACO,MAAM,0BAA0B,GAAG,CACxC,aADwC,EAExC,UAFwC,KAGtC;AACF,QAAM,UAAU,GAAG,4DAAa,EAAhC;AACA,QAAM,qBAAqB,GAAG,2FAAc,UAAd,CAA9B;AACA,QAAM,yBAAyB,GAAG,qDAAO,CACvC,MAAM,CAAC,CAAC,gHAAqB,MAArB,sBAAqB,EAAM,CAAC,EAAE,IAAF,EAAD,KAAc,IAAI,KAAK,aAA7B,CADU,EAEvC,CAAC,qBAAD,EAAwB,aAAxB,CAFuC,CAAzC;AAIA,MAAI,UAAU,KAAK,aAAnB,EAAkC;AAChC,WAAO,KAAP;AACD;AACD,SAAO,yBAAP;AACD,CAdM,C,cAAM,0B,0EAIQ,oD,oLAJR,0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCtBb;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AACA;AAIO,MAAM,oBAAoB,GAAG,MAAM,eAAe,8CAAO,CAAC,QAAR,EAAkB,EAApE;AAEA,MAAM,kBAAkB,GAAG,2DAAC,CAAC,6BAAD,CAA5B;AAEA,MAAM,wBAAwB,GACnC,KADsC,IAE5B;AACV,MAAI,KAAK,KAAK,IAAV,IAAkB,KAAK,KAAK,SAAhC,EAA2C;AACzC,WAAO,EAAP;AACD;AACD,MAAI,OAAO,KAAP,KAAiB,QAAjB,IAA6B,OAAO,KAAP,KAAiB,QAAlD,EAA4D;AAC1D,WAAO,GAAG,KAAK,EAAf;AACD;AACD,MAAI,4FAAc,KAAd,CAAJ,EAA0B;AACxB,WAAO,KAAK,CAAC,IAAN,CAAW,IAAX,CAAP;AACD;AACD,MAAI,OAAO,KAAP,KAAiB,QAArB,EAA+B;AAC7B,WAAO,4FAAe,KAAf,CAAP;AACD;AACD,SAAO,2DAAC,CAAC,eAAD,CAAR;AACD,CAhBM;AAkBA,MAAM,qBAAqB,GAAG,CAAC,EACpC,qBADoC,EAEpC,gBAFoC,EAAD,KAOnC,gHAAqB,MAArB,sBAAqB,EAAM,CAAC,EAAE,QAAQ,EAAE,qBAAqB,GAAG,EAApC,EAAD,KAA6C;AACtE,QAAM,uBAAuB,GAAG,4FAAe,gBAAf,CAAhC;AACA,SAAO,mHAAuB,MAAvB,wBAAuB,EAAO,CAAC,CAAC,EAAD,EAAK,yBAAL,CAAD,KAAoC;AACvE,UAAM,OAAO,GAAG,sEAAe,CAC7B,yBAAyB,CAAC,WADG,EAE7B,qBAF6B,6CAE7B,qBAAqB,CAAG,EAAH,CAFQ,qBAE7B,sBAA6B,WAFA,CAA/B;AAIA,UAAM,kBAAkB,GACtB,uBAAuB,CAAC,MAAxB;AACA,6FAAY,qBAAZ,WAAY,qBAAZ,GAAqC,EAArC,EAAyC,MAF3C;AAGA,WAAO,OAAO,IAAI,kBAAlB;AACD,GAT6B,CAA9B;AAUD,CAZoB,CAPhB,C,iLAtBM,oB,2MAEA,kB,yMAEA,wB,+MAkBA,qB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC/Cb;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAKA,MAAM,SAAS,GAAG,wDAAM,CAAC,EAAE;;;;;aAKd,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;;AAK7C,CAVD;AAYA,MAAM,aAAa,GAAG,wDAAM,CAAC,GAAG;;;;;;;IAO5B,CAAC,EAAE,KAAF,EAAD,KACA,cAAc,KAAK,CAAC,QAAN,GAAiB,CAAC,MAAM,KAAK,CAAC,QAAN,GAAiB,CAAC,IAAI;;;;;AAK/D,CAbD;AAeA,MAAM,YAAY,GAAG,gEAAM,CAAC,6DAAD,CAAQ;;AAElC,CAFD;AAaA,MAAM,MAAM,GAAoB,CAAC,EAC/B,OAD+B,EAE/B,eAF+B,EAG/B,gBAH+B,EAI/B,eAJ+B,EAK/B,mBAL+B,EAM/B,gBAN+B,EAAD,KAO3B;AACH,QAAM,OAAO,GAAG,0GAAU,EAA1B;AACA,QAAM,YAAY,GAAG,2FAAsB,OAAtB,CAArB;AACA,QAAM,OAAO,GAAG,+DAAW,CACzB,CAAC,EAAE,aAAF,EAAD,KAAuB,aAAa,CAAC,cADZ,CAA3B;AAIA,QAAM,cAAc,GAAG,MAAK;AAC1B,+GAAY,MAAZ,aAAY,EAAS,MAAM,IAAG;AAC5B,yBAAmB,CAAC,KAAK,IAAG;AAC1B,aAAK,CAAC,MAAM,CAAC,EAAR,CAAL,GAAmB,gFAAkB,CAAC,MAAM,CAAC,EAAR,CAArC;AACD,OAFkB,CAAnB;AAGD,KAJW,CAAZ;AAKD,GAND;AAQA,QAAM,kBAAkB,GAAG,kMAAc,eAAd,kBACzB,MAAM,mFACJ,0CAAgB,CAAC,MAAM,CAAC,EAAR,CAAhB,qEAA6B,WAA7B,4CAA0C,KAA1C,MAAoD,IAApD;AACC,KAAC,gBAAgB,CAAC,MAAM,CAAC,EAAR,CAAjB,IAAgC,8BAAM,CAAC,WAAP,yCAAoB,KAApB,MAA8B,IAF3D,EADmB,CAA3B;AAMA,SACE;AACE,8DAAC,SAAD;AACE,4EAAO,2DAAC,CAAC,SAAD,CAAR,CADF;AAEG,SAAO,IACN,4DAAC,iHAAD,IAAyB,eAAe,EAAE,YAAY,CAAC,MAAb,KAAwB,CAAlE;AACE,8DAAC,2DAAD,IAAM,IAAI,EAAC,MAAX,EAAkB,aAAU,eAA5B,GADF,CAHJ;;AAOE,8DAAC,YAAD,oFACM,6DAAkB,CAAC,iBAAD,CADxB,IAEE,WAAW,EAAC,MAFd,EAGE,UAAU,EAAC,QAHb,EAIE,OAAO,EAAE,MAAM,gBAAgB,CAAC,KAAD,CAJjC;AAME,8DAAC,2DAAD,IAAM,IAAI,EAAC,QAAX,GANF,CAPF,CADF;;;AAiBE,8DAAC,aAAD;AACE,8DAAC,6DAAD,kFACE,QAAQ,EAAE,kBADZ,EAEE,WAAW,EAAC,UAFd,EAGE,UAAU,EAAC,OAHb,EAIE,OAAO,EAAE,cAJX,IAKM,6DAAkB,CAAC,cAAD,CALxB;AAOG,6DAAC,CAAC,WAAD,CAPJ,CADF;;AAUE,8DAAC,6DAAD,kFACE,QAAQ,EAAE,eADZ,EAEE,WAAW,EAAC,SAFd,EAGE,QAAQ,EAAC,QAHX,EAIE,UAAU,EAAC,OAJb,EAKE,OAAO,EAAE,OALX,IAMM,6DAAkB,CAAC,cAAD,CANxB;AAQG,6DAAC,CAAC,OAAD,CARJ,CAVF,CAjBF,CADF;;;;AAyCD,CArED,C,cAAM,M,sDAQY,kG,EAEA,uD;AA6DH,M,CAAA,yE,iLA/GT,S,sLAYA,a,0LAeA,Y,yLAaA,M;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCxEN;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAOA;AACA;;AAGA,MAAM,SAAS,GAAG,OAAlB;AAEO,MAAM,kBAAkB,GAAG,YAA3B;AACA,MAAM,kBAAkB,GAAG,uEAAU,CAAC,kBAAD,CAArC;AAEP,MAAM,UAAU,GAAG,wDAAM,CAAC,GAAG;WAClB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;;aAK/B,SAAS;;AAErB,CARD;AAUA,MAAM,GAAG,GAAG,wDAAM,CAAC,GAAG;;;;;;;;;;;WAWX,SAAS;gBACJ,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;4BAChC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;;;;4BAM5C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,gBAAgB;;;;;;;;0BAQvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,gBAAN,GAAyB,CAAC;;;AAGlE,CA9BD;AAgCA,MAAM,YAAY,GAAG,wDAAM,CAAC,GAAG;;;;;WAKpB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;iBAC3B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;;;4BAMtB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,gBAAgB;;;;;;;;eAQlD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;0BAGtB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,gBAAN,GAAyB,CAAC;;;;;aAKtD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;cAChC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;AAG9C,CAhCD;AAkCA,MAAM,kBAAkB,GAAG,gEAAM,CAAC,4DAAD,CAAM;WAC5B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,IAAI;mBAChC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;AACnD,CAHD;AAKA,MAAM,UAAU,GAAG,gEAAM,CAAC,2DAAD,CAAM;;;;;;;;;;AAU9B,CAVD;AAkBA,MAAM,SAAS,GAA8B,CAAC,EAC5C,WAD4C,EAE5C,gBAF4C,EAG5C,iBAH4C,EAAD,KAIxC;AACH,QAAM,CAAC,eAAD,EAAkB,kBAAlB,IAAwC,sDAAQ,CAAgB,IAAhB,CAAtD;AACA,QAAM,CAAC,gBAAD,EAAmB,mBAAnB,IAA0C,2DAAQ,CACtD,EADsD,CAAxD;AAGA,QAAM,QAAQ,GAAG,+DAAW,EAA5B;AACA,QAAM,UAAU,GAAG,6DAAa,EAAhC;AACA,QAAM,qBAAqB,GAAG,2FAAc,UAAd,CAA9B;AACA,QAAM,CAAC,GAAD,EAAM,MAAN,IAAgB,sDAAQ,CAAC,8CAAM,CAAC,UAAR,CAA9B;AACA,QAAM,OAAO,GAAG,0DAAU,EAA1B;AACA,QAAM,YAAY,GAAG,2FAAsB,OAAtB,CAArB;AACA,QAAM,eAAe,GAAwB,wEAAwB,EAArE;AACA,QAAM,CAAC,kBAAD,EAAqB,qBAArB,IAA8C,sDAAQ,CAAC,KAAD,CAA5D;AAEA,yDAAS,CAAC,MAAK;AACb,uBAAmB,CAAC,MAAM,eAAP,CAAnB;AACD,GAFQ,EAEN,CAAC,4FAAe,eAAf,CAAD,EAAkC,mBAAlC,CAFM,CAAT;AAIA,QAAM,2BAA2B,GAAG,CAClC,MADkC,EAElC,QAFkC,KAGhC;AACF,yBAAqB,CAAC,GAAG,KAAK,8CAAM,CAAC,UAAhB,CAArB;AACA,uBAAmB,CAAC,KAAK,IAAG;AAC1B;AACA,UACG,gBAAgB,CAAC,MAAM,CAAC,EAAR,CAAhB,IAA+B,MAAM,CAAC,SAAvC;AACA;AACC,wCAAQ,CAAC,WAAT,2CAAsB,KAAtB,MAAgC,SAAhC;AACC,gDAAgB,CAAC,MAAM,CAAC,EAAR,CAAhB,qEAA6B,WAA7B,4CAA0C,KAA1C,MAAoD,SADrD;AAEC,YAAM,CAAC,aALX,EAME;AACA,gBAAQ,CAAC,4EAAc,CAAC,MAAM,CAAC,EAAR,EAAY,QAAZ,CAAf,CAAR;AACD;AAED,WAAK,CAAC,MAAM,CAAC,EAAR,CAAL,GAAmB;AACjB,WAAI,gFAAkB,CAAC,MAAM,CAAC,EAAR,CADL;AAEjB,WAAG,QAFc,EAAnB;;AAID,KAhBkB,CAAnB;AAiBD,GAtBD;AAwBA,QAAM,WAAW,GAAG,MAAK;AACvB,UAAM,SAAS,GAAG,yFAAY,gBAAZ,CAAlB;AACA,4GAAS,MAAT,UAAS,EAAS,QAAQ,IAAG;AAC3B,UAAI,gBAAgB,CAAC,QAAD,CAApB,EAAgC;AAC9B,gBAAQ,CAAC,4EAAc,CAAC,QAAD,EAAW,gBAAgB,CAAC,QAAD,CAA3B,CAAf,CAAR;AACD;AACF,KAJQ,CAAT;AAKD,GAPD;AASA,kEAAgB,CAAC,gBAAD,EAAmB,mBAAnB,CAAhB;AAEA,QAAM,kBAAkB,GAAG,2FAAc,gBAAd,CAA3B;AACA,QAAM,iBAAiB,GAAG,2FAAc,eAAd,CAA1B;AACA,QAAM,eAAe,GACnB,uEAAe,CACb,oEAAoB,CAAC,gBAAD,CADP,EAEb,oEAAoB,CAAC,eAAD,CAFP,EAGb,EAAE,eAAe,EAAE,IAAnB,EAHa,CAAf,IAIK,kBAAkB,CAAC,MAAnB,KAA8B,iBAAiB,CAAC,MALvD;AAOA,QAAM,aAAa,GAAG,iEAAiB,EAAvC;AAEA,SACE,4DAAC,UAAD,oFAAgB,kBAAkB,EAAlC,IAAsC,SAAS,EAAE,kDAAE,CAAC,EAAE,IAAI,EAAE,WAAR,EAAD,CAAnD;AACE,8DAAC,YAAD,oFACM,kBAAkB,CAAC,aAAD,CADxB,IAEE,SAAS,EAAE,kDAAE,CAAC,EAAE,IAAI,EAAE,CAAC,WAAT,EAAD,CAFf,EAGE,OAAO,EAAE,MAAM,gBAAgB,CAAC,IAAD,CAHjC;AAKE,8DAAC,kBAAD,kFACE,IAAI,EAAC,UADP,IAEM,kBAAkB,CAAC,eAAD,CAFxB,EALF;AASE,8DAAC,4DAAD,kFAAM,IAAI,EAAC,QAAX,IAAwB,kBAAkB,CAAC,aAAD,CAA1C,EATF,CADF;;AAYE,8DAAC,GAAD,IAAK,SAAS,EAAE,kDAAE,CAAC,EAAE,IAAI,EAAE,WAAR,EAAD,CAAlB;AACE,8DAAC,gDAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,OAAO,EAAE,WAFX,EAGE,mBAAmB,EAAE,mBAHvB,EAIE,eAAe,EAAE,eAJnB,EAKE,gBAAgB,EAAE,gBALpB,EAME,eAAe,EAAE,eANnB,GADF;AASG,GAAC,aAAD,GACC,4DAAC,+DAAD,OADD,GAEG,0EAAgB,CAAC,6DAAW,CAAC,4BAAb,CAAhB,GACF,4DAAC,UAAD,IACE,QAAQ,MADV,EAEE,QAAQ,EAAE,MAFZ,EAGE,gBAAgB,EAAE,8CAAM,CAAC,UAH3B,EAIE,SAAS,EAAE,eAAe,GAAG,8CAAM,CAAC,UAAV,GAAuB,SAJnD;AAME,8DAAC,2DAAD,CAAM,OAAN,IACE,GAAG,EAAE,2DAAC,CAAC,gBAAgB,YAAY,CAAC,MAAM,GAApC,CADR,EAEE,GAAG,EAAE,8CAAM,CAAC,UAFd;AAIG,iBAAe,IACd,4DAAC,gEAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,QAAQ,EAAE,CAAC,eAFb,EAGE,QAAQ,EAAE,MAAM,kBAAkB,CAAC,IAAD,CAHpC,EAIE,WAAW,EAAE,eAJf,GALJ;AAYE,8DAAC,uEAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,iBAAiB,EAAE,iBAFrB,EAGE,uBAAuB,EAAE,2BAH3B,GAZF,CANF;;AAwBE,8DAAC,2DAAD,CAAM,OAAN,IACE,QAAQ,EAAE,CAAC,CAAC,eADd,EAEE,GAAG,EAAE,2DAAC,CAAC,gBAAgB,qBAAqB,CAAC,MAAM,GAA7C,CAFR,EAGE,GAAG,EAAE,8CAAM,CAAC,UAHd;AAKE,8DAAC,oDAAD,IACE,eAAe,EAAE,kBADnB,EAEE,QAAQ,EAAE,CAAC,eAFb,EAGE,gBAAgB,EAAE,gBAHpB,EAIE,kBAAkB,EAAE,kBAJtB,EAKE,uBAAuB,EAAE,2BAL3B,GALF,CAxBF,CADE;;AAwCF,8DAAC,uEAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,iBAAiB,EAAE,iBAFrB,EAGE,uBAAuB,EAAE,2BAH3B,GAnDJ,CAZF,CADF;;;AAyED,CA7ID,C,cAAM,S,oZAM4C,mD,EAG/B,uD,EACE,qD,EAGH,kD,EAE6B,gE,EAwC7C,wD,EAWsB,yD;AA6ET,S,CAAA,yE,iLAvPT,S,8KAEO,kB,uLACA,kB,uLAEP,U,+KAUA,G,wKAgCA,Y,iLAkCA,kB,uLAKA,U,+KAkBA,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCxJN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AAUA;AAEA;AAEO,MAAM,aAAa,GAAG,MAC3B,+DAAW,CACT,KAAK,IAAI,KAAK,CAAC,aAAN,CAAoB,UAApB,IAAkC,EADlC,CADN,C,cAAM,a,0BACX,uD;AAIK,MAAM,UAAU,GAAG,MACxB,+DAAW,CAAe,KAAK,IAAI,KAAK,CAAC,aAAN,CAAoB,OAA5C,CADN,C,cAAM,U,0BACX,uD;AAEK,MAAM,wBAAwB,GAAG,MAAK;AAC3C,QAAM,QAAQ,GAAG,+DAAW,CAC1B,KAAK,IAAI,KAAK,CAAC,QADW,CAA5B;AAIA,SAAO,4SAAc,QAAd;AACI,MAAD,0BACN,oHAAM,CAAC,IAAI,CAAC,EAAN,CAAN,kBAA2B,+EAA3B,CADM,EADH;AAKH,GAAC,IAAD,EAAO,IAAP,MAAiC,EAAE,GAAG,IAAL,EAAW,CAAC,IAAI,CAAC,EAAN,GAAW,IAAtB,EAAjC,CALG,EAMH,EANG,CAAP;AAQD,CAbM,C,cAAM,wB,kCACM,uD;AAcZ,MAAM,gBAAgB,GAAG,CAC9B,gBAD8B,EAE9B,mBAF8B,KAG5B;AACF,QAAM,OAAO,GAAG,UAAU,EAA1B;AACA,QAAM,eAAe,GAAG,wBAAwB,EAAhD;AAEA,0DAAS,CAAC,MAAK;AACb;AACA,wMAAY,gBAAZ,mBAAsC,UAAU,IAAG;AACjD,UAAI,CAAC,OAAO,CAAC,UAAD,CAAZ,EAA0B;AACxB,2BAAmB,CAAC,KAAK,IAAG;AAC1B,iBAAO,KAAK,CAAC,UAAD,CAAZ;AACD,SAFkB,CAAnB;AAGD;AACF,KAND;AAOD,GATQ,EASN,CAAC,eAAD,EAAkB,gBAAlB,EAAoC,OAApC,EAA6C,mBAA7C,CATM,CAAT;AAUD,CAjBM;AAmBP;cAnBa,gB,wFAIK,U,EACQ,wB,GAenB,MAAM,iBAAiB,GAAG,MAAK;AACpC,QAAM,CAAC,aAAD,EAAgB,gBAAhB,IAAoC,uDAAQ,CAAU,KAAV,CAAlD;AACA,QAAM,OAAO,GAAG,UAAU,EAA1B;AACA,QAAM,MAAM,GAAG,+DAAW,CAAyB,KAAK,IAAI,KAAK,CAAC,MAAxC,CAA1B;AAEA;AACA,MAAI,qBAAqB,GAAG,CAA5B;AACA,MAAI,CAAC,aAAL,EAAoB;AAClB,yBAAqB,GAAG,QAAQ,CAAC,gBAAT,CACtB,0BADsB,EAEtB,MAFF;AAGD;AACD,0DAAS,CAAC,MAAK;AACb,QAAI,aAAJ,EAAmB;AACjB;AACD;AAED,QAAI,kMAAc,OAAd,mBAA4B,CAAC,EAAE,aAAF,EAAD,KAAuB,aAAnD,CAAJ,EAAuE;AACrE,sBAAgB,CAAC,IAAD,CAAhB;AACA;AACD;AAED;AACA;AACA,QAAI,aAAJ;AACA,QAAI,qBAAqB,KAAK,CAA9B,EAAiC;AAC/B,mBAAa,GAAG,yFAAW,MAAK;AAC9B,wBAAgB,CAAC,IAAD,CAAhB;AACD,OAFe,EAEb,IAFa,CAAhB;AAGD;AAED;AACA,QAAI,qBAAqB,GAAG,CAAxB,IAA6B,aAAa,KAAK,SAAnD,EAA8D;AAC5D,kBAAY,CAAC,aAAD,CAAZ;AACD;AAED,UAAM,oBAAoB,GAAG,oMAAc,MAAd,mBAC3B,CAAC,EAAE,WAAF,EAAD,KAAqB,WAAW,KAAK,SADV,EAE3B,MAFF;AAGA,QACE,qBAAqB,GAAG,CAAxB;AACA,wBAAoB,IAAI,qBAF1B,EAGE;AACA,sBAAgB,CAAC,IAAD,CAAhB;AACD;AACF,GAjCQ,EAiCN,CAAC,MAAD,EAAS,aAAT,EAAwB,qBAAxB,CAjCM,CAAT;AAmCA,SAAO,aAAP;AACD,CAhDM,C,cAAM,iB,sHAEK,U,EACD,uD,oLA9CJ,a,iLAKA,U,8KAGA,wB,4LAeA,gB,oLAoBA,iB;;;;;;;;;;;;;;;;;;;;;;;;;wSC5Eb;;;;;;;;;;;;;;;;;AAiBG;AAKH,IAAY,MAAZ;AAAA,WAAY,MAAZ,EAAkB;AAChB;AACA;AACD,CAHD,EAAY,MAAM,KAAN,MAAM,MAAlB;AAKM,SAAU,0BAAV,CACJ,OADI,EACa;AAEjB,QAAM,eAAe,GAAG,EAAxB;AACA,wGAAO,MAAP,QAAO,EAAS,MAAM,IAAG;AACvB,UAAM,CAAC,QAAD,IAAa,MAAM,CAAC,gBAAP,IAA2B,EAA9C;AACA,QAAI,QAAJ,EAAc;AACZ,UAAI,CAAC,eAAe,CAAC,QAAD,CAApB,EAAgC;AAC9B,uBAAe,CAAC,QAAD,CAAf,GAA4B,EAA5B;AACD;AACD,qBAAe,CAAC,QAAD,CAAf,CAA0B,IAA1B,CAA+B,MAA/B;AACD;AACF,GARM,CAAP;AASA,SAAO,eAAP;AACD;AAEM,MAAM,oBAAoB,GAAI,IAAD,yBAClC,mMAAc,IAAd,kBACE,CAAC,IAAD,EAAO,IAAP,MAAiB,EAAE,GAAG,IAAL,EAAW,CAAC,IAAI,CAAC,EAAN,GAAW,IAAI,CAAC,aAA3B,EAAjB,CADF,EAEE,EAFF,CADkC,EAA7B,C,iLArBK,M,0KAKI,0B,8LAgBH,oB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC3Cb;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;;AAIO,MAAM,YAAY,GAAG,GAArB;AAEA,MAAM,UAAU,GAAG,wDAAM,CAAC,IAAI;;WAE1B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,KAAK;;aAEvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,KAAK;;AAErD,CANM;AAQA,MAAM,iBAAiB,GAAG,wDAAM,CAAC,IAAI;WACjC,YAAY;;WAEZ,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;AACrD,CAJM;AAMA,MAAM,kBAAkB,GAAG,wDAAM,CAAC,GAAG;WACjC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,KAAK;aACvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;0BACpB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;;aAIzD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,IAAI;;AAEpD,CATM;AAWA,MAAM,eAAe,GAAG,gEAAM,CAAC,2DAAD,CAAM;WAChC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;AACtD,CAFM;AAIA,MAAM,cAAc,GAAG,wDAAM,CAAC,IAAI;sBACnB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,gBAAgB;;;;;;;;;;;;;;;;;;aAkB9C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,KAAK;;;0BAG5B,yDAAkB;;AAE3C,CAxBM;AA0BP,MAAM,mBAAmB,GAAG,gEAAM,CAAC,oEAAD,CAAkB;IAChD,CAAC,EAAE,KAAF,EAAD,KAAe;;;;+BAIY,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;uBACrC,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;;;;;;;;;;;;;;sBAiBnB,KAAK,CAAC,QAAN,GAAiB,CAAC;oBACpB,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;;;qBAMjB,KAAK,CAAC,QAAN,GAAiB,CAAC;uBAChB,KAAK,CAAC,QAAQ;wBACb,KAAK,CAAC,QAAN,GAAiB,CAAC;sBACpB,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;;;mBAMrB,YAAY;kBACb,KAAK,CAAC,QAAN,GAAiB,CAAC;iBACnB,KAAK,CAAC,QAAQ;UACrB,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;iBAIX,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;yBACpB,KAAK,CAAC,YAAY;4BACf,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;mBAGtC,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,IAAI;;;;;;;;;;;;;;;;;;;AAmB3C;AACF,CAvED;AAyEA,MAAM,YAAY,GAAG,wDAAM,CAAC,GAAG;IAC3B,CAAC,EAAE,KAAF,EAAD,KAAe;aACN,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;iBACxB,KAAK,CAAC,UAAN,CAAiB,KAAjB,CAAuB,CAAC;mBACtB,KAAK,CAAC,QAAN,GAAiB,CAAC;qBAChB,KAAK,CAAC,QAAN,GAAiB,CAAC;oBACnB,KAAK,CAAC,QAAN,GAAiB,CAAC;AACnC;AACF,CARD;AAqBA,MAAM,UAAU,GAAwB,CAAC,EACvC,MADuC,EAEvC,cAFuC,EAGvC,QAHuC,EAIvC,eAJuC,EAKvC,SAAS,GAAG,EAL2B,EAMvC,cAAc,GAAG,EANsB,EAOvC,aAPuC,EAQvC,QARuC,EAAD,KAUtC,2DAAC,mBAAD,IACE,EAAE,EAAC,qBADL,EAEE,IAAI,EAAC,eAFP,EAGE,WAAW,EAAC,MAHd,EAIE,QAAQ,EAAE,QAJZ,EAKE,SAAS,EAAE,eALb,EAME,MAAM,EAAE,MANV,EAOE,OAAO,MAPT,EAQE,kBAAkB,EAAE;AAClB,QAAI,EAAE,2DAAC,YAAD,QAAe,2DAAC,CAAC,SAAD,CAAhB,CADY;AAElB,SAAK,EACH,2DAAC,kBAAD,IACE,OAAO,EAAE,MAAK;AACZ,cAAM,CAAC,EAAD,EAAK,KAAL,CAAN;AACA,iGAAW,MAAK;AACd,gBAAM,OAAO,GAAG,QAAQ,CAAC,cAAT,CAAwB,qBAAxB,CAAhB;AACA,cAAI,OAAJ,EAAa;AACX,kBAAM,OAAO,GAAG,OAAO,CAAC,sBAAR,CACd,mBADc,EAEd,CAFc,CAAhB;AAGA,mBAAO,CAAC,SAAR,GAAoB,OAAO,CAAC,YAA5B;AACD;AACF,SARD,EAQG,CARH;AASD,OAZH;AAcE,+DAAC,yDAAD,OAdF,EAcmB,GAdnB;AAeE,yEAAM,aAAU,mBAAhB,EAAoC,cAAW,YAA/C;AACG,+DAAC,CAAC,YAAD,CADJ,CAfF,CAHgB,EARtB;;;;AAiCG,mGAAS,MAAT,UAAS,EAAK,EAAE,IACf,2DAAC,oEAAD,CAAkB,OAAlB,IACE,GAAG,EACD,2DAAC,cAAD,IAAgB,SAAS,EAAE,cAAc,CAAC,EAAD,CAAd,GAAqB,SAArB,GAAiC,EAA5D;AACE,6DAAC,iBAAD;AACG,gBAAc,CAAC,EAAD,CAAd,GAAqB,2DAAC,CAAC,WAAD,CAAtB,GAAsC,cAAc,CAAC,EAAD,CADvD,CADF;;AAIG,gBAAc,CAAC,EAAD,CAAd,IACC,2DAAC,UAAD,IACE,IAAI,EAAC,QADP,EAEE,aAAU,aAFZ,EAGE,QAAQ,EAAE,CAHZ,EAIE,OAAO,EAAE,MAAM,aAAa,CAAC,EAAD,CAJ9B;AAMG,6DAAC,CAAC,OAAD,CANJ,CALJ,CAFJ;;AAkBE,KAAG,EAAE,EAlBP,EAmBE,SAAS,EACP,cAAc,CAAC,EAAD,CAAd,GAAqB,uHAArB,GAA6B,2DAAC,eAAD,IAAiB,IAAI,EAAC,OAAtB,GApBjC;;AAwBI;AACA,QAAQ,CAAC,EAAD,CAzBZ,CADQ,CAjCZ,CAVF,C;;;AA4Ee,U,CAAA,yE,iLAnOF,Y,+LAEA,U,6LAQA,iB,oMAMA,kB,qMAWA,e,kMAIA,c,iMA0BP,mB,sMAyEA,Y,+LAqBA,U;;;;;;;;;;;;;;;;;;;;;;wSCjLN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;;AAUA,MAAM,eAAe,GAAG,wDAAM,CAAC,GAAyB;;;;;gBAKxC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,EAAE;iBACjC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAjB,GAAqB,CAAC;;;qBAGjC,CAAC,EAAE,KAAF,EAAS,OAAT,EAAD,KAAyB,OAAO,GAAG,KAAK,CAAC,QAAT,GAAoB,CAAE;;;;qBAItD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;AAErD,CAfD;AAiBA,MAAM,kBAAkB,GAAI,KAAD,IAAmC;AAC5D,QAAM,EAAE,OAAO,GAAG,KAAZ,EAAmB,KAAnB,EAA0B,QAA1B,EAAoC,QAApC,KAAiD,KAAvD;AACA,QAAM,CAAC,SAAD,EAAY,YAAZ,IAA4B,sDAAQ,CAAC,OAAD,CAA1C;AACA,SACE,2DAAC,eAAD,IAAiB,OAAO,EAAE,SAA1B;AACE,6DAAC,8DAAD,IACE,SAAS,EAAC,UADZ,EAEE,OAAO,EAAE,SAFX,EAGE,QAAQ,EAAE,CAAC,IAAG;AACZ,YAAM,KAAK,GAAG,CAAC,CAAC,MAAF,CAAS,OAAvB;AACA,kBAAY,CAAC,KAAD,CAAZ;AACA,UAAI,QAAJ,EAAc;AACZ,gBAAQ,CAAC,KAAD,CAAR;AACD;AACF,KATH;AAWG,OAXH,CADF;;AAcG,WAAS,IAAI,QAdhB,CADF;;AAkBD,CArBD,C,cAAM,kB;iLAjBA,e,6NAiBA,kB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC9CN;;;;;;;;;;;;;;;;;AAiBG;AACH;AAEA;AACA;AACA;AACA;AACA;;AAiBA,MAAM,UAAU,GAAG,IAAI,kFAAvB;AAEA,MAAM,iBAAiB,GAAG,4EAAY,CACpC,yDAAc,CAAC,GADqB,EAEpC,UAFoC,EAGpC,CAAC,EAAE,QAAF,EAAD,KAAkB,QAAQ,IAAI,EAHM,CAAtC;AAMA;AACA;AACM,SAAU,YAAV,CAAuB,EAC3B,IAD2B,EAE3B,QAF2B,EAG3B,SAH2B,EAI3B,KAJ2B,EAK3B,QAL2B,EAAvB,EAMc;AAClB,QAAM,EAAE,cAAF,KAAqB,wFAAS,EAApC;AACA,QAAM,gBAAgB,GAAG,yDAAW,CAAC,MAAK;AACxC,QAAI,CAAC,SAAL,CAAe;AACb,MAAE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,QAAtB,CAAR,EAAyC,OAAO,EAAE,KAAlD,EAAyD,KAAK,EAAE,IAAhE,EADa,CAAf;;AAGD,GAJmC,EAIjC,CAAC,IAAD,EAAO,QAAP,CAJiC,CAApC;AAMA,0FAAe,CAAC,SAAD,EAAY,QAAQ,IAAG;AACpC,QAAI,QAAQ,IAAI,IAAhB,EAAsB;AACpB,sBAAgB;AACjB;AACF,GAJc,CAAf;AAMA,WAAS,WAAT,GAAoB;AAClB,QAAI,SAAS,IAAI,IAAjB;AAAuB,WAAO,EAAP;AACvB,WAAO,iBAAiB,CAAC;AACvB,cAAQ,EAAE,mBAAmB,SAAS,EADf,EAAD,CAAjB;AAEJ,QAFI,CAGL,CAAC,EAAE,IAAI,EAAE,EAAE,MAAF,EAAR,EAAD,KAAyB;AACvB,YAAM,OAAO,GAAG,kNAAM,CAAC,OAAP;AACR,SAAD,IAAc,GAAG,CAAC,WADT;AAER,OAAC,CAAD,EAAY,CAAZ,KAA0B,CAAC,CAAC,aAAF,CAAgB,CAAhB,CAFlB,CAAhB;AAGA,UAAI,CAAC,sGAAO,MAAP,QAAO,EAAU,KAAV,CAAZ,EAA8B;AAC5B,wBAAgB;AACjB;AACD,aAAO,OAAP;AACD,KAXI,EAYL,MAAM,WAAN,IAAoB;AAClB,YAAM,EAAE,KAAF,EAAS,OAAT,KAAqB,MAAM,4FAAoB,CAAC,WAAD,CAArD;AACA,UAAI,SAAS,GAAG,OAAO,IAAI,KAAX,IAAoB,2DAAC,CAAC,uBAAD,CAArC;AACA,UAAI,OAAO,KAAK,WAAhB,EAA6B;AAC3B,iBAAS,GAAG,2DAAC,CAAC,mDAAD,CAAb;AACD;AACD,oBAAc,CAAC,SAAD,CAAd;AACA,aAAO,EAAP;AACD,KApBI,CAAP;AAsBD;AAED,SACE,4DAAC,iEAAW;AACV;AADF,MAEE,GAAG,EAAE,SAAS,IAAI,IAAb,GAAoB,cAApB,GAAqC,SAF5C,EAGE,UAAU,EAAE,SAAS,IAAI,IAH3B,EAIE,KAAK,EAAE,KAJT,EAKE,QAAQ,EAAE,QALZ,EAME,OAAO,EAAE,KANX,EAOE,WAAW,EAAE,WAPf,EAQE,cAAc,MARhB,CAQiB;AARjB,MASE,YAAY,MATd,GADF;AAaD,C,cA3De,Y,4FAOa,gF,EAO3B,gF,oLAxBI,U,kNAEA,iB,yNAQU,Y;;;;;;;;;;;;;;;;;;;;;;wSCnDhB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;;AAoBA,MAAM,YAAY,GAA0B,CAAC,EAC3C,QAD2C,EAE3C,UAF2C,EAG3C,IAH2C,EAI3C,WAJ2C,EAK3C,QAL2C,EAM3C,eAN2C,EAAD,KAOvC;AACH,QAAM,CAAC,OAAD,EAAU,UAAV,IAAwB,sDAAQ,CAAC,UAAD,CAAtC;AACA,QAAM,UAAU,GAAG,CAAC,IAAI,CAAC,aAAL,CAAmB,SAAnB,KAAiC,EAAlC,EAAsC,QAAtC,CAAnB;AACA,QAAM,WAAW,GAAG,UAAH,oBAAG,UAAU,CAAE,uBAAhC;AAEA,yDAAS,CAAC,MAAK;AACb,QAAI,CAAC,UAAD,IAAe,WAAW,KAAK,IAAnC,EAAyC;AACvC,gBAAU,CAAC,KAAD,CAAV;AACD,KAFD;AAEO;AACL,gBAAU,CAAC,IAAD,CAAV;AACD;AACF,GANQ,EAMN,CAAC,UAAD,EAAa,WAAb,CANM,CAAT;AAQA,SAAO,OAAO,GACZ,2DAAC,8DAAD,IAAS,QAAQ,EAAC,iBAAlB,GADY,GAGZ,2DAAC,yDAAD,IACE,MAAM,EAAE,EADV,EAEE,KAAK,EAAE,GAFT,EAGE,UAAU,EAAE,4DAAU,CAAC,mBAHzB,EAIE,SAAS,EAAE,CAAC,0DAAQ,CAAC,aAAV,CAJb,EAKE,QAAQ,EAAE;AACV;AANF,MAOE,WAAW,EACT,UAAU,GAAG,UAAH,oBAAG,UAAU,CAAE,uBAAf,GAAyC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAD,CAAR,EAAD,CARvD,EAUE,SAAS,EAAE,UAAF,oBAAE,UAAU,CAAE,UAVzB,EAWE,KAAK,EAAE,EAAE,WAAF,EAXT,EAYE,eAAe,EAAE,eAZnB,EAaE,WAAW,2BAAE,UAAU,CAAC,eAAb,qBAAE,sBAA4B,WAb3C,GAHF;AAmBD,CAvCD,C,cAAM,Y;AAyCS,Y,CAAA,yE,iLAzCT,Y;;;;;;;;;;;;;;;;;;;;;;;;;;wSCvCN;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AACA;AACA;AAEA;AACA;;AAaA,MAAM,OAAO,GAAG,wDAAM,CAAC,GAAG;;;;qBAIL,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;;AAEjD,CAND;AAQA,MAAM,aAAa,GAAG,gEAAM,CAAC,0DAAI,CAAC,IAAN,CAAW;;AAEtC,CAFD;AAIA,MAAM,WAAW,GAAyB,CAAC,EACzC,eAAe,GAAG,EADuB,EAEzC,WAFyC,EAGzC,SAHyC,EAIzC,WAJyC,EAKzC,KALyC,EAMzC,gBANyC,EAOzC,OAPyC,EAAD,KAQrC;AACH,QAAM,YAAY,GAAG,KAAK,IAAI,mEAAoB,CAAC,OAAD,CAAlD;AACA,QAAM,cAAc,GAAG,2DAAY,CAAC,YAAD,EAAe,OAAf,CAAZ;AACnB,gDAAO,CAAC,GADW;AAEnB,gDAAO,CAAC,QAFZ;AAIA,SACE,2DAAC,OAAD;AACE,6DAAC,aAAD,IACE,IAAI,EAAE,CAAC,GAAG,eAAJ,EAAqB,SAArB,CADR,EAEE,YAAY,EAAE,cAFhB;AAIE,6DAAC,0DAAD,CAAO,KAAP,IACE,QAAQ,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,KAAF,EAAV,EAAD,KAA0B;AAClC,UAAI,KAAK,KAAK,8CAAO,CAAC,GAAtB,EAA2B;AACzB,cAAM,KAAK,GAAG,mEAAoB,CAAC,OAAD,CAAlC;AACA,wBAAgB,CAAC;AACf,eADe,EAAD,CAAhB;;AAGD;AACD,iBAAW;AACZ,KATH;AAWE,6DAAC,0DAAD,IAAO,KAAK,EAAE,8CAAO,CAAC,GAAtB,IAA4B,2DAAC,CAAC,qBAAD,CAA7B,CAXF;AAYE,6DAAC,0DAAD,IAAO,KAAK,EAAE,8CAAO,CAAC,QAAtB;AACG,6DAAC,CAAC,0BAAD,CADJ,CAZF,CAJF,CADF;;;;AAsBE,6DAAC,gEAAD,CAAY,IAAZ,IAAiB,IAAI,EAAC,WAAtB;AACG,GAAC,WAAD,WAAC,WAAD,GAAgB,cAAhB,MAAoC,8CAAO,CAAC,QAA5C;AACG,6DAAC,CAAC,sDAAD,CADJ;AAEG,6DAAC,CAAC,6DAAD,CAHP,CAtBF;;AA2BG,GAAC,WAAD,WAAC,WAAD,GAAgB,cAAhB,MAAoC,8CAAO,CAAC,QAA5C,IACC,2DAAC,oDAAD,IACE,gBAAgB,EAAE,gBADpB,EAEE,YAAY,EAAE,YAFhB,EAGE,SAAS,EAAE,SAHb,EAIE,WAAW,EAAE,WAJf,EAKE,OAAO,EAAE,OALX,GA5BJ;AAoCE,6DAAC,aAAD,IACE,IAAI,EAAE,CAAC,GAAG,eAAJ,EAAqB,OAArB,CADR,EAEE,MAAM,MAFR,EAGE,YAAY,EAAE,YAHhB,GApCF,CADF;;AA4CD,CA1DD,C;AA4De,W,CAAA,yE,iLAxET,O,2NAQA,a,iOAIA,W;;;;;;;;;;;;;;;;;;;;;;;;;wSClDN;;;;;;;;;;;;;;;;;AAiBG;AAEH;AACA;AACA;AACA;;AAYA,MAAM,WAAW,GAAyB,CAAC,EACzC,SADyC,EAEzC,YAFyC,EAGzC,WAHyC,EAIzC,gBAJyC,EAKzC,OALyC,EAAD,KAMrC;AACH,QAAM,CAAC,YAAD,EAAe,eAAf,IAAkC,sDAAQ,CAAW;AACzD,gFADyD,CAAX,CAAhD;;AAIA,QAAM,EAAE,QAAF,EAAY,MAAZ,KAAuB,iEAAkB,CAAC,OAAD,CAA/C;AACA,QAAM,CAAC,gBAAD,EAAmB,mBAAnB,IAA0C,sDAAQ,CAAU,IAAV,CAAxD;AAEA,QAAM,YAAY,GAAI,YAAD,IAA2B;AAC9C,mBAAe,CAAC,YAAD,CAAf;AACA,uBAAmB,CAAC,KAAD,CAAnB;AACD,GAHD;AAKA,QAAM,WAAW,GAAI,WAAD,IAA0B;AAC5C,eAAW;AACX,UAAM,KAAK,GAAG,8DAAe,CAAC,WAAD,EAAc,MAAd,CAA7B;AACA,QAAI,OAAO,KAAK,SAAhB,EAA2B;AACzB,WAAK,CAAC,QAAN,GAAiB,CAAC,GAAG,IAAI,iFAAI,CAAC,GAAG,KAAK,CAAC,QAAV,EAAoB,OAApB,CAAR,CAAJ,CAAjB;AACD;AACD,oBAAgB,CAAC;AACf,WADe,EAAD,CAAhB;;AAGD,GATD;AAWA,QAAM,WAAW,GAAG,qDAAO,CACzB,MAAM,kEAAmB,CAAC,EAAE,IAAI,SAAS,IAAI,YAAjB,CAAF,EAAD,EAAqC,MAArC,CADA,EAEzB,CAAC,SAAD,EAAY,YAAZ,EAA0B,MAA1B,CAFyB,CAA3B;AAKA,SACE,2DAAC,0DAAD,IACE,SAAS,MADX,EAEE,UAAU,EAAE,KAFd,EAGE,QAAQ,EAAE,YAHZ,EAIE,YAAY,EAAE,YAJhB,EAKE,gBAAgB,EAAE,gBALpB,EAME,OAAO,EAAE,WANX,EAOE,WAAW,EAAE,WAPf,EAQE,QAAQ,EAAE,QARZ,GADF;AAYD,CA/CD,C,cAAM,W,yNAWyB,yD;AAsChB,W,CAAA,yE,iLAjDT,W;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSClCN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AAEA;AACA;AAKA;AAEA;AACM,SAAU,kBAAV,CACJ,cADI,EACmB;AAKvB,QAAM,MAAM,GAAG,+DAAW,CACxB,CAAC,EAAE,eAAe,EAAE,EAAE,OAAF,EAAnB,EAAD,KAAsC,OADd,CAA1B;AAIA,QAAM,MAAM,GAAG,+DAAW,CAAoB,CAAC,EAAE,MAAF,EAAD,KAAgB,MAApC,CAA1B;AACA,QAAM,IAAI,GAAG;AACX,YAAQ,EAAE,EADC;AAEX,OAAG,EAAE,8EAFM;AAGX,QAAI,EAAE,qFAHK;AAIX,SAAK,EAAE,2DAAC,CAAC,YAAD,CAJG,EAAb;;AAOA;AACA,QAAM,UAAU,GAAG,qDAAO,CACxB,2BACE,mMAAc,MAAd,kBAAuC,CAAC,GAAD,EAAM,GAAN,KAAa;AAClD,YAAM,EAAE,EAAF,EAAM,OAAO,GAAG,EAAhB,EAAoB,IAApB,EAA0B,IAA1B,KAAmC,GAAzC;AACA,UAAI,IAAI,KAAK,4EAAT,IAAuB,cAAc,MAAK,IAAL,oBAAK,IAAI,CAAE,OAAX,CAAzC,EAA6D;AAC3D,eAAO,CAAC,GAAG,IAAI,iFAAI,CAAC,GAAG,GAAJ,EAAS,GAAG,OAAZ,EAAqB,EAArB,CAAR,CAAJ,CAAP;AACD;AACD,aAAO,GAAP;AACD,KAND,EAMG,EANH,CADF,EADwB,EASxB,CAAC,MAAD,EAAS,cAAT,CATwB,CAA1B;AAYA,uDAAO,CAAC,MAAK;AACX,4DAAS,CAAC,MAAM,CAAC,8EAAD,CAAP,EAA4B,IAA5B,EAAkC,MAAlC,EAA0C,MAA1C,EAAkD,UAAlD,CAAT;AACD,GAFM,EAEJ,CAAC,MAAD,EAAS,MAAT,EAAiB,IAAjB,CAFI,CAAP;AAIA,SAAO,EAAE,QAAQ,EAAE,CAAC,IAAD,CAAZ,EAAoB,MAApB,EAAP;AACD,C,cApCe,kB,qFAMC,uD,EAIA,uD,oLAVD,kB;;;;;;;;;;;;;;;wSC/BhB;;;;;;;;;;;;;;;;;AAiBG;AAEH,IAAY,OAAZ;AAAA,WAAY,OAAZ,EAAmB;AACjB;AACA;AACD,CAHD,EAAY,OAAO,KAAP,OAAO,MAAnB,E,iLAAY,O;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uSCAZ;AAKA;AAIO,MAAM,gBAAgB,GAAG,CAAC,EAAE,IAAF,EAAQ,IAAR,EAAD,EAA6B,MAA7B,6DAC9B,CAAC,IAAI,KAAK,2EAAT,IAAqB,IAAI,KAAK,6EAA9B,IAA4C,IAAI,KAAK,sFAAtD;AACC,GAAC,MAAD,IAAW,+BAAM,CAAC,IAAD,oBAAC,IAAI,CAAE,OAAP,CAAN,mEAAuB,QAAvB,2CAAiC,QAAjC,MAA8C,YAD1D,CAD8B,EAAzB;AAIA,MAAM,SAAS,GAAG,CACvB,IADuB,EAEvB,QAFuB,EAGvB,MAHuB,EAIvB,MAJuB,EAKvB,UALuB,KAMrB;AACF,MAAI,UAAU,GAAa,QAA3B;AACA,MACE,gBAAgB,CAAC,IAAD,EAAO,MAAP,CAAhB;AACA,MAAI,CAAC,IAAL,KAAc,sFADd;AAEA,2GAAU,MAAV,WAAU,EAAU,IAAI,CAAC,EAAf,CAHZ,EAIE;AACA,UAAM,eAAe,GAAG;AACtB,SAAG,EAAE,IAAI,CAAC,EADY;AAEtB,WAAK,EACH,IAAI,CAAC,IAAL,CAAU,iBAAV;AACA,UAAI,CAAC,IAAL,CAAU,SADV;AAEA,UAAI,CAAC,IAAL,CAAU,IAFV;AAGA,UAAI,CAAC,EAAL,CAAQ,QAAR,EANoB;AAOtB,cAAQ,EAAE,EAPY,EAAxB;;AASA,YAAQ,CAAC,QAAT,CAAkB,IAAlB,CAAuB,eAAvB;AACA,cAAU,GAAG,eAAb;AACD;AACD,gHAAI,CAAC,QAAL,iBAAsB,KAAK,IACzB,SAAS,CAAC,MAAM,CAAC,KAAD,CAAP,EAAgB,UAAhB,EAA4B,MAA5B,EAAoC,MAApC,EAA4C,UAA5C,CADX;AAGD,CA5BM;AA8BP,MAAM,mBAAmB,GAAG,CAAC,MAAD,EAAiB,IAAjB,oDAAkC;AAC5D,MAAI,uBAAM,CAAC,IAAD,CAAN,kCAAc,QAAd,KAA0B,EAA9B,CAD4D;AAE5D,KAAG,0SAAc,MAAd;AAEC,KAAG,IACD,GAAG,CAAC,OAAJ;AACA,KAAG,CAAC,OAAJ,CAAY,GAAG,CAAC,OAAJ,CAAY,MAAZ,GAAqB,CAAjC,MAAwC,IADxC;AAEA,GAAC,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,OAAJ,CAAY,GAAG,CAAC,OAAJ,CAAY,MAAZ,GAAqB,CAAjC,CAAD,CAAP,CALpB;AAOI,GAAC,EAAE,EAAF,EAAD,KAAY,EAPhB,CAFyD,CAAlC,EAA5B;;AAYA;AACA,MAAM,aAAa,GAAG,CACpB,YADoB,EAEpB,MAFoB,EAGpB,KAHoB,EAIpB,QAJoB,KAKlB;AACF,sGAAK,MAAL,MAAK,EAAS,IAAI,IAAG;AACnB,iBAAa,CACX,YADW,EAEX,MAFW,EAGX,mBAAmB,CAAC,MAAD,EAAS,IAAT,CAHR,EAIX,QAJW,CAAb;AAMA,QACE,wBAAM,CAAC,IAAD,CAAN,mCAAc,IAAd,MAAuB,6EAAvB;AACA,KAAC,uGAAQ,MAAR,SAAQ,mBAAU,MAAM,CAAC,IAAD,CAAhB,qBAAU,cAAc,IAAd,CAAmB,OAA7B,CAFX,EAGE;AACA,kBAAY,CAAC,IAAb,CAAkB,IAAlB;AACD;AACF,GAbI,CAAL;AAcD,CApBD;AAsBO,MAAM,mBAAmB,GAAG,CAAC,KAAD,EAAe,MAAf,KAAiC;AAClE,QAAM,YAAY,GAAa,EAA/B;AACA,eAAa,CAAC,YAAD,EAAe,MAAf,EAAuB,CAAC,GAAG,KAAK,CAAC,QAAV,CAAvB,EAA4C,CAAC,GAAG,KAAK,CAAC,QAAV,CAA5C,CAAb;AACA,SAAO,CAAC,GAAG,IAAI,iFAAI,YAAR,CAAJ,CAAP;AACD,CAJM;AAMP;AACO,MAAM,eAAe,GAAG,CAC7B,WAD6B,EAE7B,MAF6B,KAGpB;AACT,MAAI,CAAC,WAAW,CAAC,MAAjB,EAAyB;AACvB,WAAO;AACL,cAAQ,EAAE,EADL;AAEL,cAAQ,EAAE,EAFL,EAAP;;AAID;AAED;AACA,QAAM,kBAAkB,GAAG,8MAAW,MAAX,YAAW;AAC5B,MAAI,8BAAI,wBAAM,CAAC,IAAD,CAAN,mCAAc,IAAd,MAAuB,6EAA3B,EADwB,CAAX;AAEpB,KAAG,IAAG;AACT,UAAM,OAAO,GAAG,CAAC,+EAAD,EAAoB,IAAI,sBAAM,CAAC,GAAD,CAAN,iCAAa,OAAb,KAAwB,EAA5B,CAApB,CAAhB;AACA,WAAO,oGAAO,MAAP,QAAO,EAAQ,MAAM,IAAI,gBAAgB,CAAC,MAAM,CAAC,MAAD,CAAP,CAAlC,CAAd;AACD,GALwB,CAA3B;AAMA;AACA;AACA,+GAAkB,MAAlB,mBAAkB,EAAM,CAAC,EAAD,EAAK,EAAL,KAAY,EAAE,CAAC,MAAH,GAAY,EAAE,CAAC,MAAjC,CAAlB;AACA,QAAM,QAAQ,GAAG,4GAAkB,MAAlB,mBAAkB,EACjC,OAAO,IAAI,OAAO,CAAC,kBAAkB,CAAC,CAAD,CAAlB,CAAsB,MAAtB,GAA+B,CAAhC,CADe,CAAnC;AAIA,QAAM,QAAQ,GAAa,EAA3B;AACA,QAAM,UAAU,GAAG,CAAC,MAAD,EAAiB,IAAjB,KACjB,uGAAQ,MAAR,SAAQ,EAAU,MAAV,CAAR,IAA6B,CAAC,0GAAW,MAAX,YAAW,EAAU,IAAV,CAD3C;AAEA;AACA;AACA,yMAAe,MAAf,mBAA+B,CAAC,CAAC,GAAD,EAAM,KAAN,CAAD,KAAiB;AAC9C,UAAM,OAAO,GAAG,KAAK,CAAC,OAAN,IAAiB,EAAjC;AACA,QACE,KAAK,CAAC,IAAN,KAAe,6EAAf;AACA,KAAC,+EAAD,EAAoB,GAAG,OAAvB,CADA,aACA,4GAAsC,MAAM,IAAI,UAAU,CAAC,MAAD,EAAS,GAAT,CAA1D,CAFF,EAGE;AACA,cAAQ,CAAC,IAAT,CAAc,KAAK,CAAC,IAAN,CAAW,OAAzB;AACD;AACF,GARD;AAUA,SAAO;AACL,YAAQ,EAAE,CAAC,GAAG,IAAI,iFAAI,QAAR,CAAJ,CADL;AAEL,YAFK,EAAP;;AAID,CA5CM;AA8CA,MAAM,oBAAoB,GAAI,OAAD,KAA8B;AAChE,UAAQ,EAAE,CAAC,+EAAD,CADsD;AAEhE,UAAQ,EAAE,OAAO,GAAG,CAAC,OAAD,CAAH,GAAe,EAFgC,EAA9B,CAA7B;;AAKA,MAAM,YAAY,GAAG,CAAC,KAAD,EAAe,OAAf,2BAC1B,CAAC,KAAD;AACC,OAAK,CAAC,QAAN,CAAe,CAAf,MAAsB,+EAAtB;AACC,GAAC,8GAAK,CAAC,QAAN,kBAAsB,IAAI,IAAI,IAAI,KAAK,OAAvC,EAAgD,MAHzB,EAArB,C,iLA/HM,gB,6NAIA,S,sNA8BP,mB,gOAaA,a,0NAsBO,mB,gOAOA,e,4NA8CA,oB,iOAKA,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC3Jb;;;;;;;;;;;;;;;;;AAiBG;AACH;AAgBA;AAQA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAMA,MAAM,EAAE,OAAF,KAAc,4DAApB;AAEA,MAAM,eAAe,GAAG,yDAAM,CAAC,GAAG;;;;AAIjC,CAJD;AAMA,MAAM,kBAAkB,GAAG,yDAAM,CAAC,GAAG;;;;;AAKpC,CALD;AAOO,MAAM,cAAc,GAAG,iEAAM,CAAC,6DAAD,CAAU;;mBAE3B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;;;;kBAOlC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,EAAE;;AAEnD,CAXM;AAaA,MAAM,iBAAiB,GAAG,iEAAM,CAAC,6DAAD,CAAU;;;;;;;;;;;;;;kBAc/B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,EAAE;;AAEnD,CAhBM;AAkBA,MAAM,WAAW,GAAG,yDAAM,CAAC,IAAI;WAC3B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,IAAI;eACtC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,KAAjB,CAAuB,CAAC;;AAErD,CAJM;AAMP,MAAM,aAAa,GAAG,iEAAM,CAAC,6DAAD,CAAU;;AAErC,CAFD;AAIA,MAAM,cAAc,GAAG,iEAAM,CAAC,gEAAD,CAAU;iBACtB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC,CAAlB,GAAsB,CAAC;kBACrC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC,CAAC;2BACzB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;0BAC7C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;;+BAIvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;4BAC/C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;;;;;;;;mBAUrD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;;;;AAOnD,CA1BD;AA4BA,MAAM,UAAU,GAAG,iEAAM,CAAC,4DAAD,CAAM;;;;;;;;;;;;;;;AAe9B,CAfD;AAiBA,MAAM,cAAc,GAAG,yDAAM,CAAC,IAAI;WACvB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,KAAb,CAAmB,IAAI;;kBAE/B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;AAIlD,CAPD;AASA,MAAM,UAAU,GAAG;AACjB,eAAa,EAAE;AACb,OAAG,EAAE,eADQ;AAEb,QAAI,EAAE,4DAAC,CAAC,eAAD,CAFM,EADE;;AAKjB,SAAO,EAAE;AACP,OAAG,EAAE,SADE;AAEP,QAAI,EAAE,4DAAC,CAAC,SAAD,CAFA,EALQ,EAAnB;;;AAWA,MAAM,YAAY,GAAG;AACnB,OAAK,EAAE;AACL,OAAG,EAAE,OADA;AAEL,QAAI,EAAE,4DAAC,CAAC,OAAD,CAFF,EADY;;AAKnB,UAAQ,EAAE;AACR,OAAG,EAAE,UADG;AAER,QAAI,EAAE,4DAAC,CAAC,UAAD,CAFC,EALS,EAArB;;;AAoBA;AACA,MAAM,sBAAsB,GAAG;AAC7B,kBAD6B;AAE7B,mBAF6B;AAG7B,gBAH6B,CAA/B;;AAMA,MAAM,0BAA0B,GAAG,CAAC,eAAD,EAAkB,cAAlB,CAAnC;AAEA,MAAM,mBAAmB,GAAG,CAAC,mBAAD,EAAsB,aAAtB,CAA5B;AAEA;AACA,MAAM,wBAAwB,GAAG;AAC/B,GAAC,4DAAC,CAAC,eAAD,CAAF,GAAsB,4DAAC,CAAC,OAAD,CADQ;AAE/B,GAAC,4DAAC,CAAC,cAAD,CAAF,GAAqB,4DAAC,CAAC,iBAAD,CAFS;AAG/B,GAAC,4DAAC,CAAC,aAAD,CAAF,GAAoB,4DAAC,CAAC,YAAD,CAHU;AAI/B,GAAC,4DAAC,CAAC,aAAD,CAAF,GAAoB,4DAAC,CAAC,aAAD,CAJU;AAK/B,GAAC,4DAAC,CAAC,YAAD,CAAF,GAAmB,4DAAC,CAAC,YAAD,CALW;AAM/B,GAAC,4DAAC,CAAC,UAAD,CAAF,GAAiB,4DAAC,CAAC,UAAD,CANa,EAAjC;;AASA;;;AAGG;AACH,MAAM,iBAAiB,GAAG,CACxB,EACE,QADF,EAEE,YAFF,EAGE,OAHF,EAIE,aAJF,EAKE,IALF,EAME,aANF,EADwB,EASxB,GATwB,KAUtB;AACF,QAAM,CAAC,OAAD,EAAU,UAAV,IAAwB,uDAAQ,CAAW,EAAX,CAAtC;AACA,QAAM,CAAC,YAAD,EAAe,eAAf,IAAkC,uDAAQ,CAC9C,UAAU,CAAC,aAAX,CAAyB,GADqB,CAAhD;AAGA,QAAM,CAAC,oBAAD,EAAuB,uBAAvB,IAAkD,uDAAQ,CAE9D,YAAY,CAAC,KAAb,CAAmB,GAF2C,CAAhE;AAGA,QAAM,CAAC,eAAD,EAAkB,kBAAlB,IAAwC,uDAAQ,CACpD,CAAC,EAAC,YAAD,qCAAC,YAAY,CAAE,eAAf,uCAAC,sBAA+B,WAAhC,aAAC,uBAA4C,KAA7C,CADmD,CAAtD;AAGA,QAAM,WAAW,GAAG,8DAAc,EAAlC;AACA,QAAM,CAAC,cAAD,EAAiB,iBAAjB,IAAsC,uDAAQ,EAApD;AACA,QAAM,iBAAiB,GAAG,sDAAO,CAAC,MAAK,CAAG,CAAT,EAAW,EAAX,CAAjC;AACA,QAAM,UAAU,GACd,4BAAI,CAAC,aAAL,CAAmB,SAAnB,0CAAgC,QAAhC,MAA6C,iBAD/C;AAEA,QAAM,iBAAiB,GAAG,kEAAwB,GAAG,KAArD;AACA,QAAM,oBAAoB,GAAG,4SAAe,iBAAf;AAC3B;AAD2B,oBAEnB,CAAC,GAAG,EAAE,KAAF,EAAH,CAAD,sDACN,KAAK,CAAC,SADA,qBACN,wIAA0B,2DAAQ,CAAC,aAAnC,CADM,EAFmB;AAKtB,GAAC,CAAC,GAAD,CAAD,KAAW,GALW,CAA7B;AAOA,QAAM,cAAc,GAAG,gEAAW,CAChC,CAAC,EAAE,WAAF,EAAD,KAAqB,WADW,CAAlC;AAIA;AACA,QAAM,UAAU,GAAG,CAAC,2BAAC,iBAAiB,CAAC,UAAD,oBAAC,UAAU,CAAE,UAAb,CAAlB,uCAAC,sBAA2C,KAA5C,aAAC;AACjB,iBADgB,CAApB;AAEA,QAAM,SAAS,GACb,UAAU,IAAI,CAAC,qHAAsB,MAAtB,uBAAsB,EAAU,UAAV,oBAAU,UAAU,CAAE,UAAtB,CADvC;AAEA;AACA,QAAM,eAAe,GAAG,CAAC,4BAAC,iBAAiB,CAAC,UAAD,oBAAC,UAAU,CAAE,UAAb,CAAlB,uCAAC,uBAA2C,KAA5C,aAAC;AACtB,iBADqB,CAAzB;AAEA,QAAM,SAAS,GAAG,UAAH,2CAAG,UAAU,CAAE,OAAf,qBAAG,oBAAqB,KAAvC;AAEA,0DAAS,CAAC,MAAK;AACb,QAAI,SAAS,IAAI,SAAjB,EAA4B;AAC1B,sGAAiB,CAAC;AAChB,gBAAQ,EAAE,mBAAmB,SAAS,EADtB,EAAD,CAAjB;;AAGG,UAHH,CAGS,QAAD,IAA2B;AAC/B,kBAAU,mBAAC,QAAQ,CAAC,IAAV,8CAAC,eAAe,MAAhB,qBAAC,sBAAuB,OAAxB,CAAV;AACA,cAAM,OAAO,sBAAG,QAAQ,CAAC,IAAZ,qBAAG,gBAAe,MAA/B;AACA;AACA,eAAO,CAAC,IAAR,GAAe,OAAO,CAAC,eAAvB;AACA,eAAO,CAAC,aAAR,GAAwB,IAAxB;AACA,yBAAiB,CAAC,OAAD,CAAjB;AACD,OAVH;AAWG,WAXH,CAWU,QAAD,IAA+B;AACpC,yFAAc,CAAC,QAAQ,CAAC,OAAV,CAAd;AACD,OAbH;AAcD;AACF,GAjBQ,EAiBN,CAAC,SAAD,EAAY,SAAZ,CAjBM,CAAT;AAmBA,oEAAmB,CAAC,GAAD,EAAM,OAAO;AAC9B,aAAS,CAAC,GAAD,EAAiC;AACxC,qBAAe,CAAC,GAAD,CAAf;AACD,KAH6B,EAAP,CAAN,CAAnB;;AAMA,QAAM,UAAU,GAAG,SAAS,IAAI,CAAC,CAAC,OAAO,CAAC,MAA1C;AAEA,QAAM,gBAAgB,GACpB,CAAC,UAAD,IAAgB,SAAS,KAAK,WAAU,QAAV,sBAAU,CAAE,MAAZ,KAAsB,CAAC,SAA5B,CAD3B;AAGA,QAAM,oBAAoB,GAAG,yHAA0B,MAA1B,2BAA0B,EACrD,UADqD,oBACrD,UAAU,CAAE,UADyC,CAAvD;AAIA,QAAM,iBAAiB,GAAG,qKAAiB,MAAjB,uEAAiB,EAAU,UAAV,oBAAU,UAAU,CAAE,UAAtB,CAA3C;AAEA,QAAM,WAAW,4BAAG,UAAH,oBAAG,UAAU,CAAE,WAAf,oCAA8B,IAA/C;AAEA,sEAAoB,CAAC,IAAD,EAAO,QAAP,CAApB;AAEA,QAAM,cAAc,GAAG,0DAAW,CAAC,MAAK;AACtC,QAAI,CAAC,UAAD,IAAe,EAAC,UAAD,oCAAC,UAAU,CAAE,OAAb,aAAC,qBAAqB,KAAtB,CAAnB,EAAgD;AAC9C,iBAAW;AACX;AACD;AACD,UAAM,QAAQ,GAAG,2DAAW,CAAC;AAC3B,eAAS,EAAE,UAAF,4CAAE,UAAU,CAAE,OAAd,qBAAE,qBAAqB,KADL;AAE3B,aAAO,EAAE,UAAF,oBAAE,UAAU,CAAE,MAFM;AAG3B,SAAG,UAHwB,EAAD,CAA5B;;AAKA,8EAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,6BAAuB,EAAE,IADgB;AAEzC,iBAAW,EAAE,KAF4B,EAAjB,CAA1B;;AAIA,eAAW;AACX,sFAAmB,CAAC;AAClB,cADkB;AAElB,WAAK,EAAE,KAFW;AAGlB,mBAAa,EAAE,EAAE,WAAW,EAAE,CAAf,EAHG,EAAD,CAAnB;AAIG,QAJH,CAIQ,QAAQ,IAAG;AACjB,UAAI,0EAAgB,CAAC,6DAAW,CAAC,oBAAb,CAApB,EAAwD;AACtD;AACA,cAAM,MAAM,GAAG,YAAY,QAAZ,GAAuB,QAAQ,CAAC,MAAT,CAAgB,CAAhB,CAAvB,GAA4C,QAA3D;AACA,2FAAgB,CAAC,MAAD,CAAhB;AACG,YADH,CACS,WAAD,IAA2C;AAC/C,oFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,mCAAuB,EAAE,WADgB,EAAjB,CAA1B;;AAGA,qBAAW;AACZ,SANH;AAOG,aAPH,CAOU,KAAD,IAA6B;AAClC;AACA;AACA,iBAAO,CAAC,KAAR,CACE,KAAK,CAAC,OAAN,IAAiB,KAAK,CAAC,KAAvB,IAAgC,4DAAC,CAAC,qBAAD,CADnC;AAGD,SAbH;AAcD,OAjBD;AAiBO;AACL,kFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,iCAAuB,EAAE,QAAQ,CAAC,MADO,EAAjB,CAA1B;;AAGA,mBAAW;AACZ;AACF,KA5BD;AA6BD,GA5CiC,EA4C/B,CAAC,QAAD,EAAW,WAAX,EAAwB,IAAxB,EAA8B,UAA9B,EAA0C,UAA1C,CA5C+B,CAAlC;AA8CA,QAAM,2BAA2B,GAAG,kMAAc,cAAd,mBAClC,6DADkC,CAApC;AAGA,QAAM,gBAAgB,4BACpB,YADoB,8CACpB,YAAY,CAAE,OAAd,CAAsB,CAAtB,CADoB,qBACpB,uBAA0B,SADN;AAEnB,6BAA2B,CAAC,MAA5B,KAAuC,CAAvC;AACG,6BAA2B,CAAC,CAAD,CAA3B,CAA+B,KADlC;AAEG,WAJN;AAKA,QAAM,UAAU,GAAG,YAAH,8CAAG,YAAY,CAAE,OAAd,CAAsB,CAAtB,CAAH,+CAAG,uBAA0B,MAA7B,qBAAG,uBAAkC,IAArD;AACA,QAAM,WAAW,GAAG,2DAAW,CAAC;AAC9B,aAD8B;AAE9B,WAAO,EAAE,SAAS,GAAG,UAAH,oBAAG,UAAU,CAAE,MAAf,GAAwB,SAFZ;AAG9B,OAAG,UAH2B,EAAD,CAA/B;;AAMA,0DAAS,CAAC,MAAK;AACb,QAAI,UAAU,IAAI,gBAAd,IAAkC,eAAlC,IAAqD,WAAzD,EAAsE;AACpE,oBAAc;AACf;AACF,GAJQ,EAIN;AACD,YADC;AAED,kBAFC;AAGD,iBAHC;AAID,YAJC;AAKD,aALC;AAMD,gBANC,CAJM,CAAT;;AAaA,QAAM,oBAAoB,GAAG,0DAAW,CACtC,CAAC,EAAE,KAAF,EAAS,OAAT,EAAD,KAA0C;AACxC,QAAI,SAAS,GAAG,OAAO,IAAI,KAAX,IAAoB,4DAAC,CAAC,uBAAD,CAArC;AACA,QAAI,OAAO,KAAK,WAAhB,EAA6B;AAC3B,eAAS,GAAG,4DAAC,CAAC,mDAAD,CAAb;AACD;AACD,qFAAc,CAAC,SAAD,CAAd;AACD,GAPqC,EAQtC,EARsC,CAAxC;AAWA,QAAM,mBAAmB,GAAG,wGAAa,MAAb,cAAa,EAAK,MAAM,KAAK;AACvD,SAAK,EAAE,MAAM,CAAC,EADyC;AAEvD,SAAK,EAAE,MAAM,CAAC,KAFyC,EAAL,CAAX,CAAzC;;AAKA,QAAM,YAAY,GAAG,8GAAmB,MAAnB,oBAAmB,EACtC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,MAAK,YAAL,oBAAK,YAAY,CAAE,gBAAd,CAA+B,CAA/B,CAAL,CADkB,CAAxC;AAIA,QAAM,eAAe,GAAG,CAAC,CAAC,YAA1B;AAEA,QAAM,YAAY,GAChB,CAAC,EAAC,YAAD,YAAC,YAAY,CAAE,aAAf,CAAD,IAAiC,CAAC,EAAC,YAAD,YAAC,YAAY,CAAE,UAAf,CADpC;AAGA,QAAM,UAAU,GACd,QAAO,YAAP,6CAAO,YAAY,CAAE,aAArB,qBAAO,sBAA6B,aAApC,MAAsD,SADxD;AAGA,QAAM,gBAAgB,GAAG,CAAC,UAAD,IAAgB,CAAC,WAAD,IAAgB,gBAAzD;AAEA,QAAM,YAAY,GAAG,UAAU;AAC3B,sEAAkB,CAAC;AACjB,YAAQ,EAAE,KADO;AAEjB,eAFiB;AAGjB,QAHiB;AAIjB,YAJiB;AAKjB,cAAU,EAAE,UAAU,CAAC,UALN;AAMjB,gBANiB;AAOjB,cAPiB,EAAD,CADS;;AAU3B,IAVJ;AAYA,QAAM,aAAa,GAAI,KAAD,IAA+B;AACnD,UAAM,QAAQ,2BAAG,IAAI,CAAC,aAAL,CAAmB,SAAnB,CAAH,qBAAG,qBAAgC,QAAhC,EAA0C,aAA3D;AACA,8EAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,mBAAa,EAAE;AACb,WAAG,QADU;AAEb,qBAAa,EAAE,KAFF,EAD0B,EAAjB,CAA1B;;;AAMA,eAAW;AACZ,GATD;AAWA,MAAI,yBAAyB,GAAG,eAAe,IAAI,YAAnB,IAAmC,UAAnE;AACA,MAAI,CAAC,yBAAL,EAAgC;AAC9B,6BAAyB,GAAG,0SAAY,YAAZ;AAClB,OAAG,IAAI,CAAC,kHAAmB,MAAnB,oBAAmB,EAAU,GAAV,CADT;AAEpB,OAAG,IAAI,YAAY,CAAC,GAAD,CAAZ,CAAkB,OAFL,CAA5B;AAGD;AAED,0DAAS,CAAC,MAAK;AACb,UAAM,oBAAoB,GAAG,CAAC,YAAY,CAAC,KAAb,CAAmB,GAApB,CAA7B;AACA,QAAI,yBAAJ,EAA+B;AAC7B,0BAAoB,CAAC,IAArB,CAA0B,YAAY,CAAC,QAAb,CAAsB,GAAhD;AACD;AACD,2BAAuB,CAAC,oBAAD,CAAvB;AACD,GANQ,EAMN,CAAC,yBAAD,CANM,CAAT;AAQA,MAAI,OAAJ,EAAa;AACX,WAAO,4DAAC,uDAAD,IAAe,OAAO,EAAE,MAAM,aAAa,CAAC,QAAD,CAA3C,GAAP;AACD;AAED,SACE,4DAAC,UAAD,IACE,SAAS,EAAE,YADb,EAEE,QAAQ,EAAE,SAAS,IAAI,eAAe,CAAC,SAAD,CAFxC,EAGE,QAAQ,MAHV;AAKE,8DAAC,OAAD,IACE,GAAG,EAAE,UAAU,CAAC,aAAX,CAAyB,IADhC,EAEE,GAAG,EAAE,UAAU,CAAC,aAAX,CAAyB,GAFhC,EAGE,WAAW,MAHb;AAKE,8DAAC,eAAD;AACE,8DAAC,cAAD,IACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,MAAtB,CADR,EAEE,KAAK,EAAE,4DAAC,WAAD,QAAc,4DAAC,CAAC,aAAD,CAAf,CAFT,EAGE,YAAY,EAAE,YAAF,oBAAE,YAAY,CAAE,IAH9B,EAIE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,OAAb,EAAsB,OAAO,EAAE,4DAAC,CAAC,kBAAD,CAAhC,EAAD,CAJT;AAME,8DAAC,4DAAD,EAAW,wFAA2B,CAAC,YAAD,CAAtC,CANF,CADF;;AASE,8DAAC,cAAD,kFACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,YAAtB,CADR,EAEE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,OAAb,EAAsB,OAAO,EAAE,4DAAC,CAAC,kBAAD,CAAhC,EAAD,CAFT,EAGE,YAAY,EAAE,aAAY,QAAZ,wBAAY,CAAE,UAAd,KAA4B,eAH5C,EAIE,KAAK,EAAE,4DAAC,WAAD,QAAc,4DAAC,CAAC,aAAD,CAAf,CAJT,IAKM,wFAA2B,CAAC,aAAD,CALjC;AAOE,8DAAC,6DAAD,IACE,OAAO,EAAE,+GAAoB,MAApB,qBAAoB,EAAK,UAAU,IAAG;AAC7C;AACA,YAAM,IAAI,4BAAG,iBAAiB,CAAC,UAAD,CAApB,qBAAG,sBAA+B,KAA/B,CAAqC,IAAlD;AACA,YAAM,UAAU,GAAG,IAAI;AACnB,8BAAwB,CAAC,IAAD,CADL;AAEnB,eAFJ;AAGA,aAAO;AACL,aAAK,EAAE,UADF;AAEL,aAAK,EAAE,UAAU,IAAI,IAFhB,EAAP;;AAID,KAV4B,CAD/B,EAYE,QAAQ,EAAE,CAAC,EAAE,KAAF,EAAD,KAAiC;AACzC,gFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,kBAAU,EAAE,KAD6B;AAEzC,uBAAe,EAAE,IAFwB,EAAjB,CAA1B;;AAIA,iBAAW;AACZ,KAlBH,GAPF,CATF,CALF;;;AA2CG,YAAU,IACT,4DAAC,kBAAD;AACE,8DAAC,cAAD,kFACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,SAAtB,CADR,EAEE,YAAY,EAAE,EAAE,KAAK,EAAE,gBAAT,EAFhB,EAGE,KAAK,EAAE,4DAAC,WAAD,QAAc,4DAAC,CAAC,SAAD,CAAf,CAHT,EAIE,KAAK,EAAE;AACL,MAAE,QAAQ,EAAE,CAAC,OAAb,EAAsB,OAAO,EAAE,4DAAC,CAAC,qBAAD,CAAhC,EADK,CAJT;AAOM,0FAA2B,CAAC,kBAAD,CAPjC;AASE,8DAAC,8EAAD,IACE,SAAS,EAAE,gBADb,EAEE,QAAQ,EAAC,SAFX,EAGE,YAAY,EAAC,YAHf,EAIE,aAAa,EAAE,6DAJjB,EAKE,OAAO,EAAE,KALX,EAME,OAAO,EAAE,oBANX,EAOE,cAAc,EAAE,kMAAc,cAAd,mBACd,6DADc,CAPlB,EAUE,QAAQ,EAAE,CAAC,IAAG;AACZ;AACA,UAAI,SAAS,IAAI,EAAC,QAAD,aAAC,CAAE,KAAH,MAAa,SAA9B,EAAyC;AACvC,kFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,yBAAe,EAAE,IADwB;AAEzC,gBAAM,EAAE,IAFiC,EAAjB,CAA1B;;AAID;AACD,iBAAW;AACZ,KAnBH,GATF,CADF;;AAgCG,WAAS,IACR,4DAAC;AACC;AACA;AAFF,MAGE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,QAAtB,CAHR,EAIE,YAAY,EAAE,UAJhB,EAKE,KAAK,EAAE,4DAAC,WAAD,QAAc,4DAAC,CAAC,QAAD,CAAf,CALT,EAME,KAAK,EAAE;AACL,MAAE,QAAQ,EAAE,CAAC,OAAb,EAAsB,OAAO,EAAE,4DAAC,CAAC,mBAAD,CAAhC,EADK,CANT;AASE,iBAAU,aATZ;AAWE,8DAAC,2DAAD,IACE,IAAI,EAAE,IADR,EAEE,QAAQ,EAAE,QAFZ,EAGE,SAAS,EAAE,SAHb,EAIE,QAAQ,EAAE,MAAK;AACb;AACA,gFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,uBAAe,EAAE,IADwB,EAAjB,CAA1B;;AAGA,iBAAW;AACZ,KAVH,GAXF,CAjCJ,CA5CJ;;;AAwGE,8DAAC,cAAD,IACE,SAAS,EAAE,oBADb,EAEE,QAAQ,EAAE,GAAG,IAAI,uBAAuB,CAAC,GAAD,CAF1C,EAGE,kBAAkB,EAAC,OAHrB;AAKE,8DAAC,gEAAD,CAAU,KAAV,IACE,WAAW,MADb,EAEE,MAAM,EAAE,YAAY,CAAC,KAAb,CAAmB,IAF7B,EAGE,GAAG,EAAE,YAAY,CAAC,KAAb,CAAmB,GAH1B;AAKG,kBAAgB,IACf,4DAAC,aAAD,IACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,sBAAtB,CADR,EAEE,MAAM,MAFR,EAGE,YAAY,EAAE,WAHhB,GANJ;AAYE,8DAAC,aAAD,IACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,yBAAtB,CADR,EAEE,MAAM,MAFR,EAGE,YAAY,EAAE,IAHhB,GAZF;AAiBE,8DAAC,uEAAD,IACE,KAAK,EAAE,4DAAC,CAAC,0BAAD,CADV,EAEE,OAAO,EAAE,eAFX,EAGE,QAAQ,EAAE,KAAK,IAAI,kBAAkB,CAAC,KAAD,CAHvC;AAKE,8DAAC,iBAAD,IACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,iBAAtB,CADR,EAEE,YAAY,EAAE,YAAF,oBAAE,YAAY,CAAE,eAF9B,EAGE,aAAU,eAHZ,EAIE,KAAK,EAAE,4DAAC,WAAD,QAAc,4DAAC,CAAC,eAAD,CAAf,CAJT,EAKE,QAAQ,MALV,EAME,KAAK,EAAE;AACL;AACE,cAAQ,EAAE,IADZ,EADK;;AAIL;AACE,eAAS,EAAE,CAAC,IAAD,EAAO,KAAP,KAAgB;AACzB,cAAM,QAAQ,GAAG,CAAC,wBAAC,KAAK,CAAC,WAAP,aAAC,mBAAmB,KAApB,CAAlB;AACA,YACE,QAAQ;AACR;AADQ,iCAER,UAAU,CAAC,aAFH,aAER,sBAA0B,kBAH5B,EAIE;AACA,iBAAO,qFAAQ,OAAR,EAAP;AACD;AACD,eAAO,qFAAQ,MAAR,CACL,IAAI,KAAJ,CAAU,4DAAC,CAAC,2BAAD,CAAX,CADK,CAAP;AAGD,OAbH,EAJK,CANT;;;AA2BG,kBAAgB,GACf,4DAAC,sDAAD,IACE,WAAW,EAAE,QAAQ,IAAG;AACtB,gFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,uBAAe,EAAE,QADwB,EAAjB,CAA1B;;AAGA,UAAI,CAAC,cAAL,CAAoB;AAClB,OAAC,SAAD,EAAY,QAAZ,EAAsB,iBAAtB,CADkB,CAApB;;AAGA,iBAAW;AACZ,KATH,EAUE,QAAQ,EAAE,QAVZ,EAWE,UAAU,EAAE,UAXd,EAYE,IAAI,EAAE,IAZR,EAaE,QAAQ,EAAE,WAbZ,EAcE,eAAe,EAAE,eAdnB,GADe,GAkBf,4DAAC,CAAC,oDAAD,CA7CL,CALF,CAjBF;;;AAuEG,4SAAY,YAAZ;AACS,KAAG,IAAI,kHAAmB,MAAnB,oBAAmB,EAAU,GAAV,CADnC;AAEM,KAAG,IAAI,YAAY,CAAC,GAAD,CAAZ,CAAkB,OAF/B,CAvEH;AA0EE,8DAAC,iBAAD,IACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,WAAtB,CADR,EAEE,YAAY,EAAE,aAAY,QAAZ,wBAAY,CAAE,SAAd,KAA2B,KAF3C,EAGE,aAAa,EAAC,SAHhB,EAIE,KAAK,EAAE,KAJT;AAME,8DAAC,+DAAD,IAAU,aAAU,kCAApB;AACG,8DAAC,CAAC,yBAAD,CADJ,CANF,CA1EF,CALF;;;;AA0FG,GAAE,UAAU,IAAI,oBAAf,IAAwC,UAAzC,KACC,4DAAC,gEAAD,CAAU,KAAV,IACE,WAAW,MADb,EAEE,MAAM,EAAE,YAAY,CAAC,QAAb,CAAsB,IAFhC,EAGE,GAAG,EAAE,YAAY,CAAC,QAAb,CAAsB,GAH7B;AAKG,mBAAiB,IAChB,4DAAC,uEAAD,IACE,KAAK,EAAE,4DAAC,CAAC,wBAAD,CADV,EAEE,OAAO,EAAE,eAFX,EAGE,QAAQ,EAAE,OAAO,IAAG;AAClB,UAAI,OAAJ,EAAa;AACX;AACA,iGACE,MACE,IAAI,CAAC,cAAL,CAAoB;AAClB,SAAC,SAAD,EAAY,QAAZ,EAAsB,cAAtB,CADkB,CAApB,CAFJ;AAKE,SALF;AAOD;AACF,KAdH;AAgBE,8DAAC,iBAAD,IACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,cAAtB,CADR,EAEE,KAAK,EAAE,4DAAC,WAAD,QAAc,4DAAC,CAAC,eAAD,CAAf,CAFT,EAGE,YAAY,EAAE,YAHhB,EAIE,aAAU,qBAJZ,EAKE,QAAQ,MALV,EAME,KAAK,EAAE;AACL;AACE,cAAQ,EAAE,IADZ;AAEE,aAAO,EAAE,4DAAC,CAAC,2BAAD,CAFZ,EADK,CANT;;;AAaE,8DAAC,6DAAD,IACE,WAAW,EAAE,4DAAC,CAAC,MAAD,CADhB,EAEE,OAAO,EAAE,mBAFX,EAGE,WAAW,MAHb,GAbF,CAhBF,CANJ;;;AA2CG,6SAAY,YAAZ;AACS,KAAG,IAAI,CAAC,kHAAmB,MAAnB,oBAAmB,EAAU,GAAV,CADpC;AAEM,KAAG,IAAI,YAAY,CAAC,GAAD,CAAZ,CAAkB,OAF/B,CA3CH;AA8CG,YAAU,IAAI,oBAAd,IACC,4DAAC,uEAAD,IACE,KAAK,EAAE,4DAAC,CAAC,6BAAD,CADV,EAEE,OAAO,EAAE,YAFX,EAGE,QAAQ,EAAE,OAAO,IAAG;AAClB,UAAI,OAAJ,EAAa;AACX;AACA,iGACE,MACE,IAAI,CAAC,cAAL,CAAoB;AAClB,SAAC,SAAD,EAAY,QAAZ,EAAsB,eAAtB,CADkB,CAApB,CAFJ;AAKE,SALF;AAOD;AACF,KAdH;AAgBE,8DAAC,iBAAD,IACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,eAAtB,CADR,EAEE,YAAY,EAAE,YAAF,oBAAE,YAAY,CAAE,aAF9B,EAGE,QAAQ,MAHV,EAIE,KAAK,EAAE;AACL;AACE,cAAQ,EAAE,IADZ;AAEE,aAAO,EAAE,4DAAC,CAAC,wBAAD,CAFZ,EADK,CAJT;;;AAWE,8DAAC,yGAAD,IACE,OAAO,EACL,eAAc,QAAd,mDAAc,CAAE,OAAhB,sKACG,CAAD,IAAmB,CAAC,CAAC,UADvB,MAEK,EAJT,EAME,YAAY,EAAE,eAAc,QAAd,0BAAc,CAAE,OAAhB,KAA2B,EAN3C,EAOE,UAAU,EAAE,cAPd,EAQE,QAAQ,EAAG,OAAD,IAA2B;AACnC,gFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,qBAAa,EAAE,OAD0B,EAAjB,CAA1B;;AAGA,iBAAW;AACZ,KAbH,EAcE,KAAK,EACH;AACE,gEAAC,cAAD,OADF;AAEE,gEAAC,WAAD,QAAc,4DAAC,CAAC,YAAD,CAAf,CAFF,CAfJ,GAXF,CAhBF;;;AAiDE,8DAAC,iBAAD,IACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,YAAtB,CADR,EAEE,KAAK,EAAE,4DAAC,WAAD,QAAc,4DAAC,CAAC,YAAD,CAAf,CAFT,EAGE,YAAY,EAAE,aAAY,QAAZ,wBAAY,CAAE,UAAd,KAA4B,WAH5C;AAKE,8DAAC,0FAAD,IACE,IAAI,EAAC,YADP,EAEE,QAAQ,EAAE,SAAS,IAAG;AACpB,gFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,kBAAU,EAAE,SAD6B,EAAjB,CAA1B;;AAGA,iBAAW;AACZ,KAPH,GALF,CAjDF,CA/CJ;;;AAiHG,aAAU,QAAV,sBAAU,CAAE,UAAZ,MAA2B,cAA3B,IACC,4DAAC,uEAAD,IACE,KAAK,EAAE,4DAAC,CAAC,oBAAD,CADV,EAEE,QAAQ,EAAE,OAAO,IAAI,aAAa,CAAC,OAAO,IAAI,SAAZ,CAFpC,EAGE,OAAO,EAAE,UAHX;AAKE,8DAAC,kBAAD;AACE,8DAAC,cAAD,IACE,IAAI,EAAE;AACJ,aADI;AAEJ,YAFI;AAGJ,mBAHI;AAIJ,mBAJI,CADR;AAOE,gBAAY,EAAE,YAAF,8CAAE,YAAY,CAAE,aAAhB,qBAAE,uBAA6B,aAP7C,EAQE,KAAK,EAAE,4DAAC,WAAD,QAAc,4DAAC,CAAC,WAAD,CAAf,CART;AAUE,8DAAC,6DAAD,IACE,IAAI,EAAE,IADR,EAEE,QAAQ,EAAE,QAFZ,EAGE,IAAI,EAAC,eAHP,EAIE,OAAO,EAAE;AACP;AACE,WAAK,EAAE,IADT;AAEE,WAAK,EAAE,4DAAC,CAAC,gBAAD,CAFV,EADO;;AAKP;AACE,WAAK,EAAE,KADT;AAEE,WAAK,EAAE,4DAAC,CAAC,iBAAD,CAFV,EALO,CAJX;;AAcE,YAAQ,EAAE,CAAC,EAAE,KAAF,EAAD,KACR,aAAa,CAAC,KAAD,CAfjB,GAVF,CADF;;AA8BG,YAAU,IACT,4DAAC,cAAD,IACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,YAAtB,CADR,EAEE,YAAY,EAAE,YAAF,oBAAE,YAAY,CAAE,UAF9B,EAGE,KAAK,EAAE,4DAAC,WAAD,QAAc,4DAAC,CAAC,aAAD,CAAf,CAHT,EAIE,aAAU,aAJZ;AAME,8DAAC,sFAAD,IACE,IAAI,EAAE,IADR,EAEE,QAAQ,EAAE,QAFZ,EAGE,IAAI,EAAC,YAHP,EAIE,OAAO,EAAE,kGAAO,MAAP,QAAO,EAAM,MAAD,qCAAqB;AACxC,aAAK,EAAE,MAAM,CAAC,WAD0B;AAExC,aAAK,0BAAE,MAAM,CAAC,YAAT,mCAAyB,MAAM,CAAC,WAFG,EAArB,EAAL,CAJlB;AAQE,YAAQ,EAAG,KAAD,IAA+B;AACvC,UAAI,KAAK,KAAK,SAAd,EAAyB;AACvB,kFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,oBAAU,EAAE,KAD6B,EAAjB,CAA1B;;AAGA,mBAAW;AACZ;AACF,KAfH,GANF,CA/BJ,CALF,CAlHJ,CA3FJ,CAxGF,CALF;;;;;;;AA8XE,8DAAC,OAAD,IACE,GAAG,EAAE,UAAU,CAAC,OAAX,CAAmB,IAD1B,EAEE,GAAG,EAAE,UAAU,CAAC,OAAX,CAAmB,GAF1B,EAGE,WAAW,MAHb;AAKE,8DAAC,iEAAD,IACE,gBAAgB,EAAG,MAAD,IAChB,0EAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB,MAAjB,CAF9B,EAIE,eAAe,EAAE,CAAC,SAAD,EAAY,QAAZ,CAJnB,EAKE,WAAW,EAAE,WALf,EAME,KAAK,EAAE,YAAF,oBAAE,YAAY,CAAE,KANvB,EAOE,SAAS,EAAE,UAAF,oBAAE,UAAU,CAAE,KAPzB,EAQE,WAAW,EAAE,UAAF,oBAAE,UAAU,CAAE,OAR3B,GALF,CA9XF,CADF;;;AAiZD,CA3nBD,C,cAAM,iB,6kBAqBgB,sD,EAaG,wD,EAiCvB,0D,EAmBA,4D;AAuiBa,yDAAU,CACvB,iBADuB,C,CAAV,yE,iLAnyBP,O,oNAEF,e,4NAMA,kB,+NAOO,c,2NAaA,iB,8NAkBA,W,wNAMP,a,0NAIA,c,2NA4BA,U,uNAiBA,c,2NASA,U,uNAWA,Y,yNAqBA,sB,mOAMA,0B,uOAEA,mB,gOAGA,wB,qOAaA,iB;;;;;;;;;;;;;;;;;;;;wSCrPN;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;;AAGA,MAAM,cAAc,GAAG,wDAAM,CAAC,GAAG;;;;;;;WAOtB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,IAAI;AACpD,CARD;AAcA,MAAM,aAAa,GAA2B,CAAC,EAAE,OAAF,EAAD,KAC5C,2DAAC,cAAD;AACE,sEAAI,2DAAC,CAAC,+BAAD,CAAL,CADF;AAEE;AACE,2DAAC,6DAAD,IACE,aAAU,uBADZ,EAEE,WAAW,EAAC,SAFd,EAGE,OAAO,EAAE,OAHX;AAKG,2DAAC,CAAC,gBAAD,CALJ,CADF,CAFF,CADF,C;;;;AAee,a,CAAA,yE,iLA7BT,c,uNAcA,a;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCpCN;;;;;;;;;;;;;;;;;AAiBG;AACH;AAIA;AACA;AAEA;AACA;AACA;AACA;;AAeA,MAAM,aAAa,GAAG,gEAAM,CAAC,4DAAD,CAAU;;AAErC,CAFD;AAIc,SAAU,kBAAV,CAA6B,EACzC,QADyC,EAEzC,WAFyC,EAGzC,IAHyC,EAIzC,QAJyC,EAKzC,UALyC,EAMzC,YANyC,EAOzC,UAPyC,EAA7B,EAQM;AAClB,QAAM,oBAAoB,GAAG,iEAA4B,EAAzD;AACA,QAAM,YAAY,uBAChB,+DAAe,CAAC,oBAAoB,CAAC,GAArB,CAAyB,UAAzB,CAAD,CADC,+BACyC,EAD3D;AAEA,QAAM,GAAG,GAGL,EAHJ;AAKA,qNAAY,MAAZ,aAAY;AAEP,aAAD,oCACE,YAAW,QAAX,8CAAW,CAAE,MAAb,yCAAqB,aAArB;AACA,eAAW,CAAC,IAAZ,KAAqB,eAFvB,EAFQ,CAAZ;AAMW,aAAW,IAAG;AACrB,UAAM,YAAY,4BAChB,YADgB,8CAChB,YAAY,CAAE,aADE,qBAChB,uBAA8B,WAAW,CAAC,IAA1C,CADgB;AAEhB,eAFgB,4CAEhB,WAAW,CAAE,MAFG,qBAEhB,qBAAqB,OAFvB;AAGA,UAAM,OAAO,GACX;AACE,gEAAC,aAAD,IACE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,eAAtB,EAAuC,WAAW,CAAC,IAAnD,CADR,EAEE,MAAM,MAFR,EAGE,YAAY,EACV,YAAW,QAAX,+CAAW,CAAE,MAAb,0CAAqB,aAArB,MAAsC,YAAtC,oBAAsC,YAAY,CAAE,aAApD,CAJJ,GADF;AAQE,gEAAC,8DAAD,IACE,GAAG,EAAE,WAAW,CAAC,IADnB,EAEE,SAAS,EAAC,MAFZ,EAGE,KAAK,EACH,WAAW,CAAC,MAAZ,CAAmB,eAAnB;AACA,cADA;AAEA,iEAAC,CAAC,iDAAD,CANL;AASE,gEAAC,qEAAD,IACE,GAAG,EAAE,WAAW,CAAC,IADnB,EAEE,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,eAAtB,EAAuC,WAAW,CAAC,IAAnD,CAFR,EAGE,YAAY,EAAE,YAHhB,EAIE,aAAa,EAAC,SAJhB,EAKE,KAAK,EAAE,KALT;AAOE,gEAAC,8DAAD,IACE,QAAQ,EAAE,WAAW,CAAC,MAAZ,CAAmB,eAAnB,IAAsC,QADlD,EAEE,QAAQ,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,OAAF,EAAV,EAAD,KAA4B;AACpC,YAAI,WAAW,CAAC,MAAZ,CAAmB,aAAvB,EAAsC;AACpC,oFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,yBAAa,EAAE;AACb,kBAAG,UAAH,oBAAG,UAAU,CAAE,aAAf,CADa;AAEb,eAAC,WAAW,CAAC,IAAb,GAAoB,OAFP,EAD0B,EAAjB,CAA1B;;;AAMD;AACD,YAAI,WAAW,CAAC,MAAZ,CAAmB,WAAvB,EAAoC;AAClC,oFAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,2BAAe,EAAE,IADwB,EAAjB,CAA1B;;AAGD;AACD,mBAAW;AACZ,OAjBH;AAmBG,eAAW,CAAC,MAAZ,CAAmB,KAnBtB,EAmB6B,GAnB7B;AAoBG,eAAW,CAAC,MAAZ,CAAmB,WAAnB,IACC,4DAAC,kFAAD,IACE,SAAS,EAAC,KADZ,EAEE,KAAK,EAAE,WAAW,CAAC,MAAZ,CAAmB,IAF5B,EAGE,OAAO,EAAE,WAAW,CAAC,MAAZ,CAAmB,WAH9B,GArBJ,CAPF,CATF,CARF,CADF;;;;;AAyDA,OAAG,CAAC,WAAW,CAAC,IAAb,CAAH,GAAwB,EAAE,OAAF,EAAW,OAAO,EAAE,YAApB,EAAxB;AACD,GApEH;AAqEA,SAAO,GAAP;AACD,C,iLA3FK,a,2NAIkB,kB;;;;;;;;;;;;;;;;;;;;wSC/CxB;;;;;;;;;;;;;;;;;AAiBG;AACH;AAGA;AAEA;AACA;AACO,MAAM,oBAAoB,GAAG,CAClC,IADkC,EAElC,QAFkC,KAGhC;AACF,QAAM,WAAW,GAAG,6DAAc,EAAlC;AACA,QAAM,UAAU,GAAG,CAAC,IAAI,CAAC,aAAL,CAAmB,SAAnB,KAAiC,EAAlC,EAAsC,QAAtC,CAAnB;AACA,yDAAS,CAAC,MAAK;AACb,6EAA0B,CAAC,IAAD,EAAO,QAAP,EAAiB;AACzC,iBAAW,EAAE,IAD4B;AAEzC,6BAAuB,EAAE,IAFgB,EAAjB,CAA1B;;AAIA,eAAW;AACZ,GANQ,EAMN;AACD,MADC;AAED,YAFC,oBAED,UAAU,CAAE,UAFX;AAGD,YAHC,oBAGD,UAAU,CAAE,MAHX;AAID,YAJC,2CAID,UAAU,CAAE,OAJX,qBAID,oBAAqB,KAJpB;AAKD,8FAAe,UAAf,oBAAe,UAAU,CAAE,aAA3B,CALC;AAMD,YANC,oBAMD,UAAU,CAAE,UANX;AAOD,aAPC;AAQD,UARC,CANM,CAAT;;AAgBD,CAtBM,C,cAAM,oB,qDAIS,qD,oLAJT,oB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLb;AAGA,MAAM,kBAAkB,GAAG,SAA3B;AAEO,MAAM,cAAc,GAAG,MAAK;AACjC,QAAM,GAAG,WAAH,IAAkB,4CAAK,CAAC,QAAN,CAAe,EAAf,CAAxB;AACA,SAAO,4CAAK,CAAC,WAAN,CAAkB,MAAM,WAAW,CAAC,EAAD,CAAnC,EAAyC,EAAzC,CAAP;AACD,CAHM,C,cAAM,c;AAKN,MAAM,0BAA0B,GAAG,CACxC,IADwC,EAExC,QAFwC,EAGxC,MAHwC,KAItC;AACF,QAAM,WAAW,GAAG,IAAI,CAAC,aAAL,CAAmB,kBAAnB,KAA0C,EAA9D;AACA,MAAI,CAAC,SAAL,CAAe;AACb;AACE,QAAI,EAAE,kBADR;AAEE,SAAK,EAAE;AACL,SAAG,WADE;AAEL,OAAC,QAAD,GAAY;AACV,WAAG,WAAW,CAAC,QAAD,CADJ;AAEV,WAAG,MAFO,EAFP,EAFT,EADa,CAAf;;;;;AAYD,CAlBM;AAoBA,MAAM,eAAe,GAAG,CAC7B,gBAAwC,EADX,4FAG5B,0DAAY,aAAa,CAAC,oBAA1B,CAH4B,qBAG5B,gIACC,CAAC,GAAD,EAAW,EAAE,cAAc,GAAG,EAAnB,EAAX,KAA4C;AAC1C,KAAG,GADuC;AAE1C,KAAG,0DAAY,cAAZ,CAFuC,CAD7C;AAKC,IALD,CAH4B,kCASA,EATA,EAAxB;AAgBA,MAAM,qBAAqB,GAAI,IAAD,KAAoC;AACvE,OAAK,EAAE,IAAI,CAAC,EAD2D;AAEvE,OAAK,EAAE,IAAI,CAAC,UAF2D,EAApC,CAA9B,C,iLA3CD,kB,kNAEO,c,8MAKA,0B,0NAoBA,e,+MAgBA,qB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSClEb;;;;;;;;;;;;;;;;;AAiBG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAOA;AACA;AACA;;AAGA,MAAM,kBAAkB,GAAG,gEAAM,CAAC,iEAAD,CAAa;;;;;AAK7C,CALD;AAOO,MAAM,eAAe,GAAG,wDAAM,CAAC,GAAG;;;;;aAK5B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,EAAE;;;AAG9C,CARM;AAUA,MAAM,UAAU,GAAG,gEAAM,CAAC,2DAAD,CAAM;;AAErC,CAFM;AAIA,MAAM,4BAA4B,GAAG,sBAArC;AACA,MAAM,2BAA2B,GAAG,uEAAU,CACnD,4BADmD,CAA9C;AAWA,MAAM,iBAAiB,GAAG,CAAC,eAAD,CAA1B;AAEP;;;;;;;AAOG;AACG,SAAU,kBAAV,CAA6B,EACjC,MADiC,EAEjC,eAFiC,EAGjC,eAHiC,EAIjC,MAJiC,EAKjC,QALiC,EAA7B,EAMoB;AACxB,QAAM,CAAC,IAAD,IAAS,2DAAI,CAAC,OAAL,EAAf;AAEA,QAAM,aAAa,GAAG,oDAAM,EAA5B;AAEA;AACA,QAAM,YAAY,GAAG,sEAAsB,EAA3C;AACA,QAAM,eAAe,GAAG,kEAAkB,EAA1C;AAEA;AACA;AACA,QAAM,CAAC,YAAD,EAAe,eAAf,IAAkC,sDAAQ,CAAW,EAAX,CAAhD;AAEA;AACA;AACA;AACA,QAAM,CAAC,cAAD,EAAiB,iBAAjB,IAAsC,sDAAQ,CAElD,EAFkD,CAApD;AAIA,QAAM,CAAC,gBAAD,EAAmB,mBAAnB,IAA0C,sDAAQ,CAAU,KAAV,CAAxD;AAEA;AACA;AACA;AACA,QAAM,SAAS,GAAG,qDAAO,CACvB,2BACE,2JAAK,CAAC,GAAG,4DAAY,CAAC,YAAD,CAAhB,EAAgC,GAAG,YAAnC,CAAL,kBACE,EAAE,mCAAI,CAAC,cAAc,CAAC,EAAD,CAAf,2BAAuB,cAAc,CAAC,EAAD,CAArC,qBAAuB,mBAAoB,SAA3C,CAAJ,EADJ,CADF,EADuB,EAKvB,CAAC,YAAD,EAAe,YAAf,EAA6B,cAA7B,CALuB,CAAzB;AAQA;AACA,QAAM,sBAAsB,GAAG,eAAH,WAAG,eAAH,GAAsB,SAAS,CAAC,CAAD,CAA3D;AACA,QAAM,CAAC,eAAD,EAAkB,kBAAlB,IAAwC,sDAAQ,CACpD,sBADoD,CAAtD;AAIA;AACA;AACA,QAAM,CAAC,UAAD,EAAa,aAAb,IAA8B,sDAAQ,CAAoB;AAC9D,WAAO,EAAE,EADqD,EAApB,CAA5C;;AAIA,QAAM,iBAAiB,GAAG,yGAAY,MAAZ,aAAY,EAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,EAAD,CAA7B,CAAtC;AACA;AACA,QAAM,aAAa,GAAI,EAAD,IAAe;AACnC,UAAM,OAAO,GAAG,cAAc,CAAC,EAAD,CAA9B;AACA;AACA,QAAI,OAAJ,YAAI,OAAO,CAAE,SAAb;AAAwB,gBAAY,CAAC,OAAO,CAAC,OAAT,CAAZ;AACxB,qBAAiB,CAAC,OAAO,KAAK,EAAE,GAAG,OAAL,EAAc,CAAC,EAAD,GAAM,IAApB,EAAL,CAAR,CAAjB;AACD,GALD;AAOA;AACA,QAAM,SAAS,GAAG,yDAAW,CAAC,MAAK;AACjC,UAAM,WAAW,GAAG,gEAAgB,EAApC;AACA,mBAAe,CAAC,CAAC,GAAG,YAAJ,EAAkB,WAAlB,CAAD,CAAf;AACA,sBAAkB,CAAC,WAAD,CAAlB;AACA,uBAAmB,CAAC,KAAD,CAAnB;AACD,GAL4B,EAK1B,CAAC,YAAD,EAAe,kBAAf,CAL0B,CAA7B;AAOA,8DAAY,CAAC,MAAD,EAAS,SAAT,EAAoB,eAApB,CAAZ;AAEA,wEAAsB,CACpB,cADoB,EAEpB,eAFoB,EAGpB,SAHoB,EAIpB,kBAJoB,CAAtB;AAOA,QAAM,aAAa,GAAG,mEAAmB,CACvC,iBADuC,EAEvC,mBAFuC,EAGvC,SAHuC,CAAzC;AAMA;AACA;AACA,QAAM,SAAS,GAAG,MAAK;AACrB,QAAI,CAAC,WAAL;AACA,mBAAe,CAAC,EAAD,CAAf;AACA,sBAAkB,CAAC,sBAAD,CAAlB;AACA,qBAAiB,CAAC,EAAD,CAAjB;AACA,uBAAmB,CAAC,KAAD,CAAnB;AACD,GAND;AAQA,QAAM,cAAc,GAAI,EAAD,oJACrB,UAAU,CAAC,OAAX,CAAmB,EAAnB,CADqB,qBACrB,uBAAwB,IADH;AAErB,mBAAe,CAAC,EAAD,CAFM,qBAErB,oBAAqB,IAFA;AAGrB,+DAAC,CAAC,YAAD,CAHoB,EAAvB;AAKA,QAAM,gBAAgB,GAAI,EAAD,qCACvB,qTAAS,MAAT,UAAS;AACC,YAAQ,IAAI,QAAQ,KAAK,EAAb,IAAmB,CAAC,cAAc,CAAC,QAAD,CAD/C,CAAT;AAEU,YAAQ,sCACd,gHAAiB,MAAjB,kBAAiB,EACf,UAAU,CAAC,OAAX,CAAmB,QAAnB;AACI,gBAAU,CAAC,OAAX,CAAmB,QAAnB,EAA6B,UADjC;AAEI,qBAAe,CAAC,QAAD,CAFnB,qBAEI,sBAA2B,UAHhB,CADH,EAFlB;AASO,MAAE,KAAK;AACV,QADU;AAEV,WAAK,EAAE,cAAc,CAAC,EAAD,CAFX,EAAL,CATT,CADuB,EAAzB;;AAeA,QAAM,UAAU,GAAG,YAAW;AAC5B,UAAM,MAAM,GAA6B,MAAM,4DAAY,CACzD,IADyD,EAEzD,eAFyD,EAGzD,eAHyD,EAIzD,SAJyD,EAKzD,cALyD,EAMzD,kBANyD,CAA3D;AASA,QAAI,MAAJ,EAAY;AACV,sEAAgB,CACd,eADc,EAEd,SAFc,EAGd,cAHc,EAId,SAJc,EAKd,MALc,EAMd,MANc,CAAhB;AAQD,KATD;AASO;AACL,mBAAa,CAAC,OAAd,CAAsB,SAAtB,CAAgC,eAAhC;AACD;AACF,GAtBD;AAwBA,QAAM,mBAAmB,GAAG,MAAK;AAC/B,aAAS;AACT,YAAQ;AACT,GAHD;AAKA,QAAM,YAAY,GAAG,MAAK;AACxB,QAAI,iBAAiB,CAAC,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,yBAAmB,CAAC,IAAD,CAAnB;AACD,KAFD;AAEO;AACL,yBAAmB;AACpB;AACF,GAND;AAQA,SACE,4DAAC,kBAAD,IACE,OAAO,EAAE,MADX,EAEE,YAAY,EAAE,KAFhB,EAGE,KAAK,EAAE,2DAAC,CAAC,uBAAD,CAHV,EAIE,KAAK,EAAC,KAJR,EAKE,cAAc,MALhB,EAME,QAAQ,EAAE,YANZ,EAOE,IAAI,EAAE,UAPR,EAQE,QAAQ,MARV,EASE,aAAU,cATZ,EAUE,MAAM,EACJ,4DAAC,uDAAD,IACE,SAAS,EAAE,MAAM,mBAAmB,CAAC,KAAD,CADtC,EAEE,QAAQ,EAAE,YAFZ,EAGE,cAAc,EAAE,cAHlB,EAIE,UAAU,EAAE,UAJd,EAKE,gBAAgB,EAAE,gBALpB,EAME,iBAAiB,EAAE,iBANrB,EAOE,eAAe,EAAE,mBAPnB,GAXJ;AAsBE,8DAAC,qEAAD;AACE,8DAAC,eAAD;AACE,8DAAC,UAAD,IACE,QAAQ,EAAE,KADZ,EAEE,IAAI,EAAE,IAFR,EAGE,cAAc,EAAE,CAAC,OAAD,EAAU,MAAV,KAAuC;AACrD,UACE,OAAO,CAAC,OAAR;AACA,wMAAc,OAAO,CAAC,OAAtB,mBACG,MAAD,IAAiB,MAAM,CAAC,IAAP,IAAe,IADlC,CAFF,EAKE;AACA;AACA,qBAAa,CAAC,MAAD,CAAb;AACD;AACD,yBAAmB,CAAC,KAAD,CAAnB;AACD,KAdH,EAeE,MAAM,EAAC,UAfT;AAiBE,8DAAC,oDAAD,IACE,MAAM,EAAE,aADV,EAEE,QAAQ,EAAE,kBAFZ,EAGE,cAAc,EAAE,cAHlB,EAIE,eAAe,EAAE,eAJnB,EAKE,SAAS,EAAE,SALb,EAME,cAAc,EAAE,cANlB,EAOE,aAAa,EAAE,aAPjB;AASI,IAAD,IACC,4DAAC,6EAAD,IACE,GAAG,EAAE,aADP,EAEE,IAAI,EAAE,IAFR,EAGE,QAAQ,EAAE,EAHZ,EAIE,YAAY,EAAE,eAAe,CAAC,EAAD,CAJ/B,EAKE,OAAO,EAAE,CAAC,CAAC,cAAc,CAAC,EAAD,CAL3B,EAME,aAAa,EAAE,aANjB,EAOE,aAAa,EAAE,gBAAgB,CAAC,EAAD,CAPjC,GAVJ,CAjBF,CADF,CADF,CAtBF,CADF;;;;;;AAoED,C,cA1Ne,kB,ogBAYO,8D,EACG,0D,EAuDxB,oD,EAEA,8D,oLAjHI,kB,6MAOO,e,0MAUA,U,qMAIA,4B,uNACA,2B,sNAWA,iB,4MAUG,kB;;;;;;;;;;;;;;;;;;;;;+jBCnFhB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;;AAUM,SAAU,uBAAV,CAAkC,EACtC,KADsC,EAEtC,SAFsC,EAGtC,SAHsC,EAItC,QAJsC,EAAlC,EAKmB;AACvB,SACE,2DAAC,4DAAD,IACE,QAAQ,EAAE,KADZ,EAEE,IAAI,EAAC,SAFP,EAGE,GAAG,EAAC,OAHN,EAIE,OAAO,EAAE,KAJX,EAKE,GAAG,MALL;;;AASE,eAAW,EAAE,QATf,EAUE,MAAM,EACJ,oEAAK,GAAG,OAAR;AACE,+DAAC,6DAAD,IACE,GAAG,EAAC,QADN,EAEE,UAAU,EAAC,OAFb,EAGE,WAAW,EAAC,WAHd,EAIE,OAAO,EAAE,SAJX;AAMG,+DAAC,CAAC,cAAD,CANJ,CADF;;AASE,+DAAC,6DAAD,IACE,GAAG,EAAC,QADN,EAEE,UAAU,EAAC,OAFb,EAGE,WAAW,EAAC,SAHd,EAIE,OAAO,EAAE,SAJX;AAMG,+DAAC,CAAC,aAAD,CANJ,CATF,CAXJ,GADF;;;AAiCD,C,iLAvCe,uB;;;;;;;;;;;;;;;;;;;;;;wSC9BhB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;;AAaA,MAAM,MAAM,GAAoB,CAAC,EAC/B,QAD+B,EAE/B,UAF+B,EAG/B,SAH+B,EAI/B,eAJ+B,EAK/B,cAL+B,EAM/B,iBAN+B,EAO/B,gBAP+B,EAAD,KAQ3B;AACH,QAAM,qBAAqB,GAAG,MAAa;AACzC,UAAM,mBAAmB,GAAG,2GAAiB,MAAjB,kBAAiB,EAC3C,EAAE,IAAI,IAAI,cAAc,CAAC,EAAD,CAAI,GADe,CAA7C;AAIA,QAAI,mBAAmB,CAAC,MAApB,KAA+B,CAAnC,EAAsC;AACpC,aAAO,EAAP;AACD;AAED,QAAI,mBAAmB,CAAC,MAApB,KAA+B,CAAnC,EAAsC;AACpC,aAAO,mBAAmB,CAAC,CAAD,CAA1B;AACD;AAED,UAAM,UAAU,GAAG,mBAAmB,CAAC,GAApB,EAAnB;AAEA,WAAO,GAAG,mBAAmB,CAAC,IAApB,CAAyB,IAAzB,CAA8B,IAAI,2DAAC,CAAC,KAAD,CAAO,IAAI,UAAU,EAAlE;AACD,GAhBD;AAkBA,MAAI,gBAAJ,EAAsB;AACpB,WACE,2DAAC,gFAAD,IACE,GAAG,EAAC,gBADN,EAEE,KAAK,EAAE,GAAG,iBAAiB,CAAC,MAAM,IAAI,2DAAC,CAAC,iBAAD,CAAmB,EAF5D,EAGE,SAAS,EAAE,eAHb,EAIE,SAAS,EAAE,SAJb;AAMG,+DAAC,CAAC,kCAAD,CANJ,OAM2C,qBAAqB,EANhE,EAMoE,GANpE;AAOG,+DAAC,CAAC,oBAAD,CAPJ,CADF;;AAWD;AAED,SACE;AACE,6DAAC,6DAAD,IACE,GAAG,EAAC,QADN,EAEE,WAAW,EAAC,WAFd,EAGE,aAAU,mCAHZ,EAIE,OAAO,EAAE,QAJX;AAMG,6DAAC,CAAC,QAAD,CANJ,CADF;;AASE,6DAAC,6DAAD,IACE,GAAG,EAAC,QADN,EAEE,WAAW,EAAC,SAFd,EAGE,OAAO,EAAE,UAHX,EAIE,aAAU,iCAJZ;AAMG,6DAAC,CAAC,MAAD,CANJ,CATF,CADF;;;AAoBD,CA7DD,C;AA+De,M,CAAA,yE,iLA/DT,M;;;;;;;;;;;;;;;;;;;;;uSCjCN;;AAGA;AAEA;;;;;;;;;;;;;;;;;AAiBG;AAEI,MAAM,sBAAsB,GAAG,CACpC,cADoC,EAEpC,eAFoC,EAGpC,SAHoC,EAIpC,kBAJoC,KAKlC;AACF,yDAAS,CAAC,MAAK;AACb;AACA,UAAM,oBAAoB,GAAG,cAAc,CAAC,eAAD,CAA3C;AACA,QAAI,oBAAoB,IAAI,CAAC,oBAAoB,CAAC,SAAlD,EAA6D;AAC3D,YAAM,eAAe,GAAG,4DACtB,SADsB,EAEtB,EAAE,IAAI,CAAC,cAAc,CAAC,EAAD,CAAf,IAAuB,EAAE,KAAK,eAFd,CAAxB;AAIA,UAAI,eAAe,KAAK,CAAC,CAAzB;AACE,wBAAkB,CAAC,SAAS,CAAC,eAAD,CAAV,CAAlB;AACH;AACF,GAXQ,EAWN,CAAC,eAAD,EAAkB,cAAlB,EAAkC,SAAlC,CAXM,CAAT;AAYD,CAlBM,C,cAAM,sB;AAoBN,MAAM,YAAY,GAAG,CAC1B,MAD0B,EAE1B,SAF0B,EAG1B,eAH0B,KAIxB;AACF,QAAM,OAAO,GAAG,6EAAW,CAAC,MAAD,CAA3B;AACA;AACA;AACA,yDAAS,CAAC,MAAK;AACb,QAAI,eAAe,IAAI,MAAnB,IAA6B,CAAC,OAAlC,EAA2C;AACzC,eAAS;AACV;AACF,GAJQ,EAIN,CAAC,eAAD,EAAkB,MAAlB,EAA0B,OAA1B,EAAmC,SAAnC,CAJM,CAAT;AAKD,CAbM,C,cAAM,Y,8CAKK,qE,oLAzBL,sB,mMAoBA,Y;;;;;;;;;;;;;;;;;;;;;;wSC5Cb;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AAIA,MAAM,0BAA0B,GAAa,EAA7C;AAEM,SAAU,sBAAV,GAAgC;AACpC,SAAO,+DAAW,CAChB,KAAK,4DACH,8BAAK,CAAC,aAAN,mEAAqB,QAArB,2CAA+B,2BAA/B;AACA,8BAFG,EADW,CAAlB;AAKD;AAED;;;AAGG,G,cAXa,sB,0BACP,uD;AAWH,SAAU,kBAAV,GAA4B;AAChC,QAAM,YAAY,GAAG,sBAAsB,EAA3C;AACA,SAAO,qDAAO,CACZ,MACE,yGAAY,MAAZ,aAAY,EAAQ,CAAC,GAAD,EAA8B,MAA9B,KAAgD;AAClE,OAAG,CAAC,MAAM,CAAC,EAAR,CAAH,GAAiB,MAAjB;AACA,WAAO,GAAP;AACD,GAHW,EAGT,EAHS,CAFF,EAMZ,CAAC,YAAD,CANY,CAAd;AAQD,C,cAVe,kB,4DACO,sB;AAWjB,SAAU,kBAAV,GAA4B;AAChC,SAAO,+DAAW,CAChB,KAAK,+DAAI,KAAK,CAAC,eAAV,qBAAI,sBAAuB,OAA3B,EADW,CAAlB;AAGD,C,cAJe,kB,0BACP,uD,oLA3BH,0B,mLAEU,sB,+KAYA,kB,2KAYA,kB;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCjDhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,MAAME,eAAe,GAAGC,MAAM,CAACC,SAA/B;;AAEA,MAAMvgC,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADL;AAEhBmU,UAAQ,EAAExU,iDAAS,CAAC4B,IAFJ;AAGhB0+B,iBAAe,EAAEtgC,iDAAS,CAACkB,IAHX;AAIhBq/B,kBAAgB,EAAEvgC,iDAAS,CAACkB,IAJZ;AAKhBs/B,aAAW,EAAExgC,iDAAS,CAACI,MALP;AAMhBqgC,WAAS,EAAEzgC,iDAAS,CAACI,MANL;AAOhBsgC,YAAU,EAAE1gC,iDAAS,CAACI,MAPN;AAQhByT,eAAa,EAAE7T,iDAAS,CAACI,MART;AAShB0T,gBAAc,EAAE9T,iDAAS,CAACI,MATV;AAUhBugC,kBAAgB,EAAE3gC,iDAAS,CAACI,MAVZ;AAWhBwgC,kBAAgB,EAAE5gC,iDAAS,CAACI,MAXZ;AAYhBygC,mBAAiB,EAAE7gC,iDAAS,CAACI,MAZb;AAahB0gC,mBAAiB,EAAE9gC,iDAAS,CAACI,MAbb;AAchB2gC,cAAY,EAAE/gC,iDAAS,CAACI,MAdR;AAehB4gC,sBAAoB,EAAEhhC,iDAAS,CAACI,MAfhB;AAgBhB6gC,aAAW,EAAEjhC,iDAAS,CAACI,MAhBP;AAiBhB8gC,qBAAmB,EAAElhC,iDAAS,CAACI,MAjBf;AAkBhB20B,cAAY,EAAE/0B,iDAAS,CAACa,IAlBR;AAmBhBi0B,UAAQ,EAAE90B,iDAAS,CAACa,IAnBJ;AAoBhBg0B,eAAa,EAAE70B,iDAAS,CAACa,IApBT;AAqBhByO,UAAQ,EAAEtP,iDAAS,CAACkB,IAAV,CAAeb,UArBT,EAAlB;;;AAwBA,MAAM8B,YAAY,GAAG;AACnBqS,UAAQ,EAAE,IADS;AAEnB8rB,iBAAe,EAAE,IAFE;AAGnBC,kBAAgB,EAAE,IAHC;AAInBC,aAAW,EAAEpsB,gEAJM;AAKnBqsB,WAAS,EAAElJ,8DALQ;AAMnBmJ,YAAU,EAAEnJ,8DANO;AAOnB1jB,eAAa,EAAE,IAPI;AAQnBC,gBAAc,EAAE,IARG;AASnB6sB,kBAAgB,EAAE,CATC;AAUnBC,kBAAgB,EAAET,eAVC;AAWnBU,mBAAiB,EAAE,CAXA;AAYnBC,mBAAiB,EAAEX,eAZA;AAanBY,cAAY,EAAE,IAbK;AAcnBC,sBAAoB,EAAE,IAdH;AAenBC,aAAW,EAAE,IAfM;AAgBnBC,qBAAmB,EAAE,IAhBF;AAiBnBnM,cAAY,EAAE,IAjBK;AAkBnBD,UAAQ,EAAE,IAlBS;AAmBnBD,eAAa,EAAE,IAnBI,EAArB;;;AAsBA;AACA;AACA,MAAMsM,YAAY,GAAG,CAAC5J,8DAAD,EAAiBA,8DAAjB,CAArB;AACA,MAAM6J,cAAc,GAAG;AACrBC,OAAK,EAAE,mCADc;AAErB5tB,QAAM,EAAE,oCAFa,EAAvB;;AAIA,MAAM6tB,kBAAN,SAAiCx+B,4CAAK,CAACC,aAAvC,CAAqD;AACnDC,aAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AAEA,SAAK0G,KAAL,GAAa;AACXkJ,gBAAU,EAAE,KADD,EAAb;;;AAIA,SAAKE,iBAAL,GAAyB,2GAAKA,iBAAL,iBAA4B,IAA5B,CAAzB;AACA,SAAKC,YAAL,GAAoB,4GAAKA,YAAL,kBAAuB,IAAvB,CAApB;AACA,SAAKC,gBAAL,GAAwB,4GAAKA,gBAAL,kBAA2B,IAA3B,CAAxB;AACD;;AAEDF,mBAAiB,CAACnE,KAAD,EAAQgF,SAAR,EAAmBD,GAAnB,EAAwB;AACvC,UAAM,EAAE3B,EAAF,EAAM6iB,aAAN,KAAwB,KAAK5xB,KAAnC;;AAEA,QAAI4xB,aAAJ,EAAmB;AACjBA,mBAAa,CAAC,EAAE7iB,EAAF,EAAM4B,SAAN,EAAiBD,GAAjB,EAAD,CAAb;AACD;;AAED,SAAK5J,QAAL,CAAc,OAAO,EAAE8I,UAAU,EAAE,IAAd,EAAP,CAAd;AACD;;AAEDG,cAAY,CAACpE,KAAD,EAAQgF,SAAR,EAAmBD,GAAnB,EAAwB;AAClC,UAAM,EAAEmhB,QAAF,EAAY9iB,EAAZ,KAAmB,KAAK/O,KAA9B;AACA,QAAI6xB,QAAJ,EAAc;AACZA,cAAQ,CAAC,EAAE9iB,EAAF,EAAM4B,SAAN,EAAiBD,GAAjB,EAAD,CAAR;AACD;AACF;;AAEDV,kBAAgB,CAACrE,KAAD,EAAQgF,SAAR,EAAmBD,GAAnB,EAAwB4tB,KAAxB,EAA+B;AAC7C,UAAM;AACJvvB,QADI;AAEJ+iB,kBAFI;AAGJ0L,eAHI;AAIJC,gBAJI;AAKJ7sB,mBALI;AAMJC,oBANI;AAOJysB,sBAPI;AAQJD,qBARI;AASJE,iBATI;AAUF,SAAKv9B,KAVT;;AAYA,QAAI8xB,YAAJ,EAAkB;AAChB,YAAMyM,iBAAiB;AACrB3tB,mBAAa,GAAGwjB,IAAI,CAACoK,KAAL,CAAWF,KAAK,CAAC7gC,KAAN,IAAe+/B,SAAS,GAAGD,WAA3B,CAAX,CADlB;AAEA,YAAMkB,kBAAkB;AACtB5tB,oBAAc,GAAGujB,IAAI,CAACoK,KAAL,CAAWF,KAAK,CAAC5gC,MAAN,GAAe+/B,UAA1B,CADnB;;AAGA3L,kBAAY,CAAC;AACX/iB,UADW;AAEX6B,qBAAa,EAAEysB,eAAe,GAAGkB,iBAAH,GAAuB,IAF1C;AAGX1tB,sBAAc,EAAEysB,gBAAgB,GAAGmB,kBAAH,GAAwB,IAH7C,EAAD,CAAZ;;;AAMA,WAAK33B,QAAL,CAAc,OAAO,EAAE8I,UAAU,EAAE,KAAd,EAAP,CAAd;AACD;AACF;;AAEDzN,QAAM,GAAG;AACP,UAAM;AACJoP,cADI;AAEJ8rB,qBAFI;AAGJC,sBAHI;AAIJE,eAJI;AAKJC,gBALI;AAMJ7sB,mBANI;AAOJC,oBAPI;AAQJitB,kBARI;AASJC,0BATI;AAUJC,iBAVI;AAWJC,yBAXI;AAYJP,sBAZI;AAaJC,sBAbI;AAcJC,uBAdI;AAeJC,uBAfI;AAgBJN,iBAhBI;AAiBJlxB,cAjBI;AAkBF,SAAKrM,KAlBT;;AAoBA,UAAM0+B,IAAI,GAAG;AACXjhC,WAAK,EAAE4/B,eAAe;AAClB,OAACG,SAAS,GAAGD,WAAb,IAA4B3sB,aAA5B,GAA4C2sB,WAD1B;AAEjBU,yBAAmB,IAAIA,mBAAmB,GAAGT,SAA9C;AACAQ,iBADA;AAEA9qB,eALO;AAMXxV,YAAM,EAAE4/B,gBAAgB;AACpBG,gBAAU,GAAG5sB,cADO;AAEnBktB,0BAAoB,IAAIA,oBAAoB,GAAGN,UAAhD;AACAK,kBADA;AAEA5qB,eAVO,EAAb;;;AAaA,QAAIyrB,YAAY,GAAGC,6DAAe,CAACC,aAAnC;;AAEA,QAAIxyB,QAAQ,IAAIgxB,eAAZ,IAA+BC,gBAAnC,EAAqD;AACnDqB,kBAAY,GAAGC,6DAAe,CAACE,cAA/B;AACD,KAFD,MAEO,IAAIzyB,QAAQ,IAAIgxB,eAAhB,EAAiC;AACtCsB,kBAAY,GAAGC,6DAAe,CAACG,SAA/B;AACD,KAFM,MAEA,IAAI1yB,QAAQ,IAAIixB,gBAAhB,EAAkC;AACvCqB,kBAAY,GAAGC,6DAAe,CAACI,UAA/B;AACD;;AAED,UAAM,EAAEpvB,UAAF,KAAiB,KAAKlJ,KAA5B;;AAEA;AACE,iEAAC,sDAAD;AACE,cAAM,EAAEi4B,YADV;AAEE,YAAI,EAAET,YAFR;AAGE,gBAAQ;AACNb,uBAAe;AACXK,wBAAgB,IAAIF,SAAS,GAAGD,WAAhB,CAAhB,GAA+CA,WADpC;AAEXrqB,iBANR;;AAQE,iBAAS;AACPoqB,wBAAgB,GAAGM,iBAAiB,GAAGH,UAAvB,GAAoCvqB,SATxD;;AAWE,gBAAQ;AACNmqB,uBAAe;AACXjJ,YAAI,CAACmF,GAAL;AACEmF,YAAI,CAACjhC,KADP;AAEE22B,YAAI,CAAC6K,GAAL;AACE/B,uBADF;AAEES,wBAAgB,IAAIH,SAAS,GAAGD,WAAhB,CAAhB,GAA+CA,WAFjD,CAFF,CADW;;;AAQXrqB,iBApBR;;AAsBE,iBAAS;AACPoqB,wBAAgB;AACZlJ,YAAI,CAACmF,GAAL;AACEmF,YAAI,CAAChhC,MADP;AAEE02B,YAAI,CAAC6K,GAAL,CAAS/B,eAAT,EAA0BW,iBAAiB,GAAGJ,UAA9C,CAFF,CADY;;AAKZvqB,iBA5BR;;AA8BE,YAAI,EAAEwrB,IA9BR;AA+BE,qBAAa,EAAE,KAAK5uB,iBA/BtB;AAgCE,gBAAQ,EAAE,KAAKC,YAhCjB;AAiCE,oBAAY,EAAE,KAAKC,gBAjCrB;AAkCE,uBAAe,EAAEkvB,wDAlCnB;AAmCE,iBAAS,EAAEl2B,iDAAE;AACX,6BADW;AAEX4G,kBAAU,IAAI,+BAFH,CAnCf;;AAuCE,qBAAa,EAAEuuB,cAvCjB;;AAyCG5sB,cAzCH,CADF;;;AA6CD,GAtJkD;AAAA;AAAA;AAyJrD8sB,kBAAkB,CAACxhC,SAAnB,GAA+BA,SAA/B;AACAwhC,kBAAkB,CAACn/B,YAAnB,GAAkCA,YAAlC,C;;AAEem/B,kB,CAAA,yE,iLAnNTnB,e,kLAEArgC,S,4KAwBAqC,Y,+KAwBAg/B,Y,+KACAC,c,iLAIAE,kB;;;;;;;;;;;;;;;;;;;;wSClFN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGO,SAASc,uBAAT,GAAmC;AACxC,SAAO,oEAAK,SAAS,EAAC,2CAAf,GAAP;AACD;;AAEM,SAASC,iBAAT,GAA6B;AAClC,SAAO,oEAAK,SAAS,EAAC,oCAAf,GAAP;AACD;;AAEM,SAASC,kBAAT,GAA8B;AACnC,SAAO,oEAAK,SAAS,EAAC,qCAAf,GAAP;AACD,C;;AAEc;AACbjB,OAAK,EAAEgB,iBADM;AAEb5uB,QAAM,EAAE6uB,kBAFK;AAGbC,aAAW,EAAEH,uBAHA,E,CAAA,yE,iLAZCA,uB,uLAIAC,iB,iLAIAC,kB;;;;;;;;;;;;;;;;;;;;;;;;;wSC5BhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAKA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;;AAEA,MAAME,aAAa,GAAG,EAAtB;;AAEA,SAASC,eAAT;AACE;AACEh1B,QAAM,EAAEi1B,YADV;AAEEr1B,eAFF;AAGEE,gBAHF;AAIE6wB,iBAJF;AAKE13B,UALF;AAMEsH,aANF;AAOE20B,eAPF;AAQEvN,eARF,EADF;;AAWEwN,QAXF;AAYE;AACA,QAAM,EAAE5wB,EAAF,KAAS4wB,QAAf;AACA,QAAMtmB,KAAK,GAAGomB,YAAY,CAAC1wB,EAAD,CAAZ,IAAoB,EAAlC;AACA,QAAM1R,UAAU;AACbgc,OAAK,IAAIA,KAAK,CAACumB,SAAf,IAA4B70B,WAAW,CAACsO,KAAK,CAACumB,SAAN,CAAgBviC,UAAjB,CAAxC,IAAyE,EAD3E;AAEA,QAAM,EAAE6U,WAAF,EAAeD,cAAf,KAAkC3H,cAAxC;;AAEA;AACA,QAAM9M,QAAQ,GAAGqiC,wFAA2B,CAAC;AAC3C50B,UAAM,EAAEkwB,eAAe,CAAC2E,OADmB;AAE3CzmB,SAF2C;AAG3C;AACAvO,sBAAkB,2BAAEV,aAAa,CAAC6O,QAAhB,qBAAE,sBAAwB8mB,mBAJD;AAK3Cv1B,UAAM,EAAEi1B,YALmC;AAM3Cz6B,WAAO,EAAEg7B,2FAAsB,CAACjxB,EAAD,CANY;AAO3CmD,eAP2C;AAQ3CD,kBAR2C;AAS3CguB,WAAO,EAAElxB,EATkC;AAU3CojB,iBAV2C;AAW3C1uB,YAX2C,EAAD,CAA5C;;;AAcAjG,UAAQ,CAACF,WAAT,GAAuB8M,aAAa,CAAC2E,EAArC;;AAEA,SAAO;AACLsK,SADK;AAELhc,cAFK;AAGL4iB,SAAK,EAAEyf,aAAa,CAAC/0B,MAAd,CAAqBoE,EAArB,CAHF;AAILlR,WAAO,EAAEuM,aAAa,CAACyQ,MAAd,CAAqBC,IAArB,CAA0BolB,0BAJ9B;AAKLl7B,WAAO,EAAEuQ,qFAAgB,MAAMgqB,aAL1B;AAML/hC,YANK;AAOL6O,YAAQ,EAAE/B,cAAc,CAAC+B,QAPpB;AAQLgU,cAAU,EAAE,CAAC,CAAC/V,cAAc,CAACsI,cAAf,CAA8B7D,EAA9B,CART;AASLwR,sBAAkB,EAAE,CAAC,CAACnW,aAAa,CAAC+1B,oBAT/B;AAUL3f,oBAAgB,EAAE,CAAC,CAACpW,aAAa,CAACg2B,kBAV7B;AAWL3f,kBAAc,EAAE,CAAC,CAACrW,aAAa,CAACi2B,gBAX3B;AAYL3f,gBAAY,EAAE,CAAC,CAACtW,aAAa,CAACk2B,cAZzB;AAaLthC,YAAQ,kBAAEyE,QAAQ,CAACsL,EAAD,CAAV,qBAAE,aAAc/P,QAbnB;AAcL6E,eAAW,mBAAEJ,QAAQ,CAACsL,EAAD,CAAV,qBAAE,cAAclL,WAdtB,EAAP;;AAgBD;;AAED,SAASpB,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAOC,gEAAkB;AACvB;AACEqvB,+FADF;AAEElgB,2FAFF;AAGEtL,yFAHF;AAIEma,gGAJF;AAKEoO,wFALF;AAMEC,wGANF;AAOEC,4GAPF;AAQEtN,iFARF;AASE1gB,sEATF,EADuB;;AAYvByB,UAZuB,CAAzB;;AAcD,C;;AAEcG,2DAAO,CAAC28B,eAAD,EAAkB/8B,kBAAlB,CAAP,CAA6C7C,yEAA7C,C,CAAA,yE,iLAzET2/B,a,wJAEGC,e,0JAsDA/8B,kB;;;;;;;;;;;;;;;;;;;;;;wSC9FT;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAMA,SAAS,eAAT,CAAyB,KAAzB,EAAyC;AACvC,QAAM,EACJ,WADI,EAEJ,aAFI,EAGJ,MAHI,EAIJ,QAJI,EAKJ,aALI,EAMJ,cANI,EAOJ,eAPI,EAQJ,YARI,EASJ,aATI,KAUF,KAVJ;AAYA,SAAO;AACL,gBAAY,EAAE,aAAa,CAAC,MAAd,CAAqB,cAD9B;AAEL,WAAO,EAAE,aAAa,CAAC,MAAd,CAAqB,IAArB,CAA0B,0BAF9B;AAGL,UAAM,EAAE,aAAa,CAAC,MAHjB;AAIL,iBAJK;AAKL,kBALK;AAML,UANK;AAOL,eAPK;AAQL;AACA;AACA;AACA;AACA;AACA,iBAAa,EAAE;AACb,SAAG,qFAAgB,EADN;AAEb,SAAG,2FAAmB,CAAC;AACrB;AACA,0BAAkB,2BAAE,aAAa,CAAC,QAAhB,qBAAE,sBAAwB,mBAFvB;AAGrB,qBAAa,EAAE,aAAa,CAAC,OAHR;AAIrB,gBAJqB;AAKrB,cAAM,EAAE,eAAe,CAAC,OALH,EAAD,CAFT,EAbV;;;AAuBL,sBAAkB,4BAAE,aAAa,CAAC,QAAhB,qBAAE,uBAAwB,mBAvBvC;AAwBL,iBAAa,EAAE,2FAAmB,CAAC,QAAD,EAAW,UAAX,CAxB7B;AAyBL,UAAM,EAAE,aAAa,CAAC,MAzBjB;AA0BL,UAAM,EAAE,eAAe,CAAC,OA1BnB;AA2BL,gBA3BK,EAAP;;AA6BD;AAED,SAAS,kBAAT,CAA4B,QAA5B,EAA8C;AAC5C,SAAO;AACL,WAAO,EAAE,gEAAkB,CACzB;AACE,sGADF;AAEE,gHAFF;AAGE,mFAHF;AAIE,wEAJF,EADyB;AAOzB,YAPyB,CADtB,EAAP;;AAWD,C;AAEc,2DAAO,CAAC,eAAD,EAAkB,kBAAlB,CAAP,CAA6C,6DAA7C,C,CAAA,yE,iLA1DN,e,6JA4CA,kB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSC9ET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAWA,MAAM5F,SAAS,GAAG;AAChBkS,IAAE,EAAEhS,iDAAS,CAACgB,MADE;AAEhB4oB,UAAQ,EAAE5pB,iDAAS,CAACgB,MAFJ;AAGhBqR,OAAK,EAAErS,iDAAS,CAACI,MAHD;AAIhB6T,OAAK,EAAEjU,iDAAS,CAACI,MAJD;AAKhBw7B,iBAAe,EAAE57B,iDAAS,CAACkB,IALX;AAMhBo6B,kBAAgB,EAAEt7B,iDAAS,CAACkB,IANZ;AAOhB46B,aAAW,EAAE97B,iDAAS,CAACa,IAPP;AAQhBgnB,WAAS,EAAEtV,+DAAc,CAAClS,UARV;AAShBynB,iBAAe,EAAEvV,+DAAc,CAAClS,UAThB;AAUhBw7B,iBAAe,EAAE77B,iDAAS,CAACa,IAAV,CAAeR,UAVhB;AAWhB20B,iBAAe,EAAEh1B,iDAAS,CAACa,IAAV,CAAeR,UAXhB;AAYhB40B,kBAAgB,EAAEj1B,iDAAS,CAACa,IAAV,CAAeR,UAZjB;AAahBmS,qBAAmB,EAAExS,iDAAS,CAACa,IAAV,CAAeR,UAbpB;AAchB6D,UAAQ,EAAElE,iDAAS,CAACa,IAAV,CAAeR,UAdT;AAehBo0B,mBAAiB,EAAEz0B,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACgB,MAA5B,CAfH;AAgBhB0zB,uBAAqB,EAAE10B,iDAAS,CAACI,MAhBjB;AAiBhBG,aAAW,EAAEP,iDAAS,CAACI,MAAV,CAAiBC,UAjBd;AAkBhBoS,oBAAkB,EAAEzS,iDAAS,CAACkB,IAlBd,EAAlB;;;AAqBA,MAAMiB,YAAY,GAAG;AACnBsyB,mBAAiB,EAAE,EADA;AAEnBC,uBAAqB,EAAE,CAFJ;AAGnBjiB,oBAAkB,EAAE,IAHD,EAArB;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS+wB,wBAAT,CAAkCj2B,cAAlC,EAAkD8e,gBAAlD,EAAoE;AAClE,MAAI,CAAC9e,cAAc,CAACk2B,kBAApB,EAAwC,OAAO,IAAP;AACxC,QAAM,EAAEtjC,OAAF,EAAWutB,MAAX,KAAsBngB,cAAc,CAACk2B,kBAA3C;AACA,SAAO;AACLtjC,WADK;AAELyR,SAAK,EAAEya,gBAAgB,CAAClsB,OAAD,CAAhB,CAA0BguB,MAA1B,CAAiCT,MAAjC,CAFF,EAAP;;AAID;;AAED,SAAS+U,eAAT;AACE;AACErE,iBAAe,EAAEsF,cADnB;AAEEn2B,gBAFF;AAGEF,eAHF;AAIEgf,kBAJF;AAKE+I,eALF,EADF;;AAQEwN,QARF;AASE;AACA,QAAMxE,eAAe,GAAGsF,cAAc,CAACX,OAAvC;AACA,QAAM,EAAE/wB,EAAF,EAAM4X,QAAN,KAAmBgZ,QAAzB;AACA,QAAM/a,SAAS,GAAGuW,eAAe,CAACpsB,EAAD,CAAjC;AACA,QAAM/O,KAAK,GAAG;AACZ4kB,aADY;AAEZuW,mBAFY;AAGZtW,mBAAe,EAAEsW,eAAe,CAACxU,QAAD,CAHpB;AAIZta,YAAQ,EAAE/B,cAAc,CAAC+B,QAJb;AAKZuK,cAAU,EAAE6pB,cAAc,CAACC,IAAf,CAAoBj5B,MALpB;AAMZoP,cAAU,EAAE4pB,cAAc,CAACE,MAAf,CAAsBl5B,MANtB;AAOZzC,WAAO,EAAEuQ,qFAAgB,EAPb;AAQZic,qBAAiB,EAAElnB,cAAc,CAACknB,iBARtB;AASZ4J,oBAAgB,EAAE9wB,cAAc,CAAC8wB,gBATrB;AAUZ3J,yBAAqB,EAAEnnB,cAAc,CAACmnB,qBAV1B;AAWZn0B,eAAW,EAAE8M,aAAa,CAAC2E,EAXf;AAYZojB,iBAZY;AAaZT,sBAAkB,EAAE6O,wBAAwB;AAC1Cj2B,kBAD0C;AAE1C8e,oBAF0C,CAbhC,EAAd;;;;AAmBA;AACA;AACA,MAAIxE,SAAJ,EAAe;AACb,UAAMgc,aAAa,GAAGhc,SAAS,CAACrF,IAAhC;AACA,QAAIqhB,aAAa,KAAKrM,8DAAlB,IAA8BqM,aAAa,KAAK7M,iEAApD,EAAiE;AAC/D,YAAM,EAAE8M,aAAF,EAAiBC,YAAjB,KAAkCC,+EAAyB,CAAC;AAChEhyB,UADgE;AAEhE4b,kBAAU,EAAEwQ,eAFoD,EAAD,CAAjE;;;AAKA,UAAIyF,aAAa,KAAKrM,8DAAtB,EAAgCv0B,KAAK,CAACw3B,mBAAN,GAA4BqJ,aAA5B;AAChC,UAAID,aAAa,KAAK7M,iEAAtB,EAAmC/zB,KAAK,CAACy0B,cAAN,GAAuBqM,YAAvB;AACpC;AACF;;AAED,SAAO9gC,KAAP;AACD;;AAED,SAASyC,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAOC,gEAAkB;AACvB;AACE6D,4FADF;AAEEoyB,8FAFF;AAGE7G,8FAHF;AAIEC,gGAJF;AAKEziB,sGALF;AAMEG,uGANF;AAOE2rB,iGAPF;AAQEp6B,yEARF,EADuB;;AAWvByB,UAXuB,CAAzB;;AAaD;;AAED,MAAMs+B,kBAAN,SAAiCnhC,4CAAK,CAACC,aAAvC,CAAqD;AACnDqC,QAAM,GAAG;AACP,UAAM,EAAEyiB,SAAF,KAAgB,KAAK5kB,KAA3B;AACA,UAAMgD,SAAS,GAAG4hB,SAAS,GAAGqX,0EAAe,CAACrX,SAAS,CAACrF,IAAX,CAAlB,GAAqC,IAAhE;AACA,WAAOvc,SAAS,GAAG,4DAAC,SAAD,EAAe,KAAKhD,KAApB,CAAH,GAAmC,IAAnD;AACD,GALkD;AAAA;AAAA;AAQrDghC,kBAAkB,CAACnkC,SAAnB,GAA+BA,SAA/B;AACAmkC,kBAAkB,CAAC9hC,YAAnB,GAAkCA,YAAlC,C;;AAEe2D,2DAAO,CAAC28B,eAAD,EAAkB/8B,kBAAlB,CAAP,CAA6Cu+B,kBAA7C,C,CAAA,yE,iLAvHTnkC,S,iKAqBAqC,Y,oKAYGqhC,wB,gLASAf,e,uKAkDA/8B,kB,0KAgBHu+B,kB;;;;;;;;;;;;;;;;;;;wSCtJN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAIA;;AAEA,SAASxB,eAAT,CAAyB,EAAEl1B,cAAF,EAAzB,EAA6C;AAC3C,SAAO;AACL+B,YAAQ,EAAE/B,cAAc,CAAC+B,QADpB,EAAP;;AAGD;;AAED,SAAS5J,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAOC,gEAAkB;AACvB;AACE4M,qGADF;AAEEE,6FAFF;AAGEC,sGAHF,EADuB;;AAMvBhN,UANuB,CAAzB;;AAQD,C;;AAEcG,2DAAO,CAAC28B,eAAD,EAAkB/8B,kBAAlB,CAAP,CAA6CkN,iEAA7C,C,CAAA,yE,iLAjBN6vB,e,kKAMA/8B,kB;;;;;;;;;;;;;;;;;;;;;;;;wSClCT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAgBA;;AAOA;;AAMA;AACA;;AAEA,SAAS+8B,eAAT,CAAyB;AACvBrE,iBAAe,EAAEsF,cADM;AAEvBn2B,gBAFuB;AAGvBF,eAHuB;AAIvBI,QAJuB,EAAzB;AAKG;AACD,SAAO;AACLJ,iBADK;AAELwM,cAAU,EAAE6pB,cAAc,CAACC,IAAf,CAAoBj5B,MAF3B;AAGLoP,cAAU,EAAE4pB,cAAc,CAACE,MAAf,CAAsBl5B,MAH7B;AAILwD,UAAM,EAAEw1B,cAAc,CAACX,OAJlB;AAKL/tB,kBAAc,EAAE;AACd,KAAC0uB,cAAc,CAACX,OAAf,CAAuBmB,mEAAvB,KAA+C,EAAhD,EAAoDvhB,IAApD,IAA4D,EAD9C;AAEdmW,QAPG;AAQLjjB,kBAAc,EAAEtI,cAAc,CAACsI,cAR1B;AASLP,oBAAgB,EAAE/H,cAAc,CAAC+H,gBAT5B;AAULC,iCAA6B,EAAE,CAAC,CAAChI,cAAc,CAACgI,6BAV3C;AAWLN,aAAS,EAAE1H,cAAc,CAACf,GAXrB;AAYL0I,kBAAc,EAAE3H,cAAc,CAAC2H,cAZ1B;AAaLC,eAAW,EAAE5H,cAAc,CAAC4H,WAbvB;AAcL1H,UAdK;AAeLY,UAAM,EAAEhB,aAAa,CAACgB,MAfjB;AAgBL6K,aAAS,EAAE,CAAC,CAAC3L,cAAc,CAAC2L,SAhBvB;AAiBLvJ,eAAW,EAAE,CAAC,CAACpC,cAAc,CAACoC,WAjBzB;AAkBLtK,aAAS,EAAE8+B,wEAAkB,CAAC12B,MAAD,CAlBxB;AAmBLmD,qBAAiB,EAAE,CAAC,CAACrD,cAAc,CAACqD,iBAnB/B;AAoBL8I,0BAAsB,EAAE,CAAC,CAACnM,cAAc,CAACmM,sBApBpC;AAqBLxD,oBAAgB,EAAEmhB,IAAI,CAACmF,GAAL;AAChBjvB,kBAAc,CAAC2I,gBADC;AAEhB7I,iBAAa,CAACqQ,kBAFE,CArBb;;AAyBLpO,YAAQ,EAAE,CAAC,CAAC/B,cAAc,CAAC+B,QAzBtB;AA0BLoP,QAAI,EAAErR,aAAa,CAACqR,IA1Bf;AA2BLxC,YAAQ,EAAE7O,aAAa,CAAC6O,QA3BnB,EAAP;;AA6BD;;AAED,SAASxW,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAOC,gEAAkB;AACvB;AACEmP,2FADF;AAEEtL,yFAFF;AAGEuP,2FAHF;AAIEW,UAAM,EAAEyqB,yEAJV;AAKExqB,UAAM,EAAEyqB,yEALV;AAME7qB,oFANF;AAOEC,4FAPF;AAQER,4HARF;AASEE,wFATF;AAUEE,sFAVF;AAWEC,wFAXF;AAYEF,oFAZF;AAaEG,uGAbF;AAcEnE,gFAdF;AAeEhJ,8EAfF;AAgBE0J,UAAM,EAAEwuB,4EAhBV;AAiBEvqB,gHAjBF;AAkBEC,oGAlBF;AAmBE9V,sEAnBF;AAoBEsR,oGApBF;AAqBEyE,qGArBF;AAsBEC,yGAtBF,EADuB;;AAyBvBvU,UAzBuB,CAAzB;;AA2BD,C;;AAEcG,2DAAO,CAAC28B,eAAD,EAAkB/8B,kBAAlB,CAAP,CAA6C6+B,0DAA7C,C,CAAA,yE,iLAnEN9B,e,oKAqCA/8B,kB;;;;;;;;;;;;;;;;;;;wSC/FT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS+8B,eAAT,CAAyB,EAAErE,eAAF,EAAmB/R,gBAAnB,EAAzB,EAAgE;AAC9D,SAAO;AACLA,oBADK;AAELne,UAAM,EAAEkwB,eAAe,CAAC2E,OAFnB,EAAP;;AAID;;AAED,SAASr9B,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAOC,gEAAkB;AACvB;AACE2mB,sHADF;AAEEC,gGAFF,EADuB;;AAKvB7mB,UALuB,CAAzB;;AAOD,C;;AAEcG,2DAAO;AACpB28B,eADoB;AAEpB/8B,kBAFoB,CAAP;AAGbinB,mFAHa,C,CAAA,yE,iLAjBN8V,e,gKAOA/8B,kB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSChCT;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;;AAEA;AACA;AAMA;AAMA,MAAM,kBAAkB,GAAI,QAAD,IACzB,gEAAkB,CAChB;AACE,yBAAuB,EAAE,yFAD3B,EADgB;AAIhB,QAJgB,CADpB;AAQA,MAAM,YAAY,GAAI,UAAD,IAAyC;AAC5D,QAAM,QAAQ,GAAG;AACf,iGAAe,CAAC,OADD;AAEf,iGAAe,CAAC,KAFD;AAGf,iGAAe,CAAC,YAHD,CAAjB;;AAKA,SAAO,qGAAU,MAAV,WAAU,EACf,CAAC,CAAD,EAAI,CAAJ,KACE,uGAAQ,MAAR,SAAQ,EAAS,CAAC,CAAC,MAAX,CAAR;AACA,yGAAQ,MAAR,SAAQ,EAAS,CAAC,CAAC,MAAX,CAHK,CAAjB;AAKD,CAXD;AAaA,MAAM,eAAe,GAAG,CACtB,EACE,WADF,EAEE,gBAFF,EAGE,aAHF,EAIE,aAJF,EAKE,MALF,EAME,QANF,EAOE,eAAe,EAAE,EAAE,OAAF,EAPnB,EADsB,EAUtB,EAAE,OAAF,EAVsB,KAWpB;AACF,QAAM,mBAAmB,GAAG,gHAAwB,CAClD,OADkD,EAElD,gBAFkD,EAGlD,WAHkD,EAIlD,MAJkD,CAApD;AAOA,QAAM,gBAAgB,GAAG,sHAA8B,CACrD,aADqD,EAErD,QAFqD,EAGrD,OAHqD,EAIrD,MAJqD,EAKrD,OALqD,2BAMrD,aAAa,CAAC,QANuC,qBAMrD,sBAAwB,mBAN6B,CAAvD;AASA,QAAM,UAAU,GAAG,uDACjB,YAAY,CAAC,CAAC,GAAG,mBAAJ,EAAyB,GAAG,gBAA5B,CAAD,CADK,EAEjB,CAAC,IAAD,EAAO,IAAP,KACE,IAAI,CAAC,MAAL,KAAgB,IAAI,CAAC,MAArB;AACA,MAAI,CAAC,IAAL,KAAc,IAAI,CAAC,IADnB;AAEC,MAAI,CAAC,MAAL,KAAgB,+FAAe,CAAC,OAAhC;AACC,MAAI,CAAC,MAAL,KAAgB,+FAAe,CAAC,OAHlC,CAHe,CAAnB;AASA,QAAM,4BAA4B,GAAG,uGAAU,MAAV,WAAU,EAC7C,SAAS,IAAI,SAAS,CAAC,MAAV,KAAqB,+FAAe,CAAC,kBADL,CAA/C;AAGA,QAAM,iBAAiB,GAAG,uGAAU,MAAV,WAAU,EAClC,SAAS,IAAI,SAAS,CAAC,MAAV,KAAqB,+FAAe,CAAC,OADhB,CAApC;AAGA,QAAM,eAAe,GAAG,uGAAU,MAAV,WAAU,EAChC,SAAS,IAAI,SAAS,CAAC,MAAV,KAAqB,+FAAe,CAAC,KADlB,CAAlC;AAGA,QAAM,sBAAsB,GAAG,uGAAU,MAAV,WAAU,EACvC,SAAS,IAAI,SAAS,CAAC,MAAV,KAAqB,+FAAe,CAAC,YADX,CAAzC;AAIA,SAAO;AACL,WADK;AAEL,qBAFK;AAGL,gCAHK;AAIL,mBAJK;AAKL,0BALK,EAAP;;AAOD,CAzDD,C;AA2De,2DAAO,CAAC,eAAD,EAAkB,kBAAlB,CAAP,CAA6C,6EAA7C,C,CAAA,yE,iLAhFT,kB,oKAQA,Y,8JAaA,e;;;;;;;;;;;;;;;;;;wSCvDN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,SAAS+8B,eAAT,CAAyB,EAAEE,aAAF,EAAiBt1B,aAAjB,EAAgCE,cAAhC,EAAzB,EAA2E;AACzE,SAAO;AACLc,UAAM,EAAEhB,aAAa,CAACgB,MADjB;AAEL2R,oBAAgB,EAAEzS,cAAc,CAACi3B,QAF5B;AAGL52B,UAAM,EAAE+0B,aAAa,CAAC/0B,MAHjB;AAILvI,aAAS,EAAEs9B,aAAa,CAACt9B,SAJpB;AAKL1D,gBAAY,EAAEghC,aAAa,CAAChhC,YALvB;AAMLoe,eAAW,EAAE4iB,aAAa,CAAC5iB,WANtB;AAOLzQ,YAAQ,EAAE/B,cAAc,CAAC+B,QAPpB,EAAP;;AASD;;AAED,SAAS5J,kBAAT,CAA4BC,QAA5B,EAAsC;AACpC,SAAOC,gEAAkB;AACvB;AACEka,yFADF,EADuB;;AAIvBna,UAJuB,CAAzB;;AAMD,C;;AAEcG,2DAAO,CAAC28B,eAAD,EAAkB/8B,kBAAlB,CAAP,CAA6Cqb,8DAA7C,C,CAAA,yE,iLArBN0hB,e,+JAYA/8B,kB;;;;;;;;;;;;ACpCT,cAAc,mBAAO,CAAC,4OAA4H;;AAElJ;AACA,cAAc,QAAS;AACvB;;AAEA;;AAEA;AACA;;AAEA,aAAa,mBAAO,CAAC,yJAA8E;;AAEnG;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uSCKA;AAIA;AAEA;AACO,MAAM,kBAAkB,GAAG,CAAC,EACjC,KADiC,EAEjC,MAFiC,EAGjC,KAHiC,EAIjC,aAJiC,EAKjC,QALiC,EAMjC,aANiC,EAAD,KAc7B;AACH,QAAM,OAAO,oBAAG,MAAM,CAAC,KAAD,CAAT,2CAAG,cAAe,IAAlB,qBAAG,mBAAqB,OAArC;AACA,MAAI,MAAM,CAAC,KAAD,CAAN,CAAc,IAAd,KAAuB,0DAA3B,EAAuC;AACrC;AACA,QAAI,+GAAK,CAAC,QAAN,iBAAwB,OAAxB,CAAJ,EAAsC;AACpC;AACD;AACD,QAAI,CAAC,aAAa,CAAC,QAAD,CAAlB,EAA8B;AAC5B;AACA;AACA,mBAAa,CAAC,QAAD,CAAb,GAA0B;AACxB,aAAK,EAAE,EADiB;AAExB,cAAM,EAAE,aAFgB,EAA1B;;AAID;AACD;AACA,iBAAa,CAAC,QAAD,CAAb,CAAwB,KAAxB,CAA8B,IAA9B,CAAmC,OAAnC;AACA;AACD;AACD;AACA,mHAAM,CAAC,KAAD,CAAN,CAAc,QAAd,kBAAgC,KAAD,IAC7B,kBAAkB,CAAC;AACjB,SADiB;AAEjB,UAFiB;AAGjB,SAHiB;AAIjB,iBAJiB;AAKjB,YALiB;AAMjB,iBANiB,EAAD,CADpB;;AAUD,CA5CM;AA8CA,MAAM,mBAAmB,GAAG,CACjC,QADiC,EAEjC,IAFiC,sCAIjC,6SAAc,QAAd;AACU,MAAI,IAAI,IAAI,CAAC,IAAD,CADtB;AAGI,GAAC,IAAD,EAAO,IAAP,MAAiB,EAAE,GAAG,IAAL,EAAW,CAAC,IAAI,CAAC,EAAN,GAAW,IAAI,GAAG,IAAI,CAAC,IAAD,CAAP,GAAgB,IAA1C,EAAjB,CAHJ,EAII,EAJJ,CAJiC,EAA5B;AAWA,MAAM,mBAAmB,GAAG,CAAC,EAClC,kBADkC,EAElC,aAFkC,EAGlC,QAHkC,EAIlC,MAJkC,EAAD,KAUf;AAClB,QAAM,aAAa,GAAG,EAAtB;AAEA;AACA,wMAAc,QAAd,mBAAgC,CAAC,EAAE,EAAE,EAAE,QAAN,EAAgB,aAAhB,EAAD,KAAoC;AAClE,UAAM,KAAK,oCAAG,aAAH,8CAAG,aAAa,CAAG,QAAH,CAAhB,qBAAG,uBAA2B,KAA9B;AACT,sBADS,6CACT,kBAAkB,CAAG,QAAH,CADT,+CACT,sBAAgC,YADvB,qBACT,uBAA8C,KADrC,mBAC8C;AACrD,cAAQ,EAAE,CAAC,4DAAD,CAD2C;AAErD,cAAQ,EAAE,CAAC,QAAD,CAF2C,EADzD;;AAKA;AACA,oHAAK,CAAC,QAAN,kBAAwB,YAAD,IAAkC;AACvD,uHAAM,CAAC,YAAD,CAAN,CAAqB,QAArB,kBAAuC,KAAD,IAAkB;AACtD;AACA,0BAAkB,CAAC;AACjB,eADiB;AAEjB,gBAFiB;AAGjB,eAHiB;AAIjB,uBAJiB;AAKjB,kBALiB;AAMjB,uBANiB,EAAD,CAAlB;;AAQD,OAVD;AAWD,KAZD;AAaD,GApBD;AAqBA,SAAO,aAAP;AACD,CApCM,C,iLAzDM,kB,0KA8CA,mB,2KAWA,mB;;;;;;;;;;;;;;;;wSCpFb;;;;;;;;;;;;;;;;;AAiBG;AACH;;AAGe;AACb;AACE,OAAK,EAAE,iEADT;AAEE,OAAK,EAAE,2DAAC,CAAC,aAAD,CAFV;AAGE,WAAS,EAAE,yBAHb,EADa;;AAMb;AACE,OAAK,EAAE,2DADT;AAEE,OAAK,EAAE,2DAAC,CAAC,OAAD,CAFV;AAGE,WAAS,EAAE,mBAHb,EANa,C,CAAA,yE;;;;;;;;;;;;;;;;;;;;;;;;;wSCrBf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,SAASipB,yBAAT,CAAmC;AAChDL,qBAAmB,GAAG,EAD0B;AAEhDC,mBAFgD;AAGhDrB,gBAAc,GAAG,EAH+B;AAIhDhf,QAAM,GAAG,EAJuC,EAAnC;AAKZ;AACD,QAAMqC,GAAG,GAAG+e,yEAAwB,CAAC;AACnChB,uBADmC;AAEnCC,qBAFmC,EAAD,CAApC;;AAIA,QAAMgB,WAAW,GAAGhB,iBAAiB;AACjC,GAACA,iBAAD,CADiC;AAEjCD,qBAFJ;AAGA,QAAMR,eAAe,GAAGyC,qFAAoC,CAAC;AAC3DjC,uBAD2D;AAE3DC,qBAF2D,EAAD,CAA5D;;AAIA,QAAM5C,KAAK,GAAGgC,wEAAuB,CAAC;AACpCC,cAAU,EAAE1f,MADwB;AAEpC2f,gBAAY,EAAE0B,WAFsB;AAGpCzB,mBAHoC,EAAD,CAArC;;AAKA,QAAM2W,iBAAiB,GAAG,IAAI,kFAA9B;AACA,iGAAAlV,WAAW,MAAX,CAAAA,WAAW,EAASI,WAAW,IAAI;AACjC,8GAACzC,cAAc,CAACyC,WAAD,CAAd,CAA4B9D,OAA5B,IAAuC,EAAxC,iBAAoD1rB,OAAO,IAAI;AAC7DskC,uBAAiB,CAACC,GAAlB,CAAuB,GAAEvkC,OAAQ,IAAGwvB,WAAY,EAAhD;AACD,KAFD;AAGD,GAJU,CAAX;AAKA,QAAM9D,OAAO,GAAG,CAAC,GAAG4Y,iBAAJ,CAAhB;AACA,QAAM1Y,QAAQ,GAAGmB,cAAc,CAAC3c,GAAD,CAAd;AACb2c,gBAAc,CAAC3c,GAAD,CAAd,CAAoBwb,QADP;AAEbgC,4EAAyB,CAACpC,KAAD,EAAQ,CAAR,CAF7B;;AAIA,SAAO;AACL,KAACpb,GAAD,GAAO;AACLob,WADK;AAELyC,mBAAa,EAAE,CAAC,GAAGzC,KAAJ,CAFV;AAGLE,aAHK;AAILE,cAJK,EADF,EAAP;;;AAQD,C,iLAzCuB4C,yB;;;;;;;;;;;;;;;;;;;;;;;;;uSCHV,SAAU,wBAAV,CAAmC,OAAnC,EAA6D;AACzE,SAAO,0SAAe,OAAf;AACA,GAAC,CAAC,MAAD,EAAS,MAAT,CAAD,MAAuB;AAC1B,OAAG,EAAE,MADqB;AAE1B,MAAE,EAAE,4FAAc,MAAd,IAAwB,IAAxB,GAA+B,IAFT;AAG1B,OAAG,EAAE,MAHqB,EAAvB,CADA;;AAMG,QAAM,IAAI,MAAM,CAAC,GAAP,KAAe,IAN5B,CAAP;AAOD,C,iLARuB,wB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDxB;AAMA;AAEA;AAEA;AAEA;AACA;AACA,MAAM,oBAAoB,GAAG,EAA7B;AACA,MAAM,qBAAqB,GAAG,EAA9B;AAeA;AACA;AACA;AACc,SAAU,2BAAV,CAAsC,EAClD,KADkD,EAElD,MAFkD,EAGlD,OAHkD,EAIlD,aAJkD,EAKlD,kBALkD,EAMlD,WANkD,EAOlD,cAPkD,EAQlD,OARkD,EASlD,MATkD,EAUlD,QAVkD,EAAtC,EAWyB;AACrC;AACA,QAAM,KAAK,GAAG,2EAAyB,CAAC,QAA1B,CAAmC,WAAnC,EAAgD,cAAhD,CAAd;AACA,QAAM,WAAW,GAAG,KAAK,CAAC,WAAN,EAApB;AAEA;AACA,MACE,CAAC,oBAAoB,CAAC,OAAD,CAApB,IAAiC,EAAlC,MAA0C,OAA1C;AACC,aAAW,IAAI,IAAf;AACC,uBAAqB,CAAC,OAAD,CAArB,CAA+B,YAA/B,KAAgD,WAFlD;AAGA,uBAAqB,CAAC,OAAD,CAArB,CAA+B,eAA/B,KAAmD,cAHnD;AAIA,wDAAQ,qBAAqB,CAAC,OAAD,CAArB,CAA+B,YAAvC,EAAqD,WAArD,CAJA;AAKA,GAAC,CAAC,qBAAqB,CAAC,OAAD,CALvB;AAMA,UAAQ,KAAK,SAPf,EAQE;AACA,WAAO,qBAAqB,CAAC,OAAD,CAA5B;AACD;AAED,MAAI,SAAS,GAAqC,EAAlD;AACA,QAAM,aAAa,GAAG,sFAAmB,CAAC;AACxC,sBADwC;AAExC,YAFwC;AAGxC,UAHwC;AAIxC,iBAAa,EAAE,aAAa,CAAC,OAJW,EAAD,CAAzC;;AAMA,QAAM,uBAAuB,GAAG,0SAAe,aAAf;AACtB,GAAC,GAAG,EAAE,KAAF,EAAH,CAAD,KAAmB,oGAAK,MAAL,MAAK,EAAU,KAAK,CAAC,EAAhB,CADF;AAEzB,GAAC,CAAC,QAAD,CAAD,KAAgB,QAFS,CAAhC;AAGA,MAAI,uBAAuB,CAAC,MAA5B,EAAoC;AAClC,aAAS,GAAG;AACV,qBAAe,EAAE,qGAAgB,CAC/B,QAD+B,EAE/B,MAF+B,EAG/B,uBAH+B,CADvB,EAAZ;;AAOD;AAED,QAAM,QAAQ,GAAG;AACf,OAAG,KAAK,CAAC,QADM;AAEf,QAAI,WAAW,IAAI,EAAE,YAAY,EAAE,WAAhB,EAAnB,CAFe;AAGf,gBAAY,EAAE,WAHC;AAIf,iBAAa,EAAE,yEAAwB,CAAC,OAAD,CAJxB;AAKf,OAAG,SALY,EAAjB;;AAOA,sBAAoB,CAAC,OAAD,CAApB,GAAgC,OAAhC;AACA,uBAAqB,CAAC,OAAD,CAArB,GAAiC,QAAjC;AAEA,SAAO,QAAP;AACD,C,iLA/EK,oB,sLACA,qB,uLAkBkB,2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uSCjCxB;AAEO,MAAM,SAAS,GAAG,CAAC,CAAD,EAAc,CAAd,KAA8B;AACrD,GAAG,8FAAC,MAAD,EAAC,EAAQ,CAAC,IAAI,CAAC,gGAAC,MAAD,EAAC,EAAU,CAAV,CAAf,CADiD;AAErD,GAAG,8FAAC,MAAD,EAAC,EAAQ,CAAC,IAAI,CAAC,gGAAC,MAAD,EAAC,EAAU,CAAV,CAAf,CAFiD,CAAhD;;AAKA,MAAM,wBAAwB,GAAG,CACtC,aADsC,EAEtC,oBAFsC,KAGpC;AACF,QAAM,QAAQ,GAAG,yFAAY,aAAZ,CAAjB;AACA,QAAM,eAAe,GAAG,yFAAY,oBAAZ,CAAxB;AACA,QAAM,WAAW,GAAa,iHAAS,CAAC,QAAD,EAAW,eAAX,CAAT,iBAC5B,EAAE,IAAI,aAAa,CAAC,EAAD,CAAb,IAAqB,oBAAoB,CAAC,EAAD,CADnB,CAA9B;AAGA,QAAM,iBAAiB,GAAG,IAAI,iFAAY,CAAC,GAAG,QAAJ,EAAc,GAAG,eAAjB,CAAhB,CAA1B;AACA,kHAAiB,MAAjB,kBAAiB,EAAS,OAAO,IAAG;AAClC,QACE,CAAC,mEAAe,CAAC,aAAa,CAAC,OAAD,CAAd,EAAyB,oBAAoB,CAAC,OAAD,CAA7C,CADlB,EAEE;AACA,iBAAW,CAAC,IAAZ,CAAiB,OAAjB;AACD;AACF,GANgB,CAAjB;AAOA,SAAO,CAAC,GAAG,IAAI,iFAAI,WAAR,CAAJ,CAAP;AACD,CAlBM,C,iLALM,S,gKAKA,wB;;;;;;;;;;;;;;;;;;;wSC1Bb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASsO,yBAAT,CAAmC;AAChDC,kBADgD;AAEhDzI,mBAAiB,GAAG,EAF4B,EAAnC;AAGZ;AACD;AACE,GAACyI,gBAAD;AACAzI,mBAAiB,CAAC/pB,MAAlB,KAA6B,CAD7B;AAEA,iGAAA+pB,iBAAiB,MAAjB,CAAAA,iBAAiB,EAASyI,gBAAgB,CAAClrB,EAA1B,CAAjB,KAAmD,CAAC,CAHtD;AAIE;AACA,WAAO,CAAC,CAAR;AACD;;AAED,QAAM2yB,mBAAmB,GAAG,iGAAAlQ,iBAAiB,MAAjB,CAAAA,iBAAiB;AAC3CziB,IAAE,IAAIA,EAAE,KAAKkrB,gBAAgB,CAAClrB,EADa,CAA7C;;AAGA,QAAM4yB,YAAY,GAAGnQ,iBAAiB,CAACkQ,mBAAmB,GAAG,CAAvB,CAAtC;AACA,MAAI,0GAAAzH,gBAAgB,CAAC1oB,QAAjB,iBAAkCowB,YAAlC,KAAmD,CAAvD,EAA0D;AACxD,WAAO,6GAAA1H,gBAAgB,CAAC1oB,QAAjB;AACLqwB,WAAO,IAAIA,OAAO,KAAKD,YADlB,CAAP;;AAGD;AACD,SAAO,CAAC,CAAR;AACD,C,iLAtBuB3H,yB;;;;;;;;;;;;;;;;;;;;wSClBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,SAAS9G,mCAAT,CAA6C1B,iBAA7C,EAAgE;AAC7E,QAAM7c,MAAM,GAAG,EAAf;;AAEA,MAAI6c,iBAAiB,CAAC/pB,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,UAAMo6B,WAAW,GAAG,4FAAArQ,iBAAiB,MAAjB,CAAAA,iBAAiB,CAArC;;AAEA,WAAOqQ,WAAW,CAACp6B,MAAnB,EAA2B;AACzB,YAAMyY,WAAW,GAAG2hB,WAAW,CAACC,GAAZ,EAApB;AACA,YAAMlB,aAAa,GAAG1gB,WAAW,CAAC6hB,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAtB;;AAEAptB,YAAM,CAACisB,aAAa,CAACzS,WAAd,EAAD,CAAN,GAAsCjO,WAAtC;AACA,UAAI,CAAC,+FAAA8hB,qEAA0B,MAA1B,CAAAA,qEAA0B,EAAUpB,aAAV,CAA/B,EAAyD;AACvD;AACD;AACF;AACF;;AAED,SAAOjsB,MAAP;AACD,C,iLAlBuBue,mC;;;;;;;;;;;;;;;;;;;;wSCpBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,SAAS/lB,qBAAT,CAA+BlC,MAA/B,EAAuC;AACpD,SAAO,mMAAcA,MAAd,kBAA6B,CAACg3B,QAAD,EAAWhI,gBAAX,KAAgC;AAClE;AACEA,oBAAgB;AAChBA,oBAAgB,CAAC1a,IAAjB,KAA0BC,0DAD1B;AAEAya,oBAAgB,CAACva,IAFjB;AAGAua,oBAAgB,CAACva,IAAjB,CAAsBxiB,OAJxB;AAKE;AACA+kC,cAAQ,CAACvzB,IAAT,CAAcurB,gBAAgB,CAACva,IAAjB,CAAsBxiB,OAApC;AACD;AACD,WAAO+kC,QAAP;AACD,GAVM,EAUJ,EAVI,CAAP;AAWD,C,iLAZuB90B,qB;;;;;;;;;;;;;;;;;;;;;wSCpBxB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AAEc,SAAU,eAAV,CACZ,QADY,EAEZ,OAAO,GAAG,EAFE,EAGZ,IAAI,GAAG,EAHK,EAIZ,UAJY,EAIc;AAE1B,QAAM,eAAe,GAAG,IAAI,gGAA5B;AAEA;AACA;AACA,iBAAe,CAAC,GAAhB,CACE,wDAAU,CAAC,gBAAX,CAA4B,IAD9B,EAEE,4FAAe,4EAA2B,CAAC,OAAD,CAA1C,CAFF;AAKA,MAAI,UAAJ,EAAgB;AACd,mBAAe,CAAC,GAAhB,CAAoB,wDAAU,CAAC,UAAX,CAAsB,IAA1C,EAAgD,UAAU,CAAC,QAAX,EAAhD;AACD;AAED,QAAM,WAAW,GAAG,IAAI,GAAG,IAAI,IAAI,EAAX,GAAgB,EAAxC;AAEA,SAAO,GAAG,QAAQ,IAAI,eAAe,CAAC,QAAhB,EAA0B,GAAG,WAAW,EAA9D;AACD,C,iLAtBuB,e;;;;;;;;;;;;;;;;;wSCrBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS0tB,uBAAT,CAAiCI,aAAjC,EAAgD5B,QAAhD,EAA0D;AACvE,QAAM6I,kBAAkB,GAAG,uGAACjH,aAAa,CAACkH,OAAd,IAAyB,EAA1B,gBAA3B;AACAD,oBAAkB,CAACxzB,IAAnB,CAAwBusB,aAAa,CAAClsB,EAAtC;AACAmzB,oBAAkB,CAACxzB,IAAnB,CAAwBusB,aAAa,CAAC1pB,QAAd,CAAuB8nB,QAAvB,CAAxB;;AAEA,SAAO6I,kBAAP;AACD,C,iLANuBrH,uB;;;;;;;;;;;;;;;;;;;;;;;;wSClBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,MAAMjV,QAAQ,GAAG,UAAjB;AACA,MAAMG,UAAU,GAAG,YAAnB;AACA,MAAMF,WAAW,GAAG,aAApB;AACA,MAAMC,SAAS,GAAG,WAAlB;;AAEP;AACA;AACA,MAAMsc,sBAAsB,GAAG,EAA/B;AACA,MAAMC,0BAA0B,GAAG,EAAnC;;AAEA;AACA;AACA;AACA;AACA,IAAIC,oBAAoB,GAAG,EAA3B;AACO,SAASpa,cAAT,GAA0B;AAC/Boa,sBAAoB,GAAG,EAAvB;AACD;;AAEc,SAAS7a,eAAT,CAAyBhD,OAAzB,EAAkCzhB,SAAlC,EAA6C;AAC1D,QAAM;AACJoM,SAAK,EAAEmzB,cADH;AAEJ1d,mBAFI;AAGJD,aAHI;AAIJG,eAJI;AAKJI,yBALI;AAMFniB,WAAS,CAAChD,KANd;;AAQA,QAAM2nB,YAAY,GAAGlD,OAAO,CAACC,OAAR,EAArB;;AAEA;AACA,MAAI,CAACiD,YAAD,IAAiBA,YAAY,CAAC5Y,EAAb,KAAoB6V,SAAS,CAAC7V,EAAnD,EAAuD;AACrD,WAAO,IAAP;AACD;;AAED;AACA;AACE4Y,cAAY,CAACpI,IAAb,KAAsB8c,yDAAtB;AACAzX,WAAS,CAACrF,IAAV,KAAmBwa,wDADnB;AAEAwI,gBAAc,KAAK,CAHrB;AAIE;AACA,WAAO,IAAP;AACD;;AAED,QAAMC,UAAU,GAAGC,6DAAY,CAAC;AAC9Bne,cAAU,EAAEM,SAAS,CAACrF,IADQ;AAE9BmjB,eAAW,EAAEH,cAFiB;AAG9BI,aAAS,EAAEhb,YAAY,CAACpI,IAHM,EAAD,CAA/B;;;AAMA,QAAM+E,UAAU,GAAGO,eAAe,IAAIA,eAAe,CAACtF,IAAtD;AACA,QAAMmjB,WAAW,GAAG;AAClBH,gBAAc;AACbje,YAAU,KAAKyV,wDAAf,IAA2BzV,UAAU,KAAK+X,yDAA1C,GAAsD,CAAtD,GAA0D,CAAC,CAD9C,CADhB;;AAIA,QAAMuG,YAAY,GAAGH,6DAAY,CAAC;AAChCne,cADgC;AAEhCoe,eAFgC;AAGhCC,aAAS,EAAEhb,YAAY,CAACpI,IAHQ,EAAD,CAAjC;;;AAMA,MAAI,CAACijB,UAAD,IAAe,CAACI,YAApB,EAAkC;AAChC,WAAO,IAAP;AACD;;AAED,QAAMC,WAAW,GAAG,CAACje,SAAS,CAACrT,QAAV,IAAsB,EAAvB,EAA2B9J,MAA3B,GAAoC,CAAxD;AACA,QAAMq7B,oBAAoB;AACxB/d,aAAW,KAAK,KAAhB,GAAwB,UAAxB,GAAqC,YADvC;AAEA,QAAMge,sBAAsB;AAC1Bhe,aAAW,KAAK,KAAhB,GAAwB,YAAxB,GAAuC,UADzC;;AAGA,MAAII,qBAAqB,IAAIqd,UAAzB,IAAuC,CAACI,YAA5C,EAA0D;AACxD;AACA,QAAIE,oBAAoB,KAAK,UAA7B,EAAyC;AACvC,aAAOD,WAAW,GAAG9c,UAAH,GAAgBD,SAAlC;AACD;AACD,WAAO+c,WAAW,GAAGhd,WAAH,GAAiBD,QAAnC;AACD;;AAED,QAAMod,eAAe,GAAGhgC,SAAS,CAAC0N,GAAV,CAAcH,qBAAd,EAAxB;AACA,QAAM0yB,YAAY;AAChBxe,SAAO,CAACye,eAAR,MAA6BZ,oBAAoB,CAAC1d,SAAS,CAAC7V,EAAX,CADnD;;AAGA,MAAI,CAACk0B,YAAD,IAAiB,CAACD,eAAtB,EAAuC;AACrC,WAAO,IAAP;AACD;;AAEDV,sBAAoB,CAAC1d,SAAS,CAAC7V,EAAX,CAApB,GAAqCk0B,YAArC;AACA,QAAME,QAAQ,GAAG/O,IAAI,CAACgP,GAAL,CAASH,YAAY,CAAC9e,CAAb,GAAiB6e,eAAe,CAACvyB,GAA1C,CAAjB;AACA,QAAM4yB,WAAW,GAAGjP,IAAI,CAACgP,GAAL,CAASH,YAAY,CAAC9e,CAAb,GAAiB6e,eAAe,CAACxyB,MAA1C,CAApB;AACA,QAAM8yB,SAAS,GAAGlP,IAAI,CAACgP,GAAL,CAASH,YAAY,CAAC/e,CAAb,GAAiB8e,eAAe,CAACrxB,IAA1C,CAAlB;AACA,QAAM4xB,UAAU,GAAGnP,IAAI,CAACgP,GAAL,CAASH,YAAY,CAAC/e,CAAb,GAAiB8e,eAAe,CAAC5E,KAA1C,CAAnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE,GAACjZ,qBAAD;AACA,0GAACge,QAAD,EAAWE,WAAX,EAAwBC,SAAxB,EAAmCC,UAAnC;AACEjF,OAAK,IAAIA,KAAK,GAAG+D,0BADnB,CAFF;;AAKE;AACA,WAAO,IAAP;AACD;;AAED;AACA,MAAIO,YAAY,IAAI,CAACJ,UAArB,EAAiC;AAC/B,QAAIO,sBAAsB,KAAK,UAA/B,EAA2C;AACzC,YAAMS,UAAU;AACdR,qBAAe,CAACrxB,IAAhB;AACA,OAACqxB,eAAe,CAAC5E,KAAhB,GAAwB4E,eAAe,CAACrxB,IAAzC,IAAiD,CAFnD;AAGA,aAAOsxB,YAAY,CAAC/e,CAAb,GAAiBsf,UAAjB,GAA8B1d,SAA9B,GAA0CC,UAAjD;AACD;AACD,UAAM0d,UAAU;AACdT,mBAAe,CAACvyB,GAAhB,GAAsB,CAACuyB,eAAe,CAACxyB,MAAhB,GAAyBwyB,eAAe,CAACvyB,GAA1C,IAAiD,CADzE;AAEA,WAAOwyB,YAAY,CAAC9e,CAAb,GAAiBsf,UAAjB,GAA8B7d,QAA9B,GAAyCC,WAAhD;AACD;;AAED;AACA,MAAI+c,YAAY,IAAIJ,UAApB,EAAgC;AAC9B;AACA,QAAIO,sBAAsB,KAAK,UAA/B,EAA2C;AACzC,UAAIO,SAAS,GAAGlB,sBAAhB,EAAwC,OAAOtc,SAAP;AACxC,UAAIyd,UAAU,GAAGnB,sBAAjB,EAAyC,OAAOrc,UAAP;AAC1C,KAHD,MAGO;AACL,UAAIod,QAAQ,GAAGf,sBAAf,EAAuC,OAAOxc,QAAP;AACvC,UAAIyd,WAAW,GAAGjB,sBAAlB,EAA0C,OAAOvc,WAAP;AAC3C;;AAED;AACA,QAAIid,oBAAoB,KAAK,UAA7B,EAAyC;AACvC,aAAOD,WAAW,GAAG9c,UAAH,GAAgBD,SAAlC;AACD;AACD,WAAO+c,WAAW,GAAGhd,WAAH,GAAiBD,QAAnC;AACD;;AAED,SAAO,IAAP;AACD,C,iLAhJYA,Q,sJACAG,U,wJACAF,W,yJACAC,S,uJAIPsc,sB,oKACAC,0B,wKAMFC,oB,kKACYpa,c,4JAIQT,e;;;;;;;;;;;;;;;;;;;;;;;;;wSCxCxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEe,SAASmC,uBAAT,CAAiC,EAAER,gBAAgB,GAAG,EAArB,EAAjC,EAA4D;AACzE,QAAMsa,UAAU,GAAG,gMAActa,gBAAd,kBAAoCua,eAAe,IAAI;AACxE,UAAM,EAAEzmC,OAAF,EAAW0mC,UAAX,EAAuBxZ,OAAvB,EAAgCqD,MAAhC,KAA2CkW,eAAjD;AACA,UAAMpyB,QAAQ,GAAG,+LAAY6Y,OAAZ,mBAAyBK,MAAM,KAAK;AACnD5V,WAAK,EAAE2V,oFAAqB,CAAC,EAAEttB,OAAF,EAAWutB,MAAX,EAAD,CADuB;AAEnD1V,WAAK,EAAE0Y,MAAM,CAAChD,MAAD,CAAN,IAAkBA,MAF0B,EAAL,CAA/B,CAAjB;;AAIA,WAAO;AACL5V,WAAK,EAAE3X,OADF;AAEL6X,WAAK,EAAE6uB,UAFF;AAGLryB,cAHK;AAILsyB,kBAAY,EAAE,IAJT,EAAP;;AAMD,GAZkB,CAAnB;;AAcA,SAAO;AACL;AACEhvB,SAAK,EAAE2W,2DADT;AAEEjM,QAAI,EAAE8I,mEAFR;AAGEtT,SAAK,EAAEvS,2DAAC,CAAC,aAAD,CAHV;AAIE+O,YAAQ,EAAEmyB,UAJZ,EADK,CAAP;;;AAQD,C,iLAvBuB9Z,uB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHxB;AACA;;AAEA,SAASka,mCAAT,CAA6C,EAAEC,IAAI,GAAG,EAAT,EAAalI,WAAW,GAAG,EAA3B,EAA7C,EAA8E;AAC5E,QAAMmI,gBAAgB,GAAG,EAAzB;AACA,kGAAAD,IAAI,MAAJ,CAAAA,IAAI,EAAS,CAAC,EAAElvB,KAAK,EAAEovB,GAAT,EAAc1yB,QAAQ,EAAE2yB,WAAxB,EAAD,KAA2C;AACtD,QAAIA,WAAW,IAAI,CAAC,+FAAArI,WAAW,MAAX,CAAAA,WAAW,EAAUoI,GAAV,CAA/B,EAA+C;AAC7C,sGAAAC,WAAW,MAAX,CAAAA,WAAW,EAAS,CAAC,EAAErvB,KAAK,EAAEsvB,MAAT,EAAiB5yB,QAAQ,EAAE6yB,cAA3B,EAAD,KAAiD;AACnE,YAAIA,cAAc,IAAI,CAAC,+FAAAvI,WAAW,MAAX,CAAAA,WAAW,EAAUsI,MAAV,CAAlC,EAAqD;AACnDH,0BAAgB,CAACt1B,IAAjB;AACE,aAAG,6FAAA01B,cAAc,MAAd,CAAAA,cAAc,EAAQ,CAAC,EAAE7kB,IAAF,EAAD,KAAcA,IAAI,KAAKC,2DAA/B,CADnB;;AAGD;AACF,OANU,CAAX;AAOD;AACF,GAVG,CAAJ;;AAYA;AACA,SAAO,0FAAAwkB,gBAAgB,MAAhB,CAAAA,gBAAgB,EAAK,CAAC,EAAEnvB,KAAF,EAAD,KAAeA,KAApB,CAAvB;AACD;AACD,SAASwvB,mBAAT,CAA6B;AAC3BC,WAD2B;AAE3BC,iBAF2B;AAG3BC,gBAAc,GAAG,KAHU;AAI3BC,kBAAgB,GAAG,KAJQ;AAK3BP,aAAW,GAAG,EALa;AAM3BQ,qBAAmB,GAAG,EANK,EAA7B;AAOG;AACD;AACA;AACA;AACEF,gBAAc;AACb,GAACC,gBAAD;AACC,qMAAeH,SAAf;AACE,GAAC,CAACh3B,GAAD,EAAM,EAAEqB,KAAF,EAAN,CAAD,KAAsBA,KAAK,IAAIA,KAAK,CAAClH,MAAf,IAAyB6F,GAAG,KAAKqB,KAAK,CAAC,CAAD,CAD9D,CAHJ;;AAME;AACA;AACA,UAAMg2B,gCAAgC,GAAGb,mCAAmC;AAC1E;AACEC,UAAI,EAAEG,WADR;AAEErI,iBAAW,EAAE,uDAAQyI,SAAR,EAAmB,CAAC,EAAE31B,KAAF,EAAD,KAAeA,KAAlC,CAFf,EAD0E,CAA5E;;;AAMA,UAAMi2B,6BAA6B,GAAG;AACpC,+FAAcN,SAAd,CADoC;AAEpC,KAAC,EAAEprB,MAAF,EAAD,KAAgBA,MAFoB,CAAtC;;AAIA,UAAM2rB,YAAY,GAAG;AACnB,OAAG,IAAI,iFAAI;AACT,OAAGF,gCADM;AAET,OAAGC,6BAFM,CAAR,CADgB,CAArB;;;AAMA,WAAO;AACLj2B,WAAK,EAAE,CAAC41B,eAAD,CADF;AAELrrB,YAAM,EAAE2rB,YAFH,EAAP;;AAID;;AAED,QAAMC,iBAAiB,GAAG,oMAAcR,SAAd;AACxB,GAAC,EAAE31B,KAAF,EAAD,KAAeA,KAAK,IAAIA,KAAK,CAAClH,MADN,CAA1B;;AAGA,SAAO;AACLkH,SAAK,EAAE,uDAAQm2B,iBAAR,EAA2B,CAAC,EAAEn2B,KAAF,EAAD,KAAeA,KAA1C,CADF;AAELuK,UAAM,EAAE4rB,iBAAiB,CAACr9B,MAAlB;AACJ,2DAAQq9B,iBAAR,EAA2B,CAAC,EAAE5rB,MAAF,EAAD,KAAgBA,MAA3C,CADI;AAEJ,oKAAQ,2FAAcorB,SAAd,CAAR,EAAkC,CAAC,EAAEprB,MAAF,EAAD,KAAgBA,MAAlD;AACEwrB,uBADF,CAJC,EAAP;;;AAQD;;AAED,SAAS1W,QAAT,CAAkB,EAAEC,WAAW,GAAG,EAAhB,EAAoB9D,QAApB,EAA8B4C,eAAe,GAAG,EAAhD,EAAlB,EAAwE;AACtE,MAAI,CAACkB,WAAL,EAAkB;AAChB,WAAO,EAAP;AACD;;AAED,QAAM,EAAEpZ,KAAK,EAAEkwB,YAAT,EAAuBxzB,QAAvB,KAAoC0c,WAA1C;AACA,QAAM+W,aAAa,GAAG,6FAAAzzB,QAAQ,MAAR,CAAAA,QAAQ,EAAQ,CAAC,EAAEgO,IAAF,EAAD,KAAcA,IAAI,KAAKC,2DAA/B,CAA9B;AACA,QAAM0kB,WAAW,GAAG,6FAAA3yB,QAAQ,MAAR,CAAAA,QAAQ,EAAQ,CAAC,EAAEgO,IAAF,EAAD,KAAcA,IAAI,KAAKwa,yDAA/B,CAA5B;;AAEA,QAAMkL,YAAY,GAAG,mMAAAD,aAAa,MAAb,CAAAA,aAAa;;AAE9B,GAAC,EAAEnwB,KAAF,EAAD,KAAesV,QAAQ,KAAKtV,KAAb,IAAsB,CAAC,+FAAAkY,eAAe,MAAf,CAAAA,eAAe,EAAUlY,KAAV,CAFvB,CAAb;;AAId,GAAC,EAAEA,KAAF,EAAD,KAAeA,KAJD,CAArB;AAKA,QAAMyvB,SAAS,GAAG;AAChB,0DAAMva,KAAK,IAAIA,KAAK,CAAClV,KAArB,CADgB;AAEhB,8DAAU,CAAAkV,KAAK;AACbiE,UAAQ,CAAC;AACPC,eAAW,EAAElE,KADN;AAEPI,YAFO;AAGP4C,mBAHO,EAAD,CADV,CAFgB;;;AAShBmX,aATgB,CAAlB;;AAWA;AACA;AACA;AACE,GAAC,uDAAQc,aAAR,CAAD;AACA,6FAAAA,aAAa,MAAb,CAAAA,aAAa,EAAM,CAAC,EAAEnwB,KAAF,EAAD,KAAe,+FAAAkY,eAAe,MAAf,CAAAA,eAAe,EAAUlY,KAAV,CAApC,CAFf;AAGE;AACA,QAAI,uDAAQqvB,WAAR,CAAJ,EAA0B;AACxB,aAAO,EAAEv1B,KAAK,EAAE,CAACo2B,YAAD,CAAT,EAAyB7rB,MAAM,EAAE+rB,YAAjC,EAAP;AACD;;AAED,UAAM,EAAEt2B,KAAF,EAASuK,MAAT,KAAoBmrB,mBAAmB,CAAC;AAC5CC,eAD4C;AAE5CC,qBAAe,EAAEQ,YAF2B;AAG5CP,oBAAc,EAAE,IAH4B;AAI5CN,iBAJ4C,EAAD,CAA7C;;AAMA,WAAO;AACLv1B,WADK;AAELuK,YAAM,EAAE,6FAAA+rB,YAAY,MAAZ,CAAAA,YAAY,EAAQ/rB,MAAR,CAFf,EAAP;;AAID;;AAED;AACA,MAAIgrB,WAAW,CAACz8B,MAAhB,EAAwB;AACtB,WAAO48B,mBAAmB,CAAC;AACzBC,eADyB;AAEzBC,qBAAe,EAAEQ,YAFQ;AAGzBN,sBAAgB,EAAE,CAAC,uDAAQO,aAAR,CAHM;AAIzBd,iBAJyB;AAKzBQ,yBAAmB,EAAEO,YALI,EAAD,CAA1B;;AAOD;;AAED;AACA,SAAO;AACLt2B,SAAK,EAAE,EADF;AAELuK,UAAM,EAAE+rB,YAFH,EAAP;;AAID;;AAEc,SAASjY,2BAAT,CAAqC;AAClDve,WADkD;AAElDia,OAAK,GAAG,EAF0C;AAGlDqE,iBAAe,GAAG,EAHgC,EAArC;AAIZ;AACD,MAAIrE,KAAK,CAACjhB,MAAV,EAAkB;AAChB,UAAM,EAAEvK,OAAF,KAAckuB,gGAAgC,CAAC3c,SAAD,CAApD;AACA,WAAOuf,QAAQ,CAAC;AACdC,iBAAW,EAAEvF,KAAK,CAAC,CAAD,CADJ;AAEdyB,cAAQ,EAAEjtB,OAFI;AAGd6vB,qBAHc,EAAD,CAAf;;AAKD;;AAED,SAAO,EAAP;AACD,C,iLAtJQ+W,mC,6LAiBAO,mB,6KAqDArW,Q,kKAiEehB,2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5IxB;;AAEA;AACA;;AAEA,MAAMkY,4BAA4B,GAAG,CAACnL,wDAAD,EAAW1R,mEAAX,CAArC;;AAEA,SAAS2F,QAAT,CAAkB;AAChBC,aAAW,GAAG,EADE;AAEhBtD,YAAU,GAAG,EAFG;AAGhBC,cAAY,GAAG,EAHC;AAIhBC,iBAJgB,EAAlB;AAKG;AACD,MAAI,CAACoD,WAAL,EAAkB;AAChB,WAAO,IAAP;AACD;;AAED,QAAM,EAAE1O,IAAF,KAAW0O,WAAjB;AACA;AACEzO,4DAAU,KAAKD,IAAf;AACA0O,aADA;AAEAA,aAAW,CAACvO,IAFZ;AAGAuO,aAAW,CAACvO,IAAZ,CAAiBxiB,OAJnB;AAKE;AACA,UAAMioC,SAAS,GAAG;AAChBtwB,WAAK,EAAEoZ,WAAW,CAACvO,IAAZ,CAAiBxiB,OADR;AAEhB6X,WAAK;AACHkZ,iBAAW,CAACvO,IAAZ,CAAiB1X,SAAjB,IAA+B,GAAEuX,IAAK,IAAG0O,WAAW,CAACvO,IAAZ,CAAiBxiB,OAAQ,EAHpD;AAIhBqiB,UAJgB;AAKhBskB,kBAAY,EAAEhZ,eAAe,KAAKoD,WAAW,CAACvO,IAAZ,CAAiBxiB,OALnC,EAAlB;;;AAQA,WAAO;AACL,SAAGioC,SADE;AAEL5zB,cAAQ,EAAE,0FAAAqZ,YAAY,MAAZ,CAAAA,YAAY,EAAK8B,WAAW,KAAK;AACzC7X,aAAK,EAAG,GAAEoZ,WAAW,CAACvO,IAAZ,CAAiBxiB,OAAQ,IAAGwvB,WAAY,EADT;AAEzC3X,aAAK,EAAG,GAAEowB,SAAS,CAACpwB,KAAM,EAFe;AAGzCwK,YAAI,EAAE,YAHmC;AAIzCskB,oBAAY,EAAE,KAJ2B,EAAL,CAAhB,CAFjB,EAAP;;;AASD;;AAED,MAAItyB,QAAQ,GAAG,EAAf;AACA,MAAI0c,WAAW,CAAC1c,QAAZ,IAAwB0c,WAAW,CAAC1c,QAAZ,CAAqB9J,MAAjD,EAAyD;AACvD,8GAAAwmB,WAAW,CAAC1c,QAAZ,iBAA6BwY,KAAK,IAAI;AACpC,YAAMqb,aAAa,GAAGpX,QAAQ,CAAC;AAC7BC,mBAAW,EAAEtD,UAAU,CAACZ,KAAD,CADM;AAE7BY,kBAF6B;AAG7BC,oBAH6B;AAI7BC,uBAJ6B,EAAD,CAA9B;;;AAOA,YAAM8X,SAAS,GAAGhY,UAAU,CAACZ,KAAD,CAAV,CAAkBxK,IAApC;AACA,UAAI,+FAAA2lB,4BAA4B,MAA5B,CAAAA,4BAA4B,EAAUvC,SAAV,CAAhC,EAAsD;AACpDpxB,gBAAQ,CAAC7C,IAAT,CAAc02B,aAAd;AACD,OAFD,MAEO;AACL7zB,gBAAQ,GAAG,6FAAAA,QAAQ,MAAR,CAAAA,QAAQ,EAAQ6zB,aAAR,CAAnB;AACD;AACF,KAdD;AAeD;;AAED,MAAI,+FAAAF,4BAA4B,MAA5B,CAAAA,4BAA4B,EAAU3lB,IAAV,CAAhC,EAAiD;AAC/C,QAAIxK,KAAK,GAAG,IAAZ;AACA,QAAIwK,IAAI,KAAK8I,mEAAb,EAAkC;AAChCtT,WAAK,GAAGvS,2DAAC,CAAC,YAAD,CAAT;AACD,KAFD,MAEO;AACLuS,WAAK;AACHkZ,iBAAW,CAACvO,IAAZ,IAAoBuO,WAAW,CAACvO,IAAZ,CAAiBmW,IAArC;AACI5H,iBAAW,CAACvO,IAAZ,CAAiBmW,IADrB;AAEK,SAAEtW,IAAK,IAAG0O,WAAW,CAAClf,EAAG,EAHhC;AAID;;AAED,WAAO;AACL8F,WAAK,EAAEoZ,WAAW,CAAClf,EADd;AAELgG,WAFK;AAGLwK,UAHK;AAILhO,cAJK,EAAP;;AAMD;;AAED,SAAOA,QAAP;AACD;;AAEc,SAASmZ,uBAAT,CAAiC;AAC9CC,YAAU,GAAG,EADiC;AAE9CC,cAAY,GAAG,EAF+B;AAG9CC,iBAH8C,EAAjC;AAIZ;AACD,MAAI,sDAAQF,UAAR,CAAJ,EAAyB;AACvB,WAAO,EAAP;AACD;;AAED,QAAMmD,IAAI,GAAGE,QAAQ,CAAC;AACpBC,eAAW,EAAEtD,UAAU,CAAC6Q,4DAAD,CADH;AAEpB7Q,cAFoB;AAGpBC,gBAHoB;AAIpBC,mBAJoB,EAAD,CAArB;;AAMA,SAAO;AACL;AACE,OAAGiD,IADL,EADK,CAAP;;;AAKD,C,iLAnGKoX,4B,kLAEGlX,Q,8JA6EetD,uB;;;;;;;;;;;;;;;;;wSCvGxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASI,yBAAT,CAAmCpC,KAAK,GAAG,EAA3C,EAA+C2c,UAAU,GAAG,CAAC,CAA7D,EAAgE;AAC7E,QAAMC,WAAW,GAAG,EAApB;AACA,QAAMtX,QAAQ,GAAG,CAACC,WAAD,EAAc7e,KAAd,KAAwB;AACvC,QAAI,CAAC6e,WAAL,EAAkB;AAChB;AACD;;AAED,QAAIA,WAAW,CAAC1c,QAAZ,KAAyB8zB,UAAU,KAAK,CAAC,CAAhB,IAAqBj2B,KAAK,GAAGi2B,UAAtD,CAAJ,EAAuE;AACrEC,iBAAW,CAAC52B,IAAZ,CAAiBuf,WAAW,CAACpZ,KAA7B;AACA,gHAAAoZ,WAAW,CAAC1c,QAAZ,iBAA6BwY,KAAK,IAAIiE,QAAQ,CAACjE,KAAD,EAAQ3a,KAAK,GAAG,CAAhB,CAA9C;AACD;AACF,GATD;;AAWA,MAAIsZ,KAAK,CAACjhB,MAAN,GAAe,CAAnB,EAAsB;AACpB,mGAAAihB,KAAK,MAAL,CAAAA,KAAK,EAAS/pB,IAAI,IAAI;AACpBqvB,cAAQ,CAACrvB,IAAD,EAAO,CAAP,CAAR;AACD,KAFI,CAAL;AAGD;;AAED,SAAO2mC,WAAP;AACD,C,iLApBuBxa,yB;;;;;;;;;;;;;;;;;;;;;;wSClBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACe,SAASqG,yBAAT,CAAmC;AAChDtmB,eAAa,GAAG,EADgC;AAEhDsf,UAFgD,EAAnC;AAGZ;AACD,SAAO,oMAAetf,aAAf,kBAAqC,CAACqf,GAAD,EAAMqb,KAAN,KAAgB;AAC1D,UAAM,CAAC92B,SAAD,EAAY,EAAE+2B,MAAF,EAAZ,IAA0BD,KAAhC;AACA,UAAM,EAAEroC,OAAF,EAAWutB,MAAX,KAAsBW,+FAAgC,CAAC3c,SAAD,CAA5D;AACA,QAAIvR,OAAO,KAAKitB,QAAhB,EAA0B;AACxB,aAAO;AACL,WAAGD,GADE;AAEL,SAACO,MAAD,GAAU+a,MAFL,EAAP;;AAID;AACD,WAAOtb,GAAP;AACD,GAVM,EAUJ,EAVI,CAAP;AAWD,C,iLAfuBiH,yB;;;;;;;;;;;;;;;;wSCtBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,SAAS9E,wBAAT,CAAkC;AAC/Cf,mBAD+C;AAE/CD,qBAF+C,EAAlC;AAGZ;AACD,SAAO1Q,0EAAa;AAClB2Q,mBAAiB,GAAG,CAACA,iBAAD,CAAH,GAAyBD,mBADxB,CAApB;;AAGD,C,iLAPuBgB,wB;;;;;;;;;;;;;;;;;;;;wSCpBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,SAAS7e,6BAAT,CAAuCvC,MAAvC,EAA+C/N,OAA/C,EAAwD;AACrE,SAAO,iMAAc+N,MAAd;AACL,GAAAgvB,gBAAgB;AACdA,kBAAgB;AAChBA,kBAAgB,CAAC1a,IAAjB,KAA0BC,0DAD1B;AAEAya,kBAAgB,CAACva,IAFjB;AAGAua,kBAAgB,CAACva,IAAjB,CAAsBxiB,OAAtB,KAAkCA,OAL/B,CAAP;;AAOD,C,iLARuBsQ,6B;;;;;;;;;;;;;;;;;;;;wSCrBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,SAASktB,0BAAT,CAAoClJ,iBAAiB,GAAG,EAAxD,EAA4D;AACzE,MAAIA,iBAAiB,CAAC/pB,MAAlB,GAA2B,CAA/B,EAAkC;AAChC,UAAMo6B,WAAW,GAAG,4FAAArQ,iBAAiB,MAAjB,CAAAA,iBAAiB,CAArC;;AAEA,WAAOqQ,WAAW,CAACp6B,MAAnB,EAA2B;AACzB,YAAMyY,WAAW,GAAG2hB,WAAW,CAACC,GAAZ,EAApB;AACA,YAAMlB,aAAa,GAAG1gB,WAAW,CAAC6hB,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAtB;;AAEA,UAAI,CAAC,+FAAAC,qEAA0B,MAA1B,CAAAA,qEAA0B,EAAUpB,aAAV,CAA/B,EAAyD;AACvD,eAAO1gB,WAAP;AACD;AACF;AACF;;AAED,SAAO,IAAP;AACD,C,iLAfuBwa,0B;;;;;;;;;;;;;;;;;;;;;;;;;;wSCpBxB;;;;;;;;;;;;;;;;;AAiBG;AACH;AAYc,SAAU,sBAAV,CAAiC,EAC7C,OAAO,GAAG,EADmC,EAE7C,YAAY,GAAG,EAF8B,EAG7C,cAAc,GAAG,EAH4B,EAAjC,EAIc;AAC1B,QAAM,4BAA4B,GAAG,oGAAO,MAAP,QAAO,EAC1C,CAAC,GAAD,EAAM,KAAN,KAAe;AACb,UAAM,CAAC,OAAD,EAAU,WAAV,IAAyB,KAAK,CAAC,KAAN,CAAY,GAAZ,CAA/B;AACA,WAAO;AACL,SAAG,GADE;AAEL,OAAC,WAAD,GAAe,wGAAC,GAAG,CAAC,WAAD,CAAH,IAAoB,EAArB,iBAAgC,uFAAS,OAAT,EAAkB,EAAlB,CAAhC,CAFV,EAAP;;AAID,GAPyC,EAQ1C,EAR0C,CAA5C;AAWA,SAAO,yGAAY,MAAZ,aAAY,EAAwB,CAAC,GAAD,EAAM,WAAN,KAAqB;AAC9D,UAAM,EAAE,OAAF,KAAc,+FAAgC,CAAC,WAAD,CAApD;AACA;AACA,UAAM,iBAAiB,GAAG,yGACxB,4BAA4B,CAAC,WAAD,CAA5B,IAA6C,EADrB,kBAEjB,EAAE,IAAI,EAAE,KAAK,OAFI,CAA1B;AAIA,WAAO;AACL,SAAG,GADE;AAEL,OAAC,WAAD,GAAe;AACb,WAAG,cAAc,CAAC,WAAD,CADJ;AAEb,eAAO,EAAE,iBAFI,EAFV,EAAP;;;AAOD,GAdkB,EAchB,EAdgB,CAAnB;AAeD,C,iLA/BuB,sB;;;;;;;;;;;;;;;;;;wSC9BxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,SAASpN,oCAAT,CAA8C;AAC3DhC,mBAD2D;AAE3DD,qBAF2D,EAA9C;AAGZ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAIC,iBAAJ,EAAuB;AACrB,WAAOF,+FAAgC,CAACE,iBAAD,CAAhC,CAAoDpuB,OAA3D;AACD;;AAED,MAAImuB,mBAAmB,CAAC5jB,MAAxB,EAAgC;AAC9B,UAAM,EAAEvK,OAAF,KAAckuB,+FAAgC;AAClDC,uBAAmB,CAAC,CAAD,CAD+B,CAApD;;;AAIA;AACE,+FAAAA,mBAAmB,MAAnB,CAAAA,mBAAmB;AACjB,KAAA5c,SAAS;AACP2c,mGAAgC,CAAC3c,SAAD,CAAhC,CAA4CvR,OAA5C,KAAwDA,OAFzC,CADrB;;AAKE;AACA,aAAO,IAAP;AACD;AACD,WAAOA,OAAP;AACD;;AAED,SAAO,IAAP;AACD,C,iLAhCuBowB,oC;;;;;;;;;;;;;;;;wSCpBxB;;;;;;;;;;;;;;;;;AAiBG;AACH;;AAGe;AACb;AACE,OAAK,EAAE,uDADT;AAEE,OAAK,EAAE,2DAAC,CAAC,OAAD,CAFV;AAGE,WAAS,EAAE,kCAHb,EADa;;AAMb;AACE,OAAK,EAAE,wDADT;AAEE,OAAK,EAAE,2DAAC,CAAC,QAAD,CAFV;AAGE,WAAS,EAAE,mCAHb,EANa;;AAWb;AACE,OAAK,EAAE,uDADT;AAEE,OAAK,EAAE,2DAAC,CAAC,OAAD,CAFV;AAGE,WAAS,EAAE,kCAHb,EAXa,C,CAAA,yE;;;;;;;;;;;;;;;;;;;;;;wSCrBf;;;;;;;;;;;;;;;;;AAiBG;AACH;AAEA,MAAM,2BAA2B,GAAa,CAAC,0DAAD,EAAa,6DAAb,CAA9C;AACc,SAAU,gBAAV,CAA2B,MAA3B,EAAsC;AAClD;AACA,SAAO,CAAC,iMAAc,MAAd,kBACN,CAAC,EAAE,IAAF,EAAD,KACE,IAAI,IAAI,0HAA2B,MAA3B,4BAA2B,EAAU,IAAV,CAF/B,CAAR;AAID,C,iLAPK,2B,0KACkB,gB;;;;;;;;;;;;;;;;;;;wSCrBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS4T,kBAAT,CAA4B12B,MAA5B,EAAoC;AACjD,SAAO,iMAAcA,MAAd;AACL6O,OAAK,IAAIA,KAAK,CAACosB,oBAAN,IAA8BpsB,KAAK,CAAC0X,kBAAN,IAA4B,CAA1D,CADJ,CAAP;;AAGD,C,iLAJuBmQ,kB;;;;;;;;;;;;;;;;;wSClBxB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;;;;;;;;;;;;;;AAcG;AACH;AAaA;AAEA,MAAM,QAAQ,GAAG,+DAAS,GAAG,CAA7B;AACA,MAAM,QAAQ,GAAG,+DAAS,GAAG,CAA7B;AACA,MAAM,UAAU,GAAG,+DAAS,GAAG,CAA/B;AACA,MAAM,SAAS,GAAG,+DAAS,GAAG,CAA9B;AACA,MAAM,SAAS,GAAG,+DAAS,GAAG,CAA9B;AAEA;AACA,MAAM,oBAAoB,GAAG;AAC3B,GAAC,mEAAD,GAAuB;AACrB,KAAC,yDAAD,GAAa,+DADQ;AAErB,KAAC,mEAAD,GAAuB,+DAFF,EADI;;AAM3B,GAAC,mEAAD,GAAuB;AACrB,KAAC,0DAAD,GAAc,QADO;AAErB,KAAC,6DAAD,GAAiB,QAFI;AAGrB,KAAC,2DAAD,GAAe,QAHM;AAIrB,KAAC,4DAAD,GAAgB,QAJK;AAKrB,KAAC,2DAAD,GAAe,QALM;AAMrB,KAAC,wDAAD,GAAY,QANS;AAOrB,KAAC,yDAAD,GAAa,QAPQ,EANI;;AAgB3B,GAAC,wDAAD,GAAY;AACV,KAAC,0DAAD,GAAc,SADJ;AAEV,KAAC,6DAAD,GAAiB,SAFP;AAGV,KAAC,2DAAD,GAAe,SAHL,EAhBe;;AAsB3B,GAAC,yDAAD,GAAa;AACX,KAAC,wDAAD,GAAY,QADD,EAtBc;;AA0B3B,GAAC,wDAAD,GAAY;AACV,KAAC,0DAAD,GAAc,QADJ;AAEV,KAAC,6DAAD,GAAiB,QAFP;AAGV,KAAC,2DAAD,GAAe,QAHL;AAIV,KAAC,4DAAD,GAAgB,QAJN;AAKV,KAAC,2DAAD,GAAe,QALL;AAMV,KAAC,wDAAD,GAAY,QANF;AAOV,KAAC,yDAAD,GAAa,QAPH,EA1Be;;AAoC3B,GAAC,2DAAD,GAAe;AACb,KAAC,0DAAD,GAAc,SADD;AAEb,KAAC,2DAAD,GAAe,SAFF;AAGb,KAAC,6DAAD,GAAiB,SAHJ;AAIb,KAAC,wDAAD,GAAY,UAJC;AAKb,KAAC,4DAAD,GAAgB,UALH,EApCY;;AA4C3B;AACA,GAAC,0DAAD,GAAc,EA7Ca;AA8C3B,GAAC,4DAAD,GAAgB,EA9CW;AA+C3B,GAAC,2DAAD,GAAe,EA/CY;AAgD3B,GAAC,6DAAD,GAAiB,EAhDU,EAA7B;;AAyDc,SAAU,YAAV,CAAuB,KAAvB,EAA+C;AAC3D,QAAM,EAAE,UAAF,EAAc,SAAd,EAAyB,WAAzB,KAAyC,KAA/C;AACA,MAAI,CAAC,UAAD,IAAe,CAAC,SAAhB,IAA6B,OAAO,WAAP,KAAuB,QAAxD,EAAkE;AAChE,WAAO,KAAP;AACD;AAED,QAAM,cAAc,GAAuB,CAAC,oBAAoB,CAC9D,UAD8D,CAApB,IAEvC,EAFsC,EAElC,SAFkC,CAA3C;AAIA,SAAO,OAAO,cAAP,KAA0B,QAA1B,IAAsC,WAAW,IAAI,cAA5D;AACD,C,iLA3EK,Q,mJACA,Q,mJACA,U,qJACA,S,oJACA,S,oJAGA,oB,+JAyDkB,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCjHxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,MAAM5xB,cAAc,GAAGvS,iDAAS,CAACkN,KAAV,CAAgB;AAC5C8E,IAAE,EAAEhS,iDAAS,CAACgB,MAAV,CAAiBX,UADuB;AAE5CmiB,MAAI,EAAExiB,iDAAS,CAACqI,KAAV,CAAgB,2FAAcsgC,uDAAd,CAAhB,EAA+CtoC,UAFT;AAG5C+kC,SAAO,EAAEplC,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACgB,MAA5B,CAHmC;AAI5CwT,UAAQ,EAAExU,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACgB,MAA5B,CAJkC;AAK5C2hB,MAAI,EAAE3iB,iDAAS,CAACkN,KAAV,CAAgB;AACpB;AACAxM,SAAK,EAAEV,iDAAS,CAACI,MAFG;AAGpBO,UAAM,EAAEX,iDAAS,CAACI,MAHE;;AAKpB;AACAu4B,cAAU,EAAE34B,iDAAS,CAACqI,KAAV,CAAgB,0FAAAqwB,2DAAkB,MAAlB,CAAAA,2DAAkB,EAAK7rB,GAAG,IAAIA,GAAG,CAACiL,KAAhB,CAAlC,CANQ;;AAQpB;AACAsgB,cAAU,EAAEp4B,iDAAS,CAACqI,KAAV,CAAgB,0FAAA8vB,+DAAsB,MAAtB,CAAAA,+DAAsB,EAAKtrB,GAAG,IAAIA,GAAG,CAACiL,KAAhB,CAAtC,CATQ;;AAWpB;AACA3X,WAAO,EAAEH,iDAAS,CAACI,MAZC,EAAhB,CALsC,EAAhB,CAAvB;;;;AAqBA,MAAMuN,cAAc,GAAG3N,iDAAS,CAACkN,KAAV,CAAgB;AAC5C8E,IAAE,EAAEhS,iDAAS,CAACI,MAAV,CAAiBC,UADuB;AAE5Ce,YAAU,EAAEpB,iDAAS,CAACgB,MAFsB;AAG5CK,aAAW,EAAErB,iDAAS,CAACgB,MAHqB;AAI5CgzB,oBAAkB,EAAEh0B,iDAAS,CAACI,MAJc;AAK5CsoC,sBAAoB,EAAE1oC,iDAAS,CAACI,MALY;AAM5CwoC,qBAAmB,EAAE5oC,iDAAS,CAACC,MANa;AAO5C4oC,iBAAe,EAAE7oC,iDAAS,CAACkN,KAAV,CAAgB,EAAE+U,KAAK,EAAEjiB,iDAAS,CAACa,IAAnB,EAAhB,CAP2B;AAQ5CU,iBAAe,EAAEvB,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACC,MAA5B,CAR2B;AAS5CwB,cAAY,EAAEzB,iDAAS,CAACkB,IAToB;AAU5C4nC,cAAY,EAAE9oC,iDAAS,CAACI,MAVoB,EAAhB,CAAvB;;;AAaA,MAAMyN,cAAc,GAAG7N,iDAAS,CAACkN,KAAV,CAAgB;AAC5C9I,UAAQ,EAAEpE,iDAAS,CAACI,MAAV,CAAiBC,UADiB;AAE5C0oC,WAAS,EAAE/oC,iDAAS,CAACgB,MAAV,CAAiBX,UAFgB;AAG5C+f,YAAU,EAAEpgB,iDAAS,CAACgB,MAAV,CAAiBX,UAHe;AAI5CC,YAAU,EAAEN,iDAAS,CAACgB,MAJsB;AAK5Cqf,iBAAe,EAAErgB,iDAAS,CAACgB,MALiB;AAM5CgoC,iBAAe,EAAEhpC,iDAAS,CAACgB,MANiB;AAO5Csf,YAAU,EAAEtgB,iDAAS,CAACI,MAAV,CAAiBC,UAPe;AAQ5C4oC,UAAQ,EAAEjpC,iDAAS,CAACgB,MAAV,CAAiBX,UARiB;AAS5CiH,UAAQ,EAAEtH,iDAAS,CAACgB,MAAV,CAAiBX,UATiB;AAU5C4lB,aAAW,EAAEjmB,iDAAS,CAACgB,MAVqB;AAW5CszB,wBAAsB,EAAEt0B,iDAAS,CAACgB,MAXU;AAY5CkoC,QAAM,EAAElpC,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACgB,MAA5B,CAZoC,EAAhB,CAAvB;;;AAeA,MAAMsrB,wBAAwB,GAAGtsB,iDAAS,CAACkN,KAAV,CAAgB;AACtD/M,SAAO,EAAEH,iDAAS,CAACI,MAAV,CAAiBC,UAD4B;AAEtD8iB,aAAW,EAAEnjB,iDAAS,CAACgB,MAAV,CAAiBX,UAFwB;AAGtDwmC,YAAU,EAAE7mC,iDAAS,CAACgB,MAAV,CAAiBX,UAHyB;AAItD8oC,cAAY,EAAEnpC,iDAAS,CAACgB,MAAV,CAAiBX,UAJuB;AAKtD8kC,oBAAkB,EAAEnlC,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACgB,MAA5B,EAAoCX,UALF;AAMtD+oC,cAAY,EAAEppC,iDAAS,CAACkB,IAAV,CAAeb,UANyB;AAOtDgpC,iBAAe,EAAErpC,iDAAS,CAACkB,IAAV,CAAeb,UAPsB;AAQtDgtB,SAAO,EAAErtB,iDAAS,CAACC,MARmC;AAStDywB,QAAM,EAAE1wB,iDAAS,CAACC,MAToC;AAUtDkuB,QAAM,EAAEnuB,iDAAS,CAACC,MAVoC,EAAhB,CAAjC;;;AAaA,MAAMuN,uBAAuB,GAAGxN,iDAAS,CAACkN,KAAV,CAAgB;AACrDs3B,UAAQ,EAAExkC,iDAAS,CAACwB,OAAV,CAAkBxB,iDAAS,CAACI,MAA5B,EAAoCC,UADO;AAErDwV,gBAAc,EAAE7V,iDAAS,CAACC,MAF2B;AAGrDqP,UAAQ,EAAEtP,iDAAS,CAACkB,IAHiC;AAIrDyO,aAAW,EAAE3P,iDAAS,CAACkB,IAAV,CAAeb,UAJyB;AAKrD6U,gBAAc,EAAElV,iDAAS,CAACgB,MAL2B;AAMrDmU,aAAW,EAAEnV,iDAAS,CAACgB,MAN8B;AAOrDsoC,oBAAkB,EAAEtpC,iDAAS,CAACkB,IAPuB;AAQrD0P,mBAAiB,EAAE5Q,iDAAS,CAACkB,IARwB,EAAhB,CAAhC;;;AAWA,MAAMoM,sBAAsB,GAAGtN,iDAAS,CAACkN,KAAV,CAAgB;AACpD8E,IAAE,EAAEhS,iDAAS,CAACI,MAAV,CAAiBC,UAD+B;AAEpD6b,UAAQ,EAAElc,iDAAS,CAACC,MAFgC;AAGpDye,MAAI,EAAE1e,iDAAS,CAACgB,MAHoC;AAIpDmd,gBAAc,EAAEne,iDAAS,CAACkB,IAAV,CAAeb,UAJqB;AAKpDie,gBAAc,EAAEte,iDAAS,CAACkB,IAAV,CAAeb,UALqB;AAMpDyd,QAAM,EAAE9d,iDAAS,CAACC,MANkC;AAOpDoO,QAAM,EAAErO,iDAAS,CAACgB,MAAV,CAAiBX,UAP2B,EAAhB,CAA/B;;;AAUP;AACA,MAAMkpC,YAAY,GAAGC,CAAC,IAAI,MAAMA,CAAC,GAAGC,KAAJ,CAAU,SAAV,EAAgBC,SAAhB,CAAhC;;AAEA,MAAMC,QAAQ,GAAG3pC,iDAAS,CAACkN,KAAV,CAAgB;AAC/B4K,OAAK,EAAE9X,iDAAS,CAAC8rB,SAAV,CAAoB,CAAC9rB,iDAAS,CAACI,MAAX,EAAmBJ,iDAAS,CAACgB,MAA7B,CAApB,EAA0DX,UADlC;AAE/B2X,OAAK,EAAEhY,iDAAS,CAACgB,MAAV,CAAiBX,UAFO,EAAhB,CAAjB;;;AAKA,MAAMupC,WAAW,GAAG;AAClB9xB,OAAK,EAAE9X,iDAAS,CAAC8rB,SAAV,CAAoB,CAAC9rB,iDAAS,CAACI,MAAX,EAAmBJ,iDAAS,CAACgB,MAA7B,CAApB,EAA0DX,UAD/C;AAElB2X,OAAK,EAAEhY,iDAAS,CAACgB,MAAV,CAAiBX,UAFN;AAGlBmU,UAAQ,EAAExU,iDAAS,CAACwB,OAAV;AACRxB,mDAAS,CAAC8rB,SAAV,CAAoB;AAClB9rB,mDAAS,CAACkN,KAAV,CAAgBq8B,YAAY,CAAC,MAAMK,WAAP,CAA5B,CADkB;AAElBD,UAFkB,CAApB,CADQ,CAHQ,EAApB;;;;;AAWO,MAAM/d,oCAAoC,GAAG5rB,iDAAS,CAAC8rB,SAAV,CAAoB;AACtE9rB,iDAAS,CAACkN,KAAV,CAAgB08B,WAAhB,CADsE;AAEtED,QAFsE,CAApB,CAA7C,C,iLAtGMp3B,c,wJAqBA5E,c,wJAaAE,c,wJAeAye,wB,kKAaA9e,uB,iKAWAF,sB,gKAWPi8B,Y,sJAEAI,Q,kJAKAC,W,qJAWOhe,oC;;;;;;;;;;;;;;sVC7Hb;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA,MAAM,wBAAwB,GAAG;AAC/B,KAAG,EAAE,KAD0B;AAE/B,OAAK,EAAE,KAFwB;AAG/B,QAAM,EAAE,KAHuB;AAI/B,MAAI,EAAE,KAJyB;AAK/B,UAAQ,EAAE,KALqB;AAM/B,aAAW,EAAE,IANkB;AAO/B,YAAU,EAAE,KAPmB;AAQ/B,SAAO,EAAE,KARsB,EAAjC;;AAWA,MAAM,eAAe,GAAG;AACtB,KAAG,wBADmB;AAEtB,OAAK,EAAE,IAFe;AAGtB,aAAW,EAAE,KAHS,EAAxB;;AAMA,MAAM,gBAAgB,GAAG;AACvB,KAAG,wBADoB;AAEvB,QAAM,EAAE,IAFe;AAGvB,aAAW,EAAE,KAHU,EAAzB;;AAMA,MAAM,aAAa,GAAG;AACpB,KAAG,wBADiB;AAEpB,aAAW,EAAE,KAFO,EAAtB,C;;AAKe;AACb,gBAAc,EAAE,wBADH;AAEb,WAAS,EAAE,eAFE;AAGb,YAAU,EAAE,gBAHC;AAIb,eAJa,E,CAAA,yE,iLA5BT,wB,sKAWA,e,6JAMA,gB,8JAMA,a;;;;;;;;;;;;;;;;;wSC1CN;;;;;;;;;;;;;;;;;AAiBG;AACH,MAAM,kBAAkB,GAAI,YAAD,IAA0B;AACnD,MAAI,YAAJ,EAAkB;AAChB,iBAAa,CAAC,YAAD,CAAb;AACD;AACF,CAJD;AAYc,SAAU,iBAAV,CAA4B,EACxC,QAAQ,GAAG,CAD6B,EAExC,cAFwC,EAGxC,YAHwC,EAA5B,EAIW;AACvB,oBAAkB,CAAC,YAAD,CAAlB;AAEA,MAAI,QAAQ,GAAG,CAAf,EAAkB;AAChB,WAAO,0FAAY,cAAZ,EAA4B,QAA5B,CAAP;AACD;AACD,SAAO,CAAP;AACD,C,iLAvBK,kB,kKAYkB,iB;;;;;;;;;;;;;;;uSCVxB,IAAY,YAAZ;AAAA,WAAY,YAAZ,EAAwB;AACtB;AACA;AACD,CAHD,EAAY,YAAY,KAAZ,YAAY,MAAxB,E,iLAAY,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCpBZ;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AAEA;AACA;AACA;AAKA;AACA;AAIA;;AAGO,MAAM,UAAU,GAAG,gEAAM,CAAC,8DAAD,CAAQ;eACzB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,KAAjB,CAAuB,CAAC;;;;gBAItC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;iBAIhC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;;AAE7C,CAXM;AAaP,MAAM,QAAQ,GACZ,4DAAC,UAAD,IAAY,UAAU,EAAC,QAAvB;AACE,mEAAG,SAAS,EAAC,iBAAb,GADF,CADF;;AAMO,MAAM,qBAAqB,GAAG,CAAC,EACpC,IADoC,EAAD,KAKnC,4DAAC,uEAAD,IACE,IAAI,EAAE,IAAI,GAAG,2FAAiC,CAAC,IAAD,CAApC,GAA6C,EADzD,EAEE,OAAO,EAAE,KAFX,EAGE,QAAQ,EAAE,QAHZ,GALK;AAYA,MAAM,WAAW,GAAG,CAAC,EAC1B,eAD0B,EAAD,KAItB;AACH,QAAM,sBAAsB,GAAG,sDAAQ,CAAC,eAAD,EAAkB,4DAAlB,CAAvC;AACA,SACE,4DAAC,4DAAD,IACE,WAAW,EAAE,2DAAC,CAAC,QAAD,CADhB,EAEE,QAAQ,EAAG,KAAD,IAAe;AACvB,YAAM,UAAU,GAAG,KAAK,CAAC,MAAN,CAAa,KAAhC;AACA,4BAAsB,CAAC,UAAD,CAAtB;AACD,KALH,GADF;AASD,CAfM;AAiBA,MAAM,QAAQ,GAAG,CAAC,EACvB,IADuB,EAEvB,OAFuB,EAAD,8BAOtB,4DAAC,6EAAD,IACE,QAAQ,kBAAE,IAAF,oBAAE,IAAI,CAAE,MAAR,2BAAkB,CAD5B,EAEE,OAAO,EAAE,OAFX,EAGE,MAAM,EAAE,2DAAC,CAAC,gBAAD,CAHX,GAPsB,EAAjB;AAcA,MAAM,oBAAoB,GAAG,CAClC,UADkC,EAElC,IAFkC,KAIlC,qDAAO,CAAC,MAAK;AACX,MAAI,EAAC,IAAD,YAAC,IAAI,CAAE,MAAP,CAAJ,EAAmB;AACjB,WAAO,EAAP;AACD;AACD,QAAM,aAAa,GAAG,sFAA4B,CAAC,IAAD,CAAlD;AACA,SAAO,0GAAa,MAAb,cAAa,EAAS,GAAD,yBAC1B,iMAAc,GAAd,kBAAwB,KAAK,0BAC3B,KAD2B,oBAC3B,gHAAK,CAAE,QAAP,GAAkB,WAAlB,oBAAyC,UAAU,CAAC,WAAX,EAAzC,CAD2B,EAA7B,CAD0B,EAAR,CAApB;AAKD,CAVM,EAUJ,CAAC,IAAD,EAAO,UAAP,CAVI,CAJF,C,cAAM,oB;AAgBN,MAAM,eAAe,GAAG,CAC7B,IAD6B,EAE7B,WAF6B,KAI7B,qDAAO,CACL,4BACE,IAAI,QAAJ,QAAI,CAAE,MAAN;AACI,iMAAY,IAAI,CAAC,CAAD,CAAhB,mBACE,GAAG,KACA;AACC,YAAQ,EAAE,GADX;AAEC,UAAM,EAAE,GAFT;AAGC,QAAI,EAAE,CAAC,EAAE,KAAF,EAAD,KAAc;AAClB,UAAI,KAAK,KAAK,IAAd,EAAoB;AAClB,eAAO,gEAAP;AACD;AACD,UAAI,KAAK,KAAK,KAAd,EAAqB;AACnB,eAAO,iEAAP;AACD;AACD,aAAO,MAAM,CAAC,KAAD,CAAb;AACD,KAXF;AAYC,QAAG,WAAH,oBAAG,WAAW,CAAG,GAAH,CAAd,CAZD,EADA,CADL,CADJ;;AAkBI,IAnBN,EADK,EAqBL,CAAC,IAAD,EAAO,WAAP,CArBK,CAJF,C,cAAM,e,gMA9EA,U,qKAaP,Q,mKAMO,qB,gLAYA,W,sKAiBA,Q,mKAcA,oB,+KAgBA,e;;;;;;;;;;;;;;;;;;;;;;;;wSClHb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,MAAM9rB,SAAS,GAAG;AAChB+pC,UAAQ,EAAE7pC,iDAAS,CAACI,MADJ;AAEhByd,OAAK,EAAE7d,iDAAS,CAACI,MAFD;AAGhB0pC,MAAI,EAAE9pC,iDAAS,CAACgB,MAHA;AAIhB+oC,QAAM,EAAE/pC,iDAAS,CAACgB,MAJF;AAKhBkR,SAAO,EAAElS,iDAAS,CAACkB,IALH,EAAlB;;;AAQA,MAAMiB,YAAY,GAAG;AACnB4nC,QAAM,EAAEtkC,2DAAC,CAAC,MAAD,CADU,EAArB;;;AAIe,SAASukC,aAAT,CAAuB,EAAEH,QAAF,EAAYhsB,KAAZ,EAAmBksB,MAAnB,EAA2B73B,OAA3B,EAAvB,EAA6D;AAC1E,QAAM+3B,YAAY,GAAGJ,QAAQ,KAAKhsB,KAAlC;AACA,QAAM2E,IAAI;AACRynB,cAAY,IAAKJ,QAAQ,KAAK,CAAb,IAAkB,CAAC33B,OAApC,GAA+C,QAA/C,GAA0D,SAD5D;AAEA,QAAMg4B,iBAAiB,GAAGC,4EAAkB,GAAGN,QAAH,CAA5C;AACA,QAAMO,OAAO;AACX;AACGH,cAAY,IAAI,wEAAMxkC,2DAAC,CAAC,eAAD,CAAP,CADnB;AAEGyM,SAAO,GAAG,SAAH,GAAe23B,QAFzB,CADF;;;AAMA;AACE,+DAAC,8DAAD,IAAS,EAAE,EAAC,qBAAZ,EAAkC,KAAK,EAAEO,OAAzC;AACE,+DAAC,4DAAD,IAAO,IAAI,EAAE5nB,IAAb,EAAmB,aAAU,iBAA7B;AACGtQ,WAAO,GAAG,YAAH,GAAmB,GAAEg4B,iBAAkB,IAAGH,MAAO,EAD3D,CADF,CADF;;;;AAOD;;AAEDC,aAAa,CAAClqC,SAAd,GAA0BA,SAA1B;AACAkqC,aAAa,CAAC7nC,YAAd,GAA6BA,YAA7B,C,iLAjCMrC,S,0JAQAqC,Y,6JAIkB6nC,a;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wSCrCxB;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,MAAM,mBAAmB,GAAG,gEAAM,CAAC,kFAAD,CAAY;;kBAE5B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;;AAE9C,CAJD;AAMA,8EAAiB,CAAC,gBAAlB,CAAmC,UAAnC,EAA+C,iGAA/C;AACA,8EAAiB,CAAC,gBAAlB,CAAmC,MAAnC,EAA2C,iGAA3C;AACA,8EAAiB,CAAC,gBAAlB,CAAmC,KAAnC,EAA0C,4FAA1C;AACA,8EAAiB,CAAC,gBAAlB,CAAmC,MAAnC,EAA2C,6FAA3C;AAMA,MAAM,cAAc,GAAoB,KAAK,IAAG;AAC9C,QAAM,CAAC,QAAD,EAAW,WAAX,IAA0B,sDAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,sDAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAAC,SAAD,EAAY,YAAZ,IAA4B,sDAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,sDAAQ,CAAgB,IAAhB,CAAlC;AAEA,QAAM,aAAa,GAAI,UAAD,IAAuB;AAC3C,gBAAY,CAAC,IAAD,CAAZ;AACA,sFAAmB,CAAC;AAClB,cAAQ,EAAE,KAAK,CAAC,mBADE;AAElB,kBAAY,EAAE,MAFI;AAGlB,gBAHkB,EAAD,CAAnB;;AAKG,QALH,CAKQ,QAAQ,IAAG;AACf;AACA,YAAM,MAAM,GAAG,QAAQ,CAAC,MAAT,CAAgB,CAAhB,CAAf;AACA,iBAAW,CAAC,MAAM,CAAC,QAAR,CAAX;AACA,cAAQ,CAAC,MAAM,CAAC,KAAR,CAAR;AACA,kBAAY,CAAC,KAAD,CAAZ;AACA,cAAQ,CAAC,IAAD,CAAR;AACD,KAZH;AAaG,SAbH,CAaS,QAAQ,IAAG;AAChB,iGAAoB,CAAC,QAAD,CAApB,CAA+B,IAA/B,CAAoC,CAAC,EAAE,KAAF,EAAS,OAAT,EAAD,KAAuB;AACzD,gBAAQ,CACN,KAAK;AACH,eADF;AAEE,gBAAQ,CAAC,UAFX;AAGE,mEAAC,CAAC,0BAAD,CAJG,CAAR;AAMA,oBAAY,CAAC,KAAD,CAAZ;AACD,OARD;AASD,KAvBH;AAwBD,GA1BD;AA2BA,yDAAS,CAAC,MAAK;AACb,iBAAa,CAAC,OAAD,CAAb;AACD,GAFQ,EAEN,CAAC,KAAK,CAAC,mBAAP,CAFM,CAAT;AAIA,MAAI,SAAJ,EAAe;AACb,WAAO,4DAAC,8DAAD,OAAP;AACD;AACD,MAAI,KAAJ,EAAW;AACT,WAAO,yEAAM,KAAN,CAAP;AACD;AACD,MAAI,KAAJ,EAAW;AACT,WACE;AACE,gEAAC,sEAAD,IACE,IAAI,EAAE,KADR,EAEE,cAAc,EAAE,KAFlB,EAGE,QAAQ,EACN,4DAAC,mBAAD,IAAqB,UAAU,EAAC,QAAhC;AACE,yEAAG,SAAS,EAAC,iBAAb,GADF,CAJJ,GADF;;AAUE,gEAAC,8EAAD,IAAmB,QAAQ,EAAE,QAAQ,IAAI,SAAzC,EAAoD,KAAK,EAAE,2FAA3D;AACG,SADH,CAVF,CADF;;;AAgBD;AACD,SAAO,IAAP;AACD,CA9DD,C,cAAM,c;AAgES,c,CAAA,yE,iLA/ET,mB,+KAeA,c;;;;;;;;;;;;;;;;;;;wSC/CN;;;;;;;;;;;;;;;;;AAiBG;AAEI,MAAM,YAAY,GAAG,CAC1B,EAD0B,EAE1B,KAF0B,EAG1B,QAAgC,CAAC,GAAG,IAAJ,KAAgB,4FAAe,CAAC,GAAG,IAAJ,CAAf,CAHtB,KAIvB,CAAC,GAAG,IAAJ,KAAkB;AACrB,QAAM,GAAG,GAAG,KAAK,CAAC,GAAG,IAAJ,CAAjB;AACA,MAAI,KAAK,CAAC,GAAN,CAAU,GAAV,CAAJ,EAAoB;AAClB,WAAO,KAAK,CAAC,GAAN,CAAU,GAAV,CAAP;AACD;AACD,QAAM,MAAM,GAAG,EAAE,CAAC,GAAG,IAAJ,CAAjB;AACA,OAAK,CAAC,GAAN,CAAU,GAAV,EAAe,MAAf;AACA,SAAO,MAAP;AACD,CAZM,C,iLAAM,Y;;;;;;;;;;;;;;;;;;;;;;;uSCAb;AACA;AACA;AACA;AAEA;;;AAGG;AACH,MAAM,qBAAqB,GAAG,SAA9B;AAEA;;;;;AAKG;AACH,MAAM,gBAAgB,GAAG,CAAC,WAAD,EAAsB,IAAI,GAAG,IAAI,IAAJ,EAA7B,KACvB,GAAG,uDAAS,CAAC,WAAD,CAAa,IAAI,IAAI,CAAC,WAAL,GAAmB,OAAnB,CAA2B,OAA3B,EAAoC,GAApC,CAAwC,EADvE;AAGA;;;;;;;;;AASG;AACW,SAAU,eAAV,CACZ,QADY,EAEZ,WAFY,EAGZ,oBAA6B,EAHjB,EAIZ,eAAe,GAAG,KAJN,EAIW;AAEvB,SAAQ,KAAD,IAA0B;AAC/B,UAAM,cAAc,GAAG,eAAe;AAClC,YAAQ,CAAC,aAAT,CAAuB,QAAvB,CADkC;AAElC,SAAK,CAAC,aAAN,CAAoB,OAApB,CAA4B,QAA5B,CAFJ;AAIA,QAAI,CAAC,cAAL,EAAqB;AACnB,aAAO,iFAAe,CACpB,2DAAC,CAAC,sDAAD,CADmB,CAAtB;AAGD;AAED,WAAO,mDAAU;AACd,UADI,CACG,cADH,EACmB;AACtB,aAAO,EAAE,IADa;AAEtB,aAAO,EAAE,qBAFa;AAGtB;AACA;AACA,YAAM,EAAG,IAAD,IACN,IAAI,CAAC,SAAL,KAAmB,4BANC;AAOtB,SAAG,iBAPmB,EADnB;;AAUJ,QAVI,CAUC,OAAO,IAAG;AACd,YAAM,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAAb;AACA,UAAI,CAAC,QAAL,GAAgB,GAAG,gBAAgB,CAAC,WAAD,CAAa,MAAhD;AACA,UAAI,CAAC,IAAL,GAAY,OAAZ;AACA,UAAI,CAAC,KAAL;AACD,KAfI;AAgBJ,SAhBI,CAgBE,CAAC,IAAG;AACT,aAAO,CAAC,KAAR,CAAc,uBAAd,EAAuC,CAAvC;AACD,KAlBI,CAAP;AAmBD,GA9BD;AA+BD,C,iLA1DK,qB,yJAQA,gB,oJAakB,e","file":"DashboardContainer.9ed865ea.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar CaretDownOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z\" } }] }, \"name\": \"caret-down\", \"theme\": \"outlined\" };\nexport default CaretDownOutlined;\n","// This icon file is generated automatically.\nvar CheckCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z\" } }] }, \"name\": \"check-circle\", \"theme\": \"filled\" };\nexport default CheckCircleFilled;\n","// This icon file is generated automatically.\nvar CheckOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z\" } }] }, \"name\": \"check\", \"theme\": \"outlined\" };\nexport default CheckOutlined;\n","// This icon file is generated automatically.\nvar EllipsisOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z\" } }] }, \"name\": \"ellipsis\", \"theme\": \"outlined\" };\nexport default EllipsisOutlined;\n","// This icon file is generated automatically.\nvar ExclamationCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z\" } }] }, \"name\": \"exclamation-circle\", \"theme\": \"filled\" };\nexport default ExclamationCircleFilled;\n","// This icon file is generated automatically.\nvar MinusCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z\" } }] }, \"name\": \"minus-circle\", \"theme\": \"filled\" };\nexport default MinusCircleFilled;\n","// This icon file is generated automatically.\nvar PlusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z\" } }] }, \"name\": \"plus\", \"theme\": \"outlined\" };\nexport default PlusOutlined;\n","// This icon file is generated automatically.\nvar SearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\" } }] }, \"name\": \"search\", \"theme\": \"outlined\" };\nexport default SearchOutlined;\n","// This icon file is generated automatically.\nvar WarningOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z\" } }] }, \"name\": \"warning\", \"theme\": \"outlined\" };\nexport default WarningOutlined;\n","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport ReactIcon from './IconBase';\nimport { getTwoToneColor, setTwoToneColor } from './twoTonePrimaryColor';\nimport { normalizeTwoToneColors } from '../utils'; // Initial setting\n// should move it to antd main repo?\n\nsetTwoToneColor('#1890ff');\nvar Icon = React.forwardRef(function (props, ref) {\n  var className = props.className,\n      icon = props.icon,\n      spin = props.spin,\n      rotate = props.rotate,\n      tabIndex = props.tabIndex,\n      onClick = props.onClick,\n      twoToneColor = props.twoToneColor,\n      restProps = _objectWithoutProperties(props, [\"className\", \"icon\", \"spin\", \"rotate\", \"tabIndex\", \"onClick\", \"twoToneColor\"]);\n\n  var classString = classNames('anticon', _defineProperty({}, \"anticon-\".concat(icon.name), Boolean(icon.name)), className);\n  var svgClassString = classNames({\n    'anticon-spin': !!spin || icon.name === 'loading'\n  });\n  var iconTabIndex = tabIndex;\n\n  if (iconTabIndex === undefined && onClick) {\n    iconTabIndex = -1;\n  }\n\n  var svgStyle = rotate ? {\n    msTransform: \"rotate(\".concat(rotate, \"deg)\"),\n    transform: \"rotate(\".concat(rotate, \"deg)\")\n  } : undefined;\n\n  var _normalizeTwoToneColo = normalizeTwoToneColors(twoToneColor),\n      _normalizeTwoToneColo2 = _slicedToArray(_normalizeTwoToneColo, 2),\n      primaryColor = _normalizeTwoToneColo2[0],\n      secondaryColor = _normalizeTwoToneColo2[1];\n\n  return React.createElement(\"span\", Object.assign({\n    role: \"img\",\n    \"aria-label\": icon.name\n  }, restProps, {\n    ref: ref,\n    tabIndex: iconTabIndex,\n    onClick: onClick,\n    className: classString\n  }), React.createElement(ReactIcon, {\n    className: svgClassString,\n    icon: icon,\n    primaryColor: primaryColor,\n    secondaryColor: secondaryColor,\n    style: svgStyle\n  }));\n});\nIcon.displayName = 'AntdIcon';\nIcon.getTwoToneColor = getTwoToneColor;\nIcon.setTwoToneColor = setTwoToneColor;\nexport default Icon;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { generate, getSecondaryColor, isIconDefinition, warning, useInsertStyles } from '../utils';\nvar twoToneColorPalette = {\n  primaryColor: '#333',\n  secondaryColor: '#E6E6E6',\n  calculated: false\n};\n\nfunction setTwoToneColors(_ref) {\n  var primaryColor = _ref.primaryColor,\n      secondaryColor = _ref.secondaryColor;\n  twoToneColorPalette.primaryColor = primaryColor;\n  twoToneColorPalette.secondaryColor = secondaryColor || getSecondaryColor(primaryColor);\n  twoToneColorPalette.calculated = !!secondaryColor;\n}\n\nfunction getTwoToneColors() {\n  return _objectSpread({}, twoToneColorPalette);\n}\n\nvar IconBase = function IconBase(props) {\n  var icon = props.icon,\n      className = props.className,\n      onClick = props.onClick,\n      style = props.style,\n      primaryColor = props.primaryColor,\n      secondaryColor = props.secondaryColor,\n      restProps = _objectWithoutProperties(props, [\"icon\", \"className\", \"onClick\", \"style\", \"primaryColor\", \"secondaryColor\"]);\n\n  var colors = twoToneColorPalette;\n\n  if (primaryColor) {\n    colors = {\n      primaryColor: primaryColor,\n      secondaryColor: secondaryColor || getSecondaryColor(primaryColor)\n    };\n  }\n\n  useInsertStyles();\n  warning(isIconDefinition(icon), \"icon should be icon definiton, but got \".concat(icon));\n\n  if (!isIconDefinition(icon)) {\n    return null;\n  }\n\n  var target = icon;\n\n  if (target && typeof target.icon === 'function') {\n    target = _objectSpread(_objectSpread({}, target), {}, {\n      icon: target.icon(colors.primaryColor, colors.secondaryColor)\n    });\n  }\n\n  return generate(target.icon, \"svg-\".concat(target.name), _objectSpread({\n    className: className,\n    onClick: onClick,\n    style: style,\n    'data-icon': target.name,\n    width: '1em',\n    height: '1em',\n    fill: 'currentColor',\n    'aria-hidden': 'true'\n  }, restProps));\n};\n\nIconBase.displayName = 'IconReact';\nIconBase.getTwoToneColors = getTwoToneColors;\nIconBase.setTwoToneColors = setTwoToneColors;\nexport default IconBase;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport ReactIcon from './IconBase';\nimport { normalizeTwoToneColors } from '../utils';\nexport function setTwoToneColor(twoToneColor) {\n  var _normalizeTwoToneColo = normalizeTwoToneColors(twoToneColor),\n      _normalizeTwoToneColo2 = _slicedToArray(_normalizeTwoToneColo, 2),\n      primaryColor = _normalizeTwoToneColo2[0],\n      secondaryColor = _normalizeTwoToneColo2[1];\n\n  return ReactIcon.setTwoToneColors({\n    primaryColor: primaryColor,\n    secondaryColor: secondaryColor\n  });\n}\nexport function getTwoToneColor() {\n  var colors = ReactIcon.getTwoToneColors();\n\n  if (!colors.calculated) {\n    return colors.primaryColor;\n  }\n\n  return [colors.primaryColor, colors.secondaryColor];\n}","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CaretDownOutlinedSvg from \"@ant-design/icons-svg/es/asn/CaretDownOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CaretDownOutlined = function CaretDownOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: CaretDownOutlinedSvg\n  }));\n};\n\nCaretDownOutlined.displayName = 'CaretDownOutlined';\nexport default React.forwardRef(CaretDownOutlined);","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CheckCircleFilledSvg from \"@ant-design/icons-svg/es/asn/CheckCircleFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CheckCircleFilled = function CheckCircleFilled(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: CheckCircleFilledSvg\n  }));\n};\n\nCheckCircleFilled.displayName = 'CheckCircleFilled';\nexport default React.forwardRef(CheckCircleFilled);","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CheckOutlinedSvg from \"@ant-design/icons-svg/es/asn/CheckOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CheckOutlined = function CheckOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: CheckOutlinedSvg\n  }));\n};\n\nCheckOutlined.displayName = 'CheckOutlined';\nexport default React.forwardRef(CheckOutlined);","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EllipsisOutlinedSvg from \"@ant-design/icons-svg/es/asn/EllipsisOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EllipsisOutlined = function EllipsisOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EllipsisOutlinedSvg\n  }));\n};\n\nEllipsisOutlined.displayName = 'EllipsisOutlined';\nexport default React.forwardRef(EllipsisOutlined);","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ExclamationCircleFilledSvg from \"@ant-design/icons-svg/es/asn/ExclamationCircleFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar ExclamationCircleFilled = function ExclamationCircleFilled(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: ExclamationCircleFilledSvg\n  }));\n};\n\nExclamationCircleFilled.displayName = 'ExclamationCircleFilled';\nexport default React.forwardRef(ExclamationCircleFilled);","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MinusCircleFilledSvg from \"@ant-design/icons-svg/es/asn/MinusCircleFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MinusCircleFilled = function MinusCircleFilled(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: MinusCircleFilledSvg\n  }));\n};\n\nMinusCircleFilled.displayName = 'MinusCircleFilled';\nexport default React.forwardRef(MinusCircleFilled);","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PlusOutlined = function PlusOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: PlusOutlinedSvg\n  }));\n};\n\nPlusOutlined.displayName = 'PlusOutlined';\nexport default React.forwardRef(PlusOutlined);","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SearchOutlinedSvg from \"@ant-design/icons-svg/es/asn/SearchOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SearchOutlined = function SearchOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: SearchOutlinedSvg\n  }));\n};\n\nSearchOutlined.displayName = 'SearchOutlined';\nexport default React.forwardRef(SearchOutlined);","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport WarningOutlinedSvg from \"@ant-design/icons-svg/es/asn/WarningOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar WarningOutlined = function WarningOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: WarningOutlinedSvg\n  }));\n};\n\nWarningOutlined.displayName = 'WarningOutlined';\nexport default React.forwardRef(WarningOutlined);","module.exports = require(\"core-js-pure/stable/instance/fill\");","module.exports = require(\"core-js-pure/stable/map\");","module.exports = require(\"core-js-pure/stable/set-interval\");","import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport debounce from 'lodash/debounce';\nimport React from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nvar ParentSize =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ParentSize, _React$Component);\n\n  function ParentSize(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"animationFrameID\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"resizeObserver\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"target\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"resize\", function (_ref) {\n      var width = _ref.width,\n          height = _ref.height,\n          top = _ref.top,\n          left = _ref.left;\n\n      _this.setState(function () {\n        return {\n          width: width,\n          height: height,\n          top: top,\n          left: left\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setTarget\", function (ref) {\n      _this.target = ref;\n    });\n\n    _this.state = {\n      width: 0,\n      height: 0,\n      top: 0,\n      left: 0\n    };\n    _this.resize = debounce(_this.resize, props.debounceTime);\n    _this.animationFrameID = null;\n    return _this;\n  }\n\n  var _proto = ParentSize.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.resizeObserver = new ResizeObserver(function (entries\n    /** , observer */\n    ) {\n      if (entries === void 0) {\n        entries = [];\n      }\n\n      entries.forEach(function (entry) {\n        var _entry$contentRect = entry.contentRect,\n            left = _entry$contentRect.left,\n            top = _entry$contentRect.top,\n            width = _entry$contentRect.width,\n            height = _entry$contentRect.height;\n        _this2.animationFrameID = window.requestAnimationFrame(function () {\n          _this2.resize({\n            width: width,\n            height: height,\n            top: top,\n            left: left\n          });\n        });\n      });\n    });\n    if (this.target) this.resizeObserver.observe(this.target);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.animationFrameID) window.cancelAnimationFrame(this.animationFrameID);\n    if (this.resizeObserver) this.resizeObserver.disconnect();\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        children = _this$props.children,\n        debounceTime = _this$props.debounceTime,\n        parentSizeStyles = _this$props.parentSizeStyles,\n        restProps = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"children\", \"debounceTime\", \"parentSizeStyles\"]);\n\n    return React.createElement(\"div\", _extends({\n      style: parentSizeStyles,\n      ref: this.setTarget,\n      className: className\n    }, restProps), children(_extends({}, this.state, {\n      ref: this.target,\n      resize: this.resize\n    })));\n  };\n\n  return ParentSize;\n}(React.Component);\n\n_defineProperty(ParentSize, \"propTypes\", {\n  className: _pt.string,\n  debounceTime: _pt.number,\n  children: _pt.func.isRequired\n});\n\n_defineProperty(ParentSize, \"defaultProps\", {\n  debounceTime: 300,\n  parentSizeStyles: {\n    width: '100%',\n    height: '100%'\n  }\n});\n\nexport { ParentSize as default };","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","module.exports = function () { /* empty */ };\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.6.0' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = true;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","module.exports = require('./_hide');\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2018 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","require('../../../modules/es.array.fill');\nvar entryVirtual = require('../../../internals/entry-virtual');\n\nmodule.exports = entryVirtual('Array').fill;\n","var fill = require('../array/virtual/fill');\n\nvar ArrayPrototype = Array.prototype;\n\nmodule.exports = function (it) {\n  var own = it.fill;\n  return it === ArrayPrototype || (it instanceof Array && own === ArrayPrototype.fill) ? fill : own;\n};\n","require('../../modules/es.map');\nrequire('../../modules/es.object.to-string');\nrequire('../../modules/es.string.iterator');\nrequire('../../modules/web.dom-collections.iterator');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Map;\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var parent = require('../../es/instance/fill');\n\nmodule.exports = parent;\n","var parent = require('../../es/map');\n\nmodule.exports = parent;\n","require('../modules/web.timers');\nvar path = require('../internals/path');\n\nmodule.exports = path.setInterval;\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/************************************************************************/\\n/* COLORS                                                               */\\n/* Please attempt to use and standardize on these colors,               */\\n/* rather than including specific color values in                       */\\n/* component styles. This will allow us to more easily adjust theming   */\\n/************************************************************************/\\n/**************************** text-specific *****************************/\\n/***************************** status colors ****************************/\\n/* general component effects */\\n/************************************************************************/\\n/* OPACITIES                                                            */\\n/* Used in LESS filters, e.g. fade(@someColorVar, @someOpacityBelow)    */\\n/************************************************************************/\\n/************************************************************************/\\n/* SHADES & TINTS                                                       */\\n/* Used in LESS filters for shadint/tinting,                            */\\n/* e.g. shade(@someColorVar, @colorstop-one) to darken                  */\\n/* or tint(@someColorVar, @colorstop-one) to lighten                    */\\n/************************************************************************/\\n/************************************************************************/\\n/* LAYOUT                                                               */\\n/* Widths and heights of things, that might be referred to often        */\\n/************************************************************************/\\n/* builder component pane */\\n/************************************************************************/\\n/* Z-INDEX                                                              */\\n/* Think of the site as \\\"layers\\\" rather than an arms race of numbers    */\\n/* Keep these to a minimum                                              */\\n/* Label semantic \\\"layers\\\" and add comments for usage notes             */\\n/* Use double dash modifiers to step up/down from a base layer          */\\n/* e.g. z-whatever--modifier                                            */\\n/************************************************************************/\\n/************************ toast messages, popovers **********************/\\n/***** filters, dashboard editor widgets, Explore reloading overlay *****/\\n/******************************** charts ********************************/\\n/************************************************************************/\\n/* TYPOGRAPHY                                                           */\\n/* Commonly used font weights, line heights, etc. These should be the   */\\n/* core values used to build more complex styles for headers, etc.      */\\n/************************************************************************/\\n/************************************************************************/\\n/* TRANSITIONS                                                          */\\n/* Timing and easings presets used in CSS transitions                   */\\n/************************************************************************/\\n/************************************************************************/\\n/* BORDER RADII                                                         */\\n/* Standard border-radius settings                                      */\\n/************************************************************************/\\n/************************************************************************/\\n/* BOOTSTRAP/BOOTSWATCH/COSMO                                           */\\n/* These are the legacy Cosmo theme overrides to Bootswatch's           */\\n/* overrides to Bootstrap. We should consolidate/deprecate these        */\\n/* in favor of custom/reusable CSS wherever possible                    */\\n/************************************************************************/\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard {\\n  position: relative;\\n  color: #263238;\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n/* only top-level tabs have popover, give it more padding to match header + tabs */\\n.dashboard > .with-popover-menu > .popover-menu {\\n  left: 24px;\\n}\\n/* drop shadow for top-level tabs only */\\n.dashboard .dashboard-component-tabs {\\n  box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.1);\\n  padding-left: 8px;\\n  /* note this is added to tab-level padding, to match header */\\n}\\n.dropdown-toggle.btn.btn-primary .caret {\\n  color: #ffffff;\\n}\\n.background--transparent {\\n  background-color: transparent;\\n}\\n.background--white {\\n  background-color: #ffffff;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-builder-sidepane {\\n  flex: 0 0 374px;\\n  position: relative;\\n}\\n.dashboard-builder-sidepane .dashboard-builder-sidepane-header {\\n  font-size: 16px;\\n  font-weight: 700;\\n  border-top: 1px solid #e0e0e0;\\n  border-bottom: 1px solid #e0e0e0;\\n  padding: 16px;\\n  display: flex;\\n  align-items: center;\\n}\\n.dashboard-builder-sidepane .trigger {\\n  font-size: 16px;\\n  color: #263238;\\n  opacity: 1;\\n  margin-left: auto;\\n  cursor: pointer;\\n}\\n.dashboard-builder-sidepane .slices-layer .trigger {\\n  margin-left: 0;\\n  margin-right: 20px;\\n}\\n.dashboard-builder-sidepane .viewport {\\n  position: absolute;\\n  transform: none !important;\\n  overflow: hidden;\\n  width: 374px;\\n  height: 100%;\\n  box-shadow: -4px 0 4px 0 rgba(0, 0, 0, 0.1);\\n}\\n.dashboard-builder-sidepane .slider-container {\\n  position: absolute;\\n  background: #ffffff;\\n  width: 748px;\\n  height: 100vh;\\n  display: flex;\\n  transition: all 0.3s ease;\\n}\\n.dashboard-builder-sidepane .slider-container.slide-in {\\n  left: -374px;\\n}\\n.dashboard-builder-sidepane .slider-container.slide-out {\\n  left: 0;\\n}\\n.dashboard-builder-sidepane .slider-container .slide-content {\\n  width: 374px;\\n}\\n.dashboard-builder-sidepane .component-layer .new-component.static,\\n.dashboard-builder-sidepane .slices-layer .dashboard-builder-sidepane-header {\\n  cursor: pointer;\\n}\\n.dashboard-builder-sidepane .component-layer .new-component.static {\\n  cursor: pointer;\\n}\\n.dashboard-builder-sidepane .new-component-label {\\n  flex-grow: 1;\\n}\\n.dashboard-builder-sidepane .slice-adder-container {\\n  position: relative;\\n  background-color: white;\\n  min-height: 200px;\\n  /* for loader positioning */\\n}\\n.dashboard-builder-sidepane .slice-adder-container .error-message {\\n  padding: 16px;\\n}\\n.dashboard-builder-sidepane .slice-adder-container .controls {\\n  display: flex;\\n  padding: 16px;\\n  /* the input is wrapped in a div */\\n}\\n.dashboard-builder-sidepane .slice-adder-container .controls .search-input {\\n  flex-grow: 1;\\n  margin-right: 16px;\\n}\\n.dashboard-builder-sidepane .slice-adder-container .controls .dropdown.btn-group button,\\n.dashboard-builder-sidepane .slice-adder-container .controls input {\\n  font-size: 14px;\\n  padding: 7px 12px;\\n  height: 32px;\\n  border: 1px solid #e0e0e0;\\n}\\n.dashboard-builder-sidepane .slice-adder-container .controls input {\\n  width: 100%;\\n}\\n.dashboard-builder-sidepane .slice-adder-container .controls input:focus {\\n  outline: none;\\n  border-color: #879399;\\n}\\n.dashboard-builder-sidepane .slice-adder-container .ReactVirtualized__Grid.ReactVirtualized__List:focus {\\n  outline: none;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.icon-button {\\n  color: #879399;\\n  font-size: 16px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: center;\\n  outline: none;\\n}\\n.icon-button:hover,\\n.icon-button:active,\\n.icon-button:focus {\\n  color: #263238;\\n  outline: none;\\n  text-decoration: none;\\n}\\n.icon-button-label {\\n  color: #333333;\\n  padding-left: 8px;\\n  font-size: 14px;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/* header has mysterious extra margin */\\nheader.top {\\n  margin-bottom: 2px;\\n}\\nbody h1 {\\n  font-weight: 700;\\n  line-height: 1.4;\\n  font-size: 28px;\\n  letter-spacing: -0.2px;\\n  margin-top: 12px;\\n  margin-bottom: 12px;\\n}\\nbody h2 {\\n  font-weight: 700;\\n  line-height: 1.4;\\n  font-size: 21px;\\n  margin-top: 12px;\\n  margin-bottom: 8px;\\n}\\nbody h3,\\nbody h4,\\nbody h5,\\nbody h6 {\\n  font-weight: 700;\\n  line-height: 1.4;\\n  font-size: 16px;\\n  letter-spacing: 0.2px;\\n  margin-top: 8px;\\n  margin-bottom: 4px;\\n}\\nbody p {\\n  margin: 0 0 8px 0;\\n}\\n.dashboard .chart-header {\\n  font-size: 16px;\\n  font-weight: 700;\\n  margin-bottom: 4px;\\n  display: flex;\\n  max-width: 100%;\\n  align-items: flex-start;\\n}\\n.dashboard .chart-header > .header-title {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  max-width: 100%;\\n  flex-grow: 1;\\n}\\n.dashboard .chart-header > .header-controls {\\n  display: flex;\\n}\\n.dashboard .chart-header > .header-controls > * {\\n  margin-left: 8px;\\n}\\n.dashboard .chart-header .dropdown.btn-group {\\n  pointer-events: none;\\n  vertical-align: top;\\n}\\n.dashboard .chart-header .dropdown.btn-group > * {\\n  pointer-events: auto;\\n}\\n.dashboard .chart-header .dropdown-toggle.btn.btn-default {\\n  background: none;\\n  border: none;\\n  box-shadow: none;\\n}\\n.dashboard .chart-header .dropdown-menu.dropdown-menu-right {\\n  top: 20px;\\n}\\n.dashboard .chart-header .divider {\\n  margin: 5px 0;\\n}\\n.dashboard .chart-header .refresh-tooltip {\\n  display: block;\\n  height: 16px;\\n  margin: 3px 0;\\n  color: #879399;\\n}\\n.dashboard .chart-header .dropdown-menu,\\n.dashboard .dashboard-header .dropdown-menu {\\n  padding: 9px 0;\\n}\\n.dashboard .chart-header .dropdown-menu li,\\n.dashboard .dashboard-header .dropdown-menu li {\\n  font-weight: 400;\\n}\\n.react-bs-container-body {\\n  max-height: 400px;\\n  overflow-y: auto;\\n}\\n.hidden,\\n#pageDropDown {\\n  display: none;\\n}\\n.separator .chart-container {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n}\\n.dashboard .title {\\n  margin: 0 20px;\\n}\\n.dashboard-header .dashboard-component-header {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n.dashboard-header .dashboard-component-header .editable-title {\\n  margin-right: 8px;\\n}\\n.dashboard-header .dashboard-component-header .favstar {\\n  font-size: 21px;\\n  position: relative;\\n  margin-left: 8px;\\n}\\n.dashboard-header .dashboard-component-header .publish {\\n  position: relative;\\n  margin-left: 8px;\\n}\\n.slice_container .alert {\\n  margin: 10px;\\n}\\ni.danger {\\n  color: #e04355;\\n}\\ni.warning {\\n  color: #fcc700;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dragdroppable {\\n  position: relative;\\n}\\n.dashboard--editing .contract-trigger:before {\\n  display: none;\\n}\\n.dragdroppable--dragging {\\n  opacity: 0.2;\\n}\\n.dragdroppable-row {\\n  width: 100%;\\n}\\n.dragdroppable-column .resizable-container span div {\\n  z-index: 10;\\n}\\n/* drop indicators */\\n.drop-indicator {\\n  display: block;\\n  background-color: #20a7c9;\\n  position: absolute;\\n  z-index: 10;\\n}\\n.drop-indicator--top {\\n  top: 0;\\n  left: 0;\\n  height: 4px;\\n  width: 100%;\\n  min-width: 16px;\\n}\\n.drop-indicator--bottom {\\n  top: 100%;\\n  left: 0;\\n  height: 4px;\\n  width: 100%;\\n  min-width: 16px;\\n}\\n.empty-droptarget:first-child .drop-indicator--bottom {\\n  top: 24px;\\n}\\n.drop-indicator--right {\\n  top: 0;\\n  left: 100%;\\n  height: 100%;\\n  width: 4px;\\n  min-height: 16px;\\n}\\n.drop-indicator--left {\\n  top: 0;\\n  left: 0;\\n  height: 100%;\\n  width: 4px;\\n  min-height: 16px;\\n}\\n/* drag handles */\\n.drag-handle {\\n  overflow: hidden;\\n  width: 16px;\\n  cursor: move;\\n}\\n.drag-handle--left {\\n  width: 8px;\\n}\\n.drag-handle-dot {\\n  float: left;\\n  height: 2px;\\n  margin: 1px;\\n  width: 2px;\\n}\\n.drag-handle-dot:after {\\n  content: '';\\n  background: #879399;\\n  float: left;\\n  height: 2px;\\n  margin: -1px;\\n  width: 2px;\\n}\\n/* empty drop targets */\\n.dashboard-component-tabs-content > .empty-droptarget {\\n  position: absolute;\\n  width: 100%;\\n}\\n.dashboard-component-tabs-content > .empty-droptarget:first-child {\\n  height: 14px;\\n  top: -2px;\\n  z-index: 10;\\n}\\n.dashboard-component-tabs-content > .empty-droptarget:last-child {\\n  height: 12px;\\n  bottom: 0px;\\n}\\n.grid-content {\\n  /* note we don't do a :last-child selection because\\n    assuming bottom empty-droptarget is last child is fragile */\\n}\\n.grid-content > .empty-droptarget {\\n  width: 100%;\\n  height: 100%;\\n}\\n.grid-content > .empty-droptarget:first-child {\\n  height: 48px;\\n  margin-top: -24px;\\n  margin-bottom: -24px;\\n}\\n.grid-content > .empty-droptarget:only-child {\\n  height: 80vh;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.filter-scope-container {\\n  display: flex;\\n  flex-direction: column;\\n  height: 80%;\\n  margin-right: -24px;\\n  font-size: 14px;\\n}\\n.filter-scope-container .nav.nav-tabs {\\n  border: none;\\n}\\n.filter-scope-container .filter-scope-body {\\n  flex: 1;\\n  max-height: calc(100% - 128px);\\n}\\n.filter-scope-container .filter-scope-body .filter-field-pane,\\n.filter-scope-container .filter-scope-body .filter-scope-pane {\\n  overflow-y: scroll;\\n}\\n.filter-scope-container .warning-message {\\n  padding: 24px;\\n}\\n.filter-scope-header {\\n  height: 64px;\\n  border-bottom: 1px solid #e0e0e0;\\n  padding-left: 24px;\\n  margin-left: -24px;\\n}\\n.filter-scope-header h4 {\\n  margin-top: 0;\\n}\\n.filter-scope-header .selected-fields {\\n  margin: 12px 0 16px;\\n  visibility: hidden;\\n}\\n.filter-scope-header .selected-fields.multi-edit-mode {\\n  visibility: visible;\\n}\\n.filter-scope-header .selected-fields .selected-scopes {\\n  padding-left: 5px;\\n}\\n.filters-scope-selector {\\n  display: flex;\\n  flex-direction: row;\\n  position: relative;\\n  height: 100%;\\n}\\n.filters-scope-selector a,\\n.filters-scope-selector a:active,\\n.filters-scope-selector a:hover {\\n  color: #263238;\\n  text-decoration: none;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-expand-all,\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-collapse-all {\\n  font-size: 14px;\\n  font-family: 'Inter', Helvetica, Arial;\\n  color: #20a7c9;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-expand-all::before,\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-collapse-all::before {\\n  content: '';\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-expand-all:hover,\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-collapse-all:hover {\\n  text-decoration: underline;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-expand-all:focus,\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-collapse-all:focus {\\n  outline: none;\\n}\\n.filters-scope-selector .filter-field-pane {\\n  position: relative;\\n  width: 40%;\\n  padding: 16px 16px 16px 0;\\n  border-right: 1px solid #e0e0e0;\\n}\\n.filters-scope-selector .filter-field-pane .filter-container label {\\n  font-weight: 400;\\n  margin: 0 0 0 16px;\\n  word-break: break-all;\\n}\\n.filters-scope-selector .filter-field-pane .filter-field-item {\\n  height: 35px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 0 24px;\\n  margin-left: -24px;\\n}\\n.filters-scope-selector .filter-field-pane .filter-field-item.is-selected {\\n  border: 1px solid #a3a3a3;\\n  border-radius: 4px;\\n  background-color: #f7f7f7;\\n  margin-left: -25px;\\n}\\n.filters-scope-selector .filter-field-pane .react-checkbox-tree .rct-title .root {\\n  font-weight: 700;\\n}\\n.filters-scope-selector .filter-field-pane .react-checkbox-tree .rct-text {\\n  height: 40px;\\n}\\n.filters-scope-selector .filter-scope-pane {\\n  position: relative;\\n  flex: 1;\\n  padding: 16px 24px 16px 16px;\\n}\\n.filters-scope-selector .react-checkbox-tree {\\n  flex-direction: column;\\n  color: #263238;\\n  font-size: 14px;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type {\\n  padding: 8px 0;\\n  display: block;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type .type-indicator {\\n  position: relative;\\n  top: 3px;\\n  margin-right: 8px;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type.chart {\\n  font-weight: 400;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type.selected-filter {\\n  padding-left: 28px;\\n  position: relative;\\n  color: #a3a3a3;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type.selected-filter::before {\\n  content: ' ';\\n  position: absolute;\\n  left: 0;\\n  top: 50%;\\n  width: 18px;\\n  height: 18px;\\n  border-radius: 4px;\\n  margin-top: -9px;\\n  box-shadow: inset 0 0 0 2px #e0e0e0;\\n  background: #f2f2f2;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type.root {\\n  font-weight: 700;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-checkbox svg {\\n  position: relative;\\n  top: 3px;\\n  width: 18px;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-node-leaf .rct-bare-label::before {\\n  padding-left: 5px;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-options {\\n  text-align: left;\\n  margin-left: 0;\\n  margin-bottom: 8px;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-text {\\n  margin: 0;\\n  display: flex;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-title {\\n  display: block;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-node-clickable:hover,\\n.filters-scope-selector .react-checkbox-tree .rct-node-clickable:focus,\\n.filters-scope-selector .react-checkbox-tree label:hover,\\n.filters-scope-selector .react-checkbox-tree label:active {\\n  background: none !important;\\n}\\n.filters-scope-selector .multi-edit-mode.filter-scope-pane .rct-node.rct-node-leaf .filter-scope-type.filter_box {\\n  display: none;\\n}\\n.filters-scope-selector .multi-edit-mode .filter-field-item {\\n  padding: 0 16px 0 50px;\\n  margin-left: -50px;\\n}\\n.filters-scope-selector .multi-edit-mode .filter-field-item.is-selected {\\n  margin-left: -51px;\\n}\\n.filters-scope-selector .scope-search {\\n  position: absolute;\\n  right: 16px;\\n  top: 16px;\\n  border-radius: 4px;\\n  border: 1px solid #e0e0e0;\\n  padding: 4px 8px 4px 8px;\\n  font-size: 14px;\\n  outline: none;\\n}\\n.filters-scope-selector .scope-search:focus {\\n  border: 1px solid #20a7c9;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/* this is the ParentSize wrapper */\\n.grid-container > div:first-child {\\n  height: inherit !important;\\n}\\n.grid-content {\\n  display: flex;\\n  flex-direction: column;\\n}\\n/* gutters between rows */\\n.grid-content > div:not(:only-child):not(:last-child):not(.empty-droptarget) {\\n  margin-bottom: 16px;\\n}\\n/* Editing guides */\\n.grid-column-guide {\\n  position: absolute;\\n  top: 0;\\n  min-height: 100%;\\n  background-color: rgba(32, 167, 201, 0.1);\\n  pointer-events: none;\\n  box-shadow: inset 0 0 0 1px rgba(32, 167, 201, 0.6);\\n}\\n.grid-row-guide {\\n  position: absolute;\\n  left: 0;\\n  bottom: 2;\\n  height: 2;\\n  background-color: #20a7c9;\\n  pointer-events: none;\\n  z-index: 10;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.hover-menu {\\n  opacity: 0;\\n  position: absolute;\\n  z-index: 10;\\n  font-size: 14px;\\n}\\n.hover-menu--left {\\n  width: 24px;\\n  top: 50%;\\n  transform: translate(0, -50%);\\n  left: -28px;\\n  padding: 8px 0;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.hover-menu--left > :nth-child(n):not(:only-child):not(:last-child) {\\n  margin-bottom: 12px;\\n}\\n.hover-menu--top {\\n  height: 24px;\\n  top: -24px;\\n  left: 50%;\\n  transform: translate(-50%);\\n  padding: 0 8px;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n/* Special cases */\\n/* A row within a column has inset hover menu */\\n.dragdroppable-column .dragdroppable-row .hover-menu--left {\\n  left: -12px;\\n  background: #ffffff;\\n  border: 1px solid #e0e0e0;\\n}\\n/* A column within a column or tabs has inset hover menu */\\n.dragdroppable-column .dragdroppable-column .hover-menu--top,\\n.dashboard-component-tabs .dragdroppable-column .hover-menu--top {\\n  top: -12px;\\n  background: #ffffff;\\n  border: 1px solid #e0e0e0;\\n}\\n/* move Tabs hover menu to top near actual Tabs */\\n.dashboard-component-tabs > .hover-menu--left {\\n  top: 0;\\n  transform: unset;\\n  background: transparent;\\n}\\n/* push Chart actions to upper right */\\n.dragdroppable-column .dashboard-component-chart-holder > .hover-menu--top {\\n  right: 8px;\\n  top: 8px;\\n  background: transparent;\\n  border: none;\\n  transform: unset;\\n  left: unset;\\n}\\n.hover-menu--top > :nth-child(n):not(:only-child):not(:last-child) {\\n  margin-right: 12px;\\n}\\ndiv:hover > .hover-menu,\\n.hover-menu:hover {\\n  opacity: 1;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.with-popover-menu {\\n  position: relative;\\n  outline: none;\\n}\\n.grid-row.grid-row--empty .with-popover-menu {\\n  /* drop indicator doesn't show up without this */\\n  width: 100%;\\n  height: 100%;\\n}\\n.with-popover-menu--focused:after {\\n  content: '';\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 100%;\\n  border: 2px solid #20a7c9;\\n  pointer-events: none;\\n}\\n.popover-menu {\\n  position: absolute;\\n  flex-wrap: nowrap;\\n  left: 1px;\\n  top: -42px;\\n  height: 40px;\\n  padding: 0 16px;\\n  background: #ffffff;\\n  box-shadow: 0 1px 2px 1px rgba(0, 0, 0, 0.35);\\n  font-size: 14px;\\n  cursor: default;\\n  z-index: 3000;\\n  /* vertical spacer after each menu item */\\n}\\n.popover-menu,\\n.popover-menu .menu-item {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n.popover-menu .menu-item:not(:only-child):not(:last-child):after {\\n  content: '';\\n  width: 1;\\n  height: 100%;\\n  background: #e0e0e0;\\n  margin: 0 16px;\\n}\\n/* the focus menu doesn't account for parent padding */\\n.dashboard-component-tabs li .with-popover-menu--focused:after {\\n  top: -12px;\\n  left: -8px;\\n  width: calc(100% + 16px);\\n  /* escape for .less */\\n  height: calc(100% + 28px);\\n}\\n.dashboard-component-tabs li .popover-menu {\\n  top: -56px;\\n  left: -7px;\\n}\\n.hover-dropdown .btn:hover,\\n.hover-dropdown .btn:active,\\n.hover-dropdown .btn:focus {\\n  background: initial;\\n  box-shadow: none;\\n}\\n.hover-dropdown li.dropdown-item:hover a,\\n.popover-menu li.dropdown-item:hover a {\\n  background: #f2f3f5;\\n}\\n.hover-dropdown li.dropdown-item.active a,\\n.popover-menu li.dropdown-item.active a {\\n  background: #e0e0e0;\\n  font-weight: 700;\\n  color: #263238;\\n}\\n/* background style menu */\\n.background-style-option {\\n  display: inline-block;\\n  /* Create the transparent rect icon */\\n}\\n.background-style-option:before {\\n  content: '';\\n  width: 1em;\\n  height: 1em;\\n  margin-right: 8px;\\n  display: inline-block;\\n  vertical-align: middle;\\n}\\n.background-style-option.background--white {\\n  padding-left: 0;\\n  background: transparent;\\n}\\n.background-style-option.background--white:before {\\n  background: #ffffff;\\n  border: 1px solid #e0e0e0;\\n}\\n.background-style-option.background--transparent:before {\\n  background-image: linear-gradient(45deg, #879399 25%, transparent 25%), linear-gradient(-45deg, #879399 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #879399 75%), linear-gradient(-45deg, transparent 75%, #879399 75%);\\n  background-size: 8px 8px;\\n  background-position: 0 0, 0 4px, 4px -4px, -4px 0px;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.resizable-container {\\n  background-color: transparent;\\n  position: relative;\\n  /* re-resizable sets an empty div to 100% width and height, which doesn't\\n  play well with many 100% height containers we need\\n */\\n}\\n.resizable-container ~ div {\\n  width: auto !important;\\n  height: auto !important;\\n}\\n.resizable-container--resizing {\\n  /* after ensures border visibility on top of any children */\\n}\\n.resizable-container--resizing:after {\\n  content: '';\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  box-shadow: inset 0 0 0 2px #20a7c9;\\n}\\n.resizable-container--resizing > span .resize-handle {\\n  border-color: #20a7c9;\\n}\\n.resize-handle {\\n  opacity: 0;\\n  z-index: 10;\\n}\\n.resize-handle--bottom-right {\\n  position: absolute;\\n  border: solid;\\n  border-width: 0 1.5px 1.5px 0;\\n  border-right-color: #879399;\\n  border-bottom-color: #879399;\\n  right: 16px;\\n  bottom: 16px;\\n  width: 8px;\\n  height: 8px;\\n}\\n.resize-handle--right {\\n  width: 2px;\\n  height: 20px;\\n  right: 4px;\\n  top: 50%;\\n  transform: translate(0, -50%);\\n  position: absolute;\\n  border-left: 1px solid #879399;\\n  border-right: 1px solid #879399;\\n}\\n.resize-handle--bottom {\\n  height: 2px;\\n  width: 20px;\\n  bottom: 4px;\\n  left: 50%;\\n  transform: translate(-50%);\\n  position: absolute;\\n  border-top: 1px solid #879399;\\n  border-bottom: 1px solid #879399;\\n}\\n.resizable-container:hover .resize-handle,\\n.resizable-container--resizing .resize-handle {\\n  opacity: 1;\\n}\\n.dragdroppable-column .resizable-container-handle--right {\\n  /* override the default because the inner column's handle's mouse target is very small */\\n  right: -10px !important;\\n}\\n.dragdroppable-column .dragdroppable-column .resizable-container-handle--right {\\n  /* override the default because the inner column's handle's mouse target is very small */\\n  right: 0px !important;\\n}\\n.resizable-container-handle--bottom {\\n  bottom: 0 !important;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-component-chart-holder {\\n  width: 100%;\\n  height: 100%;\\n  color: #333333;\\n  background-color: #ffffff;\\n  position: relative;\\n  padding: 16px;\\n  overflow-y: visible;\\n  transition: opacity 0.2s, border-color 0.2s, box-shadow 0.2s;\\n  border: 2px solid transparent;\\n}\\n.dashboard-component-chart-holder .missing-chart-container {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  overflow-y: auto;\\n  justify-content: center;\\n}\\n.dashboard-component-chart-holder .missing-chart-container .missing-chart-body {\\n  font-size: 12px;\\n  position: relative;\\n  display: flex;\\n}\\n.dashboard-component-chart-holder.fade-in {\\n  border-radius: 4px;\\n  box-shadow: inset 0 0 0 2px #20a7c9, 0 0 0 3px rgba(32, 167, 201, 0.1);\\n  transition: box-shadow 0.2s ease-in-out, opacity 0.2s ease-in-out, border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\\n}\\n.dashboard-component-chart-holder.fade-out {\\n  border-radius: 4px;\\n  box-shadow: none;\\n  transition: box-shadow 0.2s ease-in-out, opacity 0.2s ease-in-out, border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\\n}\\n.dashboard-chart {\\n  overflow: hidden;\\n  position: relative;\\n}\\n.dashboard-chart.dashboard-chart--overflowable {\\n  overflow: visible;\\n}\\n.dashboard--editing .dashboard-component-chart-holder:after {\\n  content: '';\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0px;\\n  left: 0px;\\n  z-index: 1;\\n  pointer-events: none;\\n  border: 1px solid transparent;\\n}\\n.dashboard--editing .dashboard-component-chart-holder:hover:after {\\n  border: 1px dashed #20a7c9;\\n  z-index: 2;\\n}\\n.dashboard--editing .resizable-container:hover > .dashboard-component-chart-holder:after,\\n.dashboard--editing .resizable-container.resizable-container--resizing:hover > .dashboard-component-chart-holder:after {\\n  border: 1px dashed #20a7c9;\\n}\\n.dashboard--editing .resizable-container .dashboard-component-chart-holder .dashboard-chart .chart-container {\\n  cursor: move;\\n  opacity: 0.2;\\n}\\n.dashboard--editing .resizable-container .dashboard-component-chart-holder .dashboard-chart .slice_container {\\n  /* disable chart interactions in edit mode */\\n  pointer-events: none;\\n}\\n.dashboard--editing .resizable-container .dashboard-component-chart-holder:hover .dashboard-chart .chart-container {\\n  opacity: 0.7;\\n}\\n.dot {\\n  height: 4px;\\n  width: 4px;\\n  border-radius: 2px;\\n  margin: 2px 0;\\n  background-color: #879399;\\n  display: inline-block;\\n}\\na[role='menuitem'] .dot {\\n  width: 8px;\\n  height: 8px;\\n  margin-right: 8px;\\n}\\n.time-filter-tabs > .nav-tabs {\\n  margin-bottom: 8px;\\n}\\n.time-filter-tabs > .nav-tabs > li > a {\\n  padding: 4px;\\n}\\n.full-size {\\n  position: fixed;\\n  z-index: 3000;\\n  left: 0;\\n  top: 0;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.grid-column {\\n  width: 100%;\\n  position: relative;\\n}\\n/* gutters between elements in a column */\\n.grid-column > :not(:only-child):not(.hover-menu):not(:last-child) {\\n  margin-bottom: 16px;\\n}\\n.dashboard--editing .grid-column:after {\\n  content: '';\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n  border: 1px dashed #e0e0e0;\\n}\\n.dashboard--editing .resizable-container.resizable-container--resizing:hover > .grid-column:after,\\n.dashboard--editing .hover-menu:hover + .grid-column:after {\\n  border: 1px dashed #20a7c9;\\n  z-index: 2;\\n}\\n.grid-column--empty {\\n  min-height: 100px;\\n}\\n.grid-column--empty:before {\\n  content: 'Empty column';\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: #e0e0e0;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-component-divider {\\n  width: 100%;\\n  padding: 8px 0;\\n  /* this is padding not margin to enable a larger mouse target */\\n  background-color: transparent;\\n}\\n.dashboard-component-divider:after {\\n  content: '';\\n  height: 1px;\\n  width: 100%;\\n  background-color: #e0e0e0;\\n  display: block;\\n}\\n.new-component-placeholder.divider-placeholder:after {\\n  content: '';\\n  height: 2px;\\n  width: 100%;\\n  background-color: #e0e0e0;\\n}\\n.dragdroppable .dashboard-component-divider {\\n  cursor: move;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-component-header {\\n  width: 100%;\\n  font-weight: 700;\\n  padding: 16px 0;\\n  color: #263238;\\n}\\n.dashboard--editing .dashboard-grid .dashboard-component-header:after {\\n  border: 1px dashed transparent;\\n  content: '';\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n}\\n.dashboard--editing .dashboard-grid .dashboard-component-header:hover:after {\\n  border: 1px dashed #20a7c9;\\n  z-index: 2;\\n}\\n.dashboard--editing .dragdroppable-row .dashboard-component-header {\\n  cursor: move;\\n}\\n.header-style-option {\\n  font-weight: 700;\\n  color: #263238;\\n}\\n.dashboard-header .dashboard-component-header {\\n  font-weight: 200;\\n  width: auto;\\n}\\n.dashboard--editing .header-small {\\n  font-size: 16px;\\n}\\n.header-medium {\\n  font-size: 21px;\\n}\\n.header-large {\\n  font-size: 28px;\\n}\\n.background--white .dashboard-component-header,\\n.dashboard-component-header.background--white,\\n.dashboard-component-tabs .dashboard-component-header,\\n.dashboard-component-tabs .dashboard-component-divider {\\n  padding-left: 16px;\\n  padding-right: 16px;\\n}\\n/*\\n * grids add margin between items, so don't double pad within columns\\n * we'll not worry about double padding on top as it can serve as a visual separator\\n */\\n.grid-column > :not(:only-child):not(:last-child) .dashboard-component-header {\\n  margin-bottom: -16px;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.new-component {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  align-items: center;\\n  padding: 16px;\\n  background: #ffffff;\\n  cursor: move;\\n}\\n.new-component:not(.static):hover {\\n  background: #f7f7f7;\\n}\\n.new-component-placeholder {\\n  position: relative;\\n  background: #f7f7f7;\\n  width: 40px;\\n  height: 40px;\\n  margin-right: 16px;\\n  border: 1px solid #ffffff;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: #879399;\\n  font-size: 28px;\\n}\\n.new-component-placeholder.fa-window-restore {\\n  font-size: 16px;\\n}\\n.new-component-placeholder.fa-area-chart {\\n  font-size: 21px;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.grid-row {\\n  position: relative;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  align-items: flex-start;\\n  width: 100%;\\n  height: fit-content;\\n}\\n/* gutters between elements in a row */\\n.grid-row > :not(:only-child):not(:last-child):not(.hover-menu) {\\n  margin-right: 16px;\\n}\\n/* hover indicator */\\n.dashboard--editing {\\n  /* provide hit area in case row contents is edge to edge */\\n}\\n.dashboard--editing .grid-row:after,\\n.dashboard--editing .dashboard-component-tabs > .hover-menu:hover + div:after {\\n  border: 1px dashed transparent;\\n  content: '';\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n}\\n.dashboard--editing .resizable-container.resizable-container--resizing:hover > .grid-row:after,\\n.dashboard--editing .hover-menu:hover + .grid-row:after,\\n.dashboard--editing .dashboard-component-tabs > .hover-menu:hover + div:after {\\n  border: 1px dashed #20a7c9;\\n  z-index: 2;\\n}\\n.dashboard--editing .grid-row:after,\\n.dashboard--editing .dashboard-component-tabs > .hover-menu + div:after {\\n  border: 1px dashed #e0e0e0;\\n}\\n.dashboard--editing .dashboard-component-tabs-content .dragdroppable-row {\\n  padding-top: 16px;\\n}\\n.grid-row.grid-row--empty {\\n  /* this centers the empty note content */\\n  align-items: center;\\n  height: 100px;\\n}\\n.grid-row.grid-row--empty:before {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  content: 'Empty row';\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  height: 100%;\\n  color: #879399;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-markdown {\\n  overflow: hidden;\\n}\\n.dashboard-markdown h4,\\n.dashboard-markdown h5 {\\n  font-weight: 200;\\n}\\n.dashboard-markdown h5 {\\n  color: #a3a3a3;\\n}\\n.dashboard-markdown h6 {\\n  font-weight: 400;\\n  font-size: 12px;\\n}\\n.dashboard-markdown .dashboard-component-chart-holder {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n.dashboard--editing .dashboard-markdown {\\n  cursor: move;\\n}\\n.dashboard-markdown #brace-editor {\\n  border: none;\\n}\\n/* maximize editing space */\\n.with-popover-menu--focused .dashboard-markdown--editing .dashboard-component-chart-holder {\\n  padding: 1px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/index.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/builder.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/builder-sidepane.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/buttons.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/dashboard.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/dnd.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/filter-scope-selector.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/grid.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/hover-menu.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/popover-menu.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/resizable.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/components/chart.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/components/column.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/components/divider.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/components/header.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/components/new-component.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/components/row.less\",\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/dashboard/stylesheets/components/markdown.less\"],\"names\":[],\"mappings\":\"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\",\"file\":\"index.less\",\"sourcesContent\":[\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/************************************************************************/\\n/* COLORS                                                               */\\n/* Please attempt to use and standardize on these colors,               */\\n/* rather than including specific color values in                       */\\n/* component styles. This will allow us to more easily adjust theming   */\\n/************************************************************************/\\n/**************************** text-specific *****************************/\\n/***************************** status colors ****************************/\\n/* general component effects */\\n/************************************************************************/\\n/* OPACITIES                                                            */\\n/* Used in LESS filters, e.g. fade(@someColorVar, @someOpacityBelow)    */\\n/************************************************************************/\\n/************************************************************************/\\n/* SHADES & TINTS                                                       */\\n/* Used in LESS filters for shadint/tinting,                            */\\n/* e.g. shade(@someColorVar, @colorstop-one) to darken                  */\\n/* or tint(@someColorVar, @colorstop-one) to lighten                    */\\n/************************************************************************/\\n/************************************************************************/\\n/* LAYOUT                                                               */\\n/* Widths and heights of things, that might be referred to often        */\\n/************************************************************************/\\n/* builder component pane */\\n/************************************************************************/\\n/* Z-INDEX                                                              */\\n/* Think of the site as \\\"layers\\\" rather than an arms race of numbers    */\\n/* Keep these to a minimum                                              */\\n/* Label semantic \\\"layers\\\" and add comments for usage notes             */\\n/* Use double dash modifiers to step up/down from a base layer          */\\n/* e.g. z-whatever--modifier                                            */\\n/************************************************************************/\\n/************************ toast messages, popovers **********************/\\n/***** filters, dashboard editor widgets, Explore reloading overlay *****/\\n/******************************** charts ********************************/\\n/************************************************************************/\\n/* TYPOGRAPHY                                                           */\\n/* Commonly used font weights, line heights, etc. These should be the   */\\n/* core values used to build more complex styles for headers, etc.      */\\n/************************************************************************/\\n/************************************************************************/\\n/* TRANSITIONS                                                          */\\n/* Timing and easings presets used in CSS transitions                   */\\n/************************************************************************/\\n/************************************************************************/\\n/* BORDER RADII                                                         */\\n/* Standard border-radius settings                                      */\\n/************************************************************************/\\n/************************************************************************/\\n/* BOOTSTRAP/BOOTSWATCH/COSMO                                           */\\n/* These are the legacy Cosmo theme overrides to Bootswatch's           */\\n/* overrides to Bootstrap. We should consolidate/deprecate these        */\\n/* in favor of custom/reusable CSS wherever possible                    */\\n/************************************************************************/\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard {\\n  position: relative;\\n  color: #263238;\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n/* only top-level tabs have popover, give it more padding to match header + tabs */\\n.dashboard > .with-popover-menu > .popover-menu {\\n  left: 24px;\\n}\\n/* drop shadow for top-level tabs only */\\n.dashboard .dashboard-component-tabs {\\n  box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.1);\\n  padding-left: 8px;\\n  /* note this is added to tab-level padding, to match header */\\n}\\n.dropdown-toggle.btn.btn-primary .caret {\\n  color: #ffffff;\\n}\\n.background--transparent {\\n  background-color: transparent;\\n}\\n.background--white {\\n  background-color: #ffffff;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-builder-sidepane {\\n  flex: 0 0 374px;\\n  position: relative;\\n}\\n.dashboard-builder-sidepane .dashboard-builder-sidepane-header {\\n  font-size: 16px;\\n  font-weight: 700;\\n  border-top: 1px solid #e0e0e0;\\n  border-bottom: 1px solid #e0e0e0;\\n  padding: 16px;\\n  display: flex;\\n  align-items: center;\\n}\\n.dashboard-builder-sidepane .trigger {\\n  font-size: 16px;\\n  color: #263238;\\n  opacity: 1;\\n  margin-left: auto;\\n  cursor: pointer;\\n}\\n.dashboard-builder-sidepane .slices-layer .trigger {\\n  margin-left: 0;\\n  margin-right: 20px;\\n}\\n.dashboard-builder-sidepane .viewport {\\n  position: absolute;\\n  transform: none !important;\\n  overflow: hidden;\\n  width: 374px;\\n  height: 100%;\\n  box-shadow: -4px 0 4px 0 rgba(0, 0, 0, 0.1);\\n}\\n.dashboard-builder-sidepane .slider-container {\\n  position: absolute;\\n  background: #ffffff;\\n  width: 748px;\\n  height: 100vh;\\n  display: flex;\\n  transition: all 0.3s ease;\\n}\\n.dashboard-builder-sidepane .slider-container.slide-in {\\n  left: -374px;\\n}\\n.dashboard-builder-sidepane .slider-container.slide-out {\\n  left: 0;\\n}\\n.dashboard-builder-sidepane .slider-container .slide-content {\\n  width: 374px;\\n}\\n.dashboard-builder-sidepane .component-layer .new-component.static,\\n.dashboard-builder-sidepane .slices-layer .dashboard-builder-sidepane-header {\\n  cursor: pointer;\\n}\\n.dashboard-builder-sidepane .component-layer .new-component.static {\\n  cursor: pointer;\\n}\\n.dashboard-builder-sidepane .new-component-label {\\n  flex-grow: 1;\\n}\\n.dashboard-builder-sidepane .slice-adder-container {\\n  position: relative;\\n  background-color: white;\\n  min-height: 200px;\\n  /* for loader positioning */\\n}\\n.dashboard-builder-sidepane .slice-adder-container .error-message {\\n  padding: 16px;\\n}\\n.dashboard-builder-sidepane .slice-adder-container .controls {\\n  display: flex;\\n  padding: 16px;\\n  /* the input is wrapped in a div */\\n}\\n.dashboard-builder-sidepane .slice-adder-container .controls .search-input {\\n  flex-grow: 1;\\n  margin-right: 16px;\\n}\\n.dashboard-builder-sidepane .slice-adder-container .controls .dropdown.btn-group button,\\n.dashboard-builder-sidepane .slice-adder-container .controls input {\\n  font-size: 14px;\\n  padding: 7px 12px;\\n  height: 32px;\\n  border: 1px solid #e0e0e0;\\n}\\n.dashboard-builder-sidepane .slice-adder-container .controls input {\\n  width: 100%;\\n}\\n.dashboard-builder-sidepane .slice-adder-container .controls input:focus {\\n  outline: none;\\n  border-color: #879399;\\n}\\n.dashboard-builder-sidepane .slice-adder-container .ReactVirtualized__Grid.ReactVirtualized__List:focus {\\n  outline: none;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.icon-button {\\n  color: #879399;\\n  font-size: 16px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: center;\\n  outline: none;\\n}\\n.icon-button:hover,\\n.icon-button:active,\\n.icon-button:focus {\\n  color: #263238;\\n  outline: none;\\n  text-decoration: none;\\n}\\n.icon-button-label {\\n  color: #333333;\\n  padding-left: 8px;\\n  font-size: 14px;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/* header has mysterious extra margin */\\nheader.top {\\n  margin-bottom: 2px;\\n}\\nbody h1 {\\n  font-weight: 700;\\n  line-height: 1.4;\\n  font-size: 28px;\\n  letter-spacing: -0.2px;\\n  margin-top: 12px;\\n  margin-bottom: 12px;\\n}\\nbody h2 {\\n  font-weight: 700;\\n  line-height: 1.4;\\n  font-size: 21px;\\n  margin-top: 12px;\\n  margin-bottom: 8px;\\n}\\nbody h3,\\nbody h4,\\nbody h5,\\nbody h6 {\\n  font-weight: 700;\\n  line-height: 1.4;\\n  font-size: 16px;\\n  letter-spacing: 0.2px;\\n  margin-top: 8px;\\n  margin-bottom: 4px;\\n}\\nbody p {\\n  margin: 0 0 8px 0;\\n}\\n.dashboard .chart-header {\\n  font-size: 16px;\\n  font-weight: 700;\\n  margin-bottom: 4px;\\n  display: flex;\\n  max-width: 100%;\\n  align-items: flex-start;\\n}\\n.dashboard .chart-header > .header-title {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  max-width: 100%;\\n  flex-grow: 1;\\n}\\n.dashboard .chart-header > .header-controls {\\n  display: flex;\\n}\\n.dashboard .chart-header > .header-controls > * {\\n  margin-left: 8px;\\n}\\n.dashboard .chart-header .dropdown.btn-group {\\n  pointer-events: none;\\n  vertical-align: top;\\n}\\n.dashboard .chart-header .dropdown.btn-group > * {\\n  pointer-events: auto;\\n}\\n.dashboard .chart-header .dropdown-toggle.btn.btn-default {\\n  background: none;\\n  border: none;\\n  box-shadow: none;\\n}\\n.dashboard .chart-header .dropdown-menu.dropdown-menu-right {\\n  top: 20px;\\n}\\n.dashboard .chart-header .divider {\\n  margin: 5px 0;\\n}\\n.dashboard .chart-header .refresh-tooltip {\\n  display: block;\\n  height: 16px;\\n  margin: 3px 0;\\n  color: #879399;\\n}\\n.dashboard .chart-header .dropdown-menu,\\n.dashboard .dashboard-header .dropdown-menu {\\n  padding: 9px 0;\\n}\\n.dashboard .chart-header .dropdown-menu li,\\n.dashboard .dashboard-header .dropdown-menu li {\\n  font-weight: 400;\\n}\\n.react-bs-container-body {\\n  max-height: 400px;\\n  overflow-y: auto;\\n}\\n.hidden,\\n#pageDropDown {\\n  display: none;\\n}\\n.separator .chart-container {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n}\\n.dashboard .title {\\n  margin: 0 20px;\\n}\\n.dashboard-header .dashboard-component-header {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n.dashboard-header .dashboard-component-header .editable-title {\\n  margin-right: 8px;\\n}\\n.dashboard-header .dashboard-component-header .favstar {\\n  font-size: 21px;\\n  position: relative;\\n  margin-left: 8px;\\n}\\n.dashboard-header .dashboard-component-header .publish {\\n  position: relative;\\n  margin-left: 8px;\\n}\\n.slice_container .alert {\\n  margin: 10px;\\n}\\ni.danger {\\n  color: #e04355;\\n}\\ni.warning {\\n  color: #fcc700;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dragdroppable {\\n  position: relative;\\n}\\n.dashboard--editing .contract-trigger:before {\\n  display: none;\\n}\\n.dragdroppable--dragging {\\n  opacity: 0.2;\\n}\\n.dragdroppable-row {\\n  width: 100%;\\n}\\n.dragdroppable-column .resizable-container span div {\\n  z-index: 10;\\n}\\n/* drop indicators */\\n.drop-indicator {\\n  display: block;\\n  background-color: #20a7c9;\\n  position: absolute;\\n  z-index: 10;\\n}\\n.drop-indicator--top {\\n  top: 0;\\n  left: 0;\\n  height: 4px;\\n  width: 100%;\\n  min-width: 16px;\\n}\\n.drop-indicator--bottom {\\n  top: 100%;\\n  left: 0;\\n  height: 4px;\\n  width: 100%;\\n  min-width: 16px;\\n}\\n.empty-droptarget:first-child .drop-indicator--bottom {\\n  top: 24px;\\n}\\n.drop-indicator--right {\\n  top: 0;\\n  left: 100%;\\n  height: 100%;\\n  width: 4px;\\n  min-height: 16px;\\n}\\n.drop-indicator--left {\\n  top: 0;\\n  left: 0;\\n  height: 100%;\\n  width: 4px;\\n  min-height: 16px;\\n}\\n/* drag handles */\\n.drag-handle {\\n  overflow: hidden;\\n  width: 16px;\\n  cursor: move;\\n}\\n.drag-handle--left {\\n  width: 8px;\\n}\\n.drag-handle-dot {\\n  float: left;\\n  height: 2px;\\n  margin: 1px;\\n  width: 2px;\\n}\\n.drag-handle-dot:after {\\n  content: '';\\n  background: #879399;\\n  float: left;\\n  height: 2px;\\n  margin: -1px;\\n  width: 2px;\\n}\\n/* empty drop targets */\\n.dashboard-component-tabs-content > .empty-droptarget {\\n  position: absolute;\\n  width: 100%;\\n}\\n.dashboard-component-tabs-content > .empty-droptarget:first-child {\\n  height: 14px;\\n  top: -2px;\\n  z-index: 10;\\n}\\n.dashboard-component-tabs-content > .empty-droptarget:last-child {\\n  height: 12px;\\n  bottom: 0px;\\n}\\n.grid-content {\\n  /* note we don't do a :last-child selection because\\n    assuming bottom empty-droptarget is last child is fragile */\\n}\\n.grid-content > .empty-droptarget {\\n  width: 100%;\\n  height: 100%;\\n}\\n.grid-content > .empty-droptarget:first-child {\\n  height: 48px;\\n  margin-top: -24px;\\n  margin-bottom: -24px;\\n}\\n.grid-content > .empty-droptarget:only-child {\\n  height: 80vh;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.filter-scope-container {\\n  display: flex;\\n  flex-direction: column;\\n  height: 80%;\\n  margin-right: -24px;\\n  font-size: 14px;\\n}\\n.filter-scope-container .nav.nav-tabs {\\n  border: none;\\n}\\n.filter-scope-container .filter-scope-body {\\n  flex: 1;\\n  max-height: calc(100% - 128px);\\n}\\n.filter-scope-container .filter-scope-body .filter-field-pane,\\n.filter-scope-container .filter-scope-body .filter-scope-pane {\\n  overflow-y: scroll;\\n}\\n.filter-scope-container .warning-message {\\n  padding: 24px;\\n}\\n.filter-scope-header {\\n  height: 64px;\\n  border-bottom: 1px solid #e0e0e0;\\n  padding-left: 24px;\\n  margin-left: -24px;\\n}\\n.filter-scope-header h4 {\\n  margin-top: 0;\\n}\\n.filter-scope-header .selected-fields {\\n  margin: 12px 0 16px;\\n  visibility: hidden;\\n}\\n.filter-scope-header .selected-fields.multi-edit-mode {\\n  visibility: visible;\\n}\\n.filter-scope-header .selected-fields .selected-scopes {\\n  padding-left: 5px;\\n}\\n.filters-scope-selector {\\n  display: flex;\\n  flex-direction: row;\\n  position: relative;\\n  height: 100%;\\n}\\n.filters-scope-selector a,\\n.filters-scope-selector a:active,\\n.filters-scope-selector a:hover {\\n  color: #263238;\\n  text-decoration: none;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-expand-all,\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-collapse-all {\\n  font-size: 14px;\\n  font-family: 'Inter', Helvetica, Arial;\\n  color: #20a7c9;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-expand-all::before,\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-collapse-all::before {\\n  content: '';\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-expand-all:hover,\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-collapse-all:hover {\\n  text-decoration: underline;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-expand-all:focus,\\n.filters-scope-selector .react-checkbox-tree .rct-icon.rct-icon-collapse-all:focus {\\n  outline: none;\\n}\\n.filters-scope-selector .filter-field-pane {\\n  position: relative;\\n  width: 40%;\\n  padding: 16px 16px 16px 0;\\n  border-right: 1px solid #e0e0e0;\\n}\\n.filters-scope-selector .filter-field-pane .filter-container label {\\n  font-weight: 400;\\n  margin: 0 0 0 16px;\\n  word-break: break-all;\\n}\\n.filters-scope-selector .filter-field-pane .filter-field-item {\\n  height: 35px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 0 24px;\\n  margin-left: -24px;\\n}\\n.filters-scope-selector .filter-field-pane .filter-field-item.is-selected {\\n  border: 1px solid #a3a3a3;\\n  border-radius: 4px;\\n  background-color: #f7f7f7;\\n  margin-left: -25px;\\n}\\n.filters-scope-selector .filter-field-pane .react-checkbox-tree .rct-title .root {\\n  font-weight: 700;\\n}\\n.filters-scope-selector .filter-field-pane .react-checkbox-tree .rct-text {\\n  height: 40px;\\n}\\n.filters-scope-selector .filter-scope-pane {\\n  position: relative;\\n  flex: 1;\\n  padding: 16px 24px 16px 16px;\\n}\\n.filters-scope-selector .react-checkbox-tree {\\n  flex-direction: column;\\n  color: #263238;\\n  font-size: 14px;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type {\\n  padding: 8px 0;\\n  display: block;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type .type-indicator {\\n  position: relative;\\n  top: 3px;\\n  margin-right: 8px;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type.chart {\\n  font-weight: 400;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type.selected-filter {\\n  padding-left: 28px;\\n  position: relative;\\n  color: #a3a3a3;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type.selected-filter::before {\\n  content: ' ';\\n  position: absolute;\\n  left: 0;\\n  top: 50%;\\n  width: 18px;\\n  height: 18px;\\n  border-radius: 4px;\\n  margin-top: -9px;\\n  box-shadow: inset 0 0 0 2px #e0e0e0;\\n  background: #f2f2f2;\\n}\\n.filters-scope-selector .react-checkbox-tree .filter-scope-type.root {\\n  font-weight: 700;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-checkbox svg {\\n  position: relative;\\n  top: 3px;\\n  width: 18px;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-node-leaf .rct-bare-label::before {\\n  padding-left: 5px;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-options {\\n  text-align: left;\\n  margin-left: 0;\\n  margin-bottom: 8px;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-text {\\n  margin: 0;\\n  display: flex;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-title {\\n  display: block;\\n}\\n.filters-scope-selector .react-checkbox-tree .rct-node-clickable:hover,\\n.filters-scope-selector .react-checkbox-tree .rct-node-clickable:focus,\\n.filters-scope-selector .react-checkbox-tree label:hover,\\n.filters-scope-selector .react-checkbox-tree label:active {\\n  background: none !important;\\n}\\n.filters-scope-selector .multi-edit-mode.filter-scope-pane .rct-node.rct-node-leaf .filter-scope-type.filter_box {\\n  display: none;\\n}\\n.filters-scope-selector .multi-edit-mode .filter-field-item {\\n  padding: 0 16px 0 50px;\\n  margin-left: -50px;\\n}\\n.filters-scope-selector .multi-edit-mode .filter-field-item.is-selected {\\n  margin-left: -51px;\\n}\\n.filters-scope-selector .scope-search {\\n  position: absolute;\\n  right: 16px;\\n  top: 16px;\\n  border-radius: 4px;\\n  border: 1px solid #e0e0e0;\\n  padding: 4px 8px 4px 8px;\\n  font-size: 14px;\\n  outline: none;\\n}\\n.filters-scope-selector .scope-search:focus {\\n  border: 1px solid #20a7c9;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/* this is the ParentSize wrapper */\\n.grid-container > div:first-child {\\n  height: inherit !important;\\n}\\n.grid-content {\\n  display: flex;\\n  flex-direction: column;\\n}\\n/* gutters between rows */\\n.grid-content > div:not(:only-child):not(:last-child):not(.empty-droptarget) {\\n  margin-bottom: 16px;\\n}\\n/* Editing guides */\\n.grid-column-guide {\\n  position: absolute;\\n  top: 0;\\n  min-height: 100%;\\n  background-color: rgba(32, 167, 201, 0.1);\\n  pointer-events: none;\\n  box-shadow: inset 0 0 0 1px rgba(32, 167, 201, 0.6);\\n}\\n.grid-row-guide {\\n  position: absolute;\\n  left: 0;\\n  bottom: 2;\\n  height: 2;\\n  background-color: #20a7c9;\\n  pointer-events: none;\\n  z-index: 10;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.hover-menu {\\n  opacity: 0;\\n  position: absolute;\\n  z-index: 10;\\n  font-size: 14px;\\n}\\n.hover-menu--left {\\n  width: 24px;\\n  top: 50%;\\n  transform: translate(0, -50%);\\n  left: -28px;\\n  padding: 8px 0;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.hover-menu--left > :nth-child(n):not(:only-child):not(:last-child) {\\n  margin-bottom: 12px;\\n}\\n.hover-menu--top {\\n  height: 24px;\\n  top: -24px;\\n  left: 50%;\\n  transform: translate(-50%);\\n  padding: 0 8px;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n/* Special cases */\\n/* A row within a column has inset hover menu */\\n.dragdroppable-column .dragdroppable-row .hover-menu--left {\\n  left: -12px;\\n  background: #ffffff;\\n  border: 1px solid #e0e0e0;\\n}\\n/* A column within a column or tabs has inset hover menu */\\n.dragdroppable-column .dragdroppable-column .hover-menu--top,\\n.dashboard-component-tabs .dragdroppable-column .hover-menu--top {\\n  top: -12px;\\n  background: #ffffff;\\n  border: 1px solid #e0e0e0;\\n}\\n/* move Tabs hover menu to top near actual Tabs */\\n.dashboard-component-tabs > .hover-menu--left {\\n  top: 0;\\n  transform: unset;\\n  background: transparent;\\n}\\n/* push Chart actions to upper right */\\n.dragdroppable-column .dashboard-component-chart-holder > .hover-menu--top {\\n  right: 8px;\\n  top: 8px;\\n  background: transparent;\\n  border: none;\\n  transform: unset;\\n  left: unset;\\n}\\n.hover-menu--top > :nth-child(n):not(:only-child):not(:last-child) {\\n  margin-right: 12px;\\n}\\ndiv:hover > .hover-menu,\\n.hover-menu:hover {\\n  opacity: 1;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.with-popover-menu {\\n  position: relative;\\n  outline: none;\\n}\\n.grid-row.grid-row--empty .with-popover-menu {\\n  /* drop indicator doesn't show up without this */\\n  width: 100%;\\n  height: 100%;\\n}\\n.with-popover-menu--focused:after {\\n  content: '';\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 100%;\\n  border: 2px solid #20a7c9;\\n  pointer-events: none;\\n}\\n.popover-menu {\\n  position: absolute;\\n  flex-wrap: nowrap;\\n  left: 1px;\\n  top: -42px;\\n  height: 40px;\\n  padding: 0 16px;\\n  background: #ffffff;\\n  box-shadow: 0 1px 2px 1px rgba(0, 0, 0, 0.35);\\n  font-size: 14px;\\n  cursor: default;\\n  z-index: 3000;\\n  /* vertical spacer after each menu item */\\n}\\n.popover-menu,\\n.popover-menu .menu-item {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n}\\n.popover-menu .menu-item:not(:only-child):not(:last-child):after {\\n  content: '';\\n  width: 1;\\n  height: 100%;\\n  background: #e0e0e0;\\n  margin: 0 16px;\\n}\\n/* the focus menu doesn't account for parent padding */\\n.dashboard-component-tabs li .with-popover-menu--focused:after {\\n  top: -12px;\\n  left: -8px;\\n  width: calc(100% + 16px);\\n  /* escape for .less */\\n  height: calc(100% + 28px);\\n}\\n.dashboard-component-tabs li .popover-menu {\\n  top: -56px;\\n  left: -7px;\\n}\\n.hover-dropdown .btn:hover,\\n.hover-dropdown .btn:active,\\n.hover-dropdown .btn:focus {\\n  background: initial;\\n  box-shadow: none;\\n}\\n.hover-dropdown li.dropdown-item:hover a,\\n.popover-menu li.dropdown-item:hover a {\\n  background: #f2f3f5;\\n}\\n.hover-dropdown li.dropdown-item.active a,\\n.popover-menu li.dropdown-item.active a {\\n  background: #e0e0e0;\\n  font-weight: 700;\\n  color: #263238;\\n}\\n/* background style menu */\\n.background-style-option {\\n  display: inline-block;\\n  /* Create the transparent rect icon */\\n}\\n.background-style-option:before {\\n  content: '';\\n  width: 1em;\\n  height: 1em;\\n  margin-right: 8px;\\n  display: inline-block;\\n  vertical-align: middle;\\n}\\n.background-style-option.background--white {\\n  padding-left: 0;\\n  background: transparent;\\n}\\n.background-style-option.background--white:before {\\n  background: #ffffff;\\n  border: 1px solid #e0e0e0;\\n}\\n.background-style-option.background--transparent:before {\\n  background-image: linear-gradient(45deg, #879399 25%, transparent 25%), linear-gradient(-45deg, #879399 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #879399 75%), linear-gradient(-45deg, transparent 75%, #879399 75%);\\n  background-size: 8px 8px;\\n  background-position: 0 0, 0 4px, 4px -4px, -4px 0px;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.resizable-container {\\n  background-color: transparent;\\n  position: relative;\\n  /* re-resizable sets an empty div to 100% width and height, which doesn't\\n  play well with many 100% height containers we need\\n */\\n}\\n.resizable-container ~ div {\\n  width: auto !important;\\n  height: auto !important;\\n}\\n.resizable-container--resizing {\\n  /* after ensures border visibility on top of any children */\\n}\\n.resizable-container--resizing:after {\\n  content: '';\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  box-shadow: inset 0 0 0 2px #20a7c9;\\n}\\n.resizable-container--resizing > span .resize-handle {\\n  border-color: #20a7c9;\\n}\\n.resize-handle {\\n  opacity: 0;\\n  z-index: 10;\\n}\\n.resize-handle--bottom-right {\\n  position: absolute;\\n  border: solid;\\n  border-width: 0 1.5px 1.5px 0;\\n  border-right-color: #879399;\\n  border-bottom-color: #879399;\\n  right: 16px;\\n  bottom: 16px;\\n  width: 8px;\\n  height: 8px;\\n}\\n.resize-handle--right {\\n  width: 2px;\\n  height: 20px;\\n  right: 4px;\\n  top: 50%;\\n  transform: translate(0, -50%);\\n  position: absolute;\\n  border-left: 1px solid #879399;\\n  border-right: 1px solid #879399;\\n}\\n.resize-handle--bottom {\\n  height: 2px;\\n  width: 20px;\\n  bottom: 4px;\\n  left: 50%;\\n  transform: translate(-50%);\\n  position: absolute;\\n  border-top: 1px solid #879399;\\n  border-bottom: 1px solid #879399;\\n}\\n.resizable-container:hover .resize-handle,\\n.resizable-container--resizing .resize-handle {\\n  opacity: 1;\\n}\\n.dragdroppable-column .resizable-container-handle--right {\\n  /* override the default because the inner column's handle's mouse target is very small */\\n  right: -10px !important;\\n}\\n.dragdroppable-column .dragdroppable-column .resizable-container-handle--right {\\n  /* override the default because the inner column's handle's mouse target is very small */\\n  right: 0px !important;\\n}\\n.resizable-container-handle--bottom {\\n  bottom: 0 !important;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-component-chart-holder {\\n  width: 100%;\\n  height: 100%;\\n  color: #333333;\\n  background-color: #ffffff;\\n  position: relative;\\n  padding: 16px;\\n  overflow-y: visible;\\n  transition: opacity 0.2s, border-color 0.2s, box-shadow 0.2s;\\n  border: 2px solid transparent;\\n}\\n.dashboard-component-chart-holder .missing-chart-container {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  overflow-y: auto;\\n  justify-content: center;\\n}\\n.dashboard-component-chart-holder .missing-chart-container .missing-chart-body {\\n  font-size: 12px;\\n  position: relative;\\n  display: flex;\\n}\\n.dashboard-component-chart-holder.fade-in {\\n  border-radius: 4px;\\n  box-shadow: inset 0 0 0 2px #20a7c9, 0 0 0 3px rgba(32, 167, 201, 0.1);\\n  transition: box-shadow 0.2s ease-in-out, opacity 0.2s ease-in-out, border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\\n}\\n.dashboard-component-chart-holder.fade-out {\\n  border-radius: 4px;\\n  box-shadow: none;\\n  transition: box-shadow 0.2s ease-in-out, opacity 0.2s ease-in-out, border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\\n}\\n.dashboard-chart {\\n  overflow: hidden;\\n  position: relative;\\n}\\n.dashboard-chart.dashboard-chart--overflowable {\\n  overflow: visible;\\n}\\n.dashboard--editing .dashboard-component-chart-holder:after {\\n  content: '';\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0px;\\n  left: 0px;\\n  z-index: 1;\\n  pointer-events: none;\\n  border: 1px solid transparent;\\n}\\n.dashboard--editing .dashboard-component-chart-holder:hover:after {\\n  border: 1px dashed #20a7c9;\\n  z-index: 2;\\n}\\n.dashboard--editing .resizable-container:hover > .dashboard-component-chart-holder:after,\\n.dashboard--editing .resizable-container.resizable-container--resizing:hover > .dashboard-component-chart-holder:after {\\n  border: 1px dashed #20a7c9;\\n}\\n.dashboard--editing .resizable-container .dashboard-component-chart-holder .dashboard-chart .chart-container {\\n  cursor: move;\\n  opacity: 0.2;\\n}\\n.dashboard--editing .resizable-container .dashboard-component-chart-holder .dashboard-chart .slice_container {\\n  /* disable chart interactions in edit mode */\\n  pointer-events: none;\\n}\\n.dashboard--editing .resizable-container .dashboard-component-chart-holder:hover .dashboard-chart .chart-container {\\n  opacity: 0.7;\\n}\\n.dot {\\n  height: 4px;\\n  width: 4px;\\n  border-radius: 2px;\\n  margin: 2px 0;\\n  background-color: #879399;\\n  display: inline-block;\\n}\\na[role='menuitem'] .dot {\\n  width: 8px;\\n  height: 8px;\\n  margin-right: 8px;\\n}\\n.time-filter-tabs > .nav-tabs {\\n  margin-bottom: 8px;\\n}\\n.time-filter-tabs > .nav-tabs > li > a {\\n  padding: 4px;\\n}\\n.full-size {\\n  position: fixed;\\n  z-index: 3000;\\n  left: 0;\\n  top: 0;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.grid-column {\\n  width: 100%;\\n  position: relative;\\n}\\n/* gutters between elements in a column */\\n.grid-column > :not(:only-child):not(.hover-menu):not(:last-child) {\\n  margin-bottom: 16px;\\n}\\n.dashboard--editing .grid-column:after {\\n  content: '';\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n  border: 1px dashed #e0e0e0;\\n}\\n.dashboard--editing .resizable-container.resizable-container--resizing:hover > .grid-column:after,\\n.dashboard--editing .hover-menu:hover + .grid-column:after {\\n  border: 1px dashed #20a7c9;\\n  z-index: 2;\\n}\\n.grid-column--empty {\\n  min-height: 100px;\\n}\\n.grid-column--empty:before {\\n  content: 'Empty column';\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: #e0e0e0;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-component-divider {\\n  width: 100%;\\n  padding: 8px 0;\\n  /* this is padding not margin to enable a larger mouse target */\\n  background-color: transparent;\\n}\\n.dashboard-component-divider:after {\\n  content: '';\\n  height: 1px;\\n  width: 100%;\\n  background-color: #e0e0e0;\\n  display: block;\\n}\\n.new-component-placeholder.divider-placeholder:after {\\n  content: '';\\n  height: 2px;\\n  width: 100%;\\n  background-color: #e0e0e0;\\n}\\n.dragdroppable .dashboard-component-divider {\\n  cursor: move;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-component-header {\\n  width: 100%;\\n  font-weight: 700;\\n  padding: 16px 0;\\n  color: #263238;\\n}\\n.dashboard--editing .dashboard-grid .dashboard-component-header:after {\\n  border: 1px dashed transparent;\\n  content: '';\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n}\\n.dashboard--editing .dashboard-grid .dashboard-component-header:hover:after {\\n  border: 1px dashed #20a7c9;\\n  z-index: 2;\\n}\\n.dashboard--editing .dragdroppable-row .dashboard-component-header {\\n  cursor: move;\\n}\\n.header-style-option {\\n  font-weight: 700;\\n  color: #263238;\\n}\\n.dashboard-header .dashboard-component-header {\\n  font-weight: 200;\\n  width: auto;\\n}\\n.dashboard--editing .header-small {\\n  font-size: 16px;\\n}\\n.header-medium {\\n  font-size: 21px;\\n}\\n.header-large {\\n  font-size: 28px;\\n}\\n.background--white .dashboard-component-header,\\n.dashboard-component-header.background--white,\\n.dashboard-component-tabs .dashboard-component-header,\\n.dashboard-component-tabs .dashboard-component-divider {\\n  padding-left: 16px;\\n  padding-right: 16px;\\n}\\n/*\\n * grids add margin between items, so don't double pad within columns\\n * we'll not worry about double padding on top as it can serve as a visual separator\\n */\\n.grid-column > :not(:only-child):not(:last-child) .dashboard-component-header {\\n  margin-bottom: -16px;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.new-component {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  align-items: center;\\n  padding: 16px;\\n  background: #ffffff;\\n  cursor: move;\\n}\\n.new-component:not(.static):hover {\\n  background: #f7f7f7;\\n}\\n.new-component-placeholder {\\n  position: relative;\\n  background: #f7f7f7;\\n  width: 40px;\\n  height: 40px;\\n  margin-right: 16px;\\n  border: 1px solid #ffffff;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: #879399;\\n  font-size: 28px;\\n}\\n.new-component-placeholder.fa-window-restore {\\n  font-size: 16px;\\n}\\n.new-component-placeholder.fa-area-chart {\\n  font-size: 21px;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.grid-row {\\n  position: relative;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  align-items: flex-start;\\n  width: 100%;\\n  height: fit-content;\\n}\\n/* gutters between elements in a row */\\n.grid-row > :not(:only-child):not(:last-child):not(.hover-menu) {\\n  margin-right: 16px;\\n}\\n/* hover indicator */\\n.dashboard--editing {\\n  /* provide hit area in case row contents is edge to edge */\\n}\\n.dashboard--editing .grid-row:after,\\n.dashboard--editing .dashboard-component-tabs > .hover-menu:hover + div:after {\\n  border: 1px dashed transparent;\\n  content: '';\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n}\\n.dashboard--editing .resizable-container.resizable-container--resizing:hover > .grid-row:after,\\n.dashboard--editing .hover-menu:hover + .grid-row:after,\\n.dashboard--editing .dashboard-component-tabs > .hover-menu:hover + div:after {\\n  border: 1px dashed #20a7c9;\\n  z-index: 2;\\n}\\n.dashboard--editing .grid-row:after,\\n.dashboard--editing .dashboard-component-tabs > .hover-menu + div:after {\\n  border: 1px dashed #e0e0e0;\\n}\\n.dashboard--editing .dashboard-component-tabs-content .dragdroppable-row {\\n  padding-top: 16px;\\n}\\n.grid-row.grid-row--empty {\\n  /* this centers the empty note content */\\n  align-items: center;\\n  height: 100px;\\n}\\n.grid-row.grid-row--empty:before {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  content: 'Empty row';\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  height: 100%;\\n  color: #879399;\\n}\\n/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-markdown {\\n  overflow: hidden;\\n}\\n.dashboard-markdown h4,\\n.dashboard-markdown h5 {\\n  font-weight: 200;\\n}\\n.dashboard-markdown h5 {\\n  color: #a3a3a3;\\n}\\n.dashboard-markdown h6 {\\n  font-weight: 400;\\n  font-size: 12px;\\n}\\n.dashboard-markdown .dashboard-component-chart-holder {\\n  overflow-y: auto;\\n  overflow-x: hidden;\\n}\\n.dashboard--editing .dashboard-markdown {\\n  cursor: move;\\n}\\n.dashboard-markdown #brace-editor {\\n  border: none;\\n}\\n/* maximize editing space */\\n.with-popover-menu--focused .dashboard-markdown--editing .dashboard-component-chart-holder {\\n  padding: 1px;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard {\\n  position: relative;\\n  color: @almost-black;\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n/* only top-level tabs have popover, give it more padding to match header + tabs */\\n.dashboard > .with-popover-menu > .popover-menu {\\n  left: 24px;\\n}\\n\\n/* drop shadow for top-level tabs only */\\n.dashboard .dashboard-component-tabs {\\n  box-shadow: 0 4px 4px 0 fade(@darkest, @opacity-light);\\n  padding-left: 8px; /* note this is added to tab-level padding, to match header */\\n}\\n\\n.dropdown-toggle.btn.btn-primary .caret {\\n  color: @lightest;\\n}\\n\\n.background--transparent {\\n  background-color: transparent;\\n}\\n\\n.background--white {\\n  background-color: @lightest;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n@import '../../../stylesheets/less/variables.less';\\n\\n.dashboard-builder-sidepane {\\n  flex: 0 0 @builder-pane-width;\\n  position: relative;\\n\\n  .dashboard-builder-sidepane-header {\\n    font-size: @font-size-l;\\n    font-weight: @font-weight-bold;\\n    border-top: 1px solid @gray-light;\\n    border-bottom: 1px solid @gray-light;\\n    padding: 16px;\\n    display: flex;\\n    align-items: center;\\n  }\\n\\n  .trigger {\\n    font-size: @font-size-l;\\n    color: @almost-black;\\n    opacity: 1;\\n    margin-left: auto;\\n    cursor: pointer;\\n  }\\n\\n  .slices-layer .trigger {\\n    margin-left: 0;\\n    margin-right: 20px;\\n  }\\n\\n  .viewport {\\n    position: absolute;\\n    transform: none !important;\\n    overflow: hidden;\\n    width: @builder-pane-width;\\n    height: 100%;\\n    box-shadow: -4px 0 4px 0 fade(@darkest, @opacity-light);\\n  }\\n\\n  .slider-container {\\n    position: absolute;\\n    background: @lightest;\\n    width: @builder-pane-width * 2;\\n    height: 100vh;\\n    display: flex;\\n    transition: all @timing-normal ease;\\n\\n    &.slide-in {\\n      left: -@builder-pane-width;\\n    }\\n\\n    &.slide-out {\\n      left: 0;\\n    }\\n\\n    .slide-content {\\n      width: @builder-pane-width;\\n    }\\n  }\\n\\n  .component-layer .new-component.static,\\n  .slices-layer .dashboard-builder-sidepane-header {\\n    cursor: pointer;\\n  }\\n\\n  .component-layer {\\n    .new-component.static {\\n      cursor: pointer;\\n    }\\n  }\\n\\n  .new-component-label {\\n    flex-grow: 1;\\n  }\\n\\n  .slice-adder-container {\\n    position: relative;\\n    background-color: white;\\n    min-height: 200px; /* for loader positioning */\\n\\n    .error-message {\\n      padding: 16px;\\n    }\\n\\n    .controls {\\n      display: flex;\\n      padding: 16px;\\n\\n      /* the input is wrapped in a div */\\n      .search-input {\\n        flex-grow: 1;\\n        margin-right: 16px;\\n      }\\n\\n      .dropdown.btn-group button,\\n      input {\\n        font-size: @font-size-m;\\n        padding: 7px 12px;\\n        height: 32px;\\n        border: 1px solid @gray-light;\\n      }\\n\\n      input {\\n        width: 100%;\\n\\n        &:focus {\\n          outline: none;\\n          border-color: @gray;\\n        }\\n      }\\n    }\\n\\n    .ReactVirtualized__Grid.ReactVirtualized__List:focus {\\n      outline: none;\\n    }\\n  }\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n@import '../../../stylesheets/less/variables.less';\\n\\n.icon-button {\\n  color: @gray;\\n  font-size: @font-size-l;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: center;\\n  outline: none;\\n\\n  &:hover,\\n  &:active,\\n  &:focus {\\n    color: @almost-black;\\n    outline: none;\\n    text-decoration: none;\\n  }\\n}\\n\\n.icon-button-label {\\n  color: @gray-dark;\\n  padding-left: 8px;\\n  font-size: @font-size-m;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n/* header has mysterious extra margin */\\nheader.top {\\n  margin-bottom: 2px;\\n}\\n\\nbody {\\n  h1 {\\n    font-weight: @font-weight-bold;\\n    line-height: @line-height-base;\\n    font-size: @font-size-xxl;\\n    letter-spacing: -0.2px;\\n    margin-top: 12px;\\n    margin-bottom: 12px;\\n  }\\n\\n  h2 {\\n    font-weight: @font-weight-bold;\\n    line-height: @line-height-base;\\n    font-size: @font-size-xl;\\n    margin-top: 12px;\\n    margin-bottom: 8px;\\n  }\\n\\n  h3,\\n  h4,\\n  h5,\\n  h6 {\\n    font-weight: @font-weight-bold;\\n    line-height: @line-height-base;\\n    font-size: @font-size-l;\\n    letter-spacing: 0.2px;\\n    margin-top: 8px;\\n    margin-bottom: 4px;\\n  }\\n\\n  p {\\n    margin: 0 0 8px 0;\\n  }\\n}\\n\\n.dashboard .chart-header {\\n  font-size: @font-size-l;\\n  font-weight: @font-weight-bold;\\n  margin-bottom: 4px;\\n  display: flex;\\n  max-width: 100%;\\n  align-items: flex-start;\\n\\n  & > .header-title {\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    max-width: 100%;\\n    flex-grow: 1;\\n  }\\n\\n  & > .header-controls {\\n    display: flex;\\n\\n    & > * {\\n      margin-left: 8px;\\n    }\\n  }\\n\\n  .dropdown.btn-group {\\n    pointer-events: none;\\n    vertical-align: top;\\n    & > * {\\n      pointer-events: auto;\\n    }\\n  }\\n\\n  .dropdown-toggle.btn.btn-default {\\n    background: none;\\n    border: none;\\n    box-shadow: none;\\n  }\\n\\n  .dropdown-menu.dropdown-menu-right {\\n    top: 20px;\\n  }\\n\\n  .divider {\\n    margin: 5px 0;\\n  }\\n\\n  .refresh-tooltip {\\n    display: block;\\n    height: 16px;\\n    margin: 3px 0;\\n    color: @gray;\\n  }\\n}\\n\\n.dashboard .chart-header,\\n.dashboard .dashboard-header {\\n  .dropdown-menu {\\n    padding: 9px 0;\\n  }\\n\\n  .dropdown-menu li {\\n    font-weight: @font-weight-normal;\\n  }\\n}\\n\\n.react-bs-container-body {\\n  max-height: 400px;\\n  overflow-y: auto;\\n}\\n\\n.hidden,\\n#pageDropDown {\\n  display: none;\\n}\\n\\n.separator .chart-container {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n}\\n\\n.dashboard .title {\\n  margin: 0 20px;\\n}\\n\\n.dashboard-header .dashboard-component-header {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n\\n  .editable-title {\\n    margin-right: 8px;\\n  }\\n\\n  .favstar {\\n    font-size: @font-size-xl;\\n    position: relative;\\n    margin-left: 8px;\\n  }\\n\\n  .publish {\\n    position: relative;\\n    margin-left: 8px;\\n  }\\n}\\n\\n.slice_container .alert {\\n  margin: 10px;\\n}\\n\\ni.danger {\\n  color: @danger;\\n}\\n\\ni.warning {\\n  color: @warning;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dragdroppable {\\n  position: relative;\\n}\\n\\n// Fixes ISSUE-12181 - before in chart's contract-trigger breaks drag and drop mode\\n.dashboard--editing {\\n  .contract-trigger:before {\\n    display: none;\\n  }\\n}\\n\\n.dragdroppable--dragging {\\n  opacity: 0.2;\\n}\\n\\n.dragdroppable-row {\\n  width: 100%;\\n}\\n\\n.dragdroppable-column {\\n  .resizable-container {\\n    span {\\n      div {\\n        z-index: @z-index-above-dashboard-charts;\\n      }\\n    }\\n  }\\n}\\n\\n/* drop indicators */\\n.drop-indicator {\\n  display: block;\\n  background-color: @indicator-color;\\n  position: absolute;\\n  z-index: @z-index-above-dashboard-charts;\\n}\\n\\n.drop-indicator--top {\\n  top: 0;\\n  left: 0;\\n  height: 4px;\\n  width: 100%;\\n  min-width: 16px;\\n}\\n\\n.drop-indicator--bottom {\\n  top: 100%;\\n  left: 0;\\n  height: 4px;\\n  width: 100%;\\n  min-width: 16px;\\n}\\n\\n.empty-droptarget:first-child {\\n  .drop-indicator--bottom {\\n    top: 24px;\\n  }\\n}\\n\\n.drop-indicator--right {\\n  top: 0;\\n  left: 100%;\\n  height: 100%;\\n  width: 4px;\\n  min-height: 16px;\\n}\\n\\n.drop-indicator--left {\\n  top: 0;\\n  left: 0;\\n  height: 100%;\\n  width: 4px;\\n  min-height: 16px;\\n}\\n\\n/* drag handles */\\n.drag-handle {\\n  overflow: hidden;\\n  width: 16px;\\n  cursor: move;\\n}\\n\\n.drag-handle--left {\\n  width: 8px;\\n}\\n\\n.drag-handle-dot {\\n  float: left;\\n  height: 2px;\\n  margin: 1px;\\n  width: 2px;\\n\\n  &:after {\\n    content: '';\\n    background: @gray;\\n    float: left;\\n    height: 2px;\\n    margin: -1px;\\n    width: 2px;\\n  }\\n}\\n\\n/* empty drop targets */\\n.dashboard-component-tabs-content {\\n  & > .empty-droptarget {\\n    position: absolute;\\n    width: 100%;\\n  }\\n\\n  & > .empty-droptarget:first-child {\\n    height: 14px;\\n    top: -2px;\\n    z-index: @z-index-above-dashboard-charts;\\n  }\\n\\n  & > .empty-droptarget:last-child {\\n    height: 12px;\\n    bottom: 0px;\\n  }\\n}\\n\\n.grid-content {\\n  /* note we don't do a :last-child selection because\\n    assuming bottom empty-droptarget is last child is fragile */\\n  & > .empty-droptarget {\\n    width: 100%;\\n    height: 100%;\\n  }\\n\\n  & > .empty-droptarget:first-child {\\n    height: 48px;\\n    margin-top: -24px;\\n    margin-bottom: -24px;\\n  }\\n\\n  & > .empty-droptarget:only-child {\\n    height: 80vh;\\n  }\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n@import '../../../stylesheets/less/variables.less';\\n\\n.filter-scope-container {\\n  display: flex;\\n  flex-direction: column;\\n  height: 80%;\\n  margin-right: -24px;\\n  font-size: @font-size-m;\\n\\n  .nav.nav-tabs {\\n    border: none;\\n  }\\n\\n  .filter-scope-body {\\n    flex: 1;\\n    max-height: calc(100% - 128px);\\n\\n    .filter-field-pane,\\n    .filter-scope-pane {\\n      overflow-y: scroll;\\n    }\\n  }\\n\\n  .warning-message {\\n    padding: 24px;\\n  }\\n}\\n\\n.filter-scope-header {\\n  height: 64px;\\n  border-bottom: 1px solid @gray-light;\\n  padding-left: 24px;\\n  margin-left: -24px;\\n\\n  h4 {\\n    margin-top: 0;\\n  }\\n\\n  .selected-fields {\\n    margin: 12px 0 16px;\\n    visibility: hidden;\\n\\n    &.multi-edit-mode {\\n      visibility: visible;\\n    }\\n\\n    .selected-scopes {\\n      padding-left: 5px;\\n    }\\n  }\\n}\\n\\n.filters-scope-selector {\\n  display: flex;\\n  flex-direction: row;\\n  position: relative;\\n  height: 100%;\\n\\n  a,\\n  a:active,\\n  a:hover {\\n    color: @almost-black;\\n    text-decoration: none;\\n  }\\n\\n  .react-checkbox-tree .rct-icon.rct-icon-expand-all,\\n  .react-checkbox-tree .rct-icon.rct-icon-collapse-all {\\n    font-size: @font-size-m;\\n    font-family: @font-family-sans-serif;\\n    color: @brand-primary;\\n\\n    &::before {\\n      content: '';\\n    }\\n\\n    &:hover {\\n      text-decoration: underline;\\n    }\\n\\n    &:focus {\\n      outline: none;\\n    }\\n  }\\n\\n  .filter-field-pane {\\n    position: relative;\\n    width: 40%;\\n    padding: 16px 16px 16px 0;\\n    border-right: 1px solid @gray-light;\\n\\n    .filter-container {\\n      label {\\n        font-weight: @font-weight-normal;\\n        margin: 0 0 0 16px;\\n        word-break: break-all;\\n      }\\n    }\\n\\n    .filter-field-item {\\n      height: 35px;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      padding: 0 24px;\\n      margin-left: -24px;\\n\\n      &.is-selected {\\n        border: 1px solid @gray-heading;\\n        border-radius: @border-radius-large;\\n        background-color: @gray-bg;\\n        margin-left: -25px;\\n      }\\n    }\\n\\n    .react-checkbox-tree {\\n      .rct-title .root {\\n        font-weight: @font-weight-bold;\\n      }\\n\\n      .rct-text {\\n        height: 40px;\\n      }\\n    }\\n  }\\n\\n  .filter-scope-pane {\\n    position: relative;\\n    flex: 1;\\n    padding: 16px 24px 16px 16px;\\n  }\\n\\n  .react-checkbox-tree {\\n    flex-direction: column;\\n    color: @almost-black;\\n    font-size: @font-size-m;\\n\\n    .filter-scope-type {\\n      padding: 8px 0;\\n      display: block;\\n\\n      .type-indicator {\\n        position: relative;\\n        top: 3px;\\n        margin-right: 8px;\\n      }\\n\\n      &.chart {\\n        font-weight: @font-weight-normal;\\n      }\\n\\n      &.selected-filter {\\n        padding-left: 28px;\\n        position: relative;\\n        color: @gray-heading;\\n\\n        &::before {\\n          content: ' ';\\n          position: absolute;\\n          left: 0;\\n          top: 50%;\\n          width: 18px;\\n          height: 18px;\\n          border-radius: @border-radius-normal;\\n          margin-top: -9px;\\n          box-shadow: inset 0 0 0 2px @gray-light;\\n          background: #f2f2f2;\\n        }\\n      }\\n\\n      &.root {\\n        font-weight: @font-weight-bold;\\n      }\\n    }\\n\\n    .rct-checkbox {\\n      svg {\\n        position: relative;\\n        top: 3px;\\n        width: 18px;\\n      }\\n    }\\n\\n    .rct-node-leaf {\\n      .rct-bare-label {\\n        &::before {\\n          padding-left: 5px;\\n        }\\n      }\\n    }\\n\\n    .rct-options {\\n      text-align: left;\\n      margin-left: 0;\\n      margin-bottom: 8px;\\n    }\\n\\n    .rct-text {\\n      margin: 0;\\n      display: flex;\\n    }\\n\\n    .rct-title {\\n      display: block;\\n    }\\n\\n    // disable style from react-checkbox-trees.css\\n    .rct-node-clickable:hover,\\n    .rct-node-clickable:focus,\\n    label:hover,\\n    label:active {\\n      background: none !important;\\n    }\\n  }\\n\\n  .multi-edit-mode {\\n    &.filter-scope-pane {\\n      .rct-node.rct-node-leaf .filter-scope-type.filter_box {\\n        display: none;\\n      }\\n    }\\n\\n    .filter-field-item {\\n      padding: 0 16px 0 50px;\\n      margin-left: -50px;\\n\\n      &.is-selected {\\n        margin-left: -51px;\\n      }\\n    }\\n  }\\n\\n  .scope-search {\\n    position: absolute;\\n    right: 16px;\\n    top: 16px;\\n    border-radius: @border-radius-large;\\n    border: 1px solid @gray-light;\\n    padding: 4px 8px 4px 8px;\\n    font-size: @font-size-m;\\n    outline: none;\\n\\n    &:focus {\\n      border: 1px solid @brand-primary;\\n    }\\n  }\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n\\n/* this is the ParentSize wrapper */\\n.grid-container > div:first-child {\\n  height: inherit !important;\\n}\\n\\n.grid-content {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n/* gutters between rows */\\n.grid-content > div:not(:only-child):not(:last-child):not(.empty-droptarget) {\\n  margin-bottom: 16px;\\n}\\n\\n/* Editing guides */\\n.grid-column-guide {\\n  position: absolute;\\n  top: 0;\\n  min-height: 100%;\\n  background-color: fade(@indicator-color, @opacity-light);\\n  pointer-events: none;\\n  box-shadow: inset 0 0 0 1px fade(@indicator-color, @opacity-medium-heavy);\\n}\\n\\n.grid-row-guide {\\n  position: absolute;\\n  left: 0;\\n  bottom: 2;\\n  height: 2;\\n  background-color: @indicator-color;\\n  pointer-events: none;\\n  z-index: @z-index-above-dashboard-charts;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.hover-menu {\\n  opacity: 0;\\n  position: absolute;\\n  z-index: @z-index-above-dashboard-charts;\\n  font-size: @font-size-m;\\n}\\n\\n.hover-menu--left {\\n  width: 24px;\\n  top: 50%;\\n  transform: translate(0, -50%);\\n  left: -28px;\\n  padding: 8px 0;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.hover-menu--left > :nth-child(n):not(:only-child):not(:last-child) {\\n  margin-bottom: 12px;\\n}\\n\\n.hover-menu--top {\\n  height: 24px;\\n  top: -24px;\\n  left: 50%;\\n  transform: translate(-50%);\\n  padding: 0 8px;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n/* Special cases */\\n\\n/* A row within a column has inset hover menu */\\n.dragdroppable-column .dragdroppable-row .hover-menu--left {\\n  left: -12px;\\n  background: @lightest;\\n  border: 1px solid @gray-light;\\n}\\n\\n/* A column within a column or tabs has inset hover menu */\\n.dragdroppable-column .dragdroppable-column .hover-menu--top,\\n.dashboard-component-tabs .dragdroppable-column .hover-menu--top {\\n  top: -12px;\\n  background: @lightest;\\n  border: 1px solid @gray-light;\\n}\\n\\n/* move Tabs hover menu to top near actual Tabs */\\n.dashboard-component-tabs > .hover-menu--left {\\n  top: 0;\\n  transform: unset;\\n  background: transparent;\\n}\\n\\n/* push Chart actions to upper right */\\n.dragdroppable-column .dashboard-component-chart-holder > .hover-menu--top {\\n  right: 8px;\\n  top: 8px;\\n  background: transparent;\\n  border: none;\\n  transform: unset;\\n  left: unset;\\n}\\n\\n.hover-menu--top > :nth-child(n):not(:only-child):not(:last-child) {\\n  margin-right: 12px;\\n}\\n\\ndiv:hover > .hover-menu,\\n.hover-menu:hover {\\n  opacity: 1;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.with-popover-menu {\\n  position: relative;\\n  outline: none;\\n}\\n\\n.grid-row.grid-row--empty .with-popover-menu {\\n  /* drop indicator doesn't show up without this */\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.with-popover-menu--focused:after {\\n  content: '';\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 100%;\\n  border: 2px solid @indicator-color;\\n  pointer-events: none;\\n}\\n\\n.popover-menu {\\n  position: absolute;\\n  flex-wrap: nowrap;\\n  left: 1px;\\n  top: -42px;\\n  height: 40px;\\n  padding: 0 16px;\\n  background: @lightest;\\n  box-shadow: 0 1px 2px 1px fade(@darkest, @opacity-medium-light);\\n  font-size: @font-size-m;\\n  cursor: default;\\n  z-index: @z-index-max;\\n\\n  &,\\n  .menu-item {\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n  }\\n\\n  /* vertical spacer after each menu item */\\n  .menu-item:not(:only-child):not(:last-child):after {\\n    content: '';\\n    width: 1;\\n    height: 100%;\\n    background: @gray-light;\\n    margin: 0 16px;\\n  }\\n}\\n\\n/* the focus menu doesn't account for parent padding */\\n.dashboard-component-tabs li .with-popover-menu--focused:after {\\n  top: -12px;\\n  left: -8px;\\n  width: ~'calc(100% + 16px)'; /* escape for .less */\\n  height: ~'calc(100% + 28px)';\\n}\\n\\n.dashboard-component-tabs li .popover-menu {\\n  top: -56px;\\n  left: -7px;\\n}\\n\\n.hover-dropdown .btn {\\n  &:hover,\\n  &:active,\\n  &:focus {\\n    background: initial;\\n    box-shadow: none;\\n  }\\n}\\n\\n.hover-dropdown,\\n.popover-menu {\\n  li.dropdown-item {\\n    &:hover a {\\n      background: @menu-hover;\\n    }\\n\\n    &.active a {\\n      background: @gray-light;\\n      font-weight: @font-weight-bold;\\n      color: @almost-black;\\n    }\\n  }\\n}\\n\\n/* background style menu */\\n.background-style-option {\\n  display: inline-block;\\n\\n  &:before {\\n    content: '';\\n    width: 1em;\\n    height: 1em;\\n    margin-right: 8px;\\n    display: inline-block;\\n    vertical-align: middle;\\n  }\\n\\n  &.background--white {\\n    padding-left: 0;\\n    background: transparent;\\n\\n    &:before {\\n      background: @lightest;\\n      border: 1px solid @gray-light;\\n    }\\n  }\\n\\n  /* Create the transparent rect icon */\\n  &.background--transparent:before {\\n    background-image: linear-gradient(45deg, @gray 25%, transparent 25%),\\n      linear-gradient(-45deg, @gray 25%, transparent 25%),\\n      linear-gradient(45deg, transparent 75%, @gray 75%),\\n      linear-gradient(-45deg, transparent 75%, @gray 75%);\\n    background-size: 8px 8px;\\n    background-position: 0 0, 0 4px, 4px -4px, -4px 0px;\\n  }\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.resizable-container {\\n  background-color: transparent;\\n  position: relative;\\n\\n  /* re-resizable sets an empty div to 100% width and height, which doesn't\\n  play well with many 100% height containers we need\\n */\\n  & ~ div {\\n    width: auto !important;\\n    height: auto !important;\\n  }\\n}\\n\\n.resizable-container--resizing {\\n  /* after ensures border visibility on top of any children */\\n  &:after {\\n    content: '';\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    box-shadow: inset 0 0 0 2px @indicator-color;\\n  }\\n\\n  & > span .resize-handle {\\n    border-color: @indicator-color;\\n  }\\n}\\n\\n.resize-handle {\\n  opacity: 0;\\n  z-index: @z-index-above-dashboard-charts;\\n\\n  &--bottom-right {\\n    position: absolute;\\n    border: solid;\\n    border-width: 0 1.5px 1.5px 0;\\n    border-right-color: @gray;\\n    border-bottom-color: @gray;\\n    right: 16px;\\n    bottom: 16px;\\n    width: 8px;\\n    height: 8px;\\n  }\\n\\n  &--right {\\n    width: 2px;\\n    height: 20px;\\n    right: 4px;\\n    top: 50%;\\n    transform: translate(0, -50%);\\n    position: absolute;\\n    border-left: 1px solid @gray;\\n    border-right: 1px solid @gray;\\n  }\\n\\n  &--bottom {\\n    height: 2px;\\n    width: 20px;\\n    bottom: 4px;\\n    left: 50%;\\n    transform: translate(-50%);\\n    position: absolute;\\n    border-top: 1px solid @gray;\\n    border-bottom: 1px solid @gray;\\n  }\\n}\\n\\n.resizable-container:hover .resize-handle,\\n.resizable-container--resizing .resize-handle {\\n  opacity: 1;\\n}\\n\\n.dragdroppable-column .resizable-container-handle--right {\\n  /* override the default because the inner column's handle's mouse target is very small */\\n  right: -10px !important;\\n}\\n\\n.dragdroppable-column .dragdroppable-column .resizable-container-handle--right {\\n  /* override the default because the inner column's handle's mouse target is very small */\\n  right: 0px !important;\\n}\\n\\n.resizable-container-handle--bottom {\\n  bottom: 0 !important;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-component-chart-holder {\\n  width: 100%;\\n  height: 100%;\\n  color: @gray-dark;\\n  background-color: @lightest;\\n  position: relative;\\n  padding: 16px;\\n  overflow-y: visible;\\n\\n  // transitionable traits for when a filter is being actively focused\\n  transition: opacity 0.2s, border-color 0.2s, box-shadow 0.2s;\\n  border: 2px solid transparent;\\n\\n  .missing-chart-container {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    overflow-y: auto;\\n    justify-content: center;\\n\\n    .missing-chart-body {\\n      font-size: @font-size-s;\\n      position: relative;\\n      display: flex;\\n    }\\n  }\\n\\n  &.fade-in {\\n    border-radius: @border-radius-large;\\n    box-shadow: inset 0 0 0 2px @shadow-highlight,\\n      0 0 0 3px fade(@shadow-highlight, @opacity-light);\\n    transition: box-shadow 0.2s ease-in-out, opacity 0.2s ease-in-out,\\n      border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\\n  }\\n\\n  &.fade-out {\\n    border-radius: @border-radius-large;\\n    box-shadow: none;\\n    transition: box-shadow 0.2s ease-in-out, opacity 0.2s ease-in-out,\\n      border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\\n  }\\n}\\n\\n.dashboard-chart {\\n  overflow: hidden;\\n  position: relative;\\n}\\n\\n.dashboard-chart.dashboard-chart--overflowable {\\n  overflow: visible;\\n}\\n\\n.dashboard--editing {\\n  .dashboard-component-chart-holder {\\n    &:after {\\n      content: '';\\n      position: absolute;\\n      width: 100%;\\n      height: 100%;\\n      top: 0px;\\n      left: 0px;\\n      z-index: @z-index-chart;\\n      pointer-events: none;\\n      border: 1px solid transparent;\\n    }\\n\\n    &:hover:after {\\n      border: 1px dashed @indicator-color;\\n      z-index: @z-index-chart--dragging;\\n    }\\n  }\\n\\n  .resizable-container {\\n    &:hover,\\n    &.resizable-container--resizing:hover {\\n      & > .dashboard-component-chart-holder:after {\\n        border: 1px dashed @indicator-color;\\n      }\\n    }\\n  }\\n\\n  .resizable-container .dashboard-component-chart-holder {\\n    .dashboard-chart {\\n      .chart-container {\\n        cursor: move;\\n        opacity: 0.2;\\n      }\\n\\n      .slice_container {\\n        /* disable chart interactions in edit mode */\\n        pointer-events: none;\\n      }\\n    }\\n\\n    &:hover .dashboard-chart .chart-container {\\n      opacity: 0.7;\\n    }\\n  }\\n}\\n\\n.dot {\\n  @dot-diameter: 4px;\\n\\n  height: @dot-diameter;\\n  width: @dot-diameter;\\n  border-radius: @dot-diameter / 2;\\n  margin: @dot-diameter / 2 0;\\n\\n  background-color: @gray;\\n  display: inline-block;\\n\\n  a[role='menuitem'] & {\\n    width: 8px;\\n    height: 8px;\\n    margin-right: 8px;\\n  }\\n}\\n\\n.time-filter-tabs > .nav-tabs {\\n  margin-bottom: 8px;\\n}\\n\\n.time-filter-tabs > .nav-tabs > li > a {\\n  padding: 4px;\\n}\\n\\n.full-size {\\n  position: fixed;\\n  z-index: @z-index-max;\\n  left: 0;\\n  top: 0;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.grid-column {\\n  width: 100%;\\n  position: relative;\\n}\\n\\n/* gutters between elements in a column */\\n.grid-column > :not(:only-child):not(.hover-menu):not(:last-child) {\\n  margin-bottom: 16px;\\n}\\n\\n.dashboard--editing {\\n  .grid-column:after {\\n    content: '';\\n    position: absolute;\\n    width: 100%;\\n    height: 100%;\\n    top: 0;\\n    left: 0;\\n    z-index: @z-index-chart;\\n    pointer-events: none;\\n    border: 1px dashed @gray-light;\\n  }\\n\\n  .resizable-container.resizable-container--resizing:hover > .grid-column:after,\\n  .hover-menu:hover + .grid-column:after {\\n    border: 1px dashed @indicator-color;\\n    z-index: @z-index-chart--dragging;\\n  }\\n}\\n\\n.grid-column--empty {\\n  min-height: 100px;\\n\\n  &:before {\\n    content: 'Empty column';\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    color: @gray-light;\\n  }\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-component-divider {\\n  width: 100%;\\n  padding: 8px 0; /* this is padding not margin to enable a larger mouse target */\\n  background-color: transparent;\\n}\\n\\n.dashboard-component-divider:after {\\n  content: '';\\n  height: 1px;\\n  width: 100%;\\n  background-color: @gray-light;\\n  display: block;\\n}\\n\\n.new-component-placeholder.divider-placeholder:after {\\n  content: '';\\n  height: 2px;\\n  width: 100%;\\n  background-color: @gray-light;\\n}\\n\\n.dragdroppable .dashboard-component-divider {\\n  cursor: move;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-component-header {\\n  width: 100%;\\n  font-weight: @font-weight-bold;\\n  padding: 16px 0;\\n  color: @almost-black;\\n}\\n\\n.dashboard--editing {\\n  .dashboard-grid {\\n    .dashboard-component-header {\\n      &:after {\\n        border: 1px dashed transparent;\\n        content: '';\\n        position: absolute;\\n        width: 100%;\\n        height: 100%;\\n        top: 0;\\n        left: 0;\\n        z-index: @z-index-chart;\\n        pointer-events: none;\\n      }\\n\\n      &:hover:after {\\n        border: 1px dashed @indicator-color;\\n        z-index: @z-index-chart--dragging;\\n      }\\n    }\\n  }\\n\\n  .dragdroppable-row .dashboard-component-header {\\n    cursor: move;\\n  }\\n}\\n\\n.header-style-option {\\n  font-weight: @font-weight-bold;\\n  color: @almost-black;\\n}\\n\\n.dashboard-header .dashboard-component-header {\\n  font-weight: @font-weight-light;\\n  width: auto;\\n}\\n\\n.dashboard--editing\\n\\n/* note: sizes should be a multiple of the 8px grid unit so that rows in the grid align */\\n.header-small {\\n  font-size: @font-size-l;\\n}\\n\\n.header-medium {\\n  font-size: @font-size-xl;\\n}\\n\\n.header-large {\\n  font-size: @font-size-xxl;\\n}\\n\\n.background--white .dashboard-component-header,\\n.dashboard-component-header.background--white,\\n.dashboard-component-tabs .dashboard-component-header,\\n.dashboard-component-tabs .dashboard-component-divider {\\n  padding-left: 16px;\\n  padding-right: 16px;\\n}\\n\\n/*\\n * grids add margin between items, so don't double pad within columns\\n * we'll not worry about double padding on top as it can serve as a visual separator\\n */\\n.grid-column > :not(:only-child):not(:last-child) .dashboard-component-header {\\n  margin-bottom: -16px;\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n@import '../../../../stylesheets/less/variables.less';\\n\\n.new-component {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  align-items: center;\\n  padding: 16px;\\n  background: @lightest;\\n  cursor: move;\\n\\n  &:not(.static):hover {\\n    background: @gray-bg;\\n  }\\n}\\n\\n.new-component-placeholder {\\n  position: relative;\\n  background: @gray-bg;\\n  width: 40px;\\n  height: 40px;\\n  margin-right: 16px;\\n  border: 1px solid @lightest;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: @gray;\\n  font-size: @font-size-xxl;\\n\\n  &.fa-window-restore {\\n    font-size: @font-size-l;\\n  }\\n\\n  &.fa-area-chart {\\n    font-size: @font-size-xl;\\n  }\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.grid-row {\\n  position: relative;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  align-items: flex-start;\\n  width: 100%;\\n  height: fit-content;\\n}\\n\\n/* gutters between elements in a row */\\n.grid-row > :not(:only-child):not(:last-child):not(.hover-menu) {\\n  margin-right: 16px;\\n}\\n\\n/* hover indicator */\\n.dashboard--editing {\\n  .grid-row:after,\\n  .dashboard-component-tabs > .hover-menu:hover + div:after {\\n    border: 1px dashed transparent;\\n    content: '';\\n    position: absolute;\\n    width: 100%;\\n    height: 100%;\\n    top: 0;\\n    left: 0;\\n    z-index: @z-index-chart;\\n    pointer-events: none;\\n  }\\n\\n  .resizable-container.resizable-container--resizing:hover > .grid-row:after,\\n  .hover-menu:hover + .grid-row:after,\\n  .dashboard-component-tabs > .hover-menu:hover + div:after {\\n    border: 1px dashed @indicator-color;\\n    z-index: @z-index-chart--dragging;\\n  }\\n\\n  .grid-row:after,\\n  .dashboard-component-tabs > .hover-menu + div:after {\\n    border: 1px dashed @gray-light;\\n  }\\n\\n  /* provide hit area in case row contents is edge to edge */\\n  .dashboard-component-tabs-content {\\n    .dragdroppable-row {\\n      padding-top: 16px;\\n    }\\n  }\\n}\\n\\n.grid-row.grid-row--empty {\\n  /* this centers the empty note content */\\n  align-items: center;\\n  height: 100px;\\n\\n  &:before {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    content: 'Empty row';\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    width: 100%;\\n    height: 100%;\\n    color: @gray;\\n  }\\n}\\n\",\"/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\\"License\\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.dashboard-markdown {\\n  overflow: hidden;\\n\\n  h4,\\n  h5 {\\n    font-weight: @font-weight-light;\\n  }\\n\\n  h5 {\\n    color: @gray-heading;\\n  }\\n\\n  h6 {\\n    font-weight: @font-weight-normal;\\n    font-size: @font-size-s;\\n  }\\n\\n  .dashboard-component-chart-holder {\\n    overflow-y: auto;\\n    overflow-x: hidden;\\n  }\\n\\n  .dashboard--editing & {\\n    cursor: move;\\n  }\\n\\n  #brace-editor {\\n    border: none;\\n  }\\n}\\n\\n/* maximize editing space */\\n.dashboard-markdown--editing {\\n  .dashboard-component-chart-holder {\\n    .with-popover-menu--focused & {\\n      padding: 1px;\\n    }\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","exports = module.exports = require(\"../../css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".react-checkbox-tree {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: reverse;\\n      -ms-flex-direction: row-reverse;\\n          flex-direction: row-reverse;\\n  font-size: 16px;\\n}\\n\\n.react-checkbox-tree > ol {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 auto;\\n          flex: 1 1 auto;\\n}\\n\\n.react-checkbox-tree ol {\\n  margin: 0;\\n  padding-left: 0;\\n  list-style-type: none;\\n}\\n\\n.react-checkbox-tree ol ol {\\n  padding-left: 24px;\\n}\\n\\n.react-checkbox-tree button {\\n  line-height: normal;\\n  color: inherit;\\n}\\n\\n.react-checkbox-tree button:focus {\\n  outline: none;\\n}\\n\\n.react-checkbox-tree button:disabled {\\n  cursor: not-allowed;\\n}\\n\\n.react-checkbox-tree .rct-bare-label {\\n  cursor: default;\\n}\\n\\n.react-checkbox-tree label {\\n  margin-bottom: 0;\\n  cursor: pointer;\\n}\\n\\n.react-checkbox-tree label:hover {\\n  background: rgba(51, 51, 204, 0.1);\\n}\\n\\n.react-checkbox-tree label:active {\\n  background: rgba(51, 51, 204, 0.15);\\n}\\n\\n.react-checkbox-tree:not(.rct-native-display) input {\\n  display: none;\\n}\\n\\n.react-checkbox-tree.rct-native-display input {\\n  margin: 0 5px;\\n}\\n\\n.react-checkbox-tree .rct-icon {\\n  font-family: \\\"FontAwesome\\\";\\n  font-style: normal;\\n}\\n\\n.rct-disabled > .rct-text > label {\\n  opacity: .75;\\n  cursor: not-allowed;\\n}\\n\\n.rct-disabled > .rct-text > label:hover {\\n  background: transparent;\\n}\\n\\n.rct-disabled > .rct-text > label:active {\\n  background: transparent;\\n}\\n\\n.rct-text {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.rct-options {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 auto;\\n          flex: 0 0 auto;\\n  margin-left: .5rem;\\n  text-align: right;\\n}\\n\\n.rct-option {\\n  opacity: .75;\\n  border: 0;\\n  background: none;\\n  cursor: pointer;\\n  padding: 0 4px;\\n  font-size: 18px;\\n}\\n\\n.rct-option:hover {\\n  opacity: 1;\\n}\\n\\n.rct-option + .rct-option {\\n  margin-left: 2px;\\n}\\n\\n.rct-collapse,\\n.rct-checkbox,\\n.rct-node-icon {\\n  padding: 0 5px;\\n}\\n\\n.rct-collapse *,\\n.rct-checkbox *,\\n.rct-node-icon * {\\n  display: inline-block;\\n  margin: 0;\\n  width: 14px;\\n}\\n\\n.rct-collapse {\\n  border: 0;\\n  background: none;\\n  line-height: normal;\\n  color: inherit;\\n  font-size: 12px;\\n}\\n\\n.rct-collapse.rct-collapse-btn {\\n  cursor: pointer;\\n}\\n\\n.rct-collapse > .rct-icon-expand-close {\\n  opacity: .5;\\n}\\n\\n.rct-collapse > .rct-icon-expand-close:hover {\\n  opacity: 1;\\n}\\n\\n.rct-native-display .rct-checkbox {\\n  display: none;\\n}\\n\\n.rct-node-clickable {\\n  cursor: pointer;\\n}\\n\\n.rct-node-clickable:hover {\\n  background: rgba(51, 51, 204, 0.1);\\n}\\n\\n.rct-node-clickable:focus {\\n  outline: 0;\\n  background: rgba(51, 51, 204, 0.2);\\n}\\n\\n.rct-node-icon {\\n  color: #33c;\\n}\\n\\n.rct-title {\\n  padding: 0 5px;\\n}\\n\\n.rct-icon-expand-close::before {\\n  content: \\\"\\\\F054\\\";\\n}\\n\\n.rct-icon-expand-open::before {\\n  content: \\\"\\\\F078\\\";\\n}\\n\\n.rct-icon-uncheck::before {\\n  content: \\\"\\\\F096\\\";\\n}\\n\\n.rct-icon-check::before {\\n  content: \\\"\\\\F046\\\";\\n}\\n\\n.rct-icon-half-check::before {\\n  opacity: .5;\\n  content: \\\"\\\\F046\\\";\\n}\\n\\n.rct-icon-leaf::before {\\n  content: \\\"\\\\F016\\\";\\n}\\n\\n.rct-icon-parent-open::before {\\n  content: \\\"\\\\F115\\\";\\n}\\n\\n.rct-icon-parent-close::before {\\n  content: \\\"\\\\F114\\\";\\n}\\n\\n.rct-icon-expand-all::before {\\n  content: \\\"\\\\F0FE\\\";\\n}\\n\\n.rct-icon-collapse-all::before {\\n  content: \\\"\\\\F146\\\";\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"G:/workspace/boke-pro/superset-all/superset/superset-frontend/node_modules/react-checkbox-tree/lib/react-checkbox-tree.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,+BAA+B;EAC/B,+BAA+B;MAC3B,gCAAgC;UAC5B,4BAA4B;EACpC,gBAAgB;CACjB;;AAED;EACE,oBAAoB;MAChB,mBAAmB;UACf,eAAe;CACxB;;AAED;EACE,UAAU;EACV,gBAAgB;EAChB,sBAAsB;CACvB;;AAED;EACE,mBAAmB;CACpB;;AAED;EACE,oBAAoB;EACpB,eAAe;CAChB;;AAED;EACE,cAAc;CACf;;AAED;EACE,oBAAoB;CACrB;;AAED;EACE,gBAAgB;CACjB;;AAED;EACE,iBAAiB;EACjB,gBAAgB;CACjB;;AAED;EACE,mCAAmC;CACpC;;AAED;EACE,oCAAoC;CACrC;;AAED;EACE,cAAc;CACf;;AAED;EACE,cAAc;CACf;;AAED;EACE,2BAA2B;EAC3B,mBAAmB;CACpB;;AAED;EACE,aAAa;EACb,oBAAoB;CACrB;;AAED;EACE,wBAAwB;CACzB;;AAED;EACE,wBAAwB;CACzB;;AAED;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;CAC7B;;AAED;EACE,oBAAoB;MAChB,mBAAmB;UACf,eAAe;EACvB,mBAAmB;EACnB,kBAAkB;CACnB;;AAED;EACE,aAAa;EACb,UAAU;EACV,iBAAiB;EACjB,gBAAgB;EAChB,eAAe;EACf,gBAAgB;CACjB;;AAED;EACE,WAAW;CACZ;;AAED;EACE,iBAAiB;CAClB;;AAED;;;EAGE,eAAe;CAChB;;AAED;;;EAGE,sBAAsB;EACtB,UAAU;EACV,YAAY;CACb;;AAED;EACE,UAAU;EACV,iBAAiB;EACjB,oBAAoB;EACpB,eAAe;EACf,gBAAgB;CACjB;;AAED;EACE,gBAAgB;CACjB;;AAED;EACE,YAAY;CACb;;AAED;EACE,WAAW;CACZ;;AAED;EACE,cAAc;CACf;;AAED;EACE,gBAAgB;CACjB;;AAED;EACE,mCAAmC;CACpC;;AAED;EACE,WAAW;EACX,mCAAmC;CACpC;;AAED;EACE,YAAY;CACb;;AAED;EACE,eAAe;CAChB;;AAED;EACE,iBAAiB;CAClB;;AAED;EACE,iBAAiB;CAClB;;AAED;EACE,iBAAiB;CAClB;;AAED;EACE,iBAAiB;CAClB;;AAED;EACE,YAAY;EACZ,iBAAiB;CAClB;;AAED;EACE,iBAAiB;CAClB;;AAED;EACE,iBAAiB;CAClB;;AAED;EACE,iBAAiB;CAClB;;AAED;EACE,iBAAiB;CAClB;;AAED;EACE,iBAAiB;CAClB\",\"file\":\"react-checkbox-tree.css\",\"sourcesContent\":[\".react-checkbox-tree {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: reverse;\\n      -ms-flex-direction: row-reverse;\\n          flex-direction: row-reverse;\\n  font-size: 16px;\\n}\\n\\n.react-checkbox-tree > ol {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 auto;\\n          flex: 1 1 auto;\\n}\\n\\n.react-checkbox-tree ol {\\n  margin: 0;\\n  padding-left: 0;\\n  list-style-type: none;\\n}\\n\\n.react-checkbox-tree ol ol {\\n  padding-left: 24px;\\n}\\n\\n.react-checkbox-tree button {\\n  line-height: normal;\\n  color: inherit;\\n}\\n\\n.react-checkbox-tree button:focus {\\n  outline: none;\\n}\\n\\n.react-checkbox-tree button:disabled {\\n  cursor: not-allowed;\\n}\\n\\n.react-checkbox-tree .rct-bare-label {\\n  cursor: default;\\n}\\n\\n.react-checkbox-tree label {\\n  margin-bottom: 0;\\n  cursor: pointer;\\n}\\n\\n.react-checkbox-tree label:hover {\\n  background: rgba(51, 51, 204, 0.1);\\n}\\n\\n.react-checkbox-tree label:active {\\n  background: rgba(51, 51, 204, 0.15);\\n}\\n\\n.react-checkbox-tree:not(.rct-native-display) input {\\n  display: none;\\n}\\n\\n.react-checkbox-tree.rct-native-display input {\\n  margin: 0 5px;\\n}\\n\\n.react-checkbox-tree .rct-icon {\\n  font-family: \\\"FontAwesome\\\";\\n  font-style: normal;\\n}\\n\\n.rct-disabled > .rct-text > label {\\n  opacity: .75;\\n  cursor: not-allowed;\\n}\\n\\n.rct-disabled > .rct-text > label:hover {\\n  background: transparent;\\n}\\n\\n.rct-disabled > .rct-text > label:active {\\n  background: transparent;\\n}\\n\\n.rct-text {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.rct-options {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 auto;\\n          flex: 0 0 auto;\\n  margin-left: .5rem;\\n  text-align: right;\\n}\\n\\n.rct-option {\\n  opacity: .75;\\n  border: 0;\\n  background: none;\\n  cursor: pointer;\\n  padding: 0 4px;\\n  font-size: 18px;\\n}\\n\\n.rct-option:hover {\\n  opacity: 1;\\n}\\n\\n.rct-option + .rct-option {\\n  margin-left: 2px;\\n}\\n\\n.rct-collapse,\\n.rct-checkbox,\\n.rct-node-icon {\\n  padding: 0 5px;\\n}\\n\\n.rct-collapse *,\\n.rct-checkbox *,\\n.rct-node-icon * {\\n  display: inline-block;\\n  margin: 0;\\n  width: 14px;\\n}\\n\\n.rct-collapse {\\n  border: 0;\\n  background: none;\\n  line-height: normal;\\n  color: inherit;\\n  font-size: 12px;\\n}\\n\\n.rct-collapse.rct-collapse-btn {\\n  cursor: pointer;\\n}\\n\\n.rct-collapse > .rct-icon-expand-close {\\n  opacity: .5;\\n}\\n\\n.rct-collapse > .rct-icon-expand-close:hover {\\n  opacity: 1;\\n}\\n\\n.rct-native-display .rct-checkbox {\\n  display: none;\\n}\\n\\n.rct-node-clickable {\\n  cursor: pointer;\\n}\\n\\n.rct-node-clickable:hover {\\n  background: rgba(51, 51, 204, 0.1);\\n}\\n\\n.rct-node-clickable:focus {\\n  outline: 0;\\n  background: rgba(51, 51, 204, 0.2);\\n}\\n\\n.rct-node-icon {\\n  color: #33c;\\n}\\n\\n.rct-title {\\n  padding: 0 5px;\\n}\\n\\n.rct-icon-expand-close::before {\\n  content: \\\"\\\\f054\\\";\\n}\\n\\n.rct-icon-expand-open::before {\\n  content: \\\"\\\\f078\\\";\\n}\\n\\n.rct-icon-uncheck::before {\\n  content: \\\"\\\\f096\\\";\\n}\\n\\n.rct-icon-check::before {\\n  content: \\\"\\\\f046\\\";\\n}\\n\\n.rct-icon-half-check::before {\\n  opacity: .5;\\n  content: \\\"\\\\f046\\\";\\n}\\n\\n.rct-icon-leaf::before {\\n  content: \\\"\\\\f016\\\";\\n}\\n\\n.rct-icon-parent-open::before {\\n  content: \\\"\\\\f115\\\";\\n}\\n\\n.rct-icon-parent-close::before {\\n  content: \\\"\\\\f114\\\";\\n}\\n\\n.rct-icon-expand-all::before {\\n  content: \\\"\\\\f0fe\\\";\\n}\\n\\n.rct-icon-collapse-all::before {\\n  content: \\\"\\\\f146\\\";\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _default = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = scrollbarSize;\n\nvar _inDOM = _interopRequireDefault(require(\"./inDOM\"));\n\nvar size;\n\nfunction scrollbarSize(recalc) {\n  if (!size && size !== 0 || recalc) {\n    if (_inDOM.default) {\n      var scrollDiv = document.createElement('div');\n      scrollDiv.style.position = 'absolute';\n      scrollDiv.style.top = '-9999px';\n      scrollDiv.style.width = '50px';\n      scrollDiv.style.height = '50px';\n      scrollDiv.style.overflow = 'scroll';\n      document.body.appendChild(scrollDiv);\n      size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n    }\n  }\n\n  return size;\n}\n\nmodule.exports = exports[\"default\"];","(function (global) {\n    'use strict';\n\n    var util = newUtil();\n    var inliner = newInliner();\n    var fontFaces = newFontFaces();\n    var images = newImages();\n\n    // Default impl options\n    var defaultOptions = {\n        // Default is to fail on error, no placeholder\n        imagePlaceholder: undefined,\n        // Default cache bust is false, it will use the cache\n        cacheBust: false\n    };\n\n    var domtoimage = {\n        toSvg: toSvg,\n        toPng: toPng,\n        toJpeg: toJpeg,\n        toBlob: toBlob,\n        toPixelData: toPixelData,\n        impl: {\n            fontFaces: fontFaces,\n            images: images,\n            util: util,\n            inliner: inliner,\n            options: {}\n        }\n    };\n\n    if (typeof module !== 'undefined')\n        module.exports = domtoimage;\n    else\n        global.domtoimage = domtoimage;\n\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options\n     * @param {Function} options.filter - Should return true if passed node should be included in the output\n     *          (excluding node means excluding it's children as well). Not called on the root node.\n     * @param {String} options.bgcolor - color for the background, any valid CSS color value.\n     * @param {Number} options.width - width to be applied to node before rendering.\n     * @param {Number} options.height - height to be applied to node before rendering.\n     * @param {Object} options.style - an object whose properties to be copied to node's style before rendering.\n     * @param {Number} options.quality - a Number between 0 and 1 indicating image quality (applicable to JPEG only),\n                defaults to 1.0.\n     * @param {String} options.imagePlaceholder - dataURL to use as a placeholder for failed images, default behaviour is to fail fast on images we can't fetch\n     * @param {Boolean} options.cacheBust - set to true to cache bust by appending the time to the request url\n     * @return {Promise} - A promise that is fulfilled with a SVG image data URL\n     * */\n    function toSvg(node, options) {\n        options = options || {};\n        copyOptions(options);\n        return Promise.resolve(node)\n            .then(function (node) {\n                return cloneNode(node, options.filter, true);\n            })\n            .then(embedFonts)\n            .then(inlineImages)\n            .then(applyOptions)\n            .then(function (clone) {\n                return makeSvgDataUri(clone,\n                    options.width || util.width(node),\n                    options.height || util.height(node)\n                );\n            });\n\n        function applyOptions(clone) {\n            if (options.bgcolor) clone.style.backgroundColor = options.bgcolor;\n\n            if (options.width) clone.style.width = options.width + 'px';\n            if (options.height) clone.style.height = options.height + 'px';\n\n            if (options.style)\n                Object.keys(options.style).forEach(function (property) {\n                    clone.style[property] = options.style[property];\n                });\n\n            return clone;\n        }\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a Uint8Array containing RGBA pixel data.\n     * */\n    function toPixelData(node, options) {\n        return draw(node, options || {})\n            .then(function (canvas) {\n                return canvas.getContext('2d').getImageData(\n                    0,\n                    0,\n                    util.width(node),\n                    util.height(node)\n                ).data;\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a PNG image data URL\n     * */\n    function toPng(node, options) {\n        return draw(node, options || {})\n            .then(function (canvas) {\n                return canvas.toDataURL();\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a JPEG image data URL\n     * */\n    function toJpeg(node, options) {\n        options = options || {};\n        return draw(node, options)\n            .then(function (canvas) {\n                return canvas.toDataURL('image/jpeg', options.quality || 1.0);\n            });\n    }\n\n    /**\n     * @param {Node} node - The DOM Node object to render\n     * @param {Object} options - Rendering options, @see {@link toSvg}\n     * @return {Promise} - A promise that is fulfilled with a PNG image blob\n     * */\n    function toBlob(node, options) {\n        return draw(node, options || {})\n            .then(util.canvasToBlob);\n    }\n\n    function copyOptions(options) {\n        // Copy options to impl options for use in impl\n        if(typeof(options.imagePlaceholder) === 'undefined') {\n            domtoimage.impl.options.imagePlaceholder = defaultOptions.imagePlaceholder;\n        } else {\n            domtoimage.impl.options.imagePlaceholder = options.imagePlaceholder;\n        }\n\n        if(typeof(options.cacheBust) === 'undefined') {\n            domtoimage.impl.options.cacheBust = defaultOptions.cacheBust;\n        } else {\n            domtoimage.impl.options.cacheBust = options.cacheBust;\n        }\n    }\n\n    function draw(domNode, options) {\n        return toSvg(domNode, options)\n            .then(util.makeImage)\n            .then(util.delay(100))\n            .then(function (image) {\n                var canvas = newCanvas(domNode);\n                canvas.getContext('2d').drawImage(image, 0, 0);\n                return canvas;\n            });\n\n        function newCanvas(domNode) {\n            var canvas = document.createElement('canvas');\n            canvas.width = options.width || util.width(domNode);\n            canvas.height = options.height || util.height(domNode);\n\n            if (options.bgcolor) {\n                var ctx = canvas.getContext('2d');\n                ctx.fillStyle = options.bgcolor;\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n            }\n\n            return canvas;\n        }\n    }\n\n    function cloneNode(node, filter, root) {\n        if (!root && filter && !filter(node)) return Promise.resolve();\n\n        return Promise.resolve(node)\n            .then(makeNodeCopy)\n            .then(function (clone) {\n                return cloneChildren(node, clone, filter);\n            })\n            .then(function (clone) {\n                return processClone(node, clone);\n            });\n\n        function makeNodeCopy(node) {\n            if (node instanceof HTMLCanvasElement) return util.makeImage(node.toDataURL());\n            return node.cloneNode(false);\n        }\n\n        function cloneChildren(original, clone, filter) {\n            var children = original.childNodes;\n            if (children.length === 0) return Promise.resolve(clone);\n\n            return cloneChildrenInOrder(clone, util.asArray(children), filter)\n                .then(function () {\n                    return clone;\n                });\n\n            function cloneChildrenInOrder(parent, children, filter) {\n                var done = Promise.resolve();\n                children.forEach(function (child) {\n                    done = done\n                        .then(function () {\n                            return cloneNode(child, filter);\n                        })\n                        .then(function (childClone) {\n                            if (childClone) parent.appendChild(childClone);\n                        });\n                });\n                return done;\n            }\n        }\n\n        function processClone(original, clone) {\n            if (!(clone instanceof Element)) return clone;\n\n            return Promise.resolve()\n                .then(cloneStyle)\n                .then(clonePseudoElements)\n                .then(copyUserInput)\n                .then(fixSvg)\n                .then(function () {\n                    return clone;\n                });\n\n            function cloneStyle() {\n                copyStyle(window.getComputedStyle(original), clone.style);\n\n                function copyStyle(source, target) {\n                    if (source.cssText) target.cssText = source.cssText;\n                    else copyProperties(source, target);\n\n                    function copyProperties(source, target) {\n                        util.asArray(source).forEach(function (name) {\n                            target.setProperty(\n                                name,\n                                source.getPropertyValue(name),\n                                source.getPropertyPriority(name)\n                            );\n                        });\n                    }\n                }\n            }\n\n            function clonePseudoElements() {\n                [':before', ':after'].forEach(function (element) {\n                    clonePseudoElement(element);\n                });\n\n                function clonePseudoElement(element) {\n                    var style = window.getComputedStyle(original, element);\n                    var content = style.getPropertyValue('content');\n\n                    if (content === '' || content === 'none') return;\n\n                    var className = util.uid();\n                    clone.className = clone.className + ' ' + className;\n                    var styleElement = document.createElement('style');\n                    styleElement.appendChild(formatPseudoElementStyle(className, element, style));\n                    clone.appendChild(styleElement);\n\n                    function formatPseudoElementStyle(className, element, style) {\n                        var selector = '.' + className + ':' + element;\n                        var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n                        return document.createTextNode(selector + '{' + cssText + '}');\n\n                        function formatCssText(style) {\n                            var content = style.getPropertyValue('content');\n                            return style.cssText + ' content: ' + content + ';';\n                        }\n\n                        function formatCssProperties(style) {\n\n                            return util.asArray(style)\n                                .map(formatProperty)\n                                .join('; ') + ';';\n\n                            function formatProperty(name) {\n                                return name + ': ' +\n                                    style.getPropertyValue(name) +\n                                    (style.getPropertyPriority(name) ? ' !important' : '');\n                            }\n                        }\n                    }\n                }\n            }\n\n            function copyUserInput() {\n                if (original instanceof HTMLTextAreaElement) clone.innerHTML = original.value;\n                if (original instanceof HTMLInputElement) clone.setAttribute(\"value\", original.value);\n            }\n\n            function fixSvg() {\n                if (!(clone instanceof SVGElement)) return;\n                clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n\n                if (!(clone instanceof SVGRectElement)) return;\n                ['width', 'height'].forEach(function (attribute) {\n                    var value = clone.getAttribute(attribute);\n                    if (!value) return;\n\n                    clone.style.setProperty(attribute, value);\n                });\n            }\n        }\n    }\n\n    function embedFonts(node) {\n        return fontFaces.resolveAll()\n            .then(function (cssText) {\n                var styleNode = document.createElement('style');\n                node.appendChild(styleNode);\n                styleNode.appendChild(document.createTextNode(cssText));\n                return node;\n            });\n    }\n\n    function inlineImages(node) {\n        return images.inlineAll(node)\n            .then(function () {\n                return node;\n            });\n    }\n\n    function makeSvgDataUri(node, width, height) {\n        return Promise.resolve(node)\n            .then(function (node) {\n                node.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml');\n                return new XMLSerializer().serializeToString(node);\n            })\n            .then(util.escapeXhtml)\n            .then(function (xhtml) {\n                return '<foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">' + xhtml + '</foreignObject>';\n            })\n            .then(function (foreignObject) {\n                return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"' + width + '\" height=\"' + height + '\">' +\n                    foreignObject + '</svg>';\n            })\n            .then(function (svg) {\n                return 'data:image/svg+xml;charset=utf-8,' + svg;\n            });\n    }\n\n    function newUtil() {\n        return {\n            escape: escape,\n            parseExtension: parseExtension,\n            mimeType: mimeType,\n            dataAsUrl: dataAsUrl,\n            isDataUrl: isDataUrl,\n            canvasToBlob: canvasToBlob,\n            resolveUrl: resolveUrl,\n            getAndEncode: getAndEncode,\n            uid: uid(),\n            delay: delay,\n            asArray: asArray,\n            escapeXhtml: escapeXhtml,\n            makeImage: makeImage,\n            width: width,\n            height: height\n        };\n\n        function mimes() {\n            /*\n             * Only WOFF and EOT mime types for fonts are 'real'\n             * see http://www.iana.org/assignments/media-types/media-types.xhtml\n             */\n            var WOFF = 'application/font-woff';\n            var JPEG = 'image/jpeg';\n\n            return {\n                'woff': WOFF,\n                'woff2': WOFF,\n                'ttf': 'application/font-truetype',\n                'eot': 'application/vnd.ms-fontobject',\n                'png': 'image/png',\n                'jpg': JPEG,\n                'jpeg': JPEG,\n                'gif': 'image/gif',\n                'tiff': 'image/tiff',\n                'svg': 'image/svg+xml'\n            };\n        }\n\n        function parseExtension(url) {\n            var match = /\\.([^\\.\\/]*?)$/g.exec(url);\n            if (match) return match[1];\n            else return '';\n        }\n\n        function mimeType(url) {\n            var extension = parseExtension(url).toLowerCase();\n            return mimes()[extension] || '';\n        }\n\n        function isDataUrl(url) {\n            return url.search(/^(data:)/) !== -1;\n        }\n\n        function toBlob(canvas) {\n            return new Promise(function (resolve) {\n                var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n                var length = binaryString.length;\n                var binaryArray = new Uint8Array(length);\n\n                for (var i = 0; i < length; i++)\n                    binaryArray[i] = binaryString.charCodeAt(i);\n\n                resolve(new Blob([binaryArray], {\n                    type: 'image/png'\n                }));\n            });\n        }\n\n        function canvasToBlob(canvas) {\n            if (canvas.toBlob)\n                return new Promise(function (resolve) {\n                    canvas.toBlob(resolve);\n                });\n\n            return toBlob(canvas);\n        }\n\n        function resolveUrl(url, baseUrl) {\n            var doc = document.implementation.createHTMLDocument();\n            var base = doc.createElement('base');\n            doc.head.appendChild(base);\n            var a = doc.createElement('a');\n            doc.body.appendChild(a);\n            base.href = baseUrl;\n            a.href = url;\n            return a.href;\n        }\n\n        function uid() {\n            var index = 0;\n\n            return function () {\n                return 'u' + fourRandomChars() + index++;\n\n                function fourRandomChars() {\n                    /* see http://stackoverflow.com/a/6248722/2519373 */\n                    return ('0000' + (Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\n                }\n            };\n        }\n\n        function makeImage(uri) {\n            return new Promise(function (resolve, reject) {\n                var image = new Image();\n                image.onload = function () {\n                    resolve(image);\n                };\n                image.onerror = reject;\n                image.src = uri;\n            });\n        }\n\n        function getAndEncode(url) {\n            var TIMEOUT = 30000;\n            if(domtoimage.impl.options.cacheBust) {\n                // Cache bypass so we dont have CORS issues with cached images\n                // Source: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n                url += ((/\\?/).test(url) ? \"&\" : \"?\") + (new Date()).getTime();\n            }\n\n            return new Promise(function (resolve) {\n                var request = new XMLHttpRequest();\n\n                request.onreadystatechange = done;\n                request.ontimeout = timeout;\n                request.responseType = 'blob';\n                request.timeout = TIMEOUT;\n                request.open('GET', url, true);\n                request.send();\n\n                var placeholder;\n                if(domtoimage.impl.options.imagePlaceholder) {\n                    var split = domtoimage.impl.options.imagePlaceholder.split(/,/);\n                    if(split && split[1]) {\n                        placeholder = split[1];\n                    }\n                }\n\n                function done() {\n                    if (request.readyState !== 4) return;\n\n                    if (request.status !== 200) {\n                        if(placeholder) {\n                            resolve(placeholder);\n                        } else {\n                            fail('cannot fetch resource: ' + url + ', status: ' + request.status);\n                        }\n\n                        return;\n                    }\n\n                    var encoder = new FileReader();\n                    encoder.onloadend = function () {\n                        var content = encoder.result.split(/,/)[1];\n                        resolve(content);\n                    };\n                    encoder.readAsDataURL(request.response);\n                }\n\n                function timeout() {\n                    if(placeholder) {\n                        resolve(placeholder);\n                    } else {\n                        fail('timeout of ' + TIMEOUT + 'ms occured while fetching resource: ' + url);\n                    }\n                }\n\n                function fail(message) {\n                    console.error(message);\n                    resolve('');\n                }\n            });\n        }\n\n        function dataAsUrl(content, type) {\n            return 'data:' + type + ';base64,' + content;\n        }\n\n        function escape(string) {\n            return string.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n        }\n\n        function delay(ms) {\n            return function (arg) {\n                return new Promise(function (resolve) {\n                    setTimeout(function () {\n                        resolve(arg);\n                    }, ms);\n                });\n            };\n        }\n\n        function asArray(arrayLike) {\n            var array = [];\n            var length = arrayLike.length;\n            for (var i = 0; i < length; i++) array.push(arrayLike[i]);\n            return array;\n        }\n\n        function escapeXhtml(string) {\n            return string.replace(/#/g, '%23').replace(/\\n/g, '%0A');\n        }\n\n        function width(node) {\n            var leftBorder = px(node, 'border-left-width');\n            var rightBorder = px(node, 'border-right-width');\n            return node.scrollWidth + leftBorder + rightBorder;\n        }\n\n        function height(node) {\n            var topBorder = px(node, 'border-top-width');\n            var bottomBorder = px(node, 'border-bottom-width');\n            return node.scrollHeight + topBorder + bottomBorder;\n        }\n\n        function px(node, styleProperty) {\n            var value = window.getComputedStyle(node).getPropertyValue(styleProperty);\n            return parseFloat(value.replace('px', ''));\n        }\n    }\n\n    function newInliner() {\n        var URL_REGEX = /url\\(['\"]?([^'\"]+?)['\"]?\\)/g;\n\n        return {\n            inlineAll: inlineAll,\n            shouldProcess: shouldProcess,\n            impl: {\n                readUrls: readUrls,\n                inline: inline\n            }\n        };\n\n        function shouldProcess(string) {\n            return string.search(URL_REGEX) !== -1;\n        }\n\n        function readUrls(string) {\n            var result = [];\n            var match;\n            while ((match = URL_REGEX.exec(string)) !== null) {\n                result.push(match[1]);\n            }\n            return result.filter(function (url) {\n                return !util.isDataUrl(url);\n            });\n        }\n\n        function inline(string, url, baseUrl, get) {\n            return Promise.resolve(url)\n                .then(function (url) {\n                    return baseUrl ? util.resolveUrl(url, baseUrl) : url;\n                })\n                .then(get || util.getAndEncode)\n                .then(function (data) {\n                    return util.dataAsUrl(data, util.mimeType(url));\n                })\n                .then(function (dataUrl) {\n                    return string.replace(urlAsRegex(url), '$1' + dataUrl + '$3');\n                });\n\n            function urlAsRegex(url) {\n                return new RegExp('(url\\\\([\\'\"]?)(' + util.escape(url) + ')([\\'\"]?\\\\))', 'g');\n            }\n        }\n\n        function inlineAll(string, baseUrl, get) {\n            if (nothingToInline()) return Promise.resolve(string);\n\n            return Promise.resolve(string)\n                .then(readUrls)\n                .then(function (urls) {\n                    var done = Promise.resolve(string);\n                    urls.forEach(function (url) {\n                        done = done.then(function (string) {\n                            return inline(string, url, baseUrl, get);\n                        });\n                    });\n                    return done;\n                });\n\n            function nothingToInline() {\n                return !shouldProcess(string);\n            }\n        }\n    }\n\n    function newFontFaces() {\n        return {\n            resolveAll: resolveAll,\n            impl: {\n                readAll: readAll\n            }\n        };\n\n        function resolveAll() {\n            return readAll(document)\n                .then(function (webFonts) {\n                    return Promise.all(\n                        webFonts.map(function (webFont) {\n                            return webFont.resolve();\n                        })\n                    );\n                })\n                .then(function (cssStrings) {\n                    return cssStrings.join('\\n');\n                });\n        }\n\n        function readAll() {\n            return Promise.resolve(util.asArray(document.styleSheets))\n                .then(getCssRules)\n                .then(selectWebFontRules)\n                .then(function (rules) {\n                    return rules.map(newWebFont);\n                });\n\n            function selectWebFontRules(cssRules) {\n                return cssRules\n                    .filter(function (rule) {\n                        return rule.type === CSSRule.FONT_FACE_RULE;\n                    })\n                    .filter(function (rule) {\n                        return inliner.shouldProcess(rule.style.getPropertyValue('src'));\n                    });\n            }\n\n            function getCssRules(styleSheets) {\n                var cssRules = [];\n                styleSheets.forEach(function (sheet) {\n                    try {\n                        util.asArray(sheet.cssRules || []).forEach(cssRules.push.bind(cssRules));\n                    } catch (e) {\n                        console.log('Error while reading CSS rules from ' + sheet.href, e.toString());\n                    }\n                });\n                return cssRules;\n            }\n\n            function newWebFont(webFontRule) {\n                return {\n                    resolve: function resolve() {\n                        var baseUrl = (webFontRule.parentStyleSheet || {}).href;\n                        return inliner.inlineAll(webFontRule.cssText, baseUrl);\n                    },\n                    src: function () {\n                        return webFontRule.style.getPropertyValue('src');\n                    }\n                };\n            }\n        }\n    }\n\n    function newImages() {\n        return {\n            inlineAll: inlineAll,\n            impl: {\n                newImage: newImage\n            }\n        };\n\n        function newImage(element) {\n            return {\n                inline: inline\n            };\n\n            function inline(get) {\n                if (util.isDataUrl(element.src)) return Promise.resolve();\n\n                return Promise.resolve(element.src)\n                    .then(get || util.getAndEncode)\n                    .then(function (data) {\n                        return util.dataAsUrl(data, util.mimeType(element.src));\n                    })\n                    .then(function (dataUrl) {\n                        return new Promise(function (resolve, reject) {\n                            element.onload = resolve;\n                            element.onerror = reject;\n                            element.src = dataUrl;\n                        });\n                    });\n            }\n        }\n\n        function inlineAll(node) {\n            if (!(node instanceof Element)) return Promise.resolve(node);\n\n            return inlineBackground(node)\n                .then(function () {\n                    if (node instanceof HTMLImageElement)\n                        return newImage(node).inline();\n                    else\n                        return Promise.all(\n                            util.asArray(node.childNodes).map(function (child) {\n                                return inlineAll(child);\n                            })\n                        );\n                });\n\n            function inlineBackground(node) {\n                var background = node.style.getPropertyValue('background');\n\n                if (!background) return Promise.resolve(node);\n\n                return inliner.inlineAll(background)\n                    .then(function (inlined) {\n                        node.style.setProperty(\n                            'background',\n                            inlined,\n                            node.style.getPropertyPriority('background')\n                        );\n                    })\n                    .then(function () {\n                        return node;\n                    });\n            }\n        }\n    }\n})(this);\n","//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3)\n  var cacheKey = serializer(args)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null)\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n}\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n}\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value\n}\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n}\n\n//\n// API\n//\n\nmodule.exports = memoize\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n}\n","/*!\n * Fuse.js v3.3.0 - Lightweight fuzzy-search (http://fusejs.io)\n * \n * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n * \n * http://www.apache.org/licenses/LICENSE-2.0\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fuse\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fuse\"] = factory();\n\telse\n\t\troot[\"Fuse\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (obj) {\n  return !Array.isArray ? Object.prototype.toString.call(obj) === '[object Array]' : Array.isArray(obj);\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar bitapRegexSearch = __webpack_require__(5);\nvar bitapSearch = __webpack_require__(7);\nvar patternAlphabet = __webpack_require__(4);\n\nvar Bitap = function () {\n  function Bitap(pattern, _ref) {\n    var _ref$location = _ref.location,\n        location = _ref$location === undefined ? 0 : _ref$location,\n        _ref$distance = _ref.distance,\n        distance = _ref$distance === undefined ? 100 : _ref$distance,\n        _ref$threshold = _ref.threshold,\n        threshold = _ref$threshold === undefined ? 0.6 : _ref$threshold,\n        _ref$maxPatternLength = _ref.maxPatternLength,\n        maxPatternLength = _ref$maxPatternLength === undefined ? 32 : _ref$maxPatternLength,\n        _ref$isCaseSensitive = _ref.isCaseSensitive,\n        isCaseSensitive = _ref$isCaseSensitive === undefined ? false : _ref$isCaseSensitive,\n        _ref$tokenSeparator = _ref.tokenSeparator,\n        tokenSeparator = _ref$tokenSeparator === undefined ? / +/g : _ref$tokenSeparator,\n        _ref$findAllMatches = _ref.findAllMatches,\n        findAllMatches = _ref$findAllMatches === undefined ? false : _ref$findAllMatches,\n        _ref$minMatchCharLeng = _ref.minMatchCharLength,\n        minMatchCharLength = _ref$minMatchCharLeng === undefined ? 1 : _ref$minMatchCharLeng;\n\n    _classCallCheck(this, Bitap);\n\n    this.options = {\n      location: location,\n      distance: distance,\n      threshold: threshold,\n      maxPatternLength: maxPatternLength,\n      isCaseSensitive: isCaseSensitive,\n      tokenSeparator: tokenSeparator,\n      findAllMatches: findAllMatches,\n      minMatchCharLength: minMatchCharLength\n    };\n\n    this.pattern = this.options.isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    if (this.pattern.length <= maxPatternLength) {\n      this.patternAlphabet = patternAlphabet(this.pattern);\n    }\n  }\n\n  _createClass(Bitap, [{\n    key: 'search',\n    value: function search(text) {\n      if (!this.options.isCaseSensitive) {\n        text = text.toLowerCase();\n      }\n\n      // Exact match\n      if (this.pattern === text) {\n        return {\n          isMatch: true,\n          score: 0,\n          matchedIndices: [[0, text.length - 1]]\n        };\n      }\n\n      // When pattern length is greater than the machine word length, just do a a regex comparison\n      var _options = this.options,\n          maxPatternLength = _options.maxPatternLength,\n          tokenSeparator = _options.tokenSeparator;\n\n      if (this.pattern.length > maxPatternLength) {\n        return bitapRegexSearch(text, this.pattern, tokenSeparator);\n      }\n\n      // Otherwise, use Bitap algorithm\n      var _options2 = this.options,\n          location = _options2.location,\n          distance = _options2.distance,\n          threshold = _options2.threshold,\n          findAllMatches = _options2.findAllMatches,\n          minMatchCharLength = _options2.minMatchCharLength;\n\n      return bitapSearch(text, this.pattern, this.patternAlphabet, {\n        location: location,\n        distance: distance,\n        threshold: threshold,\n        findAllMatches: findAllMatches,\n        minMatchCharLength: minMatchCharLength\n      });\n    }\n  }]);\n\n  return Bitap;\n}();\n\n// let x = new Bitap(\"od mn war\", {})\n// let result = x.search(\"Old Man's War\")\n// console.log(result)\n\nmodule.exports = Bitap;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isArray = __webpack_require__(0);\n\nvar deepValue = function deepValue(obj, path, list) {\n  if (!path) {\n    // If there's no path left, we've gotten to the object we care about.\n    list.push(obj);\n  } else {\n    var dotIndex = path.indexOf('.');\n    var firstSegment = path;\n    var remaining = null;\n\n    if (dotIndex !== -1) {\n      firstSegment = path.slice(0, dotIndex);\n      remaining = path.slice(dotIndex + 1);\n    }\n\n    var value = obj[firstSegment];\n\n    if (value !== null && value !== undefined) {\n      if (!remaining && (typeof value === 'string' || typeof value === 'number')) {\n        list.push(value.toString());\n      } else if (isArray(value)) {\n        // Search each item in the array.\n        for (var i = 0, len = value.length; i < len; i += 1) {\n          deepValue(value[i], remaining, list);\n        }\n      } else if (remaining) {\n        // An object. Recurse further.\n        deepValue(value, remaining, list);\n      }\n    }\n  }\n\n  return list;\n};\n\nmodule.exports = function (obj, path) {\n  return deepValue(obj, path, []);\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function () {\n  var matchmask = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var minMatchCharLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n  var matchedIndices = [];\n  var start = -1;\n  var end = -1;\n  var i = 0;\n\n  for (var len = matchmask.length; i < len; i += 1) {\n    var match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        matchedIndices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    matchedIndices.push([start, i - 1]);\n  }\n\n  return matchedIndices;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (pattern) {\n  var mask = {};\n  var len = pattern.length;\n\n  for (var i = 0; i < len; i += 1) {\n    mask[pattern.charAt(i)] = 0;\n  }\n\n  for (var _i = 0; _i < len; _i += 1) {\n    mask[pattern.charAt(_i)] |= 1 << len - _i - 1;\n  }\n\n  return mask;\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar SPECIAL_CHARS_REGEX = /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;\n\nmodule.exports = function (text, pattern) {\n  var tokenSeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : / +/g;\n\n  var regex = new RegExp(pattern.replace(SPECIAL_CHARS_REGEX, '\\\\$&').replace(tokenSeparator, '|'));\n  var matches = text.match(regex);\n  var isMatch = !!matches;\n  var matchedIndices = [];\n\n  if (isMatch) {\n    for (var i = 0, matchesLen = matches.length; i < matchesLen; i += 1) {\n      var match = matches[i];\n      matchedIndices.push([text.indexOf(match), match.length - 1]);\n    }\n  }\n\n  return {\n    // TODO: revisit this score\n    score: isMatch ? 0.5 : 1,\n    isMatch: isMatch,\n    matchedIndices: matchedIndices\n  };\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (pattern, _ref) {\n  var _ref$errors = _ref.errors,\n      errors = _ref$errors === undefined ? 0 : _ref$errors,\n      _ref$currentLocation = _ref.currentLocation,\n      currentLocation = _ref$currentLocation === undefined ? 0 : _ref$currentLocation,\n      _ref$expectedLocation = _ref.expectedLocation,\n      expectedLocation = _ref$expectedLocation === undefined ? 0 : _ref$expectedLocation,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === undefined ? 100 : _ref$distance;\n\n  var accuracy = errors / pattern.length;\n  var proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy;\n  }\n\n  return accuracy + proximity / distance;\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar bitapScore = __webpack_require__(6);\nvar matchedIndices = __webpack_require__(3);\n\nmodule.exports = function (text, pattern, patternAlphabet, _ref) {\n  var _ref$location = _ref.location,\n      location = _ref$location === undefined ? 0 : _ref$location,\n      _ref$distance = _ref.distance,\n      distance = _ref$distance === undefined ? 100 : _ref$distance,\n      _ref$threshold = _ref.threshold,\n      threshold = _ref$threshold === undefined ? 0.6 : _ref$threshold,\n      _ref$findAllMatches = _ref.findAllMatches,\n      findAllMatches = _ref$findAllMatches === undefined ? false : _ref$findAllMatches,\n      _ref$minMatchCharLeng = _ref.minMatchCharLength,\n      minMatchCharLength = _ref$minMatchCharLeng === undefined ? 1 : _ref$minMatchCharLeng;\n\n  var expectedLocation = location;\n  // Set starting location at beginning text and initialize the alphabet.\n  var textLen = text.length;\n  // Highest score beyond which we give up.\n  var currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  var bestLocation = text.indexOf(pattern, expectedLocation);\n\n  var patternLen = pattern.length;\n\n  // a mask of the matches\n  var matchMask = [];\n  for (var i = 0; i < textLen; i += 1) {\n    matchMask[i] = 0;\n  }\n\n  if (bestLocation !== -1) {\n    var score = bitapScore(pattern, {\n      errors: 0,\n      currentLocation: bestLocation,\n      expectedLocation: expectedLocation,\n      distance: distance\n    });\n    currentThreshold = Math.min(score, currentThreshold);\n\n    // What about in the other direction? (speed up)\n    bestLocation = text.lastIndexOf(pattern, expectedLocation + patternLen);\n\n    if (bestLocation !== -1) {\n      var _score = bitapScore(pattern, {\n        errors: 0,\n        currentLocation: bestLocation,\n        expectedLocation: expectedLocation,\n        distance: distance\n      });\n      currentThreshold = Math.min(_score, currentThreshold);\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  var lastBitArr = [];\n  var finalScore = 1;\n  var binMax = patternLen + textLen;\n\n  var mask = 1 << patternLen - 1;\n\n  for (var _i = 0; _i < patternLen; _i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    var binMin = 0;\n    var binMid = binMax;\n\n    while (binMin < binMid) {\n      var _score3 = bitapScore(pattern, {\n        errors: _i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation: expectedLocation,\n        distance: distance\n      });\n\n      if (_score3 <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    var start = Math.max(1, expectedLocation - binMid + 1);\n    var finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    var bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << _i) - 1;\n\n    for (var j = finish; j >= start; j -= 1) {\n      var currentLocation = j - 1;\n      var charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (charMatch) {\n        matchMask[currentLocation] = 1;\n      }\n\n      // First pass: exact match\n      bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (_i !== 0) {\n        bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = bitapScore(pattern, {\n          errors: _i,\n          currentLocation: currentLocation,\n          expectedLocation: expectedLocation,\n          distance: distance\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break;\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    var _score2 = bitapScore(pattern, {\n      errors: _i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation: expectedLocation,\n      distance: distance\n    });\n\n    // console.log('score', score, finalScore)\n\n    if (_score2 > currentThreshold) {\n      break;\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  // console.log('FINAL SCORE', finalScore)\n\n  // Count exact matches (those with a score of 0) to be \"almost\" exact\n  return {\n    isMatch: bestLocation >= 0,\n    score: finalScore === 0 ? 0.001 : finalScore,\n    matchedIndices: matchedIndices(matchMask, minMatchCharLength)\n  };\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Bitap = __webpack_require__(1);\nvar deepValue = __webpack_require__(2);\nvar isArray = __webpack_require__(0);\n\nvar Fuse = function () {\n  function Fuse(list, _ref) {\n    var _ref$location = _ref.location,\n        location = _ref$location === undefined ? 0 : _ref$location,\n        _ref$distance = _ref.distance,\n        distance = _ref$distance === undefined ? 100 : _ref$distance,\n        _ref$threshold = _ref.threshold,\n        threshold = _ref$threshold === undefined ? 0.6 : _ref$threshold,\n        _ref$maxPatternLength = _ref.maxPatternLength,\n        maxPatternLength = _ref$maxPatternLength === undefined ? 32 : _ref$maxPatternLength,\n        _ref$caseSensitive = _ref.caseSensitive,\n        caseSensitive = _ref$caseSensitive === undefined ? false : _ref$caseSensitive,\n        _ref$tokenSeparator = _ref.tokenSeparator,\n        tokenSeparator = _ref$tokenSeparator === undefined ? / +/g : _ref$tokenSeparator,\n        _ref$findAllMatches = _ref.findAllMatches,\n        findAllMatches = _ref$findAllMatches === undefined ? false : _ref$findAllMatches,\n        _ref$minMatchCharLeng = _ref.minMatchCharLength,\n        minMatchCharLength = _ref$minMatchCharLeng === undefined ? 1 : _ref$minMatchCharLeng,\n        _ref$id = _ref.id,\n        id = _ref$id === undefined ? null : _ref$id,\n        _ref$keys = _ref.keys,\n        keys = _ref$keys === undefined ? [] : _ref$keys,\n        _ref$shouldSort = _ref.shouldSort,\n        shouldSort = _ref$shouldSort === undefined ? true : _ref$shouldSort,\n        _ref$getFn = _ref.getFn,\n        getFn = _ref$getFn === undefined ? deepValue : _ref$getFn,\n        _ref$sortFn = _ref.sortFn,\n        sortFn = _ref$sortFn === undefined ? function (a, b) {\n      return a.score - b.score;\n    } : _ref$sortFn,\n        _ref$tokenize = _ref.tokenize,\n        tokenize = _ref$tokenize === undefined ? false : _ref$tokenize,\n        _ref$matchAllTokens = _ref.matchAllTokens,\n        matchAllTokens = _ref$matchAllTokens === undefined ? false : _ref$matchAllTokens,\n        _ref$includeMatches = _ref.includeMatches,\n        includeMatches = _ref$includeMatches === undefined ? false : _ref$includeMatches,\n        _ref$includeScore = _ref.includeScore,\n        includeScore = _ref$includeScore === undefined ? false : _ref$includeScore,\n        _ref$verbose = _ref.verbose,\n        verbose = _ref$verbose === undefined ? false : _ref$verbose;\n\n    _classCallCheck(this, Fuse);\n\n    this.options = {\n      location: location,\n      distance: distance,\n      threshold: threshold,\n      maxPatternLength: maxPatternLength,\n      isCaseSensitive: caseSensitive,\n      tokenSeparator: tokenSeparator,\n      findAllMatches: findAllMatches,\n      minMatchCharLength: minMatchCharLength,\n      id: id,\n      keys: keys,\n      includeMatches: includeMatches,\n      includeScore: includeScore,\n      shouldSort: shouldSort,\n      getFn: getFn,\n      sortFn: sortFn,\n      verbose: verbose,\n      tokenize: tokenize,\n      matchAllTokens: matchAllTokens\n    };\n\n    this.setCollection(list);\n  }\n\n  _createClass(Fuse, [{\n    key: 'setCollection',\n    value: function setCollection(list) {\n      this.list = list;\n      return list;\n    }\n  }, {\n    key: 'search',\n    value: function search(pattern) {\n      this._log('---------\\nSearch pattern: \"' + pattern + '\"');\n\n      var _prepareSearchers2 = this._prepareSearchers(pattern),\n          tokenSearchers = _prepareSearchers2.tokenSearchers,\n          fullSearcher = _prepareSearchers2.fullSearcher;\n\n      var _search2 = this._search(tokenSearchers, fullSearcher),\n          weights = _search2.weights,\n          results = _search2.results;\n\n      this._computeScore(weights, results);\n\n      if (this.options.shouldSort) {\n        this._sort(results);\n      }\n\n      return this._format(results);\n    }\n  }, {\n    key: '_prepareSearchers',\n    value: function _prepareSearchers() {\n      var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      var tokenSearchers = [];\n\n      if (this.options.tokenize) {\n        // Tokenize on the separator\n        var tokens = pattern.split(this.options.tokenSeparator);\n        for (var i = 0, len = tokens.length; i < len; i += 1) {\n          tokenSearchers.push(new Bitap(tokens[i], this.options));\n        }\n      }\n\n      var fullSearcher = new Bitap(pattern, this.options);\n\n      return { tokenSearchers: tokenSearchers, fullSearcher: fullSearcher };\n    }\n  }, {\n    key: '_search',\n    value: function _search() {\n      var tokenSearchers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var fullSearcher = arguments[1];\n\n      var list = this.list;\n      var resultMap = {};\n      var results = [];\n\n      // Check the first item in the list, if it's a string, then we assume\n      // that every item in the list is also a string, and thus it's a flattened array.\n      if (typeof list[0] === 'string') {\n        // Iterate over every item\n        for (var i = 0, len = list.length; i < len; i += 1) {\n          this._analyze({\n            key: '',\n            value: list[i],\n            record: i,\n            index: i\n          }, {\n            resultMap: resultMap,\n            results: results,\n            tokenSearchers: tokenSearchers,\n            fullSearcher: fullSearcher\n          });\n        }\n\n        return { weights: null, results: results };\n      }\n\n      // Otherwise, the first item is an Object (hopefully), and thus the searching\n      // is done on the values of the keys of each item.\n      var weights = {};\n      for (var _i = 0, _len = list.length; _i < _len; _i += 1) {\n        var item = list[_i];\n        // Iterate over every key\n        for (var j = 0, keysLen = this.options.keys.length; j < keysLen; j += 1) {\n          var key = this.options.keys[j];\n          if (typeof key !== 'string') {\n            weights[key.name] = {\n              weight: 1 - key.weight || 1\n            };\n            if (key.weight <= 0 || key.weight > 1) {\n              throw new Error('Key weight has to be > 0 and <= 1');\n            }\n            key = key.name;\n          } else {\n            weights[key] = {\n              weight: 1\n            };\n          }\n\n          this._analyze({\n            key: key,\n            value: this.options.getFn(item, key),\n            record: item,\n            index: _i\n          }, {\n            resultMap: resultMap,\n            results: results,\n            tokenSearchers: tokenSearchers,\n            fullSearcher: fullSearcher\n          });\n        }\n      }\n\n      return { weights: weights, results: results };\n    }\n  }, {\n    key: '_analyze',\n    value: function _analyze(_ref2, _ref3) {\n      var key = _ref2.key,\n          _ref2$arrayIndex = _ref2.arrayIndex,\n          arrayIndex = _ref2$arrayIndex === undefined ? -1 : _ref2$arrayIndex,\n          value = _ref2.value,\n          record = _ref2.record,\n          index = _ref2.index;\n      var _ref3$tokenSearchers = _ref3.tokenSearchers,\n          tokenSearchers = _ref3$tokenSearchers === undefined ? [] : _ref3$tokenSearchers,\n          _ref3$fullSearcher = _ref3.fullSearcher,\n          fullSearcher = _ref3$fullSearcher === undefined ? [] : _ref3$fullSearcher,\n          _ref3$resultMap = _ref3.resultMap,\n          resultMap = _ref3$resultMap === undefined ? {} : _ref3$resultMap,\n          _ref3$results = _ref3.results,\n          results = _ref3$results === undefined ? [] : _ref3$results;\n\n      // Check if the texvaluet can be searched\n      if (value === undefined || value === null) {\n        return;\n      }\n\n      var exists = false;\n      var averageScore = -1;\n      var numTextMatches = 0;\n\n      if (typeof value === 'string') {\n        this._log('\\nKey: ' + (key === '' ? '-' : key));\n\n        var mainSearchResult = fullSearcher.search(value);\n        this._log('Full text: \"' + value + '\", score: ' + mainSearchResult.score);\n\n        if (this.options.tokenize) {\n          var words = value.split(this.options.tokenSeparator);\n          var scores = [];\n\n          for (var i = 0; i < tokenSearchers.length; i += 1) {\n            var tokenSearcher = tokenSearchers[i];\n\n            this._log('\\nPattern: \"' + tokenSearcher.pattern + '\"');\n\n            // let tokenScores = []\n            var hasMatchInText = false;\n\n            for (var j = 0; j < words.length; j += 1) {\n              var word = words[j];\n              var tokenSearchResult = tokenSearcher.search(word);\n              var obj = {};\n              if (tokenSearchResult.isMatch) {\n                obj[word] = tokenSearchResult.score;\n                exists = true;\n                hasMatchInText = true;\n                scores.push(tokenSearchResult.score);\n              } else {\n                obj[word] = 1;\n                if (!this.options.matchAllTokens) {\n                  scores.push(1);\n                }\n              }\n              this._log('Token: \"' + word + '\", score: ' + obj[word]);\n              // tokenScores.push(obj)\n            }\n\n            if (hasMatchInText) {\n              numTextMatches += 1;\n            }\n          }\n\n          averageScore = scores[0];\n          var scoresLen = scores.length;\n          for (var _i2 = 1; _i2 < scoresLen; _i2 += 1) {\n            averageScore += scores[_i2];\n          }\n          averageScore = averageScore / scoresLen;\n\n          this._log('Token score average:', averageScore);\n        }\n\n        var finalScore = mainSearchResult.score;\n        if (averageScore > -1) {\n          finalScore = (finalScore + averageScore) / 2;\n        }\n\n        this._log('Score average:', finalScore);\n\n        var checkTextMatches = this.options.tokenize && this.options.matchAllTokens ? numTextMatches >= tokenSearchers.length : true;\n\n        this._log('\\nCheck Matches: ' + checkTextMatches);\n\n        // If a match is found, add the item to <rawResults>, including its score\n        if ((exists || mainSearchResult.isMatch) && checkTextMatches) {\n          // Check if the item already exists in our results\n          var existingResult = resultMap[index];\n          if (existingResult) {\n            // Use the lowest score\n            // existingResult.score, bitapResult.score\n            existingResult.output.push({\n              key: key,\n              arrayIndex: arrayIndex,\n              value: value,\n              score: finalScore,\n              matchedIndices: mainSearchResult.matchedIndices\n            });\n          } else {\n            // Add it to the raw result list\n            resultMap[index] = {\n              item: record,\n              output: [{\n                key: key,\n                arrayIndex: arrayIndex,\n                value: value,\n                score: finalScore,\n                matchedIndices: mainSearchResult.matchedIndices\n              }]\n            };\n\n            results.push(resultMap[index]);\n          }\n        }\n      } else if (isArray(value)) {\n        for (var _i3 = 0, len = value.length; _i3 < len; _i3 += 1) {\n          this._analyze({\n            key: key,\n            arrayIndex: _i3,\n            value: value[_i3],\n            record: record,\n            index: index\n          }, {\n            resultMap: resultMap,\n            results: results,\n            tokenSearchers: tokenSearchers,\n            fullSearcher: fullSearcher\n          });\n        }\n      }\n    }\n  }, {\n    key: '_computeScore',\n    value: function _computeScore(weights, results) {\n      this._log('\\n\\nComputing score:\\n');\n\n      for (var i = 0, len = results.length; i < len; i += 1) {\n        var output = results[i].output;\n        var scoreLen = output.length;\n\n        var currScore = 1;\n        var bestScore = 1;\n\n        for (var j = 0; j < scoreLen; j += 1) {\n          var weight = weights ? weights[output[j].key].weight : 1;\n          var score = weight === 1 ? output[j].score : output[j].score || 0.001;\n          var nScore = score * weight;\n\n          if (weight !== 1) {\n            bestScore = Math.min(bestScore, nScore);\n          } else {\n            output[j].nScore = nScore;\n            currScore *= nScore;\n          }\n        }\n\n        results[i].score = bestScore === 1 ? currScore : bestScore;\n\n        this._log(results[i]);\n      }\n    }\n  }, {\n    key: '_sort',\n    value: function _sort(results) {\n      this._log('\\n\\nSorting....');\n      results.sort(this.options.sortFn);\n    }\n  }, {\n    key: '_format',\n    value: function _format(results) {\n      var finalOutput = [];\n\n      if (this.options.verbose) {\n        this._log('\\n\\nOutput:\\n\\n', JSON.stringify(results));\n      }\n\n      var transformers = [];\n\n      if (this.options.includeMatches) {\n        transformers.push(function (result, data) {\n          var output = result.output;\n          data.matches = [];\n\n          for (var i = 0, len = output.length; i < len; i += 1) {\n            var item = output[i];\n\n            if (item.matchedIndices.length === 0) {\n              continue;\n            }\n\n            var obj = {\n              indices: item.matchedIndices,\n              value: item.value\n            };\n            if (item.key) {\n              obj.key = item.key;\n            }\n            if (item.hasOwnProperty('arrayIndex') && item.arrayIndex > -1) {\n              obj.arrayIndex = item.arrayIndex;\n            }\n            data.matches.push(obj);\n          }\n        });\n      }\n\n      if (this.options.includeScore) {\n        transformers.push(function (result, data) {\n          data.score = result.score;\n        });\n      }\n\n      for (var i = 0, len = results.length; i < len; i += 1) {\n        var result = results[i];\n\n        if (this.options.id) {\n          result.item = this.options.getFn(result.item, this.options.id)[0];\n        }\n\n        if (!transformers.length) {\n          finalOutput.push(result.item);\n          continue;\n        }\n\n        var data = {\n          item: result.item\n        };\n\n        for (var j = 0, _len2 = transformers.length; j < _len2; j += 1) {\n          transformers[j](result, data);\n        }\n\n        finalOutput.push(data);\n      }\n\n      return finalOutput;\n    }\n  }, {\n    key: '_log',\n    value: function _log() {\n      if (this.options.verbose) {\n        var _console;\n\n        (_console = console).log.apply(_console, arguments);\n      }\n    }\n  }]);\n\n  return Fuse;\n}();\n\nmodule.exports = Fuse;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=fuse.js.map","/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/*\nLanguage: Handlebars\nRequires: xml.js\nAuthor: Robin Ward <robin.ward@gmail.com>\nDescription: Matcher for Handlebars as well as EmberJS additions.\nWebsite: https://handlebarsjs.com\nCategory: template\n*/\n\nfunction handlebars(hljs) {\n  const BUILT_INS = {\n    'builtin-name': [\n      'action',\n      'bindattr',\n      'collection',\n      'component',\n      'concat',\n      'debugger',\n      'each',\n      'each-in',\n      'get',\n      'hash',\n      'if',\n      'in',\n      'input',\n      'link-to',\n      'loc',\n      'log',\n      'lookup',\n      'mut',\n      'outlet',\n      'partial',\n      'query-params',\n      'render',\n      'template',\n      'textarea',\n      'unbound',\n      'unless',\n      'view',\n      'with',\n      'yield'\n    ].join(\" \")\n  };\n\n  const LITERALS = {\n    literal: [\n      'true',\n      'false',\n      'undefined',\n      'null'\n    ].join(\" \")\n  };\n\n  // as defined in https://handlebarsjs.com/guide/expressions.html#literal-segments\n  // this regex matches literal segments like ' abc ' or [ abc ] as well as helpers and paths\n  // like a/b, ./abc/cde, and abc.bcd\n\n  const DOUBLE_QUOTED_ID_REGEX=/\".*?\"/;\n  const SINGLE_QUOTED_ID_REGEX=/'.*?'/;\n  const BRACKET_QUOTED_ID_REGEX=/\\[.*?\\]/;\n  const PLAIN_ID_REGEX=/[^\\s!\"#%&'()*+,.\\/;<=>@\\[\\\\\\]^`{|}~]+/;\n  const PATH_DELIMITER_REGEX=/\\.|\\//;\n\n  const IDENTIFIER_REGEX = concat(\n    '(',\n    SINGLE_QUOTED_ID_REGEX, '|',\n    DOUBLE_QUOTED_ID_REGEX, '|',\n    BRACKET_QUOTED_ID_REGEX, '|',\n    PLAIN_ID_REGEX, '|',\n    PATH_DELIMITER_REGEX,\n    ')+'\n  );\n\n  // identifier followed by a equal-sign (without the equal sign)\n  const HASH_PARAM_REGEX = concat(\n    '(',\n    BRACKET_QUOTED_ID_REGEX, '|',\n    PLAIN_ID_REGEX,\n    ')(?==)'\n  );\n\n  const HELPER_NAME_OR_PATH_EXPRESSION = {\n    begin: IDENTIFIER_REGEX,\n    lexemes: /[\\w.\\/]+/\n  };\n\n  const HELPER_PARAMETER = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: LITERALS\n  });\n\n  const SUB_EXPRESSION = {\n    begin: /\\(/,\n    end: /\\)/\n    // the \"contains\" is added below when all necessary sub-modes are defined\n  };\n\n  const HASH = {\n    // fka \"attribute-assignment\", parameters of the form 'key=value'\n    className: 'attr',\n    begin: HASH_PARAM_REGEX,\n    relevance: 0,\n    starts: {\n      begin: /=/,\n      end: /=/,\n      starts: {\n        contains: [\n          hljs.NUMBER_MODE,\n          hljs.QUOTE_STRING_MODE,\n          hljs.APOS_STRING_MODE,\n          HELPER_PARAMETER,\n          SUB_EXPRESSION\n        ]\n      }\n    }\n  };\n\n  const BLOCK_PARAMS = {\n    // parameters of the form '{{#with x as | y |}}...{{/with}}'\n    begin: /as\\s+\\|/,\n    keywords: { keyword: 'as' },\n    end: /\\|/,\n    contains: [\n      {\n        // define sub-mode in order to prevent highlighting of block-parameter named \"as\"\n        begin: /\\w+/\n      }\n    ]\n  };\n\n  const HELPER_PARAMETERS = {\n    contains: [\n      hljs.NUMBER_MODE,\n      hljs.QUOTE_STRING_MODE,\n      hljs.APOS_STRING_MODE,\n      BLOCK_PARAMS,\n      HASH,\n      HELPER_PARAMETER,\n      SUB_EXPRESSION\n    ],\n    returnEnd: true\n    // the property \"end\" is defined through inheritance when the mode is used. If depends\n    // on the surrounding mode, but \"endsWithParent\" does not work here (i.e. it includes the\n    // end-token of the surrounding mode)\n  };\n\n  const SUB_EXPRESSION_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    className: 'name',\n    keywords: BUILT_INS,\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /\\)/,\n    })\n  });\n\n  SUB_EXPRESSION.contains = [\n    SUB_EXPRESSION_CONTENTS\n  ];\n\n  const OPENING_BLOCK_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: BUILT_INS,\n    className: 'name',\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /}}/,\n    })\n  });\n\n  const CLOSING_BLOCK_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    keywords: BUILT_INS,\n    className: 'name'\n  });\n\n  const BASIC_MUSTACHE_CONTENTS = hljs.inherit(HELPER_NAME_OR_PATH_EXPRESSION, {\n    className: 'name',\n    keywords: BUILT_INS,\n    starts: hljs.inherit(HELPER_PARAMETERS, {\n      end: /}}/,\n    })\n  });\n\n  const ESCAPE_MUSTACHE_WITH_PRECEEDING_BACKSLASH = {begin: /\\\\\\{\\{/, skip: true};\n  const PREVENT_ESCAPE_WITH_ANOTHER_PRECEEDING_BACKSLASH = {begin: /\\\\\\\\(?=\\{\\{)/, skip: true};\n\n  return {\n    name: 'Handlebars',\n    aliases: ['hbs', 'html.hbs', 'html.handlebars', 'htmlbars'],\n    case_insensitive: true,\n    subLanguage: 'xml',\n    contains: [\n      ESCAPE_MUSTACHE_WITH_PRECEEDING_BACKSLASH,\n      PREVENT_ESCAPE_WITH_ANOTHER_PRECEEDING_BACKSLASH,\n      hljs.COMMENT(/\\{\\{!--/, /--\\}\\}/),\n      hljs.COMMENT(/\\{\\{!/, /\\}\\}/),\n      {\n        // open raw block \"{{{{raw}}}} content not evaluated {{{{/raw}}}}\"\n        className: 'template-tag',\n        begin: /\\{\\{\\{\\{(?!\\/)/,\n        end: /\\}\\}\\}\\}/,\n        contains: [OPENING_BLOCK_MUSTACHE_CONTENTS],\n        starts: {end: /\\{\\{\\{\\{\\//, returnEnd: true, subLanguage: 'xml'}\n      },\n      {\n        // close raw block\n        className: 'template-tag',\n        begin: /\\{\\{\\{\\{\\//,\n        end: /\\}\\}\\}\\}/,\n        contains: [CLOSING_BLOCK_MUSTACHE_CONTENTS]\n      },\n      {\n        // open block statement\n        className: 'template-tag',\n        begin: /\\{\\{#/,\n        end: /\\}\\}/,\n        contains: [OPENING_BLOCK_MUSTACHE_CONTENTS],\n      },\n      {\n        className: 'template-tag',\n        begin: /\\{\\{(?=else\\}\\})/,\n        end: /\\}\\}/,\n        keywords: 'else'\n      },\n      {\n        className: 'template-tag',\n        begin: /\\{\\{(?=else if)/,\n        end: /\\}\\}/,\n        keywords: 'else if'\n      },\n      {\n        // closing block statement\n        className: 'template-tag',\n        begin: /\\{\\{\\//,\n        end: /\\}\\}/,\n        contains: [CLOSING_BLOCK_MUSTACHE_CONTENTS],\n      },\n      {\n        // template variable or helper-call that is NOT html-escaped\n        className: 'template-variable',\n        begin: /\\{\\{\\{/,\n        end: /\\}\\}\\}/,\n        contains: [BASIC_MUSTACHE_CONTENTS]\n      },\n      {\n        // template variable or helper-call that is html-escaped\n        className: 'template-variable',\n        begin: /\\{\\{/,\n        end: /\\}\\}/,\n        contains: [BASIC_MUSTACHE_CONTENTS]\n      }\n    ]\n  };\n}\n\n/*\n Language: HTMLBars (legacy)\n Requires: xml.js\n Description: Matcher for Handlebars as well as EmberJS additions.\n Website: https://github.com/tildeio/htmlbars\n Category: template\n */\n\nfunction htmlbars(hljs) {\n  const definition = handlebars(hljs);\n\n  definition.name = \"HTMLbars\";\n\n  // HACK: This lets handlebars do the auto-detection if it's been loaded (by\n  // default the build script will load in alphabetical order) and if not (perhaps\n  // an install is only using `htmlbars`, not `handlebars`) then this will still\n  // allow HTMLBars to participate in the auto-detection\n\n  // worse case someone will have HTMLbars and handlebars competing for the same\n  // content and will need to change their setup to only require handlebars, but\n  // I don't consider this a breaking change\n  if (hljs.getLanguage(\"handlebars\")) {\n    definition.disableAutodetect = true;\n  }\n\n  return definition\n}\n\nmodule.exports = htmlbars;\n","/*\nLanguage: JSON\nDescription: JSON (JavaScript Object Notation) is a lightweight data-interchange format.\nAuthor: Ivan Sagalaev <maniac@softwaremaniacs.org>\nWebsite: http://www.json.org\nCategory: common, protocols\n*/\n\nfunction json(hljs) {\n  var LITERALS = {literal: 'true false null'};\n  var ALLOWED_COMMENTS = [\n    hljs.C_LINE_COMMENT_MODE,\n    hljs.C_BLOCK_COMMENT_MODE\n  ];\n  var TYPES = [\n    hljs.QUOTE_STRING_MODE,\n    hljs.C_NUMBER_MODE\n  ];\n  var VALUE_CONTAINER = {\n    end: ',', endsWithParent: true, excludeEnd: true,\n    contains: TYPES,\n    keywords: LITERALS\n  };\n  var OBJECT = {\n    begin: '{', end: '}',\n    contains: [\n      {\n        className: 'attr',\n        begin: /\"/, end: /\"/,\n        contains: [hljs.BACKSLASH_ESCAPE],\n        illegal: '\\\\n',\n      },\n      hljs.inherit(VALUE_CONTAINER, {begin: /:/})\n    ].concat(ALLOWED_COMMENTS),\n    illegal: '\\\\S'\n  };\n  var ARRAY = {\n    begin: '\\\\[', end: '\\\\]',\n    contains: [hljs.inherit(VALUE_CONTAINER)], // inherit is a workaround for a bug that makes shared modes with endsWithParent compile only the ending of one of the parents\n    illegal: '\\\\S'\n  };\n  TYPES.push(OBJECT, ARRAY);\n  ALLOWED_COMMENTS.forEach(function(rule) {\n    TYPES.push(rule);\n  });\n  return {\n    name: 'JSON',\n    contains: TYPES,\n    keywords: LITERALS,\n    illegal: '\\\\S'\n  };\n}\n\nmodule.exports = json;\n","/*\nLanguage: Markdown\nRequires: xml.js\nAuthor: John Crepezzi <john.crepezzi@gmail.com>\nWebsite: https://daringfireball.net/projects/markdown/\nCategory: common, markup\n*/\n\nfunction markdown(hljs) {\n  const INLINE_HTML = {\n    begin: '<', end: '>',\n    subLanguage: 'xml',\n    relevance: 0\n  };\n  const HORIZONTAL_RULE = {\n    begin: '^[-\\\\*]{3,}', end: '$'\n  };\n  const CODE = {\n    className: 'code',\n    variants: [\n      // TODO: fix to allow these to work with sublanguage also\n      { begin: '(`{3,})(.|\\\\n)*?\\\\1`*[ ]*', },\n      { begin: '(~{3,})(.|\\\\n)*?\\\\1~*[ ]*', },\n      // needed to allow markdown as a sublanguage to work\n      { begin: '```', end: '```+[ ]*$' },\n      { begin: '~~~', end: '~~~+[ ]*$' },\n      { begin: '`.+?`' },\n      {\n        begin: '(?=^( {4}|\\\\t))',\n        // use contains to gobble up multiple lines to allow the block to be whatever size\n        // but only have a single open/close tag vs one per line\n        contains: [\n          { begin: '^( {4}|\\\\t)', end: '(\\\\n)$' }\n        ],\n        relevance: 0\n      }\n    ]\n  };\n  const LIST = {\n    className: 'bullet',\n    begin: '^[ \\t]*([*+-]|(\\\\d+\\\\.))(?=\\\\s+)',\n    end: '\\\\s+',\n    excludeEnd: true\n  };\n  const LINK_REFERENCE = {\n    begin: /^\\[[^\\n]+\\]:/,\n    returnBegin: true,\n    contains: [\n      {\n        className: 'symbol',\n        begin: /\\[/, end: /\\]/,\n        excludeBegin: true, excludeEnd: true\n      },\n      {\n        className: 'link',\n        begin: /:\\s*/, end: /$/,\n        excludeBegin: true\n      }\n    ]\n  };\n  const LINK = {\n    begin: '\\\\[.+?\\\\][\\\\(\\\\[].*?[\\\\)\\\\]]',\n    returnBegin: true,\n    contains: [\n      {\n        className: 'string',\n        begin: '\\\\[', end: '\\\\]',\n        excludeBegin: true,\n        returnEnd: true,\n        relevance: 0\n      },\n      {\n        className: 'link',\n        begin: '\\\\]\\\\(', end: '\\\\)',\n        excludeBegin: true, excludeEnd: true\n      },\n      {\n        className: 'symbol',\n        begin: '\\\\]\\\\[', end: '\\\\]',\n        excludeBegin: true, excludeEnd: true\n      }\n    ],\n    relevance: 10\n  };\n  const BOLD = {\n    className: 'strong',\n    contains: [],\n    variants: [\n      {begin: /_{2}/, end: /_{2}/ },\n      {begin: /\\*{2}/, end: /\\*{2}/ }\n    ]\n  };\n  const ITALIC = {\n    className: 'emphasis',\n    contains: [],\n    variants: [\n      { begin: /\\*(?!\\*)/, end: /\\*/ },\n      { begin: /_(?!_)/, end: /_/, relevance: 0},\n    ]\n  };\n  BOLD.contains.push(ITALIC);\n  ITALIC.contains.push(BOLD);\n\n  var CONTAINABLE = [\n    INLINE_HTML,\n    LINK\n  ];\n\n  BOLD.contains = BOLD.contains.concat(CONTAINABLE);\n  ITALIC.contains = ITALIC.contains.concat(CONTAINABLE);\n\n  CONTAINABLE = CONTAINABLE.concat(BOLD,ITALIC);\n\n  const HEADER = {\n    className: 'section',\n    variants: [\n      {\n        begin: '^#{1,6}',\n        end: '$',\n        contains: CONTAINABLE\n       },\n      {\n        begin: '(?=^.+?\\\\n[=-]{2,}$)',\n        contains: [\n          { begin: '^[=-]*$' },\n          { begin: '^', end: \"\\\\n\", contains: CONTAINABLE },\n        ]\n       }\n    ]\n  };\n\n  const BLOCKQUOTE = {\n    className: 'quote',\n    begin: '^>\\\\s+',\n    contains: CONTAINABLE,\n    end: '$',\n  };\n\n  return {\n    name: 'Markdown',\n    aliases: ['md', 'mkdown', 'mkd'],\n    contains: [\n      HEADER,\n      INLINE_HTML,\n      LIST,\n      BOLD,\n      ITALIC,\n      BLOCKQUOTE,\n      CODE,\n      HORIZONTAL_RULE,\n      LINK,\n      LINK_REFERENCE\n    ]\n  };\n}\n\nmodule.exports = markdown;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * This method is like `_.findIndex` except that it iterates over elements\n * of `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=array.length-1] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n * // => 2\n *\n * // The `_.matches` iteratee shorthand.\n * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n * // => 0\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findLastIndex(users, ['active', false]);\n * // => 2\n *\n * // The `_.property` iteratee shorthand.\n * _.findLastIndex(users, 'active');\n * // => 0\n */\nfunction findLastIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = length - 1;\n  if (fromIndex !== undefined) {\n    index = toInteger(fromIndex);\n    index = fromIndex < 0\n      ? nativeMax(length + index, 0)\n      : nativeMin(index, length - 1);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index, true);\n}\n\nmodule.exports = findLastIndex;\n","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * This method is like `_.flatMap` except that it recursively flattens the\n * mapped results.\n *\n * @static\n * @memberOf _\n * @since 4.7.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [[[n, n]]];\n * }\n *\n * _.flatMapDeep([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMapDeep(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), INFINITY);\n}\n\nmodule.exports = flatMapDeep;\n","var createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nmodule.exports = snakeCase;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n}\n\nmodule.exports = uniqWith;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar tslib_1 = require('tslib');\nvar React = require('react');\n\nvar COLORS = {\n    BLACK: '#000',\n    BLUE: '#00f',\n    DARKGRAY: '#ddd',\n    GRAY: '#eee',\n    GREEN: '#0f0',\n    RED: '#f00',\n    WHITE: '#fff',\n};\nvar KEYS = {\n    BACKSPACE: 8,\n    TAB: 9,\n    ENTER: 13,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n};\nvar BLUR_DELAY = 200;\nvar DEFAULT_HEIGHT = 50;\n\nvar INPUT_STYLE = {\n    borderColor: COLORS.DARKGRAY,\n    borderStyle: 'solid',\n    borderWidth: 1,\n    boxSizing: 'border-box',\n    fontSize: 24,\n    height: DEFAULT_HEIGHT,\n    lineHeight: '24px',\n    outline: 0,\n    paddingLeft: 15,\n    paddingRight: 15,\n    width: '100%',\n};\nvar Input = /** @class */ (function (_super) {\n    tslib_1.__extends(Input, _super);\n    function Input() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Input.prototype.render = function () {\n        var _a = this.props, style = _a.style, rest = tslib_1.__rest(_a, [\"style\"]);\n        return React.createElement(\"input\", tslib_1.__assign({ type: \"text\", style: tslib_1.__assign({}, INPUT_STYLE, style) }, rest));\n    };\n    return Input;\n}(React.PureComponent));\n\nvar ITEM_STYLE = {\n    borderBottomWidth: 1,\n    borderColor: COLORS.DARKGRAY,\n    borderLeftWidth: 1,\n    borderRightWidth: 1,\n    borderStyle: 'solid',\n    borderTopWidth: 0,\n    boxSizing: 'border-box',\n    color: COLORS.BLACK,\n    display: 'block',\n    fontSize: 24,\n    height: DEFAULT_HEIGHT,\n    lineHeight: DEFAULT_HEIGHT + \"px\",\n    paddingLeft: 15,\n    paddingRight: 15,\n    textDecoration: 'none',\n};\nfunction AnchorRenderer(props) {\n    var item = props.item, isSelected = props.isSelected, isHighlighted = props.isHighlighted, style = props.style, rest = tslib_1.__rest(props, [\"item\", \"isSelected\", \"isHighlighted\", \"style\"]);\n    var mergedStyle = tslib_1.__assign({}, ITEM_STYLE, style);\n    if (isSelected) {\n        mergedStyle.backgroundColor = COLORS.GRAY;\n    }\n    if (isHighlighted) {\n        mergedStyle.backgroundColor = COLORS.DARKGRAY;\n    }\n    return (React.createElement(\"a\", tslib_1.__assign({ href: item.url, style: mergedStyle }, rest), item.title));\n}\n\nvar ResultsItem = /** @class */ (function (_super) {\n    tslib_1.__extends(ResultsItem, _super);\n    function ResultsItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            isHighlighted: false,\n        };\n        _this.handleMouseEnter = function (evt /* Event */) {\n            _this.setState({ isHighlighted: true });\n            _this.props.onMouseEnter && _this.props.onMouseEnter(evt);\n        };\n        _this.handleMouseLeave = function (evt /* Event */) {\n            _this.setState({ isHighlighted: false });\n            _this.props.onMouseLeave && _this.props.onMouseLeave(evt);\n        };\n        return _this;\n    }\n    ResultsItem.prototype.render = function () {\n        var item = this.props.item;\n        var renderer = this.props.children\n            ? this.props.children\n            : AnchorRenderer;\n        return renderer({\n            style: this.props.style,\n            item: item,\n            isSelected: this.props.isSelected,\n            isHighlighted: this.state.isHighlighted,\n            onMouseEnter: this.handleMouseEnter,\n            onMouseLeave: this.handleMouseLeave,\n            onClick: this.props.onClickItem,\n        });\n    };\n    ResultsItem.defaultProps = {\n        isSelected: false,\n    };\n    return ResultsItem;\n}(React.PureComponent));\n\nvar LIST_STYLE = {\n    position: 'absolute',\n    width: '100%',\n    zIndex: 2,\n    listStyleType: 'none',\n    margin: 0,\n    padding: 0,\n    backgroundColor: COLORS.WHITE,\n};\nfunction Results(props) {\n    var style = tslib_1.__assign({}, LIST_STYLE, props.style);\n    if (props.maxHeight) {\n        style.maxHeight = props.maxHeight;\n        style.borderBottomWidth = 1;\n        style.borderBottomColor = COLORS.GRAY;\n        style.borderBottomStyle = 'solid';\n        style.overflow = 'auto';\n    }\n    function createHandler(handler, key) {\n        return handler.bind(this, key);\n    }\n    return (React.createElement(\"ul\", { style: style, onMouseEnter: props.onMouseEnter, onMouseLeave: props.onMouseLeave }, props.items.map(function (item, key) { return (React.createElement(ResultsItem, { key: key, children: props.children, item: item, isSelected: props.selectedIndex === key, onMouseEnter: props.onMouseEnterItem && createHandler(props.onMouseEnterItem, key), onMouseLeave: props.onMouseLeaveItem && createHandler(props.onMouseLeaveItem, key), onClickItem: props.onClickItem })); })));\n}\n\n/**\n * Flatten a list of lists\n *\n * @param {Array<Array<T>>} lists\n * @return {Array<T>}\n */\nfunction flatten(list) {\n    return list.reduce(function (prev, next) {\n        return prev.concat(next);\n    }, []);\n}\n/**\n * Prevent a function from being called multiple times\n * repeatedly within a short time frame.\n *\n * @param {Function} fn\n * @param {number} wait\n * @return {Function}\n */\nfunction debounce(fn, wait) {\n    var _this = this;\n    var timeout = null;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var ctx = _this;\n        var later = function () {\n            timeout = null;\n            fn.apply(ctx, args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n}\nfunction compose() {\n    var funcs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        funcs[_i] = arguments[_i];\n    }\n    return funcs.reduce(function (f, g) { return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return f(g.apply(void 0, args));\n    }; });\n}\n\n/**\n * Does a search for the given `query` against the list of `extensions`\n * and returns a Promise that results into a list of `ResultItem`.\n *\n * @param {string} query\n * @param {Array<Extension>} extension\n * @return {Promise<Array<T>>}\n */\nfunction search(query, extensions) {\n    var results = [];\n    // iterate through all extensions and compile them into `results` list\n    for (var _i = 0, extensions_1 = extensions; _i < extensions_1.length; _i++) {\n        var extension = extensions_1[_i];\n        if (typeof extension === 'function') {\n            results.push(extension.call(null, query));\n        }\n    }\n    return Promise.all(results).then(function (groups) { return flatten(groups); });\n}\n\nfunction AnchorAction(item) {\n    if (item.url) {\n        window.location.href = item.url;\n    }\n}\n\nvar Omnibar = /** @class */ (function (_super) {\n    tslib_1.__extends(Omnibar, _super);\n    function Omnibar(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            displayResults: false,\n            hoveredIndex: -1,\n            results: [],\n            selectedIndex: 0,\n        };\n        _this.query = function (value) {\n            if (_this.props.extensions.length > 0) {\n                search(value, _this.props.extensions).then(function (results) {\n                    _this.setState({\n                        results: _this.props.maxResults > 0\n                            ? results.slice(0, _this.props.maxResults)\n                            : results,\n                        displayResults: results.length > 0,\n                    });\n                    _this.props.onQuery && _this.props.onQuery(results);\n                });\n            }\n        };\n        _this.prev = function () {\n            _this.setState(function (prevState) {\n                var selectedIndex = prevState.selectedIndex - 1;\n                if (selectedIndex >= 0) {\n                    return { selectedIndex: selectedIndex };\n                }\n            });\n        };\n        _this.next = function () {\n            _this.setState(function (prevState) {\n                var selectedIndex = prevState.selectedIndex + 1;\n                if (selectedIndex < prevState.results.length) {\n                    return { selectedIndex: selectedIndex };\n                }\n            });\n        };\n        _this.action = function () {\n            // uses the hovered index if the user is currently\n            // mousing over an item, falls back on the\n            // selected index\n            var idx = _this.state.hoveredIndex > -1\n                ? _this.state.hoveredIndex\n                : _this.state.selectedIndex;\n            var item = _this.state.results[idx];\n            var action = _this.props.onAction || AnchorAction;\n            action.call(null, item);\n        };\n        _this.handleChange = function (evt) {\n            var value = evt.target.value;\n            if (value) {\n                _this.query(value);\n            }\n            else {\n                _this.reset();\n            }\n        };\n        _this.handleKeyDown = function (evt /* Event */) {\n            switch (evt.keyCode) {\n                case KEYS.UP:\n                    _this.prev();\n                    break;\n                case KEYS.DOWN:\n                    _this.next();\n                    break;\n                case KEYS.ENTER:\n                    _this.action();\n                    break;\n            }\n        };\n        _this.handleMouseEnterItem = function (hoveredIndex) {\n            _this.setState({ hoveredIndex: hoveredIndex });\n        };\n        _this.handleMouseLeave = function () {\n            _this.setState({ hoveredIndex: -1 });\n        };\n        _this.handleBlur = function () {\n            setTimeout(function () { return _this.setState({ displayResults: false }); }, BLUR_DELAY);\n        };\n        _this.handleFocus = function () {\n            _this.setState({ displayResults: true });\n        };\n        _this.handleClickItem = function (e) {\n            e.preventDefault();\n            if (_this.state.hoveredIndex > -1) {\n                _this.action();\n            }\n        };\n        _this.query = debounce(_this.query, _this.props.inputDelay);\n        return _this;\n    }\n    Omnibar.prototype.reset = function () {\n        this.setState({\n            results: [],\n            displayResults: false,\n        });\n    };\n    Omnibar.prototype.render = function () {\n        var _a = this.props, children = _a.children, render = _a.render, maxResults = _a.maxResults, maxViewableResults = _a.maxViewableResults, extensions = _a.extensions, inputDelay = _a.inputDelay, rootStyle = _a.rootStyle, resultStyle = _a.resultStyle, onQuery = _a.onQuery, onAction = _a.onAction, rest = tslib_1.__rest(_a, [\"children\", \"render\", \"maxResults\", \"maxViewableResults\", \"extensions\", \"inputDelay\", \"rootStyle\", \"resultStyle\", \"onQuery\", \"onAction\"]);\n        var maxHeight = maxViewableResults\n            ? maxViewableResults * DEFAULT_HEIGHT\n            : null;\n        if (!render) {\n            render = children;\n        }\n        return (React.createElement(\"div\", { style: rootStyle },\n            React.createElement(Input, tslib_1.__assign({}, rest, { onBlur: this.handleBlur, onChange: this.handleChange, onFocus: this.handleFocus, onKeyDown: this.handleKeyDown })),\n            this.state.displayResults && (React.createElement(Results, { children: render, items: this.state.results, maxHeight: maxHeight, onClickItem: this.handleClickItem, onMouseEnterItem: this.handleMouseEnterItem, onMouseLeave: this.handleMouseLeave, selectedIndex: this.state.selectedIndex, style: resultStyle }))));\n    };\n    // TODO - fix generic container\n    Omnibar.defaultProps = {\n        children: null,\n        extensions: [],\n        inputDelay: 100,\n        maxResults: null,\n        maxViewableResults: null,\n        render: null,\n        resultStyle: {},\n        rootStyle: { position: 'relative' },\n    };\n    return Omnibar;\n}(React.PureComponent));\n\n/**\n * Filter your extension through a command prefix. (eg: 'user')\n *\n * @param {Omnibar.Extension} extension\n * @param {string} command\n * @return {Omnibar.Results}\n */\nfunction command(extension, command) {\n    var prefix = new RegExp(\"^\" + command + \"\\\\s\", 'i');\n    return function (query) {\n        // down-case for comparison\n        var lc = command.toLowerCase();\n        var lq = query.toLowerCase();\n        if (lc === lq) {\n            return [];\n        }\n        if (!lq.startsWith(lc + ' ')) {\n            return [];\n        }\n        return extension(query.replace(prefix, '').trim());\n    };\n}\n\n// Credits: http://www.flaticon.com/free-icon/microphone_159802#term=microphone&page=1&position=49\nfunction Microphone(props) {\n    var fill = props.active ? '#000' : '#ccc';\n    return (React.createElement(\"svg\", { width: props.width, height: props.height, fill: fill, x: \"0px\", y: \"0px\", viewBox: \"0 0 490.9 490.9\" },\n        React.createElement(\"g\", null,\n            React.createElement(\"g\", null,\n                React.createElement(\"path\", { d: \"M245.5,322.9c53,0,96.2-43.2,96.2-96.2V96.2c0-53-43.2-96.2-96.2-96.2s-96.2,43.2-96.2,96.2v130.5C149.3,279.8,192.5,322.9,245.5,322.9z M173.8,96.2c0-39.5,32.2-71.7,71.7-71.7s71.7,32.2,71.7,71.7v130.5c0,39.5-32.2,71.7-71.7,71.7s-71.7-32.2-71.7-71.7V96.2z\" }),\n                React.createElement(\"path\", { d: \"M94.4,214.5c-6.8,0-12.3,5.5-12.3,12.3c0,85.9,66.7,156.6,151.1,162.8v76.7h-63.9c-6.8,0-12.3,5.5-12.3,12.3s5.5,12.3,12.3,12.3h152.3c6.8,0,12.3-5.5,12.3-12.3s-5.5-12.3-12.3-12.3h-63.9v-76.7c84.4-6.3,151.1-76.9,151.1-162.8c0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3c0,76.6-62.3,138.9-138.9,138.9s-138.9-62.3-138.9-138.9C106.6,220,101.2,214.5,94.4,214.5z\" }))),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null),\n        React.createElement(\"g\", null)));\n}\n\nfunction withVoice(Component) {\n    return /** @class */ (function (_super) {\n        tslib_1.__extends(VoiceOmnibar, _super);\n        function VoiceOmnibar(props) {\n            var _this = _super.call(this, props) || this;\n            _this.state = {\n                value: '',\n                isSpeaking: false,\n            };\n            _this.recognition = null;\n            _this.speak = function () {\n                _this.recognition.lang = 'en-US';\n                _this.setState({ isSpeaking: true });\n                _this.recognition.start();\n            };\n            _this.recognition = null;\n            return _this;\n        }\n        VoiceOmnibar.prototype.componentDidMount = function () {\n            var _this = this;\n            if ('webkitSpeechRecognition' in window) {\n                var recognition = new webkitSpeechRecognition();\n                recognition.continuous = true;\n                recognition.onresult = function (evt) {\n                    for (var i = evt.resultIndex; i < evt.results.length; ++i) {\n                        _this.setState({ value: evt.results[i][0].transcript });\n                    }\n                };\n                this.recognition = recognition;\n            }\n        };\n        VoiceOmnibar.prototype.render = function () {\n            var base = {\n                position: 'relative',\n            };\n            var mic = {\n                position: 'absolute',\n                right: 0,\n                top: 0,\n                border: 0,\n                backgroundColor: 'transparent',\n                lineHeight: DEFAULT_HEIGHT + \"px\",\n                fontSize: 24,\n                paddingRight: 15,\n                paddingTop: 0,\n                paddingBottom: 0,\n                paddingLeft: 15,\n            };\n            var style = this.props.style || {};\n            if (this.state.isSpeaking) {\n                style.backgroundColor = 'rgba(0, 255, 0, 0.075)';\n            }\n            return (React.createElement(\"div\", { style: base },\n                React.createElement(Component, tslib_1.__assign({}, this.props, { value: this.state.value, style: style })),\n                React.createElement(\"button\", { onClick: this.speak, style: mic },\n                    React.createElement(Microphone, { width: 24, height: 24, active: this.state.isSpeaking }))));\n        };\n        return VoiceOmnibar;\n    }(React.Component));\n}\n/**\n * Extend your Omnibar with extensions\n */\nfunction withExtensions(extensions) {\n    return function (Component) {\n        return /** @class */ (function (_super) {\n            tslib_1.__extends(ExtendedOmnibar, _super);\n            function ExtendedOmnibar() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            ExtendedOmnibar.prototype.render = function () {\n                return React.createElement(Component, tslib_1.__assign({ extensions: extensions }, this.props));\n            };\n            return ExtendedOmnibar;\n        }(React.Component));\n    };\n}\n\nexports.default = Omnibar;\nexports.command = command;\nexports.compose = compose;\nexports.withExtensions = withExtensions;\nexports.withVoice = withVoice;\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Resizer } from './resizer';\nimport memoize from 'fast-memoize';\nvar DEFAULT_SIZE = {\n    width: 'auto',\n    height: 'auto',\n};\nvar clamp = memoize(function (n, min, max) { return Math.max(Math.min(n, max), min); });\nvar snap = memoize(function (n, size) { return Math.round(n / size) * size; });\nvar hasDirection = memoize(function (dir, target) {\n    return new RegExp(dir, 'i').test(target);\n});\n// INFO: In case of window is a Proxy and does not porxy Events correctly, use isTouchEvent & isMouseEvent to distinguish event type instead of `instanceof`.\nvar isTouchEvent = function (event) {\n    return Boolean(event.touches && event.touches.length);\n};\nvar isMouseEvent = function (event) {\n    return Boolean((event.clientX || event.clientX === 0) &&\n        (event.clientY || event.clientY === 0));\n};\nvar findClosestSnap = memoize(function (n, snapArray, snapGap) {\n    if (snapGap === void 0) { snapGap = 0; }\n    var closestGapIndex = snapArray.reduce(function (prev, curr, index) { return (Math.abs(curr - n) < Math.abs(snapArray[prev] - n) ? index : prev); }, 0);\n    var gap = Math.abs(snapArray[closestGapIndex] - n);\n    return snapGap === 0 || gap < snapGap ? snapArray[closestGapIndex] : n;\n});\nvar endsWith = memoize(function (str, searchStr) {\n    return str.substr(str.length - searchStr.length, searchStr.length) === searchStr;\n});\nvar getStringSize = memoize(function (n) {\n    n = n.toString();\n    if (n === 'auto') {\n        return n;\n    }\n    if (endsWith(n, 'px')) {\n        return n;\n    }\n    if (endsWith(n, '%')) {\n        return n;\n    }\n    if (endsWith(n, 'vh')) {\n        return n;\n    }\n    if (endsWith(n, 'vw')) {\n        return n;\n    }\n    if (endsWith(n, 'vmax')) {\n        return n;\n    }\n    if (endsWith(n, 'vmin')) {\n        return n;\n    }\n    return n + \"px\";\n});\nvar getPixelSize = function (size, parentSize, innerWidth, innerHeight) {\n    if (size && typeof size === 'string') {\n        if (endsWith(size, 'px')) {\n            return Number(size.replace('px', ''));\n        }\n        if (endsWith(size, '%')) {\n            var ratio = Number(size.replace('%', '')) / 100;\n            return parentSize * ratio;\n        }\n        if (endsWith(size, 'vw')) {\n            var ratio = Number(size.replace('vw', '')) / 100;\n            return innerWidth * ratio;\n        }\n        if (endsWith(size, 'vh')) {\n            var ratio = Number(size.replace('vh', '')) / 100;\n            return innerHeight * ratio;\n        }\n    }\n    return size;\n};\nvar calculateNewMax = memoize(function (parentSize, innerWidth, innerHeight, maxWidth, maxHeight, minWidth, minHeight) {\n    maxWidth = getPixelSize(maxWidth, parentSize.width, innerWidth, innerHeight);\n    maxHeight = getPixelSize(maxHeight, parentSize.height, innerWidth, innerHeight);\n    minWidth = getPixelSize(minWidth, parentSize.width, innerWidth, innerHeight);\n    minHeight = getPixelSize(minHeight, parentSize.height, innerWidth, innerHeight);\n    return {\n        maxWidth: typeof maxWidth === 'undefined' ? undefined : Number(maxWidth),\n        maxHeight: typeof maxHeight === 'undefined' ? undefined : Number(maxHeight),\n        minWidth: typeof minWidth === 'undefined' ? undefined : Number(minWidth),\n        minHeight: typeof minHeight === 'undefined' ? undefined : Number(minHeight),\n    };\n});\nvar definedProps = [\n    'as',\n    'style',\n    'className',\n    'grid',\n    'snap',\n    'bounds',\n    'size',\n    'defaultSize',\n    'minWidth',\n    'minHeight',\n    'maxWidth',\n    'maxHeight',\n    'lockAspectRatio',\n    'lockAspectRatioExtraWidth',\n    'lockAspectRatioExtraHeight',\n    'enable',\n    'handleStyles',\n    'handleClasses',\n    'handleWrapperStyle',\n    'handleWrapperClass',\n    'children',\n    'onResizeStart',\n    'onResize',\n    'onResizeStop',\n    'handleComponent',\n    'scale',\n    'resizeRatio',\n    'snapGap',\n];\n// HACK: This class is used to calculate % size.\nvar baseClassName = '__resizable_base__';\nvar Resizable = /** @class */ (function (_super) {\n    __extends(Resizable, _super);\n    function Resizable(props) {\n        var _this = _super.call(this, props) || this;\n        _this.ratio = 1;\n        _this.resizable = null;\n        // For parent boundary\n        _this.parentLeft = 0;\n        _this.parentTop = 0;\n        // For boundary\n        _this.resizableLeft = 0;\n        _this.resizableTop = 0;\n        // For target boundary\n        _this.targetLeft = 0;\n        _this.targetTop = 0;\n        _this.appendBase = function () {\n            if (!_this.resizable || !_this.window) {\n                return null;\n            }\n            var parent = _this.parentNode;\n            if (!parent) {\n                return null;\n            }\n            var element = _this.window.document.createElement('div');\n            element.style.width = '100%';\n            element.style.height = '100%';\n            element.style.position = 'absolute';\n            element.style.transform = 'scale(0, 0)';\n            element.style.left = '0';\n            element.style.flex = '0';\n            if (element.classList) {\n                element.classList.add(baseClassName);\n            }\n            else {\n                element.className += baseClassName;\n            }\n            parent.appendChild(element);\n            return element;\n        };\n        _this.removeBase = function (base) {\n            var parent = _this.parentNode;\n            if (!parent) {\n                return;\n            }\n            parent.removeChild(base);\n        };\n        _this.ref = function (c) {\n            if (c) {\n                _this.resizable = c;\n            }\n        };\n        _this.state = {\n            isResizing: false,\n            width: typeof (_this.propsSize && _this.propsSize.width) === 'undefined'\n                ? 'auto'\n                : _this.propsSize && _this.propsSize.width,\n            height: typeof (_this.propsSize && _this.propsSize.height) === 'undefined'\n                ? 'auto'\n                : _this.propsSize && _this.propsSize.height,\n            direction: 'right',\n            original: {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            },\n            backgroundStyle: {\n                height: '100%',\n                width: '100%',\n                backgroundColor: 'rgba(0,0,0,0)',\n                cursor: 'auto',\n                opacity: 0,\n                position: 'fixed',\n                zIndex: 9999,\n                top: '0',\n                left: '0',\n                bottom: '0',\n                right: '0',\n            },\n            flexBasis: undefined,\n        };\n        _this.onResizeStart = _this.onResizeStart.bind(_this);\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\n        _this.onMouseUp = _this.onMouseUp.bind(_this);\n        return _this;\n    }\n    Object.defineProperty(Resizable.prototype, \"parentNode\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            return this.resizable.parentNode;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"window\", {\n        get: function () {\n            if (!this.resizable) {\n                return null;\n            }\n            if (!this.resizable.ownerDocument) {\n                return null;\n            }\n            return this.resizable.ownerDocument.defaultView;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"propsSize\", {\n        get: function () {\n            return this.props.size || this.props.defaultSize || DEFAULT_SIZE;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"size\", {\n        get: function () {\n            var width = 0;\n            var height = 0;\n            if (this.resizable && this.window) {\n                var orgWidth = this.resizable.offsetWidth;\n                var orgHeight = this.resizable.offsetHeight;\n                // HACK: Set position `relative` to get parent size.\n                //       This is because when re-resizable set `absolute`, I can not get base width correctly.\n                var orgPosition = this.resizable.style.position;\n                if (orgPosition !== 'relative') {\n                    this.resizable.style.position = 'relative';\n                }\n                // INFO: Use original width or height if set auto.\n                width = this.resizable.style.width !== 'auto' ? this.resizable.offsetWidth : orgWidth;\n                height = this.resizable.style.height !== 'auto' ? this.resizable.offsetHeight : orgHeight;\n                // Restore original position\n                this.resizable.style.position = orgPosition;\n            }\n            return { width: width, height: height };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Resizable.prototype, \"sizeStyle\", {\n        get: function () {\n            var _this = this;\n            var size = this.props.size;\n            var getSize = function (key) {\n                if (typeof _this.state[key] === 'undefined' || _this.state[key] === 'auto') {\n                    return 'auto';\n                }\n                if (_this.propsSize && _this.propsSize[key] && endsWith(_this.propsSize[key].toString(), '%')) {\n                    if (endsWith(_this.state[key].toString(), '%')) {\n                        return _this.state[key].toString();\n                    }\n                    var parentSize = _this.getParentSize();\n                    var value = Number(_this.state[key].toString().replace('px', ''));\n                    var percent = (value / parentSize[key]) * 100;\n                    return percent + \"%\";\n                }\n                return getStringSize(_this.state[key]);\n            };\n            var width = size && typeof size.width !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.width)\n                : getSize('width');\n            var height = size && typeof size.height !== 'undefined' && !this.state.isResizing\n                ? getStringSize(size.height)\n                : getSize('height');\n            return { width: width, height: height };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Resizable.prototype.getParentSize = function () {\n        if (!this.parentNode) {\n            if (!this.window) {\n                return { width: 0, height: 0 };\n            }\n            return { width: this.window.innerWidth, height: this.window.innerHeight };\n        }\n        var base = this.appendBase();\n        if (!base) {\n            return { width: 0, height: 0 };\n        }\n        // INFO: To calculate parent width with flex layout\n        var wrapChanged = false;\n        var wrap = this.parentNode.style.flexWrap;\n        if (wrap !== 'wrap') {\n            wrapChanged = true;\n            this.parentNode.style.flexWrap = 'wrap';\n            // HACK: Use relative to get parent padding size\n        }\n        base.style.position = 'relative';\n        base.style.minWidth = '100%';\n        var size = {\n            width: base.offsetWidth,\n            height: base.offsetHeight,\n        };\n        if (wrapChanged) {\n            this.parentNode.style.flexWrap = wrap;\n        }\n        this.removeBase(base);\n        return size;\n    };\n    Resizable.prototype.bindEvents = function () {\n        if (this.window) {\n            this.window.addEventListener('mouseup', this.onMouseUp);\n            this.window.addEventListener('mousemove', this.onMouseMove);\n            this.window.addEventListener('mouseleave', this.onMouseUp);\n            this.window.addEventListener('touchmove', this.onMouseMove, {\n                capture: true,\n                passive: false,\n            });\n            this.window.addEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.unbindEvents = function () {\n        if (this.window) {\n            this.window.removeEventListener('mouseup', this.onMouseUp);\n            this.window.removeEventListener('mousemove', this.onMouseMove);\n            this.window.removeEventListener('mouseleave', this.onMouseUp);\n            this.window.removeEventListener('touchmove', this.onMouseMove, true);\n            this.window.removeEventListener('touchend', this.onMouseUp);\n        }\n    };\n    Resizable.prototype.componentDidMount = function () {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        this.setState({\n            width: this.state.width || this.size.width,\n            height: this.state.height || this.size.height,\n            flexBasis: computedStyle.flexBasis !== 'auto' ? computedStyle.flexBasis : undefined,\n        });\n    };\n    Resizable.prototype.componentWillUnmount = function () {\n        if (this.window) {\n            this.unbindEvents();\n        }\n    };\n    Resizable.prototype.createSizeForCssProperty = function (newSize, kind) {\n        var propsSize = this.propsSize && this.propsSize[kind];\n        return this.state[kind] === 'auto' &&\n            this.state.original[kind] === newSize &&\n            (typeof propsSize === 'undefined' || propsSize === 'auto')\n            ? 'auto'\n            : newSize;\n    };\n    Resizable.prototype.calculateNewMaxFromBoundary = function (maxWidth, maxHeight) {\n        if (this.props.bounds === 'parent') {\n            var parent_1 = this.parentNode;\n            if (parent_1) {\n                var boundWidth = parent_1.offsetWidth + (this.parentLeft - this.resizableLeft);\n                var boundHeight = parent_1.offsetHeight + (this.parentTop - this.resizableTop);\n                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n            }\n        }\n        else if (this.props.bounds === 'window') {\n            if (this.window) {\n                var boundWidth = this.window.innerWidth - this.resizableLeft;\n                var boundHeight = this.window.innerHeight - this.resizableTop;\n                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n            }\n        }\n        else if (this.props.bounds) {\n            var boundWidth = this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft);\n            var boundHeight = this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop);\n            maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;\n            maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;\n        }\n        return { maxWidth: maxWidth, maxHeight: maxHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromDirection = function (clientX, clientY) {\n        var scale = this.props.scale || 1;\n        var resizeRatio = this.props.resizeRatio || 1;\n        var _a = this.state, direction = _a.direction, original = _a.original;\n        var _b = this.props, lockAspectRatio = _b.lockAspectRatio, lockAspectRatioExtraHeight = _b.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _b.lockAspectRatioExtraWidth;\n        var newWidth = original.width;\n        var newHeight = original.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (hasDirection('right', direction)) {\n            newWidth = original.width + ((clientX - original.x) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('left', direction)) {\n            newWidth = original.width - ((clientX - original.x) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;\n            }\n        }\n        if (hasDirection('bottom', direction)) {\n            newHeight = original.height + ((clientY - original.y) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        if (hasDirection('top', direction)) {\n            newHeight = original.height - ((clientY - original.y) * resizeRatio) / scale;\n            if (lockAspectRatio) {\n                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;\n            }\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.calculateNewSizeFromAspectRatio = function (newWidth, newHeight, max, min) {\n        var _a = this.props, lockAspectRatio = _a.lockAspectRatio, lockAspectRatioExtraHeight = _a.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _a.lockAspectRatioExtraWidth;\n        var computedMinWidth = typeof min.width === 'undefined' ? 10 : min.width;\n        var computedMaxWidth = typeof max.width === 'undefined' || max.width < 0 ? newWidth : max.width;\n        var computedMinHeight = typeof min.height === 'undefined' ? 10 : min.height;\n        var computedMaxHeight = typeof max.height === 'undefined' || max.height < 0 ? newHeight : max.height;\n        var extraHeight = lockAspectRatioExtraHeight || 0;\n        var extraWidth = lockAspectRatioExtraWidth || 0;\n        if (lockAspectRatio) {\n            var extraMinWidth = (computedMinHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMaxWidth = (computedMaxHeight - extraHeight) * this.ratio + extraWidth;\n            var extraMinHeight = (computedMinWidth - extraWidth) / this.ratio + extraHeight;\n            var extraMaxHeight = (computedMaxWidth - extraWidth) / this.ratio + extraHeight;\n            var lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);\n            var lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);\n            var lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);\n            var lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);\n            newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);\n            newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);\n        }\n        else {\n            newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);\n            newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);\n        }\n        return { newWidth: newWidth, newHeight: newHeight };\n    };\n    Resizable.prototype.setBoundingClientRect = function () {\n        // For parent boundary\n        if (this.props.bounds === 'parent') {\n            var parent_2 = this.parentNode;\n            if (parent_2) {\n                var parentRect = parent_2.getBoundingClientRect();\n                this.parentLeft = parentRect.left;\n                this.parentTop = parentRect.top;\n            }\n        }\n        // For target(html element) boundary\n        if (this.props.bounds && typeof this.props.bounds !== 'string') {\n            var targetRect = this.props.bounds.getBoundingClientRect();\n            this.targetLeft = targetRect.left;\n            this.targetTop = targetRect.top;\n        }\n        // For boundary\n        if (this.resizable) {\n            var _a = this.resizable.getBoundingClientRect(), left = _a.left, top_1 = _a.top;\n            this.resizableLeft = left;\n            this.resizableTop = top_1;\n        }\n    };\n    Resizable.prototype.onResizeStart = function (event, direction) {\n        if (!this.resizable || !this.window) {\n            return;\n        }\n        var clientX = 0;\n        var clientY = 0;\n        if (event.nativeEvent && isMouseEvent(event.nativeEvent)) {\n            clientX = event.nativeEvent.clientX;\n            clientY = event.nativeEvent.clientY;\n            // When user click with right button the resize is stuck in resizing mode\n            // until users clicks again, dont continue if right click is used.\n            // HACK: MouseEvent does not have `which` from flow-bin v0.68.\n            if (event.nativeEvent.which === 3) {\n                return;\n            }\n        }\n        else if (event.nativeEvent && isTouchEvent(event.nativeEvent)) {\n            clientX = event.nativeEvent.touches[0].clientX;\n            clientY = event.nativeEvent.touches[0].clientY;\n        }\n        if (this.props.onResizeStart) {\n            if (this.resizable) {\n                var startResize = this.props.onResizeStart(event, direction, this.resizable);\n                if (startResize === false) {\n                    return;\n                }\n            }\n        }\n        // Fix #168\n        if (this.props.size) {\n            if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {\n                this.setState({ height: this.props.size.height });\n            }\n            if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {\n                this.setState({ width: this.props.size.width });\n            }\n        }\n        // For lockAspectRatio case\n        this.ratio =\n            typeof this.props.lockAspectRatio === 'number' ? this.props.lockAspectRatio : this.size.width / this.size.height;\n        var flexBasis;\n        var computedStyle = this.window.getComputedStyle(this.resizable);\n        if (computedStyle.flexBasis !== 'auto') {\n            var parent_3 = this.parentNode;\n            if (parent_3) {\n                var dir = this.window.getComputedStyle(parent_3).flexDirection;\n                this.flexDir = dir.startsWith('row') ? 'row' : 'column';\n                flexBasis = computedStyle.flexBasis;\n            }\n        }\n        // For boundary\n        this.setBoundingClientRect();\n        this.bindEvents();\n        var state = {\n            original: {\n                x: clientX,\n                y: clientY,\n                width: this.size.width,\n                height: this.size.height,\n            },\n            isResizing: true,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: this.window.getComputedStyle(event.target).cursor || 'auto' }),\n            direction: direction,\n            flexBasis: flexBasis,\n        };\n        this.setState(state);\n    };\n    Resizable.prototype.onMouseMove = function (event) {\n        if (!this.state.isResizing || !this.resizable || !this.window) {\n            return;\n        }\n        if (this.window.TouchEvent && isTouchEvent(event)) {\n            try {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            catch (e) {\n                // Ignore on fail\n            }\n        }\n        var _a = this.props, maxWidth = _a.maxWidth, maxHeight = _a.maxHeight, minWidth = _a.minWidth, minHeight = _a.minHeight;\n        var clientX = isTouchEvent(event) ? event.touches[0].clientX : event.clientX;\n        var clientY = isTouchEvent(event) ? event.touches[0].clientY : event.clientY;\n        var _b = this.state, direction = _b.direction, original = _b.original, width = _b.width, height = _b.height;\n        var parentSize = this.getParentSize();\n        var max = calculateNewMax(parentSize, this.window.innerWidth, this.window.innerHeight, maxWidth, maxHeight, minWidth, minHeight);\n        maxWidth = max.maxWidth;\n        maxHeight = max.maxHeight;\n        minWidth = max.minWidth;\n        minHeight = max.minHeight;\n        // Calculate new size\n        var _c = this.calculateNewSizeFromDirection(clientX, clientY), newHeight = _c.newHeight, newWidth = _c.newWidth;\n        // Calculate max size from boundary settings\n        var boundaryMax = this.calculateNewMaxFromBoundary(maxWidth, maxHeight);\n        // Calculate new size from aspect ratio\n        var newSize = this.calculateNewSizeFromAspectRatio(newWidth, newHeight, { width: boundaryMax.maxWidth, height: boundaryMax.maxHeight }, { width: minWidth, height: minHeight });\n        newWidth = newSize.newWidth;\n        newHeight = newSize.newHeight;\n        if (this.props.grid) {\n            var newGridWidth = snap(newWidth, this.props.grid[0]);\n            var newGridHeight = snap(newHeight, this.props.grid[1]);\n            var gap = this.props.snapGap || 0;\n            newWidth = gap === 0 || Math.abs(newGridWidth - newWidth) <= gap ? newGridWidth : newWidth;\n            newHeight = gap === 0 || Math.abs(newGridHeight - newHeight) <= gap ? newGridHeight : newHeight;\n        }\n        if (this.props.snap && this.props.snap.x) {\n            newWidth = findClosestSnap(newWidth, this.props.snap.x, this.props.snapGap);\n        }\n        if (this.props.snap && this.props.snap.y) {\n            newHeight = findClosestSnap(newHeight, this.props.snap.y, this.props.snapGap);\n        }\n        var delta = {\n            width: newWidth - original.width,\n            height: newHeight - original.height,\n        };\n        if (width && typeof width === 'string') {\n            if (endsWith(width, '%')) {\n                var percent = (newWidth / parentSize.width) * 100;\n                newWidth = percent + \"%\";\n            }\n            else if (endsWith(width, 'vw')) {\n                var vw = (newWidth / this.window.innerWidth) * 100;\n                newWidth = vw + \"vw\";\n            }\n            else if (endsWith(width, 'vh')) {\n                var vh = (newWidth / this.window.innerHeight) * 100;\n                newWidth = vh + \"vh\";\n            }\n        }\n        if (height && typeof height === 'string') {\n            if (endsWith(height, '%')) {\n                var percent = (newHeight / parentSize.height) * 100;\n                newHeight = percent + \"%\";\n            }\n            else if (endsWith(height, 'vw')) {\n                var vw = (newHeight / this.window.innerWidth) * 100;\n                newHeight = vw + \"vw\";\n            }\n            else if (endsWith(height, 'vh')) {\n                var vh = (newHeight / this.window.innerHeight) * 100;\n                newHeight = vh + \"vh\";\n            }\n        }\n        var newState = {\n            width: this.createSizeForCssProperty(newWidth, 'width'),\n            height: this.createSizeForCssProperty(newHeight, 'height'),\n        };\n        if (this.flexDir === 'row') {\n            newState.flexBasis = newState.width;\n        }\n        else if (this.flexDir === 'column') {\n            newState.flexBasis = newState.height;\n        }\n        this.setState(newState);\n        if (this.props.onResize) {\n            this.props.onResize(event, direction, this.resizable, delta);\n        }\n    };\n    Resizable.prototype.onMouseUp = function (event) {\n        var _a = this.state, isResizing = _a.isResizing, direction = _a.direction, original = _a.original;\n        if (!isResizing || !this.resizable) {\n            return;\n        }\n        var delta = {\n            width: this.size.width - original.width,\n            height: this.size.height - original.height,\n        };\n        if (this.props.onResizeStop) {\n            this.props.onResizeStop(event, direction, this.resizable, delta);\n        }\n        if (this.props.size) {\n            this.setState(this.props.size);\n        }\n        this.unbindEvents();\n        this.setState({\n            isResizing: false,\n            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: 'auto' }),\n        });\n    };\n    Resizable.prototype.updateSize = function (size) {\n        this.setState({ width: size.width, height: size.height });\n    };\n    Resizable.prototype.renderResizer = function () {\n        var _this = this;\n        var _a = this.props, enable = _a.enable, handleStyles = _a.handleStyles, handleClasses = _a.handleClasses, handleWrapperStyle = _a.handleWrapperStyle, handleWrapperClass = _a.handleWrapperClass, handleComponent = _a.handleComponent;\n        if (!enable) {\n            return null;\n        }\n        var resizers = Object.keys(enable).map(function (dir) {\n            if (enable[dir] !== false) {\n                return (React.createElement(Resizer, { key: dir, direction: dir, onResizeStart: _this.onResizeStart, replaceStyles: handleStyles && handleStyles[dir], className: handleClasses && handleClasses[dir] }, handleComponent && handleComponent[dir] ? handleComponent[dir] : null));\n            }\n            return null;\n        });\n        // #93 Wrap the resize box in span (will not break 100% width/height)\n        return (React.createElement(\"span\", { className: handleWrapperClass, style: handleWrapperStyle }, resizers));\n    };\n    Resizable.prototype.render = function () {\n        var _this = this;\n        var extendsProps = Object.keys(this.props).reduce(function (acc, key) {\n            if (definedProps.indexOf(key) !== -1) {\n                return acc;\n            }\n            acc[key] = _this.props[key];\n            return acc;\n        }, {});\n        var style = __assign(__assign(__assign({ position: 'relative', userSelect: this.state.isResizing ? 'none' : 'auto' }, this.props.style), this.sizeStyle), { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: 'border-box', flexShrink: 0 });\n        if (this.state.flexBasis) {\n            style.flexBasis = this.state.flexBasis;\n        }\n        var Wrapper = this.props.as || 'div';\n        return (React.createElement(Wrapper, __assign({ ref: this.ref, style: style, className: this.props.className }, extendsProps),\n            this.state.isResizing && React.createElement(\"div\", { style: this.state.backgroundStyle }),\n            this.props.children,\n            this.renderResizer()));\n    };\n    Resizable.defaultProps = {\n        as: 'div',\n        onResizeStart: function () { },\n        onResize: function () { },\n        onResizeStop: function () { },\n        enable: {\n            top: true,\n            right: true,\n            bottom: true,\n            left: true,\n            topRight: true,\n            bottomRight: true,\n            bottomLeft: true,\n            topLeft: true,\n        },\n        style: {},\n        grid: [1, 1],\n        lockAspectRatio: false,\n        lockAspectRatioExtraWidth: 0,\n        lockAspectRatioExtraHeight: 0,\n        scale: 1,\n        resizeRatio: 1,\n        snapGap: 0,\n    };\n    return Resizable;\n}(React.PureComponent));\nexport { Resizable };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nvar styles = {\n    top: {\n        width: '100%',\n        height: '10px',\n        top: '-5px',\n        left: '0px',\n        cursor: 'row-resize',\n    },\n    right: {\n        width: '10px',\n        height: '100%',\n        top: '0px',\n        right: '-5px',\n        cursor: 'col-resize',\n    },\n    bottom: {\n        width: '100%',\n        height: '10px',\n        bottom: '-5px',\n        left: '0px',\n        cursor: 'row-resize',\n    },\n    left: {\n        width: '10px',\n        height: '100%',\n        top: '0px',\n        left: '-5px',\n        cursor: 'col-resize',\n    },\n    topRight: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        right: '-10px',\n        top: '-10px',\n        cursor: 'ne-resize',\n    },\n    bottomRight: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        right: '-10px',\n        bottom: '-10px',\n        cursor: 'se-resize',\n    },\n    bottomLeft: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        left: '-10px',\n        bottom: '-10px',\n        cursor: 'sw-resize',\n    },\n    topLeft: {\n        width: '20px',\n        height: '20px',\n        position: 'absolute',\n        left: '-10px',\n        top: '-10px',\n        cursor: 'nw-resize',\n    },\n};\nvar Resizer = /** @class */ (function (_super) {\n    __extends(Resizer, _super);\n    function Resizer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onMouseDown = function (e) {\n            _this.props.onResizeStart(e, _this.props.direction);\n        };\n        _this.onTouchStart = function (e) {\n            _this.props.onResizeStart(e, _this.props.direction);\n        };\n        return _this;\n    }\n    Resizer.prototype.render = function () {\n        return (React.createElement(\"div\", { className: this.props.className || '', style: __assign(__assign({ position: 'absolute', userSelect: 'none' }, styles[this.props.direction]), (this.props.replaceStyles || {})), onMouseDown: this.onMouseDown, onTouchStart: this.onTouchStart }, this.props.children));\n    };\n    return Resizer;\n}(React.PureComponent));\nexport { Resizer };\n","/*! react-checkbox-tree - v1.5.1 | 2019 */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.ReactCheckboxTree=t(require(\"react\")):e.ReactCheckboxTree=t(e.React)}(window,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=27)}([function(e,t,n){e.exports=n(96)()},function(t,n){t.exports=e},function(e,t,n){var r=n(16),o=\"object\"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function(\"return this\")();e.exports=a},function(e,t,n){var r=n(41),o=n(47);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(31),o=n(32),a=n(33),i=n(34),c=n(35);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=c,e.exports=l},function(e,t,n){var r=n(14);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(12),o=n(43),a=n(44),i=\"[object Null]\",c=\"[object Undefined]\",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?c:i:l&&l in Object(e)?o(e):a(e)}},function(e,t,n){var r=n(3)(Object,\"create\");e.exports=r},function(e,t,n){var r=n(56);e.exports=function(e,t){var n=e.__data__;return r(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}},function(e,t){e.exports=function(e){return null!=e&&\"object\"==typeof e}},function(e,t,n){var r;\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n!function(){\"use strict\";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if(\"string\"===a||\"number\"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if(\"object\"===a)for(var c in r)n.call(r,c)&&r[c]&&e.push(c)}}return e.join(\" \")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(3)(n(2),\"Map\");e.exports=r},function(e,t,n){var r=n(2).Symbol;e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(6),o=n(17),a=\"[object AsyncFunction]\",i=\"[object Function]\",c=\"[object GeneratorFunction]\",l=\"[object Proxy]\";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==i||t==c||t==a||t==l}},function(e,t,n){(function(t){var n=\"object\"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(42))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},function(e,t,n){var r=n(48),o=n(55),a=n(57),i=n(58),c=n(59);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=c,e.exports=l},function(e,t,n){var r=n(60),o=n(63),a=n(64),i=1,c=2;e.exports=function(e,t,n,l,u,s){var p=n&i,f=e.length,d=t.length;if(f!=d&&!(p&&d>f))return!1;var h=s.get(e);if(h&&s.get(t))return h==t;var b=-1,y=!0,v=n&c?new r:void 0;for(s.set(e,t),s.set(t,e);++b<f;){var x=e[b],m=t[b];if(l)var g=p?l(m,x,b,t,e,s):l(x,m,b,e,t,s);if(void 0!==g){if(g)continue;y=!1;break}if(v){if(!o(t,function(e,t){if(!a(v,t)&&(x===e||u(x,e,n,l,s)))return v.push(t)})){y=!1;break}}else if(x!==m&&!u(x,m,n,l,s)){y=!1;break}}return s.delete(e),s.delete(t),y}},function(e,t,n){(function(e){var r=n(2),o=n(81),a=t&&!t.nodeType&&t,i=a&&\"object\"==typeof e&&e&&!e.nodeType&&e,c=i&&i.exports===a?r.Buffer:void 0,l=(c?c.isBuffer:void 0)||o;e.exports=l}).call(this,n(22)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(83),o=n(84),a=n(85),i=a&&a.isTypedArray,c=i?o(i):r;e.exports=c},function(e,t){var n=9007199254740991;e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(28);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=self.crypto||self.msCrypto;e.exports=function(e){e=e||21;for(var t=\"\",n=r.getRandomValues(new Uint8Array(e));0<e--;)t+=\"Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-\"[63&n[e]];return t}},function(e,t,n){e.exports=n(98).default},function(e,t,n){var r=n(29),o=n(9);e.exports=function e(t,n,a,i,c){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,a,i,e,c))}},function(e,t,n){var r=n(30),o=n(20),a=n(65),i=n(69),c=n(91),l=n(13),u=n(21),s=n(23),p=1,f=\"[object Arguments]\",d=\"[object Array]\",h=\"[object Object]\",b=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,y,v,x){var m=l(e),g=l(t),k=m?d:c(e),_=g?d:c(t),O=(k=k==f?h:k)==h,j=(_=_==f?h:_)==h,w=k==_;if(w&&u(e)){if(!u(t))return!1;m=!0,O=!1}if(w&&!O)return x||(x=new r),m||s(e)?o(e,t,n,y,v,x):a(e,t,k,n,y,v,x);if(!(n&p)){var C=O&&b.call(e,\"__wrapped__\"),E=j&&b.call(t,\"__wrapped__\");if(C||E){var P=C?e.value():e,N=E?t.value():t;return x||(x=new r),v(P,N,n,y,x)}}return!!w&&(x||(x=new r),i(e,t,n,y,v,x))}},function(e,t,n){var r=n(4),o=n(36),a=n(37),i=n(38),c=n(39),l=n(40);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=c,u.prototype.set=l,e.exports=u},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(5),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(5);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(5);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(5);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(4);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(4),o=n(11),a=n(19),i=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var c=n.__data__;if(!o||c.length<i-1)return c.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(c)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(15),o=n(45),a=n(17),i=n(18),c=/^\\[object .+?Constructor\\]$/,l=Function.prototype,u=Object.prototype,s=l.toString,p=u.hasOwnProperty,f=RegExp(\"^\"+s.call(p).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?f:c).test(i(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(12),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[c]=n:delete e[c]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(46),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+r:\"\";e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(2)[\"__core-js_shared__\"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(49),o=n(4),a=n(11);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},function(e,t,n){var r=n(50),o=n(51),a=n(52),i=n(53),c=n(54);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=c,e.exports=l},function(e,t,n){var r=n(7);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(7),o=\"__lodash_hash_undefined__\",a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(7),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(7),o=\"__lodash_hash_undefined__\";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},function(e,t,n){var r=n(8);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},function(e,t,n){var r=n(8);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(8);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(8);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(19),o=n(61),a=n(62);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},function(e,t){var n=\"__lodash_hash_undefined__\";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(12),o=n(66),a=n(14),i=n(20),c=n(67),l=n(68),u=1,s=2,p=\"[object Boolean]\",f=\"[object Date]\",d=\"[object Error]\",h=\"[object Map]\",b=\"[object Number]\",y=\"[object RegExp]\",v=\"[object Set]\",x=\"[object String]\",m=\"[object Symbol]\",g=\"[object ArrayBuffer]\",k=\"[object DataView]\",_=r?r.prototype:void 0,O=_?_.valueOf:void 0;e.exports=function(e,t,n,r,_,j,w){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case g:return!(e.byteLength!=t.byteLength||!j(new o(e),new o(t)));case p:case f:case b:return a(+e,+t);case d:return e.name==t.name&&e.message==t.message;case y:case x:return e==t+\"\";case h:var C=c;case v:var E=r&u;if(C||(C=l),e.size!=t.size&&!E)return!1;var P=w.get(e);if(P)return P==t;r|=s,w.set(e,t);var N=i(C(e),C(t),r,_,j,w);return w.delete(e),N;case m:if(O)return O.call(e)==O.call(t)}return!1}},function(e,t,n){var r=n(2).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(70),o=1,a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,c,l){var u=n&o,s=r(e),p=s.length;if(p!=r(t).length&&!u)return!1;for(var f=p;f--;){var d=s[f];if(!(u?d in t:a.call(t,d)))return!1}var h=l.get(e);if(h&&l.get(t))return h==t;var b=!0;l.set(e,t),l.set(t,e);for(var y=u;++f<p;){var v=e[d=s[f]],x=t[d];if(i)var m=u?i(x,v,d,t,e,l):i(v,x,d,e,t,l);if(!(void 0===m?v===x||c(v,x,n,i,l):m)){b=!1;break}y||(y=\"constructor\"==d)}if(b&&!y){var g=e.constructor,k=t.constructor;g!=k&&\"constructor\"in e&&\"constructor\"in t&&!(\"function\"==typeof g&&g instanceof g&&\"function\"==typeof k&&k instanceof k)&&(b=!1)}return l.delete(e),l.delete(t),b}},function(e,t,n){var r=n(71),o=n(73),a=n(76);e.exports=function(e){return r(e,a,o)}},function(e,t,n){var r=n(72),o=n(13);e.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(74),o=n(75),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,c=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return a.call(e,t)}))}:o;e.exports=c},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(77),o=n(86),a=n(90);e.exports=function(e){return a(e)?r(e):o(e)}},function(e,t,n){var r=n(78),o=n(79),a=n(13),i=n(21),c=n(82),l=n(23),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),s=!n&&o(e),p=!n&&!s&&i(e),f=!n&&!s&&!p&&l(e),d=n||s||p||f,h=d?r(e.length,String):[],b=h.length;for(var y in e)!t&&!u.call(e,y)||d&&(\"length\"==y||p&&(\"offset\"==y||\"parent\"==y)||f&&(\"buffer\"==y||\"byteLength\"==y||\"byteOffset\"==y)||c(y,b))||h.push(y);return h}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(80),o=n(9),a=Object.prototype,i=a.hasOwnProperty,c=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,\"callee\")&&!c.call(e,\"callee\")};e.exports=l},function(e,t,n){var r=n(6),o=n(9),a=\"[object Arguments]\";e.exports=function(e){return o(e)&&r(e)==a}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&(\"number\"==o||\"symbol\"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(6),o=n(24),a=n(9),i={};i[\"[object Float32Array]\"]=i[\"[object Float64Array]\"]=i[\"[object Int8Array]\"]=i[\"[object Int16Array]\"]=i[\"[object Int32Array]\"]=i[\"[object Uint8Array]\"]=i[\"[object Uint8ClampedArray]\"]=i[\"[object Uint16Array]\"]=i[\"[object Uint32Array]\"]=!0,i[\"[object Arguments]\"]=i[\"[object Array]\"]=i[\"[object ArrayBuffer]\"]=i[\"[object Boolean]\"]=i[\"[object DataView]\"]=i[\"[object Date]\"]=i[\"[object Error]\"]=i[\"[object Function]\"]=i[\"[object Map]\"]=i[\"[object Number]\"]=i[\"[object Object]\"]=i[\"[object RegExp]\"]=i[\"[object Set]\"]=i[\"[object String]\"]=i[\"[object WeakMap]\"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(16),o=t&&!t.nodeType&&t,a=o&&\"object\"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o&&r.process,c=function(){try{var e=a&&a.require&&a.require(\"util\").types;return e||i&&i.binding&&i.binding(\"util\")}catch(e){}}();e.exports=c}).call(this,n(22)(e))},function(e,t,n){var r=n(87),o=n(88),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(89)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(15),o=n(24);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(92),o=n(11),a=n(93),i=n(94),c=n(95),l=n(6),u=n(18),s=u(r),p=u(o),f=u(a),d=u(i),h=u(c),b=l;(r&&\"[object DataView]\"!=b(new r(new ArrayBuffer(1)))||o&&\"[object Map]\"!=b(new o)||a&&\"[object Promise]\"!=b(a.resolve())||i&&\"[object Set]\"!=b(new i)||c&&\"[object WeakMap]\"!=b(new c))&&(b=function(e){var t=l(e),n=\"[object Object]\"==t?e.constructor:void 0,r=n?u(n):\"\";if(r)switch(r){case s:return\"[object DataView]\";case p:return\"[object Map]\";case f:return\"[object Promise]\";case d:return\"[object Set]\";case h:return\"[object WeakMap]\"}return t}),e.exports=b},function(e,t,n){var r=n(3)(n(2),\"DataView\");e.exports=r},function(e,t,n){var r=n(3)(n(2),\"Promise\");e.exports=r},function(e,t,n){var r=n(3)(n(2),\"Set\");e.exports=r},function(e,t,n){var r=n(3)(n(2),\"WeakMap\");e.exports=r},function(e,t,n){\"use strict\";var r=n(97);function o(){}e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var c=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw c.name=\"Invariant Violation\",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(e,t,n){\"use strict\";n.r(t);var r=n(10),o=n.n(r),a=n(25),i=n.n(a),c=n(26),l=n.n(c),u=n(0),s=n.n(u),p=n(1),f=n.n(p);function d(e){return(d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||\"object\"!==d(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),v(this,x(t).apply(this,arguments))}var n,r,o;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,f.a.PureComponent),n=t,(r=[{key:\"render\",value:function(){var e=this.props,t=e.children,n=e.title,r=b(e,[\"children\",\"title\"]);return f.a.createElement(\"button\",h({\"aria-label\":n,title:n,type:\"button\"},r),t)}}])&&y(n.prototype,r),o&&y(n,o),t}();g(k,\"propTypes\",{children:s.a.node.isRequired,title:s.a.string}),g(k,\"defaultProps\",{title:null});var _=k;function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.props=t,this.flatNodes=n}var t,n,r;return t=e,(n=[{key:\"setProps\",value:function(e){this.props=e}},{key:\"clone\",value:function(){var t=this,n={};return Object.keys(this.flatNodes).forEach(function(e){var r=t.flatNodes[e];n[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){O(e,t,n[t])})}return e}({},r)}),new e(this.props,n)}},{key:\"getNode\",value:function(e){return this.flatNodes[e]}},{key:\"flattenNodes\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var o=this.props,a=o.disabled,i=o.noCascade;e.forEach(function(e,o){var c=t.nodeHasChildren(e);t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:n,isParent:c,isLeaf:!c,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,n,a,i),treeDepth:r,index:o},t.flattenNodes(e.children,e,r+1)})}}},{key:\"nodeHasChildren\",value:function(e){return Array.isArray(e.children)&&e.children.length>0}},{key:\"getDisabledState\",value:function(e,t,n,r){return!!n||(!(r||!t.disabled)||Boolean(e.disabled))}},{key:\"deserializeLists\",value:function(e){var t=this,n=[\"checked\",\"expanded\"];Object.keys(this.flatNodes).forEach(function(e){n.forEach(function(n){t.flatNodes[e][n]=!1})}),n.forEach(function(n){e[n].forEach(function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][n]=!0)})})}},{key:\"serializeList\",value:function(e){var t=this,n=[];return Object.keys(this.flatNodes).forEach(function(r){t.flatNodes[r][e]&&n.push(r)}),n}},{key:\"expandAllNodes\",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach(function(n){t.flatNodes[n].isParent&&(t.flatNodes[n].expanded=e)}),this}},{key:\"toggleChecked\",value:function(e,t,n){var r=this,o=this.flatNodes[e.value];if(o.isLeaf||n){if(e.disabled)return this;this.toggleNode(e.value,\"checked\",t)}else o.children.forEach(function(e){r.toggleChecked(e,t,n)});return this}},{key:\"toggleNode\",value:function(e,t,n){return this.flatNodes[e][t]=n,this}}])&&j(t.prototype,n),r&&j(t,r),e}();function C(e){return(C=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return!t||\"object\"!==C(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),N(this,S(t).apply(this,arguments))}var n,r,o;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(t,f.a.PureComponent),n=t,(r=[{key:\"componentDidMount\",value:function(){this.updateDeterminateProperty()}},{key:\"componentDidUpdate\",value:function(){this.updateDeterminateProperty()}},{key:\"updateDeterminateProperty\",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:\"render\",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){T(e,t,n[t])})}return e}({},this.props);return delete t.indeterminate,f.a.createElement(\"input\",E({},t,{ref:function(t){e.checkbox=t},type:\"checkbox\"}))}}])&&P(n.prototype,r),o&&P(n,o),t}();T(R,\"propTypes\",{indeterminate:s.a.bool}),T(R,\"defaultProps\",{indeterminate:!1});var I=R,L=s.a.shape({check:s.a.node,uncheck:s.a.node,halfCheck:s.a.node,expandClose:s.a.node,expandOpen:s.a.node,expandAll:s.a.node,collapseAll:s.a.node,parentClose:s.a.node,parentOpen:s.a.node,leaf:s.a.node}),z=s.a.shape({collapseAll:s.a.string.isRequired,expandAll:s.a.string.isRequired,toggle:s.a.string.isRequired});function q(e){return(q=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,(n=!(o=M(t).call(this,e))||\"object\"!==q(o)&&\"function\"!=typeof o?F(r):o).onCheck=n.onCheck.bind(F(F(n))),n.onClick=n.onClick.bind(F(F(n))),n.onExpand=n.onExpand.bind(F(F(n))),n}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,f.a.Component),n=t,(r=[{key:\"onCheck\",value:function(){var e=this.props,t=e.value,n=e.onCheck;n({value:t,checked:this.getCheckState({toggle:!0})})}},{key:\"onClick\",value:function(){var e=this.props,t=e.expandOnClick,n=e.isParent,r=e.value,o=e.onClick;n&&t&&this.onExpand(),o({value:r,checked:this.getCheckState({toggle:!1})})}},{key:\"onExpand\",value:function(){var e=this.props,t=e.expanded,n=e.value,r=e.onExpand;r({value:n,expanded:!t})}},{key:\"getCheckState\",value:function(e){var t=e.toggle,n=this.props,r=n.checked,o=n.optimisticToggle;return!(0!==r||!t)||(1===r&&!t||2===r&&o)}},{key:\"renderCollapseButton\",value:function(){var e=this.props,t=e.expandDisabled,n=e.isLeaf,r=e.lang;return n?f.a.createElement(\"span\",{className:\"rct-collapse\"},f.a.createElement(\"span\",{className:\"rct-icon\"})):f.a.createElement(_,{className:\"rct-collapse rct-collapse-btn\",disabled:t,title:r.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:\"renderCollapseIcon\",value:function(){var e=this.props,t=e.expanded,n=e.icons,r=n.expandClose,o=n.expandOpen;return t?o:r}},{key:\"renderCheckboxIcon\",value:function(){var e=this.props,t=e.checked,n=e.icons,r=n.uncheck,o=n.check,a=n.halfCheck;return 0===t?r:1===t?o:a}},{key:\"renderNodeIcon\",value:function(){var e=this.props,t=e.expanded,n=e.icon,r=e.icons,o=r.leaf,a=r.parentClose,i=r.parentOpen,c=e.isLeaf;return null!==n?n:c?o:t?i:a}},{key:\"renderBareLabel\",value:function(e){var t=this.props,n=t.onClick,r=t.title,o=null!==n;return f.a.createElement(\"span\",{className:\"rct-bare-label\",title:r},o?f.a.createElement(\"span\",{className:\"rct-node-clickable\",onClick:this.onClick,onKeyPress:this.onClick,role:\"button\",tabIndex:0},e):e)}},{key:\"renderCheckboxLabel\",value:function(e){var t=this.props,n=t.checked,r=t.disabled,o=t.title,a=t.treeId,i=t.value,c=null!==t.onClick,l=\"\".concat(a,\"-\").concat(String(i).split(\" \").join(\"_\")),u=[f.a.createElement(\"label\",{key:0,htmlFor:l,title:o},f.a.createElement(I,{checked:1===n,disabled:r,id:l,indeterminate:2===n,onClick:this.onCheck,onChange:function(){}}),f.a.createElement(\"span\",{className:\"rct-checkbox\"},this.renderCheckboxIcon()),c?null:e)];return c&&u.push(f.a.createElement(\"span\",{key:1,className:\"rct-node-clickable\",onClick:this.onClick,onKeyPress:this.onClick,role:\"link\",tabIndex:0},e)),u}},{key:\"renderLabel\",value:function(){var e=this.props,t=e.label,n=e.showCheckbox,r=[e.showNodeIcon?f.a.createElement(\"span\",{key:0,className:\"rct-node-icon\"},this.renderNodeIcon()):null,f.a.createElement(\"span\",{key:1,className:\"rct-title\"},t)];return n?this.renderCheckboxLabel(r):this.renderBareLabel(r)}},{key:\"renderChildren\",value:function(){return this.props.expanded?this.props.children:null}},{key:\"render\",value:function(){var e=this.props,t=e.className,n=e.disabled,r=e.expanded,a=e.isLeaf,i=o()({\"rct-node\":!0,\"rct-node-leaf\":a,\"rct-node-parent\":!a,\"rct-node-expanded\":!a&&r,\"rct-node-collapsed\":!a&&!r,\"rct-disabled\":n},t);return f.a.createElement(\"li\",{className:i},f.a.createElement(\"span\",{className:\"rct-text\"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&D(n.prototype,r),a&&D(n,a),t}();U(H,\"propTypes\",{checked:s.a.number.isRequired,disabled:s.a.bool.isRequired,expandDisabled:s.a.bool.isRequired,expanded:s.a.bool.isRequired,icons:L.isRequired,isLeaf:s.a.bool.isRequired,isParent:s.a.bool.isRequired,label:s.a.node.isRequired,lang:z.isRequired,optimisticToggle:s.a.bool.isRequired,showNodeIcon:s.a.bool.isRequired,treeId:s.a.string.isRequired,value:s.a.oneOfType([s.a.string,s.a.number]).isRequired,onCheck:s.a.func.isRequired,onExpand:s.a.func.isRequired,children:s.a.node,className:s.a.string,expandOnClick:s.a.bool,icon:s.a.node,showCheckbox:s.a.bool,title:s.a.string,onClick:s.a.func}),U(H,\"defaultProps\",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});var V=H,$=s.a.oneOfType([s.a.arrayOf(s.a.string),s.a.arrayOf(s.a.number)]);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J={label:s.a.node.isRequired,value:s.a.oneOfType([s.a.string,s.a.number]).isRequired,disabled:s.a.bool,icon:s.a.node,showCheckbox:s.a.bool,title:s.a.string},K=s.a.oneOfType([s.a.shape(J),s.a.shape(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){W(e,t,n[t])})}return e}({},J,{children:s.a.arrayOf(J).isRequired}))]);function G(e){return(G=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){te(e,t,n[t])})}return e}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,n=!(o=X(t).call(this,e))||\"object\"!==G(o)&&\"function\"!=typeof o?ee(r):o;var a=new w(e);return a.flattenNodes(e.nodes),a.deserializeLists({checked:e.checked,expanded:e.expanded}),n.state={id:e.id||\"rct-\".concat(l()(7)),model:a,prevProps:e},n.onCheck=n.onCheck.bind(ee(ee(n))),n.onExpand=n.onExpand.bind(ee(ee(n))),n.onNodeClick=n.onNodeClick.bind(ee(ee(n))),n.onExpandAll=n.onExpandAll.bind(ee(ee(n))),n.onCollapseAll=n.onCollapseAll.bind(ee(ee(n))),n}var n,r,a;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,f.a.Component),n=t,a=[{key:\"getDerivedStateFromProps\",value:function(e,t){var n=t.model,r=t.prevProps,o=e.disabled,a=e.id,c=e.nodes,l=Y({},t,{prevProps:e});return n.setProps(e),i()(r.nodes,c)&&r.disabled===o||n.flattenNodes(c),null!==a&&(l=Y({},l,{id:a})),n.deserializeLists({checked:e.checked,expanded:e.expanded}),l}}],(r=[{key:\"onCheck\",value:function(e){var t=this.props,n=t.noCascade,r=t.onCheck,o=this.state.model.clone(),a=o.getNode(e.value);o.toggleChecked(e,e.checked,n),r(o.serializeList(\"checked\"),Y({},a,e))}},{key:\"onExpand\",value:function(e){var t=this.props.onExpand,n=this.state.model.clone(),r=n.getNode(e.value);n.toggleNode(e.value,\"expanded\",e.expanded),t(n.serializeList(\"expanded\"),Y({},r,e))}},{key:\"onNodeClick\",value:function(e){(0,this.props.onClick)(Y({},this.state.model.getNode(e.value),e))}},{key:\"onExpandAll\",value:function(){this.expandAllNodes()}},{key:\"onCollapseAll\",value:function(){this.expandAllNodes(!1)}},{key:\"expandAllNodes\",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,this.props.onExpand)(this.state.model.clone().expandAllNodes(e).serializeList(\"expanded\"))}},{key:\"determineShallowCheckState\",value:function(e,t){var n=this.state.model.getNode(e.value);return n.isLeaf||t?n.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:\"isEveryChildChecked\",value:function(e){var t=this;return e.children.every(function(e){return 1===t.state.model.getNode(e.value).checkState})}},{key:\"isSomeChildChecked\",value:function(e){var t=this;return e.children.some(function(e){return t.state.model.getNode(e.value).checkState>0})}},{key:\"renderTreeNodes\",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.props,a=o.expandDisabled,i=o.expandOnClick,c=o.icons,l=o.lang,u=o.noCascade,s=o.onClick,p=o.onlyLeafCheckboxes,d=o.optimisticToggle,h=o.showNodeTitle,b=o.showNodeIcon,y=this.state,v=y.id,x=y.model,m=t.defaultProps.icons,g=e.map(function(e){var t=e.value,o=x.getNode(e.value),y=o.isParent?n.renderTreeNodes(e.children,e):null;o.checkState=n.determineShallowCheckState(e,u);var g=p?o.isLeaf:o.showCheckbox;return!r.value||x.getNode(r.value).expanded?f.a.createElement(V,{key:t,checked:o.checkState,className:e.className,disabled:o.disabled,expandDisabled:a,expandOnClick:i,expanded:o.expanded,icon:e.icon,icons:Y({},m,c),label:e.label,lang:l,optimisticToggle:d,isLeaf:o.isLeaf,isParent:o.isParent,showCheckbox:g,showNodeIcon:b,title:h?e.title||e.label:e.title,treeId:v,value:e.value,onCheck:n.onCheck,onClick:s&&n.onNodeClick,onExpand:n.onExpand},y):null});return f.a.createElement(\"ol\",null,g)}},{key:\"renderExpandAll\",value:function(){var e=this.props,t=e.icons,n=t.expandAll,r=t.collapseAll,o=e.lang;return e.showExpandAll?f.a.createElement(\"div\",{className:\"rct-options\"},f.a.createElement(_,{className:\"rct-option rct-option-expand-all\",title:o.expandAll,onClick:this.onExpandAll},n),f.a.createElement(_,{className:\"rct-option rct-option-collapse-all\",title:o.collapseAll,onClick:this.onCollapseAll},r)):null}},{key:\"renderHiddenInput\",value:function(){var e=this.props,t=e.name,n=e.nameAsArray;return void 0===t?null:n?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:\"renderArrayHiddenInput\",value:function(){var e=this.props,t=e.checked,n=e.name;return t.map(function(e){var t=\"\".concat(n,\"[]\");return f.a.createElement(\"input\",{key:e,name:t,type:\"hidden\",value:e})})}},{key:\"renderJoinedHiddenInput\",value:function(){var e=this.props,t=e.checked,n=e.name,r=t.join(\",\");return f.a.createElement(\"input\",{name:n,type:\"hidden\",value:r})}},{key:\"render\",value:function(){var e=this.props,t=e.disabled,n=e.nodes,r=e.nativeCheckboxes,a=this.renderTreeNodes(n),i=o()({\"react-checkbox-tree\":!0,\"rct-disabled\":t,\"rct-native-display\":r});return f.a.createElement(\"div\",{className:i},this.renderExpandAll(),this.renderHiddenInput(),a)}}])&&Q(n.prototype,r),a&&Q(n,a),t}();te(ne,\"propTypes\",{nodes:s.a.arrayOf(K).isRequired,checked:$,disabled:s.a.bool,expandDisabled:s.a.bool,expandOnClick:s.a.bool,expanded:$,icons:L,id:s.a.string,lang:z,name:s.a.string,nameAsArray:s.a.bool,nativeCheckboxes:s.a.bool,noCascade:s.a.bool,onlyLeafCheckboxes:s.a.bool,optimisticToggle:s.a.bool,showExpandAll:s.a.bool,showNodeIcon:s.a.bool,showNodeTitle:s.a.bool,onCheck:s.a.func,onClick:s.a.func,onExpand:s.a.func}),te(ne,\"defaultProps\",{checked:[],disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:f.a.createElement(\"span\",{className:\"rct-icon rct-icon-check\"}),uncheck:f.a.createElement(\"span\",{className:\"rct-icon rct-icon-uncheck\"}),halfCheck:f.a.createElement(\"span\",{className:\"rct-icon rct-icon-half-check\"}),expandClose:f.a.createElement(\"span\",{className:\"rct-icon rct-icon-expand-close\"}),expandOpen:f.a.createElement(\"span\",{className:\"rct-icon rct-icon-expand-open\"}),expandAll:f.a.createElement(\"span\",{className:\"rct-icon rct-icon-expand-all\"}),collapseAll:f.a.createElement(\"span\",{className:\"rct-icon rct-icon-collapse-all\"}),parentClose:f.a.createElement(\"span\",{className:\"rct-icon rct-icon-parent-close\"}),parentOpen:f.a.createElement(\"span\",{className:\"rct-icon rct-icon-parent-open\"}),leaf:f.a.createElement(\"span\",{className:\"rct-icon rct-icon-leaf\"})},id:null,lang:{collapseAll:\"Collapse all\",expandAll:\"Expand all\",toggle:\"Toggle\"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}});t.default=ne}])});","var content = require(\"!!../../css-loader/index.js??ref--7-1!./react-checkbox-tree.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { isRefable, checkDecoratorArguments } from './utils';\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer =\n    /** @class */\n    function () {\n      var DragLayerContainer = /*#__PURE__*/function (_React$Component) {\n        _inherits(DragLayerContainer, _React$Component);\n\n        var _super = _createSuper(DragLayerContainer);\n\n        function DragLayerContainer() {\n          var _this;\n\n          _classCallCheck(this, DragLayerContainer);\n\n          _this = _super.apply(this, arguments);\n          _this.isCurrentlyMounted = false;\n          _this.ref = React.createRef();\n\n          _this.handleChange = function () {\n            if (!_this.isCurrentlyMounted) {\n              return;\n            }\n\n            var nextState = _this.getCurrentState();\n\n            if (!shallowEqual(nextState, _this.state)) {\n              _this.setState(nextState);\n            }\n          };\n\n          return _this;\n        }\n\n        _createClass(DragLayerContainer, [{\n          key: \"getDecoratedComponentInstance\",\n          value: function getDecoratedComponentInstance() {\n            invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n            return this.ref.current;\n          }\n        }, {\n          key: \"shouldComponentUpdate\",\n          value: function shouldComponentUpdate(nextProps, nextState) {\n            return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n          }\n        }, {\n          key: \"componentDidMount\",\n          value: function componentDidMount() {\n            this.isCurrentlyMounted = true;\n            this.handleChange();\n          }\n        }, {\n          key: \"componentWillUnmount\",\n          value: function componentWillUnmount() {\n            this.isCurrentlyMounted = false;\n\n            if (this.unsubscribeFromOffsetChange) {\n              this.unsubscribeFromOffsetChange();\n              this.unsubscribeFromOffsetChange = undefined;\n            }\n\n            if (this.unsubscribeFromStateChange) {\n              this.unsubscribeFromStateChange();\n              this.unsubscribeFromStateChange = undefined;\n            }\n          }\n        }, {\n          key: \"render\",\n          value: function render() {\n            var _this2 = this;\n\n            return React.createElement(DndContext.Consumer, null, function (_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }));\n            });\n          }\n        }, {\n          key: \"receiveDragDropManager\",\n          value: function receiveDragDropManager(dragDropManager) {\n            if (this.manager !== undefined) {\n              return;\n            }\n\n            this.manager = dragDropManager;\n            invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n            var monitor = this.manager.getMonitor();\n            this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n            this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n          }\n        }, {\n          key: \"getCurrentState\",\n          value: function getCurrentState() {\n            if (!this.manager) {\n              return {};\n            }\n\n            var monitor = this.manager.getMonitor();\n            return collect(monitor, this.props);\n          }\n        }]);\n\n        return DragLayerContainer;\n      }(React.Component);\n\n      DragLayerContainer.displayName = \"DragLayer(\".concat(displayName, \")\");\n      DragLayerContainer.DecoratedComponent = DecoratedComponent;\n      return DragLayerContainer;\n    }();\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { registerSource } from '../common/registration';\nimport { DragSourceMonitorImpl } from '../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../common/SourceConnector';\nimport { isValidType } from '../utils/isValidType';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { registerTarget } from '../common/registration';\nimport { isValidType } from '../utils/isValidType';\nimport { TargetConnector } from '../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../common/DropTargetMonitorImpl';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    this.props = null;\n\n    this.beginDrag = function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    };\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    this.props = null;\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer =\n  /** @class */\n  function () {\n    var DragDropContainer = /*#__PURE__*/function (_React$Component) {\n      _inherits(DragDropContainer, _React$Component);\n\n      var _super = _createSuper(DragDropContainer);\n\n      function DragDropContainer(props) {\n        var _this;\n\n        _classCallCheck(this, DragDropContainer);\n\n        _this = _super.call(this, props);\n        _this.decoratedRef = React.createRef();\n\n        _this.handleChange = function () {\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        };\n\n        _this.disposable = new SerialDisposable();\n\n        _this.receiveProps(props);\n\n        _this.dispose();\n\n        return _this;\n      }\n\n      _createClass(DragDropContainer, [{\n        key: \"getHandlerId\",\n        value: function getHandlerId() {\n          return this.handlerId;\n        }\n      }, {\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.decoratedRef.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.disposable = new SerialDisposable();\n          this.currentType = undefined;\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps) {\n          if (!arePropsEqual(this.props, prevProps)) {\n            this.receiveProps(this.props);\n            this.handleChange();\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.dispose();\n        }\n      }, {\n        key: \"receiveProps\",\n        value: function receiveProps(props) {\n          if (!this.handler) {\n            return;\n          }\n\n          this.handler.receiveProps(props);\n          this.receiveType(getType(props));\n        }\n      }, {\n        key: \"receiveType\",\n        value: function receiveType(type) {\n          if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n            return;\n          }\n\n          if (type === this.currentType) {\n            return;\n          }\n\n          this.currentType = type;\n\n          var _registerHandler = registerHandler(type, this.handler, this.manager),\n              _registerHandler2 = _slicedToArray(_registerHandler, 2),\n              handlerId = _registerHandler2[0],\n              unregister = _registerHandler2[1];\n\n          this.handlerId = handlerId;\n          this.handlerMonitor.receiveHandlerId(handlerId);\n          this.handlerConnector.receiveHandlerId(handlerId);\n          var globalMonitor = this.manager.getMonitor();\n          var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n            handlerIds: [handlerId]\n          });\n          this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n        }\n      }, {\n        key: \"dispose\",\n        value: function dispose() {\n          this.disposable.dispose();\n\n          if (this.handlerConnector) {\n            this.handlerConnector.receiveHandlerId(null);\n          }\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.handlerConnector) {\n            return {};\n          }\n\n          var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n          if (process.env.NODE_ENV !== 'production') {\n            invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n          }\n\n          return nextState;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(DndContext.Consumer, null, function (_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }));\n          });\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n          if (dragDropManager === undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          this.handlerMonitor = createMonitor(dragDropManager);\n          this.handlerConnector = createConnector(dragDropManager.getBackend());\n          this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n        }\n      }]);\n\n      return DragDropContainer;\n    }(React.Component);\n\n    DragDropContainer.DecoratedComponent = DecoratedComponent;\n    DragDropContainer.displayName = \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\");\n    return DragDropContainer;\n  }();\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isFunction, noop } from '../utils/js_utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nvar Disposable =\n/** @class */\nfunction () {\n  var Disposable = /*#__PURE__*/function () {\n    function Disposable(action) {\n      _classCallCheck(this, Disposable);\n\n      this.isDisposed = false;\n      this.action = isFunction(action) ? action : noop;\n    }\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n\n\n    _createClass(Disposable, [{\n      key: \"dispose\",\n\n      /** Performs the task of cleaning up resources. */\n      value: function dispose() {\n        if (!this.isDisposed) {\n          this.action();\n          this.isDisposed = true;\n        }\n      }\n    }], [{\n      key: \"isDisposable\",\n      value: function isDisposable(d) {\n        return Boolean(d && isFunction(d.dispose));\n      }\n    }, {\n      key: \"_fixup\",\n      value: function _fixup(result) {\n        return Disposable.isDisposable(result) ? result : Disposable.empty;\n      }\n      /**\n       * Creates a disposable object that invokes the specified action when disposed.\n       * @param {Function} dispose Action to run during the first call to dispose.\n       * The action is guaranteed to be run at most once.\n       * @return {Disposable} The disposable object that runs the given action upon disposal.\n       */\n\n    }, {\n      key: \"create\",\n      value: function create(action) {\n        return new Disposable(action);\n      }\n    }]);\n\n    return Disposable;\n  }();\n  /**\n   * Gets the disposable that does nothing when disposed.\n   */\n\n\n  Disposable.empty = {\n    dispose: noop\n  };\n  return Disposable;\n}();\n\nexport { Disposable };\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    this.isDisposed = false;\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n  }\n  /**\n   * Gets the underlying disposable.\n   * @returns {Any} the underlying disposable.\n   */\n\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value: function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","export function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\nexport { polyfill };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n// Internally, the portalNode must be for either HTML or SVG elements\nvar ELEMENT_TYPE_HTML = 'html';\nvar ELEMENT_TYPE_SVG = 'svg';\n// ReactDOM can handle several different namespaces, but they're not exported publicly\n// https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/packages/react-dom/src/shared/DOMNamespaces.js#L8-L10\nvar SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\nvar validateElementType = function (domElement, elementType) {\n    if (elementType === ELEMENT_TYPE_HTML) {\n        return domElement instanceof HTMLElement;\n    }\n    if (elementType === ELEMENT_TYPE_SVG) {\n        return domElement instanceof SVGElement;\n    }\n    throw new Error(\"Unrecognized element type \\\"\" + elementType + \"\\\" for validateElementType.\");\n};\n// This is the internal implementation: the public entry points set elementType to an appropriate value\nvar createPortalNode = function (elementType) {\n    var initialProps = {};\n    var parent;\n    var lastPlaceholder;\n    var element;\n    if (elementType === ELEMENT_TYPE_HTML) {\n        element = document.createElement('div');\n    }\n    else if (elementType === ELEMENT_TYPE_SVG) {\n        element = document.createElementNS(SVG_NAMESPACE, 'g');\n    }\n    else {\n        throw new Error(\"Invalid element type \\\"\" + elementType + \"\\\" for createPortalNode: must be \\\"html\\\" or \\\"svg\\\".\");\n    }\n    var portalNode = {\n        element: element,\n        elementType: elementType,\n        setPortalProps: function (props) {\n            initialProps = props;\n        },\n        getInitialPortalProps: function () {\n            return initialProps;\n        },\n        mount: function (newParent, newPlaceholder) {\n            if (newPlaceholder === lastPlaceholder) {\n                // Already mounted - noop.\n                return;\n            }\n            portalNode.unmount();\n            // To support SVG and other non-html elements, the portalNode's elementType needs to match\n            // the elementType it's being rendered into\n            if (newParent !== parent) {\n                if (!validateElementType(newParent, elementType)) {\n                    throw new Error(\"Invalid element type for portal: \\\"\" + elementType + \"\\\" portalNodes must be used with \" + elementType + \" elements, but OutPortal is within <\" + newParent.tagName + \">.\");\n                }\n            }\n            newParent.replaceChild(portalNode.element, newPlaceholder);\n            parent = newParent;\n            lastPlaceholder = newPlaceholder;\n        },\n        unmount: function (expectedPlaceholder) {\n            if (expectedPlaceholder && expectedPlaceholder !== lastPlaceholder) {\n                // Skip unmounts for placeholders that aren't currently mounted\n                // They will have been automatically unmounted already by a subsequent mount()\n                return;\n            }\n            if (parent && lastPlaceholder) {\n                parent.replaceChild(lastPlaceholder, portalNode.element);\n                parent = undefined;\n                lastPlaceholder = undefined;\n            }\n        }\n    };\n    return portalNode;\n};\nvar InPortal = /** @class */ (function (_super) {\n    __extends(InPortal, _super);\n    function InPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.addPropsChannel = function () {\n            Object.assign(_this.props.node, {\n                setPortalProps: function (props) {\n                    // Rerender the child node here if/when the out portal props change\n                    _this.setState({ nodeProps: props });\n                }\n            });\n        };\n        _this.state = {\n            nodeProps: _this.props.node.getInitialPortalProps(),\n        };\n        return _this;\n    }\n    InPortal.prototype.componentDidMount = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.componentDidUpdate = function () {\n        this.addPropsChannel();\n    };\n    InPortal.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, children = _a.children, node = _a.node;\n        return ReactDOM.createPortal(React.Children.map(children, function (child) {\n            if (!React.isValidElement(child))\n                return child;\n            return React.cloneElement(child, _this.state.nodeProps);\n        }), node.element);\n    };\n    return InPortal;\n}(React.PureComponent));\nvar OutPortal = /** @class */ (function (_super) {\n    __extends(OutPortal, _super);\n    function OutPortal(props) {\n        var _this = _super.call(this, props) || this;\n        _this.placeholderNode = React.createRef();\n        _this.passPropsThroughPortal();\n        return _this;\n    }\n    OutPortal.prototype.passPropsThroughPortal = function () {\n        var propsForTarget = Object.assign({}, this.props, { node: undefined });\n        this.props.node.setPortalProps(propsForTarget);\n    };\n    OutPortal.prototype.componentDidMount = function () {\n        var node = this.props.node;\n        this.currentPortalNode = node;\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentDidUpdate = function () {\n        // We re-mount on update, just in case we were unmounted (e.g. by\n        // a second OutPortal, which has now been removed)\n        var node = this.props.node;\n        // If we're switching portal nodes, we need to clean up the current one first.\n        if (this.currentPortalNode && node !== this.currentPortalNode) {\n            this.currentPortalNode.unmount(this.placeholderNode.current);\n            this.currentPortalNode = node;\n        }\n        var placeholder = this.placeholderNode.current;\n        var parent = placeholder.parentNode;\n        node.mount(parent, placeholder);\n        this.passPropsThroughPortal();\n    };\n    OutPortal.prototype.componentWillUnmount = function () {\n        var node = this.props.node;\n        node.unmount(this.placeholderNode.current);\n    };\n    OutPortal.prototype.render = function () {\n        // Render a placeholder to the DOM, so we can get a reference into\n        // our location in the DOM, and swap it out for the portaled node.\n        // A <div> placeholder works fine even for SVG.\n        return React.createElement(\"div\", { ref: this.placeholderNode });\n    };\n    return OutPortal;\n}(React.PureComponent));\nvar createHtmlPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_HTML);\nvar createSvgPortalNode = createPortalNode.bind(null, ELEMENT_TYPE_SVG);\nexport { createHtmlPortalNode, createSvgPortalNode, InPortal, OutPortal, };\n//# sourceMappingURL=index.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createFilter = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Search = function (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    _classCallCheck(this, Search);\n\n    var _this = _possibleConstructorReturn(this, (Search.__proto__ || Object.getPrototypeOf(Search)).call(this, props));\n\n    _this.state = {\n      searchTerm: _this.props.value || ''\n    };\n    _this.updateSearch = _this.updateSearch.bind(_this);\n    _this.filter = _this.filter.bind(_this);\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (typeof nextProps.value !== 'undefined' && nextProps.value !== this.props.value) {\n        var e = {\n          target: {\n            value: nextProps.value\n          }\n        };\n        this.updateSearch(e);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          onChange = _props.onChange,\n          caseSensitive = _props.caseSensitive,\n          sortResults = _props.sortResults,\n          throttle = _props.throttle,\n          filterKeys = _props.filterKeys,\n          value = _props.value,\n          fuzzy = _props.fuzzy,\n          inputClassName = _props.inputClassName,\n          inputProps = _objectWithoutProperties(_props, ['className', 'onChange', 'caseSensitive', 'sortResults', 'throttle', 'filterKeys', 'value', 'fuzzy', 'inputClassName']); // eslint-disable-line no-unused-vars\n\n\n      inputProps.type = inputProps.type || 'search';\n      inputProps.value = this.state.searchTerm;\n      inputProps.onChange = this.updateSearch;\n      inputProps.className = inputClassName;\n      inputProps.placeholder = inputProps.placeholder || 'Search';\n      return _react2.default.createElement(\n        'div',\n        { className: className },\n        _react2.default.createElement('input', inputProps)\n      );\n    }\n  }, {\n    key: 'updateSearch',\n    value: function updateSearch(e) {\n      var _this2 = this;\n\n      var searchTerm = e.target.value;\n      this.setState({\n        searchTerm: searchTerm\n      }, function () {\n        if (_this2._throttleTimeout) {\n          clearTimeout(_this2._throttleTimeout);\n        }\n\n        _this2._throttleTimeout = setTimeout(function () {\n          return _this2.props.onChange(searchTerm);\n        }, _this2.props.throttle);\n      });\n    }\n  }, {\n    key: 'filter',\n    value: function filter(keys) {\n      var _props2 = this.props,\n          filterKeys = _props2.filterKeys,\n          caseSensitive = _props2.caseSensitive,\n          fuzzy = _props2.fuzzy,\n          sortResults = _props2.sortResults;\n\n      return (0, _util.createFilter)(this.state.searchTerm, keys || filterKeys, {\n        caseSensitive: caseSensitive,\n        fuzzy: fuzzy,\n        sortResults: sortResults\n      });\n    }\n  }]);\n\n  return Search;\n}(_react.Component);\n\nSearch.defaultProps = {\n  className: '',\n  onChange: function onChange() {},\n\n  caseSensitive: false,\n  fuzzy: false,\n  throttle: 200\n};\n\nSearch.propTypes = {\n  className: _propTypes2.default.string,\n  inputClassName: _propTypes2.default.string,\n  onChange: _propTypes2.default.func,\n  caseSensitive: _propTypes2.default.bool,\n  sortResults: _propTypes2.default.bool,\n  fuzzy: _propTypes2.default.bool,\n  throttle: _propTypes2.default.number,\n  filterKeys: _propTypes2.default.oneOf([_propTypes2.default.string, _propTypes2.default.arrayOf(_propTypes2.default.string)]),\n  value: _propTypes2.default.string\n};\n\nexports.default = Search;\nexports.createFilter = _util.createFilter;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getValuesForKey = getValuesForKey;\nexports.searchStrings = searchStrings;\nexports.createFilter = createFilter;\n\nvar _fuse = require('fuse.js');\n\nvar _fuse2 = _interopRequireDefault(_fuse);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction flatten(array) {\n  return array.reduce(function (flat, toFlatten) {\n    return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n  }, []);\n}\n\nfunction getValuesForKey(key, item) {\n  var keys = key.split('.');\n  var results = [item];\n  keys.forEach(function (_key) {\n    var tmp = [];\n    results.forEach(function (result) {\n      if (result) {\n        if (result instanceof Array) {\n          var index = parseInt(_key, 10);\n          if (!isNaN(index)) {\n            return tmp.push(result[index]);\n          }\n          result.forEach(function (res) {\n            tmp.push(res[_key]);\n          });\n        } else if (result && typeof result.get === 'function') {\n          tmp.push(result.get(_key));\n        } else {\n          tmp.push(result[_key]);\n        }\n      }\n    });\n\n    results = tmp;\n  });\n\n  // Support arrays and Immutable lists.\n  results = results.map(function (r) {\n    return r && r.push && r.toArray ? r.toArray() : r;\n  });\n  results = flatten(results);\n\n  return results.filter(function (r) {\n    return typeof r === 'string' || typeof r === 'number';\n  });\n}\n\nfunction searchStrings(strings, term) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      caseSensitive = _ref.caseSensitive,\n      fuzzy = _ref.fuzzy,\n      sortResults = _ref.sortResults,\n      exactMatch = _ref.exactMatch;\n\n  strings = strings.map(function (e) {\n    return e.toString();\n  });\n\n  try {\n    if (fuzzy) {\n      if (typeof strings.toJS === 'function') {\n        strings = strings.toJS();\n      }\n      var fuse = new _fuse2.default(strings.map(function (s) {\n        return { id: s };\n      }), { keys: ['id'], id: 'id', caseSensitive: caseSensitive, shouldSort: sortResults });\n      return fuse.search(term).length;\n    }\n    return strings.some(function (value) {\n      try {\n        if (!caseSensitive) {\n          value = value.toLowerCase();\n        }\n        if (exactMatch) {\n          term = new RegExp('^' + term + '$', 'i');\n        }\n        if (value && value.search(term) !== -1) {\n          return true;\n        }\n        return false;\n      } catch (e) {\n        return false;\n      }\n    });\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction createFilter(term, keys) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  return function (item) {\n    if (term === '') {\n      return true;\n    }\n\n    if (!options.caseSensitive) {\n      term = term.toLowerCase();\n    }\n\n    var terms = term.split(' ');\n\n    if (!keys) {\n      return terms.every(function (term) {\n        return searchStrings([item], term, options);\n      });\n    }\n\n    if (typeof keys === 'string') {\n      keys = [keys];\n    }\n\n    return terms.every(function (term) {\n      // allow search in specific fields with the syntax `field:search`\n      var currentKeys = void 0;\n      if (term.indexOf(':') !== -1) {\n        var searchedField = term.split(':')[0];\n        term = term.split(':')[1];\n        currentKeys = keys.filter(function (key) {\n          return key.toLowerCase().indexOf(searchedField) > -1;\n        });\n      } else {\n        currentKeys = keys;\n      }\n\n      return currentKeys.some(function (key) {\n        var values = getValuesForKey(key, item);\n        return searchStrings(values, term, options);\n      });\n    });\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _raf = require(\"raf\");\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = function (_PureComponent) {\n  _inherits(Container, _PureComponent);\n\n  function Container() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Container);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Container.__proto__ || Object.getPrototypeOf(Container)).call.apply(_ref, [this].concat(args))), _this), _this.events = [\"resize\", \"scroll\", \"touchstart\", \"touchmove\", \"touchend\", \"pageshow\", \"load\"], _this.subscribers = [], _this.rafHandle = null, _this.subscribe = function (handler) {\n      _this.subscribers = _this.subscribers.concat(handler);\n    }, _this.unsubscribe = function (handler) {\n      _this.subscribers = _this.subscribers.filter(function (current) {\n        return current !== handler;\n      });\n    }, _this.notifySubscribers = function (evt) {\n      if (!_this.framePending) {\n        var currentTarget = evt.currentTarget;\n\n\n        _this.rafHandle = (0, _raf2.default)(function () {\n          _this.framePending = false;\n\n          var _this$node$getBoundin = _this.node.getBoundingClientRect(),\n              top = _this$node$getBoundin.top,\n              bottom = _this$node$getBoundin.bottom;\n\n          _this.subscribers.forEach(function (handler) {\n            return handler({\n              distanceFromTop: top,\n              distanceFromBottom: bottom,\n              eventSource: currentTarget === window ? document.body : _this.node\n            });\n          });\n        });\n        _this.framePending = true;\n      }\n    }, _this.getParent = function () {\n      return _this.node;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Container, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        subscribe: this.subscribe,\n        unsubscribe: this.unsubscribe,\n        getParent: this.getParent\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.events.forEach(function (event) {\n        return window.addEventListener(event, _this2.notifySubscribers);\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this3 = this;\n\n      if (this.rafHandle) {\n        _raf2.default.cancel(this.rafHandle);\n        this.rafHandle = null;\n      }\n\n      this.events.forEach(function (event) {\n        return window.removeEventListener(event, _this3.notifySubscribers);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return _react2.default.createElement(\"div\", _extends({}, this.props, {\n        ref: function ref(node) {\n          return _this4.node = node;\n        },\n        onScroll: this.notifySubscribers,\n        onTouchStart: this.notifySubscribers,\n        onTouchMove: this.notifySubscribers,\n        onTouchEnd: this.notifySubscribers\n      }));\n    }\n  }]);\n\n  return Container;\n}(_react.PureComponent);\n\nContainer.childContextTypes = {\n  subscribe: _propTypes2.default.func,\n  unsubscribe: _propTypes2.default.func,\n  getParent: _propTypes2.default.func\n};\nexports.default = Container;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Sticky = function (_Component) {\n  _inherits(Sticky, _Component);\n\n  function Sticky() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Sticky);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Sticky.__proto__ || Object.getPrototypeOf(Sticky)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      isSticky: false,\n      wasSticky: false,\n      style: {}\n    }, _this.handleContainerEvent = function (_ref2) {\n      var distanceFromTop = _ref2.distanceFromTop,\n          distanceFromBottom = _ref2.distanceFromBottom,\n          eventSource = _ref2.eventSource;\n\n      var parent = _this.context.getParent();\n\n      var preventingStickyStateChanges = false;\n      if (_this.props.relative) {\n        preventingStickyStateChanges = eventSource !== parent;\n        distanceFromTop = -(eventSource.scrollTop + eventSource.offsetTop) + _this.placeholder.offsetTop;\n      }\n\n      var placeholderClientRect = _this.placeholder.getBoundingClientRect();\n      var contentClientRect = _this.content.getBoundingClientRect();\n      var calculatedHeight = contentClientRect.height;\n\n      var bottomDifference = distanceFromBottom - _this.props.bottomOffset - calculatedHeight;\n\n      var wasSticky = !!_this.state.isSticky;\n      var isSticky = preventingStickyStateChanges ? wasSticky : distanceFromTop <= -_this.props.topOffset && distanceFromBottom > -_this.props.bottomOffset;\n\n      distanceFromBottom = (_this.props.relative ? parent.scrollHeight - parent.scrollTop : distanceFromBottom) - calculatedHeight;\n\n      var style = !isSticky ? {} : {\n        position: \"fixed\",\n        top: bottomDifference > 0 ? _this.props.relative ? parent.offsetTop - parent.offsetParent.scrollTop : 0 : bottomDifference,\n        left: placeholderClientRect.left,\n        width: placeholderClientRect.width\n      };\n\n      if (!_this.props.disableHardwareAcceleration) {\n        style.transform = \"translateZ(0)\";\n      }\n\n      _this.setState({\n        isSticky: isSticky,\n        wasSticky: wasSticky,\n        distanceFromTop: distanceFromTop,\n        distanceFromBottom: distanceFromBottom,\n        calculatedHeight: calculatedHeight,\n        style: style\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Sticky, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (!this.context.subscribe) throw new TypeError(\"Expected Sticky to be mounted within StickyContainer\");\n\n      this.context.subscribe(this.handleContainerEvent);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.context.unsubscribe(this.handleContainerEvent);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.placeholder.style.paddingBottom = this.props.disableCompensation ? 0 : (this.state.isSticky ? this.state.calculatedHeight : 0) + \"px\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var element = _react2.default.cloneElement(this.props.children({\n        isSticky: this.state.isSticky,\n        wasSticky: this.state.wasSticky,\n        distanceFromTop: this.state.distanceFromTop,\n        distanceFromBottom: this.state.distanceFromBottom,\n        calculatedHeight: this.state.calculatedHeight,\n        style: this.state.style\n      }), {\n        ref: function ref(content) {\n          _this2.content = _reactDom2.default.findDOMNode(content);\n        }\n      });\n\n      return _react2.default.createElement(\n        \"div\",\n        null,\n        _react2.default.createElement(\"div\", { ref: function ref(placeholder) {\n            return _this2.placeholder = placeholder;\n          } }),\n        element\n      );\n    }\n  }]);\n\n  return Sticky;\n}(_react.Component);\n\nSticky.propTypes = {\n  topOffset: _propTypes2.default.number,\n  bottomOffset: _propTypes2.default.number,\n  relative: _propTypes2.default.bool,\n  children: _propTypes2.default.func.isRequired\n};\nSticky.defaultProps = {\n  relative: false,\n  topOffset: 0,\n  bottomOffset: 0,\n  disableCompensation: false,\n  disableHardwareAcceleration: false\n};\nSticky.contextTypes = {\n  subscribe: _propTypes2.default.func,\n  unsubscribe: _propTypes2.default.func,\n  getParent: _propTypes2.default.func\n};\nexports.default = Sticky;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StickyContainer = exports.Sticky = undefined;\n\nvar _Sticky = require(\"./Sticky\");\n\nvar _Sticky2 = _interopRequireDefault(_Sticky);\n\nvar _Container = require(\"./Container\");\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Sticky = _Sticky2.default;\nexports.StickyContainer = _Container2.default;\nexports.default = _Sticky2.default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _htmlbars = _interopRequireDefault(require(\"highlight.js/lib/languages/htmlbars\"));\n\nvar _default = _htmlbars.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _json = _interopRequireDefault(require(\"highlight.js/lib/languages/json\"));\n\nvar _default = _json.default;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _markdown = _interopRequireDefault(require(\"highlight.js/lib/languages/markdown\"));\n\nvar _default = _markdown.default;\nexports.default = _default;","import _Object$assign from 'babel-runtime/core-js/object/assign';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _Object$getPrototypeOf from 'babel-runtime/core-js/object/get-prototype-of';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport cn from 'classnames';\nimport calculateSizeAndPositionDataAndUpdateScrollOffset from './utils/calculateSizeAndPositionDataAndUpdateScrollOffset';\nimport ScalingCellSizeAndPositionManager from './utils/ScalingCellSizeAndPositionManager';\nimport createCallbackMemoizer from '../utils/createCallbackMemoizer';\nimport defaultOverscanIndicesGetter, { SCROLL_DIRECTION_BACKWARD, SCROLL_DIRECTION_FORWARD } from './defaultOverscanIndicesGetter';\nimport updateScrollIndexHelper from './utils/updateScrollIndexHelper';\nimport defaultCellRangeRenderer from './defaultCellRangeRenderer';\nimport scrollbarSize from 'dom-helpers/util/scrollbarSize';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../utils/requestAnimationTimeout';\n\n/**\n * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\nexport var DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n\n/**\n * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.\n * This prevents Grid from interrupting mouse-wheel animations (see issue #2).\n */\nvar SCROLL_POSITION_CHANGE_REASONS = {\n  OBSERVED: 'observed',\n  REQUESTED: 'requested'\n};\n\nvar renderNull = function renderNull() {\n  return null;\n};\n\n/**\n * Renders tabular data with virtualization along the vertical and horizontal axes.\n * Row heights and column widths must be known ahead of time and specified as properties.\n */\nvar Grid = function (_React$PureComponent) {\n  _inherits(Grid, _React$PureComponent);\n\n  // Invokes onSectionRendered callback only when start/stop row or column indices change\n  function Grid(props) {\n    _classCallCheck(this, Grid);\n\n    var _this = _possibleConstructorReturn(this, (Grid.__proto__ || _Object$getPrototypeOf(Grid)).call(this, props));\n\n    _this._onGridRenderedMemoizer = createCallbackMemoizer();\n    _this._onScrollMemoizer = createCallbackMemoizer(false);\n    _this._deferredInvalidateColumnIndex = null;\n    _this._deferredInvalidateRowIndex = null;\n    _this._recomputeScrollLeftFlag = false;\n    _this._recomputeScrollTopFlag = false;\n    _this._horizontalScrollBarSize = 0;\n    _this._verticalScrollBarSize = 0;\n    _this._scrollbarPresenceChanged = false;\n    _this._renderedColumnStartIndex = 0;\n    _this._renderedColumnStopIndex = 0;\n    _this._renderedRowStartIndex = 0;\n    _this._renderedRowStopIndex = 0;\n    _this._styleCache = {};\n    _this._cellCache = {};\n\n    _this._debounceScrollEndedCallback = function () {\n      _this._disablePointerEventsTimeoutId = null;\n      // isScrolling is used to determine if we reset styleCache\n      _this.setState({\n        isScrolling: false,\n        needToResetStyleCache: false\n      });\n    };\n\n    _this._invokeOnGridRenderedHelper = function () {\n      var onSectionRendered = _this.props.onSectionRendered;\n\n\n      _this._onGridRenderedMemoizer({\n        callback: onSectionRendered,\n        indices: {\n          columnOverscanStartIndex: _this._columnStartIndex,\n          columnOverscanStopIndex: _this._columnStopIndex,\n          columnStartIndex: _this._renderedColumnStartIndex,\n          columnStopIndex: _this._renderedColumnStopIndex,\n          rowOverscanStartIndex: _this._rowStartIndex,\n          rowOverscanStopIndex: _this._rowStopIndex,\n          rowStartIndex: _this._renderedRowStartIndex,\n          rowStopIndex: _this._renderedRowStopIndex\n        }\n      });\n    };\n\n    _this._setScrollingContainerRef = function (ref) {\n      _this._scrollingContainer = ref;\n    };\n\n    _this._onScroll = function (event) {\n      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.\n      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.\n      // See issue #404 for more information.\n      if (event.target === _this._scrollingContainer) {\n        _this.handleScrollEvent(event.target);\n      }\n    };\n\n    var columnSizeAndPositionManager = new ScalingCellSizeAndPositionManager({\n      cellCount: props.columnCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.columnWidth)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedColumnSize(props)\n    });\n    var rowSizeAndPositionManager = new ScalingCellSizeAndPositionManager({\n      cellCount: props.rowCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.rowHeight)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedRowSize(props)\n    });\n\n    _this.state = {\n      instanceProps: {\n        columnSizeAndPositionManager: columnSizeAndPositionManager,\n        rowSizeAndPositionManager: rowSizeAndPositionManager,\n\n        prevColumnWidth: props.columnWidth,\n        prevRowHeight: props.rowHeight,\n        prevColumnCount: props.columnCount,\n        prevRowCount: props.rowCount,\n        prevIsScrolling: props.isScrolling === true,\n        prevScrollToColumn: props.scrollToColumn,\n        prevScrollToRow: props.scrollToRow,\n\n        scrollbarSize: 0,\n        scrollbarSizeMeasured: false\n      },\n      isScrolling: false,\n      scrollDirectionHorizontal: SCROLL_DIRECTION_FORWARD,\n      scrollDirectionVertical: SCROLL_DIRECTION_FORWARD,\n      scrollLeft: 0,\n      scrollTop: 0,\n      scrollPositionChangeReason: null,\n\n      needToResetStyleCache: false\n    };\n\n    if (props.scrollToRow > 0) {\n      _this._initialScrollTop = _this._getCalculatedScrollTop(props, _this.state);\n    }\n    if (props.scrollToColumn > 0) {\n      _this._initialScrollLeft = _this._getCalculatedScrollLeft(props, _this.state);\n    }\n    return _this;\n  }\n\n  /**\n   * Gets offsets for a given cell and alignment.\n   */\n\n\n  _createClass(Grid, [{\n    key: 'getOffsetForCell',\n    value: function getOffsetForCell() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$alignment = _ref.alignment,\n          alignment = _ref$alignment === undefined ? this.props.scrollToAlignment : _ref$alignment,\n          _ref$columnIndex = _ref.columnIndex,\n          columnIndex = _ref$columnIndex === undefined ? this.props.scrollToColumn : _ref$columnIndex,\n          _ref$rowIndex = _ref.rowIndex,\n          rowIndex = _ref$rowIndex === undefined ? this.props.scrollToRow : _ref$rowIndex;\n\n      var offsetProps = _extends({}, this.props, {\n        scrollToAlignment: alignment,\n        scrollToColumn: columnIndex,\n        scrollToRow: rowIndex\n      });\n\n      return {\n        scrollLeft: this._getCalculatedScrollLeft(offsetProps),\n        scrollTop: this._getCalculatedScrollTop(offsetProps)\n      };\n    }\n\n    /**\n     * Gets estimated total rows' height.\n     */\n\n  }, {\n    key: 'getTotalRowsHeight',\n    value: function getTotalRowsHeight() {\n      return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize();\n    }\n\n    /**\n     * Gets estimated total columns' width.\n     */\n\n  }, {\n    key: 'getTotalColumnsWidth',\n    value: function getTotalColumnsWidth() {\n      return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize();\n    }\n\n    /**\n     * This method handles a scroll event originating from an external scroll control.\n     * It's an advanced method and should probably not be used unless you're implementing a custom scroll-bar solution.\n     */\n\n  }, {\n    key: 'handleScrollEvent',\n    value: function handleScrollEvent(_ref2) {\n      var _ref2$scrollLeft = _ref2.scrollLeft,\n          scrollLeftParam = _ref2$scrollLeft === undefined ? 0 : _ref2$scrollLeft,\n          _ref2$scrollTop = _ref2.scrollTop,\n          scrollTopParam = _ref2$scrollTop === undefined ? 0 : _ref2$scrollTop;\n\n      // On iOS, we can arrive at negative offsets by swiping past the start.\n      // To prevent flicker here, we make playing in the negative offset zone cause nothing to happen.\n      if (scrollTopParam < 0) {\n        return;\n      }\n\n      // Prevent pointer events from interrupting a smooth scroll\n      this._debounceScrollEnded();\n\n      var _props = this.props,\n          autoHeight = _props.autoHeight,\n          autoWidth = _props.autoWidth,\n          height = _props.height,\n          width = _props.width;\n      var instanceProps = this.state.instanceProps;\n\n      // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n\n      var scrollbarSize = instanceProps.scrollbarSize;\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var scrollLeft = Math.min(Math.max(0, totalColumnsWidth - width + scrollbarSize), scrollLeftParam);\n      var scrollTop = Math.min(Math.max(0, totalRowsHeight - height + scrollbarSize), scrollTopParam);\n\n      // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n      if (this.state.scrollLeft !== scrollLeft || this.state.scrollTop !== scrollTop) {\n        // Track scrolling direction so we can more efficiently overscan rows to reduce empty space around the edges while scrolling.\n        // Don't change direction for an axis unless scroll offset has changed.\n        var _scrollDirectionHorizontal = scrollLeft !== this.state.scrollLeft ? scrollLeft > this.state.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionHorizontal;\n        var _scrollDirectionVertical = scrollTop !== this.state.scrollTop ? scrollTop > this.state.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionVertical;\n\n        var newState = {\n          isScrolling: true,\n          scrollDirectionHorizontal: _scrollDirectionHorizontal,\n          scrollDirectionVertical: _scrollDirectionVertical,\n          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.OBSERVED\n        };\n\n        if (!autoHeight) {\n          newState.scrollTop = scrollTop;\n        }\n\n        if (!autoWidth) {\n          newState.scrollLeft = scrollLeft;\n        }\n\n        newState.needToResetStyleCache = false;\n        this.setState(newState);\n      }\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        totalColumnsWidth: totalColumnsWidth,\n        totalRowsHeight: totalRowsHeight\n      });\n    }\n\n    /**\n     * Invalidate Grid size and recompute visible cells.\n     * This is a deferred wrapper for recomputeGridSize().\n     * It sets a flag to be evaluated on cDM/cDU to avoid unnecessary renders.\n     * This method is intended for advanced use-cases like CellMeasurer.\n     */\n    // @TODO (bvaughn) Add automated test coverage for this.\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender(_ref3) {\n      var columnIndex = _ref3.columnIndex,\n          rowIndex = _ref3.rowIndex;\n\n      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;\n      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;\n    }\n\n    /**\n     * Pre-measure all columns and rows in a Grid.\n     * Typically cells are only measured as needed and estimated sizes are used for cells that have not yet been measured.\n     * This method ensures that the next call to getTotalSize() returns an exact size (as opposed to just an estimated one).\n     */\n\n  }, {\n    key: 'measureAllCells',\n    value: function measureAllCells() {\n      var _props2 = this.props,\n          columnCount = _props2.columnCount,\n          rowCount = _props2.rowCount;\n      var instanceProps = this.state.instanceProps;\n\n      instanceProps.columnSizeAndPositionManager.getSizeAndPositionOfCell(columnCount - 1);\n      instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(rowCount - 1);\n    }\n\n    /**\n     * Forced recompute of row heights and column widths.\n     * This function should be called if dynamic column or row sizes have changed but nothing else has.\n     * Since Grid only receives :columnCount and :rowCount it has no way of detecting when the underlying data changes.\n     */\n\n  }, {\n    key: 'recomputeGridSize',\n    value: function recomputeGridSize() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$columnIndex = _ref4.columnIndex,\n          columnIndex = _ref4$columnIndex === undefined ? 0 : _ref4$columnIndex,\n          _ref4$rowIndex = _ref4.rowIndex,\n          rowIndex = _ref4$rowIndex === undefined ? 0 : _ref4$rowIndex;\n\n      var _props3 = this.props,\n          scrollToColumn = _props3.scrollToColumn,\n          scrollToRow = _props3.scrollToRow;\n      var instanceProps = this.state.instanceProps;\n\n\n      instanceProps.columnSizeAndPositionManager.resetCell(columnIndex);\n      instanceProps.rowSizeAndPositionManager.resetCell(rowIndex);\n\n      // Cell sizes may be determined by a function property.\n      // In this case the cDU handler can't know if they changed.\n      // Store this flag to let the next cDU pass know it needs to recompute the scroll offset.\n      this._recomputeScrollLeftFlag = scrollToColumn >= 0 && columnIndex <= scrollToColumn;\n      this._recomputeScrollTopFlag = scrollToRow >= 0 && rowIndex <= scrollToRow;\n\n      // Clear cell cache in case we are scrolling;\n      // Invalid row heights likely mean invalid cached content as well.\n      this._styleCache = {};\n      this._cellCache = {};\n\n      this.forceUpdate();\n    }\n\n    /**\n     * Ensure column and row are visible.\n     */\n\n  }, {\n    key: 'scrollToCell',\n    value: function scrollToCell(_ref5) {\n      var columnIndex = _ref5.columnIndex,\n          rowIndex = _ref5.rowIndex;\n      var columnCount = this.props.columnCount;\n\n\n      var props = this.props;\n\n      // Don't adjust scroll offset for single-column grids (eg List, Table).\n      // This can cause a funky scroll offset because of the vertical scrollbar width.\n      if (columnCount > 1 && columnIndex !== undefined) {\n        this._updateScrollLeftForScrollToColumn(_extends({}, props, {\n          scrollToColumn: columnIndex\n        }));\n      }\n\n      if (rowIndex !== undefined) {\n        this._updateScrollTopForScrollToRow(_extends({}, props, {\n          scrollToRow: rowIndex\n        }));\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props4 = this.props,\n          getScrollbarSize = _props4.getScrollbarSize,\n          height = _props4.height,\n          scrollLeft = _props4.scrollLeft,\n          scrollToColumn = _props4.scrollToColumn,\n          scrollTop = _props4.scrollTop,\n          scrollToRow = _props4.scrollToRow,\n          width = _props4.width;\n      var instanceProps = this.state.instanceProps;\n\n      // Reset initial offsets to be ignored in browser\n\n      this._initialScrollTop = 0;\n      this._initialScrollLeft = 0;\n\n      // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n      this._handleInvalidatedGridSize();\n\n      // If this component was first rendered server-side, scrollbar size will be undefined.\n      // In that event we need to remeasure.\n      if (!instanceProps.scrollbarSizeMeasured) {\n        this.setState(function (prevState) {\n          prevState.instanceProps.scrollbarSize = getScrollbarSize();\n          prevState.instanceProps.scrollbarSizeMeasured = true;\n          prevState.needToResetStyleCache = false;\n          return prevState;\n        });\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 || typeof scrollTop === 'number' && scrollTop >= 0) {\n        this.setState(function (prevState) {\n          var stateUpdate = Grid._getScrollToPositionStateUpdate({\n            prevState: prevState,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop\n          });\n          if (stateUpdate) {\n            stateUpdate.needToResetStyleCache = false;\n            return stateUpdate;\n          }\n          return null;\n        });\n      }\n\n      // setting the ref's scrollLeft and scrollTop.\n      // Somehow in MultiGrid the main grid doesn't trigger a update on mount.\n      if (this._scrollingContainer.scrollLeft !== this.state.scrollLeft) {\n        this._scrollingContainer.scrollLeft = this.state.scrollLeft;\n      }\n      if (this._scrollingContainer.scrollTop !== this.state.scrollTop) {\n        this._scrollingContainer.scrollTop = this.state.scrollTop;\n      }\n\n      // Don't update scroll offset if the size is 0; we don't render any cells in this case.\n      // Setting a state may cause us to later thing we've updated the offce when we haven't.\n      var sizeIsBiggerThanZero = height > 0 && width > 0;\n      if (scrollToColumn >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollLeftForScrollToColumn();\n      }\n      if (scrollToRow >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollTopForScrollToRow();\n      }\n\n      // Update onRowsRendered callback\n      this._invokeOnGridRenderedHelper();\n\n      // Initialize onScroll callback\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft || 0,\n        scrollTop: scrollTop || 0,\n        totalColumnsWidth: instanceProps.columnSizeAndPositionManager.getTotalSize(),\n        totalRowsHeight: instanceProps.rowSizeAndPositionManager.getTotalSize()\n      });\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n\n    /**\n     * @private\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) New scroll-to-cell props have been set\n     */\n\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var _props5 = this.props,\n          autoHeight = _props5.autoHeight,\n          autoWidth = _props5.autoWidth,\n          columnCount = _props5.columnCount,\n          height = _props5.height,\n          rowCount = _props5.rowCount,\n          scrollToAlignment = _props5.scrollToAlignment,\n          scrollToColumn = _props5.scrollToColumn,\n          scrollToRow = _props5.scrollToRow,\n          width = _props5.width;\n      var _state = this.state,\n          scrollLeft = _state.scrollLeft,\n          scrollPositionChangeReason = _state.scrollPositionChangeReason,\n          scrollTop = _state.scrollTop,\n          instanceProps = _state.instanceProps;\n      // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n\n      this._handleInvalidatedGridSize();\n\n      // Handle edge case where column or row count has only just increased over 0.\n      // In this case we may have to restore a previously-specified scroll offset.\n      // For more info see bvaughn/react-virtualized/issues/218\n      var columnOrRowCountJustIncreasedFromZero = columnCount > 0 && prevProps.columnCount === 0 || rowCount > 0 && prevProps.rowCount === 0;\n\n      // Make sure requested changes to :scrollLeft or :scrollTop get applied.\n      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,\n      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).\n      // So we only set these when we require an adjustment of the scroll position.\n      // See issue #2 for more information.\n      if (scrollPositionChangeReason === SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {\n        // @TRICKY :autoHeight and :autoWidth properties instructs Grid to leave :scrollTop and :scrollLeft management to an external HOC (eg WindowScroller).\n        // In this case we should avoid checking scrollingContainer.scrollTop and scrollingContainer.scrollLeft since it forces layout/flow.\n        if (!autoWidth && scrollLeft >= 0 && (scrollLeft !== this._scrollingContainer.scrollLeft || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollLeft = scrollLeft;\n        }\n        if (!autoHeight && scrollTop >= 0 && (scrollTop !== this._scrollingContainer.scrollTop || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollTop = scrollTop;\n        }\n      }\n\n      // Special case where the previous size was 0:\n      // In this case we don't show any windowed cells at all.\n      // So we should always recalculate offset afterwards.\n      var sizeJustIncreasedFromZero = (prevProps.width === 0 || prevProps.height === 0) && height > 0 && width > 0;\n\n      // Update scroll offsets if the current :scrollToColumn or :scrollToRow values requires it\n      // @TODO Do we also need this check or can the one in componentWillUpdate() suffice?\n      if (this._recomputeScrollLeftFlag) {\n        this._recomputeScrollLeftFlag = false;\n        this._updateScrollLeftForScrollToColumn(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          previousCellsCount: prevProps.columnCount,\n          previousCellSize: prevProps.columnWidth,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToColumn,\n          previousSize: prevProps.width,\n          scrollOffset: scrollLeft,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToColumn,\n          size: width,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollLeftForScrollToColumn(_this2.props);\n          }\n        });\n      }\n\n      if (this._recomputeScrollTopFlag) {\n        this._recomputeScrollTopFlag = false;\n        this._updateScrollTopForScrollToRow(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          previousCellsCount: prevProps.rowCount,\n          previousCellSize: prevProps.rowHeight,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToRow,\n          previousSize: prevProps.height,\n          scrollOffset: scrollTop,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToRow,\n          size: height,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollTopForScrollToRow(_this2.props);\n          }\n        });\n      }\n\n      // Update onRowsRendered callback if start/stop indices have changed\n      this._invokeOnGridRenderedHelper();\n\n      // Changes to :scrollLeft or :scrollTop should also notify :onScroll listeners\n      if (scrollLeft !== prevState.scrollLeft || scrollTop !== prevState.scrollTop) {\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n\n        this._invokeOnScrollMemoizer({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          totalColumnsWidth: totalColumnsWidth,\n          totalRowsHeight: totalRowsHeight\n        });\n      }\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n    }\n\n    /**\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) Empty content (0 rows or columns)\n     * 2) New scroll props overriding the current state\n     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props6 = this.props,\n          autoContainerWidth = _props6.autoContainerWidth,\n          autoHeight = _props6.autoHeight,\n          autoWidth = _props6.autoWidth,\n          className = _props6.className,\n          containerProps = _props6.containerProps,\n          containerRole = _props6.containerRole,\n          containerStyle = _props6.containerStyle,\n          height = _props6.height,\n          id = _props6.id,\n          noContentRenderer = _props6.noContentRenderer,\n          role = _props6.role,\n          style = _props6.style,\n          tabIndex = _props6.tabIndex,\n          width = _props6.width;\n      var _state2 = this.state,\n          instanceProps = _state2.instanceProps,\n          needToResetStyleCache = _state2.needToResetStyleCache;\n\n\n      var isScrolling = this._isScrolling();\n\n      var gridStyle = {\n        boxSizing: 'border-box',\n        direction: 'ltr',\n        height: autoHeight ? 'auto' : height,\n        position: 'relative',\n        width: autoWidth ? 'auto' : width,\n        WebkitOverflowScrolling: 'touch',\n        willChange: 'transform'\n      };\n\n      if (needToResetStyleCache) {\n        this._styleCache = {};\n      }\n\n      // calculate _styleCache here\n      // if state.isScrolling (not from _isScrolling) then reset\n      if (!this.state.isScrolling) {\n        this._resetStyleCache();\n      }\n\n      // calculate children to render here\n      this._calculateChildrenToRender(this.props, this.state);\n\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n\n      // Force browser to hide scrollbars when we know they aren't necessary.\n      // Otherwise once scrollbars appear they may not disappear again.\n      // For more info see issue #116\n      var verticalScrollBarSize = totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n      var horizontalScrollBarSize = totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n\n      if (horizontalScrollBarSize !== this._horizontalScrollBarSize || verticalScrollBarSize !== this._verticalScrollBarSize) {\n        this._horizontalScrollBarSize = horizontalScrollBarSize;\n        this._verticalScrollBarSize = verticalScrollBarSize;\n        this._scrollbarPresenceChanged = true;\n      }\n\n      // Also explicitly init styles to 'auto' if scrollbars are required.\n      // This works around an obscure edge case where external CSS styles have not yet been loaded,\n      // But an initial scroll index of offset is set as an external prop.\n      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.\n      // This was originally reported via clauderic/react-infinite-calendar/issues/23\n      gridStyle.overflowX = totalColumnsWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';\n      gridStyle.overflowY = totalRowsHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';\n\n      var childrenToDisplay = this._childrenToDisplay;\n\n      var showNoContentRenderer = childrenToDisplay.length === 0 && height > 0 && width > 0;\n\n      return React.createElement(\n        'div',\n        _extends({\n          ref: this._setScrollingContainerRef\n        }, containerProps, {\n          'aria-label': this.props['aria-label'],\n          'aria-readonly': this.props['aria-readonly'],\n          className: cn('ReactVirtualized__Grid', className),\n          id: id,\n          onScroll: this._onScroll,\n          role: role,\n          style: _extends({}, gridStyle, style),\n          tabIndex: tabIndex }),\n        childrenToDisplay.length > 0 && React.createElement(\n          'div',\n          {\n            className: 'ReactVirtualized__Grid__innerScrollContainer',\n            role: containerRole,\n            style: _extends({\n              width: autoContainerWidth ? 'auto' : totalColumnsWidth,\n              height: totalRowsHeight,\n              maxWidth: totalColumnsWidth,\n              maxHeight: totalRowsHeight,\n              overflow: 'hidden',\n              pointerEvents: isScrolling ? 'none' : '',\n              position: 'relative'\n            }, containerStyle) },\n          childrenToDisplay\n        ),\n        showNoContentRenderer && noContentRenderer()\n      );\n    }\n\n    /* ---------------------------- Helper methods ---------------------------- */\n\n  }, {\n    key: '_calculateChildrenToRender',\n    value: function _calculateChildrenToRender() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      var cellRenderer = props.cellRenderer,\n          cellRangeRenderer = props.cellRangeRenderer,\n          columnCount = props.columnCount,\n          deferredMeasurementCache = props.deferredMeasurementCache,\n          height = props.height,\n          overscanColumnCount = props.overscanColumnCount,\n          overscanIndicesGetter = props.overscanIndicesGetter,\n          overscanRowCount = props.overscanRowCount,\n          rowCount = props.rowCount,\n          width = props.width;\n      var scrollDirectionHorizontal = state.scrollDirectionHorizontal,\n          scrollDirectionVertical = state.scrollDirectionVertical,\n          instanceProps = state.instanceProps;\n\n\n      var scrollTop = this._initialScrollTop > 0 ? this._initialScrollTop : state.scrollTop;\n      var scrollLeft = this._initialScrollLeft > 0 ? this._initialScrollLeft : state.scrollLeft;\n\n      var isScrolling = this._isScrolling(props, state);\n\n      this._childrenToDisplay = [];\n\n      // Render only enough columns and rows to cover the visible area of the grid.\n      if (height > 0 && width > 0) {\n        var visibleColumnIndices = instanceProps.columnSizeAndPositionManager.getVisibleCellRange({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var visibleRowIndices = instanceProps.rowSizeAndPositionManager.getVisibleCellRange({\n          containerSize: height,\n          offset: scrollTop\n        });\n\n        var horizontalOffsetAdjustment = instanceProps.columnSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var verticalOffsetAdjustment = instanceProps.rowSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: height,\n          offset: scrollTop\n        });\n\n        // Store for _invokeOnGridRenderedHelper()\n        this._renderedColumnStartIndex = visibleColumnIndices.start;\n        this._renderedColumnStopIndex = visibleColumnIndices.stop;\n        this._renderedRowStartIndex = visibleRowIndices.start;\n        this._renderedRowStopIndex = visibleRowIndices.stop;\n\n        var overscanColumnIndices = overscanIndicesGetter({\n          direction: 'horizontal',\n          cellCount: columnCount,\n          overscanCellsCount: overscanColumnCount,\n          scrollDirection: scrollDirectionHorizontal,\n          startIndex: typeof visibleColumnIndices.start === 'number' ? visibleColumnIndices.start : 0,\n          stopIndex: typeof visibleColumnIndices.stop === 'number' ? visibleColumnIndices.stop : -1\n        });\n\n        var overscanRowIndices = overscanIndicesGetter({\n          direction: 'vertical',\n          cellCount: rowCount,\n          overscanCellsCount: overscanRowCount,\n          scrollDirection: scrollDirectionVertical,\n          startIndex: typeof visibleRowIndices.start === 'number' ? visibleRowIndices.start : 0,\n          stopIndex: typeof visibleRowIndices.stop === 'number' ? visibleRowIndices.stop : -1\n        });\n\n        // Store for _invokeOnGridRenderedHelper()\n        var columnStartIndex = overscanColumnIndices.overscanStartIndex;\n        var columnStopIndex = overscanColumnIndices.overscanStopIndex;\n        var rowStartIndex = overscanRowIndices.overscanStartIndex;\n        var rowStopIndex = overscanRowIndices.overscanStopIndex;\n\n        // Advanced use-cases (eg CellMeasurer) require batched measurements to determine accurate sizes.\n        if (deferredMeasurementCache) {\n          // If rows have a dynamic height, scan the rows we are about to render.\n          // If any have not yet been measured, then we need to render all columns initially,\n          // Because the height of the row is equal to the tallest cell within that row,\n          // (And so we can't know the height without measuring all column-cells first).\n          if (!deferredMeasurementCache.hasFixedHeight()) {\n            for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n              if (!deferredMeasurementCache.has(rowIndex, 0)) {\n                columnStartIndex = 0;\n                columnStopIndex = columnCount - 1;\n                break;\n              }\n            }\n          }\n\n          // If columns have a dynamic width, scan the columns we are about to render.\n          // If any have not yet been measured, then we need to render all rows initially,\n          // Because the width of the column is equal to the widest cell within that column,\n          // (And so we can't know the width without measuring all row-cells first).\n          if (!deferredMeasurementCache.hasFixedWidth()) {\n            for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n              if (!deferredMeasurementCache.has(0, columnIndex)) {\n                rowStartIndex = 0;\n                rowStopIndex = rowCount - 1;\n                break;\n              }\n            }\n          }\n        }\n\n        this._childrenToDisplay = cellRangeRenderer({\n          cellCache: this._cellCache,\n          cellRenderer: cellRenderer,\n          columnSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          columnStartIndex: columnStartIndex,\n          columnStopIndex: columnStopIndex,\n          deferredMeasurementCache: deferredMeasurementCache,\n          horizontalOffsetAdjustment: horizontalOffsetAdjustment,\n          isScrolling: isScrolling,\n          parent: this,\n          rowSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          rowStartIndex: rowStartIndex,\n          rowStopIndex: rowStopIndex,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          styleCache: this._styleCache,\n          verticalOffsetAdjustment: verticalOffsetAdjustment,\n          visibleColumnIndices: visibleColumnIndices,\n          visibleRowIndices: visibleRowIndices\n        });\n\n        // update the indices\n        this._columnStartIndex = columnStartIndex;\n        this._columnStopIndex = columnStopIndex;\n        this._rowStartIndex = rowStartIndex;\n        this._rowStopIndex = rowStopIndex;\n      }\n    }\n\n    /**\n     * Sets an :isScrolling flag for a small window of time.\n     * This flag is used to disable pointer events on the scrollable portion of the Grid.\n     * This prevents jerky/stuttery mouse-wheel scrolling.\n     */\n\n  }, {\n    key: '_debounceScrollEnded',\n    value: function _debounceScrollEnded() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n\n      this._disablePointerEventsTimeoutId = requestAnimationTimeout(this._debounceScrollEndedCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: '_handleInvalidatedGridSize',\n\n\n    /**\n     * Check for batched CellMeasurer size invalidations.\n     * This will occur the first time one or more previously unmeasured cells are rendered.\n     */\n    value: function _handleInvalidatedGridSize() {\n      if (typeof this._deferredInvalidateColumnIndex === 'number' && typeof this._deferredInvalidateRowIndex === 'number') {\n        var columnIndex = this._deferredInvalidateColumnIndex;\n        var rowIndex = this._deferredInvalidateRowIndex;\n\n        this._deferredInvalidateColumnIndex = null;\n        this._deferredInvalidateRowIndex = null;\n\n        this.recomputeGridSize({ columnIndex: columnIndex, rowIndex: rowIndex });\n      }\n    }\n  }, {\n    key: '_invokeOnScrollMemoizer',\n    value: function _invokeOnScrollMemoizer(_ref6) {\n      var _this3 = this;\n\n      var scrollLeft = _ref6.scrollLeft,\n          scrollTop = _ref6.scrollTop,\n          totalColumnsWidth = _ref6.totalColumnsWidth,\n          totalRowsHeight = _ref6.totalRowsHeight;\n\n      this._onScrollMemoizer({\n        callback: function callback(_ref7) {\n          var scrollLeft = _ref7.scrollLeft,\n              scrollTop = _ref7.scrollTop;\n          var _props7 = _this3.props,\n              height = _props7.height,\n              onScroll = _props7.onScroll,\n              width = _props7.width;\n\n\n          onScroll({\n            clientHeight: height,\n            clientWidth: width,\n            scrollHeight: totalRowsHeight,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: totalColumnsWidth\n          });\n        },\n        indices: {\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        }\n      });\n    }\n  }, {\n    key: '_isScrolling',\n    value: function _isScrolling() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      // If isScrolling is defined in props, use it to override the value in state\n      // This is a performance optimization for WindowScroller + Grid\n      return Object.hasOwnProperty.call(props, 'isScrolling') ? Boolean(props.isScrolling) : Boolean(state.isScrolling);\n    }\n  }, {\n    key: '_maybeCallOnScrollbarPresenceChange',\n    value: function _maybeCallOnScrollbarPresenceChange() {\n      if (this._scrollbarPresenceChanged) {\n        var _onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;\n\n\n        this._scrollbarPresenceChanged = false;\n\n        _onScrollbarPresenceChange({\n          horizontal: this._horizontalScrollBarSize > 0,\n          size: this.state.instanceProps.scrollbarSize,\n          vertical: this._verticalScrollBarSize > 0\n        });\n      }\n    }\n  }, {\n    key: 'scrollToPosition',\n\n\n    /**\n     * Scroll to the specified offset(s).\n     * Useful for animating position changes.\n     */\n    value: function scrollToPosition(_ref8) {\n      var scrollLeft = _ref8.scrollLeft,\n          scrollTop = _ref8.scrollTop;\n\n      this.setState(function (prevState) {\n        var stateUpdate = Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n\n        if (stateUpdate) {\n          stateUpdate.needToResetStyleCache = false;\n          return stateUpdate;\n        }\n        return null;\n      });\n    }\n  }, {\n    key: '_getCalculatedScrollLeft',\n    value: function _getCalculatedScrollLeft() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      return Grid._getCalculatedScrollLeft(props, state);\n    }\n  }, {\n    key: '_updateScrollLeftForScrollToColumn',\n    value: function _updateScrollLeftForScrollToColumn() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollLeftForScrollToColumnStateUpdate(props, state);\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n      }\n      this.setState(stateUpdate);\n    }\n  }, {\n    key: '_getCalculatedScrollTop',\n    value: function _getCalculatedScrollTop() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      return Grid._getCalculatedScrollTop(props, state);\n    }\n  }, {\n    key: '_resetStyleCache',\n    value: function _resetStyleCache() {\n      var styleCache = this._styleCache;\n\n      // Reset cell and style caches once scrolling stops.\n      // This makes Grid simpler to use (since cells commonly change).\n      // And it keeps the caches from growing too large.\n      // Performance is most sensitive when a user is scrolling.\n      this._cellCache = {};\n      this._styleCache = {};\n\n      // Copy over the visible cell styles so avoid unnecessary re-render.\n      for (var rowIndex = this._rowStartIndex; rowIndex <= this._rowStopIndex; rowIndex++) {\n        for (var columnIndex = this._columnStartIndex; columnIndex <= this._columnStopIndex; columnIndex++) {\n          var key = rowIndex + '-' + columnIndex;\n          this._styleCache[key] = styleCache[key];\n        }\n      }\n    }\n  }, {\n    key: '_updateScrollTopForScrollToRow',\n    value: function _updateScrollTopForScrollToRow() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollTopForScrollToRowStateUpdate(props, state);\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n      }\n      this.setState(stateUpdate);\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var newState = {};\n\n      if (nextProps.columnCount === 0 && prevState.scrollLeft !== 0 || nextProps.rowCount === 0 && prevState.scrollTop !== 0) {\n        newState.scrollLeft = 0;\n        newState.scrollTop = 0;\n      } else if (nextProps.scrollLeft !== prevState.scrollLeft || nextProps.scrollTop !== prevState.scrollTop) {\n        // this handles the weird edge case where setting scrollToColumn in\n        // multigrid was causing multiple getDerivedStateFromProps calls. Overriding\n        // the state set in the first time.\n        // We should warn since if scrollTo{column,row} and scroll{left,top} is specified,\n        // scrollTo{column,row} should override.\n        if (nextProps.scrollToColumn > 0 && prevState.scrollLeft && nextProps.scrollLeft === 0) {\n          //NOOP\n        } else if (nextProps.scrollToRow > 0 && prevState.scrollTop && nextProps.scrollTop === 0) {\n          //NOOP\n        } else {\n          _Object$assign(newState, Grid._getScrollToPositionStateUpdate({\n            prevState: prevState,\n            scrollLeft: nextProps.scrollLeft,\n            scrollTop: nextProps.scrollTop\n          }));\n        }\n      }\n\n      var instanceProps = prevState.instanceProps;\n\n      // Initially we should not clearStyleCache\n\n      newState.needToResetStyleCache = false;\n      if (nextProps.columnWidth !== instanceProps.prevColumnWidth || nextProps.rowHeight !== instanceProps.prevRowHeight) {\n        // Reset cache. set it to {} in render\n        newState.needToResetStyleCache = true;\n      }\n\n      instanceProps.columnSizeAndPositionManager.configure({\n        cellCount: nextProps.columnCount,\n        estimatedCellSize: Grid._getEstimatedColumnSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.columnWidth)\n      });\n\n      instanceProps.rowSizeAndPositionManager.configure({\n        cellCount: nextProps.rowCount,\n        estimatedCellSize: Grid._getEstimatedRowSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.rowHeight)\n      });\n\n      if (instanceProps.prevColumnCount === 0 || instanceProps.prevRowCount === 0) {\n        instanceProps.prevColumnCount = 0;\n        instanceProps.prevRowCount = 0;\n      }\n\n      // If scrolling is controlled outside this component, clear cache when scrolling stops\n      if (nextProps.autoHeight && nextProps.isScrolling === false && instanceProps.prevIsScrolling === true) {\n        _Object$assign(newState, {\n          isScrolling: false\n        });\n      }\n\n      var maybeStateA = void 0;\n      var maybeStateB = void 0;\n\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevColumnCount,\n        cellSize: typeof instanceProps.prevColumnWidth === 'number' ? instanceProps.prevColumnWidth : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.columnSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.columnCount,\n        nextCellSize: typeof nextProps.columnWidth === 'number' ? nextProps.columnWidth : null,\n        nextScrollToIndex: nextProps.scrollToColumn,\n        scrollToIndex: instanceProps.prevScrollToColumn,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateA = Grid._getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState);\n        }\n      });\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevRowCount,\n        cellSize: typeof instanceProps.prevRowHeight === 'number' ? instanceProps.prevRowHeight : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.rowSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.rowCount,\n        nextCellSize: typeof nextProps.rowHeight === 'number' ? nextProps.rowHeight : null,\n        nextScrollToIndex: nextProps.scrollToRow,\n        scrollToIndex: instanceProps.prevScrollToRow,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateB = Grid._getScrollTopForScrollToRowStateUpdate(nextProps, prevState);\n        }\n      });\n\n      instanceProps.prevColumnCount = nextProps.columnCount;\n      instanceProps.prevColumnWidth = nextProps.columnWidth;\n      instanceProps.prevIsScrolling = nextProps.isScrolling === true;\n      instanceProps.prevRowCount = nextProps.rowCount;\n      instanceProps.prevRowHeight = nextProps.rowHeight;\n      instanceProps.prevScrollToColumn = nextProps.scrollToColumn;\n      instanceProps.prevScrollToRow = nextProps.scrollToRow;\n\n      // getting scrollBarSize (moved from componentWillMount)\n      instanceProps.scrollbarSize = nextProps.getScrollbarSize();\n      if (instanceProps.scrollbarSize === undefined) {\n        instanceProps.scrollbarSizeMeasured = false;\n        instanceProps.scrollbarSize = 0;\n      } else {\n        instanceProps.scrollbarSizeMeasured = true;\n      }\n\n      newState.instanceProps = instanceProps;\n\n      return _extends({}, newState, maybeStateA, maybeStateB);\n    }\n  }, {\n    key: '_getEstimatedColumnSize',\n    value: function _getEstimatedColumnSize(props) {\n      return typeof props.columnWidth === 'number' ? props.columnWidth : props.estimatedColumnSize;\n    }\n  }, {\n    key: '_getEstimatedRowSize',\n    value: function _getEstimatedRowSize(props) {\n      return typeof props.rowHeight === 'number' ? props.rowHeight : props.estimatedRowSize;\n    }\n  }, {\n    key: '_getScrollToPositionStateUpdate',\n\n\n    /**\n     * Get the updated state after scrolling to\n     * scrollLeft and scrollTop\n     */\n    value: function _getScrollToPositionStateUpdate(_ref9) {\n      var prevState = _ref9.prevState,\n          scrollLeft = _ref9.scrollLeft,\n          scrollTop = _ref9.scrollTop;\n\n      var newState = {\n        scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n      };\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0) {\n        newState.scrollDirectionHorizontal = scrollLeft > prevState.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollLeft = scrollLeft;\n      }\n\n      if (typeof scrollTop === 'number' && scrollTop >= 0) {\n        newState.scrollDirectionVertical = scrollTop > prevState.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollTop = scrollTop;\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft || typeof scrollTop === 'number' && scrollTop >= 0 && scrollTop !== prevState.scrollTop) {\n        return newState;\n      }\n      return null;\n    }\n  }, {\n    key: '_wrapSizeGetter',\n    value: function _wrapSizeGetter(value) {\n      return typeof value === 'function' ? value : function () {\n        return value;\n      };\n    }\n  }, {\n    key: '_getCalculatedScrollLeft',\n    value: function _getCalculatedScrollLeft(nextProps, prevState) {\n      var columnCount = nextProps.columnCount,\n          height = nextProps.height,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToColumn = nextProps.scrollToColumn,\n          width = nextProps.width;\n      var scrollLeft = prevState.scrollLeft,\n          instanceProps = prevState.instanceProps;\n\n\n      if (columnCount > 0) {\n        var finalColumn = columnCount - 1;\n        var targetIndex = scrollToColumn < 0 ? finalColumn : Math.min(finalColumn, scrollToColumn);\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n\n        return instanceProps.columnSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: width - scrollBarSize,\n          currentOffset: scrollLeft,\n          targetIndex: targetIndex\n        });\n      }\n      return 0;\n    }\n  }, {\n    key: '_getScrollLeftForScrollToColumnStateUpdate',\n    value: function _getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState) {\n      var scrollLeft = prevState.scrollLeft;\n\n      var calculatedScrollLeft = Grid._getCalculatedScrollLeft(nextProps, prevState);\n\n      if (typeof calculatedScrollLeft === 'number' && calculatedScrollLeft >= 0 && scrollLeft !== calculatedScrollLeft) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: calculatedScrollLeft,\n          scrollTop: -1\n        });\n      }\n      return null;\n    }\n  }, {\n    key: '_getCalculatedScrollTop',\n    value: function _getCalculatedScrollTop(nextProps, prevState) {\n      var height = nextProps.height,\n          rowCount = nextProps.rowCount,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToRow = nextProps.scrollToRow,\n          width = nextProps.width;\n      var scrollTop = prevState.scrollTop,\n          instanceProps = prevState.instanceProps;\n\n\n      if (rowCount > 0) {\n        var finalRow = rowCount - 1;\n        var targetIndex = scrollToRow < 0 ? finalRow : Math.min(finalRow, scrollToRow);\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n\n        return instanceProps.rowSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: height - scrollBarSize,\n          currentOffset: scrollTop,\n          targetIndex: targetIndex\n        });\n      }\n      return 0;\n    }\n  }, {\n    key: '_getScrollTopForScrollToRowStateUpdate',\n    value: function _getScrollTopForScrollToRowStateUpdate(nextProps, prevState) {\n      var scrollTop = prevState.scrollTop;\n\n      var calculatedScrollTop = Grid._getCalculatedScrollTop(nextProps, prevState);\n\n      if (typeof calculatedScrollTop === 'number' && calculatedScrollTop >= 0 && scrollTop !== calculatedScrollTop) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: -1,\n          scrollTop: calculatedScrollTop\n        });\n      }\n      return null;\n    }\n  }]);\n\n  return Grid;\n}(React.PureComponent);\n\nGrid.defaultProps = {\n  'aria-label': 'grid',\n  'aria-readonly': true,\n  autoContainerWidth: false,\n  autoHeight: false,\n  autoWidth: false,\n  cellRangeRenderer: defaultCellRangeRenderer,\n  containerRole: 'rowgroup',\n  containerStyle: {},\n  estimatedColumnSize: 100,\n  estimatedRowSize: 30,\n  getScrollbarSize: scrollbarSize,\n  noContentRenderer: renderNull,\n  onScroll: function onScroll() {},\n  onScrollbarPresenceChange: function onScrollbarPresenceChange() {},\n  onSectionRendered: function onSectionRendered() {},\n  overscanColumnCount: 0,\n  overscanIndicesGetter: defaultOverscanIndicesGetter,\n  overscanRowCount: 10,\n  role: 'grid',\n  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  scrollToAlignment: 'auto',\n  scrollToColumn: -1,\n  scrollToRow: -1,\n  style: {},\n  tabIndex: 0\n};\nGrid.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  \"aria-label\": PropTypes.string.isRequired,\n  \"aria-readonly\": PropTypes.bool,\n\n\n  /**\n   * Set the width of the inner scrollable container to 'auto'.\n   * This is useful for single-column Grids to ensure that the column doesn't extend below a vertical scrollbar.\n   */\n  autoContainerWidth: PropTypes.bool.isRequired,\n\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height of rows can stretch the window.\n   * Intended for use with WindowScroller\n   */\n  autoHeight: PropTypes.bool.isRequired,\n\n\n  /**\n   * Removes fixed width from the scrollingContainer so that the total width of rows can stretch the window.\n   * Intended for use with WindowScroller\n   */\n  autoWidth: PropTypes.bool.isRequired,\n\n\n  /** Responsible for rendering a cell given an row and column index.  */\n  cellRenderer: function cellRenderer() {\n    return (typeof bpfrpt_proptype_CellRenderer === 'function' ? bpfrpt_proptype_CellRenderer.isRequired ? bpfrpt_proptype_CellRenderer.isRequired : bpfrpt_proptype_CellRenderer : PropTypes.shape(bpfrpt_proptype_CellRenderer).isRequired).apply(this, arguments);\n  },\n\n\n  /** Responsible for rendering a group of cells given their index ranges.  */\n  cellRangeRenderer: function cellRangeRenderer() {\n    return (typeof bpfrpt_proptype_CellRangeRenderer === 'function' ? bpfrpt_proptype_CellRangeRenderer.isRequired ? bpfrpt_proptype_CellRangeRenderer.isRequired : bpfrpt_proptype_CellRangeRenderer : PropTypes.shape(bpfrpt_proptype_CellRangeRenderer).isRequired).apply(this, arguments);\n  },\n\n\n  /** Optional custom CSS class name to attach to root Grid element.  */\n  className: PropTypes.string,\n\n\n  /** Number of columns in grid.  */\n  columnCount: PropTypes.number.isRequired,\n\n\n  /** Either a fixed column width (number) or a function that returns the width of a column given its index.  */\n  columnWidth: function columnWidth() {\n    return (typeof bpfrpt_proptype_CellSize === 'function' ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : PropTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n\n  /** Unfiltered props for the Grid container. */\n  containerProps: PropTypes.object,\n\n\n  /** ARIA role for the cell-container.  */\n  containerRole: PropTypes.string.isRequired,\n\n\n  /** Optional inline style applied to inner cell-container */\n  containerStyle: PropTypes.object.isRequired,\n\n\n  /**\n   * If CellMeasurer is used to measure this Grid's children, this should be a pointer to its CellMeasurerCache.\n   * A shared CellMeasurerCache reference enables Grid and CellMeasurer to share measurement data.\n   */\n  deferredMeasurementCache: PropTypes.object,\n\n\n  /**\n   * Used to estimate the total width of a Grid before all of its columns have actually been measured.\n   * The estimated total width is adjusted as columns are rendered.\n   */\n  estimatedColumnSize: PropTypes.number.isRequired,\n\n\n  /**\n   * Used to estimate the total height of a Grid before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  estimatedRowSize: PropTypes.number.isRequired,\n\n\n  /** Exposed for testing purposes only.  */\n  getScrollbarSize: PropTypes.func.isRequired,\n\n\n  /** Height of Grid; this property determines the number of visible (vs virtualized) rows.  */\n  height: PropTypes.number.isRequired,\n\n\n  /** Optional custom id to attach to root Grid element.  */\n  id: PropTypes.string,\n\n\n  /**\n   * Override internal is-scrolling state tracking.\n   * This property is primarily intended for use with the WindowScroller component.\n   */\n  isScrolling: PropTypes.bool,\n\n\n  /** Optional renderer to be used in place of rows when either :rowCount or :columnCount is 0.  */\n  noContentRenderer: function noContentRenderer() {\n    return (typeof bpfrpt_proptype_NoContentRenderer === 'function' ? bpfrpt_proptype_NoContentRenderer.isRequired ? bpfrpt_proptype_NoContentRenderer.isRequired : bpfrpt_proptype_NoContentRenderer : PropTypes.shape(bpfrpt_proptype_NoContentRenderer).isRequired).apply(this, arguments);\n  },\n\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   */\n  onScroll: PropTypes.func.isRequired,\n\n\n  /**\n   * Called whenever a horizontal or vertical scrollbar is added or removed.\n   * This prop is not intended for end-user use;\n   * It is used by MultiGrid to support fixed-row/fixed-column scroll syncing.\n   */\n  onScrollbarPresenceChange: PropTypes.func.isRequired,\n\n\n  /** Callback invoked with information about the section of the Grid that was just rendered.  */\n  onSectionRendered: PropTypes.func.isRequired,\n\n\n  /**\n   * Number of columns to render before/after the visible section of the grid.\n   * These columns can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.\n   */\n  overscanColumnCount: PropTypes.number.isRequired,\n\n\n  /**\n   * Calculates the number of cells to overscan before and after a specified range.\n   * This function ensures that overscanning doesn't exceed the available cells.\n   */\n  overscanIndicesGetter: function overscanIndicesGetter() {\n    return (typeof bpfrpt_proptype_OverscanIndicesGetter === 'function' ? bpfrpt_proptype_OverscanIndicesGetter.isRequired ? bpfrpt_proptype_OverscanIndicesGetter.isRequired : bpfrpt_proptype_OverscanIndicesGetter : PropTypes.shape(bpfrpt_proptype_OverscanIndicesGetter).isRequired).apply(this, arguments);\n  },\n\n\n  /**\n   * Number of rows to render above/below the visible section of the grid.\n   * These rows can help for smoother scrolling on touch devices or browsers that send scroll events infrequently.\n   */\n  overscanRowCount: PropTypes.number.isRequired,\n\n\n  /** ARIA role for the grid element.  */\n  role: PropTypes.string.isRequired,\n\n\n  /**\n   * Either a fixed row height (number) or a function that returns the height of a row given its index.\n   * Should implement the following interface: ({ index: number }): number\n   */\n  rowHeight: function rowHeight() {\n    return (typeof bpfrpt_proptype_CellSize === 'function' ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : PropTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n\n  /** Number of rows in grid.  */\n  rowCount: PropTypes.number.isRequired,\n\n\n  /** Wait this amount of time after the last scroll event before resetting Grid `pointer-events`. */\n  scrollingResetTimeInterval: PropTypes.number.isRequired,\n\n\n  /** Horizontal offset. */\n  scrollLeft: PropTypes.number,\n\n\n  /**\n   * Controls scroll-to-cell behavior of the Grid.\n   * The default (\"auto\") scrolls the least amount possible to ensure that the specified cell is fully visible.\n   * Use \"start\" to align cells to the top/left of the Grid and \"end\" to align bottom/right.\n   */\n  scrollToAlignment: function scrollToAlignment() {\n    return (typeof bpfrpt_proptype_Alignment === 'function' ? bpfrpt_proptype_Alignment.isRequired ? bpfrpt_proptype_Alignment.isRequired : bpfrpt_proptype_Alignment : PropTypes.shape(bpfrpt_proptype_Alignment).isRequired).apply(this, arguments);\n  },\n\n\n  /** Column index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToColumn: PropTypes.number.isRequired,\n\n\n  /** Vertical offset. */\n  scrollTop: PropTypes.number,\n\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToRow: PropTypes.number.isRequired,\n\n\n  /** Optional inline style */\n  style: PropTypes.object.isRequired,\n\n\n  /** Tab index for focus */\n  tabIndex: PropTypes.number,\n\n\n  /** Width of Grid; this property determines the number of visible (vs virtualized) columns.  */\n  width: PropTypes.number.isRequired\n};\n\n\npolyfill(Grid);\nexport default Grid;\nimport { bpfrpt_proptype_CellRenderer } from './types';\nimport { bpfrpt_proptype_CellRangeRenderer } from './types';\nimport { bpfrpt_proptype_CellPosition } from './types';\nimport { bpfrpt_proptype_CellSize } from './types';\nimport { bpfrpt_proptype_CellSizeGetter } from './types';\nimport { bpfrpt_proptype_NoContentRenderer } from './types';\nimport { bpfrpt_proptype_Scroll } from './types';\nimport { bpfrpt_proptype_ScrollbarPresenceChange } from './types';\nimport { bpfrpt_proptype_RenderedSection } from './types';\nimport { bpfrpt_proptype_OverscanIndicesGetter } from './types';\nimport { bpfrpt_proptype_Alignment } from './types';\nimport { bpfrpt_proptype_CellCache } from './types';\nimport { bpfrpt_proptype_StyleCache } from './types';\nimport { bpfrpt_proptype_AnimationTimeoutId } from '../utils/requestAnimationTimeout';\nimport PropTypes from 'prop-types';","\n\nexport var SCROLL_DIRECTION_BACKWARD = -1;\n\nexport var SCROLL_DIRECTION_FORWARD = 1;\n\nexport var SCROLL_DIRECTION_HORIZONTAL = 'horizontal';\nexport var SCROLL_DIRECTION_VERTICAL = 'vertical';\n\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nexport default function defaultOverscanIndicesGetter(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n\n  // Make sure we render at least 1 cell extra before and after (except near boundaries)\n  // This is necessary in order to support keyboard navigation (TAB/SHIFT+TAB) in some cases\n  // For more info see issues #625\n  overscanCellsCount = Math.max(1, overscanCellsCount);\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - 1),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + 1)\n    };\n  }\n}\nimport { bpfrpt_proptype_OverscanIndicesGetterParams } from './types';\nimport { bpfrpt_proptype_OverscanIndices } from './types';","\n\n/**\n * Default implementation of cellRangeRenderer used by Grid.\n * This renderer supports cell-caching while the user is scrolling.\n */\n\nexport default function defaultCellRangeRenderer(_ref) {\n  var cellCache = _ref.cellCache,\n      cellRenderer = _ref.cellRenderer,\n      columnSizeAndPositionManager = _ref.columnSizeAndPositionManager,\n      columnStartIndex = _ref.columnStartIndex,\n      columnStopIndex = _ref.columnStopIndex,\n      deferredMeasurementCache = _ref.deferredMeasurementCache,\n      horizontalOffsetAdjustment = _ref.horizontalOffsetAdjustment,\n      isScrolling = _ref.isScrolling,\n      parent = _ref.parent,\n      rowSizeAndPositionManager = _ref.rowSizeAndPositionManager,\n      rowStartIndex = _ref.rowStartIndex,\n      rowStopIndex = _ref.rowStopIndex,\n      styleCache = _ref.styleCache,\n      verticalOffsetAdjustment = _ref.verticalOffsetAdjustment,\n      visibleColumnIndices = _ref.visibleColumnIndices,\n      visibleRowIndices = _ref.visibleRowIndices;\n\n  var renderedCells = [];\n\n  // Browsers have native size limits for elements (eg Chrome 33M pixels, IE 1.5M pixes).\n  // User cannot scroll beyond these size limitations.\n  // In order to work around this, ScalingCellSizeAndPositionManager compresses offsets.\n  // We should never cache styles for compressed offsets though as this can lead to bugs.\n  // See issue #576 for more.\n  var areOffsetsAdjusted = columnSizeAndPositionManager.areOffsetsAdjusted() || rowSizeAndPositionManager.areOffsetsAdjusted();\n\n  var canCacheStyle = !isScrolling && !areOffsetsAdjusted;\n\n  for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n    var rowDatum = rowSizeAndPositionManager.getSizeAndPositionOfCell(rowIndex);\n\n    for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n      var columnDatum = columnSizeAndPositionManager.getSizeAndPositionOfCell(columnIndex);\n      var isVisible = columnIndex >= visibleColumnIndices.start && columnIndex <= visibleColumnIndices.stop && rowIndex >= visibleRowIndices.start && rowIndex <= visibleRowIndices.stop;\n      var key = rowIndex + '-' + columnIndex;\n      var style = void 0;\n\n      // Cache style objects so shallow-compare doesn't re-render unnecessarily.\n      if (canCacheStyle && styleCache[key]) {\n        style = styleCache[key];\n      } else {\n        // In deferred mode, cells will be initially rendered before we know their size.\n        // Don't interfere with CellMeasurer's measurements by setting an invalid size.\n        if (deferredMeasurementCache && !deferredMeasurementCache.has(rowIndex, columnIndex)) {\n          // Position not-yet-measured cells at top/left 0,0,\n          // And give them width/height of 'auto' so they can grow larger than the parent Grid if necessary.\n          // Positioning them further to the right/bottom influences their measured size.\n          style = {\n            height: 'auto',\n            left: 0,\n            position: 'absolute',\n            top: 0,\n            width: 'auto'\n          };\n        } else {\n          style = {\n            height: rowDatum.size,\n            left: columnDatum.offset + horizontalOffsetAdjustment,\n            position: 'absolute',\n            top: rowDatum.offset + verticalOffsetAdjustment,\n            width: columnDatum.size\n          };\n\n          styleCache[key] = style;\n        }\n      }\n\n      var cellRendererParams = {\n        columnIndex: columnIndex,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent,\n        rowIndex: rowIndex,\n        style: style\n      };\n\n      var renderedCell = void 0;\n\n      // Avoid re-creating cells while scrolling.\n      // This can lead to the same cell being created many times and can cause performance issues for \"heavy\" cells.\n      // If a scroll is in progress- cache and reuse cells.\n      // This cache will be thrown away once scrolling completes.\n      // However if we are scaling scroll positions and sizes, we should also avoid caching.\n      // This is because the offset changes slightly as scroll position changes and caching leads to stale values.\n      // For more info refer to issue #395\n      if (isScrolling && !horizontalOffsetAdjustment && !verticalOffsetAdjustment) {\n        if (!cellCache[key]) {\n          cellCache[key] = cellRenderer(cellRendererParams);\n        }\n\n        renderedCell = cellCache[key];\n\n        // If the user is no longer scrolling, don't cache cells.\n        // This makes dynamic cell content difficult for users and would also lead to a heavier memory footprint.\n      } else {\n        renderedCell = cellRenderer(cellRendererParams);\n      }\n\n      if (renderedCell == null || renderedCell === false) {\n        continue;\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        warnAboutMissingStyle(parent, renderedCell);\n      }\n\n      renderedCells.push(renderedCell);\n    }\n  }\n\n  return renderedCells;\n}\n\nfunction warnAboutMissingStyle(parent, renderedCell) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (renderedCell) {\n      // If the direct child is a CellMeasurer, then we should check its child\n      // See issue #611\n      if (renderedCell.type && renderedCell.type.__internalCellMeasurerFlag) {\n        renderedCell = renderedCell.props.children;\n      }\n\n      if (renderedCell && renderedCell.props && renderedCell.props.style === undefined && parent.__warnedAboutMissingStyle !== true) {\n        parent.__warnedAboutMissingStyle = true;\n\n        console.warn('Rendered cell should include style property for positioning.');\n      }\n    }\n  }\n}\nimport { bpfrpt_proptype_CellRangeRendererParams } from './types';","\n\nexport var SCROLL_DIRECTION_BACKWARD = -1;\n\nexport var SCROLL_DIRECTION_FORWARD = 1;\n\nexport var SCROLL_DIRECTION_HORIZONTAL = 'horizontal';\nexport var SCROLL_DIRECTION_VERTICAL = 'vertical';\n\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nexport default function defaultOverscanIndicesGetter(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex)\n    };\n  }\n}\nimport { bpfrpt_proptype_OverscanIndicesGetterParams } from './types';\nimport { bpfrpt_proptype_OverscanIndices } from './types';","import * as React from 'react';\nimport ScalingCellSizeAndPositionManager from './utils/ScalingCellSizeAndPositionManager';\n\nvar bpfrpt_proptype_CellPosition = process.env.NODE_ENV === 'production' ? null : {\n  columnIndex: PropTypes.number.isRequired,\n  rowIndex: PropTypes.number.isRequired\n};\nvar bpfrpt_proptype_CellRendererParams = process.env.NODE_ENV === 'production' ? null : {\n  columnIndex: PropTypes.number.isRequired,\n  isScrolling: PropTypes.bool.isRequired,\n  isVisible: PropTypes.bool.isRequired,\n  key: PropTypes.string.isRequired,\n  parent: PropTypes.object.isRequired,\n  rowIndex: PropTypes.number.isRequired,\n  style: PropTypes.object.isRequired\n};\nvar bpfrpt_proptype_CellRenderer = process.env.NODE_ENV === 'production' ? null : PropTypes.func;\nvar bpfrpt_proptype_CellCache = process.env.NODE_ENV === 'production' ? null : PropTypes.objectOf(PropTypes.node.isRequired);\nvar bpfrpt_proptype_StyleCache = process.env.NODE_ENV === 'production' ? null : PropTypes.objectOf(PropTypes.object.isRequired);\nvar bpfrpt_proptype_CellRangeRendererParams = process.env.NODE_ENV === 'production' ? null : {\n  cellCache: PropTypes.objectOf(PropTypes.node.isRequired).isRequired,\n  cellRenderer: PropTypes.func.isRequired,\n  columnSizeAndPositionManager: function columnSizeAndPositionManager() {\n    return (typeof ScalingCellSizeAndPositionManager === 'function' ? PropTypes.instanceOf(ScalingCellSizeAndPositionManager).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  columnStartIndex: PropTypes.number.isRequired,\n  columnStopIndex: PropTypes.number.isRequired,\n  deferredMeasurementCache: PropTypes.object,\n  horizontalOffsetAdjustment: PropTypes.number.isRequired,\n  isScrolling: PropTypes.bool.isRequired,\n  parent: PropTypes.object.isRequired,\n  rowSizeAndPositionManager: function rowSizeAndPositionManager() {\n    return (typeof ScalingCellSizeAndPositionManager === 'function' ? PropTypes.instanceOf(ScalingCellSizeAndPositionManager).isRequired : PropTypes.any.isRequired).apply(this, arguments);\n  },\n  rowStartIndex: PropTypes.number.isRequired,\n  rowStopIndex: PropTypes.number.isRequired,\n  scrollLeft: PropTypes.number.isRequired,\n  scrollTop: PropTypes.number.isRequired,\n  styleCache: PropTypes.objectOf(PropTypes.object.isRequired).isRequired,\n  verticalOffsetAdjustment: PropTypes.number.isRequired,\n  visibleColumnIndices: PropTypes.object.isRequired,\n  visibleRowIndices: PropTypes.object.isRequired\n};\nvar bpfrpt_proptype_CellRangeRenderer = process.env.NODE_ENV === 'production' ? null : PropTypes.func;\nvar bpfrpt_proptype_CellSizeGetter = process.env.NODE_ENV === 'production' ? null : PropTypes.func;\nvar bpfrpt_proptype_CellSize = process.env.NODE_ENV === 'production' ? null : PropTypes.oneOfType([PropTypes.func, PropTypes.number]);\nvar bpfrpt_proptype_NoContentRenderer = process.env.NODE_ENV === 'production' ? null : PropTypes.func;\nvar bpfrpt_proptype_Scroll = process.env.NODE_ENV === 'production' ? null : {\n  clientHeight: PropTypes.number.isRequired,\n  clientWidth: PropTypes.number.isRequired,\n  scrollHeight: PropTypes.number.isRequired,\n  scrollLeft: PropTypes.number.isRequired,\n  scrollTop: PropTypes.number.isRequired,\n  scrollWidth: PropTypes.number.isRequired\n};\nvar bpfrpt_proptype_ScrollbarPresenceChange = process.env.NODE_ENV === 'production' ? null : {\n  horizontal: PropTypes.bool.isRequired,\n  vertical: PropTypes.bool.isRequired,\n  size: PropTypes.number.isRequired\n};\nvar bpfrpt_proptype_RenderedSection = process.env.NODE_ENV === 'production' ? null : {\n  columnOverscanStartIndex: PropTypes.number.isRequired,\n  columnOverscanStopIndex: PropTypes.number.isRequired,\n  columnStartIndex: PropTypes.number.isRequired,\n  columnStopIndex: PropTypes.number.isRequired,\n  rowOverscanStartIndex: PropTypes.number.isRequired,\n  rowOverscanStopIndex: PropTypes.number.isRequired,\n  rowStartIndex: PropTypes.number.isRequired,\n  rowStopIndex: PropTypes.number.isRequired\n};\nvar bpfrpt_proptype_OverscanIndicesGetterParams = process.env.NODE_ENV === 'production' ? null : {\n  // One of SCROLL_DIRECTION_HORIZONTAL or SCROLL_DIRECTION_VERTICAL\n  direction: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n\n\n  // One of SCROLL_DIRECTION_BACKWARD or SCROLL_DIRECTION_FORWARD\n  scrollDirection: PropTypes.oneOf([-1, 1]).isRequired,\n\n\n  // Number of rows or columns in the current axis\n  cellCount: PropTypes.number.isRequired,\n\n\n  // Maximum number of cells to over-render in either direction\n  overscanCellsCount: PropTypes.number.isRequired,\n\n\n  // Begin of range of visible cells\n  startIndex: PropTypes.number.isRequired,\n\n\n  // End of range of visible cells\n  stopIndex: PropTypes.number.isRequired\n};\nvar bpfrpt_proptype_OverscanIndices = process.env.NODE_ENV === 'production' ? null : {\n  overscanStartIndex: PropTypes.number.isRequired,\n  overscanStopIndex: PropTypes.number.isRequired\n};\nvar bpfrpt_proptype_OverscanIndicesGetter = process.env.NODE_ENV === 'production' ? null : PropTypes.func;\nvar bpfrpt_proptype_Alignment = process.env.NODE_ENV === 'production' ? null : PropTypes.oneOf(['auto', 'end', 'start', 'center']);\nvar bpfrpt_proptype_VisibleCellRange = process.env.NODE_ENV === 'production' ? null : {\n  start: PropTypes.number,\n  stop: PropTypes.number\n};\nimport PropTypes from 'prop-types';\nexport { bpfrpt_proptype_CellPosition };\nexport { bpfrpt_proptype_CellRendererParams };\nexport { bpfrpt_proptype_CellRenderer };\nexport { bpfrpt_proptype_CellCache };\nexport { bpfrpt_proptype_StyleCache };\nexport { bpfrpt_proptype_CellRangeRendererParams };\nexport { bpfrpt_proptype_CellRangeRenderer };\nexport { bpfrpt_proptype_CellSizeGetter };\nexport { bpfrpt_proptype_CellSize };\nexport { bpfrpt_proptype_NoContentRenderer };\nexport { bpfrpt_proptype_Scroll };\nexport { bpfrpt_proptype_ScrollbarPresenceChange };\nexport { bpfrpt_proptype_RenderedSection };\nexport { bpfrpt_proptype_OverscanIndicesGetterParams };\nexport { bpfrpt_proptype_OverscanIndices };\nexport { bpfrpt_proptype_OverscanIndicesGetter };\nexport { bpfrpt_proptype_Alignment };\nexport { bpfrpt_proptype_VisibleCellRange };","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\n\n/**\n * Just-in-time calculates and caches size and position information for a collection of cells.\n */\n\nvar CellSizeAndPositionManager = function () {\n\n  // Used in deferred mode to track which cells have been queued for measurement.\n\n  // Cache of size and position data for cells, mapped by cell index.\n  // Note that invalid values may exist in this map so only rely on cells up to this._lastMeasuredIndex\n  function CellSizeAndPositionManager(_ref) {\n    var cellCount = _ref.cellCount,\n        cellSizeGetter = _ref.cellSizeGetter,\n        estimatedCellSize = _ref.estimatedCellSize;\n\n    _classCallCheck(this, CellSizeAndPositionManager);\n\n    this._cellSizeAndPositionData = {};\n    this._lastMeasuredIndex = -1;\n    this._lastBatchedIndex = -1;\n\n    this._cellSizeGetter = cellSizeGetter;\n    this._cellCount = cellCount;\n    this._estimatedCellSize = estimatedCellSize;\n  }\n\n  // Measurements for cells up to this index can be trusted; cells afterward should be estimated.\n\n\n  _createClass(CellSizeAndPositionManager, [{\n    key: 'areOffsetsAdjusted',\n    value: function areOffsetsAdjusted() {\n      return false;\n    }\n  }, {\n    key: 'configure',\n    value: function configure(_ref2) {\n      var cellCount = _ref2.cellCount,\n          estimatedCellSize = _ref2.estimatedCellSize,\n          cellSizeGetter = _ref2.cellSizeGetter;\n\n      this._cellCount = cellCount;\n      this._estimatedCellSize = estimatedCellSize;\n      this._cellSizeGetter = cellSizeGetter;\n    }\n  }, {\n    key: 'getCellCount',\n    value: function getCellCount() {\n      return this._cellCount;\n    }\n  }, {\n    key: 'getEstimatedCellSize',\n    value: function getEstimatedCellSize() {\n      return this._estimatedCellSize;\n    }\n  }, {\n    key: 'getLastMeasuredIndex',\n    value: function getLastMeasuredIndex() {\n      return this._lastMeasuredIndex;\n    }\n  }, {\n    key: 'getOffsetAdjustment',\n    value: function getOffsetAdjustment() {\n      return 0;\n    }\n\n    /**\n     * This method returns the size and position for the cell at the specified index.\n     * It just-in-time calculates (or used cached values) for cells leading up to the index.\n     */\n\n  }, {\n    key: 'getSizeAndPositionOfCell',\n    value: function getSizeAndPositionOfCell(index) {\n      if (index < 0 || index >= this._cellCount) {\n        throw Error('Requested index ' + index + ' is outside of range 0..' + this._cellCount);\n      }\n\n      if (index > this._lastMeasuredIndex) {\n        var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n        var _offset = lastMeasuredCellSizeAndPosition.offset + lastMeasuredCellSizeAndPosition.size;\n\n        for (var i = this._lastMeasuredIndex + 1; i <= index; i++) {\n          var _size = this._cellSizeGetter({ index: i });\n\n          // undefined or NaN probably means a logic error in the size getter.\n          // null means we're using CellMeasurer and haven't yet measured a given index.\n          if (_size === undefined || isNaN(_size)) {\n            throw Error('Invalid size returned for cell ' + i + ' of value ' + _size);\n          } else if (_size === null) {\n            this._cellSizeAndPositionData[i] = {\n              offset: _offset,\n              size: 0\n            };\n\n            this._lastBatchedIndex = index;\n          } else {\n            this._cellSizeAndPositionData[i] = {\n              offset: _offset,\n              size: _size\n            };\n\n            _offset += _size;\n\n            this._lastMeasuredIndex = index;\n          }\n        }\n      }\n\n      return this._cellSizeAndPositionData[index];\n    }\n  }, {\n    key: 'getSizeAndPositionOfLastMeasuredCell',\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      return this._lastMeasuredIndex >= 0 ? this._cellSizeAndPositionData[this._lastMeasuredIndex] : {\n        offset: 0,\n        size: 0\n      };\n    }\n\n    /**\n     * Total size of all cells being measured.\n     * This value will be completely estimated initially.\n     * As cells are measured, the estimate will be updated.\n     */\n\n  }, {\n    key: 'getTotalSize',\n    value: function getTotalSize() {\n      var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n      var totalSizeOfMeasuredCells = lastMeasuredCellSizeAndPosition.offset + lastMeasuredCellSizeAndPosition.size;\n      var numUnmeasuredCells = this._cellCount - this._lastMeasuredIndex - 1;\n      var totalSizeOfUnmeasuredCells = numUnmeasuredCells * this._estimatedCellSize;\n      return totalSizeOfMeasuredCells + totalSizeOfUnmeasuredCells;\n    }\n\n    /**\n     * Determines a new offset that ensures a certain cell is visible, given the current offset.\n     * If the cell is already visible then the current offset will be returned.\n     * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.\n     *\n     * @param align Desired alignment within container; one of \"auto\" (default), \"start\", or \"end\"\n     * @param containerSize Size (width or height) of the container viewport\n     * @param currentOffset Container's current (x or y) offset\n     * @param totalSize Total size (width or height) of all cells\n     * @return Offset to use to ensure the specified cell is visible\n     */\n\n  }, {\n    key: 'getUpdatedOffsetForIndex',\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === undefined ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n\n      if (containerSize <= 0) {\n        return 0;\n      }\n\n      var datum = this.getSizeAndPositionOfCell(targetIndex);\n      var maxOffset = datum.offset;\n      var minOffset = maxOffset - containerSize + datum.size;\n\n      var idealOffset = void 0;\n\n      switch (align) {\n        case 'start':\n          idealOffset = maxOffset;\n          break;\n        case 'end':\n          idealOffset = minOffset;\n          break;\n        case 'center':\n          idealOffset = maxOffset - (containerSize - datum.size) / 2;\n          break;\n        default:\n          idealOffset = Math.max(minOffset, Math.min(maxOffset, currentOffset));\n          break;\n      }\n\n      var totalSize = this.getTotalSize();\n\n      return Math.max(0, Math.min(totalSize - containerSize, idealOffset));\n    }\n  }, {\n    key: 'getVisibleCellRange',\n    value: function getVisibleCellRange(params) {\n      var containerSize = params.containerSize,\n          offset = params.offset;\n\n\n      var totalSize = this.getTotalSize();\n\n      if (totalSize === 0) {\n        return {};\n      }\n\n      var maxOffset = offset + containerSize;\n      var start = this._findNearestCell(offset);\n\n      var datum = this.getSizeAndPositionOfCell(start);\n      offset = datum.offset + datum.size;\n\n      var stop = start;\n\n      while (offset < maxOffset && stop < this._cellCount - 1) {\n        stop++;\n\n        offset += this.getSizeAndPositionOfCell(stop).size;\n      }\n\n      return {\n        start: start,\n        stop: stop\n      };\n    }\n\n    /**\n     * Clear all cached values for cells after the specified index.\n     * This method should be called for any cell that has changed its size.\n     * It will not immediately perform any calculations; they'll be performed the next time getSizeAndPositionOfCell() is called.\n     */\n\n  }, {\n    key: 'resetCell',\n    value: function resetCell(index) {\n      this._lastMeasuredIndex = Math.min(this._lastMeasuredIndex, index - 1);\n    }\n  }, {\n    key: '_binarySearch',\n    value: function _binarySearch(high, low, offset) {\n      while (low <= high) {\n        var middle = low + Math.floor((high - low) / 2);\n        var _currentOffset = this.getSizeAndPositionOfCell(middle).offset;\n\n        if (_currentOffset === offset) {\n          return middle;\n        } else if (_currentOffset < offset) {\n          low = middle + 1;\n        } else if (_currentOffset > offset) {\n          high = middle - 1;\n        }\n      }\n\n      if (low > 0) {\n        return low - 1;\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: '_exponentialSearch',\n    value: function _exponentialSearch(index, offset) {\n      var interval = 1;\n\n      while (index < this._cellCount && this.getSizeAndPositionOfCell(index).offset < offset) {\n        index += interval;\n        interval *= 2;\n      }\n\n      return this._binarySearch(Math.min(index, this._cellCount - 1), Math.floor(index / 2), offset);\n    }\n\n    /**\n     * Searches for the cell (index) nearest the specified offset.\n     *\n     * If no exact match is found the next lowest cell index will be returned.\n     * This allows partially visible cells (with offsets just before/above the fold) to be visible.\n     */\n\n  }, {\n    key: '_findNearestCell',\n    value: function _findNearestCell(offset) {\n      if (isNaN(offset)) {\n        throw Error('Invalid offset ' + offset + ' specified');\n      }\n\n      // Our search algorithms find the nearest match at or below the specified offset.\n      // So make sure the offset is at least 0 or no match will be found.\n      offset = Math.max(0, offset);\n\n      var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n      var lastMeasuredIndex = Math.max(0, this._lastMeasuredIndex);\n\n      if (lastMeasuredCellSizeAndPosition.offset >= offset) {\n        // If we've already measured cells within this range just use a binary search as it's faster.\n        return this._binarySearch(lastMeasuredIndex, 0, offset);\n      } else {\n        // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n        // The exponential search avoids pre-computing sizes for the full set of cells as a binary search would.\n        // The overall complexity for this approach is O(log n).\n        return this._exponentialSearch(lastMeasuredIndex, offset);\n      }\n    }\n  }]);\n\n  return CellSizeAndPositionManager;\n}();\n\nexport default CellSizeAndPositionManager;\nimport { bpfrpt_proptype_Alignment } from '../types';\nimport { bpfrpt_proptype_CellSizeGetter } from '../types';\nimport { bpfrpt_proptype_VisibleCellRange } from '../types';","import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\n\n\nimport CellSizeAndPositionManager from './CellSizeAndPositionManager';\n\nimport { getMaxElementSize } from './maxElementSize.js';\n\n/**\n * Browsers have scroll offset limitations (eg Chrome stops scrolling at ~33.5M pixels where as Edge tops out at ~1.5M pixels).\n * After a certain position, the browser won't allow the user to scroll further (even via JavaScript scroll offset adjustments).\n * This util picks a lower ceiling for max size and artificially adjusts positions within to make it transparent for users.\n */\n\n/**\n * Extends CellSizeAndPositionManager and adds scaling behavior for lists that are too large to fit within a browser's native limits.\n */\nvar ScalingCellSizeAndPositionManager = function () {\n  function ScalingCellSizeAndPositionManager(_ref) {\n    var _ref$maxScrollSize = _ref.maxScrollSize,\n        maxScrollSize = _ref$maxScrollSize === undefined ? getMaxElementSize() : _ref$maxScrollSize,\n        params = _objectWithoutProperties(_ref, ['maxScrollSize']);\n\n    _classCallCheck(this, ScalingCellSizeAndPositionManager);\n\n    // Favor composition over inheritance to simplify IE10 support\n    this._cellSizeAndPositionManager = new CellSizeAndPositionManager(params);\n    this._maxScrollSize = maxScrollSize;\n  }\n\n  _createClass(ScalingCellSizeAndPositionManager, [{\n    key: 'areOffsetsAdjusted',\n    value: function areOffsetsAdjusted() {\n      return this._cellSizeAndPositionManager.getTotalSize() > this._maxScrollSize;\n    }\n  }, {\n    key: 'configure',\n    value: function configure(params) {\n      this._cellSizeAndPositionManager.configure(params);\n    }\n  }, {\n    key: 'getCellCount',\n    value: function getCellCount() {\n      return this._cellSizeAndPositionManager.getCellCount();\n    }\n  }, {\n    key: 'getEstimatedCellSize',\n    value: function getEstimatedCellSize() {\n      return this._cellSizeAndPositionManager.getEstimatedCellSize();\n    }\n  }, {\n    key: 'getLastMeasuredIndex',\n    value: function getLastMeasuredIndex() {\n      return this._cellSizeAndPositionManager.getLastMeasuredIndex();\n    }\n\n    /**\n     * Number of pixels a cell at the given position (offset) should be shifted in order to fit within the scaled container.\n     * The offset passed to this function is scaled (safe) as well.\n     */\n\n  }, {\n    key: 'getOffsetAdjustment',\n    value: function getOffsetAdjustment(_ref2) {\n      var containerSize = _ref2.containerSize,\n          offset = _ref2.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n      var safeTotalSize = this.getTotalSize();\n      var offsetPercentage = this._getOffsetPercentage({\n        containerSize: containerSize,\n        offset: offset,\n        totalSize: safeTotalSize\n      });\n\n      return Math.round(offsetPercentage * (safeTotalSize - totalSize));\n    }\n  }, {\n    key: 'getSizeAndPositionOfCell',\n    value: function getSizeAndPositionOfCell(index) {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(index);\n    }\n  }, {\n    key: 'getSizeAndPositionOfLastMeasuredCell',\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell();\n    }\n\n    /** See CellSizeAndPositionManager#getTotalSize */\n\n  }, {\n    key: 'getTotalSize',\n    value: function getTotalSize() {\n      return Math.min(this._maxScrollSize, this._cellSizeAndPositionManager.getTotalSize());\n    }\n\n    /** See CellSizeAndPositionManager#getUpdatedOffsetForIndex */\n\n  }, {\n    key: 'getUpdatedOffsetForIndex',\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === undefined ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n\n      currentOffset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: currentOffset\n      });\n\n      var offset = this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({\n        align: align,\n        containerSize: containerSize,\n        currentOffset: currentOffset,\n        targetIndex: targetIndex\n      });\n\n      return this._offsetToSafeOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n\n    /** See CellSizeAndPositionManager#getVisibleCellRange */\n\n  }, {\n    key: 'getVisibleCellRange',\n    value: function getVisibleCellRange(_ref4) {\n      var containerSize = _ref4.containerSize,\n          offset = _ref4.offset;\n\n      offset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n\n      return this._cellSizeAndPositionManager.getVisibleCellRange({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n  }, {\n    key: 'resetCell',\n    value: function resetCell(index) {\n      this._cellSizeAndPositionManager.resetCell(index);\n    }\n  }, {\n    key: '_getOffsetPercentage',\n    value: function _getOffsetPercentage(_ref5) {\n      var containerSize = _ref5.containerSize,\n          offset = _ref5.offset,\n          totalSize = _ref5.totalSize;\n\n      return totalSize <= containerSize ? 0 : offset / (totalSize - containerSize);\n    }\n  }, {\n    key: '_offsetToSafeOffset',\n    value: function _offsetToSafeOffset(_ref6) {\n      var containerSize = _ref6.containerSize,\n          offset = _ref6.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: totalSize\n        });\n\n        return Math.round(offsetPercentage * (safeTotalSize - containerSize));\n      }\n    }\n  }, {\n    key: '_safeOffsetToOffset',\n    value: function _safeOffsetToOffset(_ref7) {\n      var containerSize = _ref7.containerSize,\n          offset = _ref7.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: safeTotalSize\n        });\n\n        return Math.round(offsetPercentage * (totalSize - containerSize));\n      }\n    }\n  }]);\n\n  return ScalingCellSizeAndPositionManager;\n}();\n\nexport default ScalingCellSizeAndPositionManager;\nimport { bpfrpt_proptype_Alignment } from '../types';\nimport { bpfrpt_proptype_CellSizeGetter } from '../types';\nimport { bpfrpt_proptype_VisibleCellRange } from '../types';","\n\nexport default function calculateSizeAndPositionDataAndUpdateScrollOffset(_ref) {\n  var cellCount = _ref.cellCount,\n      cellSize = _ref.cellSize,\n      computeMetadataCallback = _ref.computeMetadataCallback,\n      computeMetadataCallbackProps = _ref.computeMetadataCallbackProps,\n      nextCellsCount = _ref.nextCellsCount,\n      nextCellSize = _ref.nextCellSize,\n      nextScrollToIndex = _ref.nextScrollToIndex,\n      scrollToIndex = _ref.scrollToIndex,\n      updateScrollOffsetForScrollToIndex = _ref.updateScrollOffsetForScrollToIndex;\n\n  // Don't compare cell sizes if they are functions because inline functions would cause infinite loops.\n  // In that event users should use the manual recompute methods to inform of changes.\n  if (cellCount !== nextCellsCount || (typeof cellSize === 'number' || typeof nextCellSize === 'number') && cellSize !== nextCellSize) {\n    computeMetadataCallback(computeMetadataCallbackProps);\n\n    // Updated cell metadata may have hidden the previous scrolled-to item.\n    // In this case we should also update the scrollTop to ensure it stays visible.\n    if (scrollToIndex >= 0 && scrollToIndex === nextScrollToIndex) {\n      updateScrollOffsetForScrollToIndex();\n    }\n  }\n}\n\n/**\n * Helper method that determines when to recalculate row or column metadata.\n */","var DEFAULT_MAX_ELEMENT_SIZE = 1500000;\nvar CHROME_MAX_ELEMENT_SIZE = 1.67771e7;\n\nvar isBrowser = function isBrowser() {\n  return typeof window !== 'undefined';\n};\n\nvar isChrome = function isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n};\n\nexport var getMaxElementSize = function getMaxElementSize() {\n  if (isBrowser()) {\n    if (isChrome()) {\n      return CHROME_MAX_ELEMENT_SIZE;\n    }\n  }\n  return DEFAULT_MAX_ELEMENT_SIZE;\n};","\n\nimport ScalingCellSizeAndPositionManager from './ScalingCellSizeAndPositionManager.js';\n\n/**\n * Helper function that determines when to update scroll offsets to ensure that a scroll-to-index remains visible.\n * This function also ensures that the scroll ofset isn't past the last column/row of cells.\n */\n\nexport default function updateScrollIndexHelper(_ref) {\n  var cellSize = _ref.cellSize,\n      cellSizeAndPositionManager = _ref.cellSizeAndPositionManager,\n      previousCellsCount = _ref.previousCellsCount,\n      previousCellSize = _ref.previousCellSize,\n      previousScrollToAlignment = _ref.previousScrollToAlignment,\n      previousScrollToIndex = _ref.previousScrollToIndex,\n      previousSize = _ref.previousSize,\n      scrollOffset = _ref.scrollOffset,\n      scrollToAlignment = _ref.scrollToAlignment,\n      scrollToIndex = _ref.scrollToIndex,\n      size = _ref.size,\n      sizeJustIncreasedFromZero = _ref.sizeJustIncreasedFromZero,\n      updateScrollIndexCallback = _ref.updateScrollIndexCallback;\n\n  var cellCount = cellSizeAndPositionManager.getCellCount();\n  var hasScrollToIndex = scrollToIndex >= 0 && scrollToIndex < cellCount;\n  var sizeHasChanged = size !== previousSize || sizeJustIncreasedFromZero || !previousCellSize || typeof cellSize === 'number' && cellSize !== previousCellSize;\n\n  // If we have a new scroll target OR if height/row-height has changed,\n  // We should ensure that the scroll target is visible.\n  if (hasScrollToIndex && (sizeHasChanged || scrollToAlignment !== previousScrollToAlignment || scrollToIndex !== previousScrollToIndex)) {\n    updateScrollIndexCallback(scrollToIndex);\n\n    // If we don't have a selected item but list size or number of children have decreased,\n    // Make sure we aren't scrolled too far past the current content.\n  } else if (!hasScrollToIndex && cellCount > 0 && (size < previousSize || cellCount < previousCellsCount)) {\n    // We need to ensure that the current scroll offset is still within the collection's range.\n    // To do this, we don't need to measure everything; CellMeasurer would perform poorly.\n    // Just check to make sure we're still okay.\n    // Only adjust the scroll position if we've scrolled below the last set of rows.\n    if (scrollOffset > cellSizeAndPositionManager.getTotalSize() - size) {\n      updateScrollIndexCallback(cellCount - 1);\n    }\n  }\n}\nimport { bpfrpt_proptype_Alignment } from '../types';\nimport { bpfrpt_proptype_CellSize } from '../types';","import _extends from 'babel-runtime/helpers/extends';\nimport _Object$getOwnPropertyDescriptor from 'babel-runtime/core-js/object/get-own-property-descriptor';\nimport _Object$getPrototypeOf from 'babel-runtime/core-js/object/get-prototype-of';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport Grid, { accessibilityOverscanIndicesGetter } from '../Grid';\nimport * as React from 'react';\nimport cn from 'classnames';\n\n/**\n * It is inefficient to create and manage a large list of DOM elements within a scrolling container\n * if only a few of those elements are visible. The primary purpose of this component is to improve\n * performance by only rendering the DOM nodes that a user is able to see based on their current\n * scroll position.\n *\n * This component renders a virtualized list of elements with either fixed or dynamic heights.\n */\n\nvar List = function (_React$PureComponent) {\n  _inherits(List, _React$PureComponent);\n\n  function List() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, List);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = List.__proto__ || _Object$getPrototypeOf(List)).call.apply(_ref, [this].concat(args))), _this), _this._cellRenderer = function (_ref2) {\n      var parent = _ref2.parent,\n          rowIndex = _ref2.rowIndex,\n          style = _ref2.style,\n          isScrolling = _ref2.isScrolling,\n          isVisible = _ref2.isVisible,\n          key = _ref2.key;\n      var rowRenderer = _this.props.rowRenderer;\n\n      // TRICKY The style object is sometimes cached by Grid.\n      // This prevents new style objects from bypassing shallowCompare().\n      // However as of React 16, style props are auto-frozen (at least in dev mode)\n      // Check to make sure we can still modify the style before proceeding.\n      // https://github.com/facebook/react/commit/977357765b44af8ff0cfea327866861073095c12#commitcomment-20648713\n\n      var _Object$getOwnPropert = _Object$getOwnPropertyDescriptor(style, 'width'),\n          writable = _Object$getOwnPropert.writable;\n\n      if (writable) {\n        // By default, List cells should be 100% width.\n        // This prevents them from flowing under a scrollbar (if present).\n        style.width = '100%';\n      }\n\n      return rowRenderer({\n        index: rowIndex,\n        style: style,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent\n      });\n    }, _this._setRef = function (ref) {\n      _this.Grid = ref;\n    }, _this._onScroll = function (_ref3) {\n      var clientHeight = _ref3.clientHeight,\n          scrollHeight = _ref3.scrollHeight,\n          scrollTop = _ref3.scrollTop;\n      var onScroll = _this.props.onScroll;\n\n\n      onScroll({ clientHeight: clientHeight, scrollHeight: scrollHeight, scrollTop: scrollTop });\n    }, _this._onSectionRendered = function (_ref4) {\n      var rowOverscanStartIndex = _ref4.rowOverscanStartIndex,\n          rowOverscanStopIndex = _ref4.rowOverscanStopIndex,\n          rowStartIndex = _ref4.rowStartIndex,\n          rowStopIndex = _ref4.rowStopIndex;\n      var onRowsRendered = _this.props.onRowsRendered;\n\n\n      onRowsRendered({\n        overscanStartIndex: rowOverscanStartIndex,\n        overscanStopIndex: rowOverscanStopIndex,\n        startIndex: rowStartIndex,\n        stopIndex: rowStopIndex\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(List, [{\n    key: 'forceUpdateGrid',\n    value: function forceUpdateGrid() {\n      if (this.Grid) {\n        this.Grid.forceUpdate();\n      }\n    }\n\n    /** See Grid#getOffsetForCell */\n\n  }, {\n    key: 'getOffsetForRow',\n    value: function getOffsetForRow(_ref5) {\n      var alignment = _ref5.alignment,\n          index = _ref5.index;\n\n      if (this.Grid) {\n        var _Grid$getOffsetForCel = this.Grid.getOffsetForCell({\n          alignment: alignment,\n          rowIndex: index,\n          columnIndex: 0\n        }),\n            _scrollTop = _Grid$getOffsetForCel.scrollTop;\n\n        return _scrollTop;\n      }\n      return 0;\n    }\n\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender(_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex;\n\n      if (this.Grid) {\n        this.Grid.invalidateCellSizeAfterRender({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: 'measureAllRows',\n    value: function measureAllRows() {\n      if (this.Grid) {\n        this.Grid.measureAllCells();\n      }\n    }\n\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: 'recomputeGridSize',\n    value: function recomputeGridSize() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$columnIndex = _ref7.columnIndex,\n          columnIndex = _ref7$columnIndex === undefined ? 0 : _ref7$columnIndex,\n          _ref7$rowIndex = _ref7.rowIndex,\n          rowIndex = _ref7$rowIndex === undefined ? 0 : _ref7$rowIndex;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: 'recomputeRowHeights',\n    value: function recomputeRowHeights() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: index,\n          columnIndex: 0\n        });\n      }\n    }\n\n    /** See Grid#scrollToPosition */\n\n  }, {\n    key: 'scrollToPosition',\n    value: function scrollToPosition() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToPosition({ scrollTop: scrollTop });\n      }\n    }\n\n    /** See Grid#scrollToCell */\n\n  }, {\n    key: 'scrollToRow',\n    value: function scrollToRow() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToCell({\n          columnIndex: 0,\n          rowIndex: index\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          noRowsRenderer = _props.noRowsRenderer,\n          scrollToIndex = _props.scrollToIndex,\n          width = _props.width;\n\n\n      var classNames = cn('ReactVirtualized__List', className);\n\n      return React.createElement(Grid, _extends({}, this.props, {\n        autoContainerWidth: true,\n        cellRenderer: this._cellRenderer,\n        className: classNames,\n        columnWidth: width,\n        columnCount: 1,\n        noContentRenderer: noRowsRenderer,\n        onScroll: this._onScroll,\n        onSectionRendered: this._onSectionRendered,\n        ref: this._setRef,\n        scrollToRow: scrollToIndex\n      }));\n    }\n  }]);\n\n  return List;\n}(React.PureComponent);\n\nList.defaultProps = {\n  autoHeight: false,\n  estimatedRowSize: 30,\n  onScroll: function onScroll() {},\n  noRowsRenderer: function noRowsRenderer() {\n    return null;\n  },\n  onRowsRendered: function onRowsRendered() {},\n  overscanIndicesGetter: accessibilityOverscanIndicesGetter,\n  overscanRowCount: 10,\n  scrollToAlignment: 'auto',\n  scrollToIndex: -1,\n  style: {}\n};\nList.propTypes = process.env.NODE_ENV === 'production' ? null : {\n  \"aria-label\": PropTypes.string,\n\n\n  /**\n   * Removes fixed height from the scrollingContainer so that the total height\n   * of rows can stretch the window. Intended for use with WindowScroller\n   */\n  autoHeight: PropTypes.bool.isRequired,\n\n\n  /** Optional CSS class name */\n  className: PropTypes.string,\n\n\n  /**\n   * Used to estimate the total height of a List before all of its rows have actually been measured.\n   * The estimated total height is adjusted as rows are rendered.\n   */\n  estimatedRowSize: PropTypes.number.isRequired,\n\n\n  /** Height constraint for list (determines how many actual rows are rendered) */\n  height: PropTypes.number.isRequired,\n\n\n  /** Optional renderer to be used in place of rows when rowCount is 0 */\n  noRowsRenderer: function noRowsRenderer() {\n    return (typeof bpfrpt_proptype_NoContentRenderer === 'function' ? bpfrpt_proptype_NoContentRenderer.isRequired ? bpfrpt_proptype_NoContentRenderer.isRequired : bpfrpt_proptype_NoContentRenderer : PropTypes.shape(bpfrpt_proptype_NoContentRenderer).isRequired).apply(this, arguments);\n  },\n\n\n  /** Callback invoked with information about the slice of rows that were just rendered.  */\n\n  onRowsRendered: PropTypes.func.isRequired,\n\n\n  /**\n   * Callback invoked whenever the scroll offset changes within the inner scrollable region.\n   * This callback can be used to sync scrolling between lists, tables, or grids.\n   */\n  onScroll: PropTypes.func.isRequired,\n\n\n  /** See Grid#overscanIndicesGetter */\n  overscanIndicesGetter: function overscanIndicesGetter() {\n    return (typeof bpfrpt_proptype_OverscanIndicesGetter === 'function' ? bpfrpt_proptype_OverscanIndicesGetter.isRequired ? bpfrpt_proptype_OverscanIndicesGetter.isRequired : bpfrpt_proptype_OverscanIndicesGetter : PropTypes.shape(bpfrpt_proptype_OverscanIndicesGetter).isRequired).apply(this, arguments);\n  },\n\n\n  /**\n   * Number of rows to render above/below the visible bounds of the list.\n   * These rows can help for smoother scrolling on touch devices.\n   */\n  overscanRowCount: PropTypes.number.isRequired,\n\n\n  /** Either a fixed row height (number) or a function that returns the height of a row given its index.  */\n  rowHeight: function rowHeight() {\n    return (typeof bpfrpt_proptype_CellSize === 'function' ? bpfrpt_proptype_CellSize.isRequired ? bpfrpt_proptype_CellSize.isRequired : bpfrpt_proptype_CellSize : PropTypes.shape(bpfrpt_proptype_CellSize).isRequired).apply(this, arguments);\n  },\n\n\n  /** Responsible for rendering a row given an index; ({ index: number }): node */\n  rowRenderer: function rowRenderer() {\n    return (typeof bpfrpt_proptype_RowRenderer === 'function' ? bpfrpt_proptype_RowRenderer.isRequired ? bpfrpt_proptype_RowRenderer.isRequired : bpfrpt_proptype_RowRenderer : PropTypes.shape(bpfrpt_proptype_RowRenderer).isRequired).apply(this, arguments);\n  },\n\n\n  /** Number of rows in list. */\n  rowCount: PropTypes.number.isRequired,\n\n\n  /** See Grid#scrollToAlignment */\n  scrollToAlignment: function scrollToAlignment() {\n    return (typeof bpfrpt_proptype_Alignment === 'function' ? bpfrpt_proptype_Alignment.isRequired ? bpfrpt_proptype_Alignment.isRequired : bpfrpt_proptype_Alignment : PropTypes.shape(bpfrpt_proptype_Alignment).isRequired).apply(this, arguments);\n  },\n\n\n  /** Row index to ensure visible (by forcefully scrolling if necessary) */\n  scrollToIndex: PropTypes.number.isRequired,\n\n\n  /** Vertical offset. */\n  scrollTop: PropTypes.number,\n\n\n  /** Optional inline style */\n  style: PropTypes.object.isRequired,\n\n\n  /** Tab index for focus */\n  tabIndex: PropTypes.number,\n\n\n  /** Width of list */\n  width: PropTypes.number.isRequired\n};\nexport default List;\nimport { bpfrpt_proptype_NoContentRenderer } from '../Grid';\nimport { bpfrpt_proptype_Alignment } from '../Grid';\nimport { bpfrpt_proptype_CellSize } from '../Grid';\nimport { bpfrpt_proptype_CellPosition } from '../Grid';\nimport { bpfrpt_proptype_OverscanIndicesGetter } from '../Grid';\nimport { bpfrpt_proptype_RenderedSection } from '../Grid';\nimport { bpfrpt_proptype_CellRendererParams } from '../Grid';\nimport { bpfrpt_proptype_Scroll as bpfrpt_proptype_GridScroll } from '../Grid';\nimport { bpfrpt_proptype_RowRenderer } from './types';\nimport { bpfrpt_proptype_RenderedRows } from './types';\nimport { bpfrpt_proptype_Scroll } from './types';\nimport PropTypes from 'prop-types';","import * as React from 'react';\n\nvar bpfrpt_proptype_RowRendererParams = process.env.NODE_ENV === 'production' ? null : {\n  index: PropTypes.number.isRequired,\n  isScrolling: PropTypes.bool.isRequired,\n  isVisible: PropTypes.bool.isRequired,\n  key: PropTypes.string.isRequired,\n  parent: PropTypes.object.isRequired,\n  style: PropTypes.object.isRequired\n};\nvar bpfrpt_proptype_RowRenderer = process.env.NODE_ENV === 'production' ? null : PropTypes.func;\nvar bpfrpt_proptype_RenderedRows = process.env.NODE_ENV === 'production' ? null : {\n  overscanStartIndex: PropTypes.number.isRequired,\n  overscanStopIndex: PropTypes.number.isRequired,\n  startIndex: PropTypes.number.isRequired,\n  stopIndex: PropTypes.number.isRequired\n};\nvar bpfrpt_proptype_Scroll = process.env.NODE_ENV === 'production' ? null : {\n  clientHeight: PropTypes.number.isRequired,\n  scrollHeight: PropTypes.number.isRequired,\n  scrollTop: PropTypes.number.isRequired\n};\nimport PropTypes from 'prop-types';\nexport { bpfrpt_proptype_RowRendererParams };\nexport { bpfrpt_proptype_RowRenderer };\nexport { bpfrpt_proptype_RenderedRows };\nexport { bpfrpt_proptype_Scroll };","\n\n// Properly handle server-side rendering.\nvar win = void 0;\n\nif (typeof window !== 'undefined') {\n  win = window;\n} else if (typeof self !== 'undefined') {\n  win = self;\n} else {\n  win = {};\n}\n\n// requestAnimationFrame() shim by Paul Irish\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\nvar request = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame || function (callback) {\n  return win.setTimeout(callback, 1000 / 60);\n};\n\nvar cancel = win.cancelAnimationFrame || win.webkitCancelAnimationFrame || win.mozCancelAnimationFrame || win.oCancelAnimationFrame || win.msCancelAnimationFrame || function (id) {\n  win.clearTimeout(id);\n};\n\nexport var raf = request;\nexport var caf = cancel;","import _Object$keys from 'babel-runtime/core-js/object/keys';\n/**\n * Helper utility that updates the specified callback whenever any of the specified indices have changed.\n */\nexport default function createCallbackMemoizer() {\n  var requireAllKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  var cachedIndices = {};\n\n  return function (_ref) {\n    var callback = _ref.callback,\n        indices = _ref.indices;\n\n    var keys = _Object$keys(indices);\n    var allInitialized = !requireAllKeys || keys.every(function (key) {\n      var value = indices[key];\n      return Array.isArray(value) ? value.length > 0 : value >= 0;\n    });\n    var indexChanged = keys.length !== _Object$keys(cachedIndices).length || keys.some(function (key) {\n      var cachedValue = cachedIndices[key];\n      var value = indices[key];\n\n      return Array.isArray(value) ? cachedValue.join(',') !== value.join(',') : cachedValue !== value;\n    });\n\n    cachedIndices = indices;\n\n    if (allInitialized && indexChanged) {\n      callback(indices);\n    }\n  };\n}","import { caf, raf } from './animationFrame';\n\nvar bpfrpt_proptype_AnimationTimeoutId = process.env.NODE_ENV === 'production' ? null : {\n  id: PropTypes.number.isRequired\n};\n\n\nexport var cancelAnimationTimeout = function cancelAnimationTimeout(frame) {\n  return caf(frame.id);\n};\n\n/**\n * Recursively calls requestAnimationFrame until a specified delay has been met or exceeded.\n * When the delay time has been reached the function you're timing out will be called.\n *\n * Credit: Joe Lambert (https://gist.github.com/joelambert/1002116#file-requesttimeout-js)\n */\nexport var requestAnimationTimeout = function requestAnimationTimeout(callback, delay) {\n  var start = Date.now();\n\n  var timeout = function timeout() {\n    if (Date.now() - start >= delay) {\n      callback.call();\n    } else {\n      frame.id = raf(timeout);\n    }\n  };\n\n  var frame = {\n    id: raf(timeout)\n  };\n\n  return frame;\n};\nimport PropTypes from 'prop-types';\nexport { bpfrpt_proptype_AnimationTimeoutId };","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import r from\"immer\";import{useState as n,useCallback as t,useMemo as o,useReducer as i}from\"react\";function u(o){var i=n(o),u=i[1];return[i[0],t(function(n){u(r(n))},[])]}function e(n,t,u){var e=o(function(){return r(n)},[n]);return i(e,t,u)}export{u as useImmer,e as useImmerReducer};\n//# sourceMappingURL=use-immer.module.js.map\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Alert from 'src/components/Alert';\r\nimport { styled, logging, t } from '@superset-ui/core';\r\n\r\nimport { isFeatureEnabled, FeatureFlag } from 'src/featureFlags';\r\nimport Button from 'src/components/Button';\r\nimport Loading from '../components/Loading';\r\nimport ErrorBoundary from '../components/ErrorBoundary';\r\nimport ChartRenderer from './ChartRenderer';\r\nimport { ChartErrorMessage } from './ChartErrorMessage';\r\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from '../logger/LogUtils';\r\n\r\nconst propTypes = {\r\n  annotationData: PropTypes.object,\r\n  actions: PropTypes.object,\r\n  chartId: PropTypes.number.isRequired,\r\n  datasource: PropTypes.object.isRequired,\r\n  // current chart is included by dashboard\r\n  dashboardId: PropTypes.number,\r\n  // original selected values for FilterBox viz\r\n  // so that FilterBox can pre-populate selected values\r\n  // only affect UI control\r\n  initialValues: PropTypes.object,\r\n  // formData contains chart's own filter parameter\r\n  // and merged with extra filter that current dashboard applying\r\n  formData: PropTypes.object.isRequired,\r\n  width: PropTypes.number,\r\n  height: PropTypes.number,\r\n  setControlValue: PropTypes.func,\r\n  timeout: PropTypes.number,\r\n  vizType: PropTypes.string.isRequired,\r\n  triggerRender: PropTypes.bool,\r\n  isFiltersInitialized: PropTypes.bool,\r\n  // state\r\n  chartAlert: PropTypes.string,\r\n  chartStatus: PropTypes.string,\r\n  chartStackTrace: PropTypes.string,\r\n  queriesResponse: PropTypes.arrayOf(PropTypes.object),\r\n  triggerQuery: PropTypes.bool,\r\n  refreshOverlayVisible: PropTypes.bool,\r\n  errorMessage: PropTypes.node,\r\n  // dashboard callbacks\r\n  addFilter: PropTypes.func,\r\n  onQuery: PropTypes.func,\r\n  onFilterMenuOpen: PropTypes.func,\r\n  onFilterMenuClose: PropTypes.func,\r\n  ownState: PropTypes.object,\r\n};\r\n\r\nconst BLANK = {};\r\n\r\nconst defaultProps = {\r\n  addFilter: () => BLANK,\r\n  onFilterMenuOpen: () => BLANK,\r\n  onFilterMenuClose: () => BLANK,\r\n  initialValues: BLANK,\r\n  setControlValue() {},\r\n  triggerRender: false,\r\n  dashboardId: null,\r\n  chartStackTrace: null,\r\n};\r\n\r\nconst Styles = styled.div`\r\n  min-height: ${p => p.height}px;\r\n  position: relative;\r\n\r\n  .chart-tooltip {\r\n    opacity: 0.75;\r\n    font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  }\r\n`;\r\n\r\nconst RefreshOverlayWrapper = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nclass Chart extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleRenderContainerFailure = this.handleRenderContainerFailure.bind(\r\n      this,\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.triggerQuery) {\r\n      this.runQuery();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.triggerQuery) {\r\n      this.runQuery();\r\n    }\r\n  }\r\n\r\n  runQuery() {\r\n    if (this.props.chartId > 0 && isFeatureEnabled(FeatureFlag.CLIENT_CACHE)) {\r\n      // Load saved chart with a GET request\r\n      this.props.actions.getSavedChart(\r\n        this.props.formData,\r\n        false,\r\n        this.props.timeout,\r\n        this.props.chartId,\r\n        this.props.dashboardId,\r\n        this.props.ownState,\r\n      );\r\n    } else {\r\n      // Create chart with POST request\r\n      this.props.actions.postChartFormData(\r\n        this.props.formData,\r\n        false,\r\n        this.props.timeout,\r\n        this.props.chartId,\r\n        this.props.dashboardId,\r\n        this.props.ownState,\r\n      );\r\n    }\r\n  }\r\n\r\n  handleRenderContainerFailure(error, info) {\r\n    const { actions, chartId } = this.props;\r\n    logging.warn(error);\r\n    actions.chartRenderingFailed(\r\n      error.toString(),\r\n      chartId,\r\n      info ? info.componentStack : null,\r\n    );\r\n\r\n    actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\r\n      slice_id: chartId,\r\n      has_err: true,\r\n      error_details: error.toString(),\r\n      start_offset: this.renderStartTime,\r\n      ts: new Date().getTime(),\r\n      duration: Logger.getTimestamp() - this.renderStartTime,\r\n    });\r\n  }\r\n\r\n  renderErrorMessage(queryResponse) {\r\n    const { chartId, chartAlert, chartStackTrace, dashboardId } = this.props;\r\n\r\n    const error = queryResponse?.errors?.[0];\r\n    const message = chartAlert || queryResponse?.message;\r\n    return (\r\n      <ChartErrorMessage\r\n        chartId={chartId}\r\n        error={error}\r\n        subtitle={message}\r\n        copyText={message}\r\n        link={queryResponse ? queryResponse.link : null}\r\n        source={dashboardId ? 'dashboard' : 'explore'}\r\n        stackTrace={chartStackTrace}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      height,\r\n      chartAlert,\r\n      chartStatus,\r\n      errorMessage,\r\n      onQuery,\r\n      refreshOverlayVisible,\r\n      queriesResponse = [],\r\n    } = this.props;\r\n\r\n    const isLoading = chartStatus === 'loading';\r\n    const isFaded = refreshOverlayVisible && !errorMessage;\r\n    this.renderContainerStartTime = Logger.getTimestamp();\r\n    if (chartStatus === 'failed') {\r\n      return queriesResponse.map(item => this.renderErrorMessage(item));\r\n    }\r\n    if (errorMessage) {\r\n      return (\r\n        <Alert\r\n          data-test=\"alert-warning\"\r\n          message={errorMessage}\r\n          type=\"warning\"\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <ErrorBoundary\r\n        onError={this.handleRenderContainerFailure}\r\n        showMessage={false}\r\n      >\r\n        <Styles\r\n          data-ui-anchor=\"chart\"\r\n          className=\"chart-container\"\r\n          data-test=\"chart-container\"\r\n          height={height}\r\n        >\r\n          <div\r\n            className={`slice_container ${isFaded ? ' faded' : ''}`}\r\n            data-test=\"slice-container\"\r\n          >\r\n            <ChartRenderer {...this.props} data-test={this.props.vizType} />\r\n          </div>\r\n\r\n          {!isLoading && !chartAlert && isFaded && (\r\n            <RefreshOverlayWrapper>\r\n              <Button onClick={onQuery} buttonStyle=\"primary\">\r\n                {t('Run query')}\r\n              </Button>\r\n            </RefreshOverlayWrapper>\r\n          )}\r\n\r\n          {isLoading && <Loading />}\r\n        </Styles>\r\n      </ErrorBoundary>\r\n    );\r\n  }\r\n}\r\n\r\nChart.propTypes = propTypes;\r\nChart.defaultProps = defaultProps;\r\n\r\nexport default Chart;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport * as actions from './chartAction';\r\nimport { logEvent } from '../logger/actions';\r\nimport Chart from './Chart';\r\nimport { updateDataMask } from '../dataMask/actions';\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    actions: bindActionCreators(\r\n      {\r\n        ...actions,\r\n        updateDataMask,\r\n        logEvent,\r\n      },\r\n      dispatch,\r\n    ),\r\n  };\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Chart);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport React from 'react';\r\nimport { useChartOwnerNames } from 'src/common/hooks/apiResources';\r\nimport ErrorMessageWithStackTrace from 'src/components/ErrorMessage/ErrorMessageWithStackTrace';\r\nimport { SupersetError } from 'src/components/ErrorMessage/types';\r\n\r\ninterface Props {\r\n  chartId: string;\r\n  error?: SupersetError;\r\n}\r\n\r\n/**\r\n * fetches the chart owners and adds them to the extra data of the error message\r\n */\r\nexport const ChartErrorMessage: React.FC<Props> = ({\r\n  chartId,\r\n  error,\r\n  ...props\r\n}) => {\r\n  const { result: owners } = useChartOwnerNames(chartId);\r\n\r\n  // don't mutate props\r\n  const ownedError = error && {\r\n    ...error,\r\n    extra: { ...error.extra, owners },\r\n  };\r\n\r\n  return <ErrorMessageWithStackTrace {...props} error={ownedError} />;\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { snakeCase } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { SuperChart, logging, Behavior } from '@superset-ui/core';\r\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from '../logger/LogUtils';\r\n\r\nconst propTypes = {\r\n  annotationData: PropTypes.object,\r\n  actions: PropTypes.object,\r\n  chartId: PropTypes.number.isRequired,\r\n  datasource: PropTypes.object.isRequired,\r\n  initialValues: PropTypes.object,\r\n  formData: PropTypes.object.isRequired,\r\n  height: PropTypes.number,\r\n  width: PropTypes.number,\r\n  setControlValue: PropTypes.func,\r\n  vizType: PropTypes.string.isRequired,\r\n  triggerRender: PropTypes.bool,\r\n  // state\r\n  chartAlert: PropTypes.string,\r\n  chartStatus: PropTypes.string,\r\n  queriesResponse: PropTypes.arrayOf(PropTypes.object),\r\n  triggerQuery: PropTypes.bool,\r\n  refreshOverlayVisible: PropTypes.bool,\r\n  // dashboard callbacks\r\n  addFilter: PropTypes.func,\r\n  setDataMask: PropTypes.func,\r\n  onFilterMenuOpen: PropTypes.func,\r\n  onFilterMenuClose: PropTypes.func,\r\n  ownState: PropTypes.object,\r\n};\r\n\r\nconst BLANK = {};\r\n\r\nconst defaultProps = {\r\n  addFilter: () => BLANK,\r\n  onFilterMenuOpen: () => BLANK,\r\n  onFilterMenuClose: () => BLANK,\r\n  initialValues: BLANK,\r\n  setControlValue() {},\r\n  triggerRender: false,\r\n};\r\n\r\nclass ChartRenderer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.hasQueryResponseChange = false;\r\n\r\n    this.handleAddFilter = this.handleAddFilter.bind(this);\r\n    this.handleRenderSuccess = this.handleRenderSuccess.bind(this);\r\n    this.handleRenderFailure = this.handleRenderFailure.bind(this);\r\n    this.handleSetControlValue = this.handleSetControlValue.bind(this);\r\n\r\n    this.hooks = {\r\n      onAddFilter: this.handleAddFilter,\r\n      onError: this.handleRenderFailure,\r\n      setControlValue: this.handleSetControlValue,\r\n      onFilterMenuOpen: this.props.onFilterMenuOpen,\r\n      onFilterMenuClose: this.props.onFilterMenuClose,\r\n      setDataMask: dataMask => {\r\n        this.props.actions?.updateDataMask(this.props.chartId, dataMask);\r\n      },\r\n    };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    const resultsReady =\r\n      nextProps.queriesResponse &&\r\n      ['success', 'rendered'].indexOf(nextProps.chartStatus) > -1 &&\r\n      !nextProps.queriesResponse?.[0]?.error &&\r\n      !nextProps.refreshOverlayVisible;\r\n\r\n    if (resultsReady) {\r\n      this.hasQueryResponseChange =\r\n        nextProps.queriesResponse !== this.props.queriesResponse;\r\n      return (\r\n        this.hasQueryResponseChange ||\r\n        nextProps.annotationData !== this.props.annotationData ||\r\n        nextProps.ownState !== this.props.ownState ||\r\n        nextProps.filterState !== this.props.filterState ||\r\n        nextProps.height !== this.props.height ||\r\n        nextProps.width !== this.props.width ||\r\n        nextProps.triggerRender ||\r\n        nextProps.formData.color_scheme !== this.props.formData.color_scheme ||\r\n        nextProps.cacheBusterProp !== this.props.cacheBusterProp\r\n      );\r\n    }\r\n    return false;\r\n  }\r\n\r\n  handleAddFilter(col, vals, merge = true, refresh = true) {\r\n    this.props.addFilter(col, vals, merge, refresh);\r\n  }\r\n\r\n  handleRenderSuccess() {\r\n    const { actions, chartStatus, chartId, vizType } = this.props;\r\n    if (['loading', 'rendered'].indexOf(chartStatus) < 0) {\r\n      actions.chartRenderingSucceeded(chartId);\r\n    }\r\n\r\n    // only log chart render time which is triggered by query results change\r\n    // currently we don't log chart re-render time, like window resize etc\r\n    if (this.hasQueryResponseChange) {\r\n      actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\r\n        slice_id: chartId,\r\n        viz_type: vizType,\r\n        start_offset: this.renderStartTime,\r\n        ts: new Date().getTime(),\r\n        duration: Logger.getTimestamp() - this.renderStartTime,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleRenderFailure(error, info) {\r\n    const { actions, chartId } = this.props;\r\n    logging.warn(error);\r\n    actions.chartRenderingFailed(\r\n      error.toString(),\r\n      chartId,\r\n      info ? info.componentStack : null,\r\n    );\r\n\r\n    // only trigger render log when query is changed\r\n    if (this.hasQueryResponseChange) {\r\n      actions.logEvent(LOG_ACTIONS_RENDER_CHART, {\r\n        slice_id: chartId,\r\n        has_err: true,\r\n        error_details: error.toString(),\r\n        start_offset: this.renderStartTime,\r\n        ts: new Date().getTime(),\r\n        duration: Logger.getTimestamp() - this.renderStartTime,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSetControlValue(...args) {\r\n    const { setControlValue } = this.props;\r\n    if (setControlValue) {\r\n      setControlValue(...args);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      chartAlert,\r\n      chartStatus,\r\n      vizType,\r\n      chartId,\r\n      refreshOverlayVisible,\r\n    } = this.props;\r\n\r\n    // Skip chart rendering\r\n    if (\r\n      refreshOverlayVisible ||\r\n      chartStatus === 'loading' ||\r\n      !!chartAlert ||\r\n      chartStatus === null\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    this.renderStartTime = Logger.getTimestamp();\r\n\r\n    const {\r\n      width,\r\n      height,\r\n      annotationData,\r\n      datasource,\r\n      initialValues,\r\n      ownState,\r\n      filterState,\r\n      formData,\r\n      queriesResponse,\r\n    } = this.props;\r\n\r\n    // It's bad practice to use unprefixed `vizType` as classnames for chart\r\n    // container. It may cause css conflicts as in the case of legacy table chart.\r\n    // When migrating charts, we should gradually add a `superset-chart-` prefix\r\n    // to each one of them.\r\n    const snakeCaseVizType = snakeCase(vizType);\r\n    const chartClassName =\r\n      vizType === 'table'\r\n        ? `superset-chart-${snakeCaseVizType}`\r\n        : snakeCaseVizType;\r\n\r\n    const webpackHash =\r\n      process.env.WEBPACK_MODE === 'development'\r\n        ? `-${\r\n            // eslint-disable-next-line camelcase\r\n            typeof __webpack_require__ !== 'undefined' &&\r\n            // eslint-disable-next-line camelcase, no-undef\r\n            typeof __webpack_require__.h === 'function' &&\r\n            // eslint-disable-next-line no-undef\r\n            __webpack_require__.h()\r\n          }`\r\n        : '';\r\n\r\n    return (\r\n      <SuperChart\r\n        disableErrorBoundary\r\n        key={`${chartId}${webpackHash}`}\r\n        id={`chart-id-${chartId}`}\r\n        className={chartClassName}\r\n        chartType={vizType}\r\n        width={width}\r\n        height={height}\r\n        annotationData={annotationData}\r\n        datasource={datasource}\r\n        initialValues={initialValues}\r\n        formData={formData}\r\n        ownState={ownState}\r\n        filterState={filterState}\r\n        hooks={this.hooks}\r\n        behaviors={[Behavior.INTERACTIVE_CHART]}\r\n        queriesData={queriesResponse}\r\n        onRenderSuccess={this.handleRenderSuccess}\r\n        onRenderFailure={this.handleRenderFailure}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nChartRenderer.propTypes = propTypes;\r\nChartRenderer.defaultProps = defaultProps;\r\n\r\nexport default ChartRenderer;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nexport * from './useChangeEffect';\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport { useEffect } from 'react';\r\nimport { usePrevious } from '../usePrevious';\r\n\r\n/**\r\n * Calls the callback when the value changes.\r\n *\r\n * Passes the previous and current values to the callback\r\n */\r\nexport function useChangeEffect<T>(\r\n  value: T,\r\n  callback: (previous: T | undefined, current: T) => void,\r\n) {\r\n  const previous = usePrevious(value);\r\n  useEffect(() => {\r\n    if (value !== previous) {\r\n      callback(previous, value);\r\n    }\r\n  }, [value, previous, callback]);\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useState, useEffect } from 'react';\r\nimport { getShortUrl as getShortUrlUtil } from 'src/utils/urlUtils';\r\n\r\nexport function useUrlShortener(url: string): Function {\r\n  const [update, setUpdate] = useState(false);\r\n  const [shortUrl, setShortUrl] = useState('');\r\n\r\n  async function getShortUrl() {\r\n    if (update) {\r\n      const newShortUrl = await getShortUrlUtil(url);\r\n      setShortUrl(newShortUrl);\r\n      setUpdate(false);\r\n      return newShortUrl;\r\n    }\r\n    return shortUrl;\r\n  }\r\n\r\n  useEffect(() => setUpdate(true), [url]);\r\n\r\n  return getShortUrl;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport URLShortLinkButton from 'src/components/URLShortLinkButton';\r\nimport getDashboardUrl from 'src/dashboard/util/getDashboardUrl';\r\nimport getLocationHash from 'src/dashboard/util/getLocationHash';\r\n\r\nconst propTypes = {\r\n  anchorLinkId: PropTypes.string.isRequired,\r\n  filters: PropTypes.object,\r\n  showShortLinkButton: PropTypes.bool,\r\n  inFocus: PropTypes.bool,\r\n  placement: PropTypes.oneOf(['right', 'left', 'top', 'bottom']),\r\n};\r\n\r\nconst defaultProps = {\r\n  inFocus: false,\r\n  showShortLinkButton: false,\r\n  placement: 'right',\r\n  filters: {},\r\n};\r\n\r\nclass AnchorLink extends React.PureComponent {\r\n  componentDidMount() {\r\n    const hash = getLocationHash();\r\n    const { anchorLinkId } = this.props;\r\n\r\n    if (hash && anchorLinkId === hash) {\r\n      this.scrollToView();\r\n    }\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const { inFocus = false } = nextProps;\r\n    if (inFocus) {\r\n      this.scrollToView();\r\n    }\r\n  }\r\n\r\n  scrollToView(delay = 0) {\r\n    const { anchorLinkId } = this.props;\r\n    const directLinkComponent = document.getElementById(anchorLinkId);\r\n    if (directLinkComponent) {\r\n      setTimeout(() => {\r\n        directLinkComponent.scrollIntoView({\r\n          block: 'center',\r\n          behavior: 'smooth',\r\n        });\r\n      }, delay);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      anchorLinkId,\r\n      filters,\r\n      showShortLinkButton,\r\n      placement,\r\n    } = this.props;\r\n    return (\r\n      <span className=\"anchor-link-container\" id={anchorLinkId}>\r\n        {showShortLinkButton && (\r\n          <URLShortLinkButton\r\n            url={getDashboardUrl(\r\n              window.location.pathname,\r\n              filters,\r\n              anchorLinkId,\r\n            )}\r\n            emailSubject={t('Superset chart')}\r\n            emailContent={t('Check out this chart in dashboard:')}\r\n            placement={placement}\r\n          />\r\n        )}\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nAnchorLink.propTypes = propTypes;\r\nAnchorLink.defaultProps = defaultProps;\r\n\r\nexport default AnchorLink;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\n\r\nexport interface ButtonGroupProps {\r\n  className?: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function ButtonGroup(props: ButtonGroupProps) {\r\n  const { className, children } = props;\r\n  return (\r\n    <div\r\n      role=\"group\"\r\n      className={className}\r\n      css={{\r\n        '& :nth-child(1):not(:nth-last-child(1))': {\r\n          borderTopRightRadius: 0,\r\n          borderBottomRightRadius: 0,\r\n          borderRight: 0,\r\n          marginLeft: 0,\r\n        },\r\n        '& :not(:nth-child(1)):not(:nth-last-child(1))': {\r\n          borderRadius: 0,\r\n          borderRight: 0,\r\n          marginLeft: 0,\r\n        },\r\n        '& :nth-last-child(1):not(:nth-child(1))': {\r\n          borderTopLeftRadius: 0,\r\n          borderBottomLeftRadius: 0,\r\n          marginLeft: 0,\r\n        },\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\n\r\nconst ChartIcon = () => (\r\n  <svg\r\n    width=\"18\"\r\n    height=\"18\"\r\n    viewBox=\"0 0 18 18\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <rect\r\n      x=\"0.5\"\r\n      y=\"0.5\"\r\n      width=\"17\"\r\n      height=\"17\"\r\n      rx=\"2.5\"\r\n      fill=\"#EFF9F9\"\r\n      stroke=\"#B3DADC\"\r\n    />\r\n    <rect x=\"8\" y=\"4\" width=\"2\" height=\"10\" rx=\"1\" fill=\"#B3DADC\" />\r\n    <rect x=\"12\" y=\"10\" width=\"2\" height=\"4\" rx=\"1\" fill=\"#B3DADC\" />\r\n    <rect x=\"4\" y=\"6\" width=\"2\" height=\"8\" rx=\"1\" fill=\"#B3DADC\" />\r\n  </svg>\r\n);\r\n\r\nexport default ChartIcon;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport cx from 'classnames';\r\nimport { t } from '@superset-ui/core';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\n\r\nexport interface EditableTitleProps {\r\n  canEdit?: boolean;\r\n  editing?: boolean;\r\n  emptyText?: string;\r\n  extraClasses?: Array<string> | string;\r\n  multiLine?: boolean;\r\n  noPermitTooltip?: string;\r\n  onSaveTitle: (arg0: string) => void;\r\n  showTooltip?: boolean;\r\n  style?: object;\r\n  title?: string;\r\n  defaultTitle?: string;\r\n  placeholder?: string;\r\n}\r\n\r\nexport default function EditableTitle({\r\n  canEdit = false,\r\n  editing = false,\r\n  extraClasses,\r\n  multiLine = false,\r\n  noPermitTooltip,\r\n  onSaveTitle,\r\n  showTooltip = true,\r\n  style,\r\n  title = '',\r\n  defaultTitle = '',\r\n  placeholder = '',\r\n}: EditableTitleProps) {\r\n  const [isEditing, setIsEditing] = useState(editing);\r\n  const [currentTitle, setCurrentTitle] = useState(title);\r\n  const [lastTitle, setLastTitle] = useState(title);\r\n  const [\r\n    contentBoundingRect,\r\n    setContentBoundingRect,\r\n  ] = useState<DOMRect | null>(null);\r\n  // Used so we can access the DOM element if a user clicks on this component.\r\n\r\n  const contentRef = useRef<any | HTMLInputElement | HTMLTextAreaElement>();\r\n\r\n  useEffect(() => {\r\n    if (title !== currentTitle) {\r\n      setLastTitle(currentTitle);\r\n      setCurrentTitle(title);\r\n    }\r\n  }, [title]);\r\n\r\n  useEffect(() => {\r\n    if (isEditing) {\r\n      contentRef.current.focus();\r\n    }\r\n  }, [isEditing]);\r\n\r\n  function handleClick() {\r\n    if (!canEdit || isEditing) {\r\n      return;\r\n    }\r\n\r\n    // For multi-line values, save the actual rendered size of the displayed text.\r\n    // Later, if a textarea is constructed for editing the value, we'll need this.\r\n    const contentBounding = contentRef.current\r\n      ? contentRef.current.getBoundingClientRect()\r\n      : null;\r\n    setIsEditing(true);\r\n    setContentBoundingRect(contentBounding);\r\n  }\r\n\r\n  function handleBlur() {\r\n    const formattedTitle = currentTitle.trim();\r\n\r\n    if (!canEdit) {\r\n      return;\r\n    }\r\n\r\n    setIsEditing(false);\r\n\r\n    if (!formattedTitle.length) {\r\n      setCurrentTitle(lastTitle);\r\n      return;\r\n    }\r\n\r\n    if (lastTitle !== formattedTitle) {\r\n      setLastTitle(formattedTitle);\r\n    }\r\n\r\n    if (title !== formattedTitle) {\r\n      onSaveTitle(formattedTitle);\r\n    }\r\n  }\r\n\r\n  // tl;dr when a EditableTitle is being edited, typically the Tab that wraps it has been\r\n  // clicked and is focused/active. For accessibility, when the focused tab anchor intercepts\r\n  // the ' ' key (among others, including all arrows) the onChange() doesn't fire. Somehow\r\n  // keydown is still called so we can detect this and manually add a ' ' to the current title\r\n  function handleKeyDown(event: any) {\r\n    if (event.key === ' ') {\r\n      event.stopPropagation();\r\n    }\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      handleBlur();\r\n    }\r\n  }\r\n\r\n  function handleChange(ev: any) {\r\n    if (!canEdit) {\r\n      return;\r\n    }\r\n    setCurrentTitle(ev.target.value);\r\n  }\r\n\r\n  function handleKeyPress(ev: any) {\r\n    if (ev.key === 'Enter') {\r\n      ev.preventDefault();\r\n      handleBlur();\r\n    }\r\n  }\r\n\r\n  let value: string | undefined;\r\n  value = currentTitle;\r\n  if (!isEditing && !currentTitle) {\r\n    value = defaultTitle || title;\r\n  }\r\n\r\n  // Construct an inline style based on previously-saved height of the rendered label. Only\r\n  // used in multi-line contexts.\r\n  const editStyle =\r\n    isEditing && contentBoundingRect\r\n      ? { height: `${contentBoundingRect.height}px` }\r\n      : undefined;\r\n\r\n  // Create a textarea when we're editing a multi-line value, otherwise create an input (which may\r\n  // be text or a button).\r\n  let titleComponent =\r\n    multiLine && isEditing ? (\r\n      <textarea\r\n        data-test=\"editable-title-input\"\r\n        ref={contentRef}\r\n        value={value}\r\n        className={!title ? 'text-muted' : undefined}\r\n        onKeyDown={handleKeyDown}\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        onClick={handleClick}\r\n        onKeyPress={handleKeyPress}\r\n        placeholder={placeholder}\r\n        style={editStyle}\r\n      />\r\n    ) : (\r\n      <input\r\n        data-test=\"editable-title-input\"\r\n        ref={contentRef}\r\n        type={isEditing ? 'text' : 'button'}\r\n        value={value}\r\n        className={!title ? 'text-muted' : undefined}\r\n        onKeyDown={handleKeyDown}\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        onClick={handleClick}\r\n        onKeyPress={handleKeyPress}\r\n        placeholder={placeholder}\r\n      />\r\n    );\r\n  if (showTooltip && !isEditing) {\r\n    titleComponent = (\r\n      <Tooltip\r\n        id=\"title-tooltip\"\r\n        title={\r\n          canEdit\r\n            ? t('Click to edit')\r\n            : noPermitTooltip ||\r\n              t(\"You don't have the rights to alter this title.\")\r\n        }\r\n      >\r\n        {titleComponent}\r\n      </Tooltip>\r\n    );\r\n  }\r\n  if (!canEdit) {\r\n    // don't actually want an input in this case\r\n    titleComponent = (\r\n      <span data-test=\"editable-title-input\" title={value}>\r\n        {value}\r\n      </span>\r\n    );\r\n  }\r\n  return (\r\n    <span\r\n      data-test=\"editable-title\"\r\n      className={cx(\r\n        'editable-title',\r\n        extraClasses,\r\n        canEdit && 'editable-title--editable',\r\n        isEditing && 'editable-title--editing',\r\n      )}\r\n      style={style}\r\n    >\r\n      {titleComponent}\r\n    </span>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled, supersetTheme } from '@superset-ui/core';\r\nimport Icon from '../Icon';\r\nimport { ErrorLevel } from './types';\r\n\r\nconst StyledContainer = styled.div<{ level: ErrorLevel }>`\r\n  display: flex;\r\n  flex-direction: row;\r\n  background-color: ${({ level, theme }) => theme.colors[level].light2};\r\n  border-radius: ${({ theme }) => theme.borderRadius}px;\r\n  border: 1px solid ${({ level, theme }) => theme.colors[level].base};\r\n  color: ${({ level, theme }) => theme.colors[level].dark2};\r\n  padding: ${({ theme }) => theme.gridUnit * 2}px;\r\n  margin-bottom: ${({ theme }) => theme.gridUnit}px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: ${({ theme }) => theme.gridUnit * 2}px;\r\n`;\r\n\r\nconst StyledTitle = styled.span`\r\n  font-weight: ${({ theme }) => theme.typography.weights.bold};\r\n`;\r\n\r\ninterface BasicErrorAlertProps {\r\n  title: string;\r\n  body: string;\r\n  level: ErrorLevel;\r\n}\r\n\r\nexport default function BasicErrorAlert({\r\n  body,\r\n  level,\r\n  title,\r\n}: BasicErrorAlertProps) {\r\n  return (\r\n    <StyledContainer level={level} role=\"alert\">\r\n      <Icon\r\n        name={level === 'error' ? 'error-solid' : 'warning-solid'}\r\n        color={supersetTheme.colors[level].base}\r\n      />\r\n      <StyledContent>\r\n        <StyledTitle>{title}</StyledTitle>\r\n        <p>{body}</p>\r\n      </StyledContent>\r\n    </StyledContainer>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport React from 'react';\r\nimport OmnibarDeprecated from 'omnibar';\r\n\r\ninterface Props {\r\n  id: string;\r\n  placeholder: string;\r\n  extensions: ((query: string) => Promise<any>)[];\r\n}\r\n\r\n/**\r\n * @deprecated Component \"omnibar\" does not support prop className or id (the original implementation used className). However, the original javascript code was sending these prop and was working correctly. lol\r\n * As this behavior is unpredictable, and does not works whitch types, I have isolated this component so that in the future a better solution can be found and implemented.\r\n * We need to find a substitute for this component or some way of working around this problem\r\n */\r\nexport function Omnibar({ extensions, placeholder, id }: Props) {\r\n  return (\r\n    <OmnibarDeprecated\r\n      // @ts-ignore\r\n      id={id}\r\n      placeholder={placeholder}\r\n      extensions={extensions}\r\n      // autoFocus // I tried to use this prop (autoFocus) but it only works the first time that Omnibar is shown\r\n    />\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport { t, SupersetClient } from '@superset-ui/core';\r\n\r\ninterface DashboardItem {\r\n  changed_by_name: string;\r\n  changed_on: string;\r\n  creator: string;\r\n  dashboard_link: string;\r\n  dashboard_title: string;\r\n  id: number;\r\n  modified: string;\r\n  url: string;\r\n}\r\n\r\ninterface Dashboards extends DashboardItem {\r\n  title: string;\r\n}\r\n\r\nexport const getDashboards = async (\r\n  query: string,\r\n): Promise<(Dashboards | { title: string })[]> => {\r\n  // todo: Build a dedicated endpoint for dashboard searching\r\n  // i.e. superset/v1/api/dashboards?q=${query}\r\n  let response;\r\n  try {\r\n    response = await SupersetClient.get({\r\n      endpoint: `/dashboardasync/api/read?_oc_DashboardModelViewAsync=changed_on&_od_DashboardModelViewAsync=desc&_flt_2_dashboard_title=${query}`,\r\n    });\r\n  } catch (error) {\r\n    return [{ title: t('An error occurred while fetching dashboards') }];\r\n  }\r\n  return response?.json.result.map((item: DashboardItem) => ({\r\n    title: item.dashboard_title,\r\n    ...item,\r\n  }));\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport React, { useRef, useState } from 'react';\r\nimport { styled } from '@superset-ui/core';\r\nimport { isFeatureEnabled, FeatureFlag } from 'src/featureFlags';\r\nimport Modal from 'src/components/Modal';\r\nimport { useComponentDidMount } from 'src/common/hooks/useComponentDidMount';\r\nimport { Omnibar } from './Omnibar';\r\nimport { LOG_ACTIONS_OMNIBAR_TRIGGERED } from '../../logger/LogUtils';\r\nimport { getDashboards } from './getDashboards';\r\n\r\nconst OmniModal = styled(Modal)`\r\n  margin-top: 20%;\r\n\r\n  .ant-modal-body {\r\n    padding: 0;\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  logEvent: (log: string, object: object) => void;\r\n}\r\n\r\nexport default function OmniContainer({ logEvent }: Props) {\r\n  const showOmni = useRef<boolean>();\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useComponentDidMount(() => {\r\n    showOmni.current = false;\r\n    function handleKeydown(event: KeyboardEvent) {\r\n      if (!isFeatureEnabled(FeatureFlag.OMNIBAR)) return;\r\n      const controlOrCommand = event.ctrlKey || event.metaKey;\r\n      const isOk = ['KeyK', 'KeyS'].includes(event.code); // valid keys \"s\" or \"k\"\r\n      if (controlOrCommand && isOk) {\r\n        logEvent(LOG_ACTIONS_OMNIBAR_TRIGGERED, {\r\n          show_omni: !!showOmni.current,\r\n        });\r\n        showOmni.current = !showOmni.current;\r\n        setShowModal(showOmni.current);\r\n        if (showOmni.current) {\r\n          document.getElementById('InputOmnibar')?.focus();\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', handleKeydown);\r\n    return () => document.removeEventListener('keydown', handleKeydown);\r\n  });\r\n\r\n  return (\r\n    <OmniModal\r\n      title=\"\"\r\n      show={showModal}\r\n      hideFooter\r\n      closable={false}\r\n      onHide={() => {}}\r\n    >\r\n      <Omnibar\r\n        id=\"InputOmnibar\"\r\n        placeholder=\"Search all dashboards\"\r\n        extensions={[getDashboards]}\r\n      />\r\n    </OmniModal>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport cx from 'classnames';\r\nimport { styled, useTheme } from '@superset-ui/core';\r\nimport { Dropdown, Menu } from 'src/common/components';\r\nimport Icon from 'src/components/Icon';\r\n\r\nexport interface OptionProps {\r\n  value: string;\r\n  label: string;\r\n  className?: string;\r\n}\r\n\r\nexport type OnChangeHandler = (key: React.Key) => void;\r\nexport type RenderElementHandler = (option: OptionProps) => JSX.Element;\r\n\r\nexport interface PopoverDropdownProps {\r\n  id: string;\r\n  options: OptionProps[];\r\n  onChange: OnChangeHandler;\r\n  value: string;\r\n  renderButton?: RenderElementHandler;\r\n  renderOption?: RenderElementHandler;\r\n}\r\n\r\ninterface HandleSelectProps {\r\n  key: React.Key;\r\n}\r\n\r\nconst MenuItem = styled(Menu.Item)`\r\n  &.ant-menu-item {\r\n    height: auto;\r\n    line-height: 1.4;\r\n\r\n    padding-top: ${({ theme }) => theme.gridUnit}px;\r\n    padding-bottom: ${({ theme }) => theme.gridUnit}px;\r\n\r\n    margin-top: 0;\r\n    margin-bottom: 0;\r\n\r\n    &:not(:last-child) {\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    &:hover {\r\n      background: ${({ theme }) => theme.colors.grayscale.light3};\r\n    }\r\n\r\n    &.active {\r\n      font-weight: ${({ theme }) => theme.typography.weights.bold};\r\n      background: ${({ theme }) => theme.colors.grayscale.light2};\r\n    }\r\n  }\r\n\r\n  &.ant-menu-item-selected {\r\n    color: unset;\r\n  }\r\n`;\r\n\r\nconst PopoverDropdown = (props: PopoverDropdownProps) => {\r\n  const {\r\n    value,\r\n    options,\r\n    onChange,\r\n    renderButton = (option: OptionProps) => option.label,\r\n    renderOption = (option: OptionProps) => (\r\n      <div className={option.className}>{option.label}</div>\r\n    ),\r\n  } = props;\r\n\r\n  const theme = useTheme();\r\n  const selected = options.find(opt => opt.value === value);\r\n  return (\r\n    <Dropdown\r\n      trigger={['click']}\r\n      overlayStyle={{ zIndex: theme.zIndex.max }}\r\n      overlay={\r\n        <Menu onClick={({ key }: HandleSelectProps) => onChange(key)}>\r\n          {options.map(option => (\r\n            <MenuItem\r\n              id=\"menu-item\"\r\n              key={option.value}\r\n              className={cx('dropdown-item', {\r\n                active: option.value === value,\r\n              })}\r\n            >\r\n              {renderOption(option)}\r\n            </MenuItem>\r\n          ))}\r\n        </Menu>\r\n      }\r\n    >\r\n      <div role=\"button\" css={{ display: 'flex', alignItems: 'center' }}>\r\n        {selected && renderButton(selected)}\r\n        <Icon name=\"caret-down\" css={{ marginTop: theme.gridUnit }} />\r\n      </div>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\nexport default PopoverDropdown;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useEffect } from 'react';\r\nimport rison from 'rison';\r\nimport { SupersetClient } from '@superset-ui/core';\r\nimport { AsyncSelect } from 'src/components/Select';\r\nimport {\r\n  ClientErrorObject,\r\n  getClientErrorObject,\r\n} from 'src/utils/getClientErrorObject';\r\nimport { cacheWrapper } from 'src/utils/cacheWrapper';\r\n\r\nexport type Value<V> = { value: V; label: string };\r\n\r\nexport interface SupersetResourceSelectProps<T = unknown, V = string> {\r\n  value?: Value<V> | null;\r\n  initialId?: number | string;\r\n  onChange?: (value?: Value<V>) => void;\r\n  isMulti?: boolean;\r\n  searchColumn?: string;\r\n  resource?: string; // e.g. \"dataset\", \"dashboard/related/owners\"\r\n  transformItem?: (item: T) => Value<V>;\r\n  onError: (error: ClientErrorObject) => void;\r\n  defaultOptions?: { value: number; label: string }[] | boolean;\r\n}\r\n\r\n/**\r\n * This is a special-purpose select component for when you're selecting\r\n * items from one of the standard Superset resource APIs.\r\n * Such as selecting a datasource, a chart, or users.\r\n *\r\n * If you're selecting a \"related\" resource (such as dashboard/related/owners),\r\n * leave the searchColumn prop unset.\r\n * The api doesn't do columns on related resources for some reason.\r\n *\r\n * If you're doing anything more complex than selecting a standard resource,\r\n * we'll all be better off if you use AsyncSelect directly instead.\r\n */\r\n\r\nconst localCache = new Map<string, any>();\r\n\r\nexport const cachedSupersetGet = cacheWrapper(\r\n  SupersetClient.get,\r\n  localCache,\r\n  ({ endpoint }) => endpoint || '',\r\n);\r\n\r\nexport default function SupersetResourceSelect<T, V>({\r\n  value,\r\n  initialId,\r\n  onChange,\r\n  isMulti,\r\n  resource,\r\n  searchColumn,\r\n  transformItem,\r\n  onError,\r\n  defaultOptions = true,\r\n}: SupersetResourceSelectProps<T, V>) {\r\n  useEffect(() => {\r\n    if (initialId == null) return;\r\n    cachedSupersetGet({\r\n      endpoint: `/api/v1/${resource}/${initialId}`,\r\n    })\r\n      .then(response => {\r\n        const { result } = response.json;\r\n        const value = transformItem ? transformItem(result) : result;\r\n        if (onChange) onChange(value);\r\n      })\r\n      .catch(response => {\r\n        if (response?.status === 404 && onChange) onChange(undefined);\r\n      });\r\n  }, [resource, initialId]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function loadOptions(input: string) {\r\n    const query = searchColumn\r\n      ? rison.encode({\r\n          filters: [{ col: searchColumn, opr: 'ct', value: input }],\r\n        })\r\n      : rison.encode({ filter: value });\r\n    return cachedSupersetGet({\r\n      endpoint: `/api/v1/${resource}/?q=${query}`,\r\n    }).then(\r\n      response =>\r\n        response.json.result\r\n          .map(transformItem)\r\n          .sort((a: Value<V>, b: Value<V>) => a.label.localeCompare(b.label)),\r\n      async badResponse => {\r\n        onError(await getClientErrorObject(badResponse));\r\n        return [];\r\n      },\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AsyncSelect\r\n      value={value}\r\n      onChange={onChange}\r\n      isMulti={isMulti}\r\n      loadOptions={loadOptions}\r\n      defaultOptions={defaultOptions} // true - load options on render\r\n      cacheOptions\r\n      filterOption={null} // options are filtered at the api\r\n    />\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { t } from '@superset-ui/core';\r\nimport Popover from 'src/components/Popover';\r\nimport CopyToClipboard from 'src/components/CopyToClipboard';\r\nimport { getShortUrl } from 'src/utils/urlUtils';\r\nimport withToasts from 'src/messageToasts/enhancers/withToasts';\r\n\r\nconst propTypes = {\r\n  url: PropTypes.string,\r\n  emailSubject: PropTypes.string,\r\n  emailContent: PropTypes.string,\r\n  addDangerToast: PropTypes.func.isRequired,\r\n  placement: PropTypes.oneOf(['right', 'left', 'top', 'bottom']),\r\n};\r\n\r\nclass URLShortLinkButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      shortUrl: '',\r\n    };\r\n    this.onShortUrlSuccess = this.onShortUrlSuccess.bind(this);\r\n    this.getCopyUrl = this.getCopyUrl.bind(this);\r\n  }\r\n\r\n  onShortUrlSuccess(shortUrl) {\r\n    this.setState(() => ({\r\n      shortUrl,\r\n    }));\r\n  }\r\n\r\n  getCopyUrl(e) {\r\n    e.stopPropagation();\r\n    getShortUrl(this.props.url)\r\n      .then(this.onShortUrlSuccess)\r\n      .catch(this.props.addDangerToast);\r\n  }\r\n\r\n  renderPopover() {\r\n    const emailBody = t('%s%s', this.props.emailContent, this.state.shortUrl);\r\n    return (\r\n      <div id=\"shorturl-popover\" data-test=\"shorturl-popover\">\r\n        <CopyToClipboard\r\n          text={this.state.shortUrl}\r\n          copyNode={\r\n            <i className=\"fa fa-clipboard\" title={t('Copy to clipboard')} />\r\n          }\r\n        />\r\n        &nbsp;&nbsp;\r\n        <a\r\n          href={`mailto:?Subject=${this.props.emailSubject}%20&Body=${emailBody}`}\r\n        >\r\n          <i className=\"fa fa-envelope\" />\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Popover\r\n        trigger=\"click\"\r\n        placement={this.props.placement}\r\n        onClick={this.getCopyUrl}\r\n        content={this.renderPopover()}\r\n      >\r\n        <span\r\n          className=\"short-link-trigger btn btn-default btn-sm\"\r\n          role=\"button\"\r\n        >\r\n          <i className=\"short-link-trigger fa fa-link\" />\r\n          &nbsp;\r\n        </span>\r\n      </Popover>\r\n    );\r\n  }\r\n}\r\n\r\nURLShortLinkButton.defaultProps = {\r\n  url: window.location.href.substring(window.location.origin.length),\r\n  placement: 'left',\r\n  emailSubject: '',\r\n  emailContent: '',\r\n};\r\n\r\nURLShortLinkButton.propTypes = propTypes;\r\n\r\nexport default withToasts(URLShortLinkButton);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport cx from 'classnames';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { t, styled } from '@superset-ui/core';\r\n\r\nconst propTypes = {\r\n  datasourceUrl: PropTypes.string,\r\n  datasourceName: PropTypes.string,\r\n  innerRef: PropTypes.func,\r\n  isSelected: PropTypes.bool,\r\n  lastModified: PropTypes.string,\r\n  sliceName: PropTypes.string.isRequired,\r\n  style: PropTypes.object,\r\n  visType: PropTypes.string.isRequired,\r\n};\r\n\r\nconst defaultProps = {\r\n  datasourceUrl: null,\r\n  datasourceName: '-',\r\n  innerRef: null,\r\n  isSelected: false,\r\n  style: null,\r\n  lastModified: null,\r\n};\r\n\r\nconst Styled = styled.div`\r\n  ${({ theme }) => `\r\n    .chart-card {\r\n      border: 1px solid ${theme.colors.grayscale.light2};\r\n      border-radius: ${theme.gridUnit}px;\r\n      background: ${theme.colors.grayscale.light5};\r\n      font-weight: ${theme.typography.weights.light};\r\n      padding: ${theme.gridUnit * 2}px;\r\n      margin: 0 ${theme.gridUnit * 3}px\r\n        ${theme.gridUnit * 3}px\r\n        ${theme.gridUnit * 3}px;\r\n      position: relative;\r\n      cursor: move;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n\r\n      &:hover {\r\n        background: ${theme.colors.grayscale.light4};\r\n      }\r\n    }\r\n\r\n    .chart-card.is-selected {\r\n      cursor: not-allowed;\r\n      opacity: 0.4;\r\n    }\r\n\r\n    .card-title {\r\n      margin-right: 60px;\r\n      margin-bottom: ${theme.gridUnit * 2}px;\r\n      font-weight: ${theme.typography.weights.bold};\r\n    }\r\n\r\n    .card-body {\r\n      display: flex;\r\n      flex-direction: column;\r\n\r\n      .item {\r\n        span {\r\n          word-break: break-all;\r\n\r\n          &:first-child {\r\n            font-weight: ${theme.typography.weights.normal};\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .is-added-label {\r\n      background: ${theme.colors.grayscale.base};\r\n      border-radius: ${theme.gridUnit}px;\r\n      color: ${theme.colors.grayscale.light5};\r\n      font-size: ${theme.typography.sizes.s}px;\r\n      text-transform: uppercase;\r\n      position: absolute;\r\n      padding: ${theme.gridUnit}px\r\n        ${theme.gridUnit * 2}px;\r\n      top: ${theme.gridUnit * 8}px;\r\n      right: ${theme.gridUnit * 8}px;\r\n      pointer-events: none;\r\n    }\r\n  `}\r\n`;\r\n\r\nfunction AddSliceCard({\r\n  datasourceUrl,\r\n  datasourceName,\r\n  innerRef,\r\n  isSelected,\r\n  lastModified,\r\n  sliceName,\r\n  style,\r\n  visType,\r\n}) {\r\n  return (\r\n    <Styled ref={innerRef} style={style}>\r\n      <div\r\n        className={cx('chart-card', isSelected && 'is-selected')}\r\n        data-test=\"chart-card\"\r\n      >\r\n        <div className=\"card-title\" data-test=\"card-title\">\r\n          {sliceName}\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"item\">\r\n            <span>{t('Modified')} </span>\r\n            <span>{lastModified}</span>\r\n          </div>\r\n          <div className=\"item\">\r\n            <span>{t('Visualization')} </span>\r\n            <span>{visType}</span>\r\n          </div>\r\n          <div className=\"item\">\r\n            <span>{t('Data source')} </span>\r\n            <a href={datasourceUrl}>{datasourceName}</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {isSelected && <div className=\"is-added-label\">{t('Added')}</div>}\r\n    </Styled>\r\n  );\r\n}\r\n\r\nAddSliceCard.propTypes = propTypes;\r\nAddSliceCard.defaultProps = defaultProps;\r\n\r\nexport default AddSliceCard;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-env browser */\r\nimport React from 'react';\r\nimport Tabs from 'src/components/Tabs';\r\nimport { StickyContainer, Sticky } from 'react-sticky';\r\nimport { ParentSize } from '@vx/responsive';\r\n\r\nimport { t, styled } from '@superset-ui/core';\r\n\r\nimport NewColumn from './gridComponents/new/NewColumn';\r\nimport NewDivider from './gridComponents/new/NewDivider';\r\nimport NewHeader from './gridComponents/new/NewHeader';\r\nimport NewRow from './gridComponents/new/NewRow';\r\nimport NewTabs from './gridComponents/new/NewTabs';\r\nimport NewMarkdown from './gridComponents/new/NewMarkdown';\r\nimport SliceAdder from '../containers/SliceAdder';\r\n\r\nexport interface BCPProps {\r\n  topOffset: number;\r\n}\r\n\r\nconst SUPERSET_HEADER_HEIGHT = 59;\r\n\r\nconst BuilderComponentPaneTabs = styled(Tabs)`\r\n  line-height: inherit;\r\n  margin-top: ${({ theme }) => theme.gridUnit * 2}px;\r\n`;\r\n\r\nconst BuilderComponentPane: React.FC<BCPProps> = ({ topOffset = 0 }) => (\r\n  <div\r\n    className=\"dashboard-builder-sidepane\"\r\n    style={{\r\n      height: `calc(100vh - ${topOffset + SUPERSET_HEADER_HEIGHT}px)`,\r\n    }}\r\n  >\r\n    <ParentSize>\r\n      {({ height }) => (\r\n        <StickyContainer>\r\n          <Sticky topOffset={-topOffset} bottomOffset={Infinity}>\r\n            {({ style, isSticky }: { style: any; isSticky: boolean }) => (\r\n              <div\r\n                className=\"viewport\"\r\n                style={isSticky ? { ...style, top: topOffset } : null}\r\n              >\r\n                <BuilderComponentPaneTabs\r\n                  id=\"tabs\"\r\n                  className=\"tabs-components\"\r\n                  data-test=\"dashboard-builder-component-pane-tabs-navigation\"\r\n                >\r\n                  <Tabs.TabPane key={1} tab={t('Components')}>\r\n                    <NewTabs />\r\n                    <NewRow />\r\n                    <NewColumn />\r\n                    <NewHeader />\r\n                    <NewMarkdown />\r\n                    <NewDivider />\r\n                  </Tabs.TabPane>\r\n                  <Tabs.TabPane\r\n                    key={2}\r\n                    tab={t('Charts')}\r\n                    className=\"tab-charts\"\r\n                  >\r\n                    <SliceAdder\r\n                      height={height + (isSticky ? SUPERSET_HEADER_HEIGHT : 0)}\r\n                    />\r\n                  </Tabs.TabPane>\r\n                </BuilderComponentPaneTabs>\r\n              </div>\r\n            )}\r\n          </Sticky>\r\n        </StickyContainer>\r\n      )}\r\n    </ParentSize>\r\n  </div>\r\n);\r\n\r\nexport default BuilderComponentPane;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { FC } from 'react';\r\nimport { FormInstance } from 'antd/lib/form';\r\nimport FilterScope from 'src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/FilterScope/FilterScope';\r\nimport { setCrossFilterFieldValues } from 'src/dashboard/components/CrossFilterScopingModal/utils';\r\nimport { Scope } from 'src/dashboard/components/nativeFilters/types';\r\nimport { useForceUpdate } from 'src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigForm/utils';\r\nimport { CrossFilterScopingFormType } from 'src/dashboard/components/CrossFilterScopingModal/types';\r\n\r\ntype CrossFilterScopingFormProps = {\r\n  chartId: number;\r\n  scope: Scope;\r\n  form: FormInstance<CrossFilterScopingFormType>;\r\n};\r\n\r\nconst CrossFilterScopingForm: FC<CrossFilterScopingFormProps> = ({\r\n  form,\r\n  scope,\r\n  chartId,\r\n}) => {\r\n  const forceUpdate = useForceUpdate();\r\n  const formScope = form.getFieldValue('scope');\r\n  const formScoping = form.getFieldValue('scoping');\r\n  return (\r\n    <FilterScope\r\n      updateFormValues={(values: any) => {\r\n        setCrossFilterFieldValues(form, {\r\n          ...values,\r\n        });\r\n      }}\r\n      scope={scope}\r\n      chartId={chartId}\r\n      formScope={formScope}\r\n      forceUpdate={forceUpdate}\r\n      formScoping={formScoping}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CrossFilterScopingForm;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t } from '@superset-ui/core';\r\nimport React, { FC } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { StyledModal } from 'src/components/Modal';\r\nimport Button from 'src/components/Button';\r\nimport { Form } from 'src/common/components';\r\nimport { setChartConfiguration } from 'src/dashboard/actions/dashboardInfo';\r\nimport { ChartConfiguration } from 'src/dashboard/reducers/types';\r\nimport CrossFilterScopingForm from './CrossFilterScopingForm';\r\nimport { CrossFilterScopingFormType } from './types';\r\nimport { StyledForm } from '../nativeFilters/FiltersConfigModal/FiltersConfigModal';\r\n\r\ntype CrossFilterScopingModalProps = {\r\n  chartId: number;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n};\r\n\r\nconst CrossFilterScopingModal: FC<CrossFilterScopingModalProps> = ({\r\n  isOpen,\r\n  chartId,\r\n  onClose,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const [form] = Form.useForm<CrossFilterScopingFormType>();\r\n  const chartConfig = useSelector<any, ChartConfiguration>(\r\n    ({ dashboardInfo }) => dashboardInfo?.metadata?.chart_configuration,\r\n  );\r\n  const scope = chartConfig?.[chartId]?.crossFilters?.scope;\r\n  const handleSave = () => {\r\n    dispatch(\r\n      setChartConfiguration({\r\n        ...chartConfig,\r\n        [chartId]: {\r\n          id: chartId,\r\n          crossFilters: { scope: form.getFieldValue('scope') },\r\n        },\r\n      }),\r\n    );\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <StyledModal\r\n      visible={isOpen}\r\n      maskClosable={false}\r\n      title={t('Cross Filter Scoping')}\r\n      width=\"55%\"\r\n      destroyOnClose\r\n      onCancel={onClose}\r\n      onOk={handleSave}\r\n      centered\r\n      data-test=\"cross-filter-scoping-modal\"\r\n      footer={\r\n        <>\r\n          <Button\r\n            key=\"cancel\"\r\n            buttonStyle=\"secondary\"\r\n            data-test=\"cross-filter-scoping-modal-cancel-button\"\r\n            onClick={onClose}\r\n          >\r\n            {t('Cancel')}\r\n          </Button>\r\n          <Button\r\n            key=\"submit\"\r\n            buttonStyle=\"primary\"\r\n            onClick={handleSave}\r\n            data-test=\"cross-filter-scoping-modal-save-button\"\r\n          >\r\n            {t('Save')}\r\n          </Button>\r\n        </>\r\n      }\r\n    >\r\n      <StyledForm preserve={false} form={form} layout=\"vertical\">\r\n        <CrossFilterScopingForm form={form} scope={scope} chartId={chartId} />\r\n      </StyledForm>\r\n    </StyledModal>\r\n  );\r\n};\r\n\r\nexport default CrossFilterScopingModal;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { FormInstance } from 'antd/lib/form';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const setCrossFilterFieldValues = (\r\n  form: FormInstance,\r\n  values: object,\r\n) => {\r\n  form.setFieldsValue({\r\n    ...values,\r\n  });\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Select from 'src/components/Select';\r\nimport { t } from '@superset-ui/core';\r\nimport ModalTrigger from 'src/components/ModalTrigger';\r\nimport { CssEditor as AceCssEditor } from 'src/components/AsyncAceEditor';\r\n\r\nconst propTypes = {\r\n  initialCss: PropTypes.string,\r\n  triggerNode: PropTypes.node.isRequired,\r\n  onChange: PropTypes.func,\r\n  templates: PropTypes.array,\r\n};\r\n\r\nconst defaultProps = {\r\n  initialCss: '',\r\n  onChange: () => {},\r\n};\r\n\r\nclass CssEditor extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      css: props.initialCss,\r\n    };\r\n    this.changeCss = this.changeCss.bind(this);\r\n    this.changeCssTemplate = this.changeCssTemplate.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    AceCssEditor.preload();\r\n  }\r\n\r\n  changeCss(css) {\r\n    this.setState({ css }, () => {\r\n      this.props.onChange(css);\r\n    });\r\n  }\r\n\r\n  changeCssTemplate(opt) {\r\n    this.changeCss(opt.css);\r\n  }\r\n\r\n  renderTemplateSelector() {\r\n    if (this.props.templates) {\r\n      return (\r\n        <div style={{ zIndex: 10 }}>\r\n          <h5>{t('Load a template')}</h5>\r\n          <Select\r\n            options={this.props.templates}\r\n            placeholder={t('Load a CSS template')}\r\n            onChange={this.changeCssTemplate}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ModalTrigger\r\n        triggerNode={this.props.triggerNode}\r\n        modalTitle={t('CSS')}\r\n        modalBody={\r\n          <div>\r\n            {this.renderTemplateSelector()}\r\n            <div style={{ zIndex: 1 }}>\r\n              <h5>{t('Live CSS editor')}</h5>\r\n              <div style={{ border: 'solid 1px grey' }}>\r\n                <AceCssEditor\r\n                  minLines={12}\r\n                  maxLines={30}\r\n                  onChange={this.changeCss}\r\n                  height=\"200px\"\r\n                  width=\"100%\"\r\n                  editorProps={{ $blockScrolling: true }}\r\n                  enableLiveAutocompletion\r\n                  value={this.state.css || ''}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nCssEditor.propTypes = propTypes;\r\nCssEditor.defaultProps = defaultProps;\r\n\r\nexport default CssEditor;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { isFeatureEnabled, t, FeatureFlag } from '@superset-ui/core';\r\n\r\nimport { PluginContext } from 'src/components/DynamicPlugins';\r\nimport Loading from 'src/components/Loading';\r\nimport getChartIdsFromLayout from '../util/getChartIdsFromLayout';\r\nimport getLayoutComponentFromChartId from '../util/getLayoutComponentFromChartId';\r\nimport DashboardBuilder from './DashboardBuilder/DashboardBuilder';\r\nimport {\r\n  chartPropShape,\r\n  slicePropShape,\r\n  dashboardInfoPropShape,\r\n  dashboardStatePropShape,\r\n} from '../util/propShapes';\r\nimport {\r\n  LOG_ACTIONS_HIDE_BROWSER_TAB,\r\n  LOG_ACTIONS_MOUNT_DASHBOARD,\r\n  Logger,\r\n} from '../../logger/LogUtils';\r\nimport OmniContainer from '../../components/OmniContainer';\r\nimport { areObjectsEqual } from '../../reduxUtils';\r\n\r\nimport '../stylesheets/index.less';\r\nimport getLocationHash from '../util/getLocationHash';\r\nimport isDashboardEmpty from '../util/isDashboardEmpty';\r\nimport { getAffectedOwnDataCharts } from '../util/charts/getOwnDataCharts';\r\n\r\nconst propTypes = {\r\n  actions: PropTypes.shape({\r\n    addSliceToDashboard: PropTypes.func.isRequired,\r\n    removeSliceFromDashboard: PropTypes.func.isRequired,\r\n    triggerQuery: PropTypes.func.isRequired,\r\n    logEvent: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n  dashboardInfo: dashboardInfoPropShape.isRequired,\r\n  dashboardState: dashboardStatePropShape.isRequired,\r\n  charts: PropTypes.objectOf(chartPropShape).isRequired,\r\n  slices: PropTypes.objectOf(slicePropShape).isRequired,\r\n  activeFilters: PropTypes.object.isRequired,\r\n  chartConfiguration: PropTypes.object.isRequired,\r\n  datasources: PropTypes.object.isRequired,\r\n  ownDataCharts: PropTypes.object.isRequired,\r\n  layout: PropTypes.object.isRequired,\r\n  impressionId: PropTypes.string.isRequired,\r\n  initMessages: PropTypes.array,\r\n  timeout: PropTypes.number,\r\n  userId: PropTypes.string,\r\n};\r\n\r\nconst defaultProps = {\r\n  initMessages: [],\r\n  timeout: 60,\r\n  userId: '',\r\n};\r\n\r\nclass Dashboard extends React.PureComponent {\r\n  static contextType = PluginContext;\r\n\r\n  static onBeforeUnload(hasChanged) {\r\n    if (hasChanged) {\r\n      window.addEventListener('beforeunload', Dashboard.unload);\r\n    } else {\r\n      window.removeEventListener('beforeunload', Dashboard.unload);\r\n    }\r\n  }\r\n\r\n  static unload() {\r\n    const message = t('You have unsaved changes.');\r\n    window.event.returnValue = message; // Gecko + IE\r\n    return message; // Gecko + Webkit, Safari, Chrome etc.\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.appliedFilters = props.activeFilters ?? {};\r\n    this.appliedOwnDataCharts = props.ownDataCharts ?? {};\r\n    this.onVisibilityChange = this.onVisibilityChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const appContainer = document.getElementById('app');\r\n    const bootstrapData = appContainer?.getAttribute('data-bootstrap') || '';\r\n    const { dashboardState, layout } = this.props;\r\n    const eventData = {\r\n      is_edit_mode: dashboardState.editMode,\r\n      mount_duration: Logger.getTimestamp(),\r\n      is_empty: isDashboardEmpty(layout),\r\n      is_published: dashboardState.isPublished,\r\n      bootstrap_data_length: bootstrapData.length,\r\n    };\r\n    const directLinkComponentId = getLocationHash();\r\n    if (directLinkComponentId) {\r\n      eventData.target_id = directLinkComponentId;\r\n    }\r\n    this.props.actions.logEvent(LOG_ACTIONS_MOUNT_DASHBOARD, eventData);\r\n\r\n    // Handle browser tab visibility change\r\n    if (document.visibilityState === 'hidden') {\r\n      this.visibilityEventData = {\r\n        start_offset: Logger.getTimestamp(),\r\n        ts: new Date().getTime(),\r\n      };\r\n    }\r\n    window.addEventListener('visibilitychange', this.onVisibilityChange);\r\n    this.applyCharts();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.applyCharts();\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const currentChartIds = getChartIdsFromLayout(this.props.layout);\r\n    const nextChartIds = getChartIdsFromLayout(nextProps.layout);\r\n\r\n    if (currentChartIds.length < nextChartIds.length) {\r\n      const newChartIds = nextChartIds.filter(\r\n        key => currentChartIds.indexOf(key) === -1,\r\n      );\r\n      newChartIds.forEach(newChartId =>\r\n        this.props.actions.addSliceToDashboard(\r\n          newChartId,\r\n          getLayoutComponentFromChartId(nextProps.layout, newChartId),\r\n        ),\r\n      );\r\n    } else if (currentChartIds.length > nextChartIds.length) {\r\n      // remove chart\r\n      const removedChartIds = currentChartIds.filter(\r\n        key => nextChartIds.indexOf(key) === -1,\r\n      );\r\n      removedChartIds.forEach(removedChartId =>\r\n        this.props.actions.removeSliceFromDashboard(removedChartId),\r\n      );\r\n    }\r\n  }\r\n\r\n  applyCharts() {\r\n    const { hasUnsavedChanges, editMode } = this.props.dashboardState;\r\n\r\n    const { appliedFilters, appliedOwnDataCharts } = this;\r\n    const { activeFilters, ownDataCharts, chartConfiguration } = this.props;\r\n    if (\r\n      isFeatureEnabled(FeatureFlag.DASHBOARD_CROSS_FILTERS) &&\r\n      !chartConfiguration\r\n    ) {\r\n      // For a first loading we need to wait for cross filters charts data loaded to get all active filters\r\n      // for correct comparing  of filters to avoid unnecessary requests\r\n      return;\r\n    }\r\n\r\n    if (\r\n      !editMode &&\r\n      (!areObjectsEqual(appliedOwnDataCharts, ownDataCharts, {\r\n        ignoreUndefined: true,\r\n      }) ||\r\n        !areObjectsEqual(appliedFilters, activeFilters, {\r\n          ignoreUndefined: true,\r\n        }))\r\n    ) {\r\n      this.applyFilters();\r\n    }\r\n\r\n    if (hasUnsavedChanges) {\r\n      Dashboard.onBeforeUnload(true);\r\n    } else {\r\n      Dashboard.onBeforeUnload(false);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('visibilitychange', this.onVisibilityChange);\r\n  }\r\n\r\n  onVisibilityChange() {\r\n    if (document.visibilityState === 'hidden') {\r\n      // from visible to hidden\r\n      this.visibilityEventData = {\r\n        start_offset: Logger.getTimestamp(),\r\n        ts: new Date().getTime(),\r\n      };\r\n    } else if (document.visibilityState === 'visible') {\r\n      // from hidden to visible\r\n      const logStart = this.visibilityEventData.start_offset;\r\n      this.props.actions.logEvent(LOG_ACTIONS_HIDE_BROWSER_TAB, {\r\n        ...this.visibilityEventData,\r\n        duration: Logger.getTimestamp() - logStart,\r\n      });\r\n    }\r\n  }\r\n\r\n  // return charts in array\r\n  getAllCharts() {\r\n    return Object.values(this.props.charts);\r\n  }\r\n\r\n  applyFilters() {\r\n    const { appliedFilters } = this;\r\n    const { activeFilters, ownDataCharts } = this.props;\r\n\r\n    // refresh charts if a filter was removed, added, or changed\r\n    const currFilterKeys = Object.keys(activeFilters);\r\n    const appliedFilterKeys = Object.keys(appliedFilters);\r\n\r\n    const allKeys = new Set(currFilterKeys.concat(appliedFilterKeys));\r\n    const affectedChartIds = getAffectedOwnDataCharts(\r\n      ownDataCharts,\r\n      this.appliedOwnDataCharts,\r\n    );\r\n    [...allKeys].forEach(filterKey => {\r\n      if (\r\n        !currFilterKeys.includes(filterKey) &&\r\n        appliedFilterKeys.includes(filterKey)\r\n      ) {\r\n        // filterKey is removed?\r\n        affectedChartIds.push(...appliedFilters[filterKey].scope);\r\n      } else if (!appliedFilterKeys.includes(filterKey)) {\r\n        // filterKey is newly added?\r\n        affectedChartIds.push(...activeFilters[filterKey].scope);\r\n      } else {\r\n        // if filterKey changes value,\r\n        // update charts in its scope\r\n        if (\r\n          !areObjectsEqual(\r\n            appliedFilters[filterKey].values,\r\n            activeFilters[filterKey].values,\r\n            {\r\n              ignoreUndefined: true,\r\n            },\r\n          )\r\n        ) {\r\n          affectedChartIds.push(...activeFilters[filterKey].scope);\r\n        }\r\n\r\n        // if filterKey changes scope,\r\n        // update all charts in its scope\r\n        if (\r\n          !areObjectsEqual(\r\n            appliedFilters[filterKey].scope,\r\n            activeFilters[filterKey].scope,\r\n          )\r\n        ) {\r\n          const chartsInScope = (activeFilters[filterKey].scope || []).concat(\r\n            appliedFilters[filterKey].scope || [],\r\n          );\r\n          affectedChartIds.push(...chartsInScope);\r\n        }\r\n      }\r\n    });\r\n\r\n    // remove dup in affectedChartIds\r\n    this.refreshCharts([...new Set(affectedChartIds)]);\r\n    this.appliedFilters = activeFilters;\r\n    this.appliedOwnDataCharts = ownDataCharts;\r\n  }\r\n\r\n  refreshCharts(ids) {\r\n    ids.forEach(id => {\r\n      this.props.actions.triggerQuery(true, id);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.context.loading) {\r\n      return <Loading />;\r\n    }\r\n    return (\r\n      <>\r\n        <OmniContainer logEvent={this.props.actions.logEvent} />\r\n        <DashboardBuilder />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nDashboard.propTypes = propTypes;\r\nDashboard.defaultProps = defaultProps;\r\n\r\nexport default Dashboard;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-env browser */\r\nimport cx from 'classnames';\r\nimport React, { FC } from 'react';\r\nimport { Sticky, StickyContainer } from 'react-sticky';\r\nimport { JsonObject, styled } from '@superset-ui/core';\r\nimport ErrorBoundary from 'src/components/ErrorBoundary';\r\nimport BuilderComponentPane from 'src/dashboard/components/BuilderComponentPane';\r\nimport DashboardHeader from 'src/dashboard/containers/DashboardHeader';\r\nimport IconButton from 'src/dashboard/components/IconButton';\r\nimport DragDroppable from 'src/dashboard/components/dnd/DragDroppable';\r\nimport DashboardComponent from 'src/dashboard/containers/DashboardComponent';\r\nimport ToastPresenter from 'src/messageToasts/containers/ToastPresenter';\r\nimport WithPopoverMenu from 'src/dashboard/components/menu/WithPopoverMenu';\r\nimport getDirectPathToTabIndex from 'src/dashboard/util/getDirectPathToTabIndex';\r\nimport { URL_PARAMS } from 'src/constants';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getUrlParam } from 'src/utils/urlUtils';\r\nimport { DashboardLayout, RootState } from 'src/dashboard/types';\r\nimport { setDirectPathToChild } from 'src/dashboard/actions/dashboardState';\r\nimport {\r\n  deleteTopLevelTabs,\r\n  handleComponentDrop,\r\n} from 'src/dashboard/actions/dashboardLayout';\r\nimport {\r\n  DASHBOARD_GRID_ID,\r\n  DASHBOARD_ROOT_ID,\r\n  DASHBOARD_ROOT_DEPTH,\r\n  DashboardStandaloneMode,\r\n} from 'src/dashboard/util/constants';\r\nimport FilterBar from 'src/dashboard/components/nativeFilters/FilterBar';\r\nimport Loading from 'src/components/Loading';\r\nimport { StickyVerticalBar } from '../StickyVerticalBar';\r\nimport { shouldFocusTabs, getRootLevelTabsComponent } from './utils';\r\nimport DashboardContainer from './DashboardContainer';\r\nimport { useNativeFilters } from './state';\r\n\r\nconst TABS_HEIGHT = 47;\r\nconst HEADER_HEIGHT = 67;\r\n\r\ntype DashboardBuilderProps = {};\r\n\r\nconst StyledDashboardContent = styled.div<{\r\n  dashboardFiltersOpen: boolean;\r\n  editMode: boolean;\r\n}>`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: nowrap;\r\n  height: auto;\r\n  flex-grow: 1;\r\n\r\n  .grid-container .dashboard-component-tabs {\r\n    box-shadow: none;\r\n    padding-left: 0;\r\n  }\r\n\r\n  .grid-container {\r\n    /* without this, the grid will not get smaller upon toggling the builder panel on */\r\n    min-width: 0;\r\n    width: 100%;\r\n    flex-grow: 1;\r\n    position: relative;\r\n    margin-top: ${({ theme }) => theme.gridUnit * 6}px;\r\n    margin-right: ${({ theme }) => theme.gridUnit * 8}px;\r\n    margin-bottom: ${({ theme }) => theme.gridUnit * 6}px;\r\n    margin-left: ${({ theme, dashboardFiltersOpen, editMode }) => {\r\n      if (!dashboardFiltersOpen && !editMode) {\r\n        return 0;\r\n      }\r\n      return theme.gridUnit * 8;\r\n    }}px;\r\n  }\r\n\r\n  .dashboard-component-chart-holder {\r\n    // transitionable traits to show filter relevance\r\n    transition: opacity ${({ theme }) => theme.transitionTiming}s,\r\n      border-color ${({ theme }) => theme.transitionTiming}s,\r\n      box-shadow ${({ theme }) => theme.transitionTiming}s;\r\n    border: 0 solid transparent;\r\n  }\r\n`;\r\n\r\nconst DashboardBuilder: FC<DashboardBuilderProps> = () => {\r\n  const dispatch = useDispatch();\r\n  const dashboardLayout = useSelector<RootState, DashboardLayout>(\r\n    state => state.dashboardLayout.present,\r\n  );\r\n  const editMode = useSelector<RootState, boolean>(\r\n    state => state.dashboardState.editMode,\r\n  );\r\n  const directPathToChild = useSelector<RootState, string[]>(\r\n    state => state.dashboardState.directPathToChild,\r\n  );\r\n\r\n  const handleChangeTab = ({\r\n    pathToTabIndex,\r\n  }: {\r\n    pathToTabIndex: string[];\r\n  }) => {\r\n    dispatch(setDirectPathToChild(pathToTabIndex));\r\n  };\r\n\r\n  const handleDeleteTopLevelTabs = () => {\r\n    dispatch(deleteTopLevelTabs());\r\n\r\n    const firstTab = getDirectPathToTabIndex(\r\n      getRootLevelTabsComponent(dashboardLayout),\r\n      0,\r\n    );\r\n    dispatch(setDirectPathToChild(firstTab));\r\n  };\r\n\r\n  const dashboardRoot = dashboardLayout[DASHBOARD_ROOT_ID];\r\n  const rootChildId = dashboardRoot.children[0];\r\n  const topLevelTabs =\r\n    rootChildId !== DASHBOARD_GRID_ID\r\n      ? dashboardLayout[rootChildId]\r\n      : undefined;\r\n\r\n  const hideDashboardHeader =\r\n    getUrlParam(URL_PARAMS.standalone) ===\r\n    DashboardStandaloneMode.HIDE_NAV_AND_TITLE;\r\n\r\n  const barTopOffset =\r\n    (hideDashboardHeader ? 0 : HEADER_HEIGHT) +\r\n    (topLevelTabs ? TABS_HEIGHT : 0);\r\n\r\n  const {\r\n    showDashboard,\r\n    dashboardFiltersOpen,\r\n    toggleDashboardFiltersOpen,\r\n    nativeFiltersEnabled,\r\n  } = useNativeFilters();\r\n\r\n  return (\r\n    <StickyContainer\r\n      className={cx('dashboard', editMode && 'dashboard--editing')}\r\n    >\r\n      <Sticky>\r\n        {({ style }) => (\r\n          // @ts-ignore\r\n          <DragDroppable\r\n            component={dashboardRoot}\r\n            parentComponent={null}\r\n            depth={DASHBOARD_ROOT_DEPTH}\r\n            index={0}\r\n            orientation=\"column\"\r\n            onDrop={dropResult => dispatch(handleComponentDrop(dropResult))}\r\n            editMode={editMode}\r\n            // you cannot drop on/displace tabs if they already exist\r\n            disableDragdrop={!!topLevelTabs}\r\n            style={{\r\n              zIndex: 100,\r\n              ...style,\r\n            }}\r\n          >\r\n            {({ dropIndicatorProps }: { dropIndicatorProps: JsonObject }) => (\r\n              <div>\r\n                {!hideDashboardHeader && <DashboardHeader />}\r\n                {dropIndicatorProps && <div {...dropIndicatorProps} />}\r\n                {topLevelTabs && (\r\n                  <WithPopoverMenu\r\n                    shouldFocus={shouldFocusTabs}\r\n                    menuItems={[\r\n                      <IconButton\r\n                        className=\"fa fa-level-down\"\r\n                        label=\"Collapse tab content\"\r\n                        onClick={handleDeleteTopLevelTabs}\r\n                      />,\r\n                    ]}\r\n                    editMode={editMode}\r\n                  >\r\n                    {/*\r\n                    // @ts-ignore */}\r\n                    <DashboardComponent\r\n                      id={topLevelTabs?.id}\r\n                      parentId={DASHBOARD_ROOT_ID}\r\n                      depth={DASHBOARD_ROOT_DEPTH + 1}\r\n                      index={0}\r\n                      renderTabContent={false}\r\n                      renderHoverMenu={false}\r\n                      onChangeTab={handleChangeTab}\r\n                    />\r\n                  </WithPopoverMenu>\r\n                )}\r\n              </div>\r\n            )}\r\n          </DragDroppable>\r\n        )}\r\n      </Sticky>\r\n      <StyledDashboardContent\r\n        className=\"dashboard-content\"\r\n        dashboardFiltersOpen={dashboardFiltersOpen}\r\n        editMode={editMode}\r\n      >\r\n        {nativeFiltersEnabled && !editMode && (\r\n          <StickyVerticalBar\r\n            filtersOpen={dashboardFiltersOpen}\r\n            topOffset={barTopOffset}\r\n          >\r\n            <ErrorBoundary>\r\n              <FilterBar\r\n                filtersOpen={dashboardFiltersOpen}\r\n                toggleFiltersBar={toggleDashboardFiltersOpen}\r\n                directPathToChild={directPathToChild}\r\n              />\r\n            </ErrorBoundary>\r\n          </StickyVerticalBar>\r\n        )}\r\n        {showDashboard ? (\r\n          <DashboardContainer topLevelTabs={topLevelTabs} />\r\n        ) : (\r\n          <Loading />\r\n        )}\r\n        {editMode && <BuilderComponentPane topOffset={barTopOffset} />}\r\n      </StyledDashboardContent>\r\n      <ToastPresenter />\r\n    </StickyContainer>\r\n  );\r\n};\r\n\r\nexport default DashboardBuilder;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n// ParentSize uses resize observer so the dashboard will update size\r\n// when its container size changes, due to e.g., builder side panel opening\r\nimport { ParentSize } from '@vx/responsive';\r\nimport Tabs from 'src/components/Tabs';\r\nimport React, { FC, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport DashboardGrid from 'src/dashboard/containers/DashboardGrid';\r\nimport getLeafComponentIdFromPath from 'src/dashboard/util/getLeafComponentIdFromPath';\r\nimport { DashboardLayout, LayoutItem, RootState } from 'src/dashboard/types';\r\nimport {\r\n  DASHBOARD_GRID_ID,\r\n  DASHBOARD_ROOT_DEPTH,\r\n} from 'src/dashboard/util/constants';\r\nimport { getRootLevelTabIndex } from './utils';\r\nimport { Filters } from '../../reducers/types';\r\nimport { getChartIdsInFilterScope } from '../../util/activeDashboardFilters';\r\nimport { findTabsWithChartsInScope } from '../nativeFilters/utils';\r\nimport { setFilterConfiguration } from '../../actions/nativeFilters';\r\n\r\ntype DashboardContainerProps = {\r\n  topLevelTabs?: LayoutItem;\r\n};\r\n\r\nconst DashboardContainer: FC<DashboardContainerProps> = ({ topLevelTabs }) => {\r\n  const dashboardLayout = useSelector<RootState, DashboardLayout>(\r\n    state => state.dashboardLayout.present,\r\n  );\r\n  const nativeFilters = useSelector<RootState, Filters>(\r\n    state => state.nativeFilters.filters,\r\n  );\r\n  const directPathToChild = useSelector<RootState, string[]>(\r\n    state => state.dashboardState.directPathToChild,\r\n  );\r\n  const [tabIndex, setTabIndex] = useState(\r\n    getRootLevelTabIndex(dashboardLayout, directPathToChild),\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setTabIndex(getRootLevelTabIndex(dashboardLayout, directPathToChild));\r\n  }, [getLeafComponentIdFromPath(directPathToChild)]);\r\n\r\n  // recalculate charts and tabs in scopes of native filters only when a scope or dashboard layout changes\r\n  const nativeFiltersValues = Object.values(nativeFilters);\r\n  const scopes = nativeFiltersValues.map(filter => filter.scope);\r\n  useEffect(() => {\r\n    nativeFiltersValues.forEach(filter => {\r\n      const filterScope = filter.scope;\r\n      const chartsInScope = getChartIdsInFilterScope({\r\n        filterScope: {\r\n          scope: filterScope.rootPath,\r\n          // @ts-ignore\r\n          immune: filterScope.excluded,\r\n        },\r\n      });\r\n      const tabsInScope = findTabsWithChartsInScope(\r\n        dashboardLayout,\r\n        chartsInScope,\r\n      );\r\n      Object.assign(filter, {\r\n        chartsInScope,\r\n        tabsInScope: Array.from(tabsInScope),\r\n      });\r\n    });\r\n    dispatch(setFilterConfiguration(nativeFiltersValues));\r\n  }, [JSON.stringify(scopes), JSON.stringify(dashboardLayout)]);\r\n\r\n  const childIds: string[] = topLevelTabs\r\n    ? topLevelTabs.children\r\n    : [DASHBOARD_GRID_ID];\r\n\r\n  const min = Math.min(tabIndex, childIds.length - 1);\r\n  const activeKey = min === 0 ? DASHBOARD_GRID_ID : min.toString();\r\n\r\n  return (\r\n    <div className=\"grid-container\" data-test=\"grid-container\">\r\n      <ParentSize>\r\n        {({ width }) => (\r\n          /*\r\n            We use a TabContainer irrespective of whether top-level tabs exist to maintain\r\n            a consistent React component tree. This avoids expensive mounts/unmounts of\r\n            the entire dashboard upon adding/removing top-level tabs, which would otherwise\r\n            happen because of React's diffing algorithm\r\n          */\r\n          <Tabs\r\n            id={DASHBOARD_GRID_ID}\r\n            activeKey={activeKey}\r\n            renderTabBar={() => <></>}\r\n            fullWidth={false}\r\n            animated={false}\r\n            allowOverflow\r\n          >\r\n            {childIds.map((id, index) => (\r\n              // Matching the key of the first TabPane irrespective of topLevelTabs\r\n              // lets us keep the same React component tree when !!topLevelTabs changes.\r\n              // This avoids expensive mounts/unmounts of the entire dashboard.\r\n              <Tabs.TabPane\r\n                key={index === 0 ? DASHBOARD_GRID_ID : index.toString()}\r\n              >\r\n                <DashboardGrid\r\n                  gridComponent={dashboardLayout[id]}\r\n                  // see isValidChild for why tabs do not increment the depth of their children\r\n                  depth={DASHBOARD_ROOT_DEPTH + 1} // (topLevelTabs ? 0 : 1)}\r\n                  width={width}\r\n                  isComponentVisible={index === tabIndex}\r\n                />\r\n              </Tabs.TabPane>\r\n            ))}\r\n          </Tabs>\r\n        )}\r\n      </ParentSize>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardContainer;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useSelector } from 'react-redux';\r\nimport { FeatureFlag, isFeatureEnabled } from 'src/featureFlags';\r\nimport { useEffect, useState } from 'react';\r\nimport { URL_PARAMS } from 'src/constants';\r\nimport { getUrlParam } from 'src/utils/urlUtils';\r\nimport { RootState } from 'src/dashboard/types';\r\nimport {\r\n  useFilters,\r\n  useNativeFiltersDataMask,\r\n} from '../nativeFilters/FilterBar/state';\r\nimport { Filter } from '../nativeFilters/types';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const useNativeFilters = () => {\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n  const [dashboardFiltersOpen, setDashboardFiltersOpen] = useState(\r\n    getUrlParam(URL_PARAMS.showFilters) ?? true,\r\n  );\r\n  const showNativeFilters = useSelector<RootState, boolean>(\r\n    state => state.dashboardInfo.metadata?.show_native_filters,\r\n  );\r\n  const canEdit = useSelector<RootState, boolean>(\r\n    ({ dashboardInfo }) => dashboardInfo.dash_edit_perm,\r\n  );\r\n\r\n  const filters = useFilters();\r\n  const filterValues = Object.values<Filter>(filters);\r\n\r\n  const nativeFiltersEnabled =\r\n    showNativeFilters &&\r\n    isFeatureEnabled(FeatureFlag.DASHBOARD_NATIVE_FILTERS) &&\r\n    (canEdit || (!canEdit && filterValues.length !== 0));\r\n\r\n  const requiredFirstFilter = filterValues.filter(\r\n    ({ requiredFirst }) => requiredFirst,\r\n  );\r\n  const dataMask = useNativeFiltersDataMask();\r\n  const showDashboard =\r\n    isInitialized ||\r\n    !nativeFiltersEnabled ||\r\n    !(\r\n      nativeFiltersEnabled &&\r\n      requiredFirstFilter.length &&\r\n      requiredFirstFilter.find(\r\n        ({ id }) => dataMask[id]?.filterState?.value === undefined,\r\n      )\r\n    );\r\n\r\n  const toggleDashboardFiltersOpen = (visible?: boolean) => {\r\n    setDashboardFiltersOpen(visible ?? !dashboardFiltersOpen);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (\r\n      filterValues.length === 0 &&\r\n      dashboardFiltersOpen &&\r\n      nativeFiltersEnabled\r\n    ) {\r\n      toggleDashboardFiltersOpen(false);\r\n    }\r\n  }, [filterValues.length]);\r\n\r\n  useEffect(() => {\r\n    if (showDashboard) {\r\n      setIsInitialized(true);\r\n    }\r\n  }, [showDashboard]);\r\n\r\n  return {\r\n    showDashboard,\r\n    dashboardFiltersOpen,\r\n    toggleDashboardFiltersOpen,\r\n    nativeFiltersEnabled,\r\n  };\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport {\r\n  DASHBOARD_GRID_ID,\r\n  DASHBOARD_ROOT_ID,\r\n} from 'src/dashboard/util/constants';\r\nimport { DashboardLayout } from 'src/dashboard/types';\r\nimport findTabIndexByComponentId from 'src/dashboard/util/findTabIndexByComponentId';\r\n\r\nexport const getRootLevelTabsComponent = (dashboardLayout: DashboardLayout) => {\r\n  const dashboardRoot = dashboardLayout[DASHBOARD_ROOT_ID];\r\n  const rootChildId = dashboardRoot.children[0];\r\n  return rootChildId === DASHBOARD_GRID_ID\r\n    ? dashboardLayout[DASHBOARD_ROOT_ID]\r\n    : dashboardLayout[rootChildId];\r\n};\r\n\r\nexport const shouldFocusTabs = (\r\n  event: { target: { className: string } },\r\n  container: { contains: (arg0: any) => any },\r\n) =>\r\n  // don't focus the tabs when we click on a tab\r\n  event.target.className === 'ant-tabs-nav-wrap' ||\r\n  (/icon-button/.test(event.target.className) &&\r\n    container.contains(event.target));\r\n\r\nexport const getRootLevelTabIndex = (\r\n  dashboardLayout: DashboardLayout,\r\n  directPathToChild: string[],\r\n): number =>\r\n  Math.max(\r\n    0,\r\n    findTabIndexByComponentId({\r\n      currentComponent: getRootLevelTabsComponent(dashboardLayout),\r\n      directPathToChild,\r\n    }),\r\n  );\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { componentShape } from '../util/propShapes';\r\nimport DashboardComponent from '../containers/DashboardComponent';\r\nimport DragDroppable from './dnd/DragDroppable';\r\n\r\nimport { GRID_GUTTER_SIZE, GRID_COLUMN_COUNT } from '../util/constants';\r\n\r\nconst propTypes = {\r\n  depth: PropTypes.number.isRequired,\r\n  editMode: PropTypes.bool.isRequired,\r\n  gridComponent: componentShape.isRequired,\r\n  handleComponentDrop: PropTypes.func.isRequired,\r\n  isComponentVisible: PropTypes.bool.isRequired,\r\n  resizeComponent: PropTypes.func.isRequired,\r\n  setDirectPathToChild: PropTypes.func.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\nclass DashboardGrid extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isResizing: false,\r\n      rowGuideTop: null,\r\n    };\r\n\r\n    this.handleResizeStart = this.handleResizeStart.bind(this);\r\n    this.handleResize = this.handleResize.bind(this);\r\n    this.handleResizeStop = this.handleResizeStop.bind(this);\r\n    this.handleTopDropTargetDrop = this.handleTopDropTargetDrop.bind(this);\r\n    this.getRowGuidePosition = this.getRowGuidePosition.bind(this);\r\n    this.setGridRef = this.setGridRef.bind(this);\r\n    this.handleChangeTab = this.handleChangeTab.bind(this);\r\n  }\r\n\r\n  getRowGuidePosition(resizeRef) {\r\n    if (resizeRef && this.grid) {\r\n      return (\r\n        resizeRef.getBoundingClientRect().bottom -\r\n        this.grid.getBoundingClientRect().top -\r\n        2\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  setGridRef(ref) {\r\n    this.grid = ref;\r\n  }\r\n\r\n  handleResizeStart({ ref, direction }) {\r\n    let rowGuideTop = null;\r\n    if (direction === 'bottom' || direction === 'bottomRight') {\r\n      rowGuideTop = this.getRowGuidePosition(ref);\r\n    }\r\n\r\n    this.setState(() => ({\r\n      isResizing: true,\r\n      rowGuideTop,\r\n    }));\r\n  }\r\n\r\n  handleResize({ ref, direction }) {\r\n    if (direction === 'bottom' || direction === 'bottomRight') {\r\n      this.setState(() => ({ rowGuideTop: this.getRowGuidePosition(ref) }));\r\n    }\r\n  }\r\n\r\n  handleResizeStop({ id, widthMultiple: width, heightMultiple: height }) {\r\n    this.props.resizeComponent({ id, width, height });\r\n\r\n    this.setState(() => ({\r\n      isResizing: false,\r\n      rowGuideTop: null,\r\n    }));\r\n  }\r\n\r\n  handleTopDropTargetDrop(dropResult) {\r\n    if (dropResult) {\r\n      this.props.handleComponentDrop({\r\n        ...dropResult,\r\n        destination: {\r\n          ...dropResult.destination,\r\n          // force appending as the first child if top drop target\r\n          index: 0,\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChangeTab({ pathToTabIndex }) {\r\n    this.props.setDirectPathToChild(pathToTabIndex);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      gridComponent,\r\n      handleComponentDrop,\r\n      depth,\r\n      editMode,\r\n      width,\r\n      isComponentVisible,\r\n    } = this.props;\r\n    const columnPlusGutterWidth =\r\n      (width + GRID_GUTTER_SIZE) / GRID_COLUMN_COUNT;\r\n\r\n    const columnWidth = columnPlusGutterWidth - GRID_GUTTER_SIZE;\r\n    const { isResizing, rowGuideTop } = this.state;\r\n\r\n    return width < 100 ? null : (\r\n      <div className=\"dashboard-grid\" ref={this.setGridRef}>\r\n        <div className=\"grid-content\" data-test=\"grid-content\">\r\n          {/* make the area above components droppable */}\r\n          {editMode && (\r\n            <DragDroppable\r\n              component={gridComponent}\r\n              depth={depth}\r\n              parentComponent={null}\r\n              index={0}\r\n              orientation=\"column\"\r\n              onDrop={this.handleTopDropTargetDrop}\r\n              className=\"empty-droptarget\"\r\n              editMode\r\n            >\r\n              {({ dropIndicatorProps }) =>\r\n                dropIndicatorProps && (\r\n                  <div className=\"drop-indicator drop-indicator--bottom\" />\r\n                )\r\n              }\r\n            </DragDroppable>\r\n          )}\r\n\r\n          {gridComponent.children.map((id, index) => (\r\n            <DashboardComponent\r\n              key={id}\r\n              id={id}\r\n              parentId={gridComponent.id}\r\n              depth={depth + 1}\r\n              index={index}\r\n              availableColumnCount={GRID_COLUMN_COUNT}\r\n              columnWidth={columnWidth}\r\n              isComponentVisible={isComponentVisible}\r\n              onResizeStart={this.handleResizeStart}\r\n              onResize={this.handleResize}\r\n              onResizeStop={this.handleResizeStop}\r\n              onChangeTab={this.handleChangeTab}\r\n            />\r\n          ))}\r\n\r\n          {/* make the area below components droppable */}\r\n          {editMode && gridComponent.children.length > 0 && (\r\n            <DragDroppable\r\n              component={gridComponent}\r\n              depth={depth}\r\n              parentComponent={null}\r\n              index={gridComponent.children.length}\r\n              orientation=\"column\"\r\n              onDrop={handleComponentDrop}\r\n              className=\"empty-droptarget\"\r\n              editMode\r\n            >\r\n              {({ dropIndicatorProps }) =>\r\n                dropIndicatorProps && (\r\n                  <div className=\"drop-indicator drop-indicator--top\" />\r\n                )\r\n              }\r\n            </DragDroppable>\r\n          )}\r\n\r\n          {isResizing &&\r\n            Array(GRID_COLUMN_COUNT)\r\n              .fill(null)\r\n              .map((_, i) => (\r\n                <div\r\n                  key={`grid-column-${i}`}\r\n                  className=\"grid-column-guide\"\r\n                  style={{\r\n                    left: i * GRID_GUTTER_SIZE + i * columnWidth,\r\n                    width: columnWidth,\r\n                  }}\r\n                />\r\n              ))}\r\n\r\n          {isResizing && rowGuideTop && (\r\n            <div\r\n              className=\"grid-row-guide\"\r\n              style={{\r\n                top: rowGuideTop,\r\n                width,\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDashboardGrid.propTypes = propTypes;\r\nDashboardGrid.defaultProps = defaultProps;\r\n\r\nexport default DashboardGrid;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport IconButton from './IconButton';\r\n\r\nconst propTypes = {\r\n  onDelete: PropTypes.func.isRequired,\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\nexport default class DeleteComponentButton extends React.PureComponent {\r\n  render() {\r\n    const { onDelete } = this.props;\r\n    return <IconButton onClick={onDelete} className=\"fa fa-trash\" />;\r\n  }\r\n}\r\n\r\nDeleteComponentButton.propTypes = propTypes;\r\nDeleteComponentButton.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport { Global, css } from '@emotion/react';\r\nimport { t, useTheme } from '@superset-ui/core';\r\nimport {\r\n  MinusCircleFilled,\r\n  CheckCircleFilled,\r\n  ExclamationCircleFilled,\r\n} from '@ant-design/icons';\r\nimport Popover from 'src/components/Popover';\r\nimport Collapse from 'src/components/Collapse';\r\nimport Icon from 'src/components/Icon';\r\nimport {\r\n  Indent,\r\n  Panel,\r\n  Reset,\r\n  Title,\r\n} from 'src/dashboard/components/FiltersBadge/Styles';\r\nimport { Indicator } from 'src/dashboard/components/FiltersBadge/selectors';\r\nimport FilterIndicator from 'src/dashboard/components/FiltersBadge/FilterIndicator';\r\n\r\nexport interface DetailsPanelProps {\r\n  appliedCrossFilterIndicators: Indicator[];\r\n  appliedIndicators: Indicator[];\r\n  incompatibleIndicators: Indicator[];\r\n  unsetIndicators: Indicator[];\r\n  onHighlightFilterSource: (path: string[]) => void;\r\n  children: JSX.Element;\r\n}\r\n\r\nconst DetailsPanelPopover = ({\r\n  appliedCrossFilterIndicators = [],\r\n  appliedIndicators = [],\r\n  incompatibleIndicators = [],\r\n  unsetIndicators = [],\r\n  onHighlightFilterSource,\r\n  children,\r\n}: DetailsPanelProps) => {\r\n  const theme = useTheme();\r\n\r\n  const getDefaultActivePanel = () => {\r\n    const result = [];\r\n    if (appliedCrossFilterIndicators.length) {\r\n      result.push('appliedCrossFilters');\r\n    }\r\n    if (appliedIndicators.length) {\r\n      result.push('applied');\r\n    }\r\n    if (incompatibleIndicators.length) {\r\n      result.push('incompatible');\r\n    }\r\n    if (result.length) {\r\n      return result;\r\n    }\r\n    return ['unset'];\r\n  };\r\n\r\n  const [activePanels, setActivePanels] = useState<string[]>(() => [\r\n    ...getDefaultActivePanel(),\r\n  ]);\r\n\r\n  function handlePopoverStatus(isOpen: boolean) {\r\n    // every time the popover opens, make sure the most relevant panel is active\r\n    if (isOpen) {\r\n      setActivePanels(getDefaultActivePanel());\r\n    }\r\n  }\r\n\r\n  function handleActivePanelChange(panels: string | string[]) {\r\n    // need to convert to an array so that handlePopoverStatus will work\r\n    if (typeof panels === 'string') {\r\n      setActivePanels([panels]);\r\n    } else {\r\n      setActivePanels(panels);\r\n    }\r\n  }\r\n\r\n  const indicatorKey = (indicator: Indicator): string =>\r\n    `${indicator.column} - ${indicator.name}`;\r\n\r\n  const content = (\r\n    <Panel>\r\n      <Global\r\n        styles={css`\r\n          .filterStatusPopover {\r\n            .ant-popover-inner {\r\n              background-color: ${theme.colors.grayscale.dark2}cc;\r\n              .ant-popover-inner-content {\r\n                padding-top: 0;\r\n                padding-bottom: 0;\r\n              }\r\n            }\r\n            &.ant-popover-placement-bottom,\r\n            &.ant-popover-placement-bottomLeft,\r\n            &.ant-popover-placement-bottomRight {\r\n              & > .ant-popover-content > .ant-popover-arrow {\r\n                border-top-color: ${theme.colors.grayscale.dark2}cc;\r\n                border-left-color: ${theme.colors.grayscale.dark2}cc;\r\n              }\r\n            }\r\n            &.ant-popover-placement-top,\r\n            &.ant-popover-placement-topLeft,\r\n            &.ant-popover-placement-topRight {\r\n              & > .ant-popover-content > .ant-popover-arrow {\r\n                border-bottom-color: ${theme.colors.grayscale.dark2}cc;\r\n                border-right-color: ${theme.colors.grayscale.dark2}cc;\r\n              }\r\n            }\r\n            &.ant-popover-placement-left,\r\n            &.ant-popover-placement-leftTop,\r\n            &.ant-popover-placement-leftBottom {\r\n              & > .ant-popover-content > .ant-popover-arrow {\r\n                border-top-color: ${theme.colors.grayscale.dark2}cc;\r\n                border-right-color: ${theme.colors.grayscale.dark2}cc;\r\n              }\r\n            }\r\n            &.ant-popover-placement-right,\r\n            &.ant-popover-placement-rightTop,\r\n            &.ant-popover-placement-rightBottom {\r\n              & > .ant-popover-content > .ant-popover-arrow {\r\n                border-bottom-color: ${theme.colors.grayscale.dark2}cc;\r\n                border-left-color: ${theme.colors.grayscale.dark2}cc;\r\n              }\r\n            }\r\n            &.ant-popover {\r\n              color: ${theme.colors.grayscale.light4};\r\n            }\r\n          }\r\n        `}\r\n      />\r\n      <Reset>\r\n        <Collapse\r\n          ghost\r\n          light\r\n          activeKey={activePanels}\r\n          onChange={handleActivePanelChange}\r\n        >\r\n          {appliedCrossFilterIndicators.length ? (\r\n            <Collapse.Panel\r\n              key=\"appliedCrossFilters\"\r\n              header={\r\n                <Title bold color={theme.colors.primary.light1}>\r\n                  <Icon\r\n                    name=\"cross-filter-badge\"\r\n                    css={{ fill: theme.colors.primary.light1 }}\r\n                  />\r\n                  {t(\r\n                    'Applied Cross Filters (%d)',\r\n                    appliedCrossFilterIndicators.length,\r\n                  )}\r\n                </Title>\r\n              }\r\n            >\r\n              <Indent css={{ paddingBottom: theme.gridUnit * 3 }}>\r\n                {appliedCrossFilterIndicators.map(indicator => (\r\n                  <FilterIndicator\r\n                    key={indicatorKey(indicator)}\r\n                    indicator={indicator}\r\n                    onClick={onHighlightFilterSource}\r\n                  />\r\n                ))}\r\n              </Indent>\r\n            </Collapse.Panel>\r\n          ) : null}\r\n          {appliedIndicators.length ? (\r\n            <Collapse.Panel\r\n              key=\"applied\"\r\n              header={\r\n                <Title bold color={theme.colors.success.base}>\r\n                  <CheckCircleFilled />{' '}\r\n                  {t('Applied Filters (%d)', appliedIndicators.length)}\r\n                </Title>\r\n              }\r\n            >\r\n              <Indent css={{ paddingBottom: theme.gridUnit * 3 }}>\r\n                {appliedIndicators.map(indicator => (\r\n                  <FilterIndicator\r\n                    key={indicatorKey(indicator)}\r\n                    indicator={indicator}\r\n                    onClick={onHighlightFilterSource}\r\n                  />\r\n                ))}\r\n              </Indent>\r\n            </Collapse.Panel>\r\n          ) : null}\r\n          {incompatibleIndicators.length ? (\r\n            <Collapse.Panel\r\n              key=\"incompatible\"\r\n              header={\r\n                <Title bold color={theme.colors.alert.base}>\r\n                  <ExclamationCircleFilled />{' '}\r\n                  {t(\r\n                    'Incompatible Filters (%d)',\r\n                    incompatibleIndicators.length,\r\n                  )}\r\n                </Title>\r\n              }\r\n            >\r\n              <Indent css={{ paddingBottom: theme.gridUnit * 3 }}>\r\n                {incompatibleIndicators.map(indicator => (\r\n                  <FilterIndicator\r\n                    key={indicatorKey(indicator)}\r\n                    indicator={indicator}\r\n                    onClick={onHighlightFilterSource}\r\n                  />\r\n                ))}\r\n              </Indent>\r\n            </Collapse.Panel>\r\n          ) : null}\r\n          {unsetIndicators.length ? (\r\n            <Collapse.Panel\r\n              key=\"unset\"\r\n              header={\r\n                <Title bold color={theme.colors.grayscale.light1}>\r\n                  <MinusCircleFilled />{' '}\r\n                  {t('Unset Filters (%d)', unsetIndicators.length)}\r\n                </Title>\r\n              }\r\n              disabled={!unsetIndicators.length}\r\n            >\r\n              <Indent css={{ paddingBottom: theme.gridUnit * 3 }}>\r\n                {unsetIndicators.map(indicator => (\r\n                  <FilterIndicator\r\n                    key={indicatorKey(indicator)}\r\n                    indicator={indicator}\r\n                    onClick={onHighlightFilterSource}\r\n                  />\r\n                ))}\r\n              </Indent>\r\n            </Collapse.Panel>\r\n          ) : null}\r\n        </Collapse>\r\n      </Reset>\r\n    </Panel>\r\n  );\r\n\r\n  return (\r\n    <Popover\r\n      overlayClassName=\"filterStatusPopover\"\r\n      content={content}\r\n      onVisibleChange={handlePopoverStatus}\r\n      placement=\"bottom\"\r\n      trigger=\"click\"\r\n    >\r\n      {children}\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default DetailsPanelPopover;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport React, { FC } from 'react';\r\nimport { getFilterValueForDisplay } from 'src/dashboard/components/nativeFilters/FilterBar/FilterSets/utils';\r\nimport {\r\n  FilterValue,\r\n  Item,\r\n  ItemIcon,\r\n  Title,\r\n} from 'src/dashboard/components/FiltersBadge/Styles';\r\nimport { Indicator } from 'src/dashboard/components/FiltersBadge/selectors';\r\n\r\nexport interface IndicatorProps {\r\n  indicator: Indicator;\r\n  onClick?: (path: string[]) => void;\r\n}\r\n\r\nconst FilterIndicator: FC<IndicatorProps> = ({\r\n  indicator: { column, name, value, path = [] },\r\n  onClick = () => {},\r\n}) => {\r\n  const resultValue = getFilterValueForDisplay(value);\r\n  return (\r\n    <Item onClick={() => onClick([...path, `LABEL-${column}`])}>\r\n      <Title bold>\r\n        <ItemIcon>\r\n          <SearchOutlined />\r\n        </ItemIcon>\r\n        {name}\r\n        {resultValue ? ': ' : ''}\r\n      </Title>\r\n      <FilterValue>{resultValue}</FilterValue>\r\n    </Item>\r\n  );\r\n};\r\n\r\nexport default FilterIndicator;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { styled } from '@superset-ui/core';\r\n\r\nexport const Pill = styled.div`\r\n  display: inline-block;\r\n  color: ${({ theme }) => theme.colors.grayscale.light5};\r\n  background: ${({ theme }) => theme.colors.grayscale.base};\r\n  border-radius: 1em;\r\n  vertical-align: text-top;\r\n  padding: ${({ theme }) => `${theme.gridUnit}px ${theme.gridUnit * 2}px`};\r\n  font-size: ${({ theme }) => theme.typography.sizes.m}px;\r\n  font-weight: bold;\r\n  min-width: 1em;\r\n  min-height: 1em;\r\n  line-height: 1em;\r\n  vertical-align: middle;\r\n  white-space: nowrap;\r\n\r\n  svg {\r\n    position: relative;\r\n    top: -1px;\r\n    color: ${({ theme }) => theme.colors.grayscale.light5};\r\n    width: 1em;\r\n    height: 1em;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background: ${({ theme }) => theme.colors.grayscale.dark1};\r\n  }\r\n\r\n  &.has-cross-filters {\r\n    background: ${({ theme }) => theme.colors.primary.base};\r\n    &:hover {\r\n      background: ${({ theme }) => theme.colors.primary.dark1};\r\n    }\r\n  }\r\n\r\n  &.has-incompatible-filters {\r\n    color: ${({ theme }) => theme.colors.grayscale.dark2};\r\n    background: ${({ theme }) => theme.colors.alert.base};\r\n    &:hover {\r\n      background: ${({ theme }) => theme.colors.alert.dark1};\r\n    }\r\n    svg {\r\n      color: ${({ theme }) => theme.colors.grayscale.dark2};\r\n    }\r\n  }\r\n\r\n  &.filters-inactive {\r\n    color: ${({ theme }) => theme.colors.grayscale.light5};\r\n    background: ${({ theme }) => theme.colors.grayscale.light1};\r\n    padding: ${({ theme }) => theme.gridUnit}px;\r\n    text-align: center;\r\n    height: 22px;\r\n    width: 22px;\r\n\r\n    &:hover {\r\n      background: ${({ theme }) => theme.colors.grayscale.base};\r\n    }\r\n  }\r\n`;\r\n\r\nexport interface TitleProps {\r\n  bold?: boolean;\r\n  color?: string;\r\n}\r\n\r\nexport const Title = styled.span<TitleProps>`\r\n  position: relative;\r\n  margin-right: ${({ theme }) => theme.gridUnit}px;\r\n  font-weight: ${({ bold, theme }) => {\r\n    if (bold) return theme.typography.weights.bold;\r\n    return 'auto';\r\n  }};\r\n  color: ${({ color, theme }) => color || theme.colors.grayscale.light5};\r\n  display: flex;\r\n  align-items: center;\r\n  & > * {\r\n    margin-right: ${({ theme }) => theme.gridUnit}px;\r\n  }\r\n`;\r\n\r\nexport const ItemIcon = styled.i`\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  left: -${({ theme }) => theme.gridUnit * 5}px;\r\n`;\r\n\r\nexport const Item = styled.button`\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  text-align: left;\r\n  padding: 0;\r\n  border: none;\r\n  background: none;\r\n  outline: none;\r\n  width: 100%;\r\n\r\n  &::-moz-focus-inner {\r\n    border: 0;\r\n  }\r\n\r\n  & i svg {\r\n    color: transparent;\r\n    margin-right: ${({ theme }) => theme.gridUnit}px;\r\n  }\r\n\r\n  &:hover i svg {\r\n    color: inherit;\r\n  }\r\n`;\r\n\r\nexport const Reset = styled.div`\r\n  margin: 0 -${({ theme }) => theme.gridUnit * 4}px;\r\n`;\r\n\r\nexport const Indent = styled.div`\r\n  padding-left: ${({ theme }) => theme.gridUnit * 6}px;\r\n  margin: -${({ theme }) => theme.gridUnit * 3}px 0;\r\n`;\r\n\r\nexport const Panel = styled.div`\r\n  min-width: 200px;\r\n  max-width: 300px;\r\n  overflow-x: hidden;\r\n`;\r\n\r\nexport const FilterValue = styled.div`\r\n  max-width: 100%;\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n  color: ${({ theme }) => theme.colors.grayscale.light5};\r\n`;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport cx from 'classnames';\r\nimport Icon from 'src/components/Icon';\r\nimport Icons from 'src/components/Icons';\r\nimport DetailsPanelPopover from './DetailsPanel';\r\nimport { Pill } from './Styles';\r\nimport { Indicator } from './selectors';\r\n\r\nexport interface FiltersBadgeProps {\r\n  appliedCrossFilterIndicators: Indicator[];\r\n  appliedIndicators: Indicator[];\r\n  unsetIndicators: Indicator[];\r\n  incompatibleIndicators: Indicator[];\r\n  onHighlightFilterSource: (path: string[]) => void;\r\n}\r\n\r\nconst FiltersBadge = ({\r\n  appliedCrossFilterIndicators,\r\n  appliedIndicators,\r\n  unsetIndicators,\r\n  incompatibleIndicators,\r\n  onHighlightFilterSource,\r\n}: FiltersBadgeProps) => {\r\n  if (\r\n    !appliedCrossFilterIndicators.length &&\r\n    !appliedIndicators.length &&\r\n    !incompatibleIndicators.length &&\r\n    !unsetIndicators.length\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  const isInactive =\r\n    !appliedCrossFilterIndicators.length &&\r\n    !appliedIndicators.length &&\r\n    !incompatibleIndicators.length;\r\n\r\n  return (\r\n    <DetailsPanelPopover\r\n      appliedCrossFilterIndicators={appliedCrossFilterIndicators}\r\n      appliedIndicators={appliedIndicators}\r\n      unsetIndicators={unsetIndicators}\r\n      incompatibleIndicators={incompatibleIndicators}\r\n      onHighlightFilterSource={onHighlightFilterSource}\r\n    >\r\n      <Pill\r\n        className={cx(\r\n          'filter-counts',\r\n          !!incompatibleIndicators.length && 'has-incompatible-filters',\r\n          !!appliedCrossFilterIndicators.length && 'has-cross-filters',\r\n          isInactive && 'filters-inactive',\r\n        )}\r\n      >\r\n        <Icon name=\"filter\" />\r\n        {!isInactive && (\r\n          <span data-test=\"applied-filter-count\">\r\n            {appliedIndicators.length + appliedCrossFilterIndicators.length}\r\n          </span>\r\n        )}\r\n        {incompatibleIndicators.length ? (\r\n          <>\r\n            {' '}\r\n            <Icons.AlertSolid />\r\n            <span data-test=\"incompatible-filter-count\">\r\n              {incompatibleIndicators.length}\r\n            </span>\r\n          </>\r\n        ) : null}\r\n      </Pill>\r\n    </DetailsPanelPopover>\r\n  );\r\n};\r\n\r\nexport default FiltersBadge;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { TIME_FILTER_MAP } from 'src/explore/constants';\r\nimport { getChartIdsInFilterScope } from 'src/dashboard/util/activeDashboardFilters';\r\nimport {\r\n  ChartConfiguration,\r\n  NativeFiltersState,\r\n} from 'src/dashboard/reducers/types';\r\nimport { DataMaskStateWithId, DataMaskType } from 'src/dataMask/types';\r\nimport { FeatureFlag, isFeatureEnabled } from '@superset-ui/core';\r\nimport { Layout } from '../../types';\r\nimport { getTreeCheckedItems } from '../nativeFilters/FiltersConfigModal/FiltersConfigForm/FilterScope/utils';\r\n\r\nexport enum IndicatorStatus {\r\n  Unset = 'UNSET',\r\n  Applied = 'APPLIED',\r\n  Incompatible = 'INCOMPATIBLE',\r\n  CrossFilterApplied = 'CROSS_FILTER_APPLIED',\r\n}\r\n\r\nconst TIME_GRANULARITY_FIELDS = new Set(Object.values(TIME_FILTER_MAP));\r\n\r\n// As of 2020-09-28, the DatasourceMeta type in superset-ui is incorrect.\r\n// Should patch it here until the DatasourceMeta type is updated.\r\ntype Datasource = {\r\n  time_grain_sqla?: [string, string][];\r\n  granularity?: [string, string][];\r\n};\r\n\r\ntype Filter = {\r\n  chartId: number;\r\n  columns: { [key: string]: string | string[] };\r\n  scopes: { [key: string]: any };\r\n  labels: { [key: string]: string };\r\n  isDateFilter: boolean;\r\n  directPathToFilter: string[];\r\n  datasourceId: string;\r\n};\r\n\r\nconst selectIndicatorValue = (\r\n  columnKey: string,\r\n  filter: Filter,\r\n  datasource: Datasource,\r\n): any => {\r\n  const values = filter.columns[columnKey];\r\n  const arrValues = Array.isArray(values) ? values : [values];\r\n\r\n  if (\r\n    values == null ||\r\n    (filter.isDateFilter && values === 'No filter') ||\r\n    arrValues.length === 0\r\n  ) {\r\n    return [];\r\n  }\r\n\r\n  if (filter.isDateFilter && TIME_GRANULARITY_FIELDS.has(columnKey)) {\r\n    const timeGranularityMap = (\r\n      (columnKey === TIME_FILTER_MAP.time_grain_sqla\r\n        ? datasource.time_grain_sqla\r\n        : datasource.granularity) || []\r\n    ).reduce(\r\n      (map, [key, value]) => ({\r\n        ...map,\r\n        [key]: value,\r\n      }),\r\n      {},\r\n    );\r\n\r\n    return arrValues.map(value => timeGranularityMap[value] || value);\r\n  }\r\n\r\n  return arrValues;\r\n};\r\n\r\nconst selectIndicatorsForChartFromFilter = (\r\n  chartId: number,\r\n  filter: Filter,\r\n  filterDataSource: Datasource,\r\n  appliedColumns: Set<string>,\r\n  rejectedColumns: Set<string>,\r\n): Indicator[] => {\r\n  // filters can be applied (if the filter is compatible with the datasource)\r\n  // or rejected (if the filter is incompatible)\r\n  // or the status can be unknown (if the filter has calculated parameters that we can't analyze)\r\n  const getStatus = (column: string, filter: Filter) => {\r\n    if (appliedColumns.has(column) && filter.columns[column])\r\n      return IndicatorStatus.Applied;\r\n    if (rejectedColumns.has(column)) return IndicatorStatus.Incompatible;\r\n    return IndicatorStatus.Unset;\r\n  };\r\n\r\n  return Object.keys(filter.columns)\r\n    .filter(column =>\r\n      getChartIdsInFilterScope({\r\n        filterScope: filter.scopes[column],\r\n      }).includes(chartId),\r\n    )\r\n    .map(column => ({\r\n      column,\r\n      name: filter.labels[column] || column,\r\n      value: selectIndicatorValue(column, filter, filterDataSource),\r\n      status: getStatus(column, filter),\r\n      path: filter.directPathToFilter,\r\n    }));\r\n};\r\n\r\nconst getAppliedColumns = (chart: any): Set<string> =>\r\n  new Set(\r\n    (chart?.queriesResponse?.[0]?.applied_filters || []).map(\r\n      (filter: any) => filter.column,\r\n    ),\r\n  );\r\n\r\nconst getRejectedColumns = (chart: any): Set<string> =>\r\n  new Set(\r\n    (chart?.queriesResponse?.[0]?.rejected_filters || []).map(\r\n      (filter: any) => filter.column,\r\n    ),\r\n  );\r\n\r\nexport type Indicator = {\r\n  column?: string;\r\n  name: string;\r\n  value?: any;\r\n  status?: IndicatorStatus;\r\n  path?: string[];\r\n};\r\n\r\n// inspects redux state to find what the filter indicators should be shown for a given chart\r\nexport const selectIndicatorsForChart = (\r\n  chartId: number,\r\n  filters: { [key: number]: Filter },\r\n  datasources: { [key: string]: Datasource },\r\n  charts: any,\r\n): Indicator[] => {\r\n  const chart = charts[chartId];\r\n  // no indicators if chart is loading\r\n  if (chart.chartStatus === 'loading') return [];\r\n\r\n  // for now we only need to know which columns are compatible/incompatible,\r\n  // so grab the columns from the applied/rejected filters\r\n  const appliedColumns = getAppliedColumns(chart);\r\n  const rejectedColumns = getRejectedColumns(chart);\r\n\r\n  const indicators = Object.values(filters)\r\n    .filter(filter => filter.chartId !== chartId)\r\n    .reduce(\r\n      (acc, filter) =>\r\n        acc.concat(\r\n          selectIndicatorsForChartFromFilter(\r\n            chartId,\r\n            filter,\r\n            datasources[filter.datasourceId] || {},\r\n            appliedColumns,\r\n            rejectedColumns,\r\n          ),\r\n        ),\r\n      [] as Indicator[],\r\n    );\r\n  indicators.sort((a, b) => a.name.localeCompare(b.name));\r\n  return indicators;\r\n};\r\n\r\nexport const selectNativeIndicatorsForChart = (\r\n  nativeFilters: NativeFiltersState,\r\n  dataMask: DataMaskStateWithId,\r\n  chartId: number,\r\n  charts: any,\r\n  dashboardLayout: Layout,\r\n  chartConfiguration: ChartConfiguration = {},\r\n): Indicator[] => {\r\n  const chart = charts[chartId];\r\n\r\n  const appliedColumns = getAppliedColumns(chart);\r\n  const rejectedColumns = getRejectedColumns(chart);\r\n\r\n  const getStatus = ({\r\n    value,\r\n    column,\r\n    type = DataMaskType.NativeFilters,\r\n  }: {\r\n    value: any;\r\n    column?: string;\r\n    type?: DataMaskType;\r\n  }): IndicatorStatus => {\r\n    // a filter is only considered unset if it's value is null\r\n    const hasValue = value !== null;\r\n    if (type === DataMaskType.CrossFilters && hasValue) {\r\n      return IndicatorStatus.CrossFilterApplied;\r\n    }\r\n    if (!column && hasValue) {\r\n      // Filter without datasource\r\n      return IndicatorStatus.Applied;\r\n    }\r\n    if (column && rejectedColumns.has(column))\r\n      return IndicatorStatus.Incompatible;\r\n    if (column && appliedColumns.has(column) && hasValue) {\r\n      return IndicatorStatus.Applied;\r\n    }\r\n    return IndicatorStatus.Unset;\r\n  };\r\n\r\n  let nativeFilterIndicators: any = [];\r\n  if (isFeatureEnabled(FeatureFlag.DASHBOARD_NATIVE_FILTERS)) {\r\n    nativeFilterIndicators = Object.values(nativeFilters.filters)\r\n      .filter(nativeFilter =>\r\n        getTreeCheckedItems(nativeFilter.scope, dashboardLayout).some(\r\n          layoutItem => dashboardLayout[layoutItem]?.meta?.chartId === chartId,\r\n        ),\r\n      )\r\n      .map(nativeFilter => {\r\n        const column = nativeFilter.targets[0]?.column?.name;\r\n        let value =\r\n          dataMask[nativeFilter.id]?.filterState?.label ??\r\n          dataMask[nativeFilter.id]?.filterState?.value ??\r\n          null;\r\n        if (!Array.isArray(value) && value !== null) {\r\n          value = [value];\r\n        }\r\n        return {\r\n          column,\r\n          name: nativeFilter.name,\r\n          path: [nativeFilter.id],\r\n          status: getStatus({ value, column }),\r\n          value,\r\n        };\r\n      });\r\n  }\r\n\r\n  let crossFilterIndicators: any = [];\r\n  if (isFeatureEnabled(FeatureFlag.DASHBOARD_CROSS_FILTERS)) {\r\n    crossFilterIndicators = Object.values(chartConfiguration)\r\n      .filter(chartConfig =>\r\n        getTreeCheckedItems(\r\n          chartConfig?.crossFilters?.scope,\r\n          dashboardLayout,\r\n        ).some(\r\n          layoutItem => dashboardLayout[layoutItem]?.meta?.chartId === chartId,\r\n        ),\r\n      )\r\n      .map(chartConfig => {\r\n        let value =\r\n          dataMask[chartConfig.id]?.filterState?.label ??\r\n          dataMask[chartConfig.id]?.filterState?.value ??\r\n          null;\r\n        if (!Array.isArray(value) && value !== null) {\r\n          value = [value];\r\n        }\r\n        return {\r\n          name: Object.values(dashboardLayout).find(\r\n            layoutItem => layoutItem?.meta?.chartId === chartConfig.id,\r\n          )?.meta?.sliceName as string,\r\n          path: [`${chartConfig.id}`],\r\n          status: getStatus({\r\n            value,\r\n            type: DataMaskType.CrossFilters,\r\n          }),\r\n          value,\r\n        };\r\n      })\r\n      .filter(filter => filter.status === IndicatorStatus.CrossFilterApplied);\r\n  }\r\n  return crossFilterIndicators.concat(nativeFilterIndicators);\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { styled, SupersetClient, t } from '@superset-ui/core';\r\n\r\nimport { Menu, NoAnimationDropdown } from 'src/common/components';\r\nimport Icon from 'src/components/Icon';\r\nimport { URL_PARAMS } from 'src/constants';\r\nimport ShareMenuItems from 'src/dashboard/components/menu/ShareMenuItems';\r\nimport CssEditor from 'src/dashboard/components/CssEditor';\r\nimport RefreshIntervalModal from 'src/dashboard/components/RefreshIntervalModal';\r\nimport SaveModal from 'src/dashboard/components/SaveModal';\r\nimport injectCustomCss from 'src/dashboard/util/injectCustomCss';\r\nimport { SAVE_TYPE_NEWDASHBOARD } from 'src/dashboard/util/constants';\r\nimport FilterScopeModal from 'src/dashboard/components/filterscope/FilterScopeModal';\r\nimport downloadAsImage from 'src/utils/downloadAsImage';\r\nimport getDashboardUrl from 'src/dashboard/util/getDashboardUrl';\r\nimport { getActiveFilters } from 'src/dashboard/util/activeDashboardFilters';\r\nimport { getUrlParam } from 'src/utils/urlUtils';\r\n\r\nconst propTypes = {\r\n  addSuccessToast: PropTypes.func.isRequired,\r\n  addDangerToast: PropTypes.func.isRequired,\r\n  dashboardInfo: PropTypes.object.isRequired,\r\n  dashboardId: PropTypes.number.isRequired,\r\n  dashboardTitle: PropTypes.string.isRequired,\r\n  customCss: PropTypes.string.isRequired,\r\n  colorNamespace: PropTypes.string,\r\n  colorScheme: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  updateCss: PropTypes.func.isRequired,\r\n  forceRefreshAllCharts: PropTypes.func.isRequired,\r\n  refreshFrequency: PropTypes.number.isRequired,\r\n  shouldPersistRefreshFrequency: PropTypes.bool.isRequired,\r\n  setRefreshFrequency: PropTypes.func.isRequired,\r\n  startPeriodicRender: PropTypes.func.isRequired,\r\n  editMode: PropTypes.bool.isRequired,\r\n  userCanEdit: PropTypes.bool.isRequired,\r\n  userCanShare: PropTypes.bool.isRequired,\r\n  userCanSave: PropTypes.bool.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  layout: PropTypes.object.isRequired,\r\n  expandedSlices: PropTypes.object.isRequired,\r\n  onSave: PropTypes.func.isRequired,\r\n  showPropertiesModal: PropTypes.func.isRequired,\r\n  refreshLimit: PropTypes.number,\r\n  refreshWarning: PropTypes.string,\r\n  lastModifiedTime: PropTypes.number.isRequired,\r\n};\r\n\r\nconst defaultProps = {\r\n  colorNamespace: undefined,\r\n  colorScheme: undefined,\r\n  refreshLimit: 0,\r\n  refreshWarning: null,\r\n};\r\n\r\nconst MENU_KEYS = {\r\n  SAVE_MODAL: 'save-modal',\r\n  SHARE_DASHBOARD: 'share-dashboard',\r\n  REFRESH_DASHBOARD: 'refresh-dashboard',\r\n  AUTOREFRESH_MODAL: 'autorefresh-modal',\r\n  SET_FILTER_MAPPING: 'set-filter-mapping',\r\n  EDIT_PROPERTIES: 'edit-properties',\r\n  EDIT_CSS: 'edit-css',\r\n  DOWNLOAD_AS_IMAGE: 'download-as-image',\r\n  TOGGLE_FULLSCREEN: 'toggle-fullscreen',\r\n};\r\n\r\nconst DropdownButton = styled.div`\r\n  margin-left: ${({ theme }) => theme.gridUnit * 2.5}px;\r\n`;\r\n\r\nconst SCREENSHOT_NODE_SELECTOR = '.dashboard';\r\n\r\nclass HeaderActionsDropdown extends React.PureComponent {\r\n  static discardChanges() {\r\n    window.location.reload();\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      css: props.customCss,\r\n      cssTemplates: [],\r\n    };\r\n\r\n    this.changeCss = this.changeCss.bind(this);\r\n    this.changeRefreshInterval = this.changeRefreshInterval.bind(this);\r\n    this.handleMenuClick = this.handleMenuClick.bind(this);\r\n  }\r\n\r\n  UNSAFE_componentWillMount() {\r\n    injectCustomCss(this.state.css);\r\n\r\n    SupersetClient.get({ endpoint: '/csstemplateasyncmodelview/api/read' })\r\n      .then(({ json }) => {\r\n        const cssTemplates = json.result.map(row => ({\r\n          value: row.template_name,\r\n          css: row.css,\r\n          label: row.template_name,\r\n        }));\r\n        this.setState({ cssTemplates });\r\n      })\r\n      .catch(() => {\r\n        this.props.addDangerToast(\r\n          t('An error occurred while fetching available CSS templates'),\r\n        );\r\n      });\r\n  }\r\n\r\n  changeCss(css) {\r\n    this.setState({ css }, () => {\r\n      injectCustomCss(css);\r\n    });\r\n    this.props.onChange();\r\n    this.props.updateCss(css);\r\n  }\r\n\r\n  changeRefreshInterval(refreshInterval, isPersistent) {\r\n    this.props.setRefreshFrequency(refreshInterval, isPersistent);\r\n    this.props.startPeriodicRender(refreshInterval * 1000);\r\n  }\r\n\r\n  handleMenuClick({ key, domEvent }) {\r\n    switch (key) {\r\n      case MENU_KEYS.REFRESH_DASHBOARD:\r\n        this.props.forceRefreshAllCharts();\r\n        break;\r\n      case MENU_KEYS.EDIT_PROPERTIES:\r\n        this.props.showPropertiesModal();\r\n        break;\r\n      case MENU_KEYS.DOWNLOAD_AS_IMAGE: {\r\n        // menu closes with a delay, we need to hide it manually,\r\n        // so that we don't capture it on the screenshot\r\n        const menu = document.querySelector(\r\n          '.ant-dropdown:not(.ant-dropdown-hidden)',\r\n        );\r\n        menu.style.visibility = 'hidden';\r\n        downloadAsImage(\r\n          SCREENSHOT_NODE_SELECTOR,\r\n          this.props.dashboardTitle,\r\n        )(domEvent).then(() => {\r\n          menu.style.visibility = 'visible';\r\n        });\r\n        break;\r\n      }\r\n      case MENU_KEYS.TOGGLE_FULLSCREEN: {\r\n        const url = getDashboardUrl(\r\n          window.location.pathname,\r\n          getActiveFilters(),\r\n          window.location.hash,\r\n          !getUrlParam(URL_PARAMS.standalone),\r\n        );\r\n        window.location.replace(url);\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      dashboardTitle,\r\n      dashboardId,\r\n      dashboardInfo,\r\n      refreshFrequency,\r\n      shouldPersistRefreshFrequency,\r\n      editMode,\r\n      customCss,\r\n      colorNamespace,\r\n      colorScheme,\r\n      layout,\r\n      expandedSlices,\r\n      onSave,\r\n      userCanEdit,\r\n      userCanShare,\r\n      userCanSave,\r\n      isLoading,\r\n      refreshLimit,\r\n      refreshWarning,\r\n      lastModifiedTime,\r\n      addSuccessToast,\r\n      addDangerToast,\r\n    } = this.props;\r\n\r\n    const emailTitle = t('Superset dashboard');\r\n    const emailSubject = `${emailTitle} ${dashboardTitle}`;\r\n    const emailBody = t('Check out this dashboard: ');\r\n    const url = getDashboardUrl(\r\n      window.location.pathname,\r\n      getActiveFilters(),\r\n      window.location.hash,\r\n    );\r\n\r\n    const menu = (\r\n      <Menu\r\n        onClick={this.handleMenuClick}\r\n        selectable={false}\r\n        data-test=\"header-actions-menu\"\r\n      >\r\n        {userCanSave && (\r\n          <Menu.Item key={MENU_KEYS.SAVE_MODAL}>\r\n            <SaveModal\r\n              addSuccessToast={this.props.addSuccessToast}\r\n              addDangerToast={this.props.addDangerToast}\r\n              dashboardId={dashboardId}\r\n              dashboardTitle={dashboardTitle}\r\n              dashboardInfo={dashboardInfo}\r\n              saveType={SAVE_TYPE_NEWDASHBOARD}\r\n              layout={layout}\r\n              expandedSlices={expandedSlices}\r\n              refreshFrequency={refreshFrequency}\r\n              shouldPersistRefreshFrequency={shouldPersistRefreshFrequency}\r\n              lastModifiedTime={lastModifiedTime}\r\n              customCss={customCss}\r\n              colorNamespace={colorNamespace}\r\n              colorScheme={colorScheme}\r\n              onSave={onSave}\r\n              triggerNode={\r\n                <span data-test=\"save-as-menu-item\">{t('Save as')}</span>\r\n              }\r\n              canOverwrite={userCanEdit}\r\n            />\r\n          </Menu.Item>\r\n        )}\r\n        {userCanShare && (\r\n          <ShareMenuItems\r\n            url={url}\r\n            copyMenuItemTitle={t('Copy dashboard URL')}\r\n            emailMenuItemTitle={t('Share dashboard by email')}\r\n            emailSubject={emailSubject}\r\n            emailBody={emailBody}\r\n            addSuccessToast={addSuccessToast}\r\n            addDangerToast={addDangerToast}\r\n          />\r\n        )}\r\n        <Menu.Item\r\n          key={MENU_KEYS.REFRESH_DASHBOARD}\r\n          data-test=\"refresh-dashboard-menu-item\"\r\n          disabled={isLoading}\r\n        >\r\n          {t('Refresh dashboard')}\r\n        </Menu.Item>\r\n        <Menu.Divider />\r\n        <Menu.Item key={MENU_KEYS.AUTOREFRESH_MODAL}>\r\n          <RefreshIntervalModal\r\n            refreshFrequency={refreshFrequency}\r\n            refreshLimit={refreshLimit}\r\n            refreshWarning={refreshWarning}\r\n            onChange={this.changeRefreshInterval}\r\n            editMode={editMode}\r\n            triggerNode={<span>{t('Set auto-refresh interval')}</span>}\r\n          />\r\n        </Menu.Item>\r\n\r\n        {editMode && (\r\n          <Menu.Item key={MENU_KEYS.SET_FILTER_MAPPING}>\r\n            <FilterScopeModal\r\n              className=\"m-r-5\"\r\n              triggerNode={t('Set filter mapping')}\r\n            />\r\n          </Menu.Item>\r\n        )}\r\n\r\n        {editMode && (\r\n          <Menu.Item key={MENU_KEYS.EDIT_PROPERTIES}>\r\n            {t('Edit dashboard properties')}\r\n          </Menu.Item>\r\n        )}\r\n\r\n        {editMode && (\r\n          <Menu.Item key={MENU_KEYS.EDIT_CSS}>\r\n            <CssEditor\r\n              triggerNode={<span>{t('Edit CSS')}</span>}\r\n              initialCss={this.state.css}\r\n              templates={this.state.cssTemplates}\r\n              onChange={this.changeCss}\r\n            />\r\n          </Menu.Item>\r\n        )}\r\n\r\n        {!editMode && (\r\n          <Menu.Item key={MENU_KEYS.DOWNLOAD_AS_IMAGE}>\r\n            {t('Download as image')}\r\n          </Menu.Item>\r\n        )}\r\n\r\n        {!editMode && (\r\n          <Menu.Item key={MENU_KEYS.TOGGLE_FULLSCREEN}>\r\n            {t('Toggle fullscreen')}\r\n          </Menu.Item>\r\n        )}\r\n      </Menu>\r\n    );\r\n    return (\r\n      <NoAnimationDropdown\r\n        overlay={menu}\r\n        trigger={['click']}\r\n        getPopupContainer={triggerNode =>\r\n          triggerNode.closest('.dashboard-header')\r\n        }\r\n      >\r\n        <DropdownButton id=\"save-dash-split-button\" role=\"button\">\r\n          <Icon name=\"more-horiz\" />\r\n        </DropdownButton>\r\n      </NoAnimationDropdown>\r\n    );\r\n  }\r\n}\r\n\r\nHeaderActionsDropdown.propTypes = propTypes;\r\nHeaderActionsDropdown.defaultProps = defaultProps;\r\n\r\nexport default HeaderActionsDropdown;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-env browser */\r\nimport moment from 'moment';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled, CategoricalColorNamespace, t } from '@superset-ui/core';\r\nimport ButtonGroup from 'src/components/ButtonGroup';\r\n\r\nimport {\r\n  LOG_ACTIONS_PERIODIC_RENDER_DASHBOARD,\r\n  LOG_ACTIONS_FORCE_REFRESH_DASHBOARD,\r\n  LOG_ACTIONS_TOGGLE_EDIT_DASHBOARD,\r\n} from 'src/logger/LogUtils';\r\n\r\nimport Icon from 'src/components/Icon';\r\nimport Button from 'src/components/Button';\r\nimport EditableTitle from 'src/components/EditableTitle';\r\nimport FaveStar from 'src/components/FaveStar';\r\nimport { safeStringify } from 'src/utils/safeStringify';\r\nimport HeaderActionsDropdown from 'src/dashboard/components/Header/HeaderActionsDropdown';\r\nimport PublishedStatus from 'src/dashboard/components/PublishedStatus';\r\nimport UndoRedoKeyListeners from 'src/dashboard/components/UndoRedoKeyListeners';\r\nimport PropertiesModal from 'src/dashboard/components/PropertiesModal';\r\nimport { chartPropShape } from 'src/dashboard/util/propShapes';\r\nimport {\r\n  UNDO_LIMIT,\r\n  SAVE_TYPE_OVERWRITE,\r\n  DASHBOARD_POSITION_DATA_LIMIT,\r\n} from 'src/dashboard/util/constants';\r\nimport setPeriodicRunner from 'src/dashboard/util/setPeriodicRunner';\r\nimport { options as PeriodicRefreshOptions } from 'src/dashboard/components/RefreshIntervalModal';\r\n\r\nconst propTypes = {\r\n  addSuccessToast: PropTypes.func.isRequired,\r\n  addDangerToast: PropTypes.func.isRequired,\r\n  addWarningToast: PropTypes.func.isRequired,\r\n  dashboardInfo: PropTypes.object.isRequired,\r\n  dashboardTitle: PropTypes.string.isRequired,\r\n  charts: PropTypes.objectOf(chartPropShape).isRequired,\r\n  layout: PropTypes.object.isRequired,\r\n  expandedSlices: PropTypes.object.isRequired,\r\n  customCss: PropTypes.string.isRequired,\r\n  colorNamespace: PropTypes.string,\r\n  colorScheme: PropTypes.string,\r\n  setColorSchemeAndUnsavedChanges: PropTypes.func.isRequired,\r\n  isStarred: PropTypes.bool.isRequired,\r\n  isPublished: PropTypes.bool.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  onSave: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  fetchFaveStar: PropTypes.func.isRequired,\r\n  fetchCharts: PropTypes.func.isRequired,\r\n  saveFaveStar: PropTypes.func.isRequired,\r\n  savePublished: PropTypes.func.isRequired,\r\n  updateDashboardTitle: PropTypes.func.isRequired,\r\n  editMode: PropTypes.bool.isRequired,\r\n  setEditMode: PropTypes.func.isRequired,\r\n  showBuilderPane: PropTypes.func.isRequired,\r\n  updateCss: PropTypes.func.isRequired,\r\n  logEvent: PropTypes.func.isRequired,\r\n  hasUnsavedChanges: PropTypes.bool.isRequired,\r\n  maxUndoHistoryExceeded: PropTypes.bool.isRequired,\r\n  lastModifiedTime: PropTypes.number.isRequired,\r\n\r\n  // redux\r\n  onUndo: PropTypes.func.isRequired,\r\n  onRedo: PropTypes.func.isRequired,\r\n  undoLength: PropTypes.number.isRequired,\r\n  redoLength: PropTypes.number.isRequired,\r\n  setMaxUndoHistoryExceeded: PropTypes.func.isRequired,\r\n  maxUndoHistoryToast: PropTypes.func.isRequired,\r\n  refreshFrequency: PropTypes.number.isRequired,\r\n  shouldPersistRefreshFrequency: PropTypes.bool.isRequired,\r\n  setRefreshFrequency: PropTypes.func.isRequired,\r\n  dashboardInfoChanged: PropTypes.func.isRequired,\r\n  dashboardTitleChanged: PropTypes.func.isRequired,\r\n};\r\n\r\nconst defaultProps = {\r\n  colorNamespace: undefined,\r\n  colorScheme: undefined,\r\n};\r\n\r\n// Styled Components\r\nconst StyledDashboardHeader = styled.div`\r\n  background: ${({ theme }) => theme.colors.grayscale.light5};\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 ${({ theme }) => theme.gridUnit * 6}px;\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n\r\n  button,\r\n  .fave-unfave-icon {\r\n    margin-left: ${({ theme }) => theme.gridUnit * 2}px;\r\n  }\r\n  .button-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    .action-button {\r\n      font-size: ${({ theme }) => theme.typography.sizes.xl}px;\r\n    }\r\n  }\r\n`;\r\n\r\nclass Header extends React.PureComponent {\r\n  static discardChanges() {\r\n    window.location.reload();\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      didNotifyMaxUndoHistoryToast: false,\r\n      emphasizeUndo: false,\r\n      showingPropertiesModal: false,\r\n    };\r\n\r\n    this.handleChangeText = this.handleChangeText.bind(this);\r\n    this.handleCtrlZ = this.handleCtrlZ.bind(this);\r\n    this.handleCtrlY = this.handleCtrlY.bind(this);\r\n    this.toggleEditMode = this.toggleEditMode.bind(this);\r\n    this.forceRefresh = this.forceRefresh.bind(this);\r\n    this.startPeriodicRender = this.startPeriodicRender.bind(this);\r\n    this.overwriteDashboard = this.overwriteDashboard.bind(this);\r\n    this.showPropertiesModal = this.showPropertiesModal.bind(this);\r\n    this.hidePropertiesModal = this.hidePropertiesModal.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { refreshFrequency } = this.props;\r\n    this.startPeriodicRender(refreshFrequency * 1000);\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (\r\n      UNDO_LIMIT - nextProps.undoLength <= 0 &&\r\n      !this.state.didNotifyMaxUndoHistoryToast\r\n    ) {\r\n      this.setState(() => ({ didNotifyMaxUndoHistoryToast: true }));\r\n      this.props.maxUndoHistoryToast();\r\n    }\r\n    if (\r\n      nextProps.undoLength > UNDO_LIMIT &&\r\n      !this.props.maxUndoHistoryExceeded\r\n    ) {\r\n      this.props.setMaxUndoHistoryExceeded();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.ctrlYTimeout);\r\n    clearTimeout(this.ctrlZTimeout);\r\n  }\r\n\r\n  handleChangeText(nextText) {\r\n    const { updateDashboardTitle, onChange } = this.props;\r\n    if (nextText && this.props.dashboardTitle !== nextText) {\r\n      updateDashboardTitle(nextText);\r\n      onChange();\r\n    }\r\n  }\r\n\r\n  handleCtrlY() {\r\n    this.props.onRedo();\r\n    this.setState({ emphasizeRedo: true }, () => {\r\n      if (this.ctrlYTimeout) clearTimeout(this.ctrlYTimeout);\r\n      this.ctrlYTimeout = setTimeout(() => {\r\n        this.setState({ emphasizeRedo: false });\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  handleCtrlZ() {\r\n    this.props.onUndo();\r\n    this.setState({ emphasizeUndo: true }, () => {\r\n      if (this.ctrlZTimeout) clearTimeout(this.ctrlZTimeout);\r\n      this.ctrlZTimeout = setTimeout(() => {\r\n        this.setState({ emphasizeUndo: false });\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  forceRefresh() {\r\n    if (!this.props.isLoading) {\r\n      const chartList = Object.keys(this.props.charts);\r\n      this.props.logEvent(LOG_ACTIONS_FORCE_REFRESH_DASHBOARD, {\r\n        force: true,\r\n        interval: 0,\r\n        chartCount: chartList.length,\r\n      });\r\n\r\n      return this.props.fetchCharts(\r\n        chartList,\r\n        true,\r\n        0,\r\n        this.props.dashboardInfo.id,\r\n      );\r\n    }\r\n    return false;\r\n  }\r\n\r\n  startPeriodicRender(interval) {\r\n    let intervalMessage;\r\n    if (interval) {\r\n      const predefinedValue = PeriodicRefreshOptions.find(\r\n        option => option.value === interval / 1000,\r\n      );\r\n      if (predefinedValue) {\r\n        intervalMessage = predefinedValue.label;\r\n      } else {\r\n        intervalMessage = moment.duration(interval, 'millisecond').humanize();\r\n      }\r\n    }\r\n\r\n    const periodicRender = () => {\r\n      const { fetchCharts, logEvent, charts, dashboardInfo } = this.props;\r\n      const { metadata } = dashboardInfo;\r\n      const immune = metadata.timed_refresh_immune_slices || [];\r\n      const affectedCharts = Object.values(charts)\r\n        .filter(chart => immune.indexOf(chart.id) === -1)\r\n        .map(chart => chart.id);\r\n\r\n      logEvent(LOG_ACTIONS_PERIODIC_RENDER_DASHBOARD, {\r\n        interval,\r\n        chartCount: affectedCharts.length,\r\n      });\r\n      this.props.addWarningToast(\r\n        t(\r\n          `This dashboard is currently force refreshing; the next force refresh will be in %s.`,\r\n          intervalMessage,\r\n        ),\r\n      );\r\n\r\n      return fetchCharts(\r\n        affectedCharts,\r\n        true,\r\n        interval * 0.2,\r\n        dashboardInfo.id,\r\n      );\r\n    };\r\n\r\n    this.refreshTimer = setPeriodicRunner({\r\n      interval,\r\n      periodicRender,\r\n      refreshTimer: this.refreshTimer,\r\n    });\r\n  }\r\n\r\n  toggleEditMode() {\r\n    this.props.logEvent(LOG_ACTIONS_TOGGLE_EDIT_DASHBOARD, {\r\n      edit_mode: !this.props.editMode,\r\n    });\r\n    this.props.setEditMode(!this.props.editMode);\r\n  }\r\n\r\n  overwriteDashboard() {\r\n    const {\r\n      dashboardTitle,\r\n      layout: positions,\r\n      expandedSlices,\r\n      customCss,\r\n      colorNamespace,\r\n      colorScheme,\r\n      dashboardInfo,\r\n      refreshFrequency: currentRefreshFrequency,\r\n      shouldPersistRefreshFrequency,\r\n      lastModifiedTime,\r\n    } = this.props;\r\n\r\n    const scale = CategoricalColorNamespace.getScale(\r\n      colorScheme,\r\n      colorNamespace,\r\n    );\r\n\r\n    // use the colorScheme for default labels\r\n    let labelColors = colorScheme ? scale.getColorMap() : {};\r\n    // but allow metadata to overwrite if it exists\r\n    // eslint-disable-next-line camelcase\r\n    const metadataLabelColors = dashboardInfo.metadata?.label_colors;\r\n    if (metadataLabelColors) {\r\n      labelColors = { ...labelColors, ...metadataLabelColors };\r\n    }\r\n\r\n    // check refresh frequency is for current session or persist\r\n    const refreshFrequency = shouldPersistRefreshFrequency\r\n      ? currentRefreshFrequency\r\n      : dashboardInfo.metadata?.refresh_frequency; // eslint-disable-line camelcase\r\n\r\n    const data = {\r\n      positions,\r\n      expanded_slices: expandedSlices,\r\n      css: customCss,\r\n      color_namespace: colorNamespace,\r\n      color_scheme: colorScheme,\r\n      label_colors: labelColors,\r\n      dashboard_title: dashboardTitle,\r\n      refresh_frequency: refreshFrequency,\r\n      last_modified_time: lastModifiedTime,\r\n    };\r\n\r\n    // make sure positions data less than DB storage limitation:\r\n    const positionJSONLength = safeStringify(positions).length;\r\n    const limit =\r\n      dashboardInfo.common.conf.SUPERSET_DASHBOARD_POSITION_DATA_LIMIT ||\r\n      DASHBOARD_POSITION_DATA_LIMIT;\r\n    if (positionJSONLength >= limit) {\r\n      this.props.addDangerToast(\r\n        t(\r\n          'Your dashboard is too large. Please reduce the size before save it.',\r\n        ),\r\n      );\r\n    } else {\r\n      if (positionJSONLength >= limit * 0.9) {\r\n        this.props.addWarningToast('Your dashboard is near the size limit.');\r\n      }\r\n\r\n      this.props.onSave(data, dashboardInfo.id, SAVE_TYPE_OVERWRITE);\r\n    }\r\n  }\r\n\r\n  showPropertiesModal() {\r\n    this.setState({ showingPropertiesModal: true });\r\n  }\r\n\r\n  hidePropertiesModal() {\r\n    this.setState({ showingPropertiesModal: false });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      dashboardTitle,\r\n      layout,\r\n      expandedSlices,\r\n      customCss,\r\n      colorNamespace,\r\n      setColorSchemeAndUnsavedChanges,\r\n      colorScheme,\r\n      onUndo,\r\n      onRedo,\r\n      undoLength,\r\n      redoLength,\r\n      onChange,\r\n      onSave,\r\n      updateCss,\r\n      editMode,\r\n      isPublished,\r\n      dashboardInfo,\r\n      hasUnsavedChanges,\r\n      isLoading,\r\n      refreshFrequency,\r\n      shouldPersistRefreshFrequency,\r\n      setRefreshFrequency,\r\n      lastModifiedTime,\r\n    } = this.props;\r\n\r\n    const userCanEdit = dashboardInfo.dash_edit_perm;\r\n    const userCanShare = dashboardInfo.dash_share_perm;\r\n    const userCanSaveAs = dashboardInfo.dash_save_perm;\r\n    const refreshLimit =\r\n      dashboardInfo.common.conf.SUPERSET_DASHBOARD_PERIODICAL_REFRESH_LIMIT;\r\n    const refreshWarning =\r\n      dashboardInfo.common.conf\r\n        .SUPERSET_DASHBOARD_PERIODICAL_REFRESH_WARNING_MESSAGE;\r\n\r\n    return (\r\n      <StyledDashboardHeader\r\n        className=\"dashboard-header\"\r\n        data-test=\"dashboard-header\"\r\n        data-test-id={`${dashboardInfo.id}`}\r\n      >\r\n        <div className=\"dashboard-component-header header-large\">\r\n          <EditableTitle\r\n            title={dashboardTitle}\r\n            canEdit={userCanEdit && editMode}\r\n            onSaveTitle={this.handleChangeText}\r\n            showTooltip={false}\r\n          />\r\n          <PublishedStatus\r\n            dashboardId={dashboardInfo.id}\r\n            isPublished={isPublished}\r\n            savePublished={this.props.savePublished}\r\n            canEdit={userCanEdit}\r\n            canSave={userCanSaveAs}\r\n          />\r\n          {dashboardInfo.userId && (\r\n            <FaveStar\r\n              itemId={dashboardInfo.id}\r\n              fetchFaveStar={this.props.fetchFaveStar}\r\n              saveFaveStar={this.props.saveFaveStar}\r\n              isStarred={this.props.isStarred}\r\n              showTooltip\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"button-container\">\r\n          {userCanSaveAs && (\r\n            <div\r\n              className=\"button-container\"\r\n              data-test=\"dashboard-edit-actions\"\r\n            >\r\n              {editMode && (\r\n                <>\r\n                  <ButtonGroup className=\"m-r-5\">\r\n                    <Button\r\n                      buttonSize=\"small\"\r\n                      onClick={onUndo}\r\n                      disabled={undoLength < 1}\r\n                      buttonStyle={\r\n                        this.state.emphasizeUndo ? 'primary' : undefined\r\n                      }\r\n                    >\r\n                      <i\r\n                        title=\"Undo\"\r\n                        className=\"undo-action fa fa-reply\"\r\n                        data-test=\"undo-action\"\r\n                      />\r\n                      &nbsp;\r\n                    </Button>\r\n                    <Button\r\n                      buttonSize=\"small\"\r\n                      onClick={onRedo}\r\n                      disabled={redoLength < 1}\r\n                      buttonStyle={\r\n                        this.state.emphasizeRedo ? 'primary' : undefined\r\n                      }\r\n                    >\r\n                      &nbsp;\r\n                      <i title=\"Redo\" className=\"redo-action fa fa-share\" />\r\n                    </Button>\r\n                  </ButtonGroup>\r\n                  <Button\r\n                    buttonSize=\"small\"\r\n                    className=\"m-r-5\"\r\n                    onClick={this.constructor.discardChanges}\r\n                    buttonStyle=\"default\"\r\n                    data-test=\"discard-changes-button\"\r\n                  >\r\n                    {t('Discard changes')}\r\n                  </Button>\r\n                  <Button\r\n                    buttonSize=\"small\"\r\n                    disabled={!hasUnsavedChanges}\r\n                    buttonStyle=\"primary\"\r\n                    onClick={this.overwriteDashboard}\r\n                    data-test=\"header-save-button\"\r\n                  >\r\n                    {t('Save')}\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n          {editMode && (\r\n            <UndoRedoKeyListeners\r\n              onUndo={this.handleCtrlZ}\r\n              onRedo={this.handleCtrlY}\r\n            />\r\n          )}\r\n\r\n          {!editMode && userCanEdit && (\r\n            <>\r\n              <span\r\n                role=\"button\"\r\n                title={t('Edit dashboard')}\r\n                tabIndex={0}\r\n                className=\"action-button\"\r\n                onClick={this.toggleEditMode}\r\n              >\r\n                <Icon name=\"edit-alt\" />\r\n              </span>\r\n            </>\r\n          )}\r\n\r\n          {this.state.showingPropertiesModal && (\r\n            <PropertiesModal\r\n              dashboardId={dashboardInfo.id}\r\n              show={this.state.showingPropertiesModal}\r\n              onHide={this.hidePropertiesModal}\r\n              colorScheme={this.props.colorScheme}\r\n              onSubmit={updates => {\r\n                const {\r\n                  dashboardInfoChanged,\r\n                  dashboardTitleChanged,\r\n                } = this.props;\r\n                dashboardInfoChanged({\r\n                  slug: updates.slug,\r\n                  metadata: JSON.parse(updates.jsonMetadata),\r\n                });\r\n                setColorSchemeAndUnsavedChanges(updates.colorScheme);\r\n                dashboardTitleChanged(updates.title);\r\n                if (updates.slug) {\r\n                  window.history.pushState(\r\n                    { event: 'dashboard_properties_changed' },\r\n                    '',\r\n                    `/superset/dashboard/${updates.slug}/`,\r\n                  );\r\n                }\r\n              }}\r\n            />\r\n          )}\r\n\r\n          <HeaderActionsDropdown\r\n            addSuccessToast={this.props.addSuccessToast}\r\n            addDangerToast={this.props.addDangerToast}\r\n            dashboardId={dashboardInfo.id}\r\n            dashboardTitle={dashboardTitle}\r\n            dashboardInfo={dashboardInfo}\r\n            layout={layout}\r\n            expandedSlices={expandedSlices}\r\n            customCss={customCss}\r\n            colorNamespace={colorNamespace}\r\n            colorScheme={colorScheme}\r\n            onSave={onSave}\r\n            onChange={onChange}\r\n            forceRefreshAllCharts={this.forceRefresh}\r\n            startPeriodicRender={this.startPeriodicRender}\r\n            refreshFrequency={refreshFrequency}\r\n            shouldPersistRefreshFrequency={shouldPersistRefreshFrequency}\r\n            setRefreshFrequency={setRefreshFrequency}\r\n            updateCss={updateCss}\r\n            editMode={editMode}\r\n            hasUnsavedChanges={hasUnsavedChanges}\r\n            userCanEdit={userCanEdit}\r\n            userCanShare={userCanShare}\r\n            userCanSave={userCanSaveAs}\r\n            isLoading={isLoading}\r\n            showPropertiesModal={this.showPropertiesModal}\r\n            refreshLimit={refreshLimit}\r\n            refreshWarning={refreshWarning}\r\n            lastModifiedTime={lastModifiedTime}\r\n          />\r\n        </div>\r\n      </StyledDashboardHeader>\r\n    );\r\n  }\r\n}\r\n\r\nHeader.propTypes = propTypes;\r\nHeader.defaultProps = defaultProps;\r\n\r\nexport default Header;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  className: PropTypes.string,\r\n  label: PropTypes.string,\r\n};\r\n\r\nconst defaultProps = {\r\n  className: null,\r\n  label: null,\r\n};\r\n\r\nexport default class IconButton extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick(event) {\r\n    event.preventDefault();\r\n    const { onClick } = this.props;\r\n    onClick(event);\r\n  }\r\n\r\n  render() {\r\n    const { className, label } = this.props;\r\n    return (\r\n      <div\r\n        className=\"icon-button\"\r\n        onClick={this.handleClick}\r\n        tabIndex=\"0\"\r\n        role=\"button\"\r\n        data-test=\"icon-button\"\r\n      >\r\n        <span data-test=\"icon-button-span\" className={className} />\r\n        {label && <span className=\"icon-button-label\">{label}</span>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIconButton.propTypes = propTypes;\r\nIconButton.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { t } from '@superset-ui/core';\r\n\r\nconst propTypes = {\r\n  height: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default function MissingChart({ height }) {\r\n  return (\r\n    <div className=\"missing-chart-container\" style={{ height: height + 20 }}>\r\n      <div className=\"missing-chart-body\">\r\n        {t(\r\n          'There is no chart definition associated with this component, could it have been deleted?',\r\n        )}\r\n        <br />\r\n        <br />\r\n        {t('Delete this container and save to remove this message.')}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nMissingChart.propTypes = propTypes;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { t } from '@superset-ui/core';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport Label from 'src/components/Label';\r\n\r\nconst propTypes = {\r\n  dashboardId: PropTypes.number.isRequired,\r\n  isPublished: PropTypes.bool.isRequired,\r\n  savePublished: PropTypes.func.isRequired,\r\n  canEdit: PropTypes.bool.isRequired,\r\n  canSave: PropTypes.bool.isRequired,\r\n};\r\n\r\nconst draftButtonTooltip = t(\r\n  'This dashboard is not published, it will not show up in the list of dashboards. ' +\r\n    'Click here to publish this dashboard.',\r\n);\r\n\r\nconst draftDivTooltip = t(\r\n  'This dashboard is not published which means it will not show up in the list of dashboards.' +\r\n    ' Favorite it to see it there or access it by using the URL directly.',\r\n);\r\n\r\nconst publishedTooltip = t(\r\n  'This dashboard is published. Click to make it a draft.',\r\n);\r\n\r\nexport default class PublishedStatus extends React.Component {\r\n  componentDidMount() {\r\n    this.togglePublished = this.togglePublished.bind(this);\r\n  }\r\n\r\n  togglePublished() {\r\n    this.props.savePublished(this.props.dashboardId, !this.props.isPublished);\r\n  }\r\n\r\n  render() {\r\n    // Show everybody the draft badge\r\n    if (!this.props.isPublished) {\r\n      // if they can edit the dash, make the badge a button\r\n      if (this.props.canEdit && this.props.canSave) {\r\n        return (\r\n          <Tooltip\r\n            id=\"unpublished-dashboard-tooltip\"\r\n            placement=\"bottom\"\r\n            title={draftButtonTooltip}\r\n          >\r\n            <Label\r\n              onClick={() => {\r\n                this.togglePublished();\r\n              }}\r\n            >\r\n              {t('Draft')}\r\n            </Label>\r\n          </Tooltip>\r\n        );\r\n      }\r\n      return (\r\n        <Tooltip\r\n          id=\"unpublished-dashboard-tooltip\"\r\n          placement=\"bottom\"\r\n          title={draftDivTooltip}\r\n        >\r\n          <Label>{t('Draft')}</Label>\r\n        </Tooltip>\r\n      );\r\n    }\r\n\r\n    // Show the published badge for the owner of the dashboard to toggle\r\n    if (this.props.canEdit && this.props.canSave) {\r\n      return (\r\n        <Tooltip\r\n          id=\"published-dashboard-tooltip\"\r\n          placement=\"bottom\"\r\n          title={publishedTooltip}\r\n        >\r\n          <Label\r\n            onClick={() => {\r\n              this.togglePublished();\r\n            }}\r\n          >\r\n            {t('Published')}\r\n          </Label>\r\n        </Tooltip>\r\n      );\r\n    }\r\n\r\n    // Don't show anything if one doesn't own the dashboard and it is published\r\n    return null;\r\n  }\r\n}\r\n\r\nPublishedStatus.propTypes = propTypes;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { RefObject } from 'react';\r\nimport Select from 'src/components/Select';\r\nimport { t, styled } from '@superset-ui/core';\r\nimport Alert from 'src/components/Alert';\r\nimport Button from 'src/components/Button';\r\n\r\nimport ModalTrigger from 'src/components/ModalTrigger';\r\nimport { FormLabel } from 'src/components/Form';\r\n\r\nexport const options = [\r\n  [0, t(\"Don't refresh\")],\r\n  [10, t('10 seconds')],\r\n  [30, t('30 seconds')],\r\n  [60, t('1 minute')],\r\n  [300, t('5 minutes')],\r\n  [1800, t('30 minutes')],\r\n  [3600, t('1 hour')],\r\n  [21600, t('6 hours')],\r\n  [43200, t('12 hours')],\r\n  [86400, t('24 hours')],\r\n].map(o => ({ value: o[0], label: o[1] }));\r\n\r\nconst StyledModalTrigger = styled(ModalTrigger)`\r\n  .ant-modal-body {\r\n    overflow: visible;\r\n  }\r\n`;\r\n\r\nconst RefreshWarningContainer = styled.div`\r\n  margin-top: ${({ theme }) => theme.gridUnit * 6}px;\r\n`;\r\n\r\ntype RefreshIntervalModalProps = {\r\n  triggerNode: JSX.Element;\r\n  refreshFrequency: number;\r\n  onChange: (refreshLimit: number, editMode: boolean) => void;\r\n  editMode: boolean;\r\n  refreshLimit?: number;\r\n  refreshWarning: string | null;\r\n};\r\n\r\ntype RefreshIntervalModalState = {\r\n  refreshFrequency: number;\r\n};\r\n\r\nclass RefreshIntervalModal extends React.PureComponent<\r\n  RefreshIntervalModalProps,\r\n  RefreshIntervalModalState\r\n> {\r\n  static defaultProps = {\r\n    refreshLimit: 0,\r\n    refreshWarning: null,\r\n  };\r\n\r\n  modalRef: RefObject<ModalTrigger>;\r\n\r\n  constructor(props: RefreshIntervalModalProps) {\r\n    super(props);\r\n    this.modalRef = React.createRef();\r\n    this.state = {\r\n      refreshFrequency: props.refreshFrequency,\r\n    };\r\n    this.handleFrequencyChange = this.handleFrequencyChange.bind(this);\r\n    this.onSave = this.onSave.bind(this);\r\n    this.onCancel = this.onCancel.bind(this);\r\n  }\r\n\r\n  onSave() {\r\n    this.props.onChange(this.state.refreshFrequency, this.props.editMode);\r\n    this.modalRef.current?.close();\r\n  }\r\n\r\n  onCancel() {\r\n    this.setState({\r\n      refreshFrequency: this.props.refreshFrequency,\r\n    });\r\n    this.modalRef.current?.close();\r\n  }\r\n\r\n  handleFrequencyChange(opt: Record<string, any>) {\r\n    const value = opt ? opt.value : options[0].value;\r\n    this.setState({\r\n      refreshFrequency: value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { refreshLimit = 0, refreshWarning, editMode } = this.props;\r\n    const { refreshFrequency = 0 } = this.state;\r\n    const showRefreshWarning =\r\n      !!refreshFrequency && !!refreshWarning && refreshFrequency < refreshLimit;\r\n\r\n    return (\r\n      <StyledModalTrigger\r\n        ref={this.modalRef}\r\n        triggerNode={this.props.triggerNode}\r\n        modalTitle={t('Refresh interval')}\r\n        modalBody={\r\n          <div>\r\n            <FormLabel>{t('Refresh frequency')}</FormLabel>\r\n            <Select\r\n              options={options}\r\n              value={{ value: refreshFrequency }}\r\n              onChange={this.handleFrequencyChange}\r\n              forceOverflow\r\n            />\r\n            {showRefreshWarning && (\r\n              <RefreshWarningContainer>\r\n                <Alert\r\n                  type=\"warning\"\r\n                  message={\r\n                    <>\r\n                      <div>{refreshWarning}</div>\r\n                      <br />\r\n                      <strong>{t('Are you sure you want to proceed?')}</strong>\r\n                    </>\r\n                  }\r\n                />\r\n              </RefreshWarningContainer>\r\n            )}\r\n          </div>\r\n        }\r\n        modalFooter={\r\n          <>\r\n            <Button\r\n              buttonStyle=\"primary\"\r\n              buttonSize=\"small\"\r\n              onClick={this.onSave}\r\n            >\r\n              {editMode ? t('Save') : t('Save for this session')}\r\n            </Button>\r\n            <Button onClick={this.onCancel} buttonSize=\"small\">\r\n              {t('Cancel')}\r\n            </Button>\r\n          </>\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default RefreshIntervalModal;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-env browser */\r\nimport React from 'react';\r\nimport { Radio } from 'src/components/Radio';\r\nimport { RadioChangeEvent, Input } from 'src/common/components';\r\nimport Button from 'src/components/Button';\r\nimport { t, CategoricalColorNamespace, JsonResponse } from '@superset-ui/core';\r\n\r\nimport ModalTrigger from 'src/components/ModalTrigger';\r\nimport Checkbox from 'src/components/Checkbox';\r\nimport {\r\n  SAVE_TYPE_OVERWRITE,\r\n  SAVE_TYPE_NEWDASHBOARD,\r\n} from 'src/dashboard/util/constants';\r\n\r\ntype SaveType = typeof SAVE_TYPE_OVERWRITE | typeof SAVE_TYPE_NEWDASHBOARD;\r\n\r\ntype SaveModalProps = {\r\n  addSuccessToast: (arg: string) => void;\r\n  addDangerToast: (arg: string) => void;\r\n  dashboardId: number;\r\n  dashboardTitle: string;\r\n  dashboardInfo: Record<string, any>;\r\n  expandedSlices: Record<string, any>;\r\n  layout: Record<string, any>;\r\n  saveType: SaveType;\r\n  triggerNode: JSX.Element;\r\n  customCss: string;\r\n  colorNamespace?: string;\r\n  colorScheme?: string;\r\n  onSave: (data: any, id: number | string, saveType: SaveType) => void;\r\n  canOverwrite: boolean;\r\n  shouldPersistRefreshFrequency: boolean;\r\n  refreshFrequency: number;\r\n  lastModifiedTime: number;\r\n};\r\n\r\ntype SaveModalState = {\r\n  saveType: SaveType;\r\n  newDashName: string;\r\n  duplicateSlices: boolean;\r\n};\r\n\r\nconst defaultProps = {\r\n  saveType: SAVE_TYPE_OVERWRITE,\r\n  colorNamespace: undefined,\r\n  colorScheme: undefined,\r\n  shouldPersistRefreshFrequency: false,\r\n};\r\n\r\nclass SaveModal extends React.PureComponent<SaveModalProps, SaveModalState> {\r\n  static defaultProps = defaultProps;\r\n\r\n  modal: ModalTrigger | null;\r\n\r\n  onSave: (\r\n    data: Record<string, any>,\r\n    dashboardId: number | string,\r\n    saveType: SaveType,\r\n  ) => Promise<JsonResponse>;\r\n\r\n  constructor(props: SaveModalProps) {\r\n    super(props);\r\n    this.state = {\r\n      saveType: props.saveType,\r\n      newDashName: `${props.dashboardTitle} [copy]`,\r\n      duplicateSlices: false,\r\n    };\r\n    this.modal = null;\r\n    this.handleSaveTypeChange = this.handleSaveTypeChange.bind(this);\r\n    this.handleNameChange = this.handleNameChange.bind(this);\r\n    this.saveDashboard = this.saveDashboard.bind(this);\r\n    this.setModalRef = this.setModalRef.bind(this);\r\n    this.toggleDuplicateSlices = this.toggleDuplicateSlices.bind(this);\r\n    this.onSave = this.props.onSave.bind(this);\r\n  }\r\n\r\n  setModalRef(ref: ModalTrigger | null) {\r\n    this.modal = ref;\r\n  }\r\n\r\n  toggleDuplicateSlices(): void {\r\n    this.setState(prevState => ({\r\n      duplicateSlices: !prevState.duplicateSlices,\r\n    }));\r\n  }\r\n\r\n  handleSaveTypeChange(event: RadioChangeEvent) {\r\n    this.setState({\r\n      saveType: (event.target as HTMLInputElement).value as SaveType,\r\n    });\r\n  }\r\n\r\n  handleNameChange(name: string) {\r\n    this.setState({\r\n      newDashName: name,\r\n      saveType: SAVE_TYPE_NEWDASHBOARD,\r\n    });\r\n  }\r\n\r\n  saveDashboard() {\r\n    const { saveType, newDashName } = this.state;\r\n    const {\r\n      dashboardTitle,\r\n      dashboardInfo,\r\n      layout: positions,\r\n      customCss,\r\n      colorNamespace,\r\n      colorScheme,\r\n      expandedSlices,\r\n      dashboardId,\r\n      refreshFrequency: currentRefreshFrequency,\r\n      shouldPersistRefreshFrequency,\r\n      lastModifiedTime,\r\n    } = this.props;\r\n\r\n    const scale = CategoricalColorNamespace.getScale(\r\n      colorScheme,\r\n      colorNamespace,\r\n    );\r\n    const labelColors = colorScheme ? scale.getColorMap() : {};\r\n    // check refresh frequency is for current session or persist\r\n    const refreshFrequency = shouldPersistRefreshFrequency\r\n      ? currentRefreshFrequency\r\n      : dashboardInfo.metadata?.refresh_frequency; // eslint-disable camelcase\r\n\r\n    const data = {\r\n      positions,\r\n      css: customCss,\r\n      color_namespace: colorNamespace,\r\n      color_scheme: colorScheme,\r\n      label_colors: labelColors,\r\n      expanded_slices: expandedSlices,\r\n      dashboard_title:\r\n        saveType === SAVE_TYPE_NEWDASHBOARD ? newDashName : dashboardTitle,\r\n      duplicate_slices: this.state.duplicateSlices,\r\n      refresh_frequency: refreshFrequency,\r\n      last_modified_time: lastModifiedTime,\r\n    };\r\n\r\n    if (saveType === SAVE_TYPE_NEWDASHBOARD && !newDashName) {\r\n      this.props.addDangerToast(\r\n        t('You must pick a name for the new dashboard'),\r\n      );\r\n    } else {\r\n      this.onSave(data, dashboardId, saveType).then((resp: JsonResponse) => {\r\n        if (\r\n          saveType === SAVE_TYPE_NEWDASHBOARD &&\r\n          resp &&\r\n          resp.json &&\r\n          resp.json.id\r\n        ) {\r\n          window.location.href = `/superset/dashboard/${resp.json.id}/`;\r\n        }\r\n      });\r\n      this.modal?.close();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ModalTrigger\r\n        ref={this.setModalRef}\r\n        triggerNode={this.props.triggerNode}\r\n        modalTitle={t('Save dashboard')}\r\n        modalBody={\r\n          <div>\r\n            <Radio\r\n              value={SAVE_TYPE_OVERWRITE}\r\n              onChange={this.handleSaveTypeChange}\r\n              checked={this.state.saveType === SAVE_TYPE_OVERWRITE}\r\n              disabled={!this.props.canOverwrite}\r\n            >\r\n              {t('Overwrite Dashboard [%s]', this.props.dashboardTitle)}\r\n            </Radio>\r\n            <hr />\r\n            <Radio\r\n              value={SAVE_TYPE_NEWDASHBOARD}\r\n              onChange={this.handleSaveTypeChange}\r\n              checked={this.state.saveType === SAVE_TYPE_NEWDASHBOARD}\r\n            >\r\n              {t('Save as:')}\r\n            </Radio>\r\n            <Input\r\n              type=\"text\"\r\n              placeholder={t('[dashboard name]')}\r\n              value={this.state.newDashName}\r\n              onFocus={e => this.handleNameChange(e.target.value)}\r\n              onChange={e => this.handleNameChange(e.target.value)}\r\n            />\r\n            <div className=\"m-l-25 m-t-5\">\r\n              <Checkbox\r\n                checked={this.state.duplicateSlices}\r\n                onChange={() => this.toggleDuplicateSlices()}\r\n              />\r\n              <span className=\"m-l-5\">{t('also copy (duplicate) charts')}</span>\r\n            </div>\r\n          </div>\r\n        }\r\n        modalFooter={\r\n          <div>\r\n            <Button\r\n              data-test=\"modal-save-dashboard-button\"\r\n              buttonStyle=\"primary\"\r\n              onClick={this.saveDashboard}\r\n            >\r\n              {t('Save')}\r\n            </Button>\r\n          </div>\r\n        }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default SaveModal;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-env browser */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { List } from 'react-virtualized';\r\nimport { createFilter } from 'react-search-input';\r\nimport { t, styled } from '@superset-ui/core';\r\nimport { Input } from 'src/common/components';\r\nimport Select from 'src/components/Select';\r\nimport Loading from 'src/components/Loading';\r\nimport {\r\n  CHART_TYPE,\r\n  NEW_COMPONENT_SOURCE_TYPE,\r\n} from 'src/dashboard/util/componentTypes';\r\nimport {\r\n  NEW_CHART_ID,\r\n  NEW_COMPONENTS_SOURCE_ID,\r\n} from 'src/dashboard/util/constants';\r\nimport { slicePropShape } from 'src/dashboard/util/propShapes';\r\nimport AddSliceCard from './AddSliceCard';\r\nimport AddSliceDragPreview from './dnd/AddSliceDragPreview';\r\nimport DragDroppable from './dnd/DragDroppable';\r\n\r\nconst propTypes = {\r\n  fetchAllSlices: PropTypes.func.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  slices: PropTypes.objectOf(slicePropShape).isRequired,\r\n  lastUpdated: PropTypes.number.isRequired,\r\n  errorMessage: PropTypes.string,\r\n  userId: PropTypes.string.isRequired,\r\n  selectedSliceIds: PropTypes.arrayOf(PropTypes.number),\r\n  editMode: PropTypes.bool,\r\n  height: PropTypes.number,\r\n};\r\n\r\nconst defaultProps = {\r\n  selectedSliceIds: [],\r\n  editMode: false,\r\n  errorMessage: '',\r\n  height: window.innerHeight,\r\n};\r\n\r\nconst KEYS_TO_FILTERS = ['slice_name', 'viz_type', 'datasource_name'];\r\nconst KEYS_TO_SORT = {\r\n  slice_name: 'Name',\r\n  viz_type: 'Vis type',\r\n  datasource_name: 'Dataset',\r\n  changed_on: 'Recent',\r\n};\r\n\r\nconst DEFAULT_SORT_KEY = 'changed_on';\r\n\r\nconst MARGIN_BOTTOM = 16;\r\nconst SIDEPANE_HEADER_HEIGHT = 30;\r\nconst SLICE_ADDER_CONTROL_HEIGHT = 64;\r\nconst DEFAULT_CELL_HEIGHT = 112;\r\n\r\nconst Controls = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: ${({ theme }) => theme.gridUnit * 3}px;\r\n`;\r\n\r\nconst StyledSelect = styled(Select)`\r\n  margin-left: ${({ theme }) => theme.gridUnit * 2}px;\r\n  min-width: 150px;\r\n`;\r\n\r\nclass SliceAdder extends React.Component {\r\n  static sortByComparator(attr) {\r\n    const desc = attr === 'changed_on' ? -1 : 1;\r\n\r\n    return (a, b) => {\r\n      if (a[attr] < b[attr]) {\r\n        return -1 * desc;\r\n      }\r\n      if (a[attr] > b[attr]) {\r\n        return 1 * desc;\r\n      }\r\n      return 0;\r\n    };\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      filteredSlices: [],\r\n      searchTerm: '',\r\n      sortBy: DEFAULT_SORT_KEY,\r\n      selectedSliceIdsSet: new Set(props.selectedSliceIds),\r\n    };\r\n    this.rowRenderer = this.rowRenderer.bind(this);\r\n    this.searchUpdated = this.searchUpdated.bind(this);\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.slicesRequest = this.props.fetchAllSlices(this.props.userId);\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const nextState = {};\r\n    if (nextProps.lastUpdated !== this.props.lastUpdated) {\r\n      nextState.filteredSlices = Object.values(nextProps.slices)\r\n        .filter(createFilter(this.state.searchTerm, KEYS_TO_FILTERS))\r\n        .sort(SliceAdder.sortByComparator(this.state.sortBy));\r\n    }\r\n\r\n    if (nextProps.selectedSliceIds !== this.props.selectedSliceIds) {\r\n      nextState.selectedSliceIdsSet = new Set(nextProps.selectedSliceIds);\r\n    }\r\n\r\n    if (Object.keys(nextState).length) {\r\n      this.setState(nextState);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.slicesRequest && this.slicesRequest.abort) {\r\n      this.slicesRequest.abort();\r\n    }\r\n  }\r\n\r\n  getFilteredSortedSlices(searchTerm, sortBy) {\r\n    return Object.values(this.props.slices)\r\n      .filter(createFilter(searchTerm, KEYS_TO_FILTERS))\r\n      .sort(SliceAdder.sortByComparator(sortBy));\r\n  }\r\n\r\n  handleKeyPress(ev) {\r\n    if (ev.key === 'Enter') {\r\n      ev.preventDefault();\r\n\r\n      this.searchUpdated(ev.target.value);\r\n    }\r\n  }\r\n\r\n  handleChange(ev) {\r\n    this.searchUpdated(ev.target.value);\r\n  }\r\n\r\n  searchUpdated(searchTerm) {\r\n    this.setState(prevState => ({\r\n      searchTerm,\r\n      filteredSlices: this.getFilteredSortedSlices(\r\n        searchTerm,\r\n        prevState.sortBy,\r\n      ),\r\n    }));\r\n  }\r\n\r\n  handleSelect(object) {\r\n    const sortBy = object.value;\r\n    this.setState(prevState => ({\r\n      sortBy,\r\n      filteredSlices: this.getFilteredSortedSlices(\r\n        prevState.searchTerm,\r\n        sortBy,\r\n      ),\r\n    }));\r\n  }\r\n\r\n  rowRenderer({ key, index, style }) {\r\n    const { filteredSlices, selectedSliceIdsSet } = this.state;\r\n    const cellData = filteredSlices[index];\r\n    const isSelected = selectedSliceIdsSet.has(cellData.slice_id);\r\n    const type = CHART_TYPE;\r\n    const id = NEW_CHART_ID;\r\n\r\n    const meta = {\r\n      chartId: cellData.slice_id,\r\n      sliceName: cellData.slice_name,\r\n    };\r\n    return (\r\n      <DragDroppable\r\n        key={key}\r\n        component={{ type, id, meta }}\r\n        parentComponent={{\r\n          id: NEW_COMPONENTS_SOURCE_ID,\r\n          type: NEW_COMPONENT_SOURCE_TYPE,\r\n        }}\r\n        index={index}\r\n        depth={0}\r\n        disableDragDrop={isSelected}\r\n        editMode={this.props.editMode}\r\n        // we must use a custom drag preview within the List because\r\n        // it does not seem to work within a fixed-position container\r\n        useEmptyDragPreview\r\n        // List library expect style props here\r\n        // actual style should be applied to nested AddSliceCard component\r\n        style={{}}\r\n      >\r\n        {({ dragSourceRef }) => (\r\n          <AddSliceCard\r\n            innerRef={dragSourceRef}\r\n            style={style}\r\n            sliceName={cellData.slice_name}\r\n            lastModified={cellData.changed_on_humanized}\r\n            visType={cellData.viz_type}\r\n            datasourceUrl={cellData.datasource_url}\r\n            datasourceName={cellData.datasource_name}\r\n            isSelected={isSelected}\r\n          />\r\n        )}\r\n      </DragDroppable>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const slicesListHeight =\r\n      this.props.height -\r\n      SIDEPANE_HEADER_HEIGHT -\r\n      SLICE_ADDER_CONTROL_HEIGHT -\r\n      MARGIN_BOTTOM;\r\n    return (\r\n      <div className=\"slice-adder-container\">\r\n        <Controls>\r\n          <Input\r\n            placeholder={t('Filter your charts')}\r\n            className=\"search-input\"\r\n            onChange={this.handleChange}\r\n            onKeyPress={this.handleKeyPress}\r\n            data-test=\"dashboard-charts-filter-search-input\"\r\n          />\r\n          <StyledSelect\r\n            id=\"slice-adder-sortby\"\r\n            value={this.state.sortBy}\r\n            onChange={this.handleSelect}\r\n            options={Object.entries(KEYS_TO_SORT).map(([key, label]) => ({\r\n              label: `${t('Sort by')} ${label}`,\r\n              value: key,\r\n            }))}\r\n            placeholder={t('Sort by')}\r\n          />\r\n        </Controls>\r\n        {this.props.isLoading && <Loading />}\r\n        {!this.props.isLoading && this.state.filteredSlices.length > 0 && (\r\n          <List\r\n            width={376}\r\n            height={slicesListHeight}\r\n            rowCount={this.state.filteredSlices.length}\r\n            rowHeight={DEFAULT_CELL_HEIGHT}\r\n            rowRenderer={this.rowRenderer}\r\n            searchTerm={this.state.searchTerm}\r\n            sortBy={this.state.sortBy}\r\n            selectedSliceIds={this.props.selectedSliceIds}\r\n          />\r\n        )}\r\n        {this.props.errorMessage && (\r\n          <div className=\"error-message\">{this.props.errorMessage}</div>\r\n        )}\r\n        {/* Drag preview is just a single fixed-position element */}\r\n        <AddSliceDragPreview slices={this.state.filteredSlices} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSliceAdder.propTypes = propTypes;\r\nSliceAdder.defaultProps = defaultProps;\r\n\r\nexport default SliceAdder;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { FC } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport { useSelector } from 'react-redux';\r\nimport EditableTitle from 'src/components/EditableTitle';\r\nimport SliceHeaderControls from 'src/dashboard/components/SliceHeaderControls';\r\nimport FiltersBadge from 'src/dashboard/containers/FiltersBadge';\r\nimport Icon from 'src/components/Icon';\r\nimport { RootState } from 'src/dashboard/types';\r\nimport { Slice } from 'src/types/Chart';\r\nimport FilterIndicator from 'src/dashboard/components/FiltersBadge/FilterIndicator';\r\n\r\ntype SliceHeaderProps = {\r\n  innerRef?: string;\r\n  slice: Slice;\r\n  isExpanded?: boolean;\r\n  isCached?: boolean[];\r\n  cachedDttm?: string[];\r\n  updatedDttm?: number;\r\n  updateSliceName?: (arg0: string) => void;\r\n  toggleExpandSlice?: Function;\r\n  forceRefresh?: Function;\r\n  exploreChart?: Function;\r\n  exportCSV?: Function;\r\n  editMode?: boolean;\r\n  isFullSize?: boolean;\r\n  annotationQuery?: object;\r\n  annotationError?: object;\r\n  sliceName?: string;\r\n  supersetCanExplore?: boolean;\r\n  supersetCanShare?: boolean;\r\n  supersetCanCSV?: boolean;\r\n  sliceCanEdit?: boolean;\r\n  componentId: string;\r\n  dashboardId: number;\r\n  filters: object;\r\n  addSuccessToast: Function;\r\n  addDangerToast: Function;\r\n  handleToggleFullSize: Function;\r\n  chartStatus: string;\r\n  formData: object;\r\n};\r\n\r\nconst annotationsLoading = t('Annotation layers are still loading.');\r\nconst annotationsError = t('One ore more annotation layers failed loading.');\r\n\r\nconst CrossFilterIcon = styled(Icon)`\r\n  fill: ${({ theme }) => theme.colors.grayscale.light5};\r\n  & circle {\r\n    fill: ${({ theme }) => theme.colors.primary.base};\r\n  }\r\n`;\r\n\r\nconst SliceHeader: FC<SliceHeaderProps> = ({\r\n  innerRef = null,\r\n  forceRefresh = () => ({}),\r\n  updateSliceName = () => ({}),\r\n  toggleExpandSlice = () => ({}),\r\n  exploreChart = () => ({}),\r\n  exportCSV = () => ({}),\r\n  editMode = false,\r\n  annotationQuery = {},\r\n  annotationError = {},\r\n  cachedDttm = null,\r\n  updatedDttm = null,\r\n  isCached = [],\r\n  isExpanded = [],\r\n  sliceName = '',\r\n  supersetCanExplore = false,\r\n  supersetCanShare = false,\r\n  supersetCanCSV = false,\r\n  sliceCanEdit = false,\r\n  slice,\r\n  componentId,\r\n  dashboardId,\r\n  addSuccessToast,\r\n  addDangerToast,\r\n  handleToggleFullSize,\r\n  isFullSize,\r\n  chartStatus,\r\n  formData,\r\n}) => {\r\n  // TODO: change to indicator field after it will be implemented\r\n  const crossFilterValue = useSelector<RootState, any>(\r\n    state => state.dataMask[slice?.slice_id]?.filterState?.value,\r\n  );\r\n\r\n  return (\r\n    <div className=\"chart-header\" data-test=\"slice-header\" ref={innerRef}>\r\n      <div className=\"header-title\">\r\n        <EditableTitle\r\n          title={\r\n            sliceName ||\r\n            (editMode\r\n              ? '---' // this makes an empty title clickable\r\n              : '')\r\n          }\r\n          canEdit={editMode}\r\n          emptyText=\"\"\r\n          onSaveTitle={updateSliceName}\r\n          showTooltip={false}\r\n        />\r\n        {!!Object.values(annotationQuery).length && (\r\n          <Tooltip\r\n            id=\"annotations-loading-tooltip\"\r\n            placement=\"top\"\r\n            title={annotationsLoading}\r\n          >\r\n            <i\r\n              role=\"img\"\r\n              aria-label={annotationsLoading}\r\n              className=\"fa fa-refresh warning\"\r\n            />\r\n          </Tooltip>\r\n        )}\r\n        {!!Object.values(annotationError).length && (\r\n          <Tooltip\r\n            id=\"annoation-errors-tooltip\"\r\n            placement=\"top\"\r\n            title={annotationsError}\r\n          >\r\n            <i\r\n              role=\"img\"\r\n              aria-label={annotationsError}\r\n              className=\"fa fa-exclamation-circle danger\"\r\n            />\r\n          </Tooltip>\r\n        )}\r\n      </div>\r\n      <div className=\"header-controls\">\r\n        {!editMode && (\r\n          <>\r\n            {crossFilterValue && (\r\n              <Tooltip\r\n                placement=\"top\"\r\n                title={\r\n                  <FilterIndicator\r\n                    indicator={{\r\n                      value: crossFilterValue,\r\n                      name: t('Emitted values'),\r\n                    }}\r\n                  />\r\n                }\r\n              >\r\n                <CrossFilterIcon name=\"cross-filter-badge\" />\r\n              </Tooltip>\r\n            )}\r\n            <FiltersBadge chartId={slice.slice_id} />\r\n            <SliceHeaderControls\r\n              slice={slice}\r\n              isCached={isCached}\r\n              isExpanded={isExpanded}\r\n              cachedDttm={cachedDttm}\r\n              updatedDttm={updatedDttm}\r\n              toggleExpandSlice={toggleExpandSlice}\r\n              forceRefresh={forceRefresh}\r\n              exploreChart={exploreChart}\r\n              exportCSV={exportCSV}\r\n              supersetCanExplore={supersetCanExplore}\r\n              supersetCanShare={supersetCanShare}\r\n              supersetCanCSV={supersetCanCSV}\r\n              sliceCanEdit={sliceCanEdit}\r\n              componentId={componentId}\r\n              dashboardId={dashboardId}\r\n              addSuccessToast={addSuccessToast}\r\n              addDangerToast={addDangerToast}\r\n              handleToggleFullSize={handleToggleFullSize}\r\n              isFullSize={isFullSize}\r\n              chartStatus={chartStatus}\r\n              formData={formData}\r\n            />\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SliceHeader;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\nimport {\r\n  Behavior,\r\n  getChartMetadataRegistry,\r\n  styled,\r\n  t,\r\n} from '@superset-ui/core';\r\nimport { Menu, NoAnimationDropdown } from 'src/common/components';\r\nimport ShareMenuItems from 'src/dashboard/components/menu/ShareMenuItems';\r\nimport downloadAsImage from 'src/utils/downloadAsImage';\r\nimport getDashboardUrl from 'src/dashboard/util/getDashboardUrl';\r\nimport { getActiveFilters } from 'src/dashboard/util/activeDashboardFilters';\r\nimport { FeatureFlag, isFeatureEnabled } from 'src/featureFlags';\r\nimport CrossFilterScopingModal from 'src/dashboard/components/CrossFilterScopingModal/CrossFilterScopingModal';\r\nimport Icons from 'src/components/Icons';\r\nimport ModalTrigger from 'src/components/ModalTrigger';\r\nimport ViewQueryModal from 'src/explore/components/controls/ViewQueryModal';\r\n\r\nconst propTypes = {\r\n  slice: PropTypes.object.isRequired,\r\n  componentId: PropTypes.string.isRequired,\r\n  dashboardId: PropTypes.number.isRequired,\r\n  addDangerToast: PropTypes.func.isRequired,\r\n  isCached: PropTypes.arrayOf(PropTypes.bool),\r\n  cachedDttm: PropTypes.arrayOf(PropTypes.string),\r\n  isExpanded: PropTypes.bool,\r\n  updatedDttm: PropTypes.number,\r\n  supersetCanExplore: PropTypes.bool,\r\n  supersetCanShare: PropTypes.bool,\r\n  supersetCanCSV: PropTypes.bool,\r\n  sliceCanEdit: PropTypes.bool,\r\n  toggleExpandSlice: PropTypes.func,\r\n  forceRefresh: PropTypes.func,\r\n  exploreChart: PropTypes.func,\r\n  exportCSV: PropTypes.func,\r\n};\r\n\r\nconst defaultProps = {\r\n  forceRefresh: () => ({}),\r\n  toggleExpandSlice: () => ({}),\r\n  exploreChart: () => ({}),\r\n  exportCSV: () => ({}),\r\n  cachedDttm: [],\r\n  updatedDttm: null,\r\n  isCached: [],\r\n  isExpanded: false,\r\n  supersetCanExplore: false,\r\n  supersetCanShare: false,\r\n  supersetCanCSV: false,\r\n  sliceCanEdit: false,\r\n};\r\n\r\nconst MENU_KEYS = {\r\n  CROSS_FILTER_SCOPING: 'cross_filter_scoping',\r\n  FORCE_REFRESH: 'force_refresh',\r\n  TOGGLE_CHART_DESCRIPTION: 'toggle_chart_description',\r\n  EXPLORE_CHART: 'explore_chart',\r\n  EXPORT_CSV: 'export_csv',\r\n  RESIZE_LABEL: 'resize_label',\r\n  DOWNLOAD_AS_IMAGE: 'download_as_image',\r\n  VIEW_QUERY: 'view_query',\r\n};\r\n\r\nconst VerticalDotsContainer = styled.div`\r\n  padding: ${({ theme }) => theme.gridUnit / 4}px\r\n    ${({ theme }) => theme.gridUnit * 1.5}px;\r\n\r\n  .dot {\r\n    display: block;\r\n  }\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst RefreshTooltip = styled.div`\r\n  height: auto;\r\n  margin: ${({ theme }) => theme.gridUnit}px 0;\r\n  color: ${({ theme }) => theme.colors.grayscale.base};\r\n  line-height: ${({ theme }) => theme.typography.sizes.m * 1.5}px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n`;\r\n\r\nconst SCREENSHOT_NODE_SELECTOR = '.dashboard-component-chart-holder';\r\n\r\nconst VerticalDotsTrigger = () => (\r\n  <VerticalDotsContainer>\r\n    <span className=\"dot\" />\r\n    <span className=\"dot\" />\r\n    <span className=\"dot\" />\r\n  </VerticalDotsContainer>\r\n);\r\n\r\nclass SliceHeaderControls extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.toggleControls = this.toggleControls.bind(this);\r\n    this.refreshChart = this.refreshChart.bind(this);\r\n    this.handleMenuClick = this.handleMenuClick.bind(this);\r\n\r\n    this.state = {\r\n      showControls: false,\r\n      showCrossFilterScopingModal: false,\r\n    };\r\n  }\r\n\r\n  refreshChart() {\r\n    if (this.props.updatedDttm) {\r\n      this.props.forceRefresh(\r\n        this.props.slice.slice_id,\r\n        this.props.dashboardId,\r\n      );\r\n    }\r\n  }\r\n\r\n  toggleControls() {\r\n    this.setState(prevState => ({\r\n      showControls: !prevState.showControls,\r\n    }));\r\n  }\r\n\r\n  handleMenuClick({ key, domEvent }) {\r\n    switch (key) {\r\n      case MENU_KEYS.FORCE_REFRESH:\r\n        this.refreshChart();\r\n        break;\r\n      case MENU_KEYS.CROSS_FILTER_SCOPING:\r\n        this.setState({ showCrossFilterScopingModal: true });\r\n        break;\r\n      case MENU_KEYS.TOGGLE_CHART_DESCRIPTION:\r\n        this.props.toggleExpandSlice(this.props.slice.slice_id);\r\n        break;\r\n      case MENU_KEYS.EXPLORE_CHART:\r\n        this.props.exploreChart(this.props.slice.slice_id);\r\n        break;\r\n      case MENU_KEYS.EXPORT_CSV:\r\n        this.props.exportCSV(this.props.slice.slice_id);\r\n        break;\r\n      case MENU_KEYS.RESIZE_LABEL:\r\n        this.props.handleToggleFullSize();\r\n        break;\r\n      case MENU_KEYS.DOWNLOAD_AS_IMAGE: {\r\n        // menu closes with a delay, we need to hide it manually,\r\n        // so that we don't capture it on the screenshot\r\n        const menu = document.querySelector(\r\n          '.ant-dropdown:not(.ant-dropdown-hidden)',\r\n        );\r\n        menu.style.visibility = 'hidden';\r\n        downloadAsImage(\r\n          SCREENSHOT_NODE_SELECTOR,\r\n          this.props.slice.slice_name,\r\n        )(domEvent).then(() => {\r\n          menu.style.visibility = 'visible';\r\n        });\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      slice,\r\n      isCached,\r\n      cachedDttm,\r\n      updatedDttm,\r\n      componentId,\r\n      addSuccessToast,\r\n      addDangerToast,\r\n      isFullSize,\r\n      supersetCanShare,\r\n    } = this.props;\r\n    const crossFilterItems = getChartMetadataRegistry().items;\r\n    const isCrossFilter = Object.entries(crossFilterItems)\r\n      // @ts-ignore\r\n      .filter(([, { value }]) =>\r\n        value.behaviors?.includes(Behavior.INTERACTIVE_CHART),\r\n      )\r\n      .find(([key]) => key === slice.viz_type);\r\n\r\n    const cachedWhen = cachedDttm.map(itemCachedDttm =>\r\n      moment.utc(itemCachedDttm).fromNow(),\r\n    );\r\n    const updatedWhen = updatedDttm ? moment.utc(updatedDttm).fromNow() : '';\r\n    const getCachedTitle = itemCached => {\r\n      if (itemCached) {\r\n        return t('Cached %s', cachedWhen);\r\n      }\r\n      if (updatedWhen) {\r\n        return t('Fetched %s', updatedWhen);\r\n      }\r\n      return '';\r\n    };\r\n    const refreshTooltipData = isCached.map(getCachedTitle) || '';\r\n    // If all queries have same cache time we can unit them to one\r\n    let refreshTooltip = [...new Set(refreshTooltipData)];\r\n    refreshTooltip = refreshTooltip.map((item, index) => (\r\n      <div key={`tooltip-${index}`}>\r\n        {refreshTooltip.length > 1\r\n          ? `${t('Query')} ${index + 1}: ${item}`\r\n          : item}\r\n      </div>\r\n    ));\r\n    const resizeLabel = isFullSize ? t('Minimize chart') : t('Maximize chart');\r\n    const menu = (\r\n      <Menu\r\n        onClick={this.handleMenuClick}\r\n        selectable={false}\r\n        data-test={`slice_${slice.slice_id}-menu`}\r\n      >\r\n        <Menu.Item\r\n          key={MENU_KEYS.FORCE_REFRESH}\r\n          disabled={this.props.chartStatus === 'loading'}\r\n          style={{ height: 'auto', lineHeight: 'initial' }}\r\n          data-test=\"refresh-chart-menu-item\"\r\n        >\r\n          {t('Force refresh')}\r\n          <RefreshTooltip data-test=\"dashboard-slice-refresh-tooltip\">\r\n            {refreshTooltip}\r\n          </RefreshTooltip>\r\n        </Menu.Item>\r\n\r\n        <Menu.Divider />\r\n\r\n        {slice.description && (\r\n          <Menu.Item key={MENU_KEYS.TOGGLE_CHART_DESCRIPTION}>\r\n            {t('Toggle chart description')}\r\n          </Menu.Item>\r\n        )}\r\n\r\n        {this.props.supersetCanExplore && (\r\n          <Menu.Item key={MENU_KEYS.EXPLORE_CHART}>\r\n            {t('View chart in Explore')}\r\n          </Menu.Item>\r\n        )}\r\n\r\n        {this.props.supersetCanExplore && (\r\n          <Menu.Item key={MENU_KEYS.VIEW_QUERY}>\r\n            <ModalTrigger\r\n              triggerNode={\r\n                <span data-test=\"view-query-menu-item\">{t('View query')}</span>\r\n              }\r\n              modalTitle={t('View query')}\r\n              modalBody={\r\n                <ViewQueryModal latestQueryFormData={this.props.formData} />\r\n              }\r\n              responsive\r\n            />\r\n          </Menu.Item>\r\n        )}\r\n\r\n        {supersetCanShare && (\r\n          <ShareMenuItems\r\n            url={getDashboardUrl(\r\n              window.location.pathname,\r\n              getActiveFilters(),\r\n              componentId,\r\n            )}\r\n            copyMenuItemTitle={t('Copy chart URL')}\r\n            emailMenuItemTitle={t('Share chart by email')}\r\n            emailSubject={t('Superset chart')}\r\n            emailBody={t('Check out this chart: ')}\r\n            addSuccessToast={addSuccessToast}\r\n            addDangerToast={addDangerToast}\r\n          />\r\n        )}\r\n\r\n        <Menu.Item key={MENU_KEYS.RESIZE_LABEL}>{resizeLabel}</Menu.Item>\r\n\r\n        <Menu.Item key={MENU_KEYS.DOWNLOAD_AS_IMAGE}>\r\n          {t('Download as image')}\r\n        </Menu.Item>\r\n\r\n        {this.props.supersetCanCSV && (\r\n          <Menu.Item key={MENU_KEYS.EXPORT_CSV}>{t('Export CSV')}</Menu.Item>\r\n        )}\r\n        {isFeatureEnabled(FeatureFlag.DASHBOARD_CROSS_FILTERS) &&\r\n          isCrossFilter && (\r\n            <Menu.Item key={MENU_KEYS.CROSS_FILTER_SCOPING}>\r\n              {t('Cross-filter scoping')}\r\n            </Menu.Item>\r\n          )}\r\n      </Menu>\r\n    );\r\n\r\n    return (\r\n      <>\r\n        <CrossFilterScopingModal\r\n          chartId={slice.slice_id}\r\n          isOpen={this.state.showCrossFilterScopingModal}\r\n          onClose={() => this.setState({ showCrossFilterScopingModal: false })}\r\n        />\r\n        {isFullSize && (\r\n          <Icons.FullscreenExitOutlined\r\n            style={{ fontSize: 22 }}\r\n            onClick={() => {\r\n              this.props.handleToggleFullSize();\r\n            }}\r\n          />\r\n        )}\r\n        <NoAnimationDropdown\r\n          overlay={menu}\r\n          trigger={['click']}\r\n          placement=\"bottomRight\"\r\n          dropdownAlign={{\r\n            offset: [-40, 4],\r\n          }}\r\n          getPopupContainer={triggerNode =>\r\n            triggerNode.closest(SCREENSHOT_NODE_SELECTOR)\r\n          }\r\n        >\r\n          <span\r\n            id={`slice_${slice.slice_id}-controls`}\r\n            role=\"button\"\r\n            aria-label=\"More Options\"\r\n          >\r\n            <VerticalDotsTrigger />\r\n          </span>\r\n        </NoAnimationDropdown>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nSliceHeaderControls.propTypes = propTypes;\r\nSliceHeaderControls.defaultProps = defaultProps;\r\n\r\nexport default SliceHeaderControls;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport React from 'react';\r\nimport { StickyContainer, Sticky } from 'react-sticky';\r\nimport { styled } from '@superset-ui/core';\r\nimport cx from 'classnames';\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  width: ${({ theme }) => theme.gridUnit * 8}px;\r\n  flex: 0 0 ${({ theme }) => theme.gridUnit * 8}px;\r\n  /* these animations (which can be enabled with the \"animated\" class) look glitchy due to chart resizing */\r\n  /* keeping these for posterity, in case we can improve that resizing performance */\r\n  /* &.animated {\r\n    transition: width 0;\r\n    transition-delay: ${({ theme }) => theme.transitionTiming * 2}s;\r\n  } */\r\n  &.open {\r\n    width: 250px;\r\n    flex: 0 0 250px;\r\n    /* &.animated {\r\n      transition-delay: 0s;\r\n    } */\r\n  }\r\n`;\r\n\r\nconst Contents = styled.div`\r\n  display: grid;\r\n  position: absolute;\r\n  overflow: auto;\r\n  height: 100%;\r\n`;\r\n\r\nexport interface SVBProps {\r\n  topOffset: number;\r\n  width?: number;\r\n  filtersOpen: boolean;\r\n}\r\n\r\n/**\r\n * A vertical sidebar that uses sticky position to stay\r\n * fixed on the page after the sitenav is scrolled out of the viewport.\r\n *\r\n * TODO use css position: sticky when sufficiently supported\r\n * (should have better performance)\r\n */\r\nexport const StickyVerticalBar: React.FC<SVBProps> = ({\r\n  topOffset,\r\n  children,\r\n  filtersOpen,\r\n}) => (\r\n  <Wrapper className={cx({ open: filtersOpen })}>\r\n    <StickyContainer>\r\n      <Sticky topOffset={-topOffset} bottomOffset={Infinity}>\r\n        {({\r\n          style,\r\n          isSticky,\r\n          distanceFromTop,\r\n        }: {\r\n          style: any;\r\n          isSticky: boolean;\r\n          distanceFromTop: number;\r\n        }) => (\r\n          <Contents\r\n            style={\r\n              isSticky\r\n                ? {\r\n                    ...style,\r\n                    top: topOffset,\r\n                    height: `calc(100vh - ${topOffset}px)`,\r\n                  }\r\n                : {\r\n                    height: `calc(100vh - ${distanceFromTop}px)`,\r\n                  }\r\n            }\r\n          >\r\n            {children}\r\n          </Contents>\r\n        )}\r\n      </Sticky>\r\n    </StickyContainer>\r\n  </Wrapper>\r\n);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst propTypes = {\r\n  onUndo: PropTypes.func.isRequired,\r\n  onRedo: PropTypes.func.isRequired,\r\n};\r\n\r\nclass UndoRedoKeyListeners extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleKeydown = this.handleKeydown.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown(event) {\r\n    const controlOrCommand = event.ctrlKey || event.metaKey;\r\n    if (controlOrCommand) {\r\n      const isZChar = event.key === 'z' || event.keyCode === 90;\r\n      const isYChar = event.key === 'y' || event.keyCode === 89;\r\n      const isEditingMarkdown =\r\n        document && document.querySelector('.dashboard-markdown--editing');\r\n\r\n      if (!isEditingMarkdown && (isZChar || isYChar)) {\r\n        event.preventDefault();\r\n        const func = isZChar ? this.props.onUndo : this.props.onRedo;\r\n        func();\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nUndoRedoKeyListeners.propTypes = propTypes;\r\n\r\nexport default UndoRedoKeyListeners;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DragLayer } from 'react-dnd';\r\n\r\nimport AddSliceCard from '../AddSliceCard';\r\nimport { slicePropShape } from '../../util/propShapes';\r\nimport {\r\n  NEW_COMPONENT_SOURCE_TYPE,\r\n  CHART_TYPE,\r\n} from '../../util/componentTypes';\r\n\r\nconst staticCardStyles = {\r\n  position: 'fixed',\r\n  pointerEvents: 'none',\r\n  top: 0,\r\n  left: 0,\r\n  zIndex: 101, // this should be higher than top-level tabs\r\n  width: 376 - 2 * 16,\r\n};\r\n\r\nconst propTypes = {\r\n  dragItem: PropTypes.shape({\r\n    index: PropTypes.number.isRequired,\r\n  }),\r\n  slices: PropTypes.arrayOf(slicePropShape),\r\n  isDragging: PropTypes.bool.isRequired,\r\n  currentOffset: PropTypes.shape({\r\n    x: PropTypes.number.isRequired,\r\n    y: PropTypes.number.isRequired,\r\n  }),\r\n};\r\n\r\nconst defaultProps = {\r\n  currentOffset: null,\r\n  dragItem: null,\r\n  slices: null,\r\n};\r\n\r\nfunction AddSliceDragPreview({ dragItem, slices, isDragging, currentOffset }) {\r\n  if (!isDragging || !currentOffset || !dragItem || !slices) return null;\r\n\r\n  const slice = slices[dragItem.index];\r\n\r\n  // make sure it's a new component and a chart\r\n  const shouldRender =\r\n    slice &&\r\n    dragItem.parentType === NEW_COMPONENT_SOURCE_TYPE &&\r\n    dragItem.type === CHART_TYPE;\r\n\r\n  return !shouldRender ? null : (\r\n    <AddSliceCard\r\n      style={{\r\n        ...staticCardStyles,\r\n        transform: `translate(${currentOffset.x}px, ${currentOffset.y}px)`,\r\n      }}\r\n      sliceName={slice.slice_name}\r\n      lastModified={slice.changed_on_humanized}\r\n      visType={slice.viz_type}\r\n      datasourceUrl={slice.datasource_url}\r\n      datasourceName={slice.datasource_name}\r\n    />\r\n  );\r\n}\r\n\r\nAddSliceDragPreview.propTypes = propTypes;\r\nAddSliceDragPreview.defaultProps = defaultProps;\r\n\r\n// This injects these props into the component\r\nexport default DragLayer(monitor => ({\r\n  dragItem: monitor.getItem(),\r\n  currentOffset: monitor.getSourceClientOffset(),\r\n  isDragging: monitor.isDragging(),\r\n}))(AddSliceDragPreview);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { getEmptyImage } from 'react-dnd-html5-backend';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { DragSource, DropTarget } from 'react-dnd';\r\nimport cx from 'classnames';\r\n\r\nimport { componentShape } from '../../util/propShapes';\r\nimport { dragConfig, dropConfig } from './dragDroppableConfig';\r\nimport {\r\n  DROP_TOP,\r\n  DROP_RIGHT,\r\n  DROP_BOTTOM,\r\n  DROP_LEFT,\r\n} from '../../util/getDropPosition';\r\n\r\nconst propTypes = {\r\n  children: PropTypes.func,\r\n  className: PropTypes.string,\r\n  component: componentShape.isRequired,\r\n  parentComponent: componentShape,\r\n  depth: PropTypes.number.isRequired,\r\n  disableDragdrop: PropTypes.bool,\r\n  orientation: PropTypes.oneOf(['row', 'column']),\r\n  index: PropTypes.number.isRequired,\r\n  style: PropTypes.object,\r\n  onDrop: PropTypes.func,\r\n  editMode: PropTypes.bool.isRequired,\r\n  useEmptyDragPreview: PropTypes.bool,\r\n\r\n  // from react-dnd\r\n  isDragging: PropTypes.bool.isRequired,\r\n  isDraggingOver: PropTypes.bool.isRequired,\r\n  isDraggingOverShallow: PropTypes.bool.isRequired,\r\n  droppableRef: PropTypes.func.isRequired,\r\n  dragSourceRef: PropTypes.func.isRequired,\r\n  dragPreviewRef: PropTypes.func.isRequired,\r\n};\r\n\r\nconst defaultProps = {\r\n  className: null,\r\n  style: null,\r\n  parentComponent: null,\r\n  disableDragdrop: false,\r\n  children() {},\r\n  onDrop() {},\r\n  orientation: 'row',\r\n  useEmptyDragPreview: false,\r\n};\r\n\r\n// export unwrapped component for testing\r\nexport class UnwrappedDragDroppable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dropIndicator: null, // this gets set/modified by the react-dnd HOCs\r\n    };\r\n    this.setRef = this.setRef.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.mounted = true;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.mounted = false;\r\n  }\r\n\r\n  setRef(ref) {\r\n    this.ref = ref;\r\n    // this is needed for a custom drag preview\r\n    if (this.props.useEmptyDragPreview) {\r\n      this.props.dragPreviewRef(getEmptyImage(), {\r\n        // IE fallback: specify that we'd rather screenshot the node\r\n        // when it already knows it's being dragged so we can hide it with CSS.\r\n        captureDraggingState: true,\r\n      });\r\n    } else {\r\n      this.props.dragPreviewRef(ref);\r\n    }\r\n    this.props.droppableRef(ref);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      children,\r\n      className,\r\n      orientation,\r\n      dragSourceRef,\r\n      isDragging,\r\n      isDraggingOver,\r\n      style,\r\n      editMode,\r\n    } = this.props;\r\n\r\n    const { dropIndicator } = this.state;\r\n    const dropIndicatorProps =\r\n      isDraggingOver && dropIndicator\r\n        ? {\r\n            className: cx(\r\n              'drop-indicator',\r\n              dropIndicator === DROP_TOP && 'drop-indicator--top',\r\n              dropIndicator === DROP_BOTTOM && 'drop-indicator--bottom',\r\n              dropIndicator === DROP_LEFT && 'drop-indicator--left',\r\n              dropIndicator === DROP_RIGHT && 'drop-indicator--right',\r\n            ),\r\n          }\r\n        : null;\r\n\r\n    const childProps = editMode\r\n      ? {\r\n          dragSourceRef,\r\n          dropIndicatorProps,\r\n        }\r\n      : {};\r\n\r\n    return (\r\n      <div\r\n        style={style}\r\n        ref={this.setRef}\r\n        data-test=\"dragdroppable-object\"\r\n        className={cx(\r\n          'dragdroppable',\r\n          orientation === 'row' && 'dragdroppable-row',\r\n          orientation === 'column' && 'dragdroppable-column',\r\n          isDragging && 'dragdroppable--dragging',\r\n          className,\r\n        )}\r\n      >\r\n        {children(childProps)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nUnwrappedDragDroppable.propTypes = propTypes;\r\nUnwrappedDragDroppable.defaultProps = defaultProps;\r\n\r\n// note that the composition order here determines using\r\n// component.method() vs decoratedComponentInstance.method() in the drag/drop config\r\nexport default DragSource(...dragConfig)(\r\n  DropTarget(...dropConfig)(UnwrappedDragDroppable),\r\n);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\n\r\nconst propTypes = {\r\n  position: PropTypes.oneOf(['left', 'top']),\r\n  innerRef: PropTypes.func,\r\n  dotCount: PropTypes.number,\r\n};\r\n\r\nconst defaultProps = {\r\n  position: 'left',\r\n  innerRef: null,\r\n  dotCount: 8,\r\n};\r\n\r\nexport default class DragHandle extends React.PureComponent {\r\n  render() {\r\n    const { innerRef, position, dotCount } = this.props;\r\n    return (\r\n      <div\r\n        ref={innerRef}\r\n        className={cx(\r\n          'drag-handle',\r\n          position === 'left' && 'drag-handle--left',\r\n          position === 'top' && 'drag-handle--top',\r\n        )}\r\n      >\r\n        {Array(dotCount)\r\n          .fill(null)\r\n          .map((_, i) => (\r\n            <div key={`handle-dot-${i}`} className=\"drag-handle-dot\" />\r\n          ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDragHandle.propTypes = propTypes;\r\nDragHandle.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport handleHover from './handleHover';\r\nimport handleDrop from './handleDrop';\r\n\r\n// note: the 'type' hook is not useful for us as dropping is contigent on other properties\r\nconst TYPE = 'DRAG_DROPPABLE';\r\n\r\nexport const dragConfig = [\r\n  TYPE,\r\n  {\r\n    canDrag(props) {\r\n      return !props.disableDragDrop;\r\n    },\r\n\r\n    // this defines the dragging item object returned by monitor.getItem()\r\n    beginDrag(props /* , monitor, component */) {\r\n      const { component, index, parentComponent = {} } = props;\r\n      return {\r\n        type: component.type,\r\n        id: component.id,\r\n        meta: component.meta,\r\n        index,\r\n        parentId: parentComponent.id,\r\n        parentType: parentComponent.type,\r\n      };\r\n    },\r\n  },\r\n  function dragStateToProps(connect, monitor) {\r\n    return {\r\n      dragSourceRef: connect.dragSource(),\r\n      dragPreviewRef: connect.dragPreview(),\r\n      isDragging: monitor.isDragging(),\r\n    };\r\n  },\r\n];\r\n\r\nexport const dropConfig = [\r\n  TYPE,\r\n  {\r\n    hover(props, monitor, component) {\r\n      if (component && component.mounted) {\r\n        handleHover(props, monitor, component);\r\n      }\r\n    },\r\n    // note:\r\n    //  the react-dnd api requires that the drop() method return a result or undefined\r\n    //  monitor.didDrop() cannot be used because it returns true only for the most-nested target\r\n    drop(props, monitor, component) {\r\n      const dropResult = monitor.getDropResult();\r\n      if ((!dropResult || !dropResult.destination) && component.mounted) {\r\n        return handleDrop(props, monitor, component);\r\n      }\r\n      return undefined;\r\n    },\r\n  },\r\n  function dropStateToProps(connect, monitor) {\r\n    return {\r\n      droppableRef: connect.dropTarget(),\r\n      isDraggingOver: monitor.isOver(),\r\n      isDraggingOverShallow: monitor.isOver({ shallow: true }),\r\n    };\r\n  },\r\n];\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport getDropPosition, {\r\n  clearDropCache,\r\n  DROP_TOP,\r\n  DROP_RIGHT,\r\n  DROP_BOTTOM,\r\n  DROP_LEFT,\r\n} from '../../util/getDropPosition';\r\n\r\nexport default function handleDrop(props, monitor, Component) {\r\n  // this may happen due to throttling\r\n  if (!Component.mounted) return undefined;\r\n\r\n  Component.setState(() => ({ dropIndicator: null }));\r\n  const dropPosition = getDropPosition(monitor, Component);\r\n\r\n  if (!dropPosition) {\r\n    return undefined;\r\n  }\r\n\r\n  const {\r\n    parentComponent,\r\n    component,\r\n    index: componentIndex,\r\n    onDrop,\r\n    orientation,\r\n  } = Component.props;\r\n\r\n  const draggingItem = monitor.getItem();\r\n\r\n  const dropAsChildOrSibling =\r\n    (orientation === 'row' &&\r\n      (dropPosition === DROP_TOP || dropPosition === DROP_BOTTOM)) ||\r\n    (orientation === 'column' &&\r\n      (dropPosition === DROP_LEFT || dropPosition === DROP_RIGHT))\r\n      ? 'sibling'\r\n      : 'child';\r\n\r\n  const dropResult = {\r\n    source: {\r\n      id: draggingItem.parentId,\r\n      type: draggingItem.parentType,\r\n      index: draggingItem.index,\r\n    },\r\n    dragging: {\r\n      id: draggingItem.id,\r\n      type: draggingItem.type,\r\n      meta: draggingItem.meta,\r\n    },\r\n  };\r\n\r\n  // simplest case, append as child\r\n  if (dropAsChildOrSibling === 'child') {\r\n    dropResult.destination = {\r\n      id: component.id,\r\n      type: component.type,\r\n      index: component.children.length,\r\n    };\r\n  } else {\r\n    // if the item is in the same list with a smaller index, you must account for the\r\n    // \"missing\" index upon movement within the list\r\n    const sameParent =\r\n      parentComponent && draggingItem.parentId === parentComponent.id;\r\n    const sameParentLowerIndex =\r\n      sameParent && draggingItem.index < componentIndex;\r\n\r\n    let nextIndex = sameParentLowerIndex ? componentIndex - 1 : componentIndex;\r\n    if (dropPosition === DROP_BOTTOM || dropPosition === DROP_RIGHT) {\r\n      nextIndex += 1;\r\n    }\r\n\r\n    dropResult.destination = {\r\n      id: parentComponent.id,\r\n      type: parentComponent.type,\r\n      index: nextIndex,\r\n    };\r\n  }\r\n\r\n  onDrop(dropResult);\r\n  clearDropCache();\r\n\r\n  return dropResult;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { throttle } from 'lodash';\r\nimport { DASHBOARD_ROOT_TYPE } from 'src/dashboard/util/componentTypes';\r\nimport getDropPosition from 'src/dashboard/util/getDropPosition';\r\nimport handleScroll from './handleScroll';\r\n\r\nconst HOVER_THROTTLE_MS = 100;\r\n\r\nfunction handleHover(props, monitor, Component) {\r\n  // this may happen due to throttling\r\n  if (!Component.mounted) return;\r\n\r\n  const dropPosition = getDropPosition(monitor, Component);\r\n\r\n  const isDashboardRoot =\r\n    Component?.props?.component?.type === DASHBOARD_ROOT_TYPE;\r\n  const scroll = isDashboardRoot ? 'SCROLL_TOP' : null;\r\n\r\n  handleScroll(scroll);\r\n\r\n  if (!dropPosition) {\r\n    Component.setState(() => ({ dropIndicator: null }));\r\n    return;\r\n  }\r\n\r\n  Component.setState(() => ({\r\n    dropIndicator: dropPosition,\r\n  }));\r\n}\r\n\r\n// this is called very frequently by react-dnd\r\nexport default throttle(handleHover, HOVER_THROTTLE_MS);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nlet scrollTopDashboardInterval: any;\r\nconst SCROLL_STEP = 120;\r\nconst INTERVAL_DELAY = 50;\r\n\r\nexport default function handleScroll(scroll: string) {\r\n  const setupScroll =\r\n    scroll === 'SCROLL_TOP' &&\r\n    !scrollTopDashboardInterval &&\r\n    document.documentElement.scrollTop !== 0;\r\n\r\n  const clearScroll =\r\n    scrollTopDashboardInterval &&\r\n    (scroll !== 'SCROLL_TOP' || document.documentElement.scrollTop === 0);\r\n\r\n  if (setupScroll) {\r\n    scrollTopDashboardInterval = setInterval(() => {\r\n      if (document.documentElement.scrollTop === 0) {\r\n        clearInterval(scrollTopDashboardInterval);\r\n        scrollTopDashboardInterval = null;\r\n        return;\r\n      }\r\n\r\n      let scrollTop = document.documentElement.scrollTop - SCROLL_STEP;\r\n      if (scrollTop < 0) {\r\n        scrollTop = 0;\r\n      }\r\n      window.scroll({\r\n        top: scrollTop,\r\n        behavior: 'smooth',\r\n      });\r\n    }, INTERVAL_DELAY);\r\n  } else if (clearScroll) {\r\n    clearInterval(scrollTopDashboardInterval);\r\n    scrollTopDashboardInterval = null;\r\n  }\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\nimport { FormLabel } from 'src/components/Form';\r\n\r\nconst propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  isSelected: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default function FilterFieldItem({ label, isSelected }) {\r\n  return (\r\n    <span\r\n      className={cx('filter-field-item filter-container', {\r\n        'is-selected': isSelected,\r\n      })}\r\n    >\r\n      <FormLabel htmlFor={label}>{label}</FormLabel>\r\n    </span>\r\n  );\r\n}\r\n\r\nFilterFieldItem.propTypes = propTypes;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CheckboxTree from 'react-checkbox-tree';\r\nimport { filterScopeSelectorTreeNodePropShape } from 'src/dashboard/util/propShapes';\r\nimport treeIcons from './treeIcons';\r\nimport renderFilterFieldTreeNodes from './renderFilterFieldTreeNodes';\r\n\r\nconst propTypes = {\r\n  activeKey: PropTypes.string,\r\n  nodes: PropTypes.arrayOf(filterScopeSelectorTreeNodePropShape).isRequired,\r\n  checked: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n  ).isRequired,\r\n  expanded: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n  ).isRequired,\r\n  onCheck: PropTypes.func.isRequired,\r\n  onExpand: PropTypes.func.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nconst defaultProps = {\r\n  activeKey: null,\r\n};\r\n\r\nexport default function FilterFieldTree({\r\n  activeKey,\r\n  nodes = [],\r\n  checked = [],\r\n  expanded = [],\r\n  onClick,\r\n  onCheck,\r\n  onExpand,\r\n}) {\r\n  return (\r\n    <CheckboxTree\r\n      showExpandAll\r\n      showNodeIcon={false}\r\n      expandOnClick\r\n      nodes={renderFilterFieldTreeNodes({ nodes, activeKey })}\r\n      checked={checked}\r\n      expanded={expanded}\r\n      onClick={onClick}\r\n      onCheck={onCheck}\r\n      onExpand={onExpand}\r\n      icons={treeIcons}\r\n    />\r\n  );\r\n}\r\n\r\nFilterFieldTree.propTypes = propTypes;\r\nFilterFieldTree.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { RefObject } from 'react';\r\nimport { styled } from '@superset-ui/core';\r\nimport ModalTrigger from 'src/components/ModalTrigger';\r\nimport FilterScope from 'src/dashboard/containers/FilterScope';\r\n\r\ntype FilterScopeModalProps = {\r\n  triggerNode: JSX.Element;\r\n};\r\n\r\nconst FilterScopeModalBody = styled.div(({ theme: { gridUnit } }) => ({\r\n  padding: gridUnit * 2,\r\n  paddingBottom: gridUnit * 3,\r\n}));\r\n\r\nexport default class FilterScopeModal extends React.PureComponent<\r\n  FilterScopeModalProps,\r\n  {}\r\n> {\r\n  modal: RefObject<ModalTrigger>;\r\n\r\n  constructor(props: FilterScopeModalProps) {\r\n    super(props);\r\n\r\n    this.modal = React.createRef();\r\n    this.handleCloseModal = this.handleCloseModal.bind(this);\r\n  }\r\n\r\n  handleCloseModal(): void {\r\n    if (this.modal.current) {\r\n      this.modal.current.close();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const filterScopeProps = {\r\n      onCloseModal: this.handleCloseModal,\r\n    };\r\n\r\n    return (\r\n      <ModalTrigger\r\n        ref={this.modal}\r\n        triggerNode={this.props.triggerNode}\r\n        modalBody={\r\n          <FilterScopeModalBody>\r\n            <FilterScope {...filterScopeProps} />\r\n          </FilterScopeModalBody>\r\n        }\r\n        width=\"80%\"\r\n      />\r\n    );\r\n  }\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\nimport Button from 'src/components/Button';\r\nimport { t, styled } from '@superset-ui/core';\r\n\r\nimport buildFilterScopeTreeEntry from 'src/dashboard/util/buildFilterScopeTreeEntry';\r\nimport getFilterScopeNodesTree from 'src/dashboard/util/getFilterScopeNodesTree';\r\nimport getFilterFieldNodesTree from 'src/dashboard/util/getFilterFieldNodesTree';\r\nimport getFilterScopeParentNodes from 'src/dashboard/util/getFilterScopeParentNodes';\r\nimport getKeyForFilterScopeTree from 'src/dashboard/util/getKeyForFilterScopeTree';\r\nimport getSelectedChartIdForFilterScopeTree from 'src/dashboard/util/getSelectedChartIdForFilterScopeTree';\r\nimport getFilterScopeFromNodesTree from 'src/dashboard/util/getFilterScopeFromNodesTree';\r\nimport getRevertedFilterScope from 'src/dashboard/util/getRevertedFilterScope';\r\nimport { getChartIdsInFilterScope } from 'src/dashboard/util/activeDashboardFilters';\r\nimport {\r\n  getChartIdAndColumnFromFilterKey,\r\n  getDashboardFilterKey,\r\n} from 'src/dashboard/util/getDashboardFilterKey';\r\nimport { ALL_FILTERS_ROOT } from 'src/dashboard/util/constants';\r\nimport { dashboardFilterPropShape } from 'src/dashboard/util/propShapes';\r\nimport FilterScopeTree from './FilterScopeTree';\r\nimport FilterFieldTree from './FilterFieldTree';\r\n\r\nconst propTypes = {\r\n  dashboardFilters: PropTypes.objectOf(dashboardFilterPropShape).isRequired,\r\n  layout: PropTypes.object.isRequired,\r\n\r\n  updateDashboardFiltersScope: PropTypes.func.isRequired,\r\n  setUnsavedChanges: PropTypes.func.isRequired,\r\n  onCloseModal: PropTypes.func.isRequired,\r\n};\r\n\r\nconst ActionsContainer = styled.div`\r\n  height: ${({ theme }) => theme.gridUnit * 16}px;\r\n\r\n  // TODO: replace hardcoded color with theme variable after refactoring filter-scope-selector.less to Emotion\r\n  border-top: ${({ theme }) => theme.gridUnit / 4}px solid #cfd8dc;\r\n  padding: ${({ theme }) => theme.gridUnit * 6}px;\r\n  margin: 0 0 0 ${({ theme }) => -theme.gridUnit * 6}px;\r\n  text-align: right;\r\n\r\n  .btn {\r\n    margin-right: ${({ theme }) => theme.gridUnit * 4}px;\r\n\r\n    &:last-child {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default class FilterScopeSelector extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const { dashboardFilters, layout } = props;\r\n\r\n    if (Object.keys(dashboardFilters).length > 0) {\r\n      // display filter fields in tree structure\r\n      const filterFieldNodes = getFilterFieldNodesTree({\r\n        dashboardFilters,\r\n      });\r\n      // filterFieldNodes root node is dashboard_root component,\r\n      // so that we can offer a select/deselect all link\r\n      const filtersNodes = filterFieldNodes[0].children;\r\n      this.allfilterFields = [];\r\n      filtersNodes.forEach(({ children }) => {\r\n        children.forEach(child => {\r\n          this.allfilterFields.push(child.value);\r\n        });\r\n      });\r\n      this.defaultFilterKey = filtersNodes[0].children[0].value;\r\n\r\n      // build FilterScopeTree object for each filterKey\r\n      const filterScopeMap = Object.values(dashboardFilters).reduce(\r\n        (map, { chartId: filterId, columns }) => {\r\n          const filterScopeByChartId = Object.keys(columns).reduce(\r\n            (mapByChartId, columnName) => {\r\n              const filterKey = getDashboardFilterKey({\r\n                chartId: filterId,\r\n                column: columnName,\r\n              });\r\n              const nodes = getFilterScopeNodesTree({\r\n                components: layout,\r\n                filterFields: [filterKey],\r\n                selectedChartId: filterId,\r\n              });\r\n              const expanded = getFilterScopeParentNodes(nodes, 1);\r\n              // force display filter_box chart as unchecked, but show checkbox as disabled\r\n              const chartIdsInFilterScope = (\r\n                getChartIdsInFilterScope({\r\n                  filterScope: dashboardFilters[filterId].scopes[columnName],\r\n                }) || []\r\n              ).filter(id => id !== filterId);\r\n\r\n              return {\r\n                ...mapByChartId,\r\n                [filterKey]: {\r\n                  // unfiltered nodes\r\n                  nodes,\r\n                  // filtered nodes in display if searchText is not empty\r\n                  nodesFiltered: [...nodes],\r\n                  checked: chartIdsInFilterScope,\r\n                  expanded,\r\n                },\r\n              };\r\n            },\r\n            {},\r\n          );\r\n\r\n          return {\r\n            ...map,\r\n            ...filterScopeByChartId,\r\n          };\r\n        },\r\n        {},\r\n      );\r\n\r\n      // initial state: active defaultFilerKey\r\n      const { chartId } = getChartIdAndColumnFromFilterKey(\r\n        this.defaultFilterKey,\r\n      );\r\n      const checkedFilterFields = [];\r\n      const activeFilterField = this.defaultFilterKey;\r\n      // expand defaultFilterKey in filter field tree\r\n      const expandedFilterIds = [ALL_FILTERS_ROOT].concat(chartId);\r\n\r\n      const filterScopeTreeEntry = buildFilterScopeTreeEntry({\r\n        checkedFilterFields,\r\n        activeFilterField,\r\n        filterScopeMap,\r\n        layout,\r\n      });\r\n      this.state = {\r\n        showSelector: true,\r\n        activeFilterField,\r\n        searchText: '',\r\n        filterScopeMap: {\r\n          ...filterScopeMap,\r\n          ...filterScopeTreeEntry,\r\n        },\r\n        filterFieldNodes,\r\n        checkedFilterFields,\r\n        expandedFilterIds,\r\n      };\r\n    } else {\r\n      this.state = {\r\n        showSelector: false,\r\n      };\r\n    }\r\n\r\n    this.filterNodes = this.filterNodes.bind(this);\r\n    this.onChangeFilterField = this.onChangeFilterField.bind(this);\r\n    this.onCheckFilterScope = this.onCheckFilterScope.bind(this);\r\n    this.onExpandFilterScope = this.onExpandFilterScope.bind(this);\r\n    this.onSearchInputChange = this.onSearchInputChange.bind(this);\r\n    this.onCheckFilterField = this.onCheckFilterField.bind(this);\r\n    this.onExpandFilterField = this.onExpandFilterField.bind(this);\r\n    this.onClose = this.onClose.bind(this);\r\n    this.onSave = this.onSave.bind(this);\r\n  }\r\n\r\n  onCheckFilterScope(checked = []) {\r\n    const {\r\n      activeFilterField,\r\n      filterScopeMap,\r\n      checkedFilterFields,\r\n    } = this.state;\r\n\r\n    const key = getKeyForFilterScopeTree({\r\n      activeFilterField,\r\n      checkedFilterFields,\r\n    });\r\n    const editingList = activeFilterField\r\n      ? [activeFilterField]\r\n      : checkedFilterFields;\r\n    const updatedEntry = {\r\n      ...filterScopeMap[key],\r\n      checked,\r\n    };\r\n\r\n    const updatedFilterScopeMap = getRevertedFilterScope({\r\n      checked,\r\n      filterFields: editingList,\r\n      filterScopeMap,\r\n    });\r\n\r\n    this.setState(() => ({\r\n      filterScopeMap: {\r\n        ...filterScopeMap,\r\n        ...updatedFilterScopeMap,\r\n        [key]: updatedEntry,\r\n      },\r\n    }));\r\n  }\r\n\r\n  onExpandFilterScope(expanded = []) {\r\n    const {\r\n      activeFilterField,\r\n      checkedFilterFields,\r\n      filterScopeMap,\r\n    } = this.state;\r\n    const key = getKeyForFilterScopeTree({\r\n      activeFilterField,\r\n      checkedFilterFields,\r\n    });\r\n    const updatedEntry = {\r\n      ...filterScopeMap[key],\r\n      expanded,\r\n    };\r\n    this.setState(() => ({\r\n      filterScopeMap: {\r\n        ...filterScopeMap,\r\n        [key]: updatedEntry,\r\n      },\r\n    }));\r\n  }\r\n\r\n  onCheckFilterField(checkedFilterFields = []) {\r\n    const { layout } = this.props;\r\n    const { filterScopeMap } = this.state;\r\n    const filterScopeTreeEntry = buildFilterScopeTreeEntry({\r\n      checkedFilterFields,\r\n      activeFilterField: null,\r\n      filterScopeMap,\r\n      layout,\r\n    });\r\n\r\n    this.setState(() => ({\r\n      activeFilterField: null,\r\n      checkedFilterFields,\r\n      filterScopeMap: {\r\n        ...filterScopeMap,\r\n        ...filterScopeTreeEntry,\r\n      },\r\n    }));\r\n  }\r\n\r\n  onExpandFilterField(expandedFilterIds = []) {\r\n    this.setState(() => ({\r\n      expandedFilterIds,\r\n    }));\r\n  }\r\n\r\n  onChangeFilterField(filterField = {}) {\r\n    const { layout } = this.props;\r\n    const nextActiveFilterField = filterField.value;\r\n    const {\r\n      activeFilterField: currentActiveFilterField,\r\n      checkedFilterFields,\r\n      filterScopeMap,\r\n    } = this.state;\r\n\r\n    // we allow single edit and multiple edit in the same view.\r\n    // if user click on the single filter field,\r\n    // will show filter scope for the single field.\r\n    // if user click on the same filter filed again,\r\n    // will toggle off the single filter field,\r\n    // and allow multi-edit all checked filter fields.\r\n    if (nextActiveFilterField === currentActiveFilterField) {\r\n      const filterScopeTreeEntry = buildFilterScopeTreeEntry({\r\n        checkedFilterFields,\r\n        activeFilterField: null,\r\n        filterScopeMap,\r\n        layout,\r\n      });\r\n\r\n      this.setState({\r\n        activeFilterField: null,\r\n        filterScopeMap: {\r\n          ...filterScopeMap,\r\n          ...filterScopeTreeEntry,\r\n        },\r\n      });\r\n    } else if (this.allfilterFields.includes(nextActiveFilterField)) {\r\n      const filterScopeTreeEntry = buildFilterScopeTreeEntry({\r\n        checkedFilterFields,\r\n        activeFilterField: nextActiveFilterField,\r\n        filterScopeMap,\r\n        layout,\r\n      });\r\n\r\n      this.setState({\r\n        activeFilterField: nextActiveFilterField,\r\n        filterScopeMap: {\r\n          ...filterScopeMap,\r\n          ...filterScopeTreeEntry,\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  onSearchInputChange(e) {\r\n    this.setState({ searchText: e.target.value }, this.filterTree);\r\n  }\r\n\r\n  onClose() {\r\n    this.props.onCloseModal();\r\n  }\r\n\r\n  onSave() {\r\n    const { filterScopeMap } = this.state;\r\n\r\n    const allFilterFieldScopes = this.allfilterFields.reduce(\r\n      (map, filterKey) => {\r\n        const { nodes } = filterScopeMap[filterKey];\r\n        const checkedChartIds = filterScopeMap[filterKey].checked;\r\n\r\n        return {\r\n          ...map,\r\n          [filterKey]: getFilterScopeFromNodesTree({\r\n            filterKey,\r\n            nodes,\r\n            checkedChartIds,\r\n          }),\r\n        };\r\n      },\r\n      {},\r\n    );\r\n\r\n    this.props.updateDashboardFiltersScope(allFilterFieldScopes);\r\n    this.props.setUnsavedChanges(true);\r\n\r\n    // click Save button will do save and close modal\r\n    this.props.onCloseModal();\r\n  }\r\n\r\n  filterTree() {\r\n    // Reset nodes back to unfiltered state\r\n    if (!this.state.searchText) {\r\n      this.setState(prevState => {\r\n        const {\r\n          activeFilterField,\r\n          checkedFilterFields,\r\n          filterScopeMap,\r\n        } = prevState;\r\n        const key = getKeyForFilterScopeTree({\r\n          activeFilterField,\r\n          checkedFilterFields,\r\n        });\r\n\r\n        const updatedEntry = {\r\n          ...filterScopeMap[key],\r\n          nodesFiltered: filterScopeMap[key].nodes,\r\n        };\r\n        return {\r\n          filterScopeMap: {\r\n            ...filterScopeMap,\r\n            [key]: updatedEntry,\r\n          },\r\n        };\r\n      });\r\n    } else {\r\n      const updater = prevState => {\r\n        const {\r\n          activeFilterField,\r\n          checkedFilterFields,\r\n          filterScopeMap,\r\n        } = prevState;\r\n        const key = getKeyForFilterScopeTree({\r\n          activeFilterField,\r\n          checkedFilterFields,\r\n        });\r\n\r\n        const nodesFiltered = filterScopeMap[key].nodes.reduce(\r\n          this.filterNodes,\r\n          [],\r\n        );\r\n        const expanded = getFilterScopeParentNodes([...nodesFiltered]);\r\n        const updatedEntry = {\r\n          ...filterScopeMap[key],\r\n          nodesFiltered,\r\n          expanded,\r\n        };\r\n\r\n        return {\r\n          filterScopeMap: {\r\n            ...filterScopeMap,\r\n            [key]: updatedEntry,\r\n          },\r\n        };\r\n      };\r\n\r\n      this.setState(updater);\r\n    }\r\n  }\r\n\r\n  filterNodes(filtered = [], node = {}) {\r\n    const { searchText } = this.state;\r\n    const children = (node.children || []).reduce(this.filterNodes, []);\r\n\r\n    if (\r\n      // Node's label matches the search string\r\n      node.label.toLocaleLowerCase().indexOf(searchText.toLocaleLowerCase()) >\r\n        -1 ||\r\n      // Or a children has a matching node\r\n      children.length\r\n    ) {\r\n      filtered.push({ ...node, children });\r\n    }\r\n\r\n    return filtered;\r\n  }\r\n\r\n  renderFilterFieldList() {\r\n    const {\r\n      activeFilterField,\r\n      filterFieldNodes,\r\n      checkedFilterFields,\r\n      expandedFilterIds,\r\n    } = this.state;\r\n    return (\r\n      <FilterFieldTree\r\n        activeKey={activeFilterField}\r\n        nodes={filterFieldNodes}\r\n        checked={checkedFilterFields}\r\n        expanded={expandedFilterIds}\r\n        onClick={this.onChangeFilterField}\r\n        onCheck={this.onCheckFilterField}\r\n        onExpand={this.onExpandFilterField}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderFilterScopeTree() {\r\n    const {\r\n      filterScopeMap,\r\n      activeFilterField,\r\n      checkedFilterFields,\r\n      searchText,\r\n    } = this.state;\r\n\r\n    const key = getKeyForFilterScopeTree({\r\n      activeFilterField,\r\n      checkedFilterFields,\r\n    });\r\n\r\n    const selectedChartId = getSelectedChartIdForFilterScopeTree({\r\n      activeFilterField,\r\n      checkedFilterFields,\r\n    });\r\n    return (\r\n      <>\r\n        <input\r\n          className=\"filter-text scope-search multi-edit-mode\"\r\n          placeholder={t('Search...')}\r\n          type=\"text\"\r\n          value={searchText}\r\n          onChange={this.onSearchInputChange}\r\n        />\r\n        <FilterScopeTree\r\n          nodes={filterScopeMap[key].nodesFiltered}\r\n          checked={filterScopeMap[key].checked}\r\n          expanded={filterScopeMap[key].expanded}\r\n          onCheck={this.onCheckFilterScope}\r\n          onExpand={this.onExpandFilterScope}\r\n          // pass selectedFilterId prop to FilterScopeTree component,\r\n          // to hide checkbox for selected filter field itself\r\n          selectedChartId={selectedChartId}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n\r\n  renderEditingFiltersName() {\r\n    const { dashboardFilters } = this.props;\r\n    const { activeFilterField, checkedFilterFields } = this.state;\r\n    const currentFilterLabels = []\r\n      .concat(activeFilterField || checkedFilterFields)\r\n      .map(key => {\r\n        const { chartId, column } = getChartIdAndColumnFromFilterKey(key);\r\n        return dashboardFilters[chartId].labels[column] || column;\r\n      });\r\n\r\n    return (\r\n      <div className=\"selected-fields multi-edit-mode\">\r\n        {currentFilterLabels.length === 0 && t('No filter is selected.')}\r\n        {currentFilterLabels.length === 1 && t('Editing 1 filter:')}\r\n        {currentFilterLabels.length > 1 &&\r\n          t('Batch editing %d filters:', currentFilterLabels.length)}\r\n        <span className=\"selected-scopes\">\r\n          {currentFilterLabels.join(', ')}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { showSelector } = this.state;\r\n\r\n    return (\r\n      <div className=\"filter-scope-container\">\r\n        <div className=\"filter-scope-header\">\r\n          <h4>{t('Configure filter scopes')}</h4>\r\n          {showSelector && this.renderEditingFiltersName()}\r\n        </div>\r\n\r\n        <div className=\"filter-scope-body\">\r\n          {!showSelector ? (\r\n            <div className=\"warning-message\">\r\n              {t('There are no filters in this dashboard.')}\r\n            </div>\r\n          ) : (\r\n            <div className=\"filters-scope-selector\">\r\n              <div className={cx('filter-field-pane multi-edit-mode')}>\r\n                {this.renderFilterFieldList()}\r\n              </div>\r\n              <div className=\"filter-scope-pane multi-edit-mode\">\r\n                {this.renderFilterScopeTree()}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <ActionsContainer>\r\n          <Button buttonSize=\"small\" onClick={this.onClose}>\r\n            {t('Close')}\r\n          </Button>\r\n          {showSelector && (\r\n            <Button\r\n              buttonSize=\"small\"\r\n              buttonStyle=\"primary\"\r\n              onClick={this.onSave}\r\n            >\r\n              {t('Save')}\r\n            </Button>\r\n          )}\r\n        </ActionsContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFilterScopeSelector.propTypes = propTypes;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CheckboxTree from 'react-checkbox-tree';\r\nimport { filterScopeSelectorTreeNodePropShape } from 'src/dashboard/util/propShapes';\r\nimport renderFilterScopeTreeNodes from './renderFilterScopeTreeNodes';\r\nimport treeIcons from './treeIcons';\r\n\r\nconst propTypes = {\r\n  nodes: PropTypes.arrayOf(filterScopeSelectorTreeNodePropShape).isRequired,\r\n  checked: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n  ).isRequired,\r\n  expanded: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n  ).isRequired,\r\n  onCheck: PropTypes.func.isRequired,\r\n  onExpand: PropTypes.func.isRequired,\r\n  selectedChartId: PropTypes.number,\r\n};\r\n\r\nconst defaultProps = {\r\n  selectedChartId: null,\r\n};\r\n\r\nconst NOOP = () => {};\r\n\r\nexport default function FilterScopeTree({\r\n  nodes = [],\r\n  checked = [],\r\n  expanded = [],\r\n  onCheck,\r\n  onExpand,\r\n  selectedChartId,\r\n}) {\r\n  return (\r\n    <CheckboxTree\r\n      showExpandAll\r\n      expandOnClick\r\n      showNodeIcon={false}\r\n      nodes={renderFilterScopeTreeNodes({ nodes, selectedChartId })}\r\n      checked={checked}\r\n      expanded={expanded}\r\n      onCheck={onCheck}\r\n      onExpand={onExpand}\r\n      onClick={NOOP}\r\n      icons={treeIcons}\r\n    />\r\n  );\r\n}\r\n\r\nFilterScopeTree.propTypes = propTypes;\r\nFilterScopeTree.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport FilterFieldItem from './FilterFieldItem';\r\n\r\nexport default function renderFilterFieldTreeNodes({ nodes, activeKey }) {\r\n  if (!nodes) {\r\n    return [];\r\n  }\r\n\r\n  const root = nodes[0];\r\n  const allFilterNodes = root.children;\r\n  const children = allFilterNodes.map(node => ({\r\n    ...node,\r\n    children: node.children.map(child => {\r\n      const { label, value } = child;\r\n      return {\r\n        ...child,\r\n        label: (\r\n          <FilterFieldItem isSelected={value === activeKey} label={label} />\r\n        ),\r\n      };\r\n    }),\r\n  }));\r\n\r\n  return [\r\n    {\r\n      ...root,\r\n      label: <span className=\"root\">{root.label}</span>,\r\n      children,\r\n    },\r\n  ];\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport cx from 'classnames';\r\n\r\nimport ChartIcon from 'src/components/ChartIcon';\r\nimport { CHART_TYPE } from 'src/dashboard/util/componentTypes';\r\n\r\nfunction traverse({ currentNode = {}, selectedChartId }) {\r\n  if (!currentNode) {\r\n    return null;\r\n  }\r\n\r\n  const { label, value, type, children } = currentNode;\r\n  if (children && children.length) {\r\n    const updatedChildren = children.map(child =>\r\n      traverse({ currentNode: child, selectedChartId }),\r\n    );\r\n    return {\r\n      ...currentNode,\r\n      label: (\r\n        <span\r\n          className={cx(`filter-scope-type ${type.toLowerCase()}`, {\r\n            'selected-filter': selectedChartId === value,\r\n          })}\r\n        >\r\n          {type === CHART_TYPE && (\r\n            <span className=\"type-indicator\">\r\n              <ChartIcon />\r\n            </span>\r\n          )}\r\n          {label}\r\n        </span>\r\n      ),\r\n      children: updatedChildren,\r\n    };\r\n  }\r\n  return {\r\n    ...currentNode,\r\n    label: (\r\n      <span\r\n        className={cx(`filter-scope-type ${type.toLowerCase()}`, {\r\n          'selected-filter': selectedChartId === value,\r\n        })}\r\n      >\r\n        {label}\r\n      </span>\r\n    ),\r\n  };\r\n}\r\n\r\nexport default function renderFilterScopeTreeNodes({ nodes, selectedChartId }) {\r\n  if (!nodes) {\r\n    return [];\r\n  }\r\n\r\n  return nodes.map(node => traverse({ currentNode: node, selectedChartId }));\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { t } from '@superset-ui/core';\r\nimport 'react-checkbox-tree/lib/react-checkbox-tree.css';\r\n\r\nimport {\r\n  CheckboxChecked,\r\n  CheckboxUnchecked,\r\n  CheckboxHalfChecked,\r\n} from 'src/components/Checkbox/CheckboxIcons';\r\n\r\nconst treeIcons = {\r\n  check: <CheckboxChecked />,\r\n  uncheck: <CheckboxUnchecked />,\r\n  halfCheck: <CheckboxHalfChecked />,\r\n  expandClose: <span className=\"rct-icon rct-icon-expand-close\" />,\r\n  expandOpen: <span className=\"rct-icon rct-icon-expand-open\" />,\r\n  expandAll: (\r\n    <span className=\"rct-icon rct-icon-expand-all\">{t('Expand all')}</span>\r\n  ),\r\n  collapseAll: (\r\n    <span className=\"rct-icon rct-icon-collapse-all\">{t('Collapse all')}</span>\r\n  ),\r\n  parentClose: <span className=\"rct-icon rct-icon-parent-close\" />,\r\n  parentOpen: <span className=\"rct-icon rct-icon-parent-open\" />,\r\n  leaf: <span className=\"rct-icon rct-icon-leaf\" />,\r\n};\r\n\r\nexport default treeIcons;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport cx from 'classnames';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@superset-ui/core';\r\n\r\nimport { exploreChart, exportChart } from '../../../explore/exploreUtils';\r\nimport SliceHeader from '../SliceHeader';\r\nimport ChartContainer from '../../../chart/ChartContainer';\r\nimport MissingChart from '../MissingChart';\r\nimport { slicePropShape, chartPropShape } from '../../util/propShapes';\r\nimport {\r\n  LOG_ACTIONS_CHANGE_DASHBOARD_FILTER,\r\n  LOG_ACTIONS_EXPLORE_DASHBOARD_CHART,\r\n  LOG_ACTIONS_EXPORT_CSV_DASHBOARD_CHART,\r\n  LOG_ACTIONS_FORCE_REFRESH_CHART,\r\n} from '../../../logger/LogUtils';\r\nimport { isFilterBox } from '../../util/activeDashboardFilters';\r\nimport getFilterValuesByFilterId from '../../util/getFilterValuesByFilterId';\r\nimport { areObjectsEqual } from '../../../reduxUtils';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  componentId: PropTypes.string.isRequired,\r\n  dashboardId: PropTypes.number.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  updateSliceName: PropTypes.func.isRequired,\r\n  isComponentVisible: PropTypes.bool,\r\n  handleToggleFullSize: PropTypes.func.isRequired,\r\n\r\n  // from redux\r\n  chart: chartPropShape.isRequired,\r\n  formData: PropTypes.object.isRequired,\r\n  datasource: PropTypes.object.isRequired,\r\n  slice: slicePropShape.isRequired,\r\n  sliceName: PropTypes.string.isRequired,\r\n  timeout: PropTypes.number.isRequired,\r\n  // all active filter fields in dashboard\r\n  filters: PropTypes.object.isRequired,\r\n  refreshChart: PropTypes.func.isRequired,\r\n  logEvent: PropTypes.func.isRequired,\r\n  toggleExpandSlice: PropTypes.func.isRequired,\r\n  changeFilter: PropTypes.func.isRequired,\r\n  setFocusedFilterField: PropTypes.func.isRequired,\r\n  unsetFocusedFilterField: PropTypes.func.isRequired,\r\n  editMode: PropTypes.bool.isRequired,\r\n  isExpanded: PropTypes.bool.isRequired,\r\n  isCached: PropTypes.bool,\r\n  supersetCanExplore: PropTypes.bool.isRequired,\r\n  supersetCanShare: PropTypes.bool.isRequired,\r\n  supersetCanCSV: PropTypes.bool.isRequired,\r\n  sliceCanEdit: PropTypes.bool.isRequired,\r\n  addSuccessToast: PropTypes.func.isRequired,\r\n  addDangerToast: PropTypes.func.isRequired,\r\n  ownState: PropTypes.object,\r\n  filterState: PropTypes.object,\r\n};\r\n\r\nconst defaultProps = {\r\n  isCached: false,\r\n  isComponentVisible: true,\r\n};\r\n\r\n// we use state + shouldComponentUpdate() logic to prevent perf-wrecking\r\n// resizing across all slices on a dashboard on every update\r\nconst RESIZE_TIMEOUT = 350;\r\nconst SHOULD_UPDATE_ON_PROP_CHANGES = Object.keys(propTypes).filter(\r\n  prop => prop !== 'width' && prop !== 'height',\r\n);\r\nconst OVERFLOWABLE_VIZ_TYPES = new Set(['filter_box']);\r\nconst DEFAULT_HEADER_HEIGHT = 22;\r\n\r\nconst ChartOverlay = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 5;\r\n`;\r\n\r\nexport default class Chart extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      width: props.width,\r\n      height: props.height,\r\n      descriptionHeight: 0,\r\n    };\r\n\r\n    this.changeFilter = this.changeFilter.bind(this);\r\n    this.handleFilterMenuOpen = this.handleFilterMenuOpen.bind(this);\r\n    this.handleFilterMenuClose = this.handleFilterMenuClose.bind(this);\r\n    this.exploreChart = this.exploreChart.bind(this);\r\n    this.exportCSV = this.exportCSV.bind(this);\r\n    this.forceRefresh = this.forceRefresh.bind(this);\r\n    this.resize = this.resize.bind(this);\r\n    this.setDescriptionRef = this.setDescriptionRef.bind(this);\r\n    this.setHeaderRef = this.setHeaderRef.bind(this);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    // this logic mostly pertains to chart resizing. we keep a copy of the dimensions in\r\n    // state so that we can buffer component size updates and only update on the final call\r\n    // which improves performance significantly\r\n    if (\r\n      nextState.width !== this.state.width ||\r\n      nextState.height !== this.state.height ||\r\n      nextState.descriptionHeight !== this.state.descriptionHeight\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    // allow chart update/re-render only if visible:\r\n    // under selected tab or no tab layout\r\n    if (nextProps.isComponentVisible) {\r\n      if (nextProps.chart.triggerQuery) {\r\n        return true;\r\n      }\r\n\r\n      if (nextProps.isFullSize !== this.props.isFullSize) {\r\n        clearTimeout(this.resizeTimeout);\r\n        this.resizeTimeout = setTimeout(this.resize, RESIZE_TIMEOUT);\r\n        return false;\r\n      }\r\n\r\n      if (\r\n        nextProps.width !== this.props.width ||\r\n        nextProps.height !== this.props.height\r\n      ) {\r\n        clearTimeout(this.resizeTimeout);\r\n        this.resizeTimeout = setTimeout(this.resize, RESIZE_TIMEOUT);\r\n      }\r\n\r\n      for (let i = 0; i < SHOULD_UPDATE_ON_PROP_CHANGES.length; i += 1) {\r\n        const prop = SHOULD_UPDATE_ON_PROP_CHANGES[i];\r\n        // use deep objects equality comparison to prevent\r\n        // unneccessary updates when objects references change\r\n        if (!areObjectsEqual(nextProps[prop], this.props[prop])) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    // `cacheBusterProp` is jected by react-hot-loader\r\n    return this.props.cacheBusterProp !== nextProps.cacheBusterProp;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.resizeTimeout);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.isExpanded !== prevProps.isExpanded) {\r\n      const descriptionHeight =\r\n        this.props.isExpanded && this.descriptionRef\r\n          ? this.descriptionRef.offsetHeight\r\n          : 0;\r\n      // eslint-disable-next-line react/no-did-update-set-state\r\n      this.setState({ descriptionHeight });\r\n    }\r\n  }\r\n\r\n  getChartHeight() {\r\n    const headerHeight = this.getHeaderHeight();\r\n    return this.state.height - headerHeight - this.state.descriptionHeight;\r\n  }\r\n\r\n  getHeaderHeight() {\r\n    return (\r\n      (this.headerRef && this.headerRef.offsetHeight) || DEFAULT_HEADER_HEIGHT\r\n    );\r\n  }\r\n\r\n  setDescriptionRef(ref) {\r\n    this.descriptionRef = ref;\r\n  }\r\n\r\n  setHeaderRef(ref) {\r\n    this.headerRef = ref;\r\n  }\r\n\r\n  resize() {\r\n    const { width, height } = this.props;\r\n    this.setState(() => ({ width, height }));\r\n  }\r\n\r\n  changeFilter(newSelectedValues = {}) {\r\n    this.props.logEvent(LOG_ACTIONS_CHANGE_DASHBOARD_FILTER, {\r\n      id: this.props.chart.id,\r\n      columns: Object.keys(newSelectedValues),\r\n    });\r\n    this.props.changeFilter(this.props.chart.id, newSelectedValues);\r\n  }\r\n\r\n  handleFilterMenuOpen(chartId, column) {\r\n    this.props.setFocusedFilterField(chartId, column);\r\n  }\r\n\r\n  handleFilterMenuClose(chartId, column) {\r\n    this.props.unsetFocusedFilterField(chartId, column);\r\n  }\r\n\r\n  exploreChart() {\r\n    this.props.logEvent(LOG_ACTIONS_EXPLORE_DASHBOARD_CHART, {\r\n      slice_id: this.props.slice.slice_id,\r\n      is_cached: this.props.isCached,\r\n    });\r\n    exploreChart(this.props.formData);\r\n  }\r\n\r\n  exportCSV() {\r\n    this.props.logEvent(LOG_ACTIONS_EXPORT_CSV_DASHBOARD_CHART, {\r\n      slice_id: this.props.slice.slice_id,\r\n      is_cached: this.props.isCached,\r\n    });\r\n    exportChart({\r\n      formData: this.props.formData,\r\n      resultType: 'results',\r\n      resultFormat: 'csv',\r\n    });\r\n  }\r\n\r\n  forceRefresh() {\r\n    this.props.logEvent(LOG_ACTIONS_FORCE_REFRESH_CHART, {\r\n      slice_id: this.props.slice.slice_id,\r\n      is_cached: this.props.isCached,\r\n    });\r\n    return this.props.refreshChart(\r\n      this.props.chart.id,\r\n      true,\r\n      this.props.dashboardId,\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      componentId,\r\n      dashboardId,\r\n      chart,\r\n      slice,\r\n      datasource,\r\n      isExpanded,\r\n      editMode,\r\n      filters,\r\n      formData,\r\n      updateSliceName,\r\n      sliceName,\r\n      toggleExpandSlice,\r\n      timeout,\r\n      supersetCanExplore,\r\n      supersetCanShare,\r\n      supersetCanCSV,\r\n      sliceCanEdit,\r\n      addSuccessToast,\r\n      addDangerToast,\r\n      ownState,\r\n      filterState,\r\n      handleToggleFullSize,\r\n      isFullSize,\r\n    } = this.props;\r\n\r\n    const { width } = this.state;\r\n\r\n    // this prevents throwing in the case that a gridComponent\r\n    // references a chart that is not associated with the dashboard\r\n    if (!chart || !slice) {\r\n      return <MissingChart height={this.getChartHeight()} />;\r\n    }\r\n\r\n    const { queriesResponse, chartUpdateEndTime, chartStatus } = chart;\r\n    const isLoading = chartStatus === 'loading';\r\n    // eslint-disable-next-line camelcase\r\n    const isCached = queriesResponse?.map(({ is_cached }) => is_cached) || [];\r\n    const cachedDttm =\r\n      // eslint-disable-next-line camelcase\r\n      queriesResponse?.map(({ cached_dttm }) => cached_dttm) || [];\r\n    const isOverflowable = OVERFLOWABLE_VIZ_TYPES.has(slice.viz_type);\r\n    const initialValues = isFilterBox(id)\r\n      ? getFilterValuesByFilterId({\r\n          activeFilters: filters,\r\n          filterId: id,\r\n        })\r\n      : {};\r\n    return (\r\n      <div\r\n        className=\"chart-slice\"\r\n        data-test=\"chart-grid-component\"\r\n        data-test-chart-id={id}\r\n        data-test-viz-type={slice.viz_type}\r\n        data-test-chart-name={slice.slice_name}\r\n      >\r\n        <SliceHeader\r\n          innerRef={this.setHeaderRef}\r\n          slice={slice}\r\n          isExpanded={!!isExpanded}\r\n          isCached={isCached}\r\n          cachedDttm={cachedDttm}\r\n          updatedDttm={chartUpdateEndTime}\r\n          toggleExpandSlice={toggleExpandSlice}\r\n          forceRefresh={this.forceRefresh}\r\n          editMode={editMode}\r\n          annotationQuery={chart.annotationQuery}\r\n          exploreChart={this.exploreChart}\r\n          exportCSV={this.exportCSV}\r\n          updateSliceName={updateSliceName}\r\n          sliceName={sliceName}\r\n          supersetCanExplore={supersetCanExplore}\r\n          supersetCanShare={supersetCanShare}\r\n          supersetCanCSV={supersetCanCSV}\r\n          sliceCanEdit={sliceCanEdit}\r\n          componentId={componentId}\r\n          dashboardId={dashboardId}\r\n          filters={filters}\r\n          addSuccessToast={addSuccessToast}\r\n          addDangerToast={addDangerToast}\r\n          handleToggleFullSize={handleToggleFullSize}\r\n          isFullSize={isFullSize}\r\n          chartStatus={chart.chartStatus}\r\n          formData={formData}\r\n        />\r\n\r\n        {/*\r\n          This usage of dangerouslySetInnerHTML is safe since it is being used to render\r\n          markdown that is sanitized with bleach. See:\r\n             https://github.com/apache/superset/pull/4390\r\n          and\r\n             https://github.com/apache/superset/commit/b6fcc22d5a2cb7a5e92599ed5795a0169385a825\r\n        */}\r\n        {isExpanded && slice.description_markeddown && (\r\n          <div\r\n            className=\"slice_description bs-callout bs-callout-default\"\r\n            ref={this.setDescriptionRef}\r\n            // eslint-disable-next-line react/no-danger\r\n            dangerouslySetInnerHTML={{ __html: slice.description_markeddown }}\r\n          />\r\n        )}\r\n\r\n        <div\r\n          className={cx(\r\n            'dashboard-chart',\r\n            isOverflowable && 'dashboard-chart--overflowable',\r\n          )}\r\n        >\r\n          {isLoading && (\r\n            <ChartOverlay\r\n              style={{\r\n                width,\r\n                height: this.getChartHeight(),\r\n              }}\r\n            />\r\n          )}\r\n\r\n          <ChartContainer\r\n            width={width}\r\n            height={this.getChartHeight()}\r\n            addFilter={this.changeFilter}\r\n            onFilterMenuOpen={this.handleFilterMenuOpen}\r\n            onFilterMenuClose={this.handleFilterMenuClose}\r\n            annotationData={chart.annotationData}\r\n            chartAlert={chart.chartAlert}\r\n            chartId={id}\r\n            chartStatus={chartStatus}\r\n            datasource={datasource}\r\n            dashboardId={dashboardId}\r\n            initialValues={initialValues}\r\n            formData={formData}\r\n            ownState={ownState}\r\n            filterState={filterState}\r\n            queriesResponse={chart.queriesResponse}\r\n            timeout={timeout}\r\n            triggerQuery={chart.triggerQuery}\r\n            vizType={slice.viz_type}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nChart.propTypes = propTypes;\r\nChart.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\nimport { useTheme } from '@superset-ui/core';\r\n\r\nimport { getChartIdsInFilterScope } from 'src/dashboard/util/activeDashboardFilters';\r\nimport Chart from '../../containers/Chart';\r\nimport AnchorLink from '../../../components/AnchorLink';\r\nimport DeleteComponentButton from '../DeleteComponentButton';\r\nimport DragDroppable from '../dnd/DragDroppable';\r\nimport HoverMenu from '../menu/HoverMenu';\r\nimport ResizableContainer from '../resizable/ResizableContainer';\r\nimport getChartAndLabelComponentIdFromPath from '../../util/getChartAndLabelComponentIdFromPath';\r\nimport { componentShape } from '../../util/propShapes';\r\nimport { ROW_TYPE, COLUMN_TYPE } from '../../util/componentTypes';\r\n\r\nimport {\r\n  GRID_MIN_COLUMN_COUNT,\r\n  GRID_MIN_ROW_UNITS,\r\n  GRID_BASE_UNIT,\r\n  GRID_GUTTER_SIZE,\r\n} from '../../util/constants';\r\n\r\nconst CHART_MARGIN = 32;\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  parentId: PropTypes.string.isRequired,\r\n  dashboardId: PropTypes.number.isRequired,\r\n  component: componentShape.isRequired,\r\n  parentComponent: componentShape.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  depth: PropTypes.number.isRequired,\r\n  editMode: PropTypes.bool.isRequired,\r\n  directPathToChild: PropTypes.arrayOf(PropTypes.string),\r\n  directPathLastUpdated: PropTypes.number,\r\n  focusedFilterScope: PropTypes.object,\r\n\r\n  // grid related\r\n  availableColumnCount: PropTypes.number.isRequired,\r\n  columnWidth: PropTypes.number.isRequired,\r\n  onResizeStart: PropTypes.func.isRequired,\r\n  onResize: PropTypes.func.isRequired,\r\n  onResizeStop: PropTypes.func.isRequired,\r\n\r\n  // dnd\r\n  deleteComponent: PropTypes.func.isRequired,\r\n  updateComponents: PropTypes.func.isRequired,\r\n  handleComponentDrop: PropTypes.func.isRequired,\r\n};\r\n\r\nconst defaultProps = {\r\n  directPathToChild: [],\r\n  directPathLastUpdated: 0,\r\n};\r\n\r\n/**\r\n * Renders any styles necessary to highlight the chart's relationship to the focused filter.\r\n *\r\n * If there is no focused filter scope (i.e. most of the time), this will be just a pass-through.\r\n *\r\n * If the chart is outside the scope of the focused filter, dims the chart.\r\n *\r\n * If the chart is in the scope of the focused filter,\r\n * renders a highlight around the chart.\r\n *\r\n * If ChartHolder were a function component, this could be implemented as a hook instead.\r\n */\r\nconst FilterFocusHighlight = React.forwardRef(\r\n  ({ chartId, focusedFilterScope, nativeFilters, ...otherProps }, ref) => {\r\n    const theme = useTheme();\r\n    const focusedNativeFilterId = nativeFilters.focusedFilterId;\r\n    if (!(focusedFilterScope || focusedNativeFilterId))\r\n      return <div ref={ref} {...otherProps} />;\r\n\r\n    // we use local styles here instead of a conditionally-applied class,\r\n    // because adding any conditional class to this container\r\n    // causes performance issues in Chrome.\r\n\r\n    // default to the \"de-emphasized\" state\r\n    const unfocusedChartStyles = { opacity: 0.3, pointerEvents: 'none' };\r\n    const focusedChartStyles = {\r\n      borderColor: theme.colors.primary.light2,\r\n      opacity: 1,\r\n      boxShadow: `0px 0px ${theme.gridUnit * 2}px ${\r\n        theme.colors.primary.light2\r\n      }`,\r\n      pointerEvents: 'auto',\r\n    };\r\n\r\n    if (focusedNativeFilterId) {\r\n      if (\r\n        nativeFilters.filters[focusedNativeFilterId].chartsInScope.includes(\r\n          chartId,\r\n        )\r\n      ) {\r\n        return <div ref={ref} style={focusedChartStyles} {...otherProps} />;\r\n      }\r\n    } else if (\r\n      chartId === focusedFilterScope.chartId ||\r\n      getChartIdsInFilterScope({\r\n        filterScope: focusedFilterScope.scope,\r\n      }).includes(chartId)\r\n    ) {\r\n      return <div ref={ref} style={focusedChartStyles} {...otherProps} />;\r\n    }\r\n\r\n    // inline styles are used here due to a performance issue when adding/changing a class, which causes a reflow\r\n    return <div ref={ref} style={unfocusedChartStyles} {...otherProps} />;\r\n  },\r\n);\r\n\r\nclass ChartHolder extends React.Component {\r\n  static renderInFocusCSS(columnName) {\r\n    return (\r\n      <style>\r\n        {`label[for=${columnName}] + .Select .Select__control {\r\n                    border-color: #00736a;\r\n                    transition: border-color 1s ease-in-out;\r\n           }`}\r\n      </style>\r\n    );\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { component, directPathToChild, directPathLastUpdated } = props;\r\n    const {\r\n      label: columnName,\r\n      chart: chartComponentId,\r\n    } = getChartAndLabelComponentIdFromPath(directPathToChild);\r\n\r\n    if (\r\n      directPathLastUpdated !== state.directPathLastUpdated &&\r\n      component.id === chartComponentId\r\n    ) {\r\n      return {\r\n        outlinedComponentId: component.id,\r\n        outlinedColumnName: columnName,\r\n        directPathLastUpdated,\r\n      };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isFocused: false,\r\n      outlinedComponentId: null,\r\n      outlinedColumnName: null,\r\n      directPathLastUpdated: 0,\r\n      isFullSize: false,\r\n    };\r\n\r\n    this.handleChangeFocus = this.handleChangeFocus.bind(this);\r\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\r\n    this.handleUpdateSliceName = this.handleUpdateSliceName.bind(this);\r\n    this.handleToggleFullSize = this.handleToggleFullSize.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.hideOutline({}, this.state);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    this.hideOutline(prevState, this.state);\r\n  }\r\n\r\n  hideOutline(prevState, state) {\r\n    const { outlinedComponentId: timerKey } = state;\r\n    const { outlinedComponentId: prevTimerKey } = prevState;\r\n\r\n    // because of timeout, there might be multiple charts showing outline\r\n    if (!!timerKey && !prevTimerKey) {\r\n      setTimeout(() => {\r\n        this.setState(() => ({\r\n          outlinedComponentId: null,\r\n          outlinedColumnName: null,\r\n        }));\r\n      }, 2000);\r\n    }\r\n  }\r\n\r\n  handleChangeFocus(nextFocus) {\r\n    this.setState(() => ({ isFocused: nextFocus }));\r\n  }\r\n\r\n  handleDeleteComponent() {\r\n    const { deleteComponent, id, parentId } = this.props;\r\n    deleteComponent(id, parentId);\r\n  }\r\n\r\n  handleUpdateSliceName(nextName) {\r\n    const { component, updateComponents } = this.props;\r\n    updateComponents({\r\n      [component.id]: {\r\n        ...component,\r\n        meta: {\r\n          ...component.meta,\r\n          sliceNameOverride: nextName,\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  handleToggleFullSize() {\r\n    this.setState(prevState => ({ isFullSize: !prevState.isFullSize }));\r\n  }\r\n\r\n  render() {\r\n    const { isFocused } = this.state;\r\n    const {\r\n      component,\r\n      parentComponent,\r\n      index,\r\n      depth,\r\n      availableColumnCount,\r\n      columnWidth,\r\n      onResizeStart,\r\n      onResize,\r\n      onResizeStop,\r\n      handleComponentDrop,\r\n      editMode,\r\n      isComponentVisible,\r\n      dashboardId,\r\n      focusedFilterScope,\r\n      nativeFilters,\r\n    } = this.props;\r\n\r\n    // inherit the size of parent columns\r\n    const widthMultiple =\r\n      parentComponent.type === COLUMN_TYPE\r\n        ? parentComponent.meta.width || GRID_MIN_COLUMN_COUNT\r\n        : component.meta.width || GRID_MIN_COLUMN_COUNT;\r\n\r\n    let chartWidth = 0;\r\n    let chartHeight = 0;\r\n\r\n    if (this.state.isFullSize) {\r\n      chartWidth = window.innerWidth - CHART_MARGIN;\r\n      chartHeight = window.innerHeight - CHART_MARGIN;\r\n    } else {\r\n      chartWidth = Math.floor(\r\n        widthMultiple * columnWidth +\r\n          (widthMultiple - 1) * GRID_GUTTER_SIZE -\r\n          CHART_MARGIN,\r\n      );\r\n      chartHeight = Math.floor(\r\n        component.meta.height * GRID_BASE_UNIT - CHART_MARGIN,\r\n      );\r\n    }\r\n\r\n    const { chartId } = component.meta;\r\n\r\n    return (\r\n      <DragDroppable\r\n        component={component}\r\n        parentComponent={parentComponent}\r\n        orientation={parentComponent.type === ROW_TYPE ? 'column' : 'row'}\r\n        index={index}\r\n        depth={depth}\r\n        onDrop={handleComponentDrop}\r\n        disableDragDrop={isFocused}\r\n        editMode={editMode}\r\n      >\r\n        {({ dropIndicatorProps, dragSourceRef }) => (\r\n          <ResizableContainer\r\n            id={component.id}\r\n            adjustableWidth={parentComponent.type === ROW_TYPE}\r\n            adjustableHeight\r\n            widthStep={columnWidth}\r\n            widthMultiple={widthMultiple}\r\n            heightStep={GRID_BASE_UNIT}\r\n            heightMultiple={component.meta.height}\r\n            minWidthMultiple={GRID_MIN_COLUMN_COUNT}\r\n            minHeightMultiple={GRID_MIN_ROW_UNITS}\r\n            maxWidthMultiple={availableColumnCount + widthMultiple}\r\n            onResizeStart={onResizeStart}\r\n            onResize={onResize}\r\n            onResizeStop={onResizeStop}\r\n            editMode={editMode}\r\n          >\r\n            <FilterFocusHighlight\r\n              chartId={chartId}\r\n              focusedFilterScope={focusedFilterScope}\r\n              nativeFilters={nativeFilters}\r\n              ref={dragSourceRef}\r\n              data-test=\"dashboard-component-chart-holder\"\r\n              className={cx(\r\n                'dashboard-component',\r\n                'dashboard-component-chart-holder',\r\n                this.state.outlinedComponentId ? 'fade-in' : 'fade-out',\r\n                this.state.isFullSize && 'full-size',\r\n              )}\r\n            >\r\n              {!editMode && (\r\n                <AnchorLink\r\n                  anchorLinkId={component.id}\r\n                  inFocus={!!this.state.outlinedComponentId}\r\n                />\r\n              )}\r\n              {!!this.state.outlinedComponentId &&\r\n                ChartHolder.renderInFocusCSS(this.state.outlinedColumnName)}\r\n              <Chart\r\n                componentId={component.id}\r\n                id={component.meta.chartId}\r\n                dashboardId={dashboardId}\r\n                width={chartWidth}\r\n                height={chartHeight}\r\n                sliceName={\r\n                  component.meta.sliceNameOverride ||\r\n                  component.meta.sliceName ||\r\n                  ''\r\n                }\r\n                updateSliceName={this.handleUpdateSliceName}\r\n                isComponentVisible={isComponentVisible}\r\n                handleToggleFullSize={this.handleToggleFullSize}\r\n                isFullSize={this.state.isFullSize}\r\n              />\r\n              {editMode && (\r\n                <HoverMenu position=\"top\">\r\n                  <div data-test=\"dashboard-delete-component-button\">\r\n                    <DeleteComponentButton\r\n                      onDelete={this.handleDeleteComponent}\r\n                    />\r\n                  </div>\r\n                </HoverMenu>\r\n              )}\r\n            </FilterFocusHighlight>\r\n\r\n            {dropIndicatorProps && <div {...dropIndicatorProps} />}\r\n          </ResizableContainer>\r\n        )}\r\n      </DragDroppable>\r\n    );\r\n  }\r\n}\r\n\r\nChartHolder.propTypes = propTypes;\r\nChartHolder.defaultProps = defaultProps;\r\n\r\nexport default ChartHolder;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\n\r\nimport DashboardComponent from '../../containers/DashboardComponent';\r\nimport DeleteComponentButton from '../DeleteComponentButton';\r\nimport DragDroppable from '../dnd/DragDroppable';\r\nimport DragHandle from '../dnd/DragHandle';\r\nimport HoverMenu from '../menu/HoverMenu';\r\nimport IconButton from '../IconButton';\r\nimport ResizableContainer from '../resizable/ResizableContainer';\r\nimport BackgroundStyleDropdown from '../menu/BackgroundStyleDropdown';\r\nimport WithPopoverMenu from '../menu/WithPopoverMenu';\r\n\r\nimport backgroundStyleOptions from '../../util/backgroundStyleOptions';\r\nimport { componentShape } from '../../util/propShapes';\r\n\r\nimport { BACKGROUND_TRANSPARENT } from '../../util/constants';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  parentId: PropTypes.string.isRequired,\r\n  component: componentShape.isRequired,\r\n  parentComponent: componentShape.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  depth: PropTypes.number.isRequired,\r\n  editMode: PropTypes.bool.isRequired,\r\n\r\n  // grid related\r\n  availableColumnCount: PropTypes.number.isRequired,\r\n  columnWidth: PropTypes.number.isRequired,\r\n  minColumnWidth: PropTypes.number.isRequired,\r\n  onResizeStart: PropTypes.func.isRequired,\r\n  onResize: PropTypes.func.isRequired,\r\n  onResizeStop: PropTypes.func.isRequired,\r\n\r\n  // dnd\r\n  deleteComponent: PropTypes.func.isRequired,\r\n  handleComponentDrop: PropTypes.func.isRequired,\r\n  updateComponents: PropTypes.func.isRequired,\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\nclass Column extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isFocused: false,\r\n    };\r\n    this.handleChangeBackground = this.handleUpdateMeta.bind(\r\n      this,\r\n      'background',\r\n    );\r\n    this.handleChangeFocus = this.handleChangeFocus.bind(this);\r\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\r\n  }\r\n\r\n  handleDeleteComponent() {\r\n    const { deleteComponent, id, parentId } = this.props;\r\n    deleteComponent(id, parentId);\r\n  }\r\n\r\n  handleChangeFocus(nextFocus) {\r\n    this.setState(() => ({ isFocused: Boolean(nextFocus) }));\r\n  }\r\n\r\n  handleUpdateMeta(metaKey, nextValue) {\r\n    const { updateComponents, component } = this.props;\r\n    if (nextValue && component.meta[metaKey] !== nextValue) {\r\n      updateComponents({\r\n        [component.id]: {\r\n          ...component,\r\n          meta: {\r\n            ...component.meta,\r\n            [metaKey]: nextValue,\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      component: columnComponent,\r\n      parentComponent,\r\n      index,\r\n      availableColumnCount,\r\n      columnWidth,\r\n      minColumnWidth,\r\n      depth,\r\n      onResizeStart,\r\n      onResize,\r\n      onResizeStop,\r\n      handleComponentDrop,\r\n      editMode,\r\n      isComponentVisible,\r\n    } = this.props;\r\n\r\n    const columnItems = columnComponent.children || [];\r\n    const backgroundStyle = backgroundStyleOptions.find(\r\n      opt =>\r\n        opt.value ===\r\n        (columnComponent.meta.background || BACKGROUND_TRANSPARENT),\r\n    );\r\n\r\n    return (\r\n      <DragDroppable\r\n        component={columnComponent}\r\n        parentComponent={parentComponent}\r\n        orientation=\"column\"\r\n        index={index}\r\n        depth={depth}\r\n        onDrop={handleComponentDrop}\r\n        editMode={editMode}\r\n      >\r\n        {({ dropIndicatorProps, dragSourceRef }) => (\r\n          <ResizableContainer\r\n            id={columnComponent.id}\r\n            adjustableWidth\r\n            adjustableHeight={false}\r\n            widthStep={columnWidth}\r\n            widthMultiple={columnComponent.meta.width}\r\n            minWidthMultiple={minColumnWidth}\r\n            maxWidthMultiple={\r\n              availableColumnCount + (columnComponent.meta.width || 0)\r\n            }\r\n            onResizeStart={onResizeStart}\r\n            onResize={onResize}\r\n            onResizeStop={onResizeStop}\r\n            editMode={editMode}\r\n          >\r\n            <WithPopoverMenu\r\n              isFocused={this.state.isFocused}\r\n              onChangeFocus={this.handleChangeFocus}\r\n              disableClick\r\n              menuItems={[\r\n                <BackgroundStyleDropdown\r\n                  id={`${columnComponent.id}-background`}\r\n                  value={columnComponent.meta.background}\r\n                  onChange={this.handleChangeBackground}\r\n                />,\r\n              ]}\r\n              editMode={editMode}\r\n            >\r\n              {editMode && (\r\n                <HoverMenu innerRef={dragSourceRef} position=\"top\">\r\n                  <DragHandle position=\"top\" />\r\n                  <DeleteComponentButton\r\n                    onDelete={this.handleDeleteComponent}\r\n                  />\r\n                  <IconButton\r\n                    onClick={this.handleChangeFocus}\r\n                    className=\"fa fa-cog\"\r\n                  />\r\n                </HoverMenu>\r\n              )}\r\n              <div\r\n                className={cx(\r\n                  'grid-column',\r\n                  columnItems.length === 0 && 'grid-column--empty',\r\n                  backgroundStyle.className,\r\n                )}\r\n              >\r\n                {columnItems.map((componentId, itemIndex) => (\r\n                  <DashboardComponent\r\n                    key={componentId}\r\n                    id={componentId}\r\n                    parentId={columnComponent.id}\r\n                    depth={depth + 1}\r\n                    index={itemIndex}\r\n                    availableColumnCount={columnComponent.meta.width}\r\n                    columnWidth={columnWidth}\r\n                    onResizeStart={onResizeStart}\r\n                    onResize={onResize}\r\n                    onResizeStop={onResizeStop}\r\n                    isComponentVisible={isComponentVisible}\r\n                  />\r\n                ))}\r\n\r\n                {dropIndicatorProps && <div {...dropIndicatorProps} />}\r\n              </div>\r\n            </WithPopoverMenu>\r\n          </ResizableContainer>\r\n        )}\r\n      </DragDroppable>\r\n    );\r\n  }\r\n}\r\n\r\nColumn.propTypes = propTypes;\r\nColumn.defaultProps = defaultProps;\r\n\r\nexport default Column;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport DragDroppable from '../dnd/DragDroppable';\r\nimport HoverMenu from '../menu/HoverMenu';\r\nimport DeleteComponentButton from '../DeleteComponentButton';\r\nimport { componentShape } from '../../util/propShapes';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  parentId: PropTypes.string.isRequired,\r\n  component: componentShape.isRequired,\r\n  depth: PropTypes.number.isRequired,\r\n  parentComponent: componentShape.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  editMode: PropTypes.bool.isRequired,\r\n  handleComponentDrop: PropTypes.func.isRequired,\r\n  deleteComponent: PropTypes.func.isRequired,\r\n};\r\n\r\nclass Divider extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\r\n  }\r\n\r\n  handleDeleteComponent() {\r\n    const { deleteComponent, id, parentId } = this.props;\r\n    deleteComponent(id, parentId);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      component,\r\n      depth,\r\n      parentComponent,\r\n      index,\r\n      handleComponentDrop,\r\n      editMode,\r\n    } = this.props;\r\n\r\n    return (\r\n      <DragDroppable\r\n        component={component}\r\n        parentComponent={parentComponent}\r\n        orientation=\"row\"\r\n        index={index}\r\n        depth={depth}\r\n        onDrop={handleComponentDrop}\r\n        editMode={editMode}\r\n      >\r\n        {({ dropIndicatorProps, dragSourceRef }) => (\r\n          <div ref={dragSourceRef}>\r\n            {editMode && (\r\n              <HoverMenu position=\"left\">\r\n                <DeleteComponentButton onDelete={this.handleDeleteComponent} />\r\n              </HoverMenu>\r\n            )}\r\n\r\n            <div className=\"dashboard-component dashboard-component-divider\" />\r\n\r\n            {dropIndicatorProps && <div {...dropIndicatorProps} />}\r\n          </div>\r\n        )}\r\n      </DragDroppable>\r\n    );\r\n  }\r\n}\r\n\r\nDivider.propTypes = propTypes;\r\n\r\nexport default Divider;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\n\r\nimport DragDroppable from 'src/dashboard/components/dnd/DragDroppable';\r\nimport DragHandle from 'src/dashboard/components/dnd/DragHandle';\r\nimport EditableTitle from 'src/components/EditableTitle';\r\nimport AnchorLink from 'src/components/AnchorLink';\r\nimport HoverMenu from 'src/dashboard/components/menu/HoverMenu';\r\nimport WithPopoverMenu from 'src/dashboard/components/menu/WithPopoverMenu';\r\nimport BackgroundStyleDropdown from 'src/dashboard/components/menu/BackgroundStyleDropdown';\r\nimport DeleteComponentButton from 'src/dashboard/components/DeleteComponentButton';\r\nimport PopoverDropdown from 'src/components/PopoverDropdown';\r\nimport headerStyleOptions from 'src/dashboard/util/headerStyleOptions';\r\nimport backgroundStyleOptions from 'src/dashboard/util/backgroundStyleOptions';\r\nimport { componentShape } from 'src/dashboard/util/propShapes';\r\nimport {\r\n  SMALL_HEADER,\r\n  BACKGROUND_TRANSPARENT,\r\n} from 'src/dashboard/util/constants';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  parentId: PropTypes.string.isRequired,\r\n  component: componentShape.isRequired,\r\n  depth: PropTypes.number.isRequired,\r\n  parentComponent: componentShape.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  editMode: PropTypes.bool.isRequired,\r\n  filters: PropTypes.object.isRequired,\r\n\r\n  // redux\r\n  handleComponentDrop: PropTypes.func.isRequired,\r\n  deleteComponent: PropTypes.func.isRequired,\r\n  updateComponents: PropTypes.func.isRequired,\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\nclass Header extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isFocused: false,\r\n    };\r\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\r\n    this.handleChangeFocus = this.handleChangeFocus.bind(this);\r\n    this.handleUpdateMeta = this.handleUpdateMeta.bind(this);\r\n    this.handleChangeSize = this.handleUpdateMeta.bind(this, 'headerSize');\r\n    this.handleChangeBackground = this.handleUpdateMeta.bind(\r\n      this,\r\n      'background',\r\n    );\r\n    this.handleChangeText = this.handleUpdateMeta.bind(this, 'text');\r\n  }\r\n\r\n  handleChangeFocus(nextFocus) {\r\n    this.setState(() => ({ isFocused: nextFocus }));\r\n  }\r\n\r\n  handleUpdateMeta(metaKey, nextValue) {\r\n    const { updateComponents, component } = this.props;\r\n    if (nextValue && component.meta[metaKey] !== nextValue) {\r\n      updateComponents({\r\n        [component.id]: {\r\n          ...component,\r\n          meta: {\r\n            ...component.meta,\r\n            [metaKey]: nextValue,\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  handleDeleteComponent() {\r\n    const { deleteComponent, id, parentId } = this.props;\r\n    deleteComponent(id, parentId);\r\n  }\r\n\r\n  render() {\r\n    const { isFocused } = this.state;\r\n\r\n    const {\r\n      component,\r\n      depth,\r\n      parentComponent,\r\n      index,\r\n      handleComponentDrop,\r\n      editMode,\r\n      filters,\r\n    } = this.props;\r\n\r\n    const headerStyle = headerStyleOptions.find(\r\n      opt => opt.value === (component.meta.headerSize || SMALL_HEADER),\r\n    );\r\n\r\n    const rowStyle = backgroundStyleOptions.find(\r\n      opt =>\r\n        opt.value === (component.meta.background || BACKGROUND_TRANSPARENT),\r\n    );\r\n\r\n    return (\r\n      <DragDroppable\r\n        component={component}\r\n        parentComponent={parentComponent}\r\n        orientation=\"row\"\r\n        index={index}\r\n        depth={depth}\r\n        onDrop={handleComponentDrop}\r\n        disableDragDrop={isFocused}\r\n        editMode={editMode}\r\n      >\r\n        {({ dropIndicatorProps, dragSourceRef }) => (\r\n          <div ref={dragSourceRef}>\r\n            {editMode &&\r\n              depth <= 2 && ( // drag handle looks bad when nested\r\n                <HoverMenu position=\"left\">\r\n                  <DragHandle position=\"left\" />\r\n                </HoverMenu>\r\n              )}\r\n\r\n            <WithPopoverMenu\r\n              onChangeFocus={this.handleChangeFocus}\r\n              menuItems={[\r\n                <PopoverDropdown\r\n                  id={`${component.id}-header-style`}\r\n                  options={headerStyleOptions}\r\n                  value={component.meta.headerSize}\r\n                  onChange={this.handleChangeSize}\r\n                />,\r\n                <BackgroundStyleDropdown\r\n                  id={`${component.id}-background`}\r\n                  value={component.meta.background}\r\n                  onChange={this.handleChangeBackground}\r\n                />,\r\n                <DeleteComponentButton onDelete={this.handleDeleteComponent} />,\r\n              ]}\r\n              editMode={editMode}\r\n            >\r\n              <div\r\n                className={cx(\r\n                  'dashboard-component',\r\n                  'dashboard-component-header',\r\n                  headerStyle.className,\r\n                  rowStyle.className,\r\n                )}\r\n              >\r\n                <EditableTitle\r\n                  title={component.meta.text}\r\n                  canEdit={editMode}\r\n                  onSaveTitle={this.handleChangeText}\r\n                  showTooltip={false}\r\n                />\r\n                {!editMode && (\r\n                  <AnchorLink\r\n                    anchorLinkId={component.id}\r\n                    filters={filters}\r\n                    showShortLinkButton\r\n                  />\r\n                )}\r\n              </div>\r\n            </WithPopoverMenu>\r\n\r\n            {dropIndicatorProps && <div {...dropIndicatorProps} />}\r\n          </div>\r\n        )}\r\n      </DragDroppable>\r\n    );\r\n  }\r\n}\r\n\r\nHeader.propTypes = propTypes;\r\nHeader.defaultProps = defaultProps;\r\n\r\nexport default Header;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport cx from 'classnames';\r\nimport { t, SafeMarkdown } from '@superset-ui/core';\r\nimport { Logger, LOG_ACTIONS_RENDER_CHART } from 'src/logger/LogUtils';\r\nimport { MarkdownEditor } from 'src/components/AsyncAceEditor';\r\n\r\nimport DeleteComponentButton from 'src/dashboard/components/DeleteComponentButton';\r\nimport DragDroppable from 'src/dashboard/components/dnd/DragDroppable';\r\nimport ResizableContainer from 'src/dashboard/components/resizable/ResizableContainer';\r\nimport MarkdownModeDropdown from 'src/dashboard/components/menu/MarkdownModeDropdown';\r\nimport WithPopoverMenu from 'src/dashboard/components/menu/WithPopoverMenu';\r\nimport { componentShape } from 'src/dashboard/util/propShapes';\r\nimport { ROW_TYPE, COLUMN_TYPE } from 'src/dashboard/util/componentTypes';\r\nimport {\r\n  GRID_MIN_COLUMN_COUNT,\r\n  GRID_MIN_ROW_UNITS,\r\n  GRID_BASE_UNIT,\r\n} from 'src/dashboard/util/constants';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  parentId: PropTypes.string.isRequired,\r\n  component: componentShape.isRequired,\r\n  parentComponent: componentShape.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  depth: PropTypes.number.isRequired,\r\n  editMode: PropTypes.bool.isRequired,\r\n\r\n  // from redux\r\n  logEvent: PropTypes.func.isRequired,\r\n  addDangerToast: PropTypes.func.isRequired,\r\n  undoLength: PropTypes.number.isRequired,\r\n  redoLength: PropTypes.number.isRequired,\r\n\r\n  // grid related\r\n  availableColumnCount: PropTypes.number.isRequired,\r\n  columnWidth: PropTypes.number.isRequired,\r\n  onResizeStart: PropTypes.func.isRequired,\r\n  onResize: PropTypes.func.isRequired,\r\n  onResizeStop: PropTypes.func.isRequired,\r\n\r\n  // dnd\r\n  deleteComponent: PropTypes.func.isRequired,\r\n  handleComponentDrop: PropTypes.func.isRequired,\r\n  updateComponents: PropTypes.func.isRequired,\r\n};\r\n\r\nconst defaultProps = {};\r\n\r\nconst MARKDOWN_PLACE_HOLDER = `# Markdown\r\n## Markdown\r\n### Markdown\r\n\r\n<br />\r\n\r\nClick here to edit [markdown](https://bit.ly/1dQOfRK)`;\r\n\r\nconst MARKDOWN_ERROR_MESSAGE = t('This markdown component has an error.');\r\n\r\nclass Markdown extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isFocused: false,\r\n      markdownSource: props.component.meta.code,\r\n      editor: null,\r\n      editorMode: 'preview',\r\n      undoLength: props.undoLength,\r\n      redoLength: props.redoLength,\r\n    };\r\n    this.renderStartTime = Logger.getTimestamp();\r\n\r\n    this.handleChangeFocus = this.handleChangeFocus.bind(this);\r\n    this.handleChangeEditorMode = this.handleChangeEditorMode.bind(this);\r\n    this.handleMarkdownChange = this.handleMarkdownChange.bind(this);\r\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\r\n    this.handleResizeStart = this.handleResizeStart.bind(this);\r\n    this.setEditor = this.setEditor.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.logEvent(LOG_ACTIONS_RENDER_CHART, {\r\n      viz_type: 'markdown',\r\n      start_offset: this.renderStartTime,\r\n      ts: new Date().getTime(),\r\n      duration: Logger.getTimestamp() - this.renderStartTime,\r\n    });\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, state) {\r\n    const {\r\n      hasError,\r\n      editorMode,\r\n      markdownSource,\r\n      undoLength,\r\n      redoLength,\r\n    } = state;\r\n    const {\r\n      component: nextComponent,\r\n      undoLength: nextUndoLength,\r\n      redoLength: nextRedoLength,\r\n    } = nextProps;\r\n    // user click undo or redo ?\r\n    if (nextUndoLength !== undoLength || nextRedoLength !== redoLength) {\r\n      return {\r\n        ...state,\r\n        undoLength: nextUndoLength,\r\n        redoLength: nextRedoLength,\r\n        markdownSource: nextComponent.meta.code,\r\n        hasError: false,\r\n      };\r\n    }\r\n    if (\r\n      !hasError &&\r\n      editorMode === 'preview' &&\r\n      nextComponent.meta.code !== markdownSource\r\n    ) {\r\n      return {\r\n        ...state,\r\n        markdownSource: nextComponent.meta.code,\r\n      };\r\n    }\r\n\r\n    return state;\r\n  }\r\n\r\n  static getDerivedStateFromError() {\r\n    return {\r\n      hasError: true,\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      this.state.editor &&\r\n      (prevProps.component.meta.width !== this.props.component.meta.width ||\r\n        prevProps.columnWidth !== this.props.columnWidth)\r\n    ) {\r\n      this.state.editor.resize(true);\r\n    }\r\n    // pre-load AceEditor when entering edit mode\r\n    if (this.props.editMode) {\r\n      MarkdownEditor.preload();\r\n    }\r\n  }\r\n\r\n  componentDidCatch() {\r\n    if (this.state.editor && this.state.editorMode === 'preview') {\r\n      this.props.addDangerToast(\r\n        t(\r\n          'This markdown component has an error. Please revert your recent changes.',\r\n        ),\r\n      );\r\n    }\r\n  }\r\n\r\n  setEditor(editor) {\r\n    editor.getSession().setUseWrapMode(true);\r\n    this.setState({\r\n      editor,\r\n    });\r\n  }\r\n\r\n  handleChangeFocus(nextFocus) {\r\n    const nextFocused = !!nextFocus;\r\n    const nextEditMode = nextFocused ? 'edit' : 'preview';\r\n    this.setState(() => ({ isFocused: nextFocused }));\r\n    this.handleChangeEditorMode(nextEditMode);\r\n  }\r\n\r\n  handleChangeEditorMode(mode) {\r\n    const nextState = {\r\n      ...this.state,\r\n      editorMode: mode,\r\n    };\r\n    if (mode === 'preview') {\r\n      this.updateMarkdownContent();\r\n      nextState.hasError = false;\r\n    }\r\n\r\n    this.setState(nextState);\r\n  }\r\n\r\n  updateMarkdownContent() {\r\n    const { updateComponents, component } = this.props;\r\n    if (component.meta.code !== this.state.markdownSource) {\r\n      updateComponents({\r\n        [component.id]: {\r\n          ...component,\r\n          meta: {\r\n            ...component.meta,\r\n            code: this.state.markdownSource,\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  handleMarkdownChange(nextValue) {\r\n    this.setState({\r\n      markdownSource: nextValue,\r\n    });\r\n  }\r\n\r\n  handleDeleteComponent() {\r\n    const { deleteComponent, id, parentId } = this.props;\r\n    deleteComponent(id, parentId);\r\n  }\r\n\r\n  handleResizeStart(e) {\r\n    const { editorMode } = this.state;\r\n    const { editMode, onResizeStart } = this.props;\r\n    const isEditing = editorMode === 'edit';\r\n    onResizeStart(e);\r\n    if (editMode && isEditing) {\r\n      this.updateMarkdownContent();\r\n    }\r\n  }\r\n\r\n  renderEditMode() {\r\n    return (\r\n      <MarkdownEditor\r\n        onChange={this.handleMarkdownChange}\r\n        width=\"100%\"\r\n        height=\"100%\"\r\n        showGutter={false}\r\n        editorProps={{ $blockScrolling: true }}\r\n        value={\r\n          // this allows \"select all => delete\" to give an empty editor\r\n          typeof this.state.markdownSource === 'string'\r\n            ? this.state.markdownSource\r\n            : MARKDOWN_PLACE_HOLDER\r\n        }\r\n        readOnly={false}\r\n        onLoad={this.setEditor}\r\n        data-test=\"editor\"\r\n      />\r\n    );\r\n  }\r\n\r\n  renderPreviewMode() {\r\n    const { hasError } = this.state;\r\n\r\n    return (\r\n      <SafeMarkdown\r\n        source={\r\n          hasError\r\n            ? MARKDOWN_ERROR_MESSAGE\r\n            : this.state.markdownSource || MARKDOWN_PLACE_HOLDER\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { isFocused, editorMode } = this.state;\r\n\r\n    const {\r\n      component,\r\n      parentComponent,\r\n      index,\r\n      depth,\r\n      availableColumnCount,\r\n      columnWidth,\r\n      onResize,\r\n      onResizeStop,\r\n      handleComponentDrop,\r\n      editMode,\r\n    } = this.props;\r\n\r\n    // inherit the size of parent columns\r\n    const widthMultiple =\r\n      parentComponent.type === COLUMN_TYPE\r\n        ? parentComponent.meta.width || GRID_MIN_COLUMN_COUNT\r\n        : component.meta.width || GRID_MIN_COLUMN_COUNT;\r\n\r\n    const isEditing = editorMode === 'edit';\r\n\r\n    return (\r\n      <DragDroppable\r\n        component={component}\r\n        parentComponent={parentComponent}\r\n        orientation={parentComponent.type === ROW_TYPE ? 'column' : 'row'}\r\n        index={index}\r\n        depth={depth}\r\n        onDrop={handleComponentDrop}\r\n        disableDragDrop={isFocused}\r\n        editMode={editMode}\r\n      >\r\n        {({ dropIndicatorProps, dragSourceRef }) => (\r\n          <WithPopoverMenu\r\n            onChangeFocus={this.handleChangeFocus}\r\n            menuItems={[\r\n              <MarkdownModeDropdown\r\n                id={`${component.id}-mode`}\r\n                value={this.state.editorMode}\r\n                onChange={this.handleChangeEditorMode}\r\n              />,\r\n              <DeleteComponentButton onDelete={this.handleDeleteComponent} />,\r\n            ]}\r\n            editMode={editMode}\r\n          >\r\n            <div\r\n              data-test=\"dashboard-markdown-editor\"\r\n              className={cx(\r\n                'dashboard-markdown',\r\n                isEditing && 'dashboard-markdown--editing',\r\n              )}\r\n            >\r\n              <ResizableContainer\r\n                id={component.id}\r\n                adjustableWidth={parentComponent.type === ROW_TYPE}\r\n                adjustableHeight\r\n                widthStep={columnWidth}\r\n                widthMultiple={widthMultiple}\r\n                heightStep={GRID_BASE_UNIT}\r\n                heightMultiple={component.meta.height}\r\n                minWidthMultiple={GRID_MIN_COLUMN_COUNT}\r\n                minHeightMultiple={GRID_MIN_ROW_UNITS}\r\n                maxWidthMultiple={availableColumnCount + widthMultiple}\r\n                onResizeStart={this.handleResizeStart}\r\n                onResize={onResize}\r\n                onResizeStop={onResizeStop}\r\n                editMode={isFocused ? false : editMode}\r\n              >\r\n                <div\r\n                  ref={dragSourceRef}\r\n                  className=\"dashboard-component dashboard-component-chart-holder\"\r\n                  data-test=\"dashboard-component-chart-holder\"\r\n                >\r\n                  {editMode && isEditing\r\n                    ? this.renderEditMode()\r\n                    : this.renderPreviewMode()}\r\n                </div>\r\n              </ResizableContainer>\r\n            </div>\r\n            {dropIndicatorProps && <div {...dropIndicatorProps} />}\r\n          </WithPopoverMenu>\r\n        )}\r\n      </DragDroppable>\r\n    );\r\n  }\r\n}\r\n\r\nMarkdown.propTypes = propTypes;\r\nMarkdown.defaultProps = defaultProps;\r\n\r\nexport default Markdown;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\n\r\nimport DragDroppable from '../dnd/DragDroppable';\r\nimport DragHandle from '../dnd/DragHandle';\r\nimport DashboardComponent from '../../containers/DashboardComponent';\r\nimport DeleteComponentButton from '../DeleteComponentButton';\r\nimport HoverMenu from '../menu/HoverMenu';\r\nimport IconButton from '../IconButton';\r\nimport BackgroundStyleDropdown from '../menu/BackgroundStyleDropdown';\r\nimport WithPopoverMenu from '../menu/WithPopoverMenu';\r\n\r\nimport { componentShape } from '../../util/propShapes';\r\nimport backgroundStyleOptions from '../../util/backgroundStyleOptions';\r\nimport { BACKGROUND_TRANSPARENT } from '../../util/constants';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  parentId: PropTypes.string.isRequired,\r\n  component: componentShape.isRequired,\r\n  parentComponent: componentShape.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  depth: PropTypes.number.isRequired,\r\n  editMode: PropTypes.bool.isRequired,\r\n\r\n  // grid related\r\n  availableColumnCount: PropTypes.number.isRequired,\r\n  columnWidth: PropTypes.number.isRequired,\r\n  occupiedColumnCount: PropTypes.number.isRequired,\r\n  onResizeStart: PropTypes.func.isRequired,\r\n  onResize: PropTypes.func.isRequired,\r\n  onResizeStop: PropTypes.func.isRequired,\r\n\r\n  // dnd\r\n  handleComponentDrop: PropTypes.func.isRequired,\r\n  deleteComponent: PropTypes.func.isRequired,\r\n  updateComponents: PropTypes.func.isRequired,\r\n};\r\n\r\nclass Row extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isFocused: false,\r\n    };\r\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\r\n    this.handleUpdateMeta = this.handleUpdateMeta.bind(this);\r\n    this.handleChangeBackground = this.handleUpdateMeta.bind(\r\n      this,\r\n      'background',\r\n    );\r\n    this.handleChangeFocus = this.handleChangeFocus.bind(this);\r\n  }\r\n\r\n  handleChangeFocus(nextFocus) {\r\n    this.setState(() => ({ isFocused: Boolean(nextFocus) }));\r\n  }\r\n\r\n  handleUpdateMeta(metaKey, nextValue) {\r\n    const { updateComponents, component } = this.props;\r\n    if (nextValue && component.meta[metaKey] !== nextValue) {\r\n      updateComponents({\r\n        [component.id]: {\r\n          ...component,\r\n          meta: {\r\n            ...component.meta,\r\n            [metaKey]: nextValue,\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  handleDeleteComponent() {\r\n    const { deleteComponent, component, parentId } = this.props;\r\n    deleteComponent(component.id, parentId);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      component: rowComponent,\r\n      parentComponent,\r\n      index,\r\n      availableColumnCount,\r\n      columnWidth,\r\n      occupiedColumnCount,\r\n      depth,\r\n      onResizeStart,\r\n      onResize,\r\n      onResizeStop,\r\n      handleComponentDrop,\r\n      editMode,\r\n      isComponentVisible,\r\n    } = this.props;\r\n\r\n    const rowItems = rowComponent.children || [];\r\n\r\n    const backgroundStyle = backgroundStyleOptions.find(\r\n      opt =>\r\n        opt.value === (rowComponent.meta.background || BACKGROUND_TRANSPARENT),\r\n    );\r\n\r\n    return (\r\n      <DragDroppable\r\n        component={rowComponent}\r\n        parentComponent={parentComponent}\r\n        orientation=\"row\"\r\n        index={index}\r\n        depth={depth}\r\n        onDrop={handleComponentDrop}\r\n        editMode={editMode}\r\n      >\r\n        {({ dropIndicatorProps, dragSourceRef }) => (\r\n          <WithPopoverMenu\r\n            isFocused={this.state.isFocused}\r\n            onChangeFocus={this.handleChangeFocus}\r\n            disableClick\r\n            menuItems={[\r\n              <BackgroundStyleDropdown\r\n                id={`${rowComponent.id}-background`}\r\n                value={backgroundStyle.value}\r\n                onChange={this.handleChangeBackground}\r\n              />,\r\n            ]}\r\n            editMode={editMode}\r\n          >\r\n            {editMode && (\r\n              <HoverMenu innerRef={dragSourceRef} position=\"left\">\r\n                <DragHandle position=\"left\" />\r\n                <DeleteComponentButton onDelete={this.handleDeleteComponent} />\r\n                <IconButton\r\n                  onClick={this.handleChangeFocus}\r\n                  className=\"fa fa-cog\"\r\n                />\r\n              </HoverMenu>\r\n            )}\r\n            <div\r\n              className={cx(\r\n                'grid-row',\r\n                rowItems.length === 0 && 'grid-row--empty',\r\n                backgroundStyle.className,\r\n              )}\r\n              data-test={`grid-row-${backgroundStyle.className}`}\r\n            >\r\n              {rowItems.map((componentId, itemIndex) => (\r\n                <DashboardComponent\r\n                  key={componentId}\r\n                  id={componentId}\r\n                  parentId={rowComponent.id}\r\n                  depth={depth + 1}\r\n                  index={itemIndex}\r\n                  availableColumnCount={\r\n                    availableColumnCount - occupiedColumnCount\r\n                  }\r\n                  columnWidth={columnWidth}\r\n                  onResizeStart={onResizeStart}\r\n                  onResize={onResize}\r\n                  onResizeStop={onResizeStop}\r\n                  isComponentVisible={isComponentVisible}\r\n                />\r\n              ))}\r\n\r\n              {dropIndicatorProps && <div {...dropIndicatorProps} />}\r\n            </div>\r\n          </WithPopoverMenu>\r\n        )}\r\n      </DragDroppable>\r\n    );\r\n  }\r\n}\r\n\r\nRow.propTypes = propTypes;\r\n\r\nexport default Row;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@superset-ui/core';\r\n\r\nimport DashboardComponent from '../../containers/DashboardComponent';\r\nimport DragDroppable from '../dnd/DragDroppable';\r\nimport EditableTitle from '../../../components/EditableTitle';\r\nimport AnchorLink from '../../../components/AnchorLink';\r\nimport { componentShape } from '../../util/propShapes';\r\n\r\nexport const RENDER_TAB = 'RENDER_TAB';\r\nexport const RENDER_TAB_CONTENT = 'RENDER_TAB_CONTENT';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  parentId: PropTypes.string.isRequired,\r\n  component: componentShape.isRequired,\r\n  parentComponent: componentShape.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  depth: PropTypes.number.isRequired,\r\n  renderType: PropTypes.oneOf([RENDER_TAB, RENDER_TAB_CONTENT]).isRequired,\r\n  onDropOnTab: PropTypes.func,\r\n  editMode: PropTypes.bool.isRequired,\r\n  filters: PropTypes.object.isRequired,\r\n\r\n  // grid related\r\n  availableColumnCount: PropTypes.number,\r\n  columnWidth: PropTypes.number,\r\n  onResizeStart: PropTypes.func,\r\n  onResize: PropTypes.func,\r\n  onResizeStop: PropTypes.func,\r\n\r\n  // redux\r\n  handleComponentDrop: PropTypes.func.isRequired,\r\n  updateComponents: PropTypes.func.isRequired,\r\n  setDirectPathToChild: PropTypes.func.isRequired,\r\n};\r\n\r\nconst defaultProps = {\r\n  availableColumnCount: 0,\r\n  columnWidth: 0,\r\n  onDropOnTab() {},\r\n  onResizeStart() {},\r\n  onResize() {},\r\n  onResizeStop() {},\r\n};\r\n\r\nconst TabTitleContainer = styled.div`\r\n  ${({ isHighlighted, theme: { gridUnit, colors } }) => `\r\n    padding: ${gridUnit}px ${gridUnit * 2}px;\r\n    margin: ${-gridUnit}px ${gridUnit * -2}px;\r\n    transition: box-shadow 0.2s ease-in-out;\r\n    ${\r\n      isHighlighted && `box-shadow: 0 0 ${gridUnit}px ${colors.primary.light1};`\r\n    }\r\n  `}\r\n`;\r\n\r\nexport default class Tab extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleChangeText = this.handleChangeText.bind(this);\r\n    this.handleDrop = this.handleDrop.bind(this);\r\n    this.handleTopDropTargetDrop = this.handleTopDropTargetDrop.bind(this);\r\n    this.handleChangeTab = this.handleChangeTab.bind(this);\r\n  }\r\n\r\n  handleChangeTab({ pathToTabIndex }) {\r\n    this.props.setDirectPathToChild(pathToTabIndex);\r\n  }\r\n\r\n  handleChangeText(nextTabText) {\r\n    const { updateComponents, component } = this.props;\r\n    if (nextTabText && nextTabText !== component.meta.text) {\r\n      updateComponents({\r\n        [component.id]: {\r\n          ...component,\r\n          meta: {\r\n            ...component.meta,\r\n            text: nextTabText,\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  handleDrop(dropResult) {\r\n    this.props.handleComponentDrop(dropResult);\r\n    this.props.onDropOnTab(dropResult);\r\n  }\r\n\r\n  handleTopDropTargetDrop(dropResult) {\r\n    if (dropResult) {\r\n      this.props.handleComponentDrop({\r\n        ...dropResult,\r\n        destination: {\r\n          ...dropResult.destination,\r\n          // force appending as the first child if top drop target\r\n          index: 0,\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  renderTabContent() {\r\n    const {\r\n      component: tabComponent,\r\n      parentComponent: tabParentComponent,\r\n      depth,\r\n      availableColumnCount,\r\n      columnWidth,\r\n      onResizeStart,\r\n      onResize,\r\n      onResizeStop,\r\n      editMode,\r\n      isComponentVisible,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"dashboard-component-tabs-content\">\r\n        {/* Make top of tab droppable */}\r\n        {editMode && (\r\n          <DragDroppable\r\n            component={tabComponent}\r\n            parentComponent={tabParentComponent}\r\n            orientation=\"column\"\r\n            index={0}\r\n            depth={depth}\r\n            onDrop={this.handleTopDropTargetDrop}\r\n            editMode\r\n            className=\"empty-droptarget\"\r\n          >\r\n            {({ dropIndicatorProps }) =>\r\n              dropIndicatorProps && (\r\n                <div className=\"drop-indicator drop-indicator--top\" />\r\n              )\r\n            }\r\n          </DragDroppable>\r\n        )}\r\n        {tabComponent.children.map((componentId, componentIndex) => (\r\n          <DashboardComponent\r\n            key={componentId}\r\n            id={componentId}\r\n            parentId={tabComponent.id}\r\n            depth={depth} // see isValidChild.js for why tabs don't increment child depth\r\n            index={componentIndex}\r\n            onDrop={this.handleDrop}\r\n            availableColumnCount={availableColumnCount}\r\n            columnWidth={columnWidth}\r\n            onResizeStart={onResizeStart}\r\n            onResize={onResize}\r\n            onResizeStop={onResizeStop}\r\n            isComponentVisible={isComponentVisible}\r\n            onChangeTab={this.handleChangeTab}\r\n          />\r\n        ))}\r\n        {/* Make bottom of tab droppable */}\r\n        {editMode && (\r\n          <DragDroppable\r\n            component={tabComponent}\r\n            parentComponent={tabParentComponent}\r\n            orientation=\"column\"\r\n            index={tabComponent.children.length}\r\n            depth={depth}\r\n            onDrop={this.handleDrop}\r\n            editMode\r\n            className=\"empty-droptarget\"\r\n          >\r\n            {({ dropIndicatorProps }) =>\r\n              dropIndicatorProps && (\r\n                <div className=\"drop-indicator drop-indicator--bottom\" />\r\n              )\r\n            }\r\n          </DragDroppable>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderTab() {\r\n    const {\r\n      component,\r\n      parentComponent,\r\n      index,\r\n      depth,\r\n      editMode,\r\n      filters,\r\n      isFocused,\r\n      isHighlighted,\r\n    } = this.props;\r\n\r\n    return (\r\n      <DragDroppable\r\n        component={component}\r\n        parentComponent={parentComponent}\r\n        orientation=\"column\"\r\n        index={index}\r\n        depth={depth}\r\n        onDrop={this.handleDrop}\r\n        editMode={editMode}\r\n      >\r\n        {({ dropIndicatorProps, dragSourceRef }) => (\r\n          <TabTitleContainer\r\n            isHighlighted={isHighlighted}\r\n            className=\"dragdroppable-tab\"\r\n            ref={dragSourceRef}\r\n          >\r\n            <EditableTitle\r\n              title={component.meta.text}\r\n              defaultTitle={component.meta.defaultText}\r\n              placeholder={component.meta.placeholder}\r\n              canEdit={editMode && isFocused}\r\n              onSaveTitle={this.handleChangeText}\r\n              showTooltip={false}\r\n              editing={editMode && isFocused}\r\n            />\r\n            {!editMode && (\r\n              <AnchorLink\r\n                anchorLinkId={component.id}\r\n                filters={filters}\r\n                showShortLinkButton\r\n                placement={index >= 5 ? 'left' : 'right'}\r\n              />\r\n            )}\r\n\r\n            {dropIndicatorProps && <div {...dropIndicatorProps} />}\r\n          </TabTitleContainer>\r\n        )}\r\n      </DragDroppable>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { renderType } = this.props;\r\n    return renderType === RENDER_TAB\r\n      ? this.renderTab()\r\n      : this.renderTabContent();\r\n  }\r\n}\r\n\r\nTab.propTypes = propTypes;\r\nTab.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { LineEditableTabs } from 'src/components/Tabs';\r\nimport { LOG_ACTIONS_SELECT_DASHBOARD_TAB } from 'src/logger/LogUtils';\r\nimport { Modal } from 'src/common/components';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport DragDroppable from '../dnd/DragDroppable';\r\nimport DragHandle from '../dnd/DragHandle';\r\nimport DashboardComponent from '../../containers/DashboardComponent';\r\nimport DeleteComponentButton from '../DeleteComponentButton';\r\nimport HoverMenu from '../menu/HoverMenu';\r\nimport findTabIndexByComponentId from '../../util/findTabIndexByComponentId';\r\nimport getDirectPathToTabIndex from '../../util/getDirectPathToTabIndex';\r\nimport getLeafComponentIdFromPath from '../../util/getLeafComponentIdFromPath';\r\nimport { componentShape } from '../../util/propShapes';\r\nimport {\r\n  NEW_TAB_ID,\r\n  DASHBOARD_ROOT_ID,\r\n  DASHBOARD_GRID_ID,\r\n} from '../../util/constants';\r\nimport { RENDER_TAB, RENDER_TAB_CONTENT } from './Tab';\r\nimport { TAB_TYPE } from '../../util/componentTypes';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  parentId: PropTypes.string.isRequired,\r\n  component: componentShape.isRequired,\r\n  parentComponent: componentShape.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  depth: PropTypes.number.isRequired,\r\n  renderTabContent: PropTypes.bool, // whether to render tabs + content or just tabs\r\n  editMode: PropTypes.bool.isRequired,\r\n  renderHoverMenu: PropTypes.bool,\r\n  directPathToChild: PropTypes.arrayOf(PropTypes.string),\r\n\r\n  // actions (from DashboardComponent.jsx)\r\n  logEvent: PropTypes.func.isRequired,\r\n\r\n  // grid related\r\n  availableColumnCount: PropTypes.number,\r\n  columnWidth: PropTypes.number,\r\n  onResizeStart: PropTypes.func,\r\n  onResize: PropTypes.func,\r\n  onResizeStop: PropTypes.func,\r\n\r\n  // dnd\r\n  createComponent: PropTypes.func.isRequired,\r\n  handleComponentDrop: PropTypes.func.isRequired,\r\n  onChangeTab: PropTypes.func.isRequired,\r\n  deleteComponent: PropTypes.func.isRequired,\r\n  updateComponents: PropTypes.func.isRequired,\r\n};\r\n\r\nconst defaultProps = {\r\n  renderTabContent: true,\r\n  renderHoverMenu: true,\r\n  availableColumnCount: 0,\r\n  columnWidth: 0,\r\n  directPathToChild: [],\r\n  onResizeStart() {},\r\n  onResize() {},\r\n  onResizeStop() {},\r\n};\r\n\r\nconst StyledTabsContainer = styled.div`\r\n  width: 100%;\r\n  background-color: ${({ theme }) => theme.colors.grayscale.light5};\r\n\r\n  .dashboard-component-tabs-content {\r\n    min-height: ${({ theme }) => theme.gridUnit * 12}px;\r\n    margin-top: ${({ theme }) => theme.gridUnit / 4}px;\r\n    position: relative;\r\n  }\r\n\r\n  .ant-tabs {\r\n    overflow: visible;\r\n\r\n    .ant-tabs-nav-wrap {\r\n      min-height: ${({ theme }) => theme.gridUnit * 12.5}px;\r\n    }\r\n\r\n    .ant-tabs-content-holder {\r\n      overflow: visible;\r\n    }\r\n  }\r\n\r\n  div .ant-tabs-tab-btn {\r\n    text-transform: none;\r\n  }\r\n`;\r\n\r\nclass Tabs extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    const tabIndex = Math.max(\r\n      0,\r\n      findTabIndexByComponentId({\r\n        currentComponent: props.component,\r\n        directPathToChild: props.directPathToChild,\r\n      }),\r\n    );\r\n    const { children: tabIds } = props.component;\r\n    const activeKey = tabIds[tabIndex];\r\n\r\n    this.state = {\r\n      tabIndex,\r\n      activeKey,\r\n    };\r\n    this.handleClickTab = this.handleClickTab.bind(this);\r\n    this.handleDeleteComponent = this.handleDeleteComponent.bind(this);\r\n    this.handleDeleteTab = this.handleDeleteTab.bind(this);\r\n    this.handleDropOnTab = this.handleDropOnTab.bind(this);\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    const maxIndex = Math.max(0, nextProps.component.children.length - 1);\r\n    const currTabsIds = this.props.component.children;\r\n    const nextTabsIds = nextProps.component.children;\r\n\r\n    if (this.state.tabIndex > maxIndex) {\r\n      this.setState(() => ({ tabIndex: maxIndex }));\r\n    }\r\n\r\n    if (nextTabsIds.length) {\r\n      const lastTabId = nextTabsIds[nextTabsIds.length - 1];\r\n      // if a new tab is added focus on it immediately\r\n      if (nextTabsIds.length > currTabsIds.length) {\r\n        this.setState(() => ({ activeKey: lastTabId }));\r\n      }\r\n      // if a tab is removed focus on the first\r\n      if (nextTabsIds.length < currTabsIds.length) {\r\n        this.setState(() => ({ activeKey: nextTabsIds[0] }));\r\n      }\r\n    }\r\n\r\n    if (nextProps.isComponentVisible) {\r\n      const nextFocusComponent = getLeafComponentIdFromPath(\r\n        nextProps.directPathToChild,\r\n      );\r\n      const currentFocusComponent = getLeafComponentIdFromPath(\r\n        this.props.directPathToChild,\r\n      );\r\n\r\n      if (nextFocusComponent !== currentFocusComponent) {\r\n        const nextTabIndex = findTabIndexByComponentId({\r\n          currentComponent: nextProps.component,\r\n          directPathToChild: nextProps.directPathToChild,\r\n        });\r\n\r\n        // make sure nextFocusComponent is under this tabs component\r\n        if (nextTabIndex > -1 && nextTabIndex !== this.state.tabIndex) {\r\n          this.setState(() => ({ tabIndex: nextTabIndex }));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  showDeleteConfirmModal = key => {\r\n    const { component, deleteComponent } = this.props;\r\n    Modal.confirm({\r\n      title: t('Delete dashboard tab?'),\r\n      content: (\r\n        <span>\r\n          Deleting a tab will remove all content within it. You may still\r\n          reverse this action with the <b>undo</b> button (cmd + z) until you\r\n          save your changes.\r\n        </span>\r\n      ),\r\n      onOk: () => {\r\n        deleteComponent(key, component.id);\r\n        const tabIndex = component.children.indexOf(key);\r\n        this.handleClickTab(Math.max(0, tabIndex - 1));\r\n      },\r\n      okType: 'danger',\r\n      okText: 'DELETE',\r\n      cancelText: 'CANCEL',\r\n      icon: null,\r\n    });\r\n  };\r\n\r\n  handleEdit = (key, action) => {\r\n    const { component, createComponent } = this.props;\r\n    if (action === 'add') {\r\n      createComponent({\r\n        destination: {\r\n          id: component.id,\r\n          type: component.type,\r\n          index: component.children.length,\r\n        },\r\n        dragging: {\r\n          id: NEW_TAB_ID,\r\n          type: TAB_TYPE,\r\n        },\r\n      });\r\n    } else if (action === 'remove') {\r\n      this.showDeleteConfirmModal(key);\r\n    }\r\n  };\r\n\r\n  handleClickTab(tabIndex) {\r\n    const { component } = this.props;\r\n    const { children: tabIds } = component;\r\n\r\n    if (tabIndex !== this.state.tabIndex) {\r\n      const pathToTabIndex = getDirectPathToTabIndex(component, tabIndex);\r\n      const targetTabId = pathToTabIndex[pathToTabIndex.length - 1];\r\n      this.props.logEvent(LOG_ACTIONS_SELECT_DASHBOARD_TAB, {\r\n        target_id: targetTabId,\r\n        index: tabIndex,\r\n      });\r\n\r\n      this.props.onChangeTab({ pathToTabIndex });\r\n    }\r\n    this.setState(() => ({ activeKey: tabIds[tabIndex] }));\r\n  }\r\n\r\n  handleDeleteComponent() {\r\n    const { deleteComponent, id, parentId } = this.props;\r\n    deleteComponent(id, parentId);\r\n  }\r\n\r\n  handleDeleteTab(tabIndex) {\r\n    this.handleClickTab(Math.max(0, tabIndex - 1));\r\n  }\r\n\r\n  handleDropOnTab(dropResult) {\r\n    const { component } = this.props;\r\n\r\n    // Ensure dropped tab is visible\r\n    const { destination } = dropResult;\r\n    if (destination) {\r\n      const dropTabIndex =\r\n        destination.id === component.id\r\n          ? destination.index // dropped ON tabs\r\n          : component.children.indexOf(destination.id); // dropped IN tab\r\n\r\n      if (dropTabIndex > -1) {\r\n        setTimeout(() => {\r\n          this.handleClickTab(dropTabIndex);\r\n        }, 30);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      depth,\r\n      component: tabsComponent,\r\n      parentComponent,\r\n      index,\r\n      availableColumnCount,\r\n      columnWidth,\r\n      onResizeStart,\r\n      onResize,\r\n      onResizeStop,\r\n      handleComponentDrop,\r\n      renderTabContent,\r\n      renderHoverMenu,\r\n      isComponentVisible: isCurrentTabVisible,\r\n      editMode,\r\n      nativeFilters,\r\n      dashboardLayout,\r\n      lastFocusedTabId,\r\n      setLastFocusedTab,\r\n    } = this.props;\r\n\r\n    const { children: tabIds } = tabsComponent;\r\n    const { tabIndex: selectedTabIndex, activeKey } = this.state;\r\n\r\n    // On dashboards with top level tabs, set initial focus to the active top level tab\r\n    const dashboardRoot = dashboardLayout[DASHBOARD_ROOT_ID];\r\n    const rootChildId = dashboardRoot.children[0];\r\n    const isTopLevelTabs = rootChildId !== DASHBOARD_GRID_ID;\r\n    if (isTopLevelTabs && !lastFocusedTabId) {\r\n      setLastFocusedTab(activeKey);\r\n    }\r\n\r\n    let tabsToHighlight;\r\n    if (nativeFilters.focusedFilterId) {\r\n      tabsToHighlight =\r\n        nativeFilters.filters[nativeFilters.focusedFilterId].tabsInScope;\r\n    }\r\n    return (\r\n      <DragDroppable\r\n        component={tabsComponent}\r\n        parentComponent={parentComponent}\r\n        orientation=\"row\"\r\n        index={index}\r\n        depth={depth}\r\n        onDrop={handleComponentDrop}\r\n        editMode={editMode}\r\n      >\r\n        {({\r\n          dropIndicatorProps: tabsDropIndicatorProps,\r\n          dragSourceRef: tabsDragSourceRef,\r\n        }) => (\r\n          <StyledTabsContainer\r\n            className=\"dashboard-component dashboard-component-tabs\"\r\n            data-test=\"dashboard-component-tabs\"\r\n          >\r\n            {editMode && renderHoverMenu && (\r\n              <HoverMenu innerRef={tabsDragSourceRef} position=\"left\">\r\n                <DragHandle position=\"left\" />\r\n                <DeleteComponentButton onDelete={this.handleDeleteComponent} />\r\n              </HoverMenu>\r\n            )}\r\n\r\n            <LineEditableTabs\r\n              id={tabsComponent.id}\r\n              activeKey={activeKey}\r\n              onChange={key => {\r\n                this.handleClickTab(tabIds.indexOf(key));\r\n              }}\r\n              onEdit={this.handleEdit}\r\n              data-test=\"nav-list\"\r\n              type={editMode ? 'editable-card' : 'card'}\r\n              onTabClick={setLastFocusedTab}\r\n            >\r\n              {tabIds.map((tabId, tabIndex) => (\r\n                <LineEditableTabs.TabPane\r\n                  key={tabId}\r\n                  tab={\r\n                    <DashboardComponent\r\n                      id={tabId}\r\n                      parentId={tabsComponent.id}\r\n                      depth={depth}\r\n                      index={tabIndex}\r\n                      renderType={RENDER_TAB}\r\n                      availableColumnCount={availableColumnCount}\r\n                      columnWidth={columnWidth}\r\n                      onDropOnTab={this.handleDropOnTab}\r\n                      isFocused={activeKey === tabId}\r\n                      isHighlighted={\r\n                        activeKey !== tabId && tabsToHighlight?.includes(tabId)\r\n                      }\r\n                    />\r\n                  }\r\n                >\r\n                  {renderTabContent && (\r\n                    <DashboardComponent\r\n                      id={tabId}\r\n                      parentId={tabsComponent.id}\r\n                      depth={depth} // see isValidChild.js for why tabs don't increment child depth\r\n                      index={tabIndex}\r\n                      renderType={RENDER_TAB_CONTENT}\r\n                      availableColumnCount={availableColumnCount}\r\n                      columnWidth={columnWidth}\r\n                      onResizeStart={onResizeStart}\r\n                      onResize={onResize}\r\n                      onResizeStop={onResizeStop}\r\n                      onDropOnTab={this.handleDropOnTab}\r\n                      isComponentVisible={\r\n                        selectedTabIndex === tabIndex && isCurrentTabVisible\r\n                      }\r\n                    />\r\n                  )}\r\n                </LineEditableTabs.TabPane>\r\n              ))}\r\n            </LineEditableTabs>\r\n\r\n            {/* don't indicate that a drop on root is allowed when tabs already exist */}\r\n            {tabsDropIndicatorProps &&\r\n              parentComponent.id !== DASHBOARD_ROOT_ID && (\r\n                <div {...tabsDropIndicatorProps} />\r\n              )}\r\n          </StyledTabsContainer>\r\n        )}\r\n      </DragDroppable>\r\n    );\r\n  }\r\n}\r\n\r\nTabs.propTypes = propTypes;\r\nTabs.defaultProps = defaultProps;\r\n\r\nexport default Tabs;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport {\r\n  CHART_TYPE,\r\n  MARKDOWN_TYPE,\r\n  COLUMN_TYPE,\r\n  DIVIDER_TYPE,\r\n  HEADER_TYPE,\r\n  ROW_TYPE,\r\n  TAB_TYPE,\r\n  TABS_TYPE,\r\n} from '../../util/componentTypes';\r\n\r\nimport ChartHolder from './ChartHolder';\r\nimport Markdown from './Markdown';\r\nimport Column from './Column';\r\nimport Divider from './Divider';\r\nimport Header from './Header';\r\nimport Row from './Row';\r\nimport Tab from './Tab';\r\nimport Tabs from './Tabs';\r\n\r\nexport { default as ChartHolder } from './ChartHolder';\r\nexport { default as Markdown } from './Markdown';\r\nexport { default as Column } from './Column';\r\nexport { default as Divider } from './Divider';\r\nexport { default as Header } from './Header';\r\nexport { default as Row } from './Row';\r\nexport { default as Tab } from './Tab';\r\nexport { default as Tabs } from './Tabs';\r\n\r\nexport const componentLookup = {\r\n  [CHART_TYPE]: ChartHolder,\r\n  [MARKDOWN_TYPE]: Markdown,\r\n  [COLUMN_TYPE]: Column,\r\n  [DIVIDER_TYPE]: Divider,\r\n  [HEADER_TYPE]: Header,\r\n  [ROW_TYPE]: Row,\r\n  [TAB_TYPE]: Tab,\r\n  [TABS_TYPE]: Tabs,\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\n\r\nimport DragDroppable from '../../dnd/DragDroppable';\r\nimport { NEW_COMPONENTS_SOURCE_ID } from '../../../util/constants';\r\nimport { NEW_COMPONENT_SOURCE_TYPE } from '../../../util/componentTypes';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n};\r\n\r\nconst defaultProps = {\r\n  className: null,\r\n};\r\n\r\nexport default class DraggableNewComponent extends React.PureComponent {\r\n  render() {\r\n    const { label, id, type, className } = this.props;\r\n    return (\r\n      <DragDroppable\r\n        component={{ type, id }}\r\n        parentComponent={{\r\n          id: NEW_COMPONENTS_SOURCE_ID,\r\n          type: NEW_COMPONENT_SOURCE_TYPE,\r\n        }}\r\n        index={0}\r\n        depth={0}\r\n        editMode\r\n      >\r\n        {({ dragSourceRef }) => (\r\n          <div\r\n            ref={dragSourceRef}\r\n            className=\"new-component\"\r\n            data-test=\"new-component\"\r\n          >\r\n            <div className={cx('new-component-placeholder', className)} />\r\n            {label}\r\n          </div>\r\n        )}\r\n      </DragDroppable>\r\n    );\r\n  }\r\n}\r\n\r\nDraggableNewComponent.propTypes = propTypes;\r\nDraggableNewComponent.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport { COLUMN_TYPE } from '../../../util/componentTypes';\r\nimport { NEW_COLUMN_ID } from '../../../util/constants';\r\nimport DraggableNewComponent from './DraggableNewComponent';\r\n\r\nexport default function DraggableNewColumn() {\r\n  return (\r\n    <DraggableNewComponent\r\n      id={NEW_COLUMN_ID}\r\n      type={COLUMN_TYPE}\r\n      label={t('Column')}\r\n      className=\"fa fa-long-arrow-down\"\r\n    />\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport { DIVIDER_TYPE } from '../../../util/componentTypes';\r\nimport { NEW_DIVIDER_ID } from '../../../util/constants';\r\nimport DraggableNewComponent from './DraggableNewComponent';\r\n\r\nexport default function DraggableNewDivider() {\r\n  return (\r\n    <DraggableNewComponent\r\n      id={NEW_DIVIDER_ID}\r\n      type={DIVIDER_TYPE}\r\n      label={t('Divider')}\r\n      className=\"divider-placeholder\"\r\n    />\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport { HEADER_TYPE } from '../../../util/componentTypes';\r\nimport { NEW_HEADER_ID } from '../../../util/constants';\r\nimport DraggableNewComponent from './DraggableNewComponent';\r\n\r\nexport default function DraggableNewHeader() {\r\n  return (\r\n    <DraggableNewComponent\r\n      id={NEW_HEADER_ID}\r\n      type={HEADER_TYPE}\r\n      label={t('Header')}\r\n      className=\"fa fa-header\"\r\n    />\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\n\r\nimport { MARKDOWN_TYPE } from '../../../util/componentTypes';\r\nimport { NEW_MARKDOWN_ID } from '../../../util/constants';\r\nimport DraggableNewComponent from './DraggableNewComponent';\r\n\r\nexport default function DraggableNewDivider() {\r\n  return (\r\n    <DraggableNewComponent\r\n      id={NEW_MARKDOWN_ID}\r\n      type={MARKDOWN_TYPE}\r\n      label=\"Markdown\"\r\n      className=\"fa fa-code\"\r\n    />\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport { ROW_TYPE } from '../../../util/componentTypes';\r\nimport { NEW_ROW_ID } from '../../../util/constants';\r\nimport DraggableNewComponent from './DraggableNewComponent';\r\n\r\nexport default function DraggableNewRow() {\r\n  return (\r\n    <DraggableNewComponent\r\n      id={NEW_ROW_ID}\r\n      type={ROW_TYPE}\r\n      label={t('Row')}\r\n      className=\"fa fa-long-arrow-right\"\r\n    />\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport { TABS_TYPE } from '../../../util/componentTypes';\r\nimport { NEW_TABS_ID } from '../../../util/constants';\r\nimport DraggableNewComponent from './DraggableNewComponent';\r\n\r\nexport default function DraggableNewTabs() {\r\n  return (\r\n    <DraggableNewComponent\r\n      id={NEW_TABS_ID}\r\n      type={TABS_TYPE}\r\n      label={t('Tabs')}\r\n      className=\"fa fa-window-restore\"\r\n    />\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport cx from 'classnames';\r\n\r\nimport backgroundStyleOptions from 'src/dashboard/util/backgroundStyleOptions';\r\nimport PopoverDropdown, {\r\n  OptionProps,\r\n  OnChangeHandler,\r\n} from 'src/components/PopoverDropdown';\r\n\r\ninterface BackgroundStyleDropdownProps {\r\n  id: string;\r\n  value: string;\r\n  onChange: OnChangeHandler;\r\n}\r\n\r\nfunction renderButton(option: OptionProps) {\r\n  return (\r\n    <div className={cx('background-style-option', option.className)}>\r\n      {`${option.label} background`}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction renderOption(option: OptionProps) {\r\n  return (\r\n    <div className={cx('background-style-option', option.className)}>\r\n      {option.label}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default class BackgroundStyleDropdown extends React.PureComponent<BackgroundStyleDropdownProps> {\r\n  render() {\r\n    const { id, value, onChange } = this.props;\r\n    return (\r\n      <PopoverDropdown\r\n        id={id}\r\n        options={backgroundStyleOptions}\r\n        value={value}\r\n        onChange={onChange}\r\n        renderButton={renderButton}\r\n        renderOption={renderOption}\r\n      />\r\n    );\r\n  }\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { RefObject } from 'react';\r\nimport cx from 'classnames';\r\n\r\ninterface HoverMenuProps {\r\n  position: 'left' | 'top';\r\n  innerRef: RefObject<HTMLDivElement>;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default class HoverMenu extends React.PureComponent<HoverMenuProps> {\r\n  static defaultProps = {\r\n    position: 'left',\r\n    innerRef: null,\r\n    children: null,\r\n  };\r\n\r\n  render() {\r\n    const { innerRef, position, children } = this.props;\r\n    return (\r\n      <div\r\n        ref={innerRef}\r\n        className={cx(\r\n          'hover-menu',\r\n          position === 'left' && 'hover-menu--left',\r\n          position === 'top' && 'hover-menu--top',\r\n        )}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport PopoverDropdown, {\r\n  OnChangeHandler,\r\n} from 'src/components/PopoverDropdown';\r\n\r\ninterface MarkdownModeDropdownProps {\r\n  id: string;\r\n  value: string;\r\n  onChange: OnChangeHandler;\r\n}\r\n\r\nconst dropdownOptions = [\r\n  {\r\n    value: 'edit',\r\n    label: t('Edit'),\r\n  },\r\n  {\r\n    value: 'preview',\r\n    label: t('Preview'),\r\n  },\r\n];\r\n\r\nexport default class MarkdownModeDropdown extends React.PureComponent<MarkdownModeDropdownProps> {\r\n  render() {\r\n    const { id, value, onChange } = this.props;\r\n\r\n    return (\r\n      <PopoverDropdown\r\n        id={id}\r\n        options={dropdownOptions}\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n    );\r\n  }\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { useUrlShortener } from 'src/common/hooks/useUrlShortener';\r\nimport copyTextToClipboard from 'src/utils/copy';\r\nimport { t } from '@superset-ui/core';\r\nimport { Menu } from 'src/common/components';\r\n\r\ninterface ShareMenuItemProps {\r\n  url: string;\r\n  copyMenuItemTitle: string;\r\n  emailMenuItemTitle: string;\r\n  emailSubject: string;\r\n  emailBody: string;\r\n  addDangerToast: Function;\r\n  addSuccessToast: Function;\r\n}\r\n\r\nconst ShareMenuItems = (props: ShareMenuItemProps) => {\r\n  const {\r\n    url,\r\n    copyMenuItemTitle,\r\n    emailMenuItemTitle,\r\n    emailSubject,\r\n    emailBody,\r\n    addDangerToast,\r\n    addSuccessToast,\r\n    ...rest\r\n  } = props;\r\n\r\n  const getShortUrl = useUrlShortener(url);\r\n\r\n  async function onCopyLink() {\r\n    try {\r\n      const shortUrl = await getShortUrl();\r\n      await copyTextToClipboard(shortUrl);\r\n      addSuccessToast(t('Copied to clipboard!'));\r\n    } catch (error) {\r\n      addDangerToast(t('Sorry, your browser does not support copying.'));\r\n    }\r\n  }\r\n\r\n  async function onShareByEmail() {\r\n    try {\r\n      const shortUrl = await getShortUrl();\r\n      const bodyWithLink = `${emailBody}${shortUrl}`;\r\n      window.location.href = `mailto:?Subject=${emailSubject}%20&Body=${bodyWithLink}`;\r\n    } catch (error) {\r\n      addDangerToast(t('Sorry, something went wrong. Try again later.'));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Menu.Item key=\"copy-url\" {...rest}>\r\n        <div onClick={onCopyLink} role=\"button\" tabIndex={0}>\r\n          {copyMenuItemTitle}\r\n        </div>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"share-by-email\" {...rest}>\r\n        <div onClick={onShareByEmail} role=\"button\" tabIndex={0}>\r\n          {emailMenuItemTitle}\r\n        </div>\r\n      </Menu.Item>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShareMenuItems;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport cx from 'classnames';\r\n\r\ntype ShouldFocusContainer = HTMLDivElement & {\r\n  contains: (event_target: EventTarget & HTMLElement) => Boolean;\r\n};\r\n\r\ninterface WithPopoverMenuProps {\r\n  children: React.ReactNode;\r\n  disableClick: Boolean;\r\n  menuItems: React.ReactNode[];\r\n  onChangeFocus: (focus: Boolean) => void;\r\n  isFocused: Boolean;\r\n  // Event argument is left as \"any\" because of the clash. In defaultProps it seems\r\n  // like it should be React.FocusEvent<>, however from handleClick() we can also\r\n  // derive that type is EventListenerOrEventListenerObject.\r\n  shouldFocus: (event: any, container: ShouldFocusContainer) => Boolean;\r\n  editMode: Boolean;\r\n  style: React.CSSProperties;\r\n}\r\n\r\ninterface WithPopoverMenuState {\r\n  isFocused: Boolean;\r\n}\r\n\r\nexport default class WithPopoverMenu extends React.PureComponent<\r\n  WithPopoverMenuProps,\r\n  WithPopoverMenuState\r\n> {\r\n  container: ShouldFocusContainer;\r\n\r\n  static defaultProps = {\r\n    children: null,\r\n    disableClick: false,\r\n    onChangeFocus: null,\r\n    menuItems: [],\r\n    isFocused: false,\r\n    shouldFocus: (event: any, container: ShouldFocusContainer) =>\r\n      container?.contains(event.target) ||\r\n      event.target.id === 'menu-item' ||\r\n      event.target.parentNode?.id === 'menu-item',\r\n    style: null,\r\n  };\r\n\r\n  constructor(props: WithPopoverMenuProps) {\r\n    super(props);\r\n    this.state = {\r\n      isFocused: props.isFocused!,\r\n    };\r\n    this.setRef = this.setRef.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps: WithPopoverMenuProps) {\r\n    if (nextProps.editMode && nextProps.isFocused && !this.state.isFocused) {\r\n      document.addEventListener('click', this.handleClick);\r\n      document.addEventListener('drag', this.handleClick);\r\n      this.setState({ isFocused: true });\r\n    } else if (this.state.isFocused && !nextProps.editMode) {\r\n      document.removeEventListener('click', this.handleClick);\r\n      document.removeEventListener('drag', this.handleClick);\r\n      this.setState({ isFocused: false });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('click', this.handleClick);\r\n    document.removeEventListener('drag', this.handleClick);\r\n  }\r\n\r\n  setRef(ref: ShouldFocusContainer) {\r\n    this.container = ref;\r\n  }\r\n\r\n  handleClick(event: any) {\r\n    if (!this.props.editMode) {\r\n      return;\r\n    }\r\n    const {\r\n      onChangeFocus,\r\n      shouldFocus: shouldFocusFunc,\r\n      disableClick,\r\n    } = this.props;\r\n\r\n    const shouldFocus = shouldFocusFunc(event, this.container);\r\n\r\n    if (!disableClick && shouldFocus && !this.state.isFocused) {\r\n      // if not focused, set focus and add a window event listener to capture outside clicks\r\n      // this enables us to not set a click listener for ever item on a dashboard\r\n      document.addEventListener('click', this.handleClick);\r\n      document.addEventListener('drag', this.handleClick);\r\n      this.setState(() => ({ isFocused: true }));\r\n      if (onChangeFocus) {\r\n        onChangeFocus(true);\r\n      }\r\n    } else if (!shouldFocus && this.state.isFocused) {\r\n      document.removeEventListener('click', this.handleClick);\r\n      document.removeEventListener('drag', this.handleClick);\r\n      this.setState(() => ({ isFocused: false }));\r\n      if (onChangeFocus) {\r\n        onChangeFocus(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { children, menuItems, editMode, style } = this.props;\r\n    const { isFocused } = this.state;\r\n\r\n    return (\r\n      <div\r\n        ref={this.setRef}\r\n        onClick={this.handleClick}\r\n        role=\"none\"\r\n        className={cx(\r\n          'with-popover-menu',\r\n          editMode && isFocused && 'with-popover-menu--focused',\r\n        )}\r\n        style={style}\r\n      >\r\n        {children}\r\n        {editMode && isFocused && (menuItems?.length ?? 0) > 0 && (\r\n          <div className=\"popover-menu\">\r\n            {menuItems.map((node: React.ReactNode, i: Number) => (\r\n              <div className=\"menu-item\" key={`menu-item-${i}`}>\r\n                {node}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled, DataMask } from '@superset-ui/core';\r\nimport Icon from 'src/components/Icon';\r\nimport FilterControl from 'src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl';\r\nimport { CascadeFilter } from 'src/dashboard/components/nativeFilters/FilterBar/CascadeFilters/types';\r\nimport { Filter } from 'src/dashboard/components/nativeFilters/types';\r\nimport { DataMaskStateWithId } from 'src/dataMask/types';\r\n\r\nexport interface CascadeFilterControlProps {\r\n  dataMaskSelected?: DataMaskStateWithId;\r\n  filter: CascadeFilter;\r\n  directPathToChild?: string[];\r\n  onFilterSelectionChange: (filter: Filter, dataMask: DataMask) => void;\r\n}\r\n\r\nconst StyledCascadeChildrenList = styled.ul`\r\n  list-style-type: none;\r\n  & > * {\r\n    list-style-type: none;\r\n  }\r\n`;\r\n\r\nconst StyledFilterControlBox = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst StyledCaretIcon = styled(Icon)`\r\n  margin-top: ${({ theme }) => -theme.gridUnit}px;\r\n`;\r\n\r\nconst CascadeFilterControl: React.FC<CascadeFilterControlProps> = ({\r\n  dataMaskSelected,\r\n  filter,\r\n  directPathToChild,\r\n  onFilterSelectionChange,\r\n}) => (\r\n  <>\r\n    <StyledFilterControlBox>\r\n      <StyledCaretIcon name=\"caret-down\" />\r\n      <FilterControl\r\n        dataMaskSelected={dataMaskSelected}\r\n        filter={filter}\r\n        directPathToChild={directPathToChild}\r\n        onFilterSelectionChange={onFilterSelectionChange}\r\n      />\r\n    </StyledFilterControlBox>\r\n\r\n    <StyledCascadeChildrenList>\r\n      {filter.cascadeChildren?.map(childFilter => (\r\n        <li key={childFilter.id}>\r\n          <CascadeFilterControl\r\n            dataMaskSelected={dataMaskSelected}\r\n            filter={childFilter}\r\n            directPathToChild={directPathToChild}\r\n            onFilterSelectionChange={onFilterSelectionChange}\r\n          />\r\n        </li>\r\n      ))}\r\n    </StyledCascadeChildrenList>\r\n  </>\r\n);\r\n\r\nexport default CascadeFilterControl;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { styled, t, DataMask } from '@superset-ui/core';\r\nimport Popover from 'src/components/Popover';\r\nimport Icon from 'src/components/Icon';\r\nimport { Pill } from 'src/dashboard/components/FiltersBadge/Styles';\r\nimport { DataMaskStateWithId } from 'src/dataMask/types';\r\nimport FilterControl from 'src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl';\r\nimport CascadeFilterControl from 'src/dashboard/components/nativeFilters/FilterBar/CascadeFilters/CascadeFilterControl';\r\nimport { CascadeFilter } from 'src/dashboard/components/nativeFilters/FilterBar/CascadeFilters/types';\r\nimport { Filter } from 'src/dashboard/components/nativeFilters/types';\r\n\r\ninterface CascadePopoverProps {\r\n  dataMaskSelected: DataMaskStateWithId;\r\n  filter: CascadeFilter;\r\n  visible: boolean;\r\n  directPathToChild?: string[];\r\n  onVisibleChange: (visible: boolean) => void;\r\n  onFilterSelectionChange: (filter: Filter, dataMask: DataMask) => void;\r\n}\r\n\r\nconst StyledTitleBox = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background-color: ${({ theme }) => theme.colors.grayscale.light4};\r\n  margin: ${({ theme }) => theme.gridUnit * -1}px\r\n    ${({ theme }) => theme.gridUnit * -4}px; // to override default antd padding\r\n  padding: ${({ theme }) => theme.gridUnit * 2}px\r\n    ${({ theme }) => theme.gridUnit * 4}px;\r\n\r\n  & > *:last-child {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst StyledTitle = styled.h4`\r\n  display: flex;\r\n  align-items: center;\r\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\r\n  margin: 0;\r\n  padding: 0;\r\n`;\r\n\r\nconst StyledIcon = styled(Icon)`\r\n  margin-right: ${({ theme }) => theme.gridUnit}px;\r\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\r\n  width: ${({ theme }) => theme.gridUnit * 4}px;\r\n`;\r\n\r\nconst StyledPill = styled(Pill)`\r\n  padding: ${({ theme }) => theme.gridUnit}px\r\n    ${({ theme }) => theme.gridUnit * 2}px;\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  background: ${({ theme }) => theme.colors.grayscale.light1};\r\n`;\r\n\r\nconst CascadePopover: React.FC<CascadePopoverProps> = ({\r\n  dataMaskSelected,\r\n  filter,\r\n  visible,\r\n  onVisibleChange,\r\n  onFilterSelectionChange,\r\n  directPathToChild,\r\n}) => {\r\n  const [currentPathToChild, setCurrentPathToChild] = useState<string[]>();\r\n  const dataMask = dataMaskSelected[filter.id];\r\n\r\n  useEffect(() => {\r\n    setCurrentPathToChild(directPathToChild);\r\n    // clear local copy of directPathToChild after 500ms\r\n    // to prevent triggering multiple focus\r\n    const timeout = setTimeout(() => setCurrentPathToChild(undefined), 500);\r\n    return () => clearTimeout(timeout);\r\n  }, [directPathToChild, setCurrentPathToChild]);\r\n\r\n  const getActiveChildren = useCallback(\r\n    (filter: CascadeFilter): CascadeFilter[] | null => {\r\n      const children = filter.cascadeChildren || [];\r\n      const currentValue = dataMask?.filterState?.value;\r\n\r\n      const activeChildren = children.flatMap(\r\n        childFilter => getActiveChildren(childFilter) || [],\r\n      );\r\n\r\n      if (activeChildren.length > 0) {\r\n        return activeChildren;\r\n      }\r\n\r\n      if (currentValue !== undefined && currentValue !== null) {\r\n        return [filter];\r\n      }\r\n\r\n      return null;\r\n    },\r\n    [dataMask],\r\n  );\r\n\r\n  const getAllFilters = (filter: CascadeFilter): CascadeFilter[] => {\r\n    const children = filter.cascadeChildren || [];\r\n    const allChildren = children.flatMap(getAllFilters);\r\n    return [filter, ...allChildren];\r\n  };\r\n\r\n  const allFilters = getAllFilters(filter);\r\n  const activeFilters = useMemo(() => getActiveChildren(filter) || [filter], [\r\n    filter,\r\n    getActiveChildren,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    const focusedFilterId = currentPathToChild?.[0];\r\n    // filters not directly displayed in the Filter Bar\r\n    const inactiveFilters = allFilters.filter(\r\n      filterEl => !activeFilters.includes(filterEl),\r\n    );\r\n    const focusedInactiveFilter = inactiveFilters.some(\r\n      cascadeChild => cascadeChild.id === focusedFilterId,\r\n    );\r\n\r\n    if (focusedInactiveFilter) {\r\n      onVisibleChange(true);\r\n    }\r\n  }, [currentPathToChild]);\r\n\r\n  if (!filter.cascadeChildren?.length) {\r\n    return (\r\n      <FilterControl\r\n        dataMaskSelected={dataMaskSelected}\r\n        filter={filter}\r\n        directPathToChild={directPathToChild}\r\n        onFilterSelectionChange={onFilterSelectionChange}\r\n      />\r\n    );\r\n  }\r\n\r\n  const title = (\r\n    <StyledTitleBox>\r\n      <StyledTitle>\r\n        <StyledIcon name=\"edit\" />\r\n        {t('Select parent filters')} ({allFilters.length})\r\n      </StyledTitle>\r\n      <StyledIcon name=\"close\" onClick={() => onVisibleChange(false)} />\r\n    </StyledTitleBox>\r\n  );\r\n\r\n  const content = (\r\n    <CascadeFilterControl\r\n      dataMaskSelected={dataMaskSelected}\r\n      data-test=\"cascade-filters-control\"\r\n      key={filter.id}\r\n      filter={filter}\r\n      directPathToChild={visible ? currentPathToChild : undefined}\r\n      onFilterSelectionChange={onFilterSelectionChange}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <Popover\r\n      content={content}\r\n      title={title}\r\n      trigger=\"click\"\r\n      visible={visible}\r\n      onVisibleChange={onVisibleChange}\r\n      placement=\"rightTop\"\r\n      id={filter.id}\r\n      overlayStyle={{ minWidth: '400px', maxWidth: '600px' }}\r\n    >\r\n      <div>\r\n        {activeFilters.map(activeFilter => (\r\n          <FilterControl\r\n            dataMaskSelected={dataMaskSelected}\r\n            key={activeFilter.id}\r\n            filter={activeFilter}\r\n            onFilterSelectionChange={onFilterSelectionChange}\r\n            directPathToChild={currentPathToChild}\r\n            icon={\r\n              <>\r\n                {filter.cascadeChildren.length !== 0 && (\r\n                  <StyledPill onClick={() => onVisibleChange(true)}>\r\n                    <Icon name=\"filter\" /> {allFilters.length}\r\n                  </StyledPill>\r\n                )}\r\n              </>\r\n            }\r\n          />\r\n        ))}\r\n      </div>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default CascadePopover;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setFilterConfiguration } from 'src/dashboard/actions/nativeFilters';\r\nimport Button from 'src/components/Button';\r\nimport { styled } from '@superset-ui/core';\r\nimport { FilterConfiguration } from 'src/dashboard/components/nativeFilters/types';\r\nimport { FiltersConfigModal } from 'src/dashboard/components/nativeFilters/FiltersConfigModal/FiltersConfigModal';\r\nimport { getFilterBarTestId } from '..';\r\n\r\nexport interface FCBProps {\r\n  createNewOnOpen?: boolean;\r\n}\r\n\r\nconst HeaderButton = styled(Button)`\r\n  padding: 0;\r\n`;\r\n\r\nexport const FilterConfigurationLink: React.FC<FCBProps> = ({\r\n  createNewOnOpen,\r\n  children,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const [isOpen, setOpen] = useState(false);\r\n\r\n  function close() {\r\n    setOpen(false);\r\n  }\r\n\r\n  async function submit(filterConfig: FilterConfiguration) {\r\n    dispatch(await setFilterConfiguration(filterConfig));\r\n    close();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\r\n      <HeaderButton\r\n        {...getFilterBarTestId('create-filter')}\r\n        buttonStyle=\"link\"\r\n        buttonSize=\"xsmall\"\r\n        onClick={() => setOpen(true)}\r\n      >\r\n        {children}\r\n      </HeaderButton>\r\n      <FiltersConfigModal\r\n        isOpen={isOpen}\r\n        onSave={submit}\r\n        onCancel={close}\r\n        createNewOnOpen={createNewOnOpen}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FilterConfigurationLink;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { styled } from '@superset-ui/core';\r\nimport FilterValue from './FilterValue';\r\nimport { FilterProps } from './types';\r\n\r\nconst StyledFilterControlTitle = styled.h4`\r\n  width: 100%;\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\r\n  margin: 0;\r\n  overflow-wrap: break-word;\r\n`;\r\n\r\nconst StyledFilterControlTitleBox = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: ${({ theme }) => theme.gridUnit}px;\r\n`;\r\n\r\nconst StyledFilterControlContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst FilterControl: React.FC<FilterProps> = ({\r\n  dataMaskSelected,\r\n  filter,\r\n  icon,\r\n  onFilterSelectionChange,\r\n  directPathToChild,\r\n}) => {\r\n  const { name = '<undefined>' } = filter;\r\n  return (\r\n    <StyledFilterControlContainer>\r\n      <StyledFilterControlTitleBox>\r\n        <StyledFilterControlTitle data-test=\"filter-control-name\">\r\n          {name}\r\n        </StyledFilterControlTitle>\r\n        <div data-test=\"filter-icon\">{icon}</div>\r\n      </StyledFilterControlTitleBox>\r\n      <FilterValue\r\n        dataMaskSelected={dataMaskSelected}\r\n        filter={filter}\r\n        directPathToChild={directPathToChild}\r\n        onFilterSelectionChange={onFilterSelectionChange}\r\n      />\r\n    </StyledFilterControlContainer>\r\n  );\r\n};\r\n\r\nexport default FilterControl;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { FC, useMemo, useState } from 'react';\r\nimport { DataMask, styled, t } from '@superset-ui/core';\r\nimport { css } from '@emotion/react';\r\nimport { useSelector } from 'react-redux';\r\nimport * as portals from 'react-reverse-portal';\r\nimport { DataMaskStateWithId } from 'src/dataMask/types';\r\nimport { Collapse } from 'src/common/components';\r\nimport { TAB_TYPE } from 'src/dashboard/util/componentTypes';\r\nimport { RootState } from 'src/dashboard/types';\r\nimport CascadePopover from '../CascadeFilters/CascadePopover';\r\nimport { buildCascadeFiltersTree } from './utils';\r\nimport { useFilters } from '../state';\r\nimport { Filter } from '../../types';\r\nimport { CascadeFilter } from '../CascadeFilters/types';\r\nimport { useDashboardLayout } from '../../state';\r\n\r\nconst Wrapper = styled.div`\r\n  padding: ${({ theme }) => theme.gridUnit * 4}px;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\ntype FilterControlsProps = {\r\n  directPathToChild?: string[];\r\n  dataMaskSelected: DataMaskStateWithId;\r\n  onFilterSelectionChange: (filter: Filter, dataMask: DataMask) => void;\r\n};\r\n\r\nconst FilterControls: FC<FilterControlsProps> = ({\r\n  directPathToChild,\r\n  dataMaskSelected,\r\n  onFilterSelectionChange,\r\n}) => {\r\n  const [visiblePopoverId, setVisiblePopoverId] = useState<string | null>(null);\r\n  const filters = useFilters();\r\n  const dashboardLayout = useDashboardLayout();\r\n  const lastFocusedTabId = useSelector<RootState, string | null>(\r\n    state => state.dashboardState?.lastFocusedTabId,\r\n  );\r\n  const filterValues = Object.values<Filter>(filters);\r\n  const portalNodes = React.useMemo(() => {\r\n    const nodes = new Array(filterValues.length);\r\n    for (let i = 0; i < filterValues.length; i += 1) {\r\n      nodes[i] = portals.createHtmlPortalNode();\r\n    }\r\n    return nodes;\r\n  }, [filterValues.length]);\r\n\r\n  const cascadeFilters = useMemo(() => {\r\n    const filtersWithValue = filterValues.map(filter => ({\r\n      ...filter,\r\n      dataMask: dataMaskSelected[filter.id],\r\n    }));\r\n    return buildCascadeFiltersTree(filtersWithValue);\r\n  }, [filterValues, dataMaskSelected]);\r\n  const cascadeFilterIds = new Set(cascadeFilters.map(item => item.id));\r\n\r\n  let filtersInScope: CascadeFilter[] = [];\r\n  const filtersOutOfScope: CascadeFilter[] = [];\r\n  const dashboardHasTabs = Object.values(dashboardLayout).some(\r\n    element => element.type === TAB_TYPE,\r\n  );\r\n  const showCollapsePanel = dashboardHasTabs && cascadeFilters.length > 0;\r\n  if (!lastFocusedTabId || !dashboardHasTabs) {\r\n    filtersInScope = cascadeFilters;\r\n  } else {\r\n    cascadeFilters.forEach((filter, index) => {\r\n      if (cascadeFilters[index].tabsInScope?.includes(lastFocusedTabId)) {\r\n        filtersInScope.push(filter);\r\n      } else {\r\n        filtersOutOfScope.push(filter);\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {portalNodes\r\n        .filter((node, index) => cascadeFilterIds.has(filterValues[index].id))\r\n        .map((node, index) => (\r\n          <portals.InPortal node={node}>\r\n            <CascadePopover\r\n              data-test=\"cascade-filters-control\"\r\n              key={cascadeFilters[index].id}\r\n              dataMaskSelected={dataMaskSelected}\r\n              visible={visiblePopoverId === cascadeFilters[index].id}\r\n              onVisibleChange={visible =>\r\n                setVisiblePopoverId(visible ? cascadeFilters[index].id : null)\r\n              }\r\n              filter={cascadeFilters[index]}\r\n              onFilterSelectionChange={onFilterSelectionChange}\r\n              directPathToChild={directPathToChild}\r\n            />\r\n          </portals.InPortal>\r\n        ))}\r\n      {filtersInScope.map(filter => {\r\n        const index = filterValues.findIndex(f => f.id === filter.id);\r\n        return <portals.OutPortal node={portalNodes[index]} />;\r\n      })}\r\n      {showCollapsePanel && (\r\n        <Collapse\r\n          ghost\r\n          bordered\r\n          expandIconPosition=\"right\"\r\n          collapsible={filtersOutOfScope.length === 0 ? 'disabled' : undefined}\r\n          css={theme => css`\r\n            &.ant-collapse {\r\n              margin-top: ${filtersInScope.length > 0\r\n                ? theme.gridUnit * 6\r\n                : 0}px;\r\n              & > .ant-collapse-item {\r\n                & > .ant-collapse-header {\r\n                  padding-left: 0;\r\n                  padding-bottom: ${theme.gridUnit * 2}px;\r\n\r\n                  & > .ant-collapse-arrow {\r\n                    right: ${theme.gridUnit}px;\r\n                  }\r\n                }\r\n\r\n                & .ant-collapse-content-box {\r\n                  padding: ${theme.gridUnit * 4}px 0 0;\r\n                }\r\n              }\r\n            }\r\n          `}\r\n        >\r\n          <Collapse.Panel\r\n            header={`${t('Filters out of scope')} (${\r\n              filtersOutOfScope.length\r\n            })`}\r\n            key=\"1\"\r\n          >\r\n            {filtersOutOfScope.map(filter => {\r\n              const index = cascadeFilters.findIndex(f => f.id === filter.id);\r\n              return <portals.OutPortal node={portalNodes[index]} />;\r\n            })}\r\n          </Collapse.Panel>\r\n        </Collapse>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default FilterControls;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  QueryFormData,\r\n  styled,\r\n  SuperChart,\r\n  DataMask,\r\n  t,\r\n  Behavior,\r\n  ChartDataResponseResult,\r\n  JsonObject,\r\n  getChartMetadataRegistry,\r\n} from '@superset-ui/core';\r\nimport { useDispatch } from 'react-redux';\r\nimport { areObjectsEqual } from 'src/reduxUtils';\r\nimport { getChartDataRequest } from 'src/chart/chartAction';\r\nimport Loading from 'src/components/Loading';\r\nimport BasicErrorAlert from 'src/components/ErrorMessage/BasicErrorAlert';\r\nimport { FeatureFlag, isFeatureEnabled } from 'src/featureFlags';\r\nimport { waitForAsyncData } from 'src/middleware/asyncEvent';\r\nimport {\r\n  setFocusedNativeFilter,\r\n  unsetFocusedNativeFilter,\r\n} from 'src/dashboard/actions/nativeFilters';\r\nimport { ClientErrorObject } from 'src/utils/getClientErrorObject';\r\nimport { FilterProps } from './types';\r\nimport { getFormData } from '../../utils';\r\nimport { useCascadingFilters } from './state';\r\n\r\nconst FilterItem = styled.div`\r\n  min-height: ${({ theme }) => theme.gridUnit * 11}px;\r\n  padding-bottom: ${({ theme }) => theme.gridUnit * 3}px;\r\n  & > div > div {\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nconst FilterValue: React.FC<FilterProps> = ({\r\n  dataMaskSelected,\r\n  filter,\r\n  directPathToChild,\r\n  onFilterSelectionChange,\r\n}) => {\r\n  const { id, targets, filterType, adhoc_filters, time_range } = filter;\r\n  const metadata = getChartMetadataRegistry().get(filterType);\r\n  const cascadingFilters = useCascadingFilters(id, dataMaskSelected);\r\n  const [state, setState] = useState<ChartDataResponseResult[]>([]);\r\n  const [error, setError] = useState<string>('');\r\n  const [formData, setFormData] = useState<Partial<QueryFormData>>({});\r\n  const [ownState, setOwnState] = useState<JsonObject>({});\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const [target] = targets;\r\n  const {\r\n    datasetId,\r\n    column = {},\r\n  }: Partial<{ datasetId: number; column: { name?: string } }> = target;\r\n  const { name: groupby } = column;\r\n  const hasDataSource = !!datasetId;\r\n  const [isLoading, setIsLoading] = useState<boolean>(hasDataSource);\r\n  const [isRefreshing, setIsRefreshing] = useState<boolean>(true);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    const newFormData = getFormData({\r\n      ...filter,\r\n      datasetId,\r\n      cascadingFilters,\r\n      groupby,\r\n      inputRef,\r\n      adhoc_filters,\r\n      time_range,\r\n    });\r\n    const filterOwnState = filter.dataMask?.ownState || {};\r\n    if (\r\n      !areObjectsEqual(formData, newFormData) ||\r\n      !areObjectsEqual(ownState, filterOwnState)\r\n    ) {\r\n      setFormData(newFormData);\r\n      setOwnState(filterOwnState);\r\n      if (!hasDataSource) {\r\n        return;\r\n      }\r\n      setIsRefreshing(true);\r\n      getChartDataRequest({\r\n        formData: newFormData,\r\n        force: false,\r\n        requestParams: { dashboardId: 0 },\r\n        ownState: filterOwnState,\r\n      })\r\n        .then(response => {\r\n          if (isFeatureEnabled(FeatureFlag.GLOBAL_ASYNC_QUERIES)) {\r\n            // deal with getChartDataRequest transforming the response data\r\n            const result = 'result' in response ? response.result[0] : response;\r\n            waitForAsyncData(result)\r\n              .then((asyncResult: ChartDataResponseResult[]) => {\r\n                setIsRefreshing(false);\r\n                setIsLoading(false);\r\n                setState(asyncResult);\r\n              })\r\n              .catch((error: ClientErrorObject) => {\r\n                setError(\r\n                  error.message || error.error || t('Check configuration'),\r\n                );\r\n                setIsRefreshing(false);\r\n                setIsLoading(false);\r\n              });\r\n          } else {\r\n            setState(response.result);\r\n            setError('');\r\n            setIsRefreshing(false);\r\n            setIsLoading(false);\r\n          }\r\n        })\r\n        .catch((error: Response) => {\r\n          setError(error.statusText);\r\n          setIsRefreshing(false);\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  }, [\r\n    cascadingFilters,\r\n    datasetId,\r\n    groupby,\r\n    JSON.stringify(filter),\r\n    hasDataSource,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (directPathToChild?.[0] === filter.id) {\r\n      // wait for Cascade Popover to open\r\n      const timeout = setTimeout(() => {\r\n        inputRef?.current?.focus();\r\n      }, 200);\r\n      return () => clearTimeout(timeout);\r\n    }\r\n    return undefined;\r\n  }, [inputRef, directPathToChild, filter.id]);\r\n\r\n  const setDataMask = (dataMask: DataMask) =>\r\n    onFilterSelectionChange(filter, dataMask);\r\n\r\n  const setFocusedFilter = () => dispatch(setFocusedNativeFilter(id));\r\n  const unsetFocusedFilter = () => dispatch(unsetFocusedNativeFilter());\r\n\r\n  if (error) {\r\n    return (\r\n      <BasicErrorAlert\r\n        title={t('Cannot load filter')}\r\n        body={error}\r\n        level=\"error\"\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <FilterItem data-test=\"form-item-value\">\r\n      {isLoading ? (\r\n        <Loading position=\"inline-centered\" />\r\n      ) : (\r\n        <SuperChart\r\n          height={20}\r\n          width={220}\r\n          formData={formData}\r\n          // For charts that don't have datasource we need workaround for empty placeholder\r\n          queriesData={hasDataSource ? state : [{ data: [{}] }]}\r\n          chartType={filterType}\r\n          behaviors={[Behavior.NATIVE_FILTER]}\r\n          filterState={filter.dataMask?.filterState}\r\n          ownState={filter.dataMask?.ownState}\r\n          enableNoResults={metadata?.enableNoResults}\r\n          isRefreshing={isRefreshing}\r\n          hooks={{ setDataMask, setFocusedFilter, unsetFocusedFilter }}\r\n        />\r\n      )}\r\n    </FilterItem>\r\n  );\r\n};\r\n\r\nexport default FilterValue;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useSelector } from 'react-redux';\r\nimport { NativeFiltersState } from 'src/dashboard/reducers/types';\r\nimport { DataMaskStateWithId } from 'src/dataMask/types';\r\nimport { ExtraFormData } from '@superset-ui/core';\r\nimport { mergeExtraFormData } from '../../utils';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport function useCascadingFilters(\r\n  id: string,\r\n  dataMaskSelected?: DataMaskStateWithId,\r\n): ExtraFormData {\r\n  const { filters } = useSelector<any, NativeFiltersState>(\r\n    state => state.nativeFilters,\r\n  );\r\n  const filter = filters[id];\r\n  const cascadeParentIds: string[] = filter?.cascadeParentIds ?? [];\r\n  let cascadedFilters = {};\r\n  cascadeParentIds.forEach(parentId => {\r\n    const parentState = dataMaskSelected?.[parentId];\r\n    cascadedFilters = mergeExtraFormData(\r\n      cascadedFilters,\r\n      parentState?.extraFormData,\r\n    );\r\n  });\r\n  return cascadedFilters;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { Filter } from '../../types';\r\nimport { CascadeFilter } from '../CascadeFilters/types';\r\nimport { mapParentFiltersToChildren } from '../utils';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport function buildCascadeFiltersTree(filters: Filter[]): CascadeFilter[] {\r\n  const cascadeChildren = mapParentFiltersToChildren(filters);\r\n\r\n  const getCascadeFilter = (filter: Filter): CascadeFilter => {\r\n    const children = cascadeChildren[filter.id] || [];\r\n    return {\r\n      ...filter,\r\n      cascadeChildren: children.map(getCascadeFilter),\r\n    };\r\n  };\r\n\r\n  return filters\r\n    .filter(filter => !filter.cascadeParentIds?.length)\r\n    .map(getCascadeFilter);\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { FC, useMemo, useState } from 'react';\r\nimport { HandlerFunction, styled, t } from '@superset-ui/core';\r\nimport { Typography, Tooltip } from 'src/common/components';\r\nimport { useDispatch } from 'react-redux';\r\nimport Button from 'src/components/Button';\r\nimport { setFilterSetsConfiguration } from 'src/dashboard/actions/nativeFilters';\r\nimport { DataMaskState } from 'src/dataMask/types';\r\nimport { WarningOutlined } from '@ant-design/icons';\r\nimport { ActionButtons } from './Footer';\r\nimport { useNativeFiltersDataMask, useFilters, useFilterSets } from '../state';\r\nimport { APPLY_FILTERS_HINT, findExistingFilterSet } from './utils';\r\nimport { useFilterSetNameDuplicated } from './state';\r\nimport { getFilterBarTestId } from '../index';\r\n\r\nconst Wrapper = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  grid-gap: ${({ theme }) => theme.gridUnit}px;\r\n  background: ${({ theme }) => theme.colors.primary.light4};\r\n  padding: ${({ theme }) => theme.gridUnit * 2}px;\r\n`;\r\n\r\nconst Title = styled(Typography.Text)`\r\n  color: ${({ theme }) => theme.colors.primary.dark2};\r\n`;\r\n\r\nconst Warning = styled(Typography.Text)`\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  & .anticon {\r\n    padding: ${({ theme }) => theme.gridUnit}px;\r\n  }\r\n`;\r\n\r\nconst ActionButton = styled.div<{ disabled?: boolean }>`\r\n  display: flex;\r\n  & button {\r\n    ${({ disabled }) => `pointer-events: ${disabled ? 'none' : 'all'}`};\r\n    flex: 1;\r\n  }\r\n`;\r\n\r\nexport type EditSectionProps = {\r\n  filterSetId: string;\r\n  dataMaskSelected: DataMaskState;\r\n  onCancel: HandlerFunction;\r\n  disabled: boolean;\r\n};\r\n\r\nconst EditSection: FC<EditSectionProps> = ({\r\n  filterSetId,\r\n  onCancel,\r\n  dataMaskSelected,\r\n  disabled,\r\n}) => {\r\n  const dataMaskApplied = useNativeFiltersDataMask();\r\n  const dispatch = useDispatch();\r\n  const filterSets = useFilterSets();\r\n  const filters = useFilters();\r\n  const filterSetFilterValues = Object.values(filterSets);\r\n\r\n  const [filterSetName, setFilterSetName] = useState(\r\n    filterSets[filterSetId].name,\r\n  );\r\n\r\n  const isFilterSetNameDuplicated = useFilterSetNameDuplicated(\r\n    filterSetName,\r\n    filterSets[filterSetId].name,\r\n  );\r\n\r\n  const handleSave = () => {\r\n    dispatch(\r\n      setFilterSetsConfiguration(\r\n        filterSetFilterValues.map(filterSet => {\r\n          const newFilterSet = {\r\n            ...filterSet,\r\n            name: filterSetName,\r\n            nativeFilters: filters,\r\n            dataMask: { ...dataMaskApplied },\r\n          };\r\n          return filterSetId === filterSet.id ? newFilterSet : filterSet;\r\n        }),\r\n      ),\r\n    );\r\n    onCancel();\r\n  };\r\n\r\n  const foundFilterSet = useMemo(\r\n    () =>\r\n      findExistingFilterSet({\r\n        dataMaskSelected,\r\n        filterSetFilterValues,\r\n      }),\r\n    [dataMaskSelected, filterSetFilterValues],\r\n  );\r\n\r\n  const isDuplicateFilterSet =\r\n    foundFilterSet && foundFilterSet.id !== filterSetId;\r\n\r\n  const resultDisabled =\r\n    disabled || isDuplicateFilterSet || isFilterSetNameDuplicated;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Title strong>{t('Editing filter set:')}</Title>\r\n      <Title\r\n        editable={{\r\n          editing: true,\r\n          icon: <span />,\r\n          onChange: setFilterSetName,\r\n        }}\r\n      >\r\n        {filterSetName}\r\n      </Title>\r\n      <ActionButtons>\r\n        <Button\r\n          ghost\r\n          buttonStyle=\"tertiary\"\r\n          buttonSize=\"small\"\r\n          onClick={onCancel}\r\n          data-test=\"filter-set-edit-cancel\"\r\n        >\r\n          {t('Cancel')}\r\n        </Button>\r\n        <Tooltip\r\n          placement=\"right\"\r\n          title={\r\n            (isFilterSetNameDuplicated &&\r\n              t('Filter set with this name already exists')) ||\r\n            (isDuplicateFilterSet && t('Filter set already exists')) ||\r\n            (disabled && APPLY_FILTERS_HINT)\r\n          }\r\n        >\r\n          <ActionButton disabled={resultDisabled}>\r\n            <Button\r\n              disabled={resultDisabled}\r\n              buttonStyle=\"primary\"\r\n              htmlType=\"submit\"\r\n              buttonSize=\"small\"\r\n              onClick={handleSave}\r\n              {...getFilterBarTestId('filter-set-edit-save')}\r\n            >\r\n              {t('Save')}\r\n            </Button>\r\n          </ActionButton>\r\n        </Tooltip>\r\n      </ActionButtons>\r\n      {isDuplicateFilterSet && (\r\n        <Warning mark>\r\n          <WarningOutlined />\r\n          {t('This filter set is identical to: \"%s\"', foundFilterSet?.name)}\r\n        </Warning>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default EditSection;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { Typography, Dropdown, Menu } from 'src/common/components';\r\nimport React, { FC } from 'react';\r\nimport { FilterSet } from 'src/dashboard/reducers/types';\r\nimport { DataMaskState } from 'src/dataMask/types';\r\nimport { CheckOutlined, EllipsisOutlined } from '@ant-design/icons';\r\nimport { HandlerFunction, styled, supersetTheme, t } from '@superset-ui/core';\r\nimport Button from 'src/components/Button';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport FiltersHeader from './FiltersHeader';\r\nimport { getFilterBarTestId } from '..';\r\n\r\nconst HeaderButton = styled(Button)`\r\n  padding: 0;\r\n`;\r\n\r\nconst TitleText = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst IconsBlock = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  & > *,\r\n  & > button.superset-button {\r\n    ${({ theme }) => `margin-left: ${theme.gridUnit * 2}px`};\r\n  }\r\n`;\r\n\r\nexport type FilterSetUnitProps = {\r\n  editMode?: boolean;\r\n  isApplied?: boolean;\r\n  filterSet?: FilterSet;\r\n  filterSetName?: string;\r\n  dataMaskSelected?: DataMaskState;\r\n  setFilterSetName?: (name: string) => void;\r\n  onDelete?: HandlerFunction;\r\n  onEdit?: HandlerFunction;\r\n  onRebuild?: HandlerFunction;\r\n};\r\n\r\nconst FilterSetUnit: FC<FilterSetUnitProps> = ({\r\n  editMode,\r\n  setFilterSetName,\r\n  onDelete,\r\n  onEdit,\r\n  filterSetName,\r\n  dataMaskSelected,\r\n  filterSet,\r\n  isApplied,\r\n  onRebuild,\r\n}) => {\r\n  const menu = (\r\n    <Menu>\r\n      <Menu.Item onClick={onEdit}>{t('Edit')}</Menu.Item>\r\n      <Menu.Item onClick={onRebuild}>\r\n        <Tooltip placement=\"right\" title={t('Remove invalid filters')}>\r\n          {t('Rebuild')}\r\n        </Tooltip>\r\n      </Menu.Item>\r\n      <Menu.Item onClick={onDelete} danger>\r\n        {t('Delete')}\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <TitleText>\r\n        <Typography.Text\r\n          strong\r\n          editable={{\r\n            editing: editMode,\r\n            icon: <span />,\r\n            onChange: setFilterSetName,\r\n          }}\r\n        >\r\n          {filterSet?.name ?? filterSetName}\r\n        </Typography.Text>\r\n        <IconsBlock>\r\n          {isApplied && (\r\n            <CheckOutlined\r\n              style={{ color: supersetTheme.colors.success.base }}\r\n            />\r\n          )}\r\n          {onDelete && (\r\n            <Dropdown\r\n              overlay={menu}\r\n              placement=\"bottomRight\"\r\n              trigger={['click']}\r\n            >\r\n              <HeaderButton\r\n                onClick={e => {\r\n                  e.stopPropagation();\r\n                  e.preventDefault();\r\n                }}\r\n                {...getFilterBarTestId('filter-set-menu-button')}\r\n                buttonStyle=\"link\"\r\n                buttonSize=\"xsmall\"\r\n              >\r\n                <EllipsisOutlined />\r\n              </HeaderButton>\r\n            </Dropdown>\r\n          )}\r\n        </IconsBlock>\r\n      </TitleText>\r\n      <FiltersHeader\r\n        filterSet={filterSet}\r\n        dataMask={filterSet?.dataMask ?? dataMaskSelected}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FilterSetUnit;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { FC } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport { Collapse, Typography, Tooltip } from 'src/common/components';\r\nimport { DataMaskState } from 'src/dataMask/types';\r\nimport { CaretDownOutlined } from '@ant-design/icons';\r\nimport { areObjectsEqual } from 'src/reduxUtils';\r\nimport { FilterSet } from 'src/dashboard/reducers/types';\r\nimport { getFilterValueForDisplay } from './utils';\r\nimport { useFilters } from '../state';\r\nimport { getFilterBarTestId } from '../index';\r\n\r\nconst FilterHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n`;\r\n\r\nconst StyledCollapse = styled(Collapse)`\r\n  &.ant-collapse-ghost > .ant-collapse-item {\r\n    & > .ant-collapse-content > .ant-collapse-content-box {\r\n      padding: 0;\r\n      padding-top: 0;\r\n      padding-bottom: 0;\r\n      font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n    }\r\n    & > .ant-collapse-header {\r\n      padding: 0;\r\n      display: flex;\r\n      align-items: center;\r\n      flex-direction: row-reverse;\r\n      justify-content: flex-end;\r\n      max-width: max-content;\r\n      & .ant-collapse-arrow {\r\n        position: static;\r\n        padding-left: ${({ theme }) => theme.gridUnit}px;\r\n      }\r\n  }\r\n`;\r\n\r\nexport type FiltersHeaderProps = {\r\n  dataMask?: DataMaskState;\r\n  filterSet?: FilterSet;\r\n};\r\n\r\nconst FiltersHeader: FC<FiltersHeaderProps> = ({ dataMask, filterSet }) => {\r\n  const filters = useFilters();\r\n  const filterValues = Object.values(filters);\r\n\r\n  let resultFilters = filterValues ?? [];\r\n  if (filterSet?.nativeFilters) {\r\n    resultFilters = Object.values(filterSet?.nativeFilters);\r\n  }\r\n\r\n  const getFiltersHeader = () => (\r\n    <FilterHeader>\r\n      <Typography.Text type=\"secondary\">\r\n        {t('Filters (%d)', resultFilters.length)}\r\n      </Typography.Text>\r\n    </FilterHeader>\r\n  );\r\n\r\n  const getFilterRow = ({ id, name }: { id: string; name: string }) => {\r\n    const changedFilter =\r\n      filterSet &&\r\n      !areObjectsEqual(filters[id], filterSet?.nativeFilters?.[id], {\r\n        ignoreUndefined: true,\r\n      });\r\n    const removedFilter = !Object.keys(filters).includes(id);\r\n\r\n    return (\r\n      <Tooltip\r\n        title={\r\n          (removedFilter &&\r\n            t(\r\n              \"This filter doesn't exist in dashboard. It will not be applied.\",\r\n            )) ||\r\n          (changedFilter &&\r\n            t('Filter metadata changed in dashboard. It will not be applied.'))\r\n        }\r\n        placement=\"bottomLeft\"\r\n        key={id}\r\n      >\r\n        <div data-test=\"filter-info\">\r\n          <Typography.Text strong delete={removedFilter} mark={changedFilter}>\r\n            {name}:&nbsp;\r\n          </Typography.Text>\r\n          <Typography.Text delete={removedFilter} mark={changedFilter}>\r\n            {getFilterValueForDisplay(dataMask?.[id]?.filterState?.value) || (\r\n              <Typography.Text type=\"secondary\">{t('None')}</Typography.Text>\r\n            )}\r\n          </Typography.Text>\r\n        </div>\r\n      </Tooltip>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <StyledCollapse\r\n      ghost\r\n      expandIconPosition=\"right\"\r\n      defaultActiveKey={!filterSet ? ['filters'] : undefined}\r\n      expandIcon={({ isActive }: { isActive: boolean }) => (\r\n        <CaretDownOutlined rotate={isActive ? 0 : 180} />\r\n      )}\r\n    >\r\n      <Collapse.Panel\r\n        {...getFilterBarTestId('collapse-filter-set-description')}\r\n        header={getFiltersHeader()}\r\n        key=\"filters\"\r\n      >\r\n        {resultFilters.map(getFilterRow)}\r\n      </Collapse.Panel>\r\n    </StyledCollapse>\r\n  );\r\n};\r\n\r\nexport default FiltersHeader;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t, styled } from '@superset-ui/core';\r\nimport React, { FC } from 'react';\r\nimport Button from 'src/components/Button';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport { APPLY_FILTERS_HINT } from './utils';\r\nimport { useFilterSetNameDuplicated } from './state';\r\nimport { getFilterBarTestId } from '..';\r\n\r\nexport type FooterProps = {\r\n  filterSetName: string;\r\n  disabled: boolean;\r\n  editMode: boolean;\r\n  onCancel: () => void;\r\n  onEdit: () => void;\r\n  onCreate: () => void;\r\n};\r\n\r\nconst ActionButton = styled.div<{ disabled: boolean }>`\r\n  display: flex;\r\n  & button {\r\n    ${({ disabled }) => `pointer-events: ${disabled ? 'none' : 'all'}`};\r\n    flex: 1;\r\n  }\r\n`;\r\n\r\nexport const ActionButtons = styled.div`\r\n  display: grid;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  grid-gap: 10px;\r\n  grid-template-columns: 1fr 1fr;\r\n`;\r\n\r\nconst Footer: FC<FooterProps> = ({\r\n  onCancel,\r\n  editMode,\r\n  onEdit,\r\n  onCreate,\r\n  disabled,\r\n  filterSetName,\r\n}) => {\r\n  const isFilterSetNameDuplicated = useFilterSetNameDuplicated(filterSetName);\r\n\r\n  const isCreateDisabled =\r\n    !filterSetName || isFilterSetNameDuplicated || disabled;\r\n\r\n  return (\r\n    <>\r\n      {editMode ? (\r\n        <ActionButtons>\r\n          <Button\r\n            buttonStyle=\"tertiary\"\r\n            buttonSize=\"small\"\r\n            onClick={onCancel}\r\n            data-test=\"filter-set-cancel-button\"\r\n          >\r\n            {t('Cancel')}\r\n          </Button>\r\n          <Tooltip\r\n            placement=\"right\"\r\n            title={\r\n              (!filterSetName && t('Please filter set name')) ||\r\n              (isFilterSetNameDuplicated &&\r\n                t('Filter set with this name already exists')) ||\r\n              (disabled && APPLY_FILTERS_HINT)\r\n            }\r\n          >\r\n            <ActionButton disabled={isCreateDisabled}>\r\n              <Button\r\n                disabled={isCreateDisabled}\r\n                buttonStyle=\"primary\"\r\n                htmlType=\"submit\"\r\n                buttonSize=\"small\"\r\n                onClick={onCreate}\r\n                {...getFilterBarTestId('create-filter-set-button')}\r\n              >\r\n                {t('Create')}\r\n              </Button>\r\n            </ActionButton>\r\n          </Tooltip>\r\n        </ActionButtons>\r\n      ) : (\r\n        <Tooltip placement=\"bottom\" title={disabled && APPLY_FILTERS_HINT}>\r\n          <ActionButton disabled={disabled}>\r\n            <Button\r\n              disabled={disabled}\r\n              buttonStyle=\"tertiary\"\r\n              buttonSize=\"small\"\r\n              onClick={onEdit}\r\n              {...getFilterBarTestId('new-filter-set-button')}\r\n            >\r\n              {t('Create new filter set')}\r\n            </Button>\r\n          </ActionButton>\r\n        </Tooltip>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport React, { useEffect, useState, MouseEvent } from 'react';\r\nimport { DataMask, HandlerFunction, styled, t } from '@superset-ui/core';\r\nimport { useDispatch } from 'react-redux';\r\nimport { DataMaskState, DataMaskWithId } from 'src/dataMask/types';\r\nimport { setFilterSetsConfiguration } from 'src/dashboard/actions/nativeFilters';\r\nimport { Filters, FilterSet } from 'src/dashboard/reducers/types';\r\nimport { areObjectsEqual } from 'src/reduxUtils';\r\nimport { findExistingFilterSet, generateFiltersSetId } from './utils';\r\nimport { Filter } from '../../types';\r\nimport { useFilters, useNativeFiltersDataMask, useFilterSets } from '../state';\r\nimport Footer from './Footer';\r\nimport FilterSetUnit from './FilterSetUnit';\r\nimport { getFilterBarTestId } from '..';\r\n\r\nconst FilterSetsWrapper = styled.div`\r\n  display: grid;\r\n  align-items: center;\r\n  justify-content: center;\r\n  grid-template-columns: 1fr;\r\n  & button.superset-button {\r\n    margin-left: 0;\r\n  }\r\n  & input {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst FilterSetUnitWrapper = styled.div<{\r\n  onClick?: HandlerFunction;\r\n  'data-selected'?: boolean;\r\n}>`\r\n  display: grid;\r\n  align-items: center;\r\n  justify-content: center;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: ${({ theme }) => theme.gridUnit}px;\r\n  ${({ theme }) =>\r\n    `padding: 0 ${theme.gridUnit * 4}px ${theme.gridUnit * 4}px`};\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n  padding: ${({ theme }) => `${theme.gridUnit * 3}px ${theme.gridUnit * 2}px`};\r\n  cursor: ${({ onClick }) => (!onClick ? 'auto' : 'pointer')};\r\n  ${({ theme, 'data-selected': selected }) =>\r\n    `background: ${selected ? theme.colors.primary.light5 : 'transparent'}`};\r\n`;\r\n\r\nexport type FilterSetsProps = {\r\n  disabled: boolean;\r\n  isFilterSetChanged: boolean;\r\n  dataMaskSelected: DataMaskState;\r\n  onEditFilterSet: (id: string) => void;\r\n  onFilterSelectionChange: (\r\n    filter: Pick<Filter, 'id'> & Partial<Filter>,\r\n    dataMask: Partial<DataMask>,\r\n  ) => void;\r\n};\r\n\r\nconst DEFAULT_FILTER_SET_NAME = t('New filter set');\r\n\r\nconst FilterSets: React.FC<FilterSetsProps> = ({\r\n  dataMaskSelected,\r\n  onEditFilterSet,\r\n  disabled,\r\n  onFilterSelectionChange,\r\n  isFilterSetChanged,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const [filterSetName, setFilterSetName] = useState(DEFAULT_FILTER_SET_NAME);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const dataMaskApplied = useNativeFiltersDataMask();\r\n  const filterSets = useFilterSets();\r\n  const filterSetFilterValues = Object.values(filterSets);\r\n  const filters = useFilters();\r\n  const filterValues = Object.values(filters) as Filter[];\r\n  const [selectedFiltersSetId, setSelectedFiltersSetId] = useState<\r\n    string | null\r\n  >(null);\r\n\r\n  useEffect(() => {\r\n    if (isFilterSetChanged) {\r\n      return;\r\n    }\r\n\r\n    const foundFilterSet = findExistingFilterSet({\r\n      dataMaskSelected,\r\n      filterSetFilterValues,\r\n    });\r\n    setSelectedFiltersSetId(foundFilterSet?.id ?? null);\r\n  }, [isFilterSetChanged, dataMaskSelected, filterSetFilterValues]);\r\n\r\n  const isFilterMissingOrContainsInvalidMetadata = (\r\n    id: string,\r\n    filterSet?: FilterSet,\r\n  ) =>\r\n    !filterValues.find(filter => filter?.id === id) ||\r\n    !areObjectsEqual(filters[id], filterSet?.nativeFilters?.[id], {\r\n      ignoreUndefined: true,\r\n    });\r\n\r\n  const takeFilterSet = (id: string, target?: HTMLElement) => {\r\n    const ignoreSelectorHeader = 'ant-collapse-header';\r\n    const ignoreSelectorDropdown = 'ant-dropdown-menu-item';\r\n    if (\r\n      target?.classList.contains(ignoreSelectorHeader) ||\r\n      target?.classList.contains(ignoreSelectorDropdown) ||\r\n      target?.parentElement?.classList.contains(ignoreSelectorHeader) ||\r\n      target?.parentElement?.parentElement?.classList.contains(\r\n        ignoreSelectorHeader,\r\n      ) ||\r\n      target?.parentElement?.parentElement?.parentElement?.classList.contains(\r\n        ignoreSelectorHeader,\r\n      )\r\n    ) {\r\n      // We don't want select filter set when user expand filters\r\n      return;\r\n    }\r\n    setSelectedFiltersSetId(id);\r\n    if (!id) {\r\n      return;\r\n    }\r\n\r\n    const filterSet = filterSets[id];\r\n\r\n    (Object.values(filterSet?.dataMask) ?? []).forEach(\r\n      (dataMask: DataMaskWithId) => {\r\n        const { extraFormData, filterState, id } = dataMask;\r\n        if (isFilterMissingOrContainsInvalidMetadata(id, filterSet)) {\r\n          return;\r\n        }\r\n        onFilterSelectionChange({ id }, { extraFormData, filterState });\r\n      },\r\n    );\r\n  };\r\n\r\n  const handleRebuild = (id: string) => {\r\n    const filterSet = filterSets[id];\r\n    // We need remove invalid filters from filter set\r\n    const newFilters = Object.values(filterSet?.dataMask ?? {})\r\n      .filter(dataMask => {\r\n        const { id } = dataMask as DataMaskWithId;\r\n        return !isFilterMissingOrContainsInvalidMetadata(id, filterSet);\r\n      })\r\n      .reduce(\r\n        (prev, next: DataMaskWithId) => ({\r\n          ...prev,\r\n          [next.id]: filters[next.id],\r\n        }),\r\n        {},\r\n      );\r\n\r\n    const updatedFilterSet: FilterSet = {\r\n      ...filterSet,\r\n      nativeFilters: newFilters as Filters,\r\n      dataMask: Object.keys(newFilters).reduce(\r\n        (prev, nextFilterId) => ({\r\n          ...prev,\r\n          [nextFilterId]: filterSet.dataMask?.[nextFilterId],\r\n        }),\r\n        {},\r\n      ),\r\n    };\r\n    dispatch(\r\n      setFilterSetsConfiguration(\r\n        filterSetFilterValues.map(filterSetIt => {\r\n          const isEquals = filterSetIt.id === updatedFilterSet.id;\r\n          return isEquals ? updatedFilterSet : filterSetIt;\r\n        }),\r\n      ),\r\n    );\r\n  };\r\n\r\n  const handleEdit = (id: string) => {\r\n    takeFilterSet(id);\r\n    onEditFilterSet(id);\r\n  };\r\n\r\n  const handleDeleteFilterSet = (filterSetId: string) => {\r\n    dispatch(\r\n      setFilterSetsConfiguration(\r\n        filterSetFilterValues.filter(\r\n          filtersSet => filtersSet.id !== filterSetId,\r\n        ),\r\n      ),\r\n    );\r\n    if (filterSetId === selectedFiltersSetId) {\r\n      setSelectedFiltersSetId(null);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditMode(false);\r\n    setFilterSetName(DEFAULT_FILTER_SET_NAME);\r\n  };\r\n\r\n  const handleCreateFilterSet = () => {\r\n    const newFilterSet: FilterSet = {\r\n      name: filterSetName.trim(),\r\n      id: generateFiltersSetId(),\r\n      nativeFilters: filters,\r\n      dataMask: Object.keys(filters).reduce(\r\n        (prev, nextFilterId) => ({\r\n          ...prev,\r\n          [nextFilterId]: dataMaskApplied[nextFilterId],\r\n        }),\r\n        {},\r\n      ),\r\n    };\r\n    dispatch(\r\n      setFilterSetsConfiguration([newFilterSet].concat(filterSetFilterValues)),\r\n    );\r\n    setEditMode(false);\r\n    setFilterSetName(DEFAULT_FILTER_SET_NAME);\r\n  };\r\n\r\n  return (\r\n    <FilterSetsWrapper>\r\n      {!selectedFiltersSetId && (\r\n        <FilterSetUnitWrapper>\r\n          <FilterSetUnit\r\n            dataMaskSelected={dataMaskSelected}\r\n            editMode={editMode}\r\n            setFilterSetName={setFilterSetName}\r\n            filterSetName={filterSetName}\r\n          />\r\n          <Footer\r\n            filterSetName={filterSetName.trim()}\r\n            disabled={disabled}\r\n            onCancel={handleCancel}\r\n            editMode={editMode}\r\n            onEdit={() => setEditMode(true)}\r\n            onCreate={handleCreateFilterSet}\r\n          />\r\n        </FilterSetUnitWrapper>\r\n      )}\r\n      {filterSetFilterValues.map(filterSet => (\r\n        <FilterSetUnitWrapper\r\n          {...getFilterBarTestId('filter-set-wrapper')}\r\n          data-selected={filterSet.id === selectedFiltersSetId}\r\n          onClick={(e: MouseEvent<HTMLElement>) =>\r\n            takeFilterSet(filterSet.id, e.target as HTMLElement)\r\n          }\r\n          key={filterSet.id}\r\n        >\r\n          <FilterSetUnit\r\n            isApplied={filterSet.id === selectedFiltersSetId && !disabled}\r\n            onDelete={() => handleDeleteFilterSet(filterSet.id)}\r\n            onEdit={() => handleEdit(filterSet.id)}\r\n            onRebuild={() => handleRebuild(filterSet.id)}\r\n            dataMaskSelected={dataMaskSelected}\r\n            filterSet={filterSet}\r\n          />\r\n        </FilterSetUnitWrapper>\r\n      ))}\r\n    </FilterSetsWrapper>\r\n  );\r\n};\r\n\r\nexport default FilterSets;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useMemo } from 'react';\r\nimport { useFilterSets } from '../state';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const useFilterSetNameDuplicated = (\r\n  filterSetName: string,\r\n  ignoreName?: string,\r\n) => {\r\n  const filterSets = useFilterSets();\r\n  const filterSetFilterValues = Object.values(filterSets);\r\n  const isFilterSetNameDuplicated = useMemo(\r\n    () => !!filterSetFilterValues.find(({ name }) => name === filterSetName),\r\n    [filterSetFilterValues, filterSetName],\r\n  );\r\n  if (ignoreName === filterSetName) {\r\n    return false;\r\n  }\r\n  return isFilterSetNameDuplicated;\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport shortid from 'shortid';\r\nimport { t } from '@superset-ui/core';\r\nimport { areObjectsEqual } from 'src/reduxUtils';\r\nimport { DataMaskState } from 'src/dataMask/types';\r\nimport { FilterSet } from 'src/dashboard/reducers/types';\r\n\r\nexport const generateFiltersSetId = () => `FILTERS_SET-${shortid.generate()}`;\r\n\r\nexport const APPLY_FILTERS_HINT = t('Please apply filter changes');\r\n\r\nexport const getFilterValueForDisplay = (\r\n  value?: string[] | null | string | number | object,\r\n): string => {\r\n  if (value === null || value === undefined) {\r\n    return '';\r\n  }\r\n  if (typeof value === 'string' || typeof value === 'number') {\r\n    return `${value}`;\r\n  }\r\n  if (Array.isArray(value)) {\r\n    return value.join(', ');\r\n  }\r\n  if (typeof value === 'object') {\r\n    return JSON.stringify(value);\r\n  }\r\n  return t('Unknown value');\r\n};\r\n\r\nexport const findExistingFilterSet = ({\r\n  filterSetFilterValues,\r\n  dataMaskSelected,\r\n}: {\r\n  filterSetFilterValues: FilterSet[];\r\n  dataMaskSelected: DataMaskState;\r\n}) =>\r\n  filterSetFilterValues.find(({ dataMask: dataMaskFromFilterSet = {} }) => {\r\n    const dataMaskSelectedEntries = Object.entries(dataMaskSelected);\r\n    return dataMaskSelectedEntries.every(([id, filterFromSelectedFilters]) => {\r\n      const isEqual = areObjectsEqual(\r\n        filterFromSelectedFilters.filterState,\r\n        dataMaskFromFilterSet?.[id]?.filterState,\r\n      );\r\n      const hasSamePropsNumber =\r\n        dataMaskSelectedEntries.length ===\r\n        Object.keys(dataMaskFromFilterSet ?? {}).length;\r\n      return isEqual && hasSamePropsNumber;\r\n    });\r\n  });\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-disable no-param-reassign */\r\nimport { styled, t } from '@superset-ui/core';\r\nimport React, { FC } from 'react';\r\nimport Icon from 'src/components/Icon';\r\nimport Button from 'src/components/Button';\r\nimport { useSelector } from 'react-redux';\r\nimport { getInitialDataMask } from 'src/dataMask/reducer';\r\nimport { DataMaskState, DataMaskStateWithId } from 'src/dataMask/types';\r\nimport FilterConfigurationLink from 'src/dashboard/components/nativeFilters/FilterBar/FilterConfigurationLink';\r\nimport { useFilters } from 'src/dashboard/components/nativeFilters/FilterBar/state';\r\nimport { Filter } from 'src/dashboard/components/nativeFilters/types';\r\nimport { getFilterBarTestId } from '..';\r\nimport { RootState } from '../../../../types';\r\n\r\nconst TitleArea = styled.h4`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin: 0;\r\n  padding: ${({ theme }) => theme.gridUnit * 2}px;\r\n\r\n  & > span {\r\n    flex-grow: 1;\r\n  }\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: grid;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  grid-gap: 10px;\r\n  grid-template-columns: 1fr 1fr;\r\n  ${({ theme }) =>\r\n    `padding: 0 ${theme.gridUnit * 2}px ${theme.gridUnit * 2}px`};\r\n\r\n  .btn {\r\n    flex: 1;\r\n  }\r\n`;\r\n\r\nconst HeaderButton = styled(Button)`\r\n  padding: 0;\r\n`;\r\n\r\ntype HeaderProps = {\r\n  toggleFiltersBar: (arg0: boolean) => void;\r\n  onApply: () => void;\r\n  setDataMaskSelected: (arg0: (draft: DataMaskState) => void) => void;\r\n  dataMaskSelected: DataMaskState;\r\n  dataMaskApplied: DataMaskStateWithId;\r\n  isApplyDisabled: boolean;\r\n};\r\n\r\nconst Header: FC<HeaderProps> = ({\r\n  onApply,\r\n  isApplyDisabled,\r\n  dataMaskSelected,\r\n  dataMaskApplied,\r\n  setDataMaskSelected,\r\n  toggleFiltersBar,\r\n}) => {\r\n  const filters = useFilters();\r\n  const filterValues = Object.values<Filter>(filters);\r\n  const canEdit = useSelector<RootState, boolean>(\r\n    ({ dashboardInfo }) => dashboardInfo.dash_edit_perm,\r\n  );\r\n\r\n  const handleClearAll = () => {\r\n    filterValues.forEach(filter => {\r\n      setDataMaskSelected(draft => {\r\n        draft[filter.id] = getInitialDataMask(filter.id);\r\n      });\r\n    });\r\n  };\r\n\r\n  const isClearAllDisabled = Object.values(dataMaskApplied).every(\r\n    filter =>\r\n      dataMaskSelected[filter.id]?.filterState?.value === null ||\r\n      (!dataMaskSelected[filter.id] && filter.filterState?.value === null),\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <TitleArea>\r\n        <span>{t('Filters')}</span>\r\n        {canEdit && (\r\n          <FilterConfigurationLink createNewOnOpen={filterValues.length === 0}>\r\n            <Icon name=\"edit\" data-test=\"create-filter\" />\r\n          </FilterConfigurationLink>\r\n        )}\r\n        <HeaderButton\r\n          {...getFilterBarTestId('collapse-button')}\r\n          buttonStyle=\"link\"\r\n          buttonSize=\"xsmall\"\r\n          onClick={() => toggleFiltersBar(false)}\r\n        >\r\n          <Icon name=\"expand\" />\r\n        </HeaderButton>\r\n      </TitleArea>\r\n      <ActionButtons>\r\n        <Button\r\n          disabled={isClearAllDisabled}\r\n          buttonStyle=\"tertiary\"\r\n          buttonSize=\"small\"\r\n          onClick={handleClearAll}\r\n          {...getFilterBarTestId('clear-button')}\r\n        >\r\n          {t('Clear all')}\r\n        </Button>\r\n        <Button\r\n          disabled={isApplyDisabled}\r\n          buttonStyle=\"primary\"\r\n          htmlType=\"submit\"\r\n          buttonSize=\"small\"\r\n          onClick={onApply}\r\n          {...getFilterBarTestId('apply-button')}\r\n        >\r\n          {t('Apply')}\r\n        </Button>\r\n      </ActionButtons>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\n/* eslint-disable no-param-reassign */\r\nimport { DataMask, HandlerFunction, styled, t } from '@superset-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport cx from 'classnames';\r\nimport Icon from 'src/components/Icon';\r\nimport { Tabs } from 'src/common/components';\r\nimport { FeatureFlag, isFeatureEnabled } from 'src/featureFlags';\r\nimport { updateDataMask } from 'src/dataMask/actions';\r\nimport { DataMaskStateWithId, DataMaskWithId } from 'src/dataMask/types';\r\nimport { useImmer } from 'use-immer';\r\nimport { areObjectsEqual } from 'src/reduxUtils';\r\nimport { testWithId } from 'src/utils/testUtils';\r\nimport { Filter } from 'src/dashboard/components/nativeFilters/types';\r\nimport Loading from 'src/components/Loading';\r\nimport { getInitialDataMask } from 'src/dataMask/reducer';\r\nimport { getOnlyExtraFormData, TabIds } from './utils';\r\nimport FilterSets from './FilterSets';\r\nimport {\r\n  useNativeFiltersDataMask,\r\n  useFilters,\r\n  useFilterSets,\r\n  useFilterUpdates,\r\n  useInitialization,\r\n} from './state';\r\nimport EditSection from './FilterSets/EditSection';\r\nimport Header from './Header';\r\nimport FilterControls from './FilterControls/FilterControls';\r\n\r\nconst BAR_WIDTH = `250px`;\r\n\r\nexport const FILTER_BAR_TEST_ID = 'filter-bar';\r\nexport const getFilterBarTestId = testWithId(FILTER_BAR_TEST_ID);\r\n\r\nconst BarWrapper = styled.div`\r\n  width: ${({ theme }) => theme.gridUnit * 8}px;\r\n  & .ant-tabs-top > .ant-tabs-nav {\r\n    margin: 0;\r\n  }\r\n  &.open {\r\n    width: ${BAR_WIDTH}; // arbitrary...\r\n  }\r\n`;\r\n\r\nconst Bar = styled.div`\r\n  & .ant-typography-edit-content {\r\n    left: 0;\r\n    margin-top: 0;\r\n    width: 100%;\r\n  }\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n  width: ${BAR_WIDTH}; // arbitrary...\r\n  background: ${({ theme }) => theme.colors.grayscale.light5};\r\n  border-right: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n  min-height: 100%;\r\n  display: none;\r\n  /* &.animated {\r\n    display: flex;\r\n    transform: translateX(-100%);\r\n    transition: transform ${({ theme }) => theme.transitionTiming}s;\r\n    transition-delay: 0s;\r\n  }  */\r\n\r\n  &.open {\r\n    display: flex;\r\n    /* &.animated {\r\n      transform: translateX(0);\r\n      transition-delay: ${({ theme }) => theme.transitionTiming * 2}s;\r\n    } */\r\n  }\r\n`;\r\n\r\nconst CollapsedBar = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: ${({ theme }) => theme.gridUnit * 8}px;\r\n  padding-top: ${({ theme }) => theme.gridUnit * 2}px;\r\n  display: none;\r\n  text-align: center;\r\n  /* &.animated {\r\n    display: block;\r\n    transform: translateX(-100%);\r\n    transition: transform ${({ theme }) => theme.transitionTiming}s;\r\n    transition-delay: 0s;\r\n  } */\r\n\r\n  &.open {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: ${({ theme }) => theme.gridUnit * 2}px;\r\n    /* &.animated {\r\n      transform: translateX(0);\r\n      transition-delay: ${({ theme }) => theme.transitionTiming * 3}s;\r\n    } */\r\n  }\r\n\r\n  svg {\r\n    width: ${({ theme }) => theme.gridUnit * 4}px;\r\n    height: ${({ theme }) => theme.gridUnit * 4}px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst StyledCollapseIcon = styled(Icon)`\r\n  color: ${({ theme }) => theme.colors.primary.base};\r\n  margin-bottom: ${({ theme }) => theme.gridUnit * 3}px;\r\n`;\r\n\r\nconst StyledTabs = styled(Tabs)`\r\n  & .ant-tabs-nav-list {\r\n    width: 100%;\r\n  }\r\n  & .ant-tabs-tab {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin: 0;\r\n    flex: 1;\r\n  }\r\n`;\r\n\r\nexport interface FiltersBarProps {\r\n  filtersOpen: boolean;\r\n  toggleFiltersBar: any;\r\n  directPathToChild?: string[];\r\n}\r\n\r\nconst FilterBar: React.FC<FiltersBarProps> = ({\r\n  filtersOpen,\r\n  toggleFiltersBar,\r\n  directPathToChild,\r\n}) => {\r\n  const [editFilterSetId, setEditFilterSetId] = useState<string | null>(null);\r\n  const [dataMaskSelected, setDataMaskSelected] = useImmer<DataMaskStateWithId>(\r\n    {},\r\n  );\r\n  const dispatch = useDispatch();\r\n  const filterSets = useFilterSets();\r\n  const filterSetFilterValues = Object.values(filterSets);\r\n  const [tab, setTab] = useState(TabIds.AllFilters);\r\n  const filters = useFilters();\r\n  const filterValues = Object.values<Filter>(filters);\r\n  const dataMaskApplied: DataMaskStateWithId = useNativeFiltersDataMask();\r\n  const [isFilterSetChanged, setIsFilterSetChanged] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setDataMaskSelected(() => dataMaskApplied);\r\n  }, [JSON.stringify(dataMaskApplied), setDataMaskSelected]);\r\n\r\n  const handleFilterSelectionChange = (\r\n    filter: Pick<Filter, 'id'> & Partial<Filter>,\r\n    dataMask: Partial<DataMask>,\r\n  ) => {\r\n    setIsFilterSetChanged(tab !== TabIds.AllFilters);\r\n    setDataMaskSelected(draft => {\r\n      // force instant updating on initialization for filters with `requiredFirst` is true or instant filters\r\n      if (\r\n        (dataMaskSelected[filter.id] && filter.isInstant) ||\r\n        // filterState.value === undefined - means that value not initialized\r\n        (dataMask.filterState?.value !== undefined &&\r\n          dataMaskSelected[filter.id]?.filterState?.value === undefined &&\r\n          filter.requiredFirst)\r\n      ) {\r\n        dispatch(updateDataMask(filter.id, dataMask));\r\n      }\r\n\r\n      draft[filter.id] = {\r\n        ...(getInitialDataMask(filter.id) as DataMaskWithId),\r\n        ...dataMask,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleApply = () => {\r\n    const filterIds = Object.keys(dataMaskSelected);\r\n    filterIds.forEach(filterId => {\r\n      if (dataMaskSelected[filterId]) {\r\n        dispatch(updateDataMask(filterId, dataMaskSelected[filterId]));\r\n      }\r\n    });\r\n  };\r\n\r\n  useFilterUpdates(dataMaskSelected, setDataMaskSelected);\r\n\r\n  const dataSelectedValues = Object.values(dataMaskSelected);\r\n  const dataAppliedValues = Object.values(dataMaskApplied);\r\n  const isApplyDisabled =\r\n    areObjectsEqual(\r\n      getOnlyExtraFormData(dataMaskSelected),\r\n      getOnlyExtraFormData(dataMaskApplied),\r\n      { ignoreUndefined: true },\r\n    ) || dataSelectedValues.length !== dataAppliedValues.length;\r\n\r\n  const isInitialized = useInitialization();\r\n\r\n  return (\r\n    <BarWrapper {...getFilterBarTestId()} className={cx({ open: filtersOpen })}>\r\n      <CollapsedBar\r\n        {...getFilterBarTestId('collapsable')}\r\n        className={cx({ open: !filtersOpen })}\r\n        onClick={() => toggleFiltersBar(true)}\r\n      >\r\n        <StyledCollapseIcon\r\n          name=\"collapse\"\r\n          {...getFilterBarTestId('expand-button')}\r\n        />\r\n        <Icon name=\"filter\" {...getFilterBarTestId('filter-icon')} />\r\n      </CollapsedBar>\r\n      <Bar className={cx({ open: filtersOpen })}>\r\n        <Header\r\n          toggleFiltersBar={toggleFiltersBar}\r\n          onApply={handleApply}\r\n          setDataMaskSelected={setDataMaskSelected}\r\n          isApplyDisabled={isApplyDisabled}\r\n          dataMaskSelected={dataMaskSelected}\r\n          dataMaskApplied={dataMaskApplied}\r\n        />\r\n        {!isInitialized ? (\r\n          <Loading />\r\n        ) : isFeatureEnabled(FeatureFlag.DASHBOARD_NATIVE_FILTERS_SET) ? (\r\n          <StyledTabs\r\n            centered\r\n            onChange={setTab as HandlerFunction}\r\n            defaultActiveKey={TabIds.AllFilters}\r\n            activeKey={editFilterSetId ? TabIds.AllFilters : undefined}\r\n          >\r\n            <Tabs.TabPane\r\n              tab={t(`All Filters (${filterValues.length})`)}\r\n              key={TabIds.AllFilters}\r\n            >\r\n              {editFilterSetId && (\r\n                <EditSection\r\n                  dataMaskSelected={dataMaskSelected}\r\n                  disabled={!isApplyDisabled}\r\n                  onCancel={() => setEditFilterSetId(null)}\r\n                  filterSetId={editFilterSetId}\r\n                />\r\n              )}\r\n              <FilterControls\r\n                dataMaskSelected={dataMaskSelected}\r\n                directPathToChild={directPathToChild}\r\n                onFilterSelectionChange={handleFilterSelectionChange}\r\n              />\r\n            </Tabs.TabPane>\r\n            <Tabs.TabPane\r\n              disabled={!!editFilterSetId}\r\n              tab={t(`Filter Sets (${filterSetFilterValues.length})`)}\r\n              key={TabIds.FilterSets}\r\n            >\r\n              <FilterSets\r\n                onEditFilterSet={setEditFilterSetId}\r\n                disabled={!isApplyDisabled}\r\n                dataMaskSelected={dataMaskSelected}\r\n                isFilterSetChanged={isFilterSetChanged}\r\n                onFilterSelectionChange={handleFilterSelectionChange}\r\n              />\r\n            </Tabs.TabPane>\r\n          </StyledTabs>\r\n        ) : (\r\n          <FilterControls\r\n            dataMaskSelected={dataMaskSelected}\r\n            directPathToChild={directPathToChild}\r\n            onFilterSelectionChange={handleFilterSelectionChange}\r\n          />\r\n        )}\r\n      </Bar>\r\n    </BarWrapper>\r\n  );\r\n};\r\n\r\nexport default FilterBar;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-disable no-param-reassign */\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  Filters,\r\n  FilterSets as FilterSetsType,\r\n} from 'src/dashboard/reducers/types';\r\nimport {\r\n  DataMaskState,\r\n  DataMaskStateWithId,\r\n  DataMaskWithId,\r\n} from 'src/dataMask/types';\r\nimport { useEffect, useState } from 'react';\r\nimport { ChartsState, RootState } from 'src/dashboard/types';\r\nimport { NATIVE_FILTER_PREFIX } from '../FiltersConfigModal/utils';\r\n\r\nexport const useFilterSets = () =>\r\n  useSelector<any, FilterSetsType>(\r\n    state => state.nativeFilters.filterSets || {},\r\n  );\r\n\r\nexport const useFilters = () =>\r\n  useSelector<any, Filters>(state => state.nativeFilters.filters);\r\n\r\nexport const useNativeFiltersDataMask = () => {\r\n  const dataMask = useSelector<RootState, DataMaskStateWithId>(\r\n    state => state.dataMask,\r\n  );\r\n\r\n  return Object.values(dataMask)\r\n    .filter((item: DataMaskWithId) =>\r\n      String(item.id).startsWith(NATIVE_FILTER_PREFIX),\r\n    )\r\n    .reduce(\r\n      (prev, next: DataMaskWithId) => ({ ...prev, [next.id]: next }),\r\n      {},\r\n    ) as DataMaskStateWithId;\r\n};\r\n\r\nexport const useFilterUpdates = (\r\n  dataMaskSelected: DataMaskState,\r\n  setDataMaskSelected: (arg0: (arg0: DataMaskState) => void) => void,\r\n) => {\r\n  const filters = useFilters();\r\n  const dataMaskApplied = useNativeFiltersDataMask();\r\n\r\n  useEffect(() => {\r\n    // Remove deleted filters from local state\r\n    Object.keys(dataMaskSelected).forEach(selectedId => {\r\n      if (!filters[selectedId]) {\r\n        setDataMaskSelected(draft => {\r\n          delete draft[selectedId];\r\n        });\r\n      }\r\n    });\r\n  }, [dataMaskApplied, dataMaskSelected, filters, setDataMaskSelected]);\r\n};\r\n\r\n// Load filters after charts loaded\r\nexport const useInitialization = () => {\r\n  const [isInitialized, setIsInitialized] = useState<boolean>(false);\r\n  const filters = useFilters();\r\n  const charts = useSelector<RootState, ChartsState>(state => state.charts);\r\n\r\n  // We need to know how much charts now shown on dashboard to know how many of all charts should be loaded\r\n  let numberOfLoadingCharts = 0;\r\n  if (!isInitialized) {\r\n    numberOfLoadingCharts = document.querySelectorAll(\r\n      '[data-ui-anchor=\"chart\"]',\r\n    ).length;\r\n  }\r\n  useEffect(() => {\r\n    if (isInitialized) {\r\n      return;\r\n    }\r\n\r\n    if (Object.values(filters).find(({ requiredFirst }) => requiredFirst)) {\r\n      setIsInitialized(true);\r\n      return;\r\n    }\r\n\r\n    // For some dashboards may be there are no charts on first page,\r\n    // so we check up to 1 sec if there is at least on chart to load\r\n    let filterTimeout: NodeJS.Timeout;\r\n    if (numberOfLoadingCharts === 0) {\r\n      filterTimeout = setTimeout(() => {\r\n        setIsInitialized(true);\r\n      }, 1000);\r\n    }\r\n\r\n    // @ts-ignore\r\n    if (numberOfLoadingCharts > 0 && filterTimeout !== undefined) {\r\n      clearTimeout(filterTimeout);\r\n    }\r\n\r\n    const numberOfLoadedCharts = Object.values(charts).filter(\r\n      ({ chartStatus }) => chartStatus !== 'loading',\r\n    ).length;\r\n    if (\r\n      numberOfLoadingCharts > 0 &&\r\n      numberOfLoadedCharts >= numberOfLoadingCharts\r\n    ) {\r\n      setIsInitialized(true);\r\n    }\r\n  }, [charts, isInitialized, numberOfLoadingCharts]);\r\n\r\n  return isInitialized;\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport { DataMaskStateWithId } from 'src/dataMask/types';\r\nimport { Filter } from '../types';\r\n\r\nexport enum TabIds {\r\n  AllFilters = 'allFilters',\r\n  FilterSets = 'filterSets',\r\n}\r\n\r\nexport function mapParentFiltersToChildren(\r\n  filters: Filter[],\r\n): { [id: string]: Filter[] } {\r\n  const cascadeChildren = {};\r\n  filters.forEach(filter => {\r\n    const [parentId] = filter.cascadeParentIds || [];\r\n    if (parentId) {\r\n      if (!cascadeChildren[parentId]) {\r\n        cascadeChildren[parentId] = [];\r\n      }\r\n      cascadeChildren[parentId].push(filter);\r\n    }\r\n  });\r\n  return cascadeChildren;\r\n}\r\n\r\nexport const getOnlyExtraFormData = (data: DataMaskStateWithId) =>\r\n  Object.values(data).reduce(\r\n    (prev, next) => ({ ...prev, [next.id]: next.extraFormData }),\r\n    {},\r\n  );\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport React, { FC } from 'react';\r\nimport { LineEditableTabs } from 'src/components/Tabs';\r\nimport Icon from 'src/components/Icon';\r\nimport { FilterRemoval } from './types';\r\nimport { REMOVAL_DELAY_SECS } from './utils';\r\n\r\nexport const FILTER_WIDTH = 180;\r\n\r\nexport const StyledSpan = styled.span`\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.colors.primary.dark1};\r\n  &:hover {\r\n    color: ${({ theme }) => theme.colors.primary.dark2};\r\n  }\r\n`;\r\n\r\nexport const StyledFilterTitle = styled.span`\r\n  width: ${FILTER_WIDTH}px;\r\n  white-space: normal;\r\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\r\n`;\r\n\r\nexport const StyledAddFilterBox = styled.div`\r\n  color: ${({ theme }) => theme.colors.primary.dark1};\r\n  padding: ${({ theme }) => theme.gridUnit * 2}px;\r\n  border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    color: ${({ theme }) => theme.colors.primary.base};\r\n  }\r\n`;\r\n\r\nexport const StyledTrashIcon = styled(Icon)`\r\n  color: ${({ theme }) => theme.colors.grayscale.light3};\r\n`;\r\n\r\nexport const FilterTabTitle = styled.span`\r\n  transition: color ${({ theme }) => theme.transitionTiming}s;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n\r\n  @keyframes tabTitleRemovalAnimation {\r\n    0%,\r\n    90% {\r\n      opacity: 1;\r\n    }\r\n    95%,\r\n    100% {\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  &.removed {\r\n    color: ${({ theme }) => theme.colors.warning.dark1};\r\n    transform-origin: top;\r\n    animation-name: tabTitleRemovalAnimation;\r\n    animation-duration: ${REMOVAL_DELAY_SECS}s;\r\n  }\r\n`;\r\n\r\nconst FilterTabsContainer = styled(LineEditableTabs)`\r\n  ${({ theme }) => `\r\n    height: 100%;\r\n\r\n    & > .ant-tabs-content-holder {\r\n      border-left: 1px solid ${theme.colors.grayscale.light2};\r\n      padding-right: ${theme.gridUnit * 4}px;\r\n      overflow-x: hidden;\r\n      overflow-y: auto;\r\n    }\r\n\r\n    & > .ant-tabs-content-holder ~ .ant-tabs-content-holder {\r\n      border: none;\r\n    }\r\n\r\n    &.ant-tabs-card > .ant-tabs-nav .ant-tabs-ink-bar {\r\n      visibility: hidden;\r\n    }\r\n\r\n    &.ant-tabs-left\r\n      > .ant-tabs-content-holder\r\n      > .ant-tabs-content\r\n      > .ant-tabs-tabpane {\r\n      padding-left: ${theme.gridUnit * 4}px;\r\n      margin-top: ${theme.gridUnit * 4}px;\r\n    }\r\n\r\n    .ant-tabs-nav-list {\r\n      overflow-x: hidden;\r\n      overflow-y: auto;\r\n      padding-top: ${theme.gridUnit * 2}px;\r\n      padding-right: ${theme.gridUnit}px;\r\n      padding-bottom: ${theme.gridUnit * 3}px;\r\n      padding-left: ${theme.gridUnit * 3}px;\r\n      width: 270px;\r\n    }\r\n\r\n    // extra selector specificity:\r\n    &.ant-tabs-card > .ant-tabs-nav .ant-tabs-tab {\r\n      min-width: ${FILTER_WIDTH}px;\r\n      margin: 0 ${theme.gridUnit * 2}px 0 0;\r\n      padding: ${theme.gridUnit}px\r\n        ${theme.gridUnit * 2}px;\r\n\r\n      &:hover,\r\n      &-active {\r\n        color: ${theme.colors.grayscale.dark1};\r\n        border-radius: ${theme.borderRadius}px;\r\n        background-color: ${theme.colors.secondary.light4};\r\n\r\n        .ant-tabs-tab-remove > svg {\r\n          color: ${theme.colors.grayscale.base};\r\n          transition: all 0.3s;\r\n        }\r\n      }\r\n    }\r\n\r\n    .ant-tabs-tab-btn {\r\n      text-align: left;\r\n      justify-content: space-between;\r\n      text-transform: unset;\r\n    }\r\n\r\n    .ant-tabs-nav-more {\r\n      display: none;\r\n    }\r\n\r\n    .ant-tabs-extra-content {\r\n      width: 100%;\r\n    }\r\n  `}\r\n`;\r\n\r\nconst StyledHeader = styled.div`\r\n  ${({ theme }) => `\r\n    color: ${theme.colors.grayscale.dark1};\r\n    font-size: ${theme.typography.sizes.l}px;\r\n    padding-top: ${theme.gridUnit * 4}px;\r\n    padding-right: ${theme.gridUnit * 4}px;\r\n    padding-left: ${theme.gridUnit * 4}px;\r\n  `}\r\n`;\r\n\r\ntype FilterTabsProps = {\r\n  onChange: (activeKey: string) => void;\r\n  getFilterTitle: (id: string) => string;\r\n  currentFilterId: string;\r\n  onEdit: (filterId: string, action: 'add' | 'remove') => void;\r\n  filterIds: string[];\r\n  removedFilters: Record<string, FilterRemoval>;\r\n  restoreFilter: Function;\r\n  children: Function;\r\n};\r\n\r\nconst FilterTabs: FC<FilterTabsProps> = ({\r\n  onEdit,\r\n  getFilterTitle,\r\n  onChange,\r\n  currentFilterId,\r\n  filterIds = [],\r\n  removedFilters = [],\r\n  restoreFilter,\r\n  children,\r\n}) => (\r\n  <FilterTabsContainer\r\n    id=\"native-filters-tabs\"\r\n    type=\"editable-card\"\r\n    tabPosition=\"left\"\r\n    onChange={onChange}\r\n    activeKey={currentFilterId}\r\n    onEdit={onEdit}\r\n    hideAdd\r\n    tabBarExtraContent={{\r\n      left: <StyledHeader>{t('Filters')}</StyledHeader>,\r\n      right: (\r\n        <StyledAddFilterBox\r\n          onClick={() => {\r\n            onEdit('', 'add');\r\n            setTimeout(() => {\r\n              const element = document.getElementById('native-filters-tabs');\r\n              if (element) {\r\n                const navList = element.getElementsByClassName(\r\n                  'ant-tabs-nav-list',\r\n                )[0];\r\n                navList.scrollTop = navList.scrollHeight;\r\n              }\r\n            }, 0);\r\n          }}\r\n        >\r\n          <PlusOutlined />{' '}\r\n          <span data-test=\"add-filter-button\" aria-label=\"Add filter\">\r\n            {t('Add filter')}\r\n          </span>\r\n        </StyledAddFilterBox>\r\n      ),\r\n    }}\r\n  >\r\n    {filterIds.map(id => (\r\n      <LineEditableTabs.TabPane\r\n        tab={\r\n          <FilterTabTitle className={removedFilters[id] ? 'removed' : ''}>\r\n            <StyledFilterTitle>\r\n              {removedFilters[id] ? t('(Removed)') : getFilterTitle(id)}\r\n            </StyledFilterTitle>\r\n            {removedFilters[id] && (\r\n              <StyledSpan\r\n                role=\"button\"\r\n                data-test=\"undo-button\"\r\n                tabIndex={0}\r\n                onClick={() => restoreFilter(id)}\r\n              >\r\n                {t('Undo?')}\r\n              </StyledSpan>\r\n            )}\r\n          </FilterTabTitle>\r\n        }\r\n        key={id}\r\n        closeIcon={\r\n          removedFilters[id] ? <></> : <StyledTrashIcon name=\"trash\" />\r\n        }\r\n      >\r\n        {\r\n          // @ts-ignore\r\n          children(id)\r\n        }\r\n      </LineEditableTabs.TabPane>\r\n    ))}\r\n  </FilterTabsContainer>\r\n);\r\n\r\nexport default FilterTabs;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { ReactNode, useState } from 'react';\r\nimport { styled } from '@superset-ui/core';\r\nimport { Checkbox } from 'src/common/components';\r\n\r\ninterface CollapsibleControlProps {\r\n  checked?: boolean;\r\n  title: string;\r\n  children: ReactNode;\r\n  onChange?: (checked: boolean) => void;\r\n}\r\n\r\nconst StyledContainer = styled.div<{ checked: boolean }>`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  min-height: ${({ theme }) => theme.gridUnit * 10}px;\r\n  padding-top: ${({ theme }) => theme.gridUnit * 2 + 2}px;\r\n\r\n  .checkbox {\r\n    margin-bottom: ${({ theme, checked }) => (checked ? theme.gridUnit : 0)}px;\r\n  }\r\n\r\n  & > div {\r\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\r\n  }\r\n`;\r\n\r\nconst CollapsibleControl = (props: CollapsibleControlProps) => {\r\n  const { checked = false, title, children, onChange } = props;\r\n  const [isChecked, setIsChecked] = useState(checked);\r\n  return (\r\n    <StyledContainer checked={isChecked}>\r\n      <Checkbox\r\n        className=\"checkbox\"\r\n        checked={isChecked}\r\n        onChange={e => {\r\n          const value = e.target.checked;\r\n          setIsChecked(value);\r\n          if (onChange) {\r\n            onChange(value);\r\n          }\r\n        }}\r\n      >\r\n        {title}\r\n      </Checkbox>\r\n      {isChecked && children}\r\n    </StyledContainer>\r\n  );\r\n};\r\n\r\nexport { CollapsibleControl, CollapsibleControlProps };\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useCallback } from 'react';\r\nimport { FormInstance } from 'antd/lib/form';\r\nimport { SupersetClient, t } from '@superset-ui/core';\r\nimport { useChangeEffect } from 'src/common/hooks/useChangeEffect';\r\nimport { AsyncSelect } from 'src/components/Select';\r\nimport { useToasts } from 'src/messageToasts/enhancers/withToasts';\r\nimport { getClientErrorObject } from 'src/utils/getClientErrorObject';\r\nimport { cacheWrapper } from 'src/utils/cacheWrapper';\r\nimport { NativeFiltersForm } from '../types';\r\n\r\ntype ColumnSelectValue = {\r\n  value: string;\r\n  label: string;\r\n};\r\n\r\ninterface ColumnSelectProps {\r\n  form: FormInstance<NativeFiltersForm>;\r\n  filterId: string;\r\n  datasetId?: number | null | undefined;\r\n  value?: ColumnSelectValue | null;\r\n  onChange?: (value: ColumnSelectValue | null) => void;\r\n}\r\n\r\nconst localCache = new Map<string, any>();\r\n\r\nconst cachedSupersetGet = cacheWrapper(\r\n  SupersetClient.get,\r\n  localCache,\r\n  ({ endpoint }) => endpoint || '',\r\n);\r\n\r\n/** Special purpose AsyncSelect that selects a column from a dataset */\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport function ColumnSelect({\r\n  form,\r\n  filterId,\r\n  datasetId,\r\n  value,\r\n  onChange,\r\n}: ColumnSelectProps) {\r\n  const { addDangerToast } = useToasts();\r\n  const resetColumnField = useCallback(() => {\r\n    form.setFields([\r\n      { name: ['filters', filterId, 'column'], touched: false, value: null },\r\n    ]);\r\n  }, [form, filterId]);\r\n\r\n  useChangeEffect(datasetId, previous => {\r\n    if (previous != null) {\r\n      resetColumnField();\r\n    }\r\n  });\r\n\r\n  function loadOptions() {\r\n    if (datasetId == null) return [];\r\n    return cachedSupersetGet({\r\n      endpoint: `/api/v1/dataset/${datasetId}`,\r\n    }).then(\r\n      ({ json: { result } }) => {\r\n        const columns = result.columns\r\n          .map((col: any) => col.column_name)\r\n          .sort((a: string, b: string) => a.localeCompare(b));\r\n        if (!columns.includes(value)) {\r\n          resetColumnField();\r\n        }\r\n        return columns;\r\n      },\r\n      async badResponse => {\r\n        const { error, message } = await getClientErrorObject(badResponse);\r\n        let errorText = message || error || t('An error has occurred');\r\n        if (message === 'Forbidden') {\r\n          errorText = t('You do not have permission to edit this dashboard');\r\n        }\r\n        addDangerToast(errorText);\r\n        return [];\r\n      },\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AsyncSelect\r\n      // \"key\" prop makes react render a new instance of the select whenever the dataset changes\r\n      key={datasetId == null ? '*no dataset*' : datasetId}\r\n      isDisabled={datasetId == null}\r\n      value={value}\r\n      onChange={onChange}\r\n      isMulti={false}\r\n      loadOptions={loadOptions}\r\n      defaultOptions // load options on render\r\n      cacheOptions\r\n    />\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { FC, useEffect, useState } from 'react';\r\nimport {\r\n  Behavior,\r\n  SetDataMaskHook,\r\n  SuperChart,\r\n  AppSection,\r\n} from '@superset-ui/core';\r\nimport { FormInstance } from 'antd/lib/form';\r\nimport Loading from 'src/components/Loading';\r\nimport { NativeFiltersForm } from '../types';\r\nimport { getFormData } from '../../utils';\r\n\r\ntype DefaultValueProps = {\r\n  filterId: string;\r\n  setDataMask: SetDataMaskHook;\r\n  hasDataset: boolean;\r\n  form: FormInstance<NativeFiltersForm>;\r\n  formData: ReturnType<typeof getFormData>;\r\n  enableNoResults: boolean;\r\n};\r\n\r\nconst DefaultValue: FC<DefaultValueProps> = ({\r\n  filterId,\r\n  hasDataset,\r\n  form,\r\n  setDataMask,\r\n  formData,\r\n  enableNoResults,\r\n}) => {\r\n  const [loading, setLoading] = useState(hasDataset);\r\n  const formFilter = (form.getFieldValue('filters') || {})[filterId];\r\n  const queriesData = formFilter?.defaultValueQueriesData;\r\n\r\n  useEffect(() => {\r\n    if (!hasDataset || queriesData !== null) {\r\n      setLoading(false);\r\n    } else {\r\n      setLoading(true);\r\n    }\r\n  }, [hasDataset, queriesData]);\r\n\r\n  return loading ? (\r\n    <Loading position=\"inline-centered\" />\r\n  ) : (\r\n    <SuperChart\r\n      height={25}\r\n      width={250}\r\n      appSection={AppSection.FILTER_CONFIG_MODAL}\r\n      behaviors={[Behavior.NATIVE_FILTER]}\r\n      formData={formData}\r\n      // For charts that don't have datasource we need workaround for empty placeholder\r\n      queriesData={\r\n        hasDataset ? formFilter?.defaultValueQueriesData : [{ data: [{}] }]\r\n      }\r\n      chartType={formFilter?.filterType}\r\n      hooks={{ setDataMask }}\r\n      enableNoResults={enableNoResults}\r\n      filterState={formFilter.defaultDataMask?.filterState}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DefaultValue;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport React, { FC } from 'react';\r\nimport { t, styled } from '@superset-ui/core';\r\nimport { Radio } from 'src/components/Radio';\r\nimport { Form, Typography } from 'src/common/components';\r\nimport { Scope } from '../../../types';\r\nimport { Scoping } from './types';\r\nimport ScopingTree from './ScopingTree';\r\nimport { getDefaultScopeValue, isScopingAll } from './utils';\r\n\r\ntype FilterScopeProps = {\r\n  pathToFormValue?: string[];\r\n  updateFormValues: (values: any) => void;\r\n  formScope?: Scope;\r\n  forceUpdate: Function;\r\n  scope?: Scope;\r\n  formScoping?: Scoping;\r\n  chartId?: number;\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  & > * {\r\n    margin-bottom: ${({ theme }) => theme.gridUnit}px;\r\n  }\r\n`;\r\n\r\nconst CleanFormItem = styled(Form.Item)`\r\n  margin-bottom: 0;\r\n`;\r\n\r\nconst FilterScope: FC<FilterScopeProps> = ({\r\n  pathToFormValue = [],\r\n  formScoping,\r\n  formScope,\r\n  forceUpdate,\r\n  scope,\r\n  updateFormValues,\r\n  chartId,\r\n}) => {\r\n  const initialScope = scope || getDefaultScopeValue(chartId);\r\n  const initialScoping = isScopingAll(initialScope, chartId)\r\n    ? Scoping.all\r\n    : Scoping.specific;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <CleanFormItem\r\n        name={[...pathToFormValue, 'scoping']}\r\n        initialValue={initialScoping}\r\n      >\r\n        <Radio.Group\r\n          onChange={({ target: { value } }) => {\r\n            if (value === Scoping.all) {\r\n              const scope = getDefaultScopeValue(chartId);\r\n              updateFormValues({\r\n                scope,\r\n              });\r\n            }\r\n            forceUpdate();\r\n          }}\r\n        >\r\n          <Radio value={Scoping.all}>{t('Apply to all panels')}</Radio>\r\n          <Radio value={Scoping.specific}>\r\n            {t('Apply to specific panels')}\r\n          </Radio>\r\n        </Radio.Group>\r\n      </CleanFormItem>\r\n      <Typography.Text type=\"secondary\">\r\n        {(formScoping ?? initialScoping) === Scoping.specific\r\n          ? t('Only selected panels will be affected by this filter')\r\n          : t('All panels with this column will be affected by this filter')}\r\n      </Typography.Text>\r\n      {(formScoping ?? initialScoping) === Scoping.specific && (\r\n        <ScopingTree\r\n          updateFormValues={updateFormValues}\r\n          initialScope={initialScope}\r\n          formScope={formScope}\r\n          forceUpdate={forceUpdate}\r\n          chartId={chartId}\r\n        />\r\n      )}\r\n      <CleanFormItem\r\n        name={[...pathToFormValue, 'scope']}\r\n        hidden\r\n        initialValue={initialScope}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default FilterScope;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nimport React, { FC, useMemo, useState } from 'react';\r\nimport { Tree } from 'src/common/components';\r\nimport { DASHBOARD_ROOT_ID } from 'src/dashboard/util/constants';\r\nimport { useFilterScopeTree } from './state';\r\nimport { findFilterScope, getTreeCheckedItems } from './utils';\r\nimport { Scope } from '../../../types';\r\n\r\ntype ScopingTreeProps = {\r\n  forceUpdate: Function;\r\n  updateFormValues: (values: any) => void;\r\n  formScope?: Scope;\r\n  initialScope: Scope;\r\n  chartId?: number;\r\n};\r\n\r\nconst ScopingTree: FC<ScopingTreeProps> = ({\r\n  formScope,\r\n  initialScope,\r\n  forceUpdate,\r\n  updateFormValues,\r\n  chartId,\r\n}) => {\r\n  const [expandedKeys, setExpandedKeys] = useState<string[]>([\r\n    DASHBOARD_ROOT_ID,\r\n  ]);\r\n\r\n  const { treeData, layout } = useFilterScopeTree(chartId);\r\n  const [autoExpandParent, setAutoExpandParent] = useState<boolean>(true);\r\n\r\n  const handleExpand = (expandedKeys: string[]) => {\r\n    setExpandedKeys(expandedKeys);\r\n    setAutoExpandParent(false);\r\n  };\r\n\r\n  const handleCheck = (checkedKeys: string[]) => {\r\n    forceUpdate();\r\n    const scope = findFilterScope(checkedKeys, layout);\r\n    if (chartId !== undefined) {\r\n      scope.excluded = [...new Set([...scope.excluded, chartId])];\r\n    }\r\n    updateFormValues({\r\n      scope,\r\n    });\r\n  };\r\n\r\n  const checkedKeys = useMemo(\r\n    () => getTreeCheckedItems({ ...(formScope || initialScope) }, layout),\r\n    [formScope, initialScope, layout],\r\n  );\r\n\r\n  return (\r\n    <Tree\r\n      checkable\r\n      selectable={false}\r\n      onExpand={handleExpand}\r\n      expandedKeys={expandedKeys}\r\n      autoExpandParent={autoExpandParent}\r\n      onCheck={handleCheck}\r\n      checkedKeys={checkedKeys}\r\n      treeData={treeData}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ScopingTree;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useMemo } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { t } from '@superset-ui/core';\r\nimport { Charts, Layout, RootState } from 'src/dashboard/types';\r\nimport { DASHBOARD_ROOT_ID } from 'src/dashboard/util/constants';\r\nimport {\r\n  CHART_TYPE,\r\n  DASHBOARD_ROOT_TYPE,\r\n} from 'src/dashboard/util/componentTypes';\r\nimport { TreeItem } from './types';\r\nimport { buildTree } from './utils';\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport function useFilterScopeTree(\r\n  currentChartId?: number,\r\n): {\r\n  treeData: [TreeItem];\r\n  layout: Layout;\r\n} {\r\n  const layout = useSelector<RootState, Layout>(\r\n    ({ dashboardLayout: { present } }) => present,\r\n  );\r\n\r\n  const charts = useSelector<RootState, Charts>(({ charts }) => charts);\r\n  const tree = {\r\n    children: [],\r\n    key: DASHBOARD_ROOT_ID,\r\n    type: DASHBOARD_ROOT_TYPE,\r\n    title: t('All panels'),\r\n  };\r\n\r\n  // We need to get only nodes that have charts as children or grandchildren\r\n  const validNodes = useMemo(\r\n    () =>\r\n      Object.values(layout).reduce<string[]>((acc, cur) => {\r\n        const { id, parents = [], type, meta } = cur;\r\n        if (type === CHART_TYPE && currentChartId !== meta?.chartId) {\r\n          return [...new Set([...acc, ...parents, id])];\r\n        }\r\n        return acc;\r\n      }, []),\r\n    [layout, currentChartId],\r\n  );\r\n\r\n  useMemo(() => {\r\n    buildTree(layout[DASHBOARD_ROOT_ID], tree, layout, charts, validNodes);\r\n  }, [charts, layout, tree]);\r\n\r\n  return { treeData: [tree], layout };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nexport enum Scoping {\r\n  all,\r\n  specific,\r\n}\r\n\r\n/** UI Ant tree type */\r\nexport type TreeItem = {\r\n  children: TreeItem[];\r\n  key: string;\r\n  title: string;\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { Charts, Layout, LayoutItem } from 'src/dashboard/types';\r\nimport {\r\n  CHART_TYPE,\r\n  DASHBOARD_ROOT_TYPE,\r\n  TAB_TYPE,\r\n} from 'src/dashboard/util/componentTypes';\r\nimport { DASHBOARD_ROOT_ID } from 'src/dashboard/util/constants';\r\nimport { TreeItem } from './types';\r\nimport { Scope } from '../../../types';\r\n\r\nexport const isShowTypeInTree = ({ type, meta }: LayoutItem, charts?: Charts) =>\r\n  (type === TAB_TYPE || type === CHART_TYPE || type === DASHBOARD_ROOT_TYPE) &&\r\n  (!charts || charts[meta?.chartId]?.formData?.viz_type !== 'filter_box');\r\n\r\nexport const buildTree = (\r\n  node: LayoutItem,\r\n  treeItem: TreeItem,\r\n  layout: Layout,\r\n  charts: Charts,\r\n  validNodes: string[],\r\n) => {\r\n  let itemToPass: TreeItem = treeItem;\r\n  if (\r\n    isShowTypeInTree(node, charts) &&\r\n    node.type !== DASHBOARD_ROOT_TYPE &&\r\n    validNodes.includes(node.id)\r\n  ) {\r\n    const currentTreeItem = {\r\n      key: node.id,\r\n      title:\r\n        node.meta.sliceNameOverride ||\r\n        node.meta.sliceName ||\r\n        node.meta.text ||\r\n        node.id.toString(),\r\n      children: [],\r\n    };\r\n    treeItem.children.push(currentTreeItem);\r\n    itemToPass = currentTreeItem;\r\n  }\r\n  node.children.forEach(child =>\r\n    buildTree(layout[child], itemToPass, layout, charts, validNodes),\r\n  );\r\n};\r\n\r\nconst addInvisibleParents = (layout: Layout, item: string) => [\r\n  ...(layout[item]?.children || []),\r\n  ...Object.values(layout)\r\n    .filter(\r\n      val =>\r\n        val.parents &&\r\n        val.parents[val.parents.length - 1] === item &&\r\n        !isShowTypeInTree(layout[val.parents[val.parents.length - 1]]),\r\n    )\r\n    .map(({ id }) => id),\r\n];\r\n\r\n// Generate checked options for Ant tree from redux scope\r\nconst checkTreeItem = (\r\n  checkedItems: string[],\r\n  layout: Layout,\r\n  items: string[],\r\n  excluded: number[],\r\n) => {\r\n  items.forEach(item => {\r\n    checkTreeItem(\r\n      checkedItems,\r\n      layout,\r\n      addInvisibleParents(layout, item),\r\n      excluded,\r\n    );\r\n    if (\r\n      layout[item]?.type === CHART_TYPE &&\r\n      !excluded.includes(layout[item]?.meta.chartId)\r\n    ) {\r\n      checkedItems.push(item);\r\n    }\r\n  });\r\n};\r\n\r\nexport const getTreeCheckedItems = (scope: Scope, layout: Layout) => {\r\n  const checkedItems: string[] = [];\r\n  checkTreeItem(checkedItems, layout, [...scope.rootPath], [...scope.excluded]);\r\n  return [...new Set(checkedItems)];\r\n};\r\n\r\n// Looking for first common parent for selected charts/tabs/tab\r\nexport const findFilterScope = (\r\n  checkedKeys: string[],\r\n  layout: Layout,\r\n): Scope => {\r\n  if (!checkedKeys.length) {\r\n    return {\r\n      rootPath: [],\r\n      excluded: [],\r\n    };\r\n  }\r\n\r\n  // Get arrays of parents for selected charts\r\n  const checkedItemParents = checkedKeys\r\n    .filter(item => layout[item]?.type === CHART_TYPE)\r\n    .map(key => {\r\n      const parents = [DASHBOARD_ROOT_ID, ...(layout[key]?.parents || [])];\r\n      return parents.filter(parent => isShowTypeInTree(layout[parent]));\r\n    });\r\n  // Sort arrays of parents to get first shortest array of parents,\r\n  // that means on it's level of parents located common parent, from this place parents start be different\r\n  checkedItemParents.sort((p1, p2) => p1.length - p2.length);\r\n  const rootPath = checkedItemParents.map(\r\n    parents => parents[checkedItemParents[0].length - 1],\r\n  );\r\n\r\n  const excluded: number[] = [];\r\n  const isExcluded = (parent: string, item: string) =>\r\n    rootPath.includes(parent) && !checkedKeys.includes(item);\r\n  // looking for charts to be excluded: iterate over all charts\r\n  // and looking for charts that have one of their parents in `rootPath` and not in selected items\r\n  Object.entries(layout).forEach(([key, value]) => {\r\n    const parents = value.parents || [];\r\n    if (\r\n      value.type === CHART_TYPE &&\r\n      [DASHBOARD_ROOT_ID, ...parents]?.find(parent => isExcluded(parent, key))\r\n    ) {\r\n      excluded.push(value.meta.chartId);\r\n    }\r\n  });\r\n\r\n  return {\r\n    rootPath: [...new Set(rootPath)],\r\n    excluded,\r\n  };\r\n};\r\n\r\nexport const getDefaultScopeValue = (chartId?: number): Scope => ({\r\n  rootPath: [DASHBOARD_ROOT_ID],\r\n  excluded: chartId ? [chartId] : [],\r\n});\r\n\r\nexport const isScopingAll = (scope: Scope, chartId?: number) =>\r\n  !scope ||\r\n  (scope.rootPath[0] === DASHBOARD_ROOT_ID &&\r\n    !scope.excluded.filter(item => item !== chartId).length);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport {\r\n  AdhocFilter,\r\n  Behavior,\r\n  ChartDataResponseResult,\r\n  getChartMetadataRegistry,\r\n  JsonResponse,\r\n  styled,\r\n  SupersetApiError,\r\n  t,\r\n} from '@superset-ui/core';\r\nimport {\r\n  ColumnMeta,\r\n  DatasourceMeta,\r\n  Metric,\r\n} from '@superset-ui/chart-controls';\r\nimport { FormInstance } from 'antd/lib/form';\r\nimport React, {\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n  useMemo,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n} from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { FormItem } from 'src/components/Form';\r\nimport { Checkbox, Input } from 'src/common/components';\r\nimport { Select } from 'src/components/Select';\r\nimport SupersetResourceSelect, {\r\n  cachedSupersetGet,\r\n} from 'src/components/SupersetResourceSelect';\r\nimport AdhocFilterControl from 'src/explore/components/controls/FilterControl/AdhocFilterControl';\r\nimport DateFilterControl from 'src/explore/components/controls/DateFilterControl';\r\nimport { addDangerToast } from 'src/messageToasts/actions';\r\nimport { ClientErrorObject } from 'src/utils/getClientErrorObject';\r\nimport SelectControl from 'src/explore/components/controls/SelectControl';\r\nimport Collapse from 'src/components/Collapse';\r\nimport { getChartDataRequest } from 'src/chart/chartAction';\r\nimport { FeatureFlag, isFeatureEnabled } from 'src/featureFlags';\r\nimport { waitForAsyncData } from 'src/middleware/asyncEvent';\r\nimport Tabs from 'src/components/Tabs';\r\nimport { ColumnSelect } from './ColumnSelect';\r\nimport { NativeFiltersForm } from '../types';\r\nimport {\r\n  datasetToSelectOption,\r\n  setNativeFilterFieldValues,\r\n  useForceUpdate,\r\n} from './utils';\r\nimport { useBackendFormUpdate } from './state';\r\nimport { getFormData } from '../../utils';\r\nimport { Filter } from '../../types';\r\nimport getControlItemsMap from './getControlItemsMap';\r\nimport FilterScope from './FilterScope/FilterScope';\r\nimport RemovedFilter from './RemovedFilter';\r\nimport DefaultValue from './DefaultValue';\r\nimport { CollapsibleControl } from './CollapsibleControl';\r\nimport {\r\n  CASCADING_FILTERS,\r\n  getFiltersConfigModalTestId,\r\n} from '../FiltersConfigModal';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst StyledContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst StyledRowContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`;\r\n\r\nexport const StyledFormItem = styled(FormItem)`\r\n  width: 49%;\r\n  margin-bottom: ${({ theme }) => theme.gridUnit * 4}px;\r\n\r\n  & .ant-form-item-label {\r\n    padding-bottom: 0px;\r\n  }\r\n\r\n  & .ant-form-item-control-input {\r\n    min-height: ${({ theme }) => theme.gridUnit * 10}px;\r\n  }\r\n`;\r\n\r\nexport const StyledRowFormItem = styled(FormItem)`\r\n  margin-bottom: 0px;\r\n  padding-bottom: 0px;\r\n  min-width: 50%;\r\n\r\n  & .ant-form-item-label {\r\n    padding-bottom: 0px;\r\n  }\r\n\r\n  .ant-form-item-control-input-content > div > div {\r\n    height: auto;\r\n  }\r\n\r\n  & .ant-form-item-control-input {\r\n    min-height: ${({ theme }) => theme.gridUnit * 10}px;\r\n  }\r\n`;\r\n\r\nexport const StyledLabel = styled.span`\r\n  color: ${({ theme }) => theme.colors.grayscale.base};\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst CleanFormItem = styled(FormItem)`\r\n  margin-bottom: 0;\r\n`;\r\n\r\nconst StyledCollapse = styled(Collapse)`\r\n  margin-left: ${({ theme }) => theme.gridUnit * -4 - 1}px;\r\n  margin-right: ${({ theme }) => theme.gridUnit * -4}px;\r\n  border-left: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n  border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n  border-radius: 0px;\r\n\r\n  .ant-collapse-header {\r\n    border-bottom: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n    border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\r\n    margin-top: -1px;\r\n    border-radius: 0px;\r\n  }\r\n\r\n  .ant-collapse-content {\r\n    border: 0px;\r\n  }\r\n\r\n  .ant-collapse-content-box {\r\n    padding-top: ${({ theme }) => theme.gridUnit * 2}px;\r\n  }\r\n\r\n  &.ant-collapse > .ant-collapse-item {\r\n    border: 0px;\r\n    border-radius: 0px;\r\n  }\r\n`;\r\n\r\nconst StyledTabs = styled(Tabs)`\r\n  .ant-tabs-nav {\r\n    position: sticky;\r\n    top: 0px;\r\n    background: white;\r\n    z-index: 1;\r\n  }\r\n\r\n  .ant-tabs-nav-list {\r\n    padding: 0px;\r\n  }\r\n\r\n  .ant-form-item-label {\r\n    padding-bottom: 0px;\r\n  }\r\n`;\r\n\r\nconst StyledAsterisk = styled.span`\r\n  color: ${({ theme }) => theme.colors.error.base};\r\n  font-family: SimSun, sans-serif;\r\n  margin-right: ${({ theme }) => theme.gridUnit - 1}px;\r\n  &:before {\r\n    content: '*';\r\n  }\r\n`;\r\n\r\nconst FilterTabs = {\r\n  configuration: {\r\n    key: 'configuration',\r\n    name: t('Configuration'),\r\n  },\r\n  scoping: {\r\n    key: 'scoping',\r\n    name: t('Scoping'),\r\n  },\r\n};\r\n\r\nconst FilterPanels = {\r\n  basic: {\r\n    key: 'basic',\r\n    name: t('Basic'),\r\n  },\r\n  advanced: {\r\n    key: 'advanced',\r\n    name: t('Advanced'),\r\n  },\r\n};\r\n\r\nexport interface FiltersConfigFormProps {\r\n  filterId: string;\r\n  filterToEdit?: Filter;\r\n  removed?: boolean;\r\n  restoreFilter: (filterId: string) => void;\r\n  form: FormInstance<NativeFiltersForm>;\r\n  parentFilters: { id: string; title: string }[];\r\n}\r\n\r\n// TODO: Need to do with it something\r\nconst FILTERS_WITHOUT_COLUMN = [\r\n  'filter_timegrain',\r\n  'filter_timecolumn',\r\n  'filter_groupby',\r\n];\r\n\r\nconst FILTERS_WITH_ADHOC_FILTERS = ['filter_select', 'filter_range'];\r\n\r\nconst BASIC_CONTROL_ITEMS = ['enableEmptyFilter', 'multiSelect'];\r\n\r\n// TODO: Rename the filter plugins and remove this mapping\r\nconst FILTER_TYPE_NAME_MAPPING = {\r\n  [t('Select filter')]: t('Value'),\r\n  [t('Range filter')]: t('Numerical range'),\r\n  [t('Time filter')]: t('Time range'),\r\n  [t('Time column')]: t('Time column'),\r\n  [t('Time grain')]: t('Time grain'),\r\n  [t('Group By')]: t('Group by'),\r\n};\r\n\r\n/**\r\n * The configuration form for a specific filter.\r\n * Assigns field values to `filters[filterId]` in the form.\r\n */\r\nconst FiltersConfigForm = (\r\n  {\r\n    filterId,\r\n    filterToEdit,\r\n    removed,\r\n    restoreFilter,\r\n    form,\r\n    parentFilters,\r\n  }: FiltersConfigFormProps,\r\n  ref: React.RefObject<any>,\r\n) => {\r\n  const [metrics, setMetrics] = useState<Metric[]>([]);\r\n  const [activeTabKey, setActiveTabKey] = useState<string>(\r\n    FilterTabs.configuration.key,\r\n  );\r\n  const [activeFilterPanelKey, setActiveFilterPanelKey] = useState<\r\n    string | string[]\r\n  >(FilterPanels.basic.key);\r\n  const [hasDefaultValue, setHasDefaultValue] = useState(\r\n    !!filterToEdit?.defaultDataMask?.filterState?.value,\r\n  );\r\n  const forceUpdate = useForceUpdate();\r\n  const [datasetDetails, setDatasetDetails] = useState<Record<string, any>>();\r\n  const defaultFormFilter = useMemo(() => {}, []);\r\n  const formFilter =\r\n    form.getFieldValue('filters')?.[filterId] || defaultFormFilter;\r\n  const nativeFilterItems = getChartMetadataRegistry().items;\r\n  const nativeFilterVizTypes = Object.entries(nativeFilterItems)\r\n    // @ts-ignore\r\n    .filter(([, { value }]) =>\r\n      value.behaviors?.includes(Behavior.NATIVE_FILTER),\r\n    )\r\n    .map(([key]) => key);\r\n\r\n  const loadedDatasets = useSelector<any, DatasourceMeta>(\r\n    ({ datasources }) => datasources,\r\n  );\r\n\r\n  // @ts-ignore\r\n  const hasDataset = !!nativeFilterItems[formFilter?.filterType]?.value\r\n    ?.datasourceCount;\r\n  const hasColumn =\r\n    hasDataset && !FILTERS_WITHOUT_COLUMN.includes(formFilter?.filterType);\r\n  // @ts-ignore\r\n  const enableNoResults = !!nativeFilterItems[formFilter?.filterType]?.value\r\n    ?.enableNoResults;\r\n  const datasetId = formFilter?.dataset?.value;\r\n\r\n  useEffect(() => {\r\n    if (datasetId && hasColumn) {\r\n      cachedSupersetGet({\r\n        endpoint: `/api/v1/dataset/${datasetId}`,\r\n      })\r\n        .then((response: JsonResponse) => {\r\n          setMetrics(response.json?.result?.metrics);\r\n          const dataset = response.json?.result;\r\n          // modify the response to fit structure expected by AdhocFilterControl\r\n          dataset.type = dataset.datasource_type;\r\n          dataset.filter_select = true;\r\n          setDatasetDetails(dataset);\r\n        })\r\n        .catch((response: SupersetApiError) => {\r\n          addDangerToast(response.message);\r\n        });\r\n    }\r\n  }, [datasetId, hasColumn]);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    changeTab(tab: 'configuration' | 'scoping') {\r\n      setActiveTabKey(tab);\r\n    },\r\n  }));\r\n\r\n  const hasMetrics = hasColumn && !!metrics.length;\r\n\r\n  const hasFilledDataset =\r\n    !hasDataset || (datasetId && (formFilter?.column || !hasColumn));\r\n\r\n  const hasAdditionalFilters = FILTERS_WITH_ADHOC_FILTERS.includes(\r\n    formFilter?.filterType,\r\n  );\r\n\r\n  const isCascadingFilter = CASCADING_FILTERS.includes(formFilter?.filterType);\r\n\r\n  const isDataDirty = formFilter?.isDataDirty ?? true;\r\n\r\n  useBackendFormUpdate(form, filterId);\r\n\r\n  const refreshHandler = useCallback(() => {\r\n    if (!hasDataset || !formFilter?.dataset?.value) {\r\n      forceUpdate();\r\n      return;\r\n    }\r\n    const formData = getFormData({\r\n      datasetId: formFilter?.dataset?.value,\r\n      groupby: formFilter?.column,\r\n      ...formFilter,\r\n    });\r\n    setNativeFilterFieldValues(form, filterId, {\r\n      defaultValueQueriesData: null,\r\n      isDataDirty: false,\r\n    });\r\n    forceUpdate();\r\n    getChartDataRequest({\r\n      formData,\r\n      force: false,\r\n      requestParams: { dashboardId: 0 },\r\n    }).then(response => {\r\n      if (isFeatureEnabled(FeatureFlag.GLOBAL_ASYNC_QUERIES)) {\r\n        // deal with getChartDataRequest transforming the response data\r\n        const result = 'result' in response ? response.result[0] : response;\r\n        waitForAsyncData(result)\r\n          .then((asyncResult: ChartDataResponseResult[]) => {\r\n            setNativeFilterFieldValues(form, filterId, {\r\n              defaultValueQueriesData: asyncResult,\r\n            });\r\n            forceUpdate();\r\n          })\r\n          .catch((error: ClientErrorObject) => {\r\n            // TODO: show error once this logic is moved into new NativeFilter\r\n            //  component\r\n            console.error(\r\n              error.message || error.error || t('Check configuration'),\r\n            );\r\n          });\r\n      } else {\r\n        setNativeFilterFieldValues(form, filterId, {\r\n          defaultValueQueriesData: response.result,\r\n        });\r\n        forceUpdate();\r\n      }\r\n    });\r\n  }, [filterId, forceUpdate, form, formFilter, hasDataset]);\r\n\r\n  const defaultDatasetSelectOptions = Object.values(loadedDatasets).map(\r\n    datasetToSelectOption,\r\n  );\r\n  const initialDatasetId =\r\n    filterToEdit?.targets[0]?.datasetId ??\r\n    (defaultDatasetSelectOptions.length === 1\r\n      ? defaultDatasetSelectOptions[0].value\r\n      : undefined);\r\n  const initColumn = filterToEdit?.targets[0]?.column?.name;\r\n  const newFormData = getFormData({\r\n    datasetId,\r\n    groupby: hasColumn ? formFilter?.column : undefined,\r\n    ...formFilter,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (hasDataset && hasFilledDataset && hasDefaultValue && isDataDirty) {\r\n      refreshHandler();\r\n    }\r\n  }, [\r\n    hasDataset,\r\n    hasFilledDataset,\r\n    hasDefaultValue,\r\n    formFilter,\r\n    isDataDirty,\r\n    refreshHandler,\r\n  ]);\r\n\r\n  const onDatasetSelectError = useCallback(\r\n    ({ error, message }: ClientErrorObject) => {\r\n      let errorText = message || error || t('An error has occurred');\r\n      if (message === 'Forbidden') {\r\n        errorText = t('You do not have permission to edit this dashboard');\r\n      }\r\n      addDangerToast(errorText);\r\n    },\r\n    [],\r\n  );\r\n\r\n  const parentFilterOptions = parentFilters.map(filter => ({\r\n    value: filter.id,\r\n    label: filter.title,\r\n  }));\r\n\r\n  const parentFilter = parentFilterOptions.find(\r\n    ({ value }) => value === filterToEdit?.cascadeParentIds[0],\r\n  );\r\n\r\n  const hasParentFilter = !!parentFilter;\r\n\r\n  const hasPreFilter =\r\n    !!filterToEdit?.adhoc_filters || !!filterToEdit?.time_range;\r\n\r\n  const hasSorting =\r\n    typeof filterToEdit?.controlValues?.sortAscending === 'boolean';\r\n\r\n  const showDefaultValue = !hasDataset || (!isDataDirty && hasFilledDataset);\r\n\r\n  const controlItems = formFilter\r\n    ? getControlItemsMap({\r\n        disabled: false,\r\n        forceUpdate,\r\n        form,\r\n        filterId,\r\n        filterType: formFilter.filterType,\r\n        filterToEdit,\r\n        formFilter,\r\n      })\r\n    : {};\r\n\r\n  const onSortChanged = (value: boolean | undefined) => {\r\n    const previous = form.getFieldValue('filters')?.[filterId].controlValues;\r\n    setNativeFilterFieldValues(form, filterId, {\r\n      controlValues: {\r\n        ...previous,\r\n        sortAscending: value,\r\n      },\r\n    });\r\n    forceUpdate();\r\n  };\r\n\r\n  let hasCheckedAdvancedControl = hasParentFilter || hasPreFilter || hasSorting;\r\n  if (!hasCheckedAdvancedControl) {\r\n    hasCheckedAdvancedControl = Object.keys(controlItems)\r\n      .filter(key => !BASIC_CONTROL_ITEMS.includes(key))\r\n      .some(key => controlItems[key].checked);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const activeFilterPanelKey = [FilterPanels.basic.key];\r\n    if (hasCheckedAdvancedControl) {\r\n      activeFilterPanelKey.push(FilterPanels.advanced.key);\r\n    }\r\n    setActiveFilterPanelKey(activeFilterPanelKey);\r\n  }, [hasCheckedAdvancedControl]);\r\n\r\n  if (removed) {\r\n    return <RemovedFilter onClick={() => restoreFilter(filterId)} />;\r\n  }\r\n\r\n  return (\r\n    <StyledTabs\r\n      activeKey={activeTabKey}\r\n      onChange={activeKey => setActiveTabKey(activeKey)}\r\n      centered\r\n    >\r\n      <TabPane\r\n        tab={FilterTabs.configuration.name}\r\n        key={FilterTabs.configuration.key}\r\n        forceRender\r\n      >\r\n        <StyledContainer>\r\n          <StyledFormItem\r\n            name={['filters', filterId, 'name']}\r\n            label={<StyledLabel>{t('Filter name')}</StyledLabel>}\r\n            initialValue={filterToEdit?.name}\r\n            rules={[{ required: !removed, message: t('Name is required') }]}\r\n          >\r\n            <Input {...getFiltersConfigModalTestId('name-input')} />\r\n          </StyledFormItem>\r\n          <StyledFormItem\r\n            name={['filters', filterId, 'filterType']}\r\n            rules={[{ required: !removed, message: t('Name is required') }]}\r\n            initialValue={filterToEdit?.filterType || 'filter_select'}\r\n            label={<StyledLabel>{t('Filter Type')}</StyledLabel>}\r\n            {...getFiltersConfigModalTestId('filter-type')}\r\n          >\r\n            <Select\r\n              options={nativeFilterVizTypes.map(filterType => {\r\n                // @ts-ignore\r\n                const name = nativeFilterItems[filterType]?.value.name;\r\n                const mappedName = name\r\n                  ? FILTER_TYPE_NAME_MAPPING[name]\r\n                  : undefined;\r\n                return {\r\n                  value: filterType,\r\n                  label: mappedName || name,\r\n                };\r\n              })}\r\n              onChange={({ value }: { value: string }) => {\r\n                setNativeFilterFieldValues(form, filterId, {\r\n                  filterType: value,\r\n                  defaultDataMask: null,\r\n                });\r\n                forceUpdate();\r\n              }}\r\n            />\r\n          </StyledFormItem>\r\n        </StyledContainer>\r\n        {hasDataset && (\r\n          <StyledRowContainer>\r\n            <StyledFormItem\r\n              name={['filters', filterId, 'dataset']}\r\n              initialValue={{ value: initialDatasetId }}\r\n              label={<StyledLabel>{t('Dataset')}</StyledLabel>}\r\n              rules={[\r\n                { required: !removed, message: t('Dataset is required') },\r\n              ]}\r\n              {...getFiltersConfigModalTestId('datasource-input')}\r\n            >\r\n              <SupersetResourceSelect\r\n                initialId={initialDatasetId}\r\n                resource=\"dataset\"\r\n                searchColumn=\"table_name\"\r\n                transformItem={datasetToSelectOption}\r\n                isMulti={false}\r\n                onError={onDatasetSelectError}\r\n                defaultOptions={Object.values(loadedDatasets).map(\r\n                  datasetToSelectOption,\r\n                )}\r\n                onChange={e => {\r\n                  // We need reset column when dataset changed\r\n                  if (datasetId && e?.value !== datasetId) {\r\n                    setNativeFilterFieldValues(form, filterId, {\r\n                      defaultDataMask: null,\r\n                      column: null,\r\n                    });\r\n                  }\r\n                  forceUpdate();\r\n                }}\r\n              />\r\n            </StyledFormItem>\r\n            {hasColumn && (\r\n              <StyledFormItem\r\n                // don't show the column select unless we have a dataset\r\n                // style={{ display: datasetId == null ? undefined : 'none' }}\r\n                name={['filters', filterId, 'column']}\r\n                initialValue={initColumn}\r\n                label={<StyledLabel>{t('Column')}</StyledLabel>}\r\n                rules={[\r\n                  { required: !removed, message: t('Field is required') },\r\n                ]}\r\n                data-test=\"field-input\"\r\n              >\r\n                <ColumnSelect\r\n                  form={form}\r\n                  filterId={filterId}\r\n                  datasetId={datasetId}\r\n                  onChange={() => {\r\n                    // We need reset default value when when column changed\r\n                    setNativeFilterFieldValues(form, filterId, {\r\n                      defaultDataMask: null,\r\n                    });\r\n                    forceUpdate();\r\n                  }}\r\n                />\r\n              </StyledFormItem>\r\n            )}\r\n          </StyledRowContainer>\r\n        )}\r\n        <StyledCollapse\r\n          activeKey={activeFilterPanelKey}\r\n          onChange={key => setActiveFilterPanelKey(key)}\r\n          expandIconPosition=\"right\"\r\n        >\r\n          <Collapse.Panel\r\n            forceRender\r\n            header={FilterPanels.basic.name}\r\n            key={FilterPanels.basic.key}\r\n          >\r\n            {hasFilledDataset && (\r\n              <CleanFormItem\r\n                name={['filters', filterId, 'defaultValueFormData']}\r\n                hidden\r\n                initialValue={newFormData}\r\n              />\r\n            )}\r\n            <CleanFormItem\r\n              name={['filters', filterId, 'defaultValueQueriesData']}\r\n              hidden\r\n              initialValue={null}\r\n            />\r\n            <CollapsibleControl\r\n              title={t('Filter has default value')}\r\n              checked={hasDefaultValue}\r\n              onChange={value => setHasDefaultValue(value)}\r\n            >\r\n              <StyledRowFormItem\r\n                name={['filters', filterId, 'defaultDataMask']}\r\n                initialValue={filterToEdit?.defaultDataMask}\r\n                data-test=\"default-input\"\r\n                label={<StyledLabel>{t('Default Value')}</StyledLabel>}\r\n                required\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                  },\r\n                  {\r\n                    validator: (rule, value) => {\r\n                      const hasValue = !!value.filterState?.value;\r\n                      if (\r\n                        hasValue ||\r\n                        // TODO: do more generic\r\n                        formFilter.controlValues?.defaultToFirstItem\r\n                      ) {\r\n                        return Promise.resolve();\r\n                      }\r\n                      return Promise.reject(\r\n                        new Error(t('Default value is required')),\r\n                      );\r\n                    },\r\n                  },\r\n                ]}\r\n              >\r\n                {showDefaultValue ? (\r\n                  <DefaultValue\r\n                    setDataMask={dataMask => {\r\n                      setNativeFilterFieldValues(form, filterId, {\r\n                        defaultDataMask: dataMask,\r\n                      });\r\n                      form.validateFields([\r\n                        ['filters', filterId, 'defaultDataMask'],\r\n                      ]);\r\n                      forceUpdate();\r\n                    }}\r\n                    filterId={filterId}\r\n                    hasDataset={hasDataset}\r\n                    form={form}\r\n                    formData={newFormData}\r\n                    enableNoResults={enableNoResults}\r\n                  />\r\n                ) : (\r\n                  t('Fill all required fields to enable \"Default Value\"')\r\n                )}\r\n              </StyledRowFormItem>\r\n            </CollapsibleControl>\r\n            {Object.keys(controlItems)\r\n              .filter(key => BASIC_CONTROL_ITEMS.includes(key))\r\n              .map(key => controlItems[key].element)}\r\n            <StyledRowFormItem\r\n              name={['filters', filterId, 'isInstant']}\r\n              initialValue={filterToEdit?.isInstant || false}\r\n              valuePropName=\"checked\"\r\n              colon={false}\r\n            >\r\n              <Checkbox data-test=\"apply-changes-instantly-checkbox\">\r\n                {t('Apply changes instantly')}\r\n              </Checkbox>\r\n            </StyledRowFormItem>\r\n          </Collapse.Panel>\r\n          {((hasDataset && hasAdditionalFilters) || hasMetrics) && (\r\n            <Collapse.Panel\r\n              forceRender\r\n              header={FilterPanels.advanced.name}\r\n              key={FilterPanels.advanced.key}\r\n            >\r\n              {isCascadingFilter && (\r\n                <CollapsibleControl\r\n                  title={t('Filter is hierarchical')}\r\n                  checked={hasParentFilter}\r\n                  onChange={checked => {\r\n                    if (checked) {\r\n                      // execute after render\r\n                      setTimeout(\r\n                        () =>\r\n                          form.validateFields([\r\n                            ['filters', filterId, 'parentFilter'],\r\n                          ]),\r\n                        0,\r\n                      );\r\n                    }\r\n                  }}\r\n                >\r\n                  <StyledRowFormItem\r\n                    name={['filters', filterId, 'parentFilter']}\r\n                    label={<StyledLabel>{t('Parent filter')}</StyledLabel>}\r\n                    initialValue={parentFilter}\r\n                    data-test=\"parent-filter-input\"\r\n                    required\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: t('Parent filter is required'),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Select\r\n                      placeholder={t('None')}\r\n                      options={parentFilterOptions}\r\n                      isClearable\r\n                    />\r\n                  </StyledRowFormItem>\r\n                </CollapsibleControl>\r\n              )}\r\n              {Object.keys(controlItems)\r\n                .filter(key => !BASIC_CONTROL_ITEMS.includes(key))\r\n                .map(key => controlItems[key].element)}\r\n              {hasDataset && hasAdditionalFilters && (\r\n                <CollapsibleControl\r\n                  title={t('Pre-filter available values')}\r\n                  checked={hasPreFilter}\r\n                  onChange={checked => {\r\n                    if (checked) {\r\n                      // execute after render\r\n                      setTimeout(\r\n                        () =>\r\n                          form.validateFields([\r\n                            ['filters', filterId, 'adhoc_filters'],\r\n                          ]),\r\n                        0,\r\n                      );\r\n                    }\r\n                  }}\r\n                >\r\n                  <StyledRowFormItem\r\n                    name={['filters', filterId, 'adhoc_filters']}\r\n                    initialValue={filterToEdit?.adhoc_filters}\r\n                    required\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: t('Pre-filter is required'),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <AdhocFilterControl\r\n                      columns={\r\n                        datasetDetails?.columns?.filter(\r\n                          (c: ColumnMeta) => c.filterable,\r\n                        ) || []\r\n                      }\r\n                      savedMetrics={datasetDetails?.metrics || []}\r\n                      datasource={datasetDetails}\r\n                      onChange={(filters: AdhocFilter[]) => {\r\n                        setNativeFilterFieldValues(form, filterId, {\r\n                          adhoc_filters: filters,\r\n                        });\r\n                        forceUpdate();\r\n                      }}\r\n                      label={\r\n                        <span>\r\n                          <StyledAsterisk />\r\n                          <StyledLabel>{t('Pre-filter')}</StyledLabel>\r\n                        </span>\r\n                      }\r\n                    />\r\n                  </StyledRowFormItem>\r\n                  <StyledRowFormItem\r\n                    name={['filters', filterId, 'time_range']}\r\n                    label={<StyledLabel>{t('Time range')}</StyledLabel>}\r\n                    initialValue={filterToEdit?.time_range || 'No filter'}\r\n                  >\r\n                    <DateFilterControl\r\n                      name=\"time_range\"\r\n                      onChange={timeRange => {\r\n                        setNativeFilterFieldValues(form, filterId, {\r\n                          time_range: timeRange,\r\n                        });\r\n                        forceUpdate();\r\n                      }}\r\n                    />\r\n                  </StyledRowFormItem>\r\n                </CollapsibleControl>\r\n              )}\r\n              {formFilter?.filterType !== 'filter_range' && (\r\n                <CollapsibleControl\r\n                  title={t('Sort filter values')}\r\n                  onChange={checked => onSortChanged(checked || undefined)}\r\n                  checked={hasSorting}\r\n                >\r\n                  <StyledRowContainer>\r\n                    <StyledFormItem\r\n                      name={[\r\n                        'filters',\r\n                        filterId,\r\n                        'controlValues',\r\n                        'sortAscending',\r\n                      ]}\r\n                      initialValue={filterToEdit?.controlValues?.sortAscending}\r\n                      label={<StyledLabel>{t('Sort type')}</StyledLabel>}\r\n                    >\r\n                      <Select\r\n                        form={form}\r\n                        filterId={filterId}\r\n                        name=\"sortAscending\"\r\n                        options={[\r\n                          {\r\n                            value: true,\r\n                            label: t('Sort ascending'),\r\n                          },\r\n                          {\r\n                            value: false,\r\n                            label: t('Sort descending'),\r\n                          },\r\n                        ]}\r\n                        onChange={({ value }: { value: boolean }) =>\r\n                          onSortChanged(value)\r\n                        }\r\n                      />\r\n                    </StyledFormItem>\r\n                    {hasMetrics && (\r\n                      <StyledFormItem\r\n                        name={['filters', filterId, 'sortMetric']}\r\n                        initialValue={filterToEdit?.sortMetric}\r\n                        label={<StyledLabel>{t('Sort Metric')}</StyledLabel>}\r\n                        data-test=\"field-input\"\r\n                      >\r\n                        <SelectControl\r\n                          form={form}\r\n                          filterId={filterId}\r\n                          name=\"sortMetric\"\r\n                          options={metrics.map((metric: Metric) => ({\r\n                            value: metric.metric_name,\r\n                            label: metric.verbose_name ?? metric.metric_name,\r\n                          }))}\r\n                          onChange={(value: string | null): void => {\r\n                            if (value !== undefined) {\r\n                              setNativeFilterFieldValues(form, filterId, {\r\n                                sortMetric: value,\r\n                              });\r\n                              forceUpdate();\r\n                            }\r\n                          }}\r\n                        />\r\n                      </StyledFormItem>\r\n                    )}\r\n                  </StyledRowContainer>\r\n                </CollapsibleControl>\r\n              )}\r\n            </Collapse.Panel>\r\n          )}\r\n        </StyledCollapse>\r\n      </TabPane>\r\n      <TabPane\r\n        tab={FilterTabs.scoping.name}\r\n        key={FilterTabs.scoping.key}\r\n        forceRender\r\n      >\r\n        <FilterScope\r\n          updateFormValues={(values: any) =>\r\n            setNativeFilterFieldValues(form, filterId, values)\r\n          }\r\n          pathToFormValue={['filters', filterId]}\r\n          forceUpdate={forceUpdate}\r\n          scope={filterToEdit?.scope}\r\n          formScope={formFilter?.scope}\r\n          formScoping={formFilter?.scoping}\r\n        />\r\n      </TabPane>\r\n    </StyledTabs>\r\n  );\r\n};\r\n\r\nexport default forwardRef<typeof FiltersConfigForm, FiltersConfigFormProps>(\r\n  FiltersConfigForm,\r\n);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport Button, { OnClickHandler } from 'src/components/Button';\r\nimport React, { FC } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\n\r\nconst RemovedContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 400px; // arbitrary\r\n  text-align: center;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: ${({ theme }) => theme.colors.grayscale.base};\r\n`;\r\n\r\ntype RemovedFilterProps = {\r\n  onClick: OnClickHandler;\r\n};\r\n\r\nconst RemovedFilter: FC<RemovedFilterProps> = ({ onClick }) => (\r\n  <RemovedContent>\r\n    <p>{t('You have removed this filter.')}</p>\r\n    <div>\r\n      <Button\r\n        data-test=\"restore-filter-button\"\r\n        buttonStyle=\"primary\"\r\n        onClick={onClick}\r\n      >\r\n        {t('Restore Filter')}\r\n      </Button>\r\n    </div>\r\n  </RemovedContent>\r\n);\r\n\r\nexport default RemovedFilter;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport {\r\n  CustomControlItem,\r\n  InfoTooltipWithTrigger,\r\n} from '@superset-ui/chart-controls';\r\nimport React from 'react';\r\nimport { Checkbox } from 'src/common/components';\r\nimport { FormInstance } from 'antd/lib/form';\r\nimport { getChartControlPanelRegistry, styled, t } from '@superset-ui/core';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\nimport { FormItem } from 'src/components/Form';\r\nimport { getControlItems, setNativeFilterFieldValues } from './utils';\r\nimport { NativeFiltersForm, NativeFiltersFormItem } from '../types';\r\nimport { StyledRowFormItem } from './FiltersConfigForm';\r\nimport { Filter } from '../../types';\r\n\r\nexport interface ControlItemsProps {\r\n  disabled: boolean;\r\n  forceUpdate: Function;\r\n  form: FormInstance<NativeFiltersForm>;\r\n  filterId: string;\r\n  filterType: string;\r\n  filterToEdit?: Filter;\r\n  formFilter?: NativeFiltersFormItem;\r\n}\r\n\r\nconst CleanFormItem = styled(FormItem)`\r\n  margin-bottom: 0;\r\n`;\r\n\r\nexport default function getControlItemsMap({\r\n  disabled,\r\n  forceUpdate,\r\n  form,\r\n  filterId,\r\n  filterType,\r\n  filterToEdit,\r\n  formFilter,\r\n}: ControlItemsProps) {\r\n  const controlPanelRegistry = getChartControlPanelRegistry();\r\n  const controlItems =\r\n    getControlItems(controlPanelRegistry.get(filterType)) ?? [];\r\n  const map: Record<\r\n    string,\r\n    { element: React.ReactNode; checked: boolean }\r\n  > = {};\r\n\r\n  controlItems\r\n    .filter(\r\n      (controlItem: CustomControlItem) =>\r\n        controlItem?.config?.renderTrigger &&\r\n        controlItem.name !== 'sortAscending',\r\n    )\r\n    .forEach(controlItem => {\r\n      const initialValue =\r\n        filterToEdit?.controlValues?.[controlItem.name] ??\r\n        controlItem?.config?.default;\r\n      const element = (\r\n        <>\r\n          <CleanFormItem\r\n            name={['filters', filterId, 'requiredFirst', controlItem.name]}\r\n            hidden\r\n            initialValue={\r\n              controlItem?.config?.requiredFirst && filterToEdit?.requiredFirst\r\n            }\r\n          />\r\n          <Tooltip\r\n            key={controlItem.name}\r\n            placement=\"left\"\r\n            title={\r\n              controlItem.config.affectsDataMask &&\r\n              disabled &&\r\n              t('Populate \"Default value\" to enable this control')\r\n            }\r\n          >\r\n            <StyledRowFormItem\r\n              key={controlItem.name}\r\n              name={['filters', filterId, 'controlValues', controlItem.name]}\r\n              initialValue={initialValue}\r\n              valuePropName=\"checked\"\r\n              colon={false}\r\n            >\r\n              <Checkbox\r\n                disabled={controlItem.config.affectsDataMask && disabled}\r\n                onChange={({ target: { checked } }) => {\r\n                  if (controlItem.config.requiredFirst) {\r\n                    setNativeFilterFieldValues(form, filterId, {\r\n                      requiredFirst: {\r\n                        ...formFilter?.requiredFirst,\r\n                        [controlItem.name]: checked,\r\n                      },\r\n                    });\r\n                  }\r\n                  if (controlItem.config.resetConfig) {\r\n                    setNativeFilterFieldValues(form, filterId, {\r\n                      defaultDataMask: null,\r\n                    });\r\n                  }\r\n                  forceUpdate();\r\n                }}\r\n              >\r\n                {controlItem.config.label}{' '}\r\n                {controlItem.config.description && (\r\n                  <InfoTooltipWithTrigger\r\n                    placement=\"top\"\r\n                    label={controlItem.config.name}\r\n                    tooltip={controlItem.config.description}\r\n                  />\r\n                )}\r\n              </Checkbox>\r\n            </StyledRowFormItem>\r\n          </Tooltip>\r\n        </>\r\n      );\r\n      map[controlItem.name] = { element, checked: initialValue };\r\n    });\r\n  return map;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useEffect } from 'react';\r\nimport { FormInstance } from 'antd/lib/form';\r\nimport { NativeFiltersForm } from '../types';\r\nimport { setNativeFilterFieldValues, useForceUpdate } from './utils';\r\n\r\n// When some fields in form changed we need re-fetch data for Filter defaultValue\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const useBackendFormUpdate = (\r\n  form: FormInstance<NativeFiltersForm>,\r\n  filterId: string,\r\n) => {\r\n  const forceUpdate = useForceUpdate();\r\n  const formFilter = (form.getFieldValue('filters') || {})[filterId];\r\n  useEffect(() => {\r\n    setNativeFilterFieldValues(form, filterId, {\r\n      isDataDirty: true,\r\n      defaultValueQueriesData: null,\r\n    });\r\n    forceUpdate();\r\n  }, [\r\n    form,\r\n    formFilter?.filterType,\r\n    formFilter?.column,\r\n    formFilter?.dataset?.value,\r\n    JSON.stringify(formFilter?.adhoc_filters),\r\n    formFilter?.time_range,\r\n    forceUpdate,\r\n    filterId,\r\n  ]);\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { flatMapDeep } from 'lodash';\r\nimport { FormInstance } from 'antd/lib/form';\r\nimport React from 'react';\r\nimport { CustomControlItem } from '@superset-ui/chart-controls';\r\n\r\nconst FILTERS_FIELD_NAME = 'filters';\r\n\r\nexport const useForceUpdate = () => {\r\n  const [, updateState] = React.useState({});\r\n  return React.useCallback(() => updateState({}), []);\r\n};\r\n\r\nexport const setNativeFilterFieldValues = (\r\n  form: FormInstance,\r\n  filterId: string,\r\n  values: object,\r\n) => {\r\n  const formFilters = form.getFieldValue(FILTERS_FIELD_NAME) || {};\r\n  form.setFields([\r\n    {\r\n      name: FILTERS_FIELD_NAME,\r\n      value: {\r\n        ...formFilters,\r\n        [filterId]: {\r\n          ...formFilters[filterId],\r\n          ...values,\r\n        },\r\n      },\r\n    },\r\n  ]);\r\n};\r\n\r\nexport const getControlItems = (\r\n  controlConfig: { [key: string]: any } = {},\r\n): CustomControlItem[] =>\r\n  (flatMapDeep(controlConfig.controlPanelSections)?.reduce(\r\n    (acc: any, { controlSetRows = [] }: any) => [\r\n      ...acc,\r\n      ...flatMapDeep(controlSetRows),\r\n    ],\r\n    [],\r\n  ) as CustomControlItem[]) ?? [];\r\n\r\ntype DatasetSelectValue = {\r\n  value: number;\r\n  label: string;\r\n};\r\n\r\nexport const datasetToSelectOption = (item: any): DatasetSelectValue => ({\r\n  value: item.id,\r\n  label: item.table_name,\r\n});\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useCallback, useMemo, useState, useRef } from 'react';\r\nimport { uniq } from 'lodash';\r\nimport { t, styled } from '@superset-ui/core';\r\nimport { Form } from 'src/common/components';\r\nimport { StyledModal } from 'src/components/Modal';\r\nimport ErrorBoundary from 'src/components/ErrorBoundary';\r\nimport { testWithId } from 'src/utils/testUtils';\r\nimport { useFilterConfigMap, useFilterConfiguration } from '../state';\r\nimport { FilterRemoval, NativeFiltersForm } from './types';\r\nimport { FilterConfiguration } from '../types';\r\nimport {\r\n  validateForm,\r\n  createHandleSave,\r\n  createHandleTabEdit,\r\n  generateFilterId,\r\n  getFilterIds,\r\n} from './utils';\r\nimport Footer from './Footer/Footer';\r\nimport FilterTabs from './FilterTabs';\r\nimport FiltersConfigForm from './FiltersConfigForm/FiltersConfigForm';\r\nimport { useOpenModal, useRemoveCurrentFilter } from './state';\r\n\r\nconst StyledModalWrapper = styled(StyledModal)`\r\n  min-width: 700px;\r\n  .ant-modal-body {\r\n    padding: 0px;\r\n  }\r\n`;\r\n\r\nexport const StyledModalBody = styled.div`\r\n  display: flex;\r\n  height: 700px;\r\n  flex-direction: row;\r\n  .filters-list {\r\n    width: ${({ theme }) => theme.gridUnit * 50}px;\r\n    overflow: auto;\r\n  }\r\n`;\r\n\r\nexport const StyledForm = styled(Form)`\r\n  width: 100%;\r\n`;\r\n\r\nexport const FILTERS_CONFIG_MODAL_TEST_ID = 'filters-config-modal';\r\nexport const getFiltersConfigModalTestId = testWithId(\r\n  FILTERS_CONFIG_MODAL_TEST_ID,\r\n);\r\n\r\nexport interface FiltersConfigModalProps {\r\n  isOpen: boolean;\r\n  initialFilterId?: string;\r\n  createNewOnOpen?: boolean;\r\n  onSave: (filterConfig: FilterConfiguration) => Promise<void>;\r\n  onCancel: () => void;\r\n}\r\nexport const CASCADING_FILTERS = ['filter_select'];\r\n\r\n/**\r\n * This is the modal to configure all the dashboard-native filters.\r\n * Manages modal-level state, such as what filters are in the list,\r\n * and which filter is currently being edited.\r\n *\r\n * Calls the `save` callback with the new FilterConfiguration object\r\n * when the user saves the filters.\r\n */\r\nexport function FiltersConfigModal({\r\n  isOpen,\r\n  initialFilterId,\r\n  createNewOnOpen,\r\n  onSave,\r\n  onCancel,\r\n}: FiltersConfigModalProps) {\r\n  const [form] = Form.useForm<NativeFiltersForm>();\r\n\r\n  const configFormRef = useRef<any>();\r\n\r\n  // the filter config from redux state, this does not change until modal is closed.\r\n  const filterConfig = useFilterConfiguration();\r\n  const filterConfigMap = useFilterConfigMap();\r\n\r\n  // new filter ids belong to filters have been added during\r\n  // this configuration session, and only exist in the form state until we submit.\r\n  const [newFilterIds, setNewFilterIds] = useState<string[]>([]);\r\n\r\n  // store ids of filters that have been removed with the time they were removed\r\n  // so that we can disappear them after a few secs.\r\n  // filters are still kept in state until form is submitted.\r\n  const [removedFilters, setRemovedFilters] = useState<\r\n    Record<string, FilterRemoval>\r\n  >({});\r\n\r\n  const [saveAlertVisible, setSaveAlertVisible] = useState<boolean>(false);\r\n\r\n  // The full ordered set of ((original + new) - completely removed) filter ids\r\n  // Use this as the canonical list of what filters are being configured!\r\n  // This includes filter ids that are pending removal, so check for that.\r\n  const filterIds = useMemo(\r\n    () =>\r\n      uniq([...getFilterIds(filterConfig), ...newFilterIds]).filter(\r\n        id => !removedFilters[id] || removedFilters[id]?.isPending,\r\n      ),\r\n    [filterConfig, newFilterIds, removedFilters],\r\n  );\r\n\r\n  // open the first filter in the list to start\r\n  const initialCurrentFilterId = initialFilterId ?? filterIds[0];\r\n  const [currentFilterId, setCurrentFilterId] = useState(\r\n    initialCurrentFilterId,\r\n  );\r\n\r\n  // the form values are managed by the antd form, but we copy them to here\r\n  // so that we can display them (e.g. filter titles in the tab headers)\r\n  const [formValues, setFormValues] = useState<NativeFiltersForm>({\r\n    filters: {},\r\n  });\r\n\r\n  const unsavedFiltersIds = newFilterIds.filter(id => !removedFilters[id]);\r\n  // brings back a filter that was previously removed (\"Undo\")\r\n  const restoreFilter = (id: string) => {\r\n    const removal = removedFilters[id];\r\n    // gotta clear the removal timeout to prevent the filter from getting deleted\r\n    if (removal?.isPending) clearTimeout(removal.timerId);\r\n    setRemovedFilters(current => ({ ...current, [id]: null }));\r\n  };\r\n\r\n  // generates a new filter id and appends it to the newFilterIds\r\n  const addFilter = useCallback(() => {\r\n    const newFilterId = generateFilterId();\r\n    setNewFilterIds([...newFilterIds, newFilterId]);\r\n    setCurrentFilterId(newFilterId);\r\n    setSaveAlertVisible(false);\r\n  }, [newFilterIds, setCurrentFilterId]);\r\n\r\n  useOpenModal(isOpen, addFilter, createNewOnOpen);\r\n\r\n  useRemoveCurrentFilter(\r\n    removedFilters,\r\n    currentFilterId,\r\n    filterIds,\r\n    setCurrentFilterId,\r\n  );\r\n\r\n  const handleTabEdit = createHandleTabEdit(\r\n    setRemovedFilters,\r\n    setSaveAlertVisible,\r\n    addFilter,\r\n  );\r\n\r\n  // After this, it should be as if the modal was just opened fresh.\r\n  // Called when the modal is closed.\r\n  const resetForm = () => {\r\n    form.resetFields();\r\n    setNewFilterIds([]);\r\n    setCurrentFilterId(initialCurrentFilterId);\r\n    setRemovedFilters({});\r\n    setSaveAlertVisible(false);\r\n  };\r\n\r\n  const getFilterTitle = (id: string) =>\r\n    formValues.filters[id]?.name ??\r\n    filterConfigMap[id]?.name ??\r\n    t('New filter');\r\n\r\n  const getParentFilters = (id: string) =>\r\n    filterIds\r\n      .filter(filterId => filterId !== id && !removedFilters[filterId])\r\n      .filter(filterId =>\r\n        CASCADING_FILTERS.includes(\r\n          formValues.filters[filterId]\r\n            ? formValues.filters[filterId].filterType\r\n            : filterConfigMap[filterId]?.filterType,\r\n        ),\r\n      )\r\n      .map(id => ({\r\n        id,\r\n        title: getFilterTitle(id),\r\n      }));\r\n\r\n  const handleSave = async () => {\r\n    const values: NativeFiltersForm | null = await validateForm(\r\n      form,\r\n      currentFilterId,\r\n      filterConfigMap,\r\n      filterIds,\r\n      removedFilters,\r\n      setCurrentFilterId,\r\n    );\r\n\r\n    if (values) {\r\n      createHandleSave(\r\n        filterConfigMap,\r\n        filterIds,\r\n        removedFilters,\r\n        resetForm,\r\n        onSave,\r\n        values,\r\n      )();\r\n    } else {\r\n      configFormRef.current.changeTab('configuration');\r\n    }\r\n  };\r\n\r\n  const handleConfirmCancel = () => {\r\n    resetForm();\r\n    onCancel();\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    if (unsavedFiltersIds.length > 0) {\r\n      setSaveAlertVisible(true);\r\n    } else {\r\n      handleConfirmCancel();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <StyledModalWrapper\r\n      visible={isOpen}\r\n      maskClosable={false}\r\n      title={t('Filters configuration')}\r\n      width=\"50%\"\r\n      destroyOnClose\r\n      onCancel={handleCancel}\r\n      onOk={handleSave}\r\n      centered\r\n      data-test=\"filter-modal\"\r\n      footer={\r\n        <Footer\r\n          onDismiss={() => setSaveAlertVisible(false)}\r\n          onCancel={handleCancel}\r\n          getFilterTitle={getFilterTitle}\r\n          handleSave={handleSave}\r\n          saveAlertVisible={saveAlertVisible}\r\n          unsavedFiltersIds={unsavedFiltersIds}\r\n          onConfirmCancel={handleConfirmCancel}\r\n        />\r\n      }\r\n    >\r\n      <ErrorBoundary>\r\n        <StyledModalBody>\r\n          <StyledForm\r\n            preserve={false}\r\n            form={form}\r\n            onValuesChange={(changes, values: NativeFiltersForm) => {\r\n              if (\r\n                changes.filters &&\r\n                Object.values(changes.filters).some(\r\n                  (filter: any) => filter.name != null,\r\n                )\r\n              ) {\r\n                // we only need to set this if a name changed\r\n                setFormValues(values);\r\n              }\r\n              setSaveAlertVisible(false);\r\n            }}\r\n            layout=\"vertical\"\r\n          >\r\n            <FilterTabs\r\n              onEdit={handleTabEdit}\r\n              onChange={setCurrentFilterId}\r\n              getFilterTitle={getFilterTitle}\r\n              currentFilterId={currentFilterId}\r\n              filterIds={filterIds}\r\n              removedFilters={removedFilters}\r\n              restoreFilter={restoreFilter}\r\n            >\r\n              {(id: string) => (\r\n                <FiltersConfigForm\r\n                  ref={configFormRef}\r\n                  form={form}\r\n                  filterId={id}\r\n                  filterToEdit={filterConfigMap[id]}\r\n                  removed={!!removedFilters[id]}\r\n                  restoreFilter={restoreFilter}\r\n                  parentFilters={getParentFilters(id)}\r\n                />\r\n              )}\r\n            </FilterTabs>\r\n          </StyledForm>\r\n        </StyledModalBody>\r\n      </ErrorBoundary>\r\n    </StyledModalWrapper>\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport { t } from '@superset-ui/core';\r\nimport Alert from 'src/components/Alert';\r\nimport Button, { OnClickHandler } from 'src/components/Button';\r\n\r\nexport interface ConfirmationAlertProps {\r\n  title: string;\r\n  children: React.ReactNode;\r\n  onConfirm: OnClickHandler;\r\n  onDismiss: OnClickHandler;\r\n}\r\n\r\nexport function CancelConfirmationAlert({\r\n  title,\r\n  onConfirm,\r\n  onDismiss,\r\n  children,\r\n}: ConfirmationAlertProps) {\r\n  return (\r\n    <Alert\r\n      closable={false}\r\n      type=\"warning\"\r\n      key=\"alert\"\r\n      message={title}\r\n      css={{\r\n        textAlign: 'left',\r\n        '& .ant-alert-action': { alignSelf: 'center' },\r\n      }}\r\n      description={children}\r\n      action={\r\n        <div css={{ display: 'flex' }}>\r\n          <Button\r\n            key=\"cancel\"\r\n            buttonSize=\"small\"\r\n            buttonStyle=\"secondary\"\r\n            onClick={onDismiss}\r\n          >\r\n            {t('Keep editing')}\r\n          </Button>\r\n          <Button\r\n            key=\"submit\"\r\n            buttonSize=\"small\"\r\n            buttonStyle=\"primary\"\r\n            onClick={onConfirm}\r\n          >\r\n            {t('Yes, cancel')}\r\n          </Button>\r\n        </div>\r\n      }\r\n    />\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { FC } from 'react';\r\nimport Button, { OnClickHandler } from 'src/components/Button';\r\nimport { t } from '@superset-ui/core';\r\nimport { CancelConfirmationAlert } from './CancelConfirmationAlert';\r\n\r\ntype FooterProps = {\r\n  onCancel: OnClickHandler;\r\n  handleSave: OnClickHandler;\r\n  onConfirmCancel: OnClickHandler;\r\n  onDismiss: OnClickHandler;\r\n  saveAlertVisible: boolean;\r\n  getFilterTitle: (id: string) => string;\r\n  unsavedFiltersIds: string[];\r\n};\r\n\r\nconst Footer: FC<FooterProps> = ({\r\n  onCancel,\r\n  handleSave,\r\n  onDismiss,\r\n  onConfirmCancel,\r\n  getFilterTitle,\r\n  unsavedFiltersIds,\r\n  saveAlertVisible,\r\n}) => {\r\n  const getUnsavedFilterNames = (): string => {\r\n    const unsavedFiltersNames = unsavedFiltersIds.map(\r\n      id => `\"${getFilterTitle(id)}\"`,\r\n    );\r\n\r\n    if (unsavedFiltersNames.length === 0) {\r\n      return '';\r\n    }\r\n\r\n    if (unsavedFiltersNames.length === 1) {\r\n      return unsavedFiltersNames[0];\r\n    }\r\n\r\n    const lastFilter = unsavedFiltersNames.pop();\r\n\r\n    return `${unsavedFiltersNames.join(', ')} ${t('and')} ${lastFilter}`;\r\n  };\r\n\r\n  if (saveAlertVisible) {\r\n    return (\r\n      <CancelConfirmationAlert\r\n        key=\"cancel-confirm\"\r\n        title={`${unsavedFiltersIds.length} ${t('unsaved filters')}`}\r\n        onConfirm={onConfirmCancel}\r\n        onDismiss={onDismiss}\r\n      >\r\n        {t(`Are you sure you want to cancel?`)} {getUnsavedFilterNames()}{' '}\r\n        {t(`will not be saved.`)}\r\n      </CancelConfirmationAlert>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        key=\"cancel\"\r\n        buttonStyle=\"secondary\"\r\n        data-test=\"native-filter-modal-cancel-button\"\r\n        onClick={onCancel}\r\n      >\r\n        {t('Cancel')}\r\n      </Button>\r\n      <Button\r\n        key=\"submit\"\r\n        buttonStyle=\"primary\"\r\n        onClick={handleSave}\r\n        data-test=\"native-filter-modal-save-button\"\r\n      >\r\n        {t('Save')}\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { useEffect } from 'react';\r\nimport { findLastIndex } from 'lodash';\r\nimport { FilterRemoval } from './types';\r\nimport { usePrevious } from '../../../../common/hooks/usePrevious';\r\n\r\n/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nexport const useRemoveCurrentFilter = (\r\n  removedFilters: Record<string, FilterRemoval>,\r\n  currentFilterId: string,\r\n  filterIds: string[],\r\n  setCurrentFilterId: Function,\r\n) => {\r\n  useEffect(() => {\r\n    // if the currently viewed filter is fully removed, change to another tab\r\n    const currentFilterRemoved = removedFilters[currentFilterId];\r\n    if (currentFilterRemoved && !currentFilterRemoved.isPending) {\r\n      const nextFilterIndex = findLastIndex(\r\n        filterIds,\r\n        id => !removedFilters[id] && id !== currentFilterId,\r\n      );\r\n      if (nextFilterIndex !== -1)\r\n        setCurrentFilterId(filterIds[nextFilterIndex]);\r\n    }\r\n  }, [currentFilterId, removedFilters, filterIds]);\r\n};\r\n\r\nexport const useOpenModal = (\r\n  isOpen: boolean,\r\n  addFilter: Function,\r\n  createNewOnOpen?: boolean,\r\n) => {\r\n  const wasOpen = usePrevious(isOpen);\r\n  // if this is a \"create\" modal rather than an \"edit\" modal,\r\n  // add a filter on modal open\r\n  useEffect(() => {\r\n    if (createNewOnOpen && isOpen && !wasOpen) {\r\n      addFilter();\r\n    }\r\n  }, [createNewOnOpen, isOpen, wasOpen, addFilter]);\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { useSelector } from 'react-redux';\r\nimport { useMemo } from 'react';\r\nimport { Filter, FilterConfiguration } from './types';\r\nimport { DashboardLayout } from '../../types';\r\n\r\nconst defaultFilterConfiguration: Filter[] = [];\r\n\r\nexport function useFilterConfiguration() {\r\n  return useSelector<any, FilterConfiguration>(\r\n    state =>\r\n      state.dashboardInfo?.metadata?.native_filter_configuration ||\r\n      defaultFilterConfiguration,\r\n  );\r\n}\r\n\r\n/**\r\n * returns the dashboard's filter configuration,\r\n * converted into a map of id -> filter\r\n */\r\nexport function useFilterConfigMap() {\r\n  const filterConfig = useFilterConfiguration();\r\n  return useMemo(\r\n    () =>\r\n      filterConfig.reduce((acc: Record<string, Filter>, filter: Filter) => {\r\n        acc[filter.id] = filter;\r\n        return acc;\r\n      }, {} as Record<string, Filter>),\r\n    [filterConfig],\r\n  );\r\n}\r\n\r\nexport function useDashboardLayout() {\r\n  return useSelector<any, DashboardLayout>(\r\n    state => state.dashboardLayout?.present,\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Resizable } from 're-resizable';\r\nimport cx from 'classnames';\r\n\r\nimport ResizableHandle from './ResizableHandle';\r\nimport resizableConfig from '../../util/resizableConfig';\r\nimport { GRID_BASE_UNIT, GRID_GUTTER_SIZE } from '../../util/constants';\r\n\r\nconst proxyToInfinity = Number.MAX_VALUE;\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  children: PropTypes.node,\r\n  adjustableWidth: PropTypes.bool,\r\n  adjustableHeight: PropTypes.bool,\r\n  gutterWidth: PropTypes.number,\r\n  widthStep: PropTypes.number,\r\n  heightStep: PropTypes.number,\r\n  widthMultiple: PropTypes.number,\r\n  heightMultiple: PropTypes.number,\r\n  minWidthMultiple: PropTypes.number,\r\n  maxWidthMultiple: PropTypes.number,\r\n  minHeightMultiple: PropTypes.number,\r\n  maxHeightMultiple: PropTypes.number,\r\n  staticHeight: PropTypes.number,\r\n  staticHeightMultiple: PropTypes.number,\r\n  staticWidth: PropTypes.number,\r\n  staticWidthMultiple: PropTypes.number,\r\n  onResizeStop: PropTypes.func,\r\n  onResize: PropTypes.func,\r\n  onResizeStart: PropTypes.func,\r\n  editMode: PropTypes.bool.isRequired,\r\n};\r\n\r\nconst defaultProps = {\r\n  children: null,\r\n  adjustableWidth: true,\r\n  adjustableHeight: true,\r\n  gutterWidth: GRID_GUTTER_SIZE,\r\n  widthStep: GRID_BASE_UNIT,\r\n  heightStep: GRID_BASE_UNIT,\r\n  widthMultiple: null,\r\n  heightMultiple: null,\r\n  minWidthMultiple: 1,\r\n  maxWidthMultiple: proxyToInfinity,\r\n  minHeightMultiple: 1,\r\n  maxHeightMultiple: proxyToInfinity,\r\n  staticHeight: null,\r\n  staticHeightMultiple: null,\r\n  staticWidth: null,\r\n  staticWidthMultiple: null,\r\n  onResizeStop: null,\r\n  onResize: null,\r\n  onResizeStart: null,\r\n};\r\n\r\n// because columns are not multiples of a single variable (width = n*cols + (n-1) * gutters)\r\n// we snap to the base unit and then snap to _actual_ column multiples on stop\r\nconst SNAP_TO_GRID = [GRID_BASE_UNIT, GRID_BASE_UNIT];\r\nconst HANDLE_CLASSES = {\r\n  right: 'resizable-container-handle--right',\r\n  bottom: 'resizable-container-handle--bottom',\r\n};\r\nclass ResizableContainer extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isResizing: false,\r\n    };\r\n\r\n    this.handleResizeStart = this.handleResizeStart.bind(this);\r\n    this.handleResize = this.handleResize.bind(this);\r\n    this.handleResizeStop = this.handleResizeStop.bind(this);\r\n  }\r\n\r\n  handleResizeStart(event, direction, ref) {\r\n    const { id, onResizeStart } = this.props;\r\n\r\n    if (onResizeStart) {\r\n      onResizeStart({ id, direction, ref });\r\n    }\r\n\r\n    this.setState(() => ({ isResizing: true }));\r\n  }\r\n\r\n  handleResize(event, direction, ref) {\r\n    const { onResize, id } = this.props;\r\n    if (onResize) {\r\n      onResize({ id, direction, ref });\r\n    }\r\n  }\r\n\r\n  handleResizeStop(event, direction, ref, delta) {\r\n    const {\r\n      id,\r\n      onResizeStop,\r\n      widthStep,\r\n      heightStep,\r\n      widthMultiple,\r\n      heightMultiple,\r\n      adjustableHeight,\r\n      adjustableWidth,\r\n      gutterWidth,\r\n    } = this.props;\r\n\r\n    if (onResizeStop) {\r\n      const nextWidthMultiple =\r\n        widthMultiple + Math.round(delta.width / (widthStep + gutterWidth));\r\n      const nextHeightMultiple =\r\n        heightMultiple + Math.round(delta.height / heightStep);\r\n\r\n      onResizeStop({\r\n        id,\r\n        widthMultiple: adjustableWidth ? nextWidthMultiple : null,\r\n        heightMultiple: adjustableHeight ? nextHeightMultiple : null,\r\n      });\r\n\r\n      this.setState(() => ({ isResizing: false }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      children,\r\n      adjustableWidth,\r\n      adjustableHeight,\r\n      widthStep,\r\n      heightStep,\r\n      widthMultiple,\r\n      heightMultiple,\r\n      staticHeight,\r\n      staticHeightMultiple,\r\n      staticWidth,\r\n      staticWidthMultiple,\r\n      minWidthMultiple,\r\n      maxWidthMultiple,\r\n      minHeightMultiple,\r\n      maxHeightMultiple,\r\n      gutterWidth,\r\n      editMode,\r\n    } = this.props;\r\n\r\n    const size = {\r\n      width: adjustableWidth\r\n        ? (widthStep + gutterWidth) * widthMultiple - gutterWidth\r\n        : (staticWidthMultiple && staticWidthMultiple * widthStep) ||\r\n          staticWidth ||\r\n          undefined,\r\n      height: adjustableHeight\r\n        ? heightStep * heightMultiple\r\n        : (staticHeightMultiple && staticHeightMultiple * heightStep) ||\r\n          staticHeight ||\r\n          undefined,\r\n    };\r\n\r\n    let enableConfig = resizableConfig.notAdjustable;\r\n\r\n    if (editMode && adjustableWidth && adjustableHeight) {\r\n      enableConfig = resizableConfig.widthAndHeight;\r\n    } else if (editMode && adjustableWidth) {\r\n      enableConfig = resizableConfig.widthOnly;\r\n    } else if (editMode && adjustableHeight) {\r\n      enableConfig = resizableConfig.heightOnly;\r\n    }\r\n\r\n    const { isResizing } = this.state;\r\n\r\n    return (\r\n      <Resizable\r\n        enable={enableConfig}\r\n        grid={SNAP_TO_GRID}\r\n        minWidth={\r\n          adjustableWidth\r\n            ? minWidthMultiple * (widthStep + gutterWidth) - gutterWidth\r\n            : undefined\r\n        }\r\n        minHeight={\r\n          adjustableHeight ? minHeightMultiple * heightStep : undefined\r\n        }\r\n        maxWidth={\r\n          adjustableWidth\r\n            ? Math.max(\r\n                size.width,\r\n                Math.min(\r\n                  proxyToInfinity,\r\n                  maxWidthMultiple * (widthStep + gutterWidth) - gutterWidth,\r\n                ),\r\n              )\r\n            : undefined\r\n        }\r\n        maxHeight={\r\n          adjustableHeight\r\n            ? Math.max(\r\n                size.height,\r\n                Math.min(proxyToInfinity, maxHeightMultiple * heightStep),\r\n              )\r\n            : undefined\r\n        }\r\n        size={size}\r\n        onResizeStart={this.handleResizeStart}\r\n        onResize={this.handleResize}\r\n        onResizeStop={this.handleResizeStop}\r\n        handleComponent={ResizableHandle}\r\n        className={cx(\r\n          'resizable-container',\r\n          isResizing && 'resizable-container--resizing',\r\n        )}\r\n        handleClasses={HANDLE_CLASSES}\r\n      >\r\n        {children}\r\n      </Resizable>\r\n    );\r\n  }\r\n}\r\n\r\nResizableContainer.propTypes = propTypes;\r\nResizableContainer.defaultProps = defaultProps;\r\n\r\nexport default ResizableContainer;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\n\r\nexport function BottomRightResizeHandle() {\r\n  return <div className=\"resize-handle resize-handle--bottom-right\" />;\r\n}\r\n\r\nexport function RightResizeHandle() {\r\n  return <div className=\"resize-handle resize-handle--right\" />;\r\n}\r\n\r\nexport function BottomResizeHandle() {\r\n  return <div className=\"resize-handle resize-handle--bottom\" />;\r\n}\r\n\r\nexport default {\r\n  right: RightResizeHandle,\r\n  bottom: BottomResizeHandle,\r\n  bottomRight: BottomRightResizeHandle,\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n  toggleExpandSlice,\r\n  setFocusedFilterField,\r\n  unsetFocusedFilterField,\r\n} from '../actions/dashboardState';\r\nimport { updateComponents } from '../actions/dashboardLayout';\r\nimport { changeFilter } from '../actions/dashboardFilters';\r\nimport { addSuccessToast, addDangerToast } from '../../messageToasts/actions';\r\nimport { refreshChart } from '../../chart/chartAction';\r\nimport { logEvent } from '../../logger/actions';\r\nimport {\r\n  getActiveFilters,\r\n  getAppliedFilterValues,\r\n} from '../util/activeDashboardFilters';\r\nimport getFormDataWithExtraFilters from '../util/charts/getFormDataWithExtraFilters';\r\nimport Chart from '../components/gridComponents/Chart';\r\n\r\nconst EMPTY_FILTERS = {};\r\n\r\nfunction mapStateToProps(\r\n  {\r\n    charts: chartQueries,\r\n    dashboardInfo,\r\n    dashboardState,\r\n    dashboardLayout,\r\n    dataMask,\r\n    datasources,\r\n    sliceEntities,\r\n    nativeFilters,\r\n  },\r\n  ownProps,\r\n) {\r\n  const { id } = ownProps;\r\n  const chart = chartQueries[id] || {};\r\n  const datasource =\r\n    (chart && chart.form_data && datasources[chart.form_data.datasource]) || {};\r\n  const { colorScheme, colorNamespace } = dashboardState;\r\n\r\n  // note: this method caches filters if possible to prevent render cascades\r\n  const formData = getFormDataWithExtraFilters({\r\n    layout: dashboardLayout.present,\r\n    chart,\r\n    // eslint-disable-next-line camelcase\r\n    chartConfiguration: dashboardInfo.metadata?.chart_configuration,\r\n    charts: chartQueries,\r\n    filters: getAppliedFilterValues(id),\r\n    colorScheme,\r\n    colorNamespace,\r\n    sliceId: id,\r\n    nativeFilters,\r\n    dataMask,\r\n  });\r\n\r\n  formData.dashboardId = dashboardInfo.id;\r\n\r\n  return {\r\n    chart,\r\n    datasource,\r\n    slice: sliceEntities.slices[id],\r\n    timeout: dashboardInfo.common.conf.SUPERSET_WEBSERVER_TIMEOUT,\r\n    filters: getActiveFilters() || EMPTY_FILTERS,\r\n    formData,\r\n    editMode: dashboardState.editMode,\r\n    isExpanded: !!dashboardState.expandedSlices[id],\r\n    supersetCanExplore: !!dashboardInfo.superset_can_explore,\r\n    supersetCanShare: !!dashboardInfo.superset_can_share,\r\n    supersetCanCSV: !!dashboardInfo.superset_can_csv,\r\n    sliceCanEdit: !!dashboardInfo.slice_can_edit,\r\n    ownState: dataMask[id]?.ownState,\r\n    filterState: dataMask[id]?.filterState,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(\r\n    {\r\n      updateComponents,\r\n      addSuccessToast,\r\n      addDangerToast,\r\n      toggleExpandSlice,\r\n      changeFilter,\r\n      setFocusedFilterField,\r\n      unsetFocusedFilterField,\r\n      refreshChart,\r\n      logEvent,\r\n    },\r\n    dispatch,\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Chart);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { bindActionCreators, Dispatch } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport Dashboard from '../components/Dashboard';\r\nimport {\r\n  addSliceToDashboard,\r\n  removeSliceFromDashboard,\r\n} from '../actions/dashboardState';\r\nimport { triggerQuery } from '../../chart/chartAction';\r\nimport { logEvent } from '../../logger/actions';\r\nimport { getActiveFilters } from '../util/activeDashboardFilters';\r\nimport {\r\n  getAllActiveFilters,\r\n  getRelevantDataMask,\r\n} from '../util/activeAllDashboardFilters';\r\nimport { RootState } from '../types';\r\n\r\nfunction mapStateToProps(state: RootState) {\r\n  const {\r\n    datasources,\r\n    sliceEntities,\r\n    charts,\r\n    dataMask,\r\n    dashboardInfo,\r\n    dashboardState,\r\n    dashboardLayout,\r\n    impressionId,\r\n    nativeFilters,\r\n  } = state;\r\n\r\n  return {\r\n    initMessages: dashboardInfo.common.flash_messages,\r\n    timeout: dashboardInfo.common.conf.SUPERSET_WEBSERVER_TIMEOUT,\r\n    userId: dashboardInfo.userId,\r\n    dashboardInfo,\r\n    dashboardState,\r\n    charts,\r\n    datasources,\r\n    // filters prop: a map structure for all the active filter_box's values and scope in this dashboard,\r\n    // for each filter field. map key is [chartId_column]\r\n    // When dashboard is first loaded into browser,\r\n    // its value is from preselect_filters that dashboard owner saved in dashboard's meta data\r\n    // When user start interacting with dashboard, it will be user picked values from all filter_box\r\n    activeFilters: {\r\n      ...getActiveFilters(),\r\n      ...getAllActiveFilters({\r\n        // eslint-disable-next-line camelcase\r\n        chartConfiguration: dashboardInfo.metadata?.chart_configuration,\r\n        nativeFilters: nativeFilters.filters,\r\n        dataMask,\r\n        layout: dashboardLayout.present,\r\n      }),\r\n    },\r\n    chartConfiguration: dashboardInfo.metadata?.chart_configuration,\r\n    ownDataCharts: getRelevantDataMask(dataMask, 'ownState'),\r\n    slices: sliceEntities.slices,\r\n    layout: dashboardLayout.present,\r\n    impressionId,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch) {\r\n  return {\r\n    actions: bindActionCreators(\r\n      {\r\n        addSliceToDashboard,\r\n        removeSliceFromDashboard,\r\n        triggerQuery,\r\n        logEvent,\r\n      },\r\n      dispatch,\r\n    ),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { logEvent } from 'src/logger/actions';\r\nimport { addDangerToast } from 'src/messageToasts/actions';\r\nimport { componentLookup } from '../components/gridComponents';\r\nimport getDetailedComponentWidth from '../util/getDetailedComponentWidth';\r\nimport { getActiveFilters } from '../util/activeDashboardFilters';\r\nimport { componentShape } from '../util/propShapes';\r\nimport { COLUMN_TYPE, ROW_TYPE } from '../util/componentTypes';\r\n\r\nimport {\r\n  createComponent,\r\n  deleteComponent,\r\n  updateComponents,\r\n  handleComponentDrop,\r\n} from '../actions/dashboardLayout';\r\nimport {\r\n  setDirectPathToChild,\r\n  setLastFocusedTab,\r\n} from '../actions/dashboardState';\r\n\r\nconst propTypes = {\r\n  id: PropTypes.string,\r\n  parentId: PropTypes.string,\r\n  depth: PropTypes.number,\r\n  index: PropTypes.number,\r\n  renderHoverMenu: PropTypes.bool,\r\n  renderTabContent: PropTypes.bool,\r\n  onChangeTab: PropTypes.func,\r\n  component: componentShape.isRequired,\r\n  parentComponent: componentShape.isRequired,\r\n  createComponent: PropTypes.func.isRequired,\r\n  deleteComponent: PropTypes.func.isRequired,\r\n  updateComponents: PropTypes.func.isRequired,\r\n  handleComponentDrop: PropTypes.func.isRequired,\r\n  logEvent: PropTypes.func.isRequired,\r\n  directPathToChild: PropTypes.arrayOf(PropTypes.string),\r\n  directPathLastUpdated: PropTypes.number,\r\n  dashboardId: PropTypes.number.isRequired,\r\n  isComponentVisible: PropTypes.bool,\r\n};\r\n\r\nconst defaultProps = {\r\n  directPathToChild: [],\r\n  directPathLastUpdated: 0,\r\n  isComponentVisible: true,\r\n};\r\n\r\n/**\r\n * Selects the chart scope of the filter input that has focus.\r\n *\r\n * @returns {{chartId: number, scope: { scope: string[], immune: string[] }} | null }\r\n * the scope of the currently focused filter, if any\r\n */\r\nfunction selectFocusedFilterScope(dashboardState, dashboardFilters) {\r\n  if (!dashboardState.focusedFilterField) return null;\r\n  const { chartId, column } = dashboardState.focusedFilterField;\r\n  return {\r\n    chartId,\r\n    scope: dashboardFilters[chartId].scopes[column],\r\n  };\r\n}\r\n\r\nfunction mapStateToProps(\r\n  {\r\n    dashboardLayout: undoableLayout,\r\n    dashboardState,\r\n    dashboardInfo,\r\n    dashboardFilters,\r\n    nativeFilters,\r\n  },\r\n  ownProps,\r\n) {\r\n  const dashboardLayout = undoableLayout.present;\r\n  const { id, parentId } = ownProps;\r\n  const component = dashboardLayout[id];\r\n  const props = {\r\n    component,\r\n    dashboardLayout,\r\n    parentComponent: dashboardLayout[parentId],\r\n    editMode: dashboardState.editMode,\r\n    undoLength: undoableLayout.past.length,\r\n    redoLength: undoableLayout.future.length,\r\n    filters: getActiveFilters(),\r\n    directPathToChild: dashboardState.directPathToChild,\r\n    lastFocusedTabId: dashboardState.lastFocusedTabId,\r\n    directPathLastUpdated: dashboardState.directPathLastUpdated,\r\n    dashboardId: dashboardInfo.id,\r\n    nativeFilters,\r\n    focusedFilterScope: selectFocusedFilterScope(\r\n      dashboardState,\r\n      dashboardFilters,\r\n    ),\r\n  };\r\n\r\n  // rows and columns need more data about their child dimensions\r\n  // doing this allows us to not pass the entire component lookup to all Components\r\n  if (component) {\r\n    const componentType = component.type;\r\n    if (componentType === ROW_TYPE || componentType === COLUMN_TYPE) {\r\n      const { occupiedWidth, minimumWidth } = getDetailedComponentWidth({\r\n        id,\r\n        components: dashboardLayout,\r\n      });\r\n\r\n      if (componentType === ROW_TYPE) props.occupiedColumnCount = occupiedWidth;\r\n      if (componentType === COLUMN_TYPE) props.minColumnWidth = minimumWidth;\r\n    }\r\n  }\r\n\r\n  return props;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(\r\n    {\r\n      addDangerToast,\r\n      createComponent,\r\n      deleteComponent,\r\n      updateComponents,\r\n      handleComponentDrop,\r\n      setDirectPathToChild,\r\n      setLastFocusedTab,\r\n      logEvent,\r\n    },\r\n    dispatch,\r\n  );\r\n}\r\n\r\nclass DashboardComponent extends React.PureComponent {\r\n  render() {\r\n    const { component } = this.props;\r\n    const Component = component ? componentLookup[component.type] : null;\r\n    return Component ? <Component {...this.props} /> : null;\r\n  }\r\n}\r\n\r\nDashboardComponent.propTypes = propTypes;\r\nDashboardComponent.defaultProps = defaultProps;\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DashboardComponent);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport DashboardGrid from '../components/DashboardGrid';\r\n\r\nimport {\r\n  handleComponentDrop,\r\n  resizeComponent,\r\n} from '../actions/dashboardLayout';\r\nimport { setDirectPathToChild } from '../actions/dashboardState';\r\n\r\nfunction mapStateToProps({ dashboardState }) {\r\n  return {\r\n    editMode: dashboardState.editMode,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(\r\n    {\r\n      handleComponentDrop,\r\n      resizeComponent,\r\n      setDirectPathToChild,\r\n    },\r\n    dispatch,\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DashboardGrid);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport DashboardHeader from '../components/Header';\r\nimport isDashboardLoading from '../util/isDashboardLoading';\r\n\r\nimport { dashboardInfoChanged } from '../actions/dashboardInfo';\r\n\r\nimport {\r\n  setEditMode,\r\n  showBuilderPane,\r\n  fetchFaveStar,\r\n  saveFaveStar,\r\n  savePublished,\r\n  setColorSchemeAndUnsavedChanges,\r\n  fetchCharts,\r\n  updateCss,\r\n  onChange,\r\n  saveDashboardRequest,\r\n  setMaxUndoHistoryExceeded,\r\n  maxUndoHistoryToast,\r\n  setRefreshFrequency,\r\n} from '../actions/dashboardState';\r\n\r\nimport {\r\n  undoLayoutAction,\r\n  redoLayoutAction,\r\n  updateDashboardTitle,\r\n  dashboardTitleChanged,\r\n} from '../actions/dashboardLayout';\r\n\r\nimport {\r\n  addSuccessToast,\r\n  addDangerToast,\r\n  addWarningToast,\r\n} from '../../messageToasts/actions';\r\n\r\nimport { logEvent } from '../../logger/actions';\r\nimport { DASHBOARD_HEADER_ID } from '../util/constants';\r\n\r\nfunction mapStateToProps({\r\n  dashboardLayout: undoableLayout,\r\n  dashboardState,\r\n  dashboardInfo,\r\n  charts,\r\n}) {\r\n  return {\r\n    dashboardInfo,\r\n    undoLength: undoableLayout.past.length,\r\n    redoLength: undoableLayout.future.length,\r\n    layout: undoableLayout.present,\r\n    dashboardTitle: (\r\n      (undoableLayout.present[DASHBOARD_HEADER_ID] || {}).meta || {}\r\n    ).text,\r\n    expandedSlices: dashboardState.expandedSlices,\r\n    refreshFrequency: dashboardState.refreshFrequency,\r\n    shouldPersistRefreshFrequency: !!dashboardState.shouldPersistRefreshFrequency,\r\n    customCss: dashboardState.css,\r\n    colorNamespace: dashboardState.colorNamespace,\r\n    colorScheme: dashboardState.colorScheme,\r\n    charts,\r\n    userId: dashboardInfo.userId,\r\n    isStarred: !!dashboardState.isStarred,\r\n    isPublished: !!dashboardState.isPublished,\r\n    isLoading: isDashboardLoading(charts),\r\n    hasUnsavedChanges: !!dashboardState.hasUnsavedChanges,\r\n    maxUndoHistoryExceeded: !!dashboardState.maxUndoHistoryExceeded,\r\n    lastModifiedTime: Math.max(\r\n      dashboardState.lastModifiedTime,\r\n      dashboardInfo.last_modified_time,\r\n    ),\r\n    editMode: !!dashboardState.editMode,\r\n    slug: dashboardInfo.slug,\r\n    metadata: dashboardInfo.metadata,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(\r\n    {\r\n      addSuccessToast,\r\n      addDangerToast,\r\n      addWarningToast,\r\n      onUndo: undoLayoutAction,\r\n      onRedo: redoLayoutAction,\r\n      setEditMode,\r\n      showBuilderPane,\r\n      setColorSchemeAndUnsavedChanges,\r\n      fetchFaveStar,\r\n      saveFaveStar,\r\n      savePublished,\r\n      fetchCharts,\r\n      updateDashboardTitle,\r\n      updateCss,\r\n      onChange,\r\n      onSave: saveDashboardRequest,\r\n      setMaxUndoHistoryExceeded,\r\n      maxUndoHistoryToast,\r\n      logEvent,\r\n      setRefreshFrequency,\r\n      dashboardInfoChanged,\r\n      dashboardTitleChanged,\r\n    },\r\n    dispatch,\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DashboardHeader);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { updateDashboardFiltersScope } from '../actions/dashboardFilters';\r\nimport { setUnsavedChanges } from '../actions/dashboardState';\r\nimport FilterScopeSelector from '../components/filterscope/FilterScopeSelector';\r\n\r\nfunction mapStateToProps({ dashboardLayout, dashboardFilters }) {\r\n  return {\r\n    dashboardFilters,\r\n    layout: dashboardLayout.present,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(\r\n    {\r\n      updateDashboardFiltersScope,\r\n      setUnsavedChanges,\r\n    },\r\n    dispatch,\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(FilterScopeSelector);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators, Dispatch } from 'redux';\r\nimport { uniqWith } from 'lodash';\r\nimport { setDirectPathToChild } from 'src/dashboard/actions/dashboardState';\r\nimport {\r\n  selectIndicatorsForChart,\r\n  Indicator,\r\n  IndicatorStatus,\r\n  selectNativeIndicatorsForChart,\r\n} from 'src/dashboard/components/FiltersBadge/selectors';\r\nimport FiltersBadge from 'src/dashboard/components/FiltersBadge';\r\n\r\nexport interface FiltersBadgeProps {\r\n  chartId: number;\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      onHighlightFilterSource: setDirectPathToChild,\r\n    },\r\n    dispatch,\r\n  );\r\n\r\nconst sortByStatus = (indicators: Indicator[]): Indicator[] => {\r\n  const statuses = [\r\n    IndicatorStatus.Applied,\r\n    IndicatorStatus.Unset,\r\n    IndicatorStatus.Incompatible,\r\n  ];\r\n  return indicators.sort(\r\n    (a, b) =>\r\n      statuses.indexOf(a.status as IndicatorStatus) -\r\n      statuses.indexOf(b.status as IndicatorStatus),\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (\r\n  {\r\n    datasources,\r\n    dashboardFilters,\r\n    nativeFilters,\r\n    dashboardInfo,\r\n    charts,\r\n    dataMask,\r\n    dashboardLayout: { present },\r\n  }: any,\r\n  { chartId }: FiltersBadgeProps,\r\n) => {\r\n  const dashboardIndicators = selectIndicatorsForChart(\r\n    chartId,\r\n    dashboardFilters,\r\n    datasources,\r\n    charts,\r\n  );\r\n\r\n  const nativeIndicators = selectNativeIndicatorsForChart(\r\n    nativeFilters,\r\n    dataMask,\r\n    chartId,\r\n    charts,\r\n    present,\r\n    dashboardInfo.metadata?.chart_configuration,\r\n  );\r\n\r\n  const indicators = uniqWith(\r\n    sortByStatus([...dashboardIndicators, ...nativeIndicators]),\r\n    (ind1, ind2) =>\r\n      ind1.column === ind2.column &&\r\n      ind1.name === ind2.name &&\r\n      (ind1.status !== IndicatorStatus.Applied ||\r\n        ind2.status !== IndicatorStatus.Applied),\r\n  );\r\n\r\n  const appliedCrossFilterIndicators = indicators.filter(\r\n    indicator => indicator.status === IndicatorStatus.CrossFilterApplied,\r\n  );\r\n  const appliedIndicators = indicators.filter(\r\n    indicator => indicator.status === IndicatorStatus.Applied,\r\n  );\r\n  const unsetIndicators = indicators.filter(\r\n    indicator => indicator.status === IndicatorStatus.Unset,\r\n  );\r\n  const incompatibleIndicators = indicators.filter(\r\n    indicator => indicator.status === IndicatorStatus.Incompatible,\r\n  );\r\n\r\n  return {\r\n    chartId,\r\n    appliedIndicators,\r\n    appliedCrossFilterIndicators,\r\n    unsetIndicators,\r\n    incompatibleIndicators,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FiltersBadge);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { fetchAllSlices } from '../actions/sliceEntities';\r\nimport SliceAdder from '../components/SliceAdder';\r\n\r\nfunction mapStateToProps({ sliceEntities, dashboardInfo, dashboardState }) {\r\n  return {\r\n    userId: dashboardInfo.userId,\r\n    selectedSliceIds: dashboardState.sliceIds,\r\n    slices: sliceEntities.slices,\r\n    isLoading: sliceEntities.isLoading,\r\n    errorMessage: sliceEntities.errorMessage,\r\n    lastUpdated: sliceEntities.lastUpdated,\r\n    editMode: dashboardState.editMode,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return bindActionCreators(\r\n    {\r\n      fetchAllSlices,\r\n    },\r\n    dispatch,\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SliceAdder);\r\n","var content = require(\"!!../../../node_modules/css-loader/index.js??ref--8-1!../../../node_modules/less-loader/dist/cjs.js??ref--8-2!./index.less\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { DataMaskStateWithId } from 'src/dataMask/types';\r\nimport { JsonObject } from '@superset-ui/core';\r\nimport { CHART_TYPE } from './componentTypes';\r\nimport { Scope } from '../components/nativeFilters/types';\r\nimport { ActiveFilters, Layout, LayoutItem } from '../types';\r\nimport { ChartConfiguration, Filters } from '../reducers/types';\r\nimport { DASHBOARD_ROOT_ID } from './constants';\r\n\r\n// Looking for affected chart scopes and values\r\nexport const findAffectedCharts = ({\r\n  child,\r\n  layout,\r\n  scope,\r\n  activeFilters,\r\n  filterId,\r\n  extraFormData,\r\n}: {\r\n  child: string;\r\n  layout: { [key: string]: LayoutItem };\r\n  scope: Scope;\r\n  activeFilters: ActiveFilters;\r\n  filterId: string;\r\n  extraFormData: any;\r\n}) => {\r\n  const chartId = layout[child]?.meta?.chartId;\r\n  if (layout[child].type === CHART_TYPE) {\r\n    // Ignore excluded charts\r\n    if (scope.excluded.includes(chartId)) {\r\n      return;\r\n    }\r\n    if (!activeFilters[filterId]) {\r\n      // Small mutation but simplify logic\r\n      // eslint-disable-next-line no-param-reassign\r\n      activeFilters[filterId] = {\r\n        scope: [],\r\n        values: extraFormData,\r\n      };\r\n    }\r\n    // Add not excluded chart scopes(to know what charts refresh) and values(refresh only if its value changed)\r\n    activeFilters[filterId].scope.push(chartId);\r\n    return;\r\n  }\r\n  // If child is not chart, recursive iterate over its children\r\n  layout[child].children.forEach((child: string) =>\r\n    findAffectedCharts({\r\n      child,\r\n      layout,\r\n      scope,\r\n      activeFilters,\r\n      filterId,\r\n      extraFormData,\r\n    }),\r\n  );\r\n};\r\n\r\nexport const getRelevantDataMask = (\r\n  dataMask: DataMaskStateWithId,\r\n  prop: string,\r\n): JsonObject | DataMaskStateWithId =>\r\n  Object.values(dataMask)\r\n    .filter(item => item[prop])\r\n    .reduce(\r\n      (prev, next) => ({ ...prev, [next.id]: prop ? next[prop] : next }),\r\n      {},\r\n    );\r\n\r\nexport const getAllActiveFilters = ({\r\n  chartConfiguration,\r\n  nativeFilters,\r\n  dataMask,\r\n  layout,\r\n}: {\r\n  chartConfiguration: ChartConfiguration;\r\n  dataMask: DataMaskStateWithId;\r\n  nativeFilters: Filters;\r\n  layout: Layout;\r\n}): ActiveFilters => {\r\n  const activeFilters = {};\r\n\r\n  // Combine native filters with cross filters, because they have similar logic\r\n  Object.values(dataMask).forEach(({ id: filterId, extraFormData }) => {\r\n    const scope = nativeFilters?.[filterId]?.scope ??\r\n      chartConfiguration?.[filterId]?.crossFilters?.scope ?? {\r\n        rootPath: [DASHBOARD_ROOT_ID],\r\n        excluded: [filterId],\r\n      };\r\n    // Iterate over all roots to find all affected charts\r\n    scope.rootPath.forEach((layoutItemId: string | number) => {\r\n      layout[layoutItemId].children.forEach((child: string) => {\r\n        // Need exclude from affected charts, charts that located in scope `excluded`\r\n        findAffectedCharts({\r\n          child,\r\n          layout,\r\n          scope,\r\n          activeFilters,\r\n          filterId,\r\n          extraFormData,\r\n        });\r\n      });\r\n    });\r\n  });\r\n  return activeFilters;\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t } from '@superset-ui/core';\r\nimport { BACKGROUND_TRANSPARENT, BACKGROUND_WHITE } from './constants';\r\n\r\nexport default [\r\n  {\r\n    value: BACKGROUND_TRANSPARENT,\r\n    label: t('Transparent'),\r\n    className: 'background--transparent',\r\n  },\r\n  {\r\n    value: BACKGROUND_WHITE,\r\n    label: t('White'),\r\n    className: 'background--white',\r\n  },\r\n];\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport getFilterScopeNodesTree from './getFilterScopeNodesTree';\r\nimport getFilterScopeParentNodes from './getFilterScopeParentNodes';\r\nimport getKeyForFilterScopeTree from './getKeyForFilterScopeTree';\r\nimport getSelectedChartIdForFilterScopeTree from './getSelectedChartIdForFilterScopeTree';\r\n\r\nexport default function buildFilterScopeTreeEntry({\r\n  checkedFilterFields = [],\r\n  activeFilterField,\r\n  filterScopeMap = {},\r\n  layout = {},\r\n}) {\r\n  const key = getKeyForFilterScopeTree({\r\n    checkedFilterFields,\r\n    activeFilterField,\r\n  });\r\n  const editingList = activeFilterField\r\n    ? [activeFilterField]\r\n    : checkedFilterFields;\r\n  const selectedChartId = getSelectedChartIdForFilterScopeTree({\r\n    checkedFilterFields,\r\n    activeFilterField,\r\n  });\r\n  const nodes = getFilterScopeNodesTree({\r\n    components: layout,\r\n    filterFields: editingList,\r\n    selectedChartId,\r\n  });\r\n  const checkedChartIdSet = new Set();\r\n  editingList.forEach(filterField => {\r\n    (filterScopeMap[filterField].checked || []).forEach(chartId => {\r\n      checkedChartIdSet.add(`${chartId}:${filterField}`);\r\n    });\r\n  });\r\n  const checked = [...checkedChartIdSet];\r\n  const expanded = filterScopeMap[key]\r\n    ? filterScopeMap[key].expanded\r\n    : getFilterScopeParentNodes(nodes, 1);\r\n\r\n  return {\r\n    [key]: {\r\n      nodes,\r\n      nodesFiltered: [...nodes],\r\n      checked,\r\n      expanded,\r\n    },\r\n  };\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { DataRecordFilters } from '@superset-ui/core';\r\n\r\nexport default function getEffectiveExtraFilters(filters: DataRecordFilters) {\r\n  return Object.entries(filters)\r\n    .map(([column, values]) => ({\r\n      col: column,\r\n      op: Array.isArray(values) ? 'IN' : '==',\r\n      val: values,\r\n    }))\r\n    .filter(filter => filter.val !== null);\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { isEqual } from 'lodash';\r\nimport {\r\n  CategoricalColorNamespace,\r\n  DataRecordFilters,\r\n  JsonObject,\r\n} from '@superset-ui/core';\r\nimport { ChartQueryPayload, Charts, LayoutItem } from 'src/dashboard/types';\r\nimport { getExtraFormData } from 'src/dashboard/components/nativeFilters/utils';\r\nimport { DataMaskStateWithId } from 'src/dataMask/types';\r\nimport getEffectiveExtraFilters from './getEffectiveExtraFilters';\r\nimport { ChartConfiguration, NativeFiltersState } from '../../reducers/types';\r\nimport { getAllActiveFilters } from '../activeAllDashboardFilters';\r\n\r\n// We cache formData objects so that our connected container components don't always trigger\r\n// render cascades. we cannot leverage the reselect library because our cache size is >1\r\nconst cachedFiltersByChart = {};\r\nconst cachedFormdataByChart = {};\r\n\r\nexport interface GetFormDataWithExtraFiltersArguments {\r\n  chartConfiguration: ChartConfiguration;\r\n  chart: ChartQueryPayload;\r\n  charts: Charts;\r\n  filters: DataRecordFilters;\r\n  layout: { [key: string]: LayoutItem };\r\n  colorScheme?: string;\r\n  colorNamespace?: string;\r\n  sliceId: number;\r\n  dataMask: DataMaskStateWithId;\r\n  nativeFilters: NativeFiltersState;\r\n}\r\n\r\n// this function merge chart's formData with dashboard filters value,\r\n// and generate a new formData which will be used in the new query.\r\n// filters param only contains those applicable to this chart.\r\nexport default function getFormDataWithExtraFilters({\r\n  chart,\r\n  charts,\r\n  filters,\r\n  nativeFilters,\r\n  chartConfiguration,\r\n  colorScheme,\r\n  colorNamespace,\r\n  sliceId,\r\n  layout,\r\n  dataMask,\r\n}: GetFormDataWithExtraFiltersArguments) {\r\n  // Propagate color mapping to chart\r\n  const scale = CategoricalColorNamespace.getScale(colorScheme, colorNamespace);\r\n  const labelColors = scale.getColorMap();\r\n\r\n  // if dashboard metadata + filters have not changed, use cache if possible\r\n  if (\r\n    (cachedFiltersByChart[sliceId] || {}) === filters &&\r\n    (colorScheme == null ||\r\n      cachedFormdataByChart[sliceId].color_scheme === colorScheme) &&\r\n    cachedFormdataByChart[sliceId].color_namespace === colorNamespace &&\r\n    isEqual(cachedFormdataByChart[sliceId].label_colors, labelColors) &&\r\n    !!cachedFormdataByChart[sliceId] &&\r\n    dataMask === undefined\r\n  ) {\r\n    return cachedFormdataByChart[sliceId];\r\n  }\r\n\r\n  let extraData: { extra_form_data?: JsonObject } = {};\r\n  const activeFilters = getAllActiveFilters({\r\n    chartConfiguration,\r\n    dataMask,\r\n    layout,\r\n    nativeFilters: nativeFilters.filters,\r\n  });\r\n  const filterIdsAppliedOnChart = Object.entries(activeFilters)\r\n    .filter(([, { scope }]) => scope.includes(chart.id))\r\n    .map(([filterId]) => filterId);\r\n  if (filterIdsAppliedOnChart.length) {\r\n    extraData = {\r\n      extra_form_data: getExtraFormData(\r\n        dataMask,\r\n        charts,\r\n        filterIdsAppliedOnChart,\r\n      ),\r\n    };\r\n  }\r\n\r\n  const formData = {\r\n    ...chart.formData,\r\n    ...(colorScheme && { color_scheme: colorScheme }),\r\n    label_colors: labelColors,\r\n    extra_filters: getEffectiveExtraFilters(filters),\r\n    ...extraData,\r\n  };\r\n  cachedFiltersByChart[sliceId] = filters;\r\n  cachedFormdataByChart[sliceId] = formData;\r\n\r\n  return formData;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { JsonObject } from '@superset-ui/core';\r\nimport { areObjectsEqual } from '../../../reduxUtils';\r\n\r\nexport const arrayDiff = (a: string[], b: string[]) => [\r\n  ...a.filter(x => !b.includes(x)),\r\n  ...b.filter(x => !a.includes(x)),\r\n];\r\n\r\nexport const getAffectedOwnDataCharts = (\r\n  ownDataCharts: JsonObject,\r\n  appliedOwnDataCharts: JsonObject,\r\n) => {\r\n  const chartIds = Object.keys(ownDataCharts);\r\n  const appliedChartIds = Object.keys(appliedOwnDataCharts);\r\n  const affectedIds: string[] = arrayDiff(chartIds, appliedChartIds).filter(\r\n    id => ownDataCharts[id] || appliedOwnDataCharts[id],\r\n  );\r\n  const checkForUpdateIds = new Set<string>([...chartIds, ...appliedChartIds]);\r\n  checkForUpdateIds.forEach(chartId => {\r\n    if (\r\n      !areObjectsEqual(ownDataCharts[chartId], appliedOwnDataCharts[chartId])\r\n    ) {\r\n      affectedIds.push(chartId);\r\n    }\r\n  });\r\n  return [...new Set(affectedIds)];\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nexport default function findTabIndexByComponentId({\r\n  currentComponent,\r\n  directPathToChild = [],\r\n}) {\r\n  if (\r\n    !currentComponent ||\r\n    directPathToChild.length === 0 ||\r\n    directPathToChild.indexOf(currentComponent.id) === -1\r\n  ) {\r\n    return -1;\r\n  }\r\n\r\n  const currentComponentIdx = directPathToChild.findIndex(\r\n    id => id === currentComponent.id,\r\n  );\r\n  const nextParentId = directPathToChild[currentComponentIdx + 1];\r\n  if (currentComponent.children.indexOf(nextParentId) >= 0) {\r\n    return currentComponent.children.findIndex(\r\n      childId => childId === nextParentId,\r\n    );\r\n  }\r\n  return -1;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { IN_COMPONENT_ELEMENT_TYPES } from './constants';\r\n\r\nexport default function getChartAndLabelComponentIdFromPath(directPathToChild) {\r\n  const result = {};\r\n\r\n  if (directPathToChild.length > 0) {\r\n    const currentPath = directPathToChild.slice();\r\n\r\n    while (currentPath.length) {\r\n      const componentId = currentPath.pop();\r\n      const componentType = componentId.split('-')[0];\r\n\r\n      result[componentType.toLowerCase()] = componentId;\r\n      if (!IN_COMPONENT_ELEMENT_TYPES.includes(componentType)) {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { CHART_TYPE } from './componentTypes';\r\n\r\nexport default function getChartIdsFromLayout(layout) {\r\n  return Object.values(layout).reduce((chartIds, currentComponent) => {\r\n    if (\r\n      currentComponent &&\r\n      currentComponent.type === CHART_TYPE &&\r\n      currentComponent.meta &&\r\n      currentComponent.meta.chartId\r\n    ) {\r\n      chartIds.push(currentComponent.meta.chartId);\r\n    }\r\n    return chartIds;\r\n  }, []);\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { URL_PARAMS } from 'src/constants';\r\nimport serializeActiveFilterValues from './serializeActiveFilterValues';\r\n\r\nexport default function getDashboardUrl(\r\n  pathname: string,\r\n  filters = {},\r\n  hash = '',\r\n  standalone?: number | null,\r\n) {\r\n  const newSearchParams = new URLSearchParams();\r\n\r\n  // convert flattened { [id_column]: values } object\r\n  // to nested filter object\r\n  newSearchParams.set(\r\n    URL_PARAMS.preselectFilters.name,\r\n    JSON.stringify(serializeActiveFilterValues(filters)),\r\n  );\r\n\r\n  if (standalone) {\r\n    newSearchParams.set(URL_PARAMS.standalone.name, standalone.toString());\r\n  }\r\n\r\n  const hashSection = hash ? `#${hash}` : '';\r\n\r\n  return `${pathname}?${newSearchParams.toString()}${hashSection}`;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nexport default function getDirectPathToTabIndex(tabsComponent, tabIndex) {\r\n  const directPathToFilter = (tabsComponent.parents || []).slice();\r\n  directPathToFilter.push(tabsComponent.id);\r\n  directPathToFilter.push(tabsComponent.children[tabIndex]);\r\n\r\n  return directPathToFilter;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport isValidChild from './isValidChild';\r\nimport { TAB_TYPE, TABS_TYPE } from './componentTypes';\r\n\r\nexport const DROP_TOP = 'DROP_TOP';\r\nexport const DROP_RIGHT = 'DROP_RIGHT';\r\nexport const DROP_BOTTOM = 'DROP_BOTTOM';\r\nexport const DROP_LEFT = 'DROP_LEFT';\r\n\r\n// this defines how close the mouse must be to the edge of a component to display\r\n// a sibling type drop indicator\r\nconst SIBLING_DROP_THRESHOLD = 20;\r\nconst NON_SHALLOW_DROP_THRESHOLD = 20;\r\n\r\n// We cache the last recorded clientOffset per component in order to\r\n// have access to it beyond the handleHover phase and into the handleDrop phase\r\n// of drag-and-drop. we do not have access to it during drop because react-dnd's\r\n// monitor.getClientOffset() returns null at this point\r\nlet CACHED_CLIENT_OFFSET = {};\r\nexport function clearDropCache() {\r\n  CACHED_CLIENT_OFFSET = {};\r\n}\r\n\r\nexport default function getDropPosition(monitor, Component) {\r\n  const {\r\n    depth: componentDepth,\r\n    parentComponent,\r\n    component,\r\n    orientation,\r\n    isDraggingOverShallow,\r\n  } = Component.props;\r\n\r\n  const draggingItem = monitor.getItem();\r\n\r\n  // if dropped self on self, do nothing\r\n  if (!draggingItem || draggingItem.id === component.id) {\r\n    return null;\r\n  }\r\n\r\n  // TODO need a better solution to prevent nested tabs\r\n  if (\r\n    draggingItem.type === TABS_TYPE &&\r\n    component.type === TAB_TYPE &&\r\n    componentDepth === 2\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  const validChild = isValidChild({\r\n    parentType: component.type,\r\n    parentDepth: componentDepth,\r\n    childType: draggingItem.type,\r\n  });\r\n\r\n  const parentType = parentComponent && parentComponent.type;\r\n  const parentDepth = // see isValidChild.js for why tabs don't increment child depth\r\n    componentDepth +\r\n    (parentType === TAB_TYPE || parentType === TABS_TYPE ? 0 : -1);\r\n\r\n  const validSibling = isValidChild({\r\n    parentType,\r\n    parentDepth,\r\n    childType: draggingItem.type,\r\n  });\r\n\r\n  if (!validChild && !validSibling) {\r\n    return null;\r\n  }\r\n\r\n  const hasChildren = (component.children || []).length > 0;\r\n  const childDropOrientation =\r\n    orientation === 'row' ? 'vertical' : 'horizontal';\r\n  const siblingDropOrientation =\r\n    orientation === 'row' ? 'horizontal' : 'vertical';\r\n\r\n  if (isDraggingOverShallow && validChild && !validSibling) {\r\n    // easiest case, insert as child\r\n    if (childDropOrientation === 'vertical') {\r\n      return hasChildren ? DROP_RIGHT : DROP_LEFT;\r\n    }\r\n    return hasChildren ? DROP_BOTTOM : DROP_TOP;\r\n  }\r\n\r\n  const refBoundingRect = Component.ref.getBoundingClientRect();\r\n  const clientOffset =\r\n    monitor.getClientOffset() || CACHED_CLIENT_OFFSET[component.id];\r\n\r\n  if (!clientOffset || !refBoundingRect) {\r\n    return null;\r\n  }\r\n\r\n  CACHED_CLIENT_OFFSET[component.id] = clientOffset;\r\n  const deltaTop = Math.abs(clientOffset.y - refBoundingRect.top);\r\n  const deltaBottom = Math.abs(clientOffset.y - refBoundingRect.bottom);\r\n  const deltaLeft = Math.abs(clientOffset.x - refBoundingRect.left);\r\n  const deltaRight = Math.abs(clientOffset.x - refBoundingRect.right);\r\n\r\n  // Most of the time we only want a drop indicator for shallow (top-level, non-nested) drop targets\r\n  // However there are some cases where considering only shallow targets would result in NO drop\r\n  // indicators which is a bad UX.\r\n  // e.g.,\r\n  //    when dragging row-a over a chart that's in another row-b, the chart is the shallow droptarget\r\n  //    but row-a is not a valid child or sibling. in this case we want to show a sibling drop\r\n  //    indicator for row-b, which is NOT a shallow drop target.\r\n  // BUT if we ALWAYS consider non-shallow drop targets we may get multiple indicators shown at the\r\n  // same time, which is also a bad UX. to prevent this we can enforce a threshold proximity of the\r\n  // mouse to the edge of a non-shallow target\r\n  if (\r\n    !isDraggingOverShallow &&\r\n    [deltaTop, deltaBottom, deltaLeft, deltaRight].every(\r\n      delta => delta > NON_SHALLOW_DROP_THRESHOLD,\r\n    )\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  // Drop based on mouse position relative to component center\r\n  if (validSibling && !validChild) {\r\n    if (siblingDropOrientation === 'vertical') {\r\n      const refMiddleX =\r\n        refBoundingRect.left +\r\n        (refBoundingRect.right - refBoundingRect.left) / 2;\r\n      return clientOffset.x < refMiddleX ? DROP_LEFT : DROP_RIGHT;\r\n    }\r\n    const refMiddleY =\r\n      refBoundingRect.top + (refBoundingRect.bottom - refBoundingRect.top) / 2;\r\n    return clientOffset.y < refMiddleY ? DROP_TOP : DROP_BOTTOM;\r\n  }\r\n\r\n  // either is valid, so choose location based on boundary deltas\r\n  if (validSibling && validChild) {\r\n    // if near enough to a sibling boundary, drop there\r\n    if (siblingDropOrientation === 'vertical') {\r\n      if (deltaLeft < SIBLING_DROP_THRESHOLD) return DROP_LEFT;\r\n      if (deltaRight < SIBLING_DROP_THRESHOLD) return DROP_RIGHT;\r\n    } else {\r\n      if (deltaTop < SIBLING_DROP_THRESHOLD) return DROP_TOP;\r\n      if (deltaBottom < SIBLING_DROP_THRESHOLD) return DROP_BOTTOM;\r\n    }\r\n\r\n    // drop as child\r\n    if (childDropOrientation === 'vertical') {\r\n      return hasChildren ? DROP_RIGHT : DROP_LEFT;\r\n    }\r\n    return hasChildren ? DROP_BOTTOM : DROP_TOP;\r\n  }\r\n\r\n  return null;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport { getDashboardFilterKey } from './getDashboardFilterKey';\r\nimport { ALL_FILTERS_ROOT } from './constants';\r\nimport { DASHBOARD_ROOT_TYPE } from './componentTypes';\r\n\r\nexport default function getFilterFieldNodesTree({ dashboardFilters = {} }) {\r\n  const allFilters = Object.values(dashboardFilters).map(dashboardFilter => {\r\n    const { chartId, filterName, columns, labels } = dashboardFilter;\r\n    const children = Object.keys(columns).map(column => ({\r\n      value: getDashboardFilterKey({ chartId, column }),\r\n      label: labels[column] || column,\r\n    }));\r\n    return {\r\n      value: chartId,\r\n      label: filterName,\r\n      children,\r\n      showCheckbox: true,\r\n    };\r\n  });\r\n\r\n  return [\r\n    {\r\n      value: ALL_FILTERS_ROOT,\r\n      type: DASHBOARD_ROOT_TYPE,\r\n      label: t('All filters'),\r\n      children: allFilters,\r\n    },\r\n  ];\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { flow, keyBy, mapValues } from 'lodash/fp';\r\nimport { flatMap, isEmpty } from 'lodash';\r\n\r\nimport { CHART_TYPE, TAB_TYPE } from './componentTypes';\r\nimport { getChartIdAndColumnFromFilterKey } from './getDashboardFilterKey';\r\n\r\nfunction getImmuneChartIdsFromTabsNotInScope({ tabs = [], tabsInScope = [] }) {\r\n  const chartsNotInScope = [];\r\n  tabs.forEach(({ value: tab, children: tabChildren }) => {\r\n    if (tabChildren && !tabsInScope.includes(tab)) {\r\n      tabChildren.forEach(({ value: subTab, children: subTabChildren }) => {\r\n        if (subTabChildren && !tabsInScope.includes(subTab)) {\r\n          chartsNotInScope.push(\r\n            ...subTabChildren.filter(({ type }) => type === CHART_TYPE),\r\n          );\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  // return chartId only\r\n  return chartsNotInScope.map(({ value }) => value);\r\n}\r\nfunction getTabChildrenScope({\r\n  tabScopes,\r\n  parentNodeValue,\r\n  forceAggregate = false,\r\n  hasChartSiblings = false,\r\n  tabChildren = [],\r\n  immuneChartSiblings = [],\r\n}) {\r\n  // if all sub-tabs are in scope, or forceAggregate =  true\r\n  // aggregate scope to parentNodeValue\r\n  if (\r\n    forceAggregate ||\r\n    (!hasChartSiblings &&\r\n      Object.entries(tabScopes).every(\r\n        ([key, { scope }]) => scope && scope.length && key === scope[0],\r\n      ))\r\n  ) {\r\n    // get all charts from tabChildren that is not in scope\r\n    const immuneChartIdsFromTabsNotInScope = getImmuneChartIdsFromTabsNotInScope(\r\n      {\r\n        tabs: tabChildren,\r\n        tabsInScope: flatMap(tabScopes, ({ scope }) => scope),\r\n      },\r\n    );\r\n    const immuneChartIdsFromTabsInScope = flatMap(\r\n      Object.values(tabScopes),\r\n      ({ immune }) => immune,\r\n    );\r\n    const immuneCharts = [\r\n      ...new Set([\r\n        ...immuneChartIdsFromTabsNotInScope,\r\n        ...immuneChartIdsFromTabsInScope,\r\n      ]),\r\n    ];\r\n    return {\r\n      scope: [parentNodeValue],\r\n      immune: immuneCharts,\r\n    };\r\n  }\r\n\r\n  const componentsInScope = Object.values(tabScopes).filter(\r\n    ({ scope }) => scope && scope.length,\r\n  );\r\n  return {\r\n    scope: flatMap(componentsInScope, ({ scope }) => scope),\r\n    immune: componentsInScope.length\r\n      ? flatMap(componentsInScope, ({ immune }) => immune)\r\n      : flatMap(Object.values(tabScopes), ({ immune }) => immune).concat(\r\n          immuneChartSiblings,\r\n        ),\r\n  };\r\n}\r\n\r\nfunction traverse({ currentNode = {}, filterId, checkedChartIds = [] }) {\r\n  if (!currentNode) {\r\n    return {};\r\n  }\r\n\r\n  const { value: currentValue, children } = currentNode;\r\n  const chartChildren = children.filter(({ type }) => type === CHART_TYPE);\r\n  const tabChildren = children.filter(({ type }) => type === TAB_TYPE);\r\n\r\n  const chartsImmune = chartChildren\r\n    .filter(\r\n      ({ value }) => filterId !== value && !checkedChartIds.includes(value),\r\n    )\r\n    .map(({ value }) => value);\r\n  const tabScopes = flow(\r\n    keyBy(child => child.value),\r\n    mapValues(child =>\r\n      traverse({\r\n        currentNode: child,\r\n        filterId,\r\n        checkedChartIds,\r\n      }),\r\n    ),\r\n  )(tabChildren);\r\n\r\n  // if any chart type child is in scope,\r\n  // no matter has tab children or not, current node should be scope\r\n  if (\r\n    !isEmpty(chartChildren) &&\r\n    chartChildren.some(({ value }) => checkedChartIds.includes(value))\r\n  ) {\r\n    if (isEmpty(tabChildren)) {\r\n      return { scope: [currentValue], immune: chartsImmune };\r\n    }\r\n\r\n    const { scope, immune } = getTabChildrenScope({\r\n      tabScopes,\r\n      parentNodeValue: currentValue,\r\n      forceAggregate: true,\r\n      tabChildren,\r\n    });\r\n    return {\r\n      scope,\r\n      immune: chartsImmune.concat(immune),\r\n    };\r\n  }\r\n\r\n  // has tab children but only some sub-tab in scope\r\n  if (tabChildren.length) {\r\n    return getTabChildrenScope({\r\n      tabScopes,\r\n      parentNodeValue: currentValue,\r\n      hasChartSiblings: !isEmpty(chartChildren),\r\n      tabChildren,\r\n      immuneChartSiblings: chartsImmune,\r\n    });\r\n  }\r\n\r\n  // no tab children and no chart children in scope\r\n  return {\r\n    scope: [],\r\n    immune: chartsImmune,\r\n  };\r\n}\r\n\r\nexport default function getFilterScopeFromNodesTree({\r\n  filterKey,\r\n  nodes = [],\r\n  checkedChartIds = [],\r\n}) {\r\n  if (nodes.length) {\r\n    const { chartId } = getChartIdAndColumnFromFilterKey(filterKey);\r\n    return traverse({\r\n      currentNode: nodes[0],\r\n      filterId: chartId,\r\n      checkedChartIds,\r\n    });\r\n  }\r\n\r\n  return {};\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { isEmpty } from 'lodash';\r\nimport { t } from '@superset-ui/core';\r\n\r\nimport { DASHBOARD_ROOT_ID } from './constants';\r\nimport { CHART_TYPE, DASHBOARD_ROOT_TYPE, TAB_TYPE } from './componentTypes';\r\n\r\nconst FILTER_SCOPE_CONTAINER_TYPES = [TAB_TYPE, DASHBOARD_ROOT_TYPE];\r\n\r\nfunction traverse({\r\n  currentNode = {},\r\n  components = {},\r\n  filterFields = [],\r\n  selectedChartId,\r\n}) {\r\n  if (!currentNode) {\r\n    return null;\r\n  }\r\n\r\n  const { type } = currentNode;\r\n  if (\r\n    CHART_TYPE === type &&\r\n    currentNode &&\r\n    currentNode.meta &&\r\n    currentNode.meta.chartId\r\n  ) {\r\n    const chartNode = {\r\n      value: currentNode.meta.chartId,\r\n      label:\r\n        currentNode.meta.sliceName || `${type} ${currentNode.meta.chartId}`,\r\n      type,\r\n      showCheckbox: selectedChartId !== currentNode.meta.chartId,\r\n    };\r\n\r\n    return {\r\n      ...chartNode,\r\n      children: filterFields.map(filterField => ({\r\n        value: `${currentNode.meta.chartId}:${filterField}`,\r\n        label: `${chartNode.label}`,\r\n        type: 'filter_box',\r\n        showCheckbox: false,\r\n      })),\r\n    };\r\n  }\r\n\r\n  let children = [];\r\n  if (currentNode.children && currentNode.children.length) {\r\n    currentNode.children.forEach(child => {\r\n      const childNodeTree = traverse({\r\n        currentNode: components[child],\r\n        components,\r\n        filterFields,\r\n        selectedChartId,\r\n      });\r\n\r\n      const childType = components[child].type;\r\n      if (FILTER_SCOPE_CONTAINER_TYPES.includes(childType)) {\r\n        children.push(childNodeTree);\r\n      } else {\r\n        children = children.concat(childNodeTree);\r\n      }\r\n    });\r\n  }\r\n\r\n  if (FILTER_SCOPE_CONTAINER_TYPES.includes(type)) {\r\n    let label = null;\r\n    if (type === DASHBOARD_ROOT_TYPE) {\r\n      label = t('All charts');\r\n    } else {\r\n      label =\r\n        currentNode.meta && currentNode.meta.text\r\n          ? currentNode.meta.text\r\n          : `${type} ${currentNode.id}`;\r\n    }\r\n\r\n    return {\r\n      value: currentNode.id,\r\n      label,\r\n      type,\r\n      children,\r\n    };\r\n  }\r\n\r\n  return children;\r\n}\r\n\r\nexport default function getFilterScopeNodesTree({\r\n  components = {},\r\n  filterFields = [],\r\n  selectedChartId,\r\n}) {\r\n  if (isEmpty(components)) {\r\n    return [];\r\n  }\r\n\r\n  const root = traverse({\r\n    currentNode: components[DASHBOARD_ROOT_ID],\r\n    components,\r\n    filterFields,\r\n    selectedChartId,\r\n  });\r\n  return [\r\n    {\r\n      ...root,\r\n    },\r\n  ];\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nexport default function getFilterScopeParentNodes(nodes = [], depthLimit = -1) {\r\n  const parentNodes = [];\r\n  const traverse = (currentNode, depth) => {\r\n    if (!currentNode) {\r\n      return;\r\n    }\r\n\r\n    if (currentNode.children && (depthLimit === -1 || depth < depthLimit)) {\r\n      parentNodes.push(currentNode.value);\r\n      currentNode.children.forEach(child => traverse(child, depth + 1));\r\n    }\r\n  };\r\n\r\n  if (nodes.length > 0) {\r\n    nodes.forEach(node => {\r\n      traverse(node, 0);\r\n    });\r\n  }\r\n\r\n  return parentNodes;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { getChartIdAndColumnFromFilterKey } from './getDashboardFilterKey';\r\n\r\n// input: { [id_column1]: values, [id_column2]: values }\r\n// output: { column1: values, column2: values }\r\nexport default function getFilterValuesByFilterId({\r\n  activeFilters = {},\r\n  filterId,\r\n}) {\r\n  return Object.entries(activeFilters).reduce((map, entry) => {\r\n    const [filterKey, { values }] = entry;\r\n    const { chartId, column } = getChartIdAndColumnFromFilterKey(filterKey);\r\n    if (chartId === filterId) {\r\n      return {\r\n        ...map,\r\n        [column]: values,\r\n      };\r\n    }\r\n    return map;\r\n  }, {});\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { safeStringify } from '../../utils/safeStringify';\r\n\r\nexport default function getKeyForFilterScopeTree({\r\n  activeFilterField,\r\n  checkedFilterFields,\r\n}) {\r\n  return safeStringify(\r\n    activeFilterField ? [activeFilterField] : checkedFilterFields,\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint-disable no-param-reassign */\r\nimport { CHART_TYPE } from './componentTypes';\r\n\r\nexport default function getLayoutComponentFromChartId(layout, chartId) {\r\n  return Object.values(layout).find(\r\n    currentComponent =>\r\n      currentComponent &&\r\n      currentComponent.type === CHART_TYPE &&\r\n      currentComponent.meta &&\r\n      currentComponent.meta.chartId === chartId,\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { IN_COMPONENT_ELEMENT_TYPES } from './constants';\r\n\r\nexport default function getLeafComponentIdFromPath(directPathToChild = []) {\r\n  if (directPathToChild.length > 0) {\r\n    const currentPath = directPathToChild.slice();\r\n\r\n    while (currentPath.length) {\r\n      const componentId = currentPath.pop();\r\n      const componentType = componentId.split('-')[0];\r\n\r\n      if (!IN_COMPONENT_ELEMENT_TYPES.includes(componentType)) {\r\n        return componentId;\r\n      }\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { getChartIdAndColumnFromFilterKey } from './getDashboardFilterKey';\r\n\r\ninterface FilterScopeMap {\r\n  [key: string]: number[];\r\n}\r\n\r\ninterface GetRevertFilterScopeProps {\r\n  checked: string[];\r\n  filterFields: string[];\r\n  filterScopeMap: FilterScopeMap;\r\n}\r\n\r\nexport default function getRevertedFilterScope({\r\n  checked = [],\r\n  filterFields = [],\r\n  filterScopeMap = {},\r\n}: GetRevertFilterScopeProps) {\r\n  const checkedChartIdsByFilterField = checked.reduce<FilterScopeMap>(\r\n    (map, value) => {\r\n      const [chartId, filterField] = value.split(':');\r\n      return {\r\n        ...map,\r\n        [filterField]: (map[filterField] || []).concat(parseInt(chartId, 10)),\r\n      };\r\n    },\r\n    {},\r\n  );\r\n\r\n  return filterFields.reduce<FilterScopeMap>((map, filterField) => {\r\n    const { chartId } = getChartIdAndColumnFromFilterKey(filterField);\r\n    // force display filter_box chart as unchecked, but show checkbox as disabled\r\n    const updatedCheckedIds = (\r\n      checkedChartIdsByFilterField[filterField] || []\r\n    ).filter(id => id !== chartId);\r\n\r\n    return {\r\n      ...map,\r\n      [filterField]: {\r\n        ...filterScopeMap[filterField],\r\n        checked: updatedCheckedIds,\r\n      },\r\n    };\r\n  }, {});\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { getChartIdAndColumnFromFilterKey } from './getDashboardFilterKey';\r\n\r\nexport default function getSelectedChartIdForFilterScopeTree({\r\n  activeFilterField,\r\n  checkedFilterFields,\r\n}) {\r\n  // we don't apply filter on filter_box itself, so we will disable\r\n  // checkbox in filter scope selector.\r\n  // this function returns chart id based on current filter scope selector local state:\r\n  // 1. if in single-edit mode, return the chart id for selected filter field.\r\n  // 2. if in multi-edit mode, if all filter fields are from same chart id,\r\n  // return the single chart id.\r\n  // otherwise, there is no chart to disable.\r\n  if (activeFilterField) {\r\n    return getChartIdAndColumnFromFilterKey(activeFilterField).chartId;\r\n  }\r\n\r\n  if (checkedFilterFields.length) {\r\n    const { chartId } = getChartIdAndColumnFromFilterKey(\r\n      checkedFilterFields[0],\r\n    );\r\n\r\n    if (\r\n      checkedFilterFields.some(\r\n        filterKey =>\r\n          getChartIdAndColumnFromFilterKey(filterKey).chartId !== chartId,\r\n      )\r\n    ) {\r\n      return null;\r\n    }\r\n    return chartId;\r\n  }\r\n\r\n  return null;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { t } from '@superset-ui/core';\r\nimport { SMALL_HEADER, MEDIUM_HEADER, LARGE_HEADER } from './constants';\r\n\r\nexport default [\r\n  {\r\n    value: SMALL_HEADER,\r\n    label: t('Small'),\r\n    className: 'header-style-option header-small',\r\n  },\r\n  {\r\n    value: MEDIUM_HEADER,\r\n    label: t('Medium'),\r\n    className: 'header-style-option header-medium',\r\n  },\r\n  {\r\n    value: LARGE_HEADER,\r\n    label: t('Large'),\r\n    className: 'header-style-option header-large',\r\n  },\r\n];\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { CHART_TYPE, MARKDOWN_TYPE } from './componentTypes';\r\n\r\nconst USER_CONTENT_COMPONENT_TYPE: string[] = [CHART_TYPE, MARKDOWN_TYPE];\r\nexport default function isDashboardEmpty(layout: any): boolean {\r\n  // has at least one chart or markdown component\r\n  return !Object.values(layout).some(\r\n    ({ type }: { type?: string }) =>\r\n      type && USER_CONTENT_COMPONENT_TYPE.includes(type),\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nexport default function isDashboardLoading(charts) {\r\n  return Object.values(charts).some(\r\n    chart => chart.chartUpdateStartTime > (chart.chartUpdateEndTime || 0),\r\n  );\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n/* eslint max-len: 0 */\r\n/**\r\n * When determining if a component is a valid child of another component we must consider both\r\n *   - parent + child component types\r\n *   - component depth, or depth of nesting of container components\r\n *\r\n * We consider types because some components aren't containers (e.g. a heading) and we consider\r\n * depth to prevent infinite nesting of container components.\r\n *\r\n * The following example container nestings should be valid, which means that some containers\r\n * don't increase the (depth) of their children, namely tabs and tab:\r\n *   (a) root (0) > grid (1) >                         row (2) > column (3) > row (4) > non-container (5)\r\n *   (b) root (0) > grid (1) >    tabs (2) > tab (2) > row (2) > column (3) > row (4) > non-container (5)\r\n *   (c) root (0) > top-tab (1) >                      row (2) > column (3) > row (4) > non-container (5)\r\n *   (d) root (0) > top-tab (1) > tabs (2) > tab (2) > row (2) > column (3) > row (4) > non-container (5)\r\n */\r\nimport {\r\n  CHART_TYPE,\r\n  COLUMN_TYPE,\r\n  DASHBOARD_GRID_TYPE,\r\n  DASHBOARD_ROOT_TYPE,\r\n  DIVIDER_TYPE,\r\n  HEADER_TYPE,\r\n  MARKDOWN_TYPE,\r\n  ROW_TYPE,\r\n  TABS_TYPE,\r\n  TAB_TYPE,\r\n} from './componentTypes';\r\n\r\nimport { DASHBOARD_ROOT_DEPTH as rootDepth } from './constants';\r\n\r\nconst depthOne = rootDepth + 1;\r\nconst depthTwo = rootDepth + 2;\r\nconst depthThree = rootDepth + 3;\r\nconst depthFour = rootDepth + 4;\r\nconst depthFive = rootDepth + 5;\r\n\r\n// when moving components around the depth of child is irrelevant, note these are parent depths\r\nconst parentMaxDepthLookup = {\r\n  [DASHBOARD_ROOT_TYPE]: {\r\n    [TABS_TYPE]: rootDepth,\r\n    [DASHBOARD_GRID_TYPE]: rootDepth,\r\n  },\r\n\r\n  [DASHBOARD_GRID_TYPE]: {\r\n    [CHART_TYPE]: depthOne,\r\n    [MARKDOWN_TYPE]: depthOne,\r\n    [COLUMN_TYPE]: depthOne,\r\n    [DIVIDER_TYPE]: depthOne,\r\n    [HEADER_TYPE]: depthOne,\r\n    [ROW_TYPE]: depthOne,\r\n    [TABS_TYPE]: depthOne,\r\n  },\r\n\r\n  [ROW_TYPE]: {\r\n    [CHART_TYPE]: depthFour,\r\n    [MARKDOWN_TYPE]: depthFour,\r\n    [COLUMN_TYPE]: depthFour,\r\n  },\r\n\r\n  [TABS_TYPE]: {\r\n    [TAB_TYPE]: depthTwo,\r\n  },\r\n\r\n  [TAB_TYPE]: {\r\n    [CHART_TYPE]: depthTwo,\r\n    [MARKDOWN_TYPE]: depthTwo,\r\n    [COLUMN_TYPE]: depthTwo,\r\n    [DIVIDER_TYPE]: depthTwo,\r\n    [HEADER_TYPE]: depthTwo,\r\n    [ROW_TYPE]: depthTwo,\r\n    [TABS_TYPE]: depthTwo,\r\n  },\r\n\r\n  [COLUMN_TYPE]: {\r\n    [CHART_TYPE]: depthFive,\r\n    [HEADER_TYPE]: depthFive,\r\n    [MARKDOWN_TYPE]: depthFive,\r\n    [ROW_TYPE]: depthThree,\r\n    [DIVIDER_TYPE]: depthThree,\r\n  },\r\n\r\n  // these have no valid children\r\n  [CHART_TYPE]: {},\r\n  [DIVIDER_TYPE]: {},\r\n  [HEADER_TYPE]: {},\r\n  [MARKDOWN_TYPE]: {},\r\n};\r\n\r\ninterface IsValidChildProps {\r\n  parentType?: string;\r\n  childType?: string;\r\n  parentDepth?: unknown;\r\n}\r\n\r\nexport default function isValidChild(child: IsValidChildProps): boolean {\r\n  const { parentType, childType, parentDepth } = child;\r\n  if (!parentType || !childType || typeof parentDepth !== 'number') {\r\n    return false;\r\n  }\r\n\r\n  const maxParentDepth: number | undefined = (parentMaxDepthLookup[\r\n    parentType\r\n  ] || {})[childType];\r\n\r\n  return typeof maxParentDepth === 'number' && parentDepth <= maxParentDepth;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport PropTypes from 'prop-types';\r\nimport componentTypes from './componentTypes';\r\nimport backgroundStyleOptions from './backgroundStyleOptions';\r\nimport headerStyleOptions from './headerStyleOptions';\r\n\r\nexport const componentShape = PropTypes.shape({\r\n  id: PropTypes.string.isRequired,\r\n  type: PropTypes.oneOf(Object.values(componentTypes)).isRequired,\r\n  parents: PropTypes.arrayOf(PropTypes.string),\r\n  children: PropTypes.arrayOf(PropTypes.string),\r\n  meta: PropTypes.shape({\r\n    // Dimensions\r\n    width: PropTypes.number,\r\n    height: PropTypes.number,\r\n\r\n    // Header\r\n    headerSize: PropTypes.oneOf(headerStyleOptions.map(opt => opt.value)),\r\n\r\n    // Row\r\n    background: PropTypes.oneOf(backgroundStyleOptions.map(opt => opt.value)),\r\n\r\n    // Chart\r\n    chartId: PropTypes.number,\r\n  }),\r\n});\r\n\r\nexport const chartPropShape = PropTypes.shape({\r\n  id: PropTypes.number.isRequired,\r\n  chartAlert: PropTypes.string,\r\n  chartStatus: PropTypes.string,\r\n  chartUpdateEndTime: PropTypes.number,\r\n  chartUpdateStartTime: PropTypes.number,\r\n  latestQueryFormData: PropTypes.object,\r\n  queryController: PropTypes.shape({ abort: PropTypes.func }),\r\n  queriesResponse: PropTypes.arrayOf(PropTypes.object),\r\n  triggerQuery: PropTypes.bool,\r\n  lastRendered: PropTypes.number,\r\n});\r\n\r\nexport const slicePropShape = PropTypes.shape({\r\n  slice_id: PropTypes.number.isRequired,\r\n  slice_url: PropTypes.string.isRequired,\r\n  slice_name: PropTypes.string.isRequired,\r\n  datasource: PropTypes.string,\r\n  datasource_name: PropTypes.string,\r\n  datasource_link: PropTypes.string,\r\n  changed_on: PropTypes.number.isRequired,\r\n  modified: PropTypes.string.isRequired,\r\n  viz_type: PropTypes.string.isRequired,\r\n  description: PropTypes.string,\r\n  description_markeddown: PropTypes.string,\r\n  owners: PropTypes.arrayOf(PropTypes.string),\r\n});\r\n\r\nexport const dashboardFilterPropShape = PropTypes.shape({\r\n  chartId: PropTypes.number.isRequired,\r\n  componentId: PropTypes.string.isRequired,\r\n  filterName: PropTypes.string.isRequired,\r\n  datasourceId: PropTypes.string.isRequired,\r\n  directPathToFilter: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  isDateFilter: PropTypes.bool.isRequired,\r\n  isInstantFilter: PropTypes.bool.isRequired,\r\n  columns: PropTypes.object,\r\n  labels: PropTypes.object,\r\n  scopes: PropTypes.object,\r\n});\r\n\r\nexport const dashboardStatePropShape = PropTypes.shape({\r\n  sliceIds: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n  expandedSlices: PropTypes.object,\r\n  editMode: PropTypes.bool,\r\n  isPublished: PropTypes.bool.isRequired,\r\n  colorNamespace: PropTypes.string,\r\n  colorScheme: PropTypes.string,\r\n  updatedColorScheme: PropTypes.bool,\r\n  hasUnsavedChanges: PropTypes.bool,\r\n});\r\n\r\nexport const dashboardInfoPropShape = PropTypes.shape({\r\n  id: PropTypes.number.isRequired,\r\n  metadata: PropTypes.object,\r\n  slug: PropTypes.string,\r\n  dash_edit_perm: PropTypes.bool.isRequired,\r\n  dash_save_perm: PropTypes.bool.isRequired,\r\n  common: PropTypes.object,\r\n  userId: PropTypes.string.isRequired,\r\n});\r\n\r\n/* eslint-disable-next-line  no-undef */\r\nconst lazyFunction = f => () => f().apply(this, arguments);\r\n\r\nconst leafType = PropTypes.shape({\r\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n  label: PropTypes.string.isRequired,\r\n});\r\n\r\nconst parentShape = {\r\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  children: PropTypes.arrayOf(\r\n    PropTypes.oneOfType([\r\n      PropTypes.shape(lazyFunction(() => parentShape)),\r\n      leafType,\r\n    ]),\r\n  ),\r\n};\r\n\r\nexport const filterScopeSelectorTreeNodePropShape = PropTypes.oneOfType([\r\n  PropTypes.shape(parentShape),\r\n  leafType,\r\n]);\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n// config for a ResizableContainer\r\nconst adjustableWidthAndHeight = {\r\n  top: false,\r\n  right: false,\r\n  bottom: false,\r\n  left: false,\r\n  topRight: false,\r\n  bottomRight: true,\r\n  bottomLeft: false,\r\n  topLeft: false,\r\n};\r\n\r\nconst adjustableWidth = {\r\n  ...adjustableWidthAndHeight,\r\n  right: true,\r\n  bottomRight: false,\r\n};\r\n\r\nconst adjustableHeight = {\r\n  ...adjustableWidthAndHeight,\r\n  bottom: true,\r\n  bottomRight: false,\r\n};\r\n\r\nconst notAdjustable = {\r\n  ...adjustableWidthAndHeight,\r\n  bottomRight: false,\r\n};\r\n\r\nexport default {\r\n  widthAndHeight: adjustableWidthAndHeight,\r\n  widthOnly: adjustableWidth,\r\n  heightOnly: adjustableHeight,\r\n  notAdjustable,\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nconst stopPeriodicRender = (refreshTimer?: number) => {\r\n  if (refreshTimer) {\r\n    clearInterval(refreshTimer);\r\n  }\r\n};\r\n\r\ninterface SetPeriodicRunnerProps {\r\n  interval?: number;\r\n  periodicRender: TimerHandler;\r\n  refreshTimer?: number;\r\n}\r\n\r\nexport default function setPeriodicRunner({\r\n  interval = 0,\r\n  periodicRender,\r\n  refreshTimer,\r\n}: SetPeriodicRunnerProps) {\r\n  stopPeriodicRender(refreshTimer);\r\n\r\n  if (interval > 0) {\r\n    return setInterval(periodicRender, interval);\r\n  }\r\n  return 0;\r\n}\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { DataMask } from '@superset-ui/core';\r\n\r\nexport enum DataMaskType {\r\n  NativeFilters = 'nativeFilters',\r\n  CrossFilters = 'crossFilters',\r\n}\r\n\r\nexport type DataMaskState = { [id: string]: DataMask };\r\n\r\nexport type DataMaskWithId = { id: string } & DataMask;\r\nexport type DataMaskStateWithId = { [filterId: string]: DataMaskWithId };\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useMemo } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport { Column } from 'react-table';\r\nimport debounce from 'lodash/debounce';\r\nimport { Input } from 'src/common/components';\r\nimport {\r\n  BOOL_FALSE_DISPLAY,\r\n  BOOL_TRUE_DISPLAY,\r\n  SLOW_DEBOUNCE,\r\n} from 'src/constants';\r\nimport Button from 'src/components/Button';\r\nimport {\r\n  applyFormattingToTabularData,\r\n  prepareCopyToClipboardTabularData,\r\n} from 'src/utils/common';\r\nimport CopyToClipboard from 'src/components/CopyToClipboard';\r\nimport RowCountLabel from 'src/explore/components/RowCountLabel';\r\n\r\nexport const CopyButton = styled(Button)`\r\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\r\n\r\n  // needed to override button's first-of-type margin: 0\r\n  && {\r\n    margin: 0 ${({ theme }) => theme.gridUnit * 2}px;\r\n  }\r\n\r\n  i {\r\n    padding: 0 ${({ theme }) => theme.gridUnit}px;\r\n  }\r\n`;\r\n\r\nconst CopyNode = (\r\n  <CopyButton buttonSize=\"xsmall\">\r\n    <i className=\"fa fa-clipboard\" />\r\n  </CopyButton>\r\n);\r\n\r\nexport const CopyToClipboardButton = ({\r\n  data,\r\n}: {\r\n  data?: Record<string, any>;\r\n}) => (\r\n  <CopyToClipboard\r\n    text={data ? prepareCopyToClipboardTabularData(data) : ''}\r\n    wrapped={false}\r\n    copyNode={CopyNode}\r\n  />\r\n);\r\n\r\nexport const FilterInput = ({\r\n  onChangeHandler,\r\n}: {\r\n  onChangeHandler(filterText: string): void;\r\n}) => {\r\n  const debouncedChangeHandler = debounce(onChangeHandler, SLOW_DEBOUNCE);\r\n  return (\r\n    <Input\r\n      placeholder={t('Search')}\r\n      onChange={(event: any) => {\r\n        const filterText = event.target.value;\r\n        debouncedChangeHandler(filterText);\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const RowCount = ({\r\n  data,\r\n  loading,\r\n}: {\r\n  data?: Record<string, any>[];\r\n  loading: boolean;\r\n}) => (\r\n  <RowCountLabel\r\n    rowcount={data?.length ?? 0}\r\n    loading={loading}\r\n    suffix={t('rows retrieved')}\r\n  />\r\n);\r\n\r\nexport const useFilteredTableData = (\r\n  filterText: string,\r\n  data?: Record<string, any>[],\r\n) =>\r\n  useMemo(() => {\r\n    if (!data?.length) {\r\n      return [];\r\n    }\r\n    const formattedData = applyFormattingToTabularData(data);\r\n    return formattedData.filter((row: Record<string, any>) =>\r\n      Object.values(row).some(value =>\r\n        value?.toString().toLowerCase().includes(filterText.toLowerCase()),\r\n      ),\r\n    );\r\n  }, [data, filterText]);\r\n\r\nexport const useTableColumns = (\r\n  data?: Record<string, any>[],\r\n  moreConfigs?: { [key: string]: Partial<Column> },\r\n) =>\r\n  useMemo(\r\n    () =>\r\n      data?.length\r\n        ? Object.keys(data[0]).map(\r\n            key =>\r\n              ({\r\n                accessor: key,\r\n                Header: key,\r\n                Cell: ({ value }) => {\r\n                  if (value === true) {\r\n                    return BOOL_TRUE_DISPLAY;\r\n                  }\r\n                  if (value === false) {\r\n                    return BOOL_FALSE_DISPLAY;\r\n                  }\r\n                  return String(value);\r\n                },\r\n                ...moreConfigs?.[key],\r\n              } as Column),\r\n          )\r\n        : [],\r\n    [data, moreConfigs],\r\n  );\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { getNumberFormatter, t } from '@superset-ui/core';\r\n\r\nimport Label from 'src/components/Label';\r\nimport { Tooltip } from 'src/components/Tooltip';\r\n\r\nconst propTypes = {\r\n  rowcount: PropTypes.number,\r\n  limit: PropTypes.number,\r\n  rows: PropTypes.string,\r\n  suffix: PropTypes.string,\r\n  loading: PropTypes.bool,\r\n};\r\n\r\nconst defaultProps = {\r\n  suffix: t('rows'),\r\n};\r\n\r\nexport default function RowCountLabel({ rowcount, limit, suffix, loading }) {\r\n  const limitReached = rowcount === limit;\r\n  const type =\r\n    limitReached || (rowcount === 0 && !loading) ? 'danger' : 'default';\r\n  const formattedRowCount = getNumberFormatter()(rowcount);\r\n  const tooltip = (\r\n    <span>\r\n      {limitReached && <div>{t('Limit reached')}</div>}\r\n      {loading ? 'Loading' : rowcount}\r\n    </span>\r\n  );\r\n  return (\r\n    <Tooltip id=\"tt-rowcount-tooltip\" title={tooltip}>\r\n      <Label type={type} data-test=\"row-count-label\">\r\n        {loading ? 'Loading...' : `${formattedRowCount} ${suffix}`}\r\n      </Label>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nRowCountLabel.propTypes = propTypes;\r\nRowCountLabel.defaultProps = defaultProps;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { styled, t } from '@superset-ui/core';\r\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\r\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\r\nimport CopyToClipboard from 'src/components/CopyToClipboard';\r\nimport Loading from 'src/components/Loading';\r\nimport { CopyButton } from 'src/explore/components/DataTableControl';\r\nimport { getClientErrorObject } from 'src/utils/getClientErrorObject';\r\nimport { getChartDataRequest } from 'src/chart/chartAction';\r\nimport markdownSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/markdown';\r\nimport htmlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars';\r\nimport sqlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\r\nimport jsonSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/json';\r\n\r\nconst CopyButtonViewQuery = styled(CopyButton)`\r\n  && {\r\n    margin: 0 0 ${({ theme }) => theme.gridUnit}px;\r\n  }\r\n`;\r\n\r\nSyntaxHighlighter.registerLanguage('markdown', markdownSyntax);\r\nSyntaxHighlighter.registerLanguage('html', htmlSyntax);\r\nSyntaxHighlighter.registerLanguage('sql', sqlSyntax);\r\nSyntaxHighlighter.registerLanguage('json', jsonSyntax);\r\n\r\ninterface Props {\r\n  latestQueryFormData: object;\r\n}\r\n\r\nconst ViewQueryModal: React.FC<Props> = props => {\r\n  const [language, setLanguage] = useState(null);\r\n  const [query, setQuery] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const loadChartData = (resultType: string) => {\r\n    setIsLoading(true);\r\n    getChartDataRequest({\r\n      formData: props.latestQueryFormData,\r\n      resultFormat: 'json',\r\n      resultType,\r\n    })\r\n      .then(response => {\r\n        // Only displaying the first query is currently supported\r\n        const result = response.result[0];\r\n        setLanguage(result.language);\r\n        setQuery(result.query);\r\n        setIsLoading(false);\r\n        setError(null);\r\n      })\r\n      .catch(response => {\r\n        getClientErrorObject(response).then(({ error, message }) => {\r\n          setError(\r\n            error ||\r\n              message ||\r\n              response.statusText ||\r\n              t('Sorry, An error occurred'),\r\n          );\r\n          setIsLoading(false);\r\n        });\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    loadChartData('query');\r\n  }, [props.latestQueryFormData]);\r\n\r\n  if (isLoading) {\r\n    return <Loading />;\r\n  }\r\n  if (error) {\r\n    return <pre>{error}</pre>;\r\n  }\r\n  if (query) {\r\n    return (\r\n      <div>\r\n        <CopyToClipboard\r\n          text={query}\r\n          shouldShowText={false}\r\n          copyNode={\r\n            <CopyButtonViewQuery buttonSize=\"xsmall\">\r\n              <i className=\"fa fa-clipboard\" />\r\n            </CopyButtonViewQuery>\r\n          }\r\n        />\r\n        <SyntaxHighlighter language={language || undefined} style={github}>\r\n          {query}\r\n        </SyntaxHighlighter>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default ViewQueryModal;\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\n\r\nexport const cacheWrapper = <T extends Array<any>, U>(\r\n  fn: (...args: T) => U,\r\n  cache: Map<string, any>,\r\n  keyFn: (...args: T) => string = (...args: T) => JSON.stringify([...args]),\r\n) => (...args: T): U => {\r\n  const key = keyFn(...args);\r\n  if (cache.has(key)) {\r\n    return cache.get(key);\r\n  }\r\n  const result = fn(...args);\r\n  cache.set(key, result);\r\n  return result;\r\n};\r\n","/**\r\n * Licensed to the Apache Software Foundation (ASF) under one\r\n * or more contributor license agreements.  See the NOTICE file\r\n * distributed with this work for additional information\r\n * regarding copyright ownership.  The ASF licenses this file\r\n * to you under the Apache License, Version 2.0 (the\r\n * \"License\"); you may not use this file except in compliance\r\n * with the License.  You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing,\r\n * software distributed under the License is distributed on an\r\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n * KIND, either express or implied.  See the License for the\r\n * specific language governing permissions and limitations\r\n * under the License.\r\n */\r\nimport { SyntheticEvent } from 'react';\r\nimport domToImage, { Options } from 'dom-to-image';\r\nimport kebabCase from 'lodash/kebabCase';\r\nimport { t } from '@superset-ui/core';\r\nimport { addWarningToast } from 'src/messageToasts/actions';\r\n\r\n/**\r\n * @remark\r\n * same as https://github.com/apache/superset/blob/c53bc4ddf9808a8bb6916bbe3cb31935d33a2420/superset-frontend/stylesheets/less/variables.less#L34\r\n */\r\nconst GRAY_BACKGROUND_COLOR = '#F5F5F5';\r\n\r\n/**\r\n * generate a consistent file stem from a description and date\r\n *\r\n * @param description title or description of content of file\r\n * @param date date when file was generated\r\n */\r\nconst generateFileStem = (description: string, date = new Date()) =>\r\n  `${kebabCase(description)}-${date.toISOString().replace(/[: ]/g, '-')}`;\r\n\r\n/**\r\n * Create an event handler for turning an element into an image\r\n *\r\n * @param selector css selector of the parent element which should be turned into image\r\n * @param description name or a short description of what is being printed.\r\n *   Value will be normalized, and a date as well as a file extension will be added.\r\n * @param domToImageOptions dom-to-image Options object.\r\n * @param isExactSelector if false, searches for the closest ancestor that matches selector.\r\n * @returns event handler\r\n */\r\nexport default function downloadAsImage(\r\n  selector: string,\r\n  description: string,\r\n  domToImageOptions: Options = {},\r\n  isExactSelector = false,\r\n) {\r\n  return (event: SyntheticEvent) => {\r\n    const elementToPrint = isExactSelector\r\n      ? document.querySelector(selector)\r\n      : event.currentTarget.closest(selector);\r\n\r\n    if (!elementToPrint) {\r\n      return addWarningToast(\r\n        t('Image download failed, please refresh and try again.'),\r\n      );\r\n    }\r\n\r\n    return domToImage\r\n      .toJpeg(elementToPrint, {\r\n        quality: 0.95,\r\n        bgcolor: GRAY_BACKGROUND_COLOR,\r\n        // Mapbox controls are loaded from different origin, causing CORS error\r\n        // See https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toDataURL#exceptions\r\n        filter: (node: Element) =>\r\n          node.className !== 'mapboxgl-control-container',\r\n        ...domToImageOptions,\r\n      })\r\n      .then(dataUrl => {\r\n        const link = document.createElement('a');\r\n        link.download = `${generateFileStem(description)}.jpg`;\r\n        link.href = dataUrl;\r\n        link.click();\r\n      })\r\n      .catch(e => {\r\n        console.error('Creating image failed', e);\r\n      });\r\n  };\r\n}\r\n"],"sourceRoot":""}