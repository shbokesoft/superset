(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[32],{

/***/ "./node_modules/css-loader/index.js?!./node_modules/less-loader/dist/cjs.js?!./src/CRUD/crud.less":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/css-loader??ref--8-1!./node_modules/less-loader/dist/cjs.js??ref--8-2!./src/CRUD/crud.less ***!
  \*****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(true);
// imports


// module
exports.push([module.i, "/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/************************************************************************/\n/* COLORS                                                               */\n/* Please attempt to use and standardize on these colors,               */\n/* rather than including specific color values in                       */\n/* component styles. This will allow us to more easily adjust theming   */\n/************************************************************************/\n/**************************** text-specific *****************************/\n/***************************** status colors ****************************/\n/* general component effects */\n/************************************************************************/\n/* OPACITIES                                                            */\n/* Used in LESS filters, e.g. fade(@someColorVar, @someOpacityBelow)    */\n/************************************************************************/\n/************************************************************************/\n/* SHADES & TINTS                                                       */\n/* Used in LESS filters for shadint/tinting,                            */\n/* e.g. shade(@someColorVar, @colorstop-one) to darken                  */\n/* or tint(@someColorVar, @colorstop-one) to lighten                    */\n/************************************************************************/\n/************************************************************************/\n/* LAYOUT                                                               */\n/* Widths and heights of things, that might be referred to often        */\n/************************************************************************/\n/* builder component pane */\n/************************************************************************/\n/* Z-INDEX                                                              */\n/* Think of the site as \"layers\" rather than an arms race of numbers    */\n/* Keep these to a minimum                                              */\n/* Label semantic \"layers\" and add comments for usage notes             */\n/* Use double dash modifiers to step up/down from a base layer          */\n/* e.g. z-whatever--modifier                                            */\n/************************************************************************/\n/************************ toast messages, popovers **********************/\n/***** filters, dashboard editor widgets, Explore reloading overlay *****/\n/******************************** charts ********************************/\n/************************************************************************/\n/* TYPOGRAPHY                                                           */\n/* Commonly used font weights, line heights, etc. These should be the   */\n/* core values used to build more complex styles for headers, etc.      */\n/************************************************************************/\n/************************************************************************/\n/* TRANSITIONS                                                          */\n/* Timing and easings presets used in CSS transitions                   */\n/************************************************************************/\n/************************************************************************/\n/* BORDER RADII                                                         */\n/* Standard border-radius settings                                      */\n/************************************************************************/\n/************************************************************************/\n/* BOOTSTRAP/BOOTSWATCH/COSMO                                           */\n/* These are the legacy Cosmo theme overrides to Bootswatch's           */\n/* overrides to Bootstrap. We should consolidate/deprecate these        */\n/* in favor of custom/reusable CSS wherever possible                    */\n/************************************************************************/\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.CRUD .text-right {\n  text-align: right;\n}\n.CRUD .empty-collection {\n  padding: 10px;\n}\n.CRUD .control-label {\n  font-weight: 700;\n}\n.CRUD .tiny-cell {\n  width: 5px;\n}\n.CRUD i.fa-caret-down,\n.CRUD i.fa-caret-up {\n  width: 5px;\n}\n.CRUD td.expanded {\n  border-top: 0;\n  padding: 0;\n}\n.CRUD .frame {\n  border: 1px solid #a3a3a3;\n  border-radius: 4px;\n  padding: 10;\n  background: #f7f7f7;\n}\n", "", {"version":3,"sources":["G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/CRUD/crud.less","G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/CRUD/G:/workspace/boke-pro/superset-all/superset/superset-frontend/src/CRUD/crud.less"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;GAiBG;AACH;;;;;;;;;;;;;;;;;GAiBG;AACH,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,+BAA+B;AAC/B,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,4BAA4B;AAC5B,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E,0EAA0E;AAC1E;;;;;;;;;;;;;;;;;GAiBG;ACvFH;EAEI,kBAAA;CDwFH;AC1FD;EAMI,cAAA;CDuFH;AC7FD;EAUI,iBAAA;CDsFH;AChGD;EAcI,WAAA;CDqFH;ACnGD;;EAmBI,WAAA;CDoFH;ACvGD;EAuBI,cAAA;EACA,WAAA;CDmFH;AC3GD;EA4BI,0BAAA;EACA,mBAAA;EACA,YAAA;EACA,oBAAA;CDkFH","file":"crud.less","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/************************************************************************/\n/* COLORS                                                               */\n/* Please attempt to use and standardize on these colors,               */\n/* rather than including specific color values in                       */\n/* component styles. This will allow us to more easily adjust theming   */\n/************************************************************************/\n/**************************** text-specific *****************************/\n/***************************** status colors ****************************/\n/* general component effects */\n/************************************************************************/\n/* OPACITIES                                                            */\n/* Used in LESS filters, e.g. fade(@someColorVar, @someOpacityBelow)    */\n/************************************************************************/\n/************************************************************************/\n/* SHADES & TINTS                                                       */\n/* Used in LESS filters for shadint/tinting,                            */\n/* e.g. shade(@someColorVar, @colorstop-one) to darken                  */\n/* or tint(@someColorVar, @colorstop-one) to lighten                    */\n/************************************************************************/\n/************************************************************************/\n/* LAYOUT                                                               */\n/* Widths and heights of things, that might be referred to often        */\n/************************************************************************/\n/* builder component pane */\n/************************************************************************/\n/* Z-INDEX                                                              */\n/* Think of the site as \"layers\" rather than an arms race of numbers    */\n/* Keep these to a minimum                                              */\n/* Label semantic \"layers\" and add comments for usage notes             */\n/* Use double dash modifiers to step up/down from a base layer          */\n/* e.g. z-whatever--modifier                                            */\n/************************************************************************/\n/************************ toast messages, popovers **********************/\n/***** filters, dashboard editor widgets, Explore reloading overlay *****/\n/******************************** charts ********************************/\n/************************************************************************/\n/* TYPOGRAPHY                                                           */\n/* Commonly used font weights, line heights, etc. These should be the   */\n/* core values used to build more complex styles for headers, etc.      */\n/************************************************************************/\n/************************************************************************/\n/* TRANSITIONS                                                          */\n/* Timing and easings presets used in CSS transitions                   */\n/************************************************************************/\n/************************************************************************/\n/* BORDER RADII                                                         */\n/* Standard border-radius settings                                      */\n/************************************************************************/\n/************************************************************************/\n/* BOOTSTRAP/BOOTSWATCH/COSMO                                           */\n/* These are the legacy Cosmo theme overrides to Bootswatch's           */\n/* overrides to Bootstrap. We should consolidate/deprecate these        */\n/* in favor of custom/reusable CSS wherever possible                    */\n/************************************************************************/\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.CRUD .text-right {\n  text-align: right;\n}\n.CRUD .empty-collection {\n  padding: 10px;\n}\n.CRUD .control-label {\n  font-weight: 700;\n}\n.CRUD .tiny-cell {\n  width: 5px;\n}\n.CRUD i.fa-caret-down,\n.CRUD i.fa-caret-up {\n  width: 5px;\n}\n.CRUD td.expanded {\n  border-top: 0;\n  padding: 0;\n}\n.CRUD .frame {\n  border: 1px solid #a3a3a3;\n  border-radius: 4px;\n  padding: 10;\n  background: #f7f7f7;\n}\n","/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n@import '../../stylesheets/less/variables.less';\n\n.CRUD {\n  .text-right {\n    text-align: right;\n  }\n\n  .empty-collection {\n    padding: 10px;\n  }\n\n  .control-label {\n    font-weight: @font-weight-bold;\n  }\n\n  .tiny-cell {\n    width: 5px;\n  }\n\n  i.fa-caret-down,\n  i.fa-caret-up {\n    width: 5px;\n  }\n\n  td.expanded {\n    border-top: 0;\n    padding: 0;\n  }\n\n  .frame {\n    border: 1px solid @gray-heading;\n    border-radius: @border-radius-large;\n    padding: 10;\n    background: @gray-bg;\n  }\n}\n"],"sourceRoot":""}]);

// exports


/***/ }),

/***/ "./src/CRUD/CollectionTable.tsx":
/*!**************************************!*\
  !*** ./src/CRUD/CollectionTable.tsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CRUDCollection; });
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/object/keys */ "./node_modules/@babel/runtime-corejs3/core-js-stable/object/keys.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/starts-with */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/starts-with.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/bind */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/bind.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var shortid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! shortid */ "./node_modules/shortid/index.js");
/* harmony import */ var shortid__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(shortid__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/style/index.js");
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/translation/TranslatorSingleton.js");
/* harmony import */ var src_components_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/components/Button */ "./src/components/Button/index.tsx");
/* harmony import */ var src_components_Icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/components/Icons */ "./src/components/Icons/index.tsx");
/* harmony import */ var _Fieldset__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Fieldset */ "./src/CRUD/Fieldset.jsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils */ "./src/CRUD/utils.js");
/* harmony import */ var _crud_less__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./crud.less */ "./src/CRUD/crud.less");
/* harmony import */ var _crud_less__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_crud_less__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */








function createKeyedCollection(arr) {
  const newArr = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(arr).call(arr, o => ({
    ...o,
    id: o.id || shortid__WEBPACK_IMPORTED_MODULE_7___default.a.generate() }));

  const map = {};
  _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_4___default()(newArr).call(newArr, o => {
    map[o.id] = o;
  });
  return map;
}
const CrudTableWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_8__["styled"].div`
  ${({ stickyHeader }) => stickyHeader &&
`
      height: 350px;
      overflow: auto;

      thead th {
        background: #fff;
        position: sticky;
        top: 0;
        z-index: 9;
      }
    `}
`;
const CrudButtonWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_8__["styled"].div`
  text-align: right;
  ${({ theme }) => `margin-bottom: ${theme.gridUnit * 2}px`}
`;
class CRUDCollection extends react__WEBPACK_IMPORTED_MODULE_6___default.a.PureComponent {
  constructor(props) {var _context, _context2, _context3, _context4, _context5, _context6, _context7;
    super(props);
    this.state = {
      expandedColumns: {},
      collection: createKeyedCollection(props.collection) };

    this.renderItem = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default()(_context = this.renderItem).call(_context, this);
    this.onAddItem = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default()(_context2 = this.onAddItem).call(_context2, this);
    this.renderExpandableSection = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default()(_context3 = this.renderExpandableSection).call(_context3, this);
    this.getLabel = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default()(_context4 = this.getLabel).call(_context4, this);
    this.onFieldsetChange = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default()(_context5 = this.onFieldsetChange).call(_context5, this);
    this.renderTableBody = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default()(_context6 = this.renderTableBody).call(_context6, this);
    this.changeCollection = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default()(_context7 = this.changeCollection).call(_context7, this);
  }
  UNSAFE_componentWillReceiveProps(nextProps) {
    if (nextProps.collection !== this.props.collection) {
      this.setState({
        collection: createKeyedCollection(nextProps.collection) });

    }
  }
  onCellChange(id, col, val) {
    this.changeCollection({
      ...this.state.collection,
      [id]: {
        ...this.state.collection[id],
        [col]: val } });


  }
  onAddItem() {
    if (this.props.itemGenerator) {
      let newItem = this.props.itemGenerator();
      if (!newItem.id) {
        newItem = { ...newItem, id: shortid__WEBPACK_IMPORTED_MODULE_7___default.a.generate() };
      }
      this.changeCollection({
        ...this.state.collection,
        [newItem.id]: newItem });

    }
  }
  onFieldsetChange(item) {
    this.changeCollection({
      ...this.state.collection,
      [item.id]: item });

  }
  getLabel(col) {
    const { columnLabels } = this.props;
    let label = columnLabels && columnLabels[col] ? columnLabels[col] : col;
    if (_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_2___default()(label).call(label, '__')) {
      // special label-free columns (ie: caret for expand, delete cross)
      label = '';
    }
    return label;
  }
  changeCollection(collection) {
    this.setState({ collection });
    if (this.props.onChange) {var _context8;
      this.props.onChange(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(_context8 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1___default()(collection)).call(_context8, k => collection[k]));
    }
  }
  deleteItem(id) {
    const newColl = { ...this.state.collection };
    delete newColl[id];
    this.changeCollection(newColl);
  }
  effectiveTableColumns() {var _context9;
    const { tableColumns, allowDeletes, expandFieldset } = this.props;
    const cols = allowDeletes ?
    _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(tableColumns).call(tableColumns, ['__actions']) :
    tableColumns;
    return expandFieldset ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context9 = ['__expand']).call(_context9, cols) : cols;
  }
  toggleExpand(id) {
    this.onCellChange(id, '__expanded', false);
    this.setState(prevState => ({
      expandedColumns: {
        ...prevState.expandedColumns,
        [id]: !prevState.expandedColumns[id] } }));


  }
  renderHeaderRow() {
    const cols = this.effectiveTableColumns();
    const { allowDeletes, expandFieldset, extraButtons } = this.props;
    return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("thead", null,
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("tr", null,
    expandFieldset && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("th", { "aria-label": "Expand", className: "tiny-cell" }),
    _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(cols).call(cols, col => Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("th", { key: col }, this.getLabel(col))),
    extraButtons,
    allowDeletes && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("th", { key: "delete-item", "aria-label": "Delete", className: "tiny-cell" })));


  }
  renderExpandableSection(item) {
    const propsGenerator = () => ({ item, onChange: this.onFieldsetChange });
    return Object(_utils__WEBPACK_IMPORTED_MODULE_13__["recurseReactClone"])(this.props.expandFieldset, _Fieldset__WEBPACK_IMPORTED_MODULE_12__["default"], propsGenerator);
  }
  renderCell(record, col) {var _context10;
    const renderer = this.props.itemRenderers && this.props.itemRenderers[col];
    const val = record[col];
    const onChange = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default()(_context10 = this.onCellChange).call(_context10, this, record.id, col);
    return renderer ? renderer(val, onChange, this.getLabel(col), record) : val;
  }
  renderItem(record) {
    const { allowAddItem, allowDeletes, expandFieldset, tableColumns } = this.props;
    /* eslint-disable no-underscore-dangle */
    const isExpanded = !!this.state.expandedColumns[record.id] || record.__expanded;
    let tds = [];
    if (expandFieldset) {var _context11;
      tds.push(Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("td", { key: "__expand", className: "expand" },
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("i", { role: "button", "aria-label": "Toggle expand", tabIndex: 0, className: `fa fa-caret-${isExpanded ? 'down' : 'right'} text-primary pointer`, onClick: _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default()(_context11 = this.toggleExpand).call(_context11, this, record.id) })));

    }
    tds = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(tds).call(tds, _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(tableColumns).call(tableColumns, col => Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("td", { key: col }, this.renderCell(record, col))));
    if (allowAddItem) {
      tds.push(Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("td", { key: "add" }));
    }
    if (allowDeletes) {var _context12;
      tds.push(Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("td", { key: "__actions", "data-test": "crud-delete-option", className: "text-primary" },
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])(src_components_Icons__WEBPACK_IMPORTED_MODULE_11__["default"].Trash, { "aria-label": "Delete item", className: "pointer", "data-test": "crud-delete-icon", iconSize: "m", role: "button", tabIndex: 0, onClick: _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_3___default()(_context12 = this.deleteItem).call(_context12, this, record.id) })));

    }
    const trs = [
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("tr", { 'data-test': 'table-row', className: "row", key: record.id },
    tds)];


    if (isExpanded) {
      trs.push(Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("tr", { className: "exp", key: `exp__${record.id}` },
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("td", { colSpan: this.effectiveTableColumns().length, className: "expanded" },
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("div", null, this.renderExpandableSection(record)))));


    }
    return trs;
  }
  renderEmptyCell() {
    return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("tr", null,
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("td", { className: "empty-collection" }, this.props.emptyMessage));

  }
  renderTableBody() {var _context13;
    const data = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(_context13 = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_1___default()(this.state.collection)).call(_context13, k => this.state.collection[k]);
    const content = data.length ?
    _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(data).call(data, d => this.renderItem(d)) :
    this.renderEmptyCell();
    return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("tbody", { "data-test": "table-content-rows" }, content);
  }
  render() {
    return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null,
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])(CrudButtonWrapper, null,
    this.props.allowAddItem && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("span", { className: "m-t-10 m-r-10" },
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])(src_components_Button__WEBPACK_IMPORTED_MODULE_10__["default"], { buttonSize: "small", buttonStyle: "primary", onClick: this.onAddItem, "data-test": "add-item-button" },
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("i", { "data-test": "crud-add-table-item", className: "fa fa-plus" }), ' ',
    Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_9__["t"])('Add item')))),



    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])(CrudTableWrapper, { className: "CRUD", stickyHeader: this.props.stickyHeader },
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_15__["jsx"])("table", { "data-test": "crud-table", className: "table" },
    this.renderHeaderRow(),
    this.renderTableBody())));



  } // @ts-ignore
  __reactstandin__regenerateByEval(key, code) {// @ts-ignore
    this[key] = eval(code);}};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(createKeyedCollection, "createKeyedCollection", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\CRUD\\CollectionTable.tsx");reactHotLoader.register(CrudTableWrapper, "CrudTableWrapper", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\CRUD\\CollectionTable.tsx");reactHotLoader.register(CrudButtonWrapper, "CrudButtonWrapper", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\CRUD\\CollectionTable.tsx");reactHotLoader.register(CRUDCollection, "CRUDCollection", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\CRUD\\CollectionTable.tsx");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./src/CRUD/Field.tsx":
/*!****************************!*\
  !*** ./src/CRUD/Field.tsx ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Field; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
/* harmony import */ var src_components_Tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/components/Tooltip */ "./src/components/Tooltip/index.tsx");
/* harmony import */ var src_components_Form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/components/Form */ "./src/components/Form/index.tsx");
/* harmony import */ var _crud_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./crud.less */ "./src/CRUD/crud.less");
/* harmony import */ var _crud_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_crud_less__WEBPACK_IMPORTED_MODULE_4__);
(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */





const formItemInlineCss = _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__["css"]`
  .ant-form-item-control-input-content {
    display: flex;
    flex-direction: row;
  }
`;
function Field({ fieldKey, value, label, description, control, onChange, compact, inline }) {
  const onControlChange = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(newValue => {
    onChange(fieldKey, newValue);
  }, [onChange, fieldKey]);
  const hookedControl = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(control, {
    value,
    onChange: onControlChange });

  return Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__["jsx"])(src_components_Form__WEBPACK_IMPORTED_MODULE_3__["FormItem"], { label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__["jsx"])(src_components_Form__WEBPACK_IMPORTED_MODULE_3__["FormLabel"], { className: "m-r-5" },
    label || fieldKey,
    compact && description && Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__["jsx"])(src_components_Tooltip__WEBPACK_IMPORTED_MODULE_2__["Tooltip"], { id: "field-descr", placement: "right", title: description },
    Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__["jsx"])("i", { className: "fa fa-info-circle m-l-5" }))),

    css: inline && formItemInlineCss },
  hookedControl,
  !compact && description && Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__["jsx"])("div", { css: theme => ({
      color: theme.colors.grayscale.base,
      [inline ? 'marginLeft' : 'marginTop']: theme.gridUnit }) },

  description));


}__signature__(Field, "useCallback{onControlChange}");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(formItemInlineCss, "formItemInlineCss", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\CRUD\\Field.tsx");reactHotLoader.register(Field, "Field", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\CRUD\\Field.tsx");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./src/CRUD/Fieldset.jsx":
/*!*******************************!*\
  !*** ./src/CRUD/Fieldset.jsx ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Fieldset; });
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/bind */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/bind.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var src_components_Form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/components/Form */ "./src/components/Form/index.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ "./src/CRUD/utils.js");
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Field */ "./src/CRUD/Field.tsx");
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */







const propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.node.isRequired,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,
  item: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,
  title: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.node,
  compact: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool };

const defaultProps = {
  compact: false,
  title: null };


class Fieldset extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent {
  constructor(props) {var _context;
    super(props);
    this.onChange = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_0___default()(_context = this.onChange).call(_context, this);
  }

  onChange(fieldKey, val) {
    return this.props.onChange({
      ...this.props.item,
      [fieldKey]: val });

  }

  render() {
    const { title } = this.props;
    const propExtender = field => ({
      onChange: this.onChange,
      value: this.props.item[field.props.fieldKey],
      compact: this.props.compact });

    return (
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_6__["jsx"])(src_components_Form__WEBPACK_IMPORTED_MODULE_3__["Form"], { componentClass: "fieldset", className: "CRUD", layout: "vertical" },
      title && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_6__["jsx"])("legend", null, title),
      Object(_utils__WEBPACK_IMPORTED_MODULE_4__["recurseReactClone"])(this.props.children, _Field__WEBPACK_IMPORTED_MODULE_5__["default"], propExtender)));


  } // @ts-ignore
  __reactstandin__regenerateByEval(key, code) {// @ts-ignore
    this[key] = eval(code);}}Fieldset.propTypes = propTypes;
Fieldset.defaultProps = defaultProps;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, "propTypes", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\CRUD\\Fieldset.jsx");reactHotLoader.register(defaultProps, "defaultProps", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\CRUD\\Fieldset.jsx");reactHotLoader.register(Fieldset, "Fieldset", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\CRUD\\Fieldset.jsx");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./src/CRUD/crud.less":
/*!****************************!*\
  !*** ./src/CRUD/crud.less ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var content = __webpack_require__(/*! !../../node_modules/css-loader??ref--8-1!../../node_modules/less-loader/dist/cjs.js??ref--8-2!./crud.less */ "./node_modules/css-loader/index.js?!./node_modules/less-loader/dist/cjs.js?!./src/CRUD/crud.less");

if (typeof content === 'string') {
  content = [[module.i, content, '']];
}

var options = {}

options.insert = "head";
options.singleton = false;

var update = __webpack_require__(/*! ../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js")(content, options);

if (content.locals) {
  module.exports = content.locals;
}


/***/ }),

/***/ "./src/CRUD/utils.js":
/*!***************************!*\
  !*** ./src/CRUD/utils.js ***!
  \***************************/
/*! exports provided: recurseReactClone */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recurseReactClone", function() { return recurseReactClone; });
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */


function recurseReactClone(children, type, propExtender) {var _context;
  /**
   * Clones a React component's children, and injects new props
   * where the type specified is matched.
   */
  return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_0___default()(_context = react__WEBPACK_IMPORTED_MODULE_1___default.a.Children).call(_context, children, child => {
    let newChild = child;
    if (child && child.type.name === type.name) {
      newChild = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.cloneElement(child, propExtender(child));
    }
    if (newChild && newChild.props.children) {
      newChild = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.cloneElement(newChild, {
        children: recurseReactClone(
        newChild.props.children,
        type,
        propExtender) });


    }
    return newChild;
  });
};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(recurseReactClone, "recurseReactClone", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\CRUD\\utils.js");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./src/components/CertifiedIcon/index.tsx":
/*!************************************************!*\
  !*** ./src/components/CertifiedIcon/index.tsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/translation/TranslatorSingleton.js");
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/style/index.js");
/* harmony import */ var src_components_Icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/components/Icon */ "./src/components/Icon/index.tsx");
/* harmony import */ var src_components_Tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/components/Tooltip */ "./src/components/Tooltip/index.tsx");
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */




function CertifiedIcon({ certifiedBy, details, size = 24 }) {
  return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_5__["jsx"])(src_components_Tooltip__WEBPACK_IMPORTED_MODULE_4__["Tooltip"], { id: "certified-details-tooltip", title: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_5__["jsx"])(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null,
    certifiedBy && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_5__["jsx"])("div", null,
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_5__["jsx"])("strong", null, Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_1__["t"])('Certified by %s', certifiedBy))),

    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_5__["jsx"])("div", null, details)) },

  Object(_emotion_react__WEBPACK_IMPORTED_MODULE_5__["jsx"])(src_components_Icon__WEBPACK_IMPORTED_MODULE_3__["default"], { color: _superset_ui_core__WEBPACK_IMPORTED_MODULE_2__["supersetTheme"].colors.primary.base, height: size, width: size, name: "certified" }));

}const _default =
CertifiedIcon;/* harmony default export */ __webpack_exports__["default"] = (_default);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(CertifiedIcon, "CertifiedIcon", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\CertifiedIcon\\index.tsx");reactHotLoader.register(_default, "default", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\CertifiedIcon\\index.tsx");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./src/components/DatabaseSelector/index.tsx":
/*!***************************************************!*\
  !*** ./src/components/DatabaseSelector/index.tsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DatabaseSelector; });
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ "./node_modules/@babel/runtime-corejs3/core-js-stable/promise.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/style/index.js");
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/connection/SupersetClient.js");
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/translation/TranslatorSingleton.js");
/* harmony import */ var rison__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rison */ "./node_modules/rison/js/rison.js");
/* harmony import */ var rison__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(rison__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var src_components_Select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/components/Select */ "./src/components/Select/index.ts");
/* harmony import */ var src_components_Label__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/components/Label */ "./src/components/Label/index.tsx");
/* harmony import */ var src_components_RefreshLabel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/components/RefreshLabel */ "./src/components/RefreshLabel/index.tsx");
/* harmony import */ var src_components_AsyncSelect__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/components/AsyncSelect */ "./src/components/AsyncSelect/index.jsx");
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */







const FieldTitle = _superset_ui_core__WEBPACK_IMPORTED_MODULE_5__["styled"].p`
  color: ${({ theme }) => theme.colors.secondary.light2};
  font-size: ${({ theme }) => theme.typography.sizes.s}px;
  margin: 20px 0 10px 0;
  text-transform: uppercase;
`;
const DatabaseSelectorWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_5__["styled"].div`
  .fa-refresh {
    padding-left: 9px;
  }

  .refresh-col {
    display: flex;
    align-items: center;
    width: 30px;
    margin-left: ${({ theme }) => theme.gridUnit}px;
  }

  .section {
    padding-bottom: 5px;
    display: flex;
    flex-direction: row;
  }

  .select {
    flex-grow: 1;
  }
`;
const DatabaseOption = _superset_ui_core__WEBPACK_IMPORTED_MODULE_5__["styled"].span`
  display: inline-flex;
  align-items: center;
`;
function DatabaseSelector({ dbId, formMode = false, getDbList, getTableList, handleError, isDatabaseSelectEnabled = true, onChange, onDbChange, onSchemaChange, onSchemasLoad, readOnly = false, schema, sqlLabMode = false }) {
  const [currentDbId, setCurrentDbId] = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(dbId);
  const [currentSchema, setCurrentSchema] = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(schema);
  const [schemaLoading, setSchemaLoading] = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])(false);
  const [schemaOptions, setSchemaOptions] = Object(react__WEBPACK_IMPORTED_MODULE_4__["useState"])([]);
  function fetchSchemas(databaseId, forceRefresh = false) {
    const actualDbId = databaseId || dbId;
    if (actualDbId) {
      setSchemaLoading(true);
      const queryParams = rison__WEBPACK_IMPORTED_MODULE_8___default.a.encode({
        force: Boolean(forceRefresh) });

      const endpoint = `/api/v1/database/${actualDbId}/schemas/?q=${queryParams}`;
      return _superset_ui_core__WEBPACK_IMPORTED_MODULE_6__["default"].get({ endpoint }).
      then(({ json }) => {var _context;
        const options = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(_context = json.result).call(_context, s => ({
          value: s,
          label: s,
          title: s }));

        setSchemaOptions(options);
        setSchemaLoading(false);
        if (onSchemasLoad) {
          onSchemasLoad(options);
        }
      }).
      catch(() => {
        setSchemaOptions([]);
        setSchemaLoading(false);
        handleError(Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__["t"])('Error while fetching schema list'));
      });
    }
    return _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_2___default.a.resolve();
  }
  Object(react__WEBPACK_IMPORTED_MODULE_4__["useEffect"])(() => {
    if (currentDbId) {
      fetchSchemas(currentDbId);
    }
  }, [currentDbId]);
  function onSelectChange({ dbId, schema }) {
    setCurrentDbId(dbId);
    setCurrentSchema(schema);
    if (onChange) {
      onChange({ dbId, schema, tableName: undefined });
    }
  }
  function dbMutator(data) {var _context2;
    if (getDbList) {
      getDbList(data.result);
    }
    if (data.result.length === 0) {
      handleError(Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__["t"])("It seems you don't have access to any database"));
    }
    return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_3___default()(_context2 = data.result).call(_context2, row => ({
      ...row,
      // label is used for the typeahead
      label: `${row.backend} ${row.database_name}` }));

  }
  function changeDataBase(db, force = false) {
    const dbId = db ? db.id : null;
    setSchemaOptions([]);
    if (onSchemaChange) {
      onSchemaChange(null);
    }
    if (onDbChange) {
      onDbChange(db);
    }
    fetchSchemas(dbId, force);
    onSelectChange({ dbId, schema: undefined });
  }
  function changeSchema(schemaOpt, force = false) {
    const schema = schemaOpt ? schemaOpt.value : null;
    if (onSchemaChange) {
      onSchemaChange(schema);
    }
    setCurrentSchema(schema);
    onSelectChange({ dbId: currentDbId, schema });
    if (getTableList) {
      getTableList(currentDbId, schema, force);
    }
  }
  function renderDatabaseOption(db) {
    return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(DatabaseOption, { title: db.database_name },
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_Label__WEBPACK_IMPORTED_MODULE_10__["default"], { type: "default" }, db.backend), " ", db.database_name);

  }
  function renderSelectRow(select, refreshBtn) {
    return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("div", { className: "section" },
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("span", { className: "select" }, select),
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("span", { className: "refresh-col" }, refreshBtn));

  }
  function renderDatabaseSelect() {
    const queryParams = rison__WEBPACK_IMPORTED_MODULE_8___default.a.encode({
      order_columns: 'database_name',
      order_direction: 'asc',
      page: 0,
      page_size: -1,
      ...(formMode || !sqlLabMode ?
      {} :
      {
        filters: [
        {
          col: 'expose_in_sqllab',
          opr: 'eq',
          value: true }] }) });




    return renderSelectRow(Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_AsyncSelect__WEBPACK_IMPORTED_MODULE_12__["default"], { "data-test": "select-database", dataEndpoint: `/api/v1/database/?q=${queryParams}`, onChange: db => changeDataBase(db), onAsyncError: () => handleError(Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__["t"])('Error while fetching database list')), clearable: false, value: currentDbId, valueKey: "id", valueRenderer: db => Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("div", null,
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("span", { className: "text-muted m-r-5" }, Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__["t"])('Database:')),
      renderDatabaseOption(db)),
      optionRenderer: renderDatabaseOption, mutator: dbMutator, placeholder: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__["t"])('Select a database'), autoSelect: true, isDisabled: !isDatabaseSelectEnabled || readOnly }), null);
  }
  function renderSchemaSelect() {
    const value = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(schemaOptions).call(schemaOptions, ({ value }) => currentSchema === value);
    const refresh = !formMode && !readOnly && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_RefreshLabel__WEBPACK_IMPORTED_MODULE_11__["default"], { onClick: () => changeDataBase({ id: dbId }, true), tooltipContent: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__["t"])('Force refresh schema list') });
    return renderSelectRow(Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_Select__WEBPACK_IMPORTED_MODULE_9__["Select"], { name: "select-schema", placeholder: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__["t"])('Select a schema (%s)', schemaOptions.length), options: schemaOptions, value: value, valueRenderer: o => Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("div", null,
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("span", { className: "text-muted" }, Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__["t"])('Schema:')), " ", o.label),
      isLoading: schemaLoading, autosize: false, onChange: item => changeSchema(item), isDisabled: readOnly }), refresh);
  }
  return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(DatabaseSelectorWrapper, { "data-test": "DatabaseSelector" },
  formMode && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(FieldTitle, null, Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__["t"])('datasource')),
  renderDatabaseSelect(),
  formMode && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(FieldTitle, null, Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_7__["t"])('schema')),
  renderSchemaSelect());

}__signature__(DatabaseSelector, "useState{[currentDbId, setCurrentDbId](dbId)}\nuseState{[currentSchema, setCurrentSchema](schema)}\nuseState{[schemaLoading, setSchemaLoading](false)}\nuseState{[schemaOptions, setSchemaOptions]([])}\nuseEffect{}");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(FieldTitle, "FieldTitle", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\DatabaseSelector\\index.tsx");reactHotLoader.register(DatabaseSelectorWrapper, "DatabaseSelectorWrapper", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\DatabaseSelector\\index.tsx");reactHotLoader.register(DatabaseOption, "DatabaseOption", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\DatabaseSelector\\index.tsx");reactHotLoader.register(DatabaseSelector, "DatabaseSelector", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\DatabaseSelector\\index.tsx");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./src/components/EditableTitle/index.tsx":
/*!************************************************!*\
  !*** ./src/components/EditableTitle/index.tsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EditableTitle; });
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/trim */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/trim.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/translation/TranslatorSingleton.js");
/* harmony import */ var src_components_Tooltip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/components/Tooltip */ "./src/components/Tooltip/index.tsx");
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */




function EditableTitle({ canEdit = false, editing = false, extraClasses, multiLine = false, noPermitTooltip, onSaveTitle, showTooltip = true, style, title = '', defaultTitle = '', placeholder = '' }) {
  const [isEditing, setIsEditing] = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(editing);
  const [currentTitle, setCurrentTitle] = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(title);
  const [lastTitle, setLastTitle] = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(title);
  const [contentBoundingRect, setContentBoundingRect] = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(null);
  // Used so we can access the DOM element if a user clicks on this component.
  const contentRef = Object(react__WEBPACK_IMPORTED_MODULE_2__["useRef"])();
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(() => {
    if (title !== currentTitle) {
      setLastTitle(currentTitle);
      setCurrentTitle(title);
    }
  }, [title]);
  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(() => {
    if (isEditing) {
      contentRef.current.focus();
    }
  }, [isEditing]);
  function handleClick() {
    if (!canEdit || isEditing) {
      return;
    }
    // For multi-line values, save the actual rendered size of the displayed text.
    // Later, if a textarea is constructed for editing the value, we'll need this.
    const contentBounding = contentRef.current ?
    contentRef.current.getBoundingClientRect() :
    null;
    setIsEditing(true);
    setContentBoundingRect(contentBounding);
  }
  function handleBlur() {
    const formattedTitle = _babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_1___default()(currentTitle).call(currentTitle);
    if (!canEdit) {
      return;
    }
    setIsEditing(false);
    if (!formattedTitle.length) {
      setCurrentTitle(lastTitle);
      return;
    }
    if (lastTitle !== formattedTitle) {
      setLastTitle(formattedTitle);
    }
    if (title !== formattedTitle) {
      onSaveTitle(formattedTitle);
    }
  }
  // tl;dr when a EditableTitle is being edited, typically the Tab that wraps it has been
  // clicked and is focused/active. For accessibility, when the focused tab anchor intercepts
  // the ' ' key (among others, including all arrows) the onChange() doesn't fire. Somehow
  // keydown is still called so we can detect this and manually add a ' ' to the current title
  function handleKeyDown(event) {
    if (event.key === ' ') {
      event.stopPropagation();
    }
    if (event.key === 'Enter') {
      event.preventDefault();
      handleBlur();
    }
  }
  function handleChange(ev) {
    if (!canEdit) {
      return;
    }
    setCurrentTitle(ev.target.value);
  }
  function handleKeyPress(ev) {
    if (ev.key === 'Enter') {
      ev.preventDefault();
      handleBlur();
    }
  }
  let value;
  value = currentTitle;
  if (!isEditing && !currentTitle) {
    value = defaultTitle || title;
  }
  // Construct an inline style based on previously-saved height of the rendered label. Only
  // used in multi-line contexts.
  const editStyle = isEditing && contentBoundingRect ?
  { height: `${contentBoundingRect.height}px` } :
  undefined;
  // Create a textarea when we're editing a multi-line value, otherwise create an input (which may
  // be text or a button).
  let titleComponent = multiLine && isEditing ? Object(_emotion_react__WEBPACK_IMPORTED_MODULE_6__["jsx"])("textarea", { "data-test": "editable-title-input", ref: contentRef, value: value, className: !title ? 'text-muted' : undefined, onKeyDown: handleKeyDown, onChange: handleChange, onBlur: handleBlur, onClick: handleClick, onKeyPress: handleKeyPress, placeholder: placeholder, style: editStyle }) : Object(_emotion_react__WEBPACK_IMPORTED_MODULE_6__["jsx"])("input", { "data-test": "editable-title-input", ref: contentRef, type: isEditing ? 'text' : 'button', value: value, className: !title ? 'text-muted' : undefined, onKeyDown: handleKeyDown, onChange: handleChange, onBlur: handleBlur, onClick: handleClick, onKeyPress: handleKeyPress, placeholder: placeholder });
  if (showTooltip && !isEditing) {
    titleComponent = Object(_emotion_react__WEBPACK_IMPORTED_MODULE_6__["jsx"])(src_components_Tooltip__WEBPACK_IMPORTED_MODULE_5__["Tooltip"], { id: "title-tooltip", title: canEdit ?
      Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_4__["t"])('Click to edit') :
      noPermitTooltip ||
      Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_4__["t"])("You don't have the rights to alter this title.") },
    titleComponent);

  }
  if (!canEdit) {
    // don't actually want an input in this case
    titleComponent = Object(_emotion_react__WEBPACK_IMPORTED_MODULE_6__["jsx"])("span", { "data-test": "editable-title-input", title: value },
    value);

  }
  return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_6__["jsx"])("span", { "data-test": "editable-title", className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('editable-title', extraClasses, canEdit && 'editable-title--editable', isEditing && 'editable-title--editing'), style: style },
  titleComponent);

}__signature__(EditableTitle, "useState{[isEditing, setIsEditing](editing)}\nuseState{[currentTitle, setCurrentTitle](title)}\nuseState{[lastTitle, setLastTitle](title)}\nuseState{[contentBoundingRect, setContentBoundingRect,](null)}\nuseRef{contentRef}\nuseEffect{}\nuseEffect{}");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(EditableTitle, "EditableTitle", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\EditableTitle\\index.tsx");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./src/components/RefreshLabel/index.tsx":
/*!***********************************************!*\
  !*** ./src/components/RefreshLabel/index.tsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var src_components_Tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/components/Tooltip */ "./src/components/Tooltip/index.tsx");
/* harmony import */ var src_components_Icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/components/Icon */ "./src/components/Icon/index.tsx");
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */



const RefreshLabel = ({ onClick, tooltipContent }) => {
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  const IconWithoutRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.forwardRef((props, ref) => Object(_emotion_react__WEBPACK_IMPORTED_MODULE_3__["jsx"])(src_components_Icon__WEBPACK_IMPORTED_MODULE_2__["default"], props));
  return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_3__["jsx"])(src_components_Tooltip__WEBPACK_IMPORTED_MODULE_1__["Tooltip"], { title: tooltipContent },
  Object(_emotion_react__WEBPACK_IMPORTED_MODULE_3__["jsx"])(IconWithoutRef, { role: "button", onClick: onClick, name: "refresh", css: theme => ({
      cursor: 'pointer',
      color: theme.colors.grayscale.base,
      '&:hover': { color: theme.colors.primary.base } }) }));


};const _default =
RefreshLabel;/* harmony default export */ __webpack_exports__["default"] = (_default);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(RefreshLabel, "RefreshLabel", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\RefreshLabel\\index.tsx");reactHotLoader.register(_default, "default", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\RefreshLabel\\index.tsx");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./src/components/TableSelector/index.tsx":
/*!************************************************!*\
  !*** ./src/components/TableSelector/index.tsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/promise */ "./node_modules/@babel/runtime-corejs3/core-js-stable/promise.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/style/index.js");
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/connection/SupersetClient.js");
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/translation/TranslatorSingleton.js");
/* harmony import */ var src_components_Select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/components/Select */ "./src/components/Select/index.ts");
/* harmony import */ var src_components_Form__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/components/Form */ "./src/components/Form/index.tsx");
/* harmony import */ var src_components_DatabaseSelector__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/components/DatabaseSelector */ "./src/components/DatabaseSelector/index.tsx");
/* harmony import */ var src_components_RefreshLabel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/components/RefreshLabel */ "./src/components/RefreshLabel/index.tsx");
/* harmony import */ var src_components_CertifiedIcon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/components/CertifiedIcon */ "./src/components/CertifiedIcon/index.tsx");
/* harmony import */ var src_components_WarningIconWithTooltip__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/components/WarningIconWithTooltip */ "./src/components/WarningIconWithTooltip/index.tsx");
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */








const FieldTitle = _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__["styled"].p`
  color: ${({ theme }) => theme.colors.secondary.light2};
  font-size: ${({ theme }) => theme.typography.sizes.s}px;
  margin: 20px 0 10px 0;
  text-transform: uppercase;
`;
const TableSelectorWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__["styled"].div`
  .fa-refresh {
    padding-left: 9px;
  }

  .refresh-col {
    display: flex;
    align-items: center;
    width: 30px;
    margin-left: ${({ theme }) => theme.gridUnit}px;
  }

  .section {
    padding-bottom: 5px;
    display: flex;
    flex-direction: row;
  }

  .select {
    flex-grow: 1;
  }

  .divider {
    border-bottom: 1px solid ${({ theme }) => theme.colors.secondary.light5};
    margin: 15px 0;
  }
`;
const TableLabel = _superset_ui_core__WEBPACK_IMPORTED_MODULE_4__["styled"].span`
  align-items: center;
  display: flex;
  white-space: nowrap;

  > svg,
  > small {
    margin-right: ${({ theme }) => theme.gridUnit}px;
  }
`;
const TableSelector = ({ database, dbId, formMode = false, getDbList, handleError, isDatabaseSelectEnabled = true, onChange, onDbChange, onSchemaChange, onSchemasLoad, onTableChange, onTablesLoad, readOnly = false, schema, sqlLabMode = true, tableName, tableNameSticky = true }) => {
  const [currentSchema, setCurrentSchema] = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(schema);
  const [currentTableName, setCurrentTableName] = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(tableName);
  const [tableLoading, setTableLoading] = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])(false);
  const [tableOptions, setTableOptions] = Object(react__WEBPACK_IMPORTED_MODULE_3__["useState"])([]);
  function fetchTables(databaseId, schema, forceRefresh = false, substr = 'undefined') {
    const dbSchema = schema || currentSchema;
    const actualDbId = databaseId || dbId;
    if (actualDbId && dbSchema) {
      const encodedSchema = encodeURIComponent(dbSchema);
      const encodedSubstr = encodeURIComponent(substr);
      setTableLoading(true);
      setTableOptions([]);
      const endpoint = encodeURI(`/superset/tables/${actualDbId}/${encodedSchema}/${encodedSubstr}/${!!forceRefresh}/`);
      return _superset_ui_core__WEBPACK_IMPORTED_MODULE_5__["default"].get({ endpoint }).
      then(({ json }) => {var _context;
        const options = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(_context = json.options).call(_context, o => ({
          value: o.value,
          schema: o.schema,
          label: o.label,
          title: o.title,
          type: o.type,
          extra: o == null ? void 0 : o.extra }));

        setTableLoading(false);
        setTableOptions(options);
        if (onTablesLoad) {
          onTablesLoad(json.options);
        }
      }).
      catch(() => {
        setTableLoading(false);
        setTableOptions([]);
        handleError(Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__["t"])('Error while fetching table list'));
      });
    }
    setTableLoading(false);
    setTableOptions([]);
    return _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_1___default.a.resolve();
  }
  Object(react__WEBPACK_IMPORTED_MODULE_3__["useEffect"])(() => {
    if (dbId && schema) {
      fetchTables();
    }
  }, [dbId, schema]);
  function onSelectionChange({ dbId, schema, tableName }) {
    setCurrentTableName(tableName);
    setCurrentSchema(schema);
    if (onChange) {
      onChange({ dbId, schema, tableName });
    }
  }
  function getTableNamesBySubStr(substr = 'undefined') {
    if (!dbId || !substr) {
      const options = [];
      return _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_1___default.a.resolve({ options });
    }
    const encodedSchema = encodeURIComponent(schema || '');
    const encodedSubstr = encodeURIComponent(substr);
    return _superset_ui_core__WEBPACK_IMPORTED_MODULE_5__["default"].get({
      endpoint: encodeURI(`/superset/tables/${dbId}/${encodedSchema}/${encodedSubstr}`) }).
    then(({ json }) => {var _context2;
      const options = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_2___default()(_context2 = json.options).call(_context2, o => ({
        value: o.value,
        schema: o.schema,
        label: o.label,
        title: o.title,
        type: o.type }));

      return { options };
    });
  }
  function changeTable(tableOpt) {
    if (!tableOpt) {
      setCurrentTableName('');
      return;
    }
    const schemaName = tableOpt.schema;
    const tableOptTableName = tableOpt.value;
    if (tableNameSticky) {
      onSelectionChange({
        dbId,
        schema: schemaName,
        tableName: tableOptTableName });

    }
    if (onTableChange) {
      onTableChange(tableOptTableName, schemaName);
    }
  }
  function changeSchema(schemaOpt, force = false) {
    const value = schemaOpt ? schemaOpt.value : null;
    if (onSchemaChange) {
      onSchemaChange(value);
    }
    onSelectionChange({
      dbId,
      schema: value,
      tableName: undefined });

    fetchTables(dbId, currentSchema, force);
  }
  function renderTableOption(option) {var _option$extra, _option$extra2;
    return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(TableLabel, { title: option.label },
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("small", { className: "text-muted" },
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("i", { className: `fa fa-${option.type === 'view' ? 'eye' : 'table'}` })),

    ((_option$extra = option.extra) == null ? void 0 : _option$extra.certification) && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_CertifiedIcon__WEBPACK_IMPORTED_MODULE_11__["default"], { certifiedBy: option.extra.certification.certified_by, details: option.extra.certification.details, size: 20 }),
    ((_option$extra2 = option.extra) == null ? void 0 : _option$extra2.warning_markdown) && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_WarningIconWithTooltip__WEBPACK_IMPORTED_MODULE_12__["default"], { warningMarkdown: option.extra.warning_markdown, size: 20 }),
    option.label);

  }
  function renderSelectRow(select, refreshBtn) {
    return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("div", { className: "section" },
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("span", { className: "select" }, select),
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("span", { className: "refresh-col" }, refreshBtn));

  }
  function renderDatabaseSelector() {
    return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_DatabaseSelector__WEBPACK_IMPORTED_MODULE_9__["default"], { dbId: dbId, formMode: formMode, getDbList: getDbList, getTableList: fetchTables, handleError: handleError, onChange: onSelectionChange, onDbChange: readOnly ? undefined : onDbChange, onSchemaChange: readOnly ? undefined : onSchemaChange, onSchemasLoad: onSchemasLoad, schema: currentSchema, sqlLabMode: sqlLabMode, isDatabaseSelectEnabled: isDatabaseSelectEnabled && !readOnly, readOnly: readOnly });
  }
  function renderTableSelect() {
    const options = tableOptions;
    let select = null;
    if (currentSchema && !formMode) {
      // dataset editor
      select = Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_Select__WEBPACK_IMPORTED_MODULE_7__["Select"], { name: "select-table", isLoading: tableLoading, ignoreAccents: false, placeholder: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__["t"])('Select table or type table name'), autosize: false, onChange: changeTable, options: options
        // @ts-ignore
        , value: currentTableName, optionRenderer: renderTableOption, valueRenderer: renderTableOption, isDisabled: readOnly });
    } else
    if (formMode) {
      select = Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_Select__WEBPACK_IMPORTED_MODULE_7__["CreatableSelect"], { name: "select-table", isLoading: tableLoading, ignoreAccents: false, placeholder: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__["t"])('Select table or type table name'), autosize: false, onChange: changeTable, options: options
        // @ts-ignore
        , value: currentTableName, optionRenderer: renderTableOption });
    } else
    {
      // sql lab
      let tableSelectPlaceholder;
      let tableSelectDisabled = false;
      if (database && database.allow_multi_schema_metadata_fetch) {
        tableSelectPlaceholder = Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__["t"])('Type to search ...');
      } else
      {
        tableSelectPlaceholder = Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__["t"])('Select table ');
        tableSelectDisabled = true;
      }
      select = Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_Select__WEBPACK_IMPORTED_MODULE_7__["AsyncSelect"], { name: "async-select-table", placeholder: tableSelectPlaceholder, isDisabled: tableSelectDisabled, autosize: false, onChange: changeTable
        // @ts-ignore
        , value: currentTableName, loadOptions: getTableNamesBySubStr, optionRenderer: renderTableOption });
    }
    const refresh = !formMode && !readOnly && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_RefreshLabel__WEBPACK_IMPORTED_MODULE_10__["default"], { onClick: () => changeSchema({ value: schema }, true), tooltipContent: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__["t"])('Force refresh table list') });
    return renderSelectRow(select, refresh);
  }
  function renderSeeTableLabel() {
    return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("div", { className: "section" },
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(src_components_Form__WEBPACK_IMPORTED_MODULE_8__["FormLabel"], null,
    Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__["t"])('See table schema'), ' ',
    schema && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("small", null,
    tableOptions.length, " in",
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("i", null, schema))));



  }
  return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(TableSelectorWrapper, null,
  renderDatabaseSelector(),
  !formMode && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])("div", { className: "divider" }),
  sqlLabMode && renderSeeTableLabel(),
  formMode && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_13__["jsx"])(FieldTitle, null, Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_6__["t"])('Table')),
  renderTableSelect());

};__signature__(TableSelector, "useState{[currentSchema, setCurrentSchema](schema)}\nuseState{[currentTableName, setCurrentTableName](tableName)}\nuseState{[tableLoading, setTableLoading](false)}\nuseState{[tableOptions, setTableOptions]([])}\nuseEffect{}");const _default =
TableSelector;/* harmony default export */ __webpack_exports__["default"] = (_default);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(FieldTitle, "FieldTitle", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\TableSelector\\index.tsx");reactHotLoader.register(TableSelectorWrapper, "TableSelectorWrapper", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\TableSelector\\index.tsx");reactHotLoader.register(TableLabel, "TableLabel", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\TableSelector\\index.tsx");reactHotLoader.register(TableSelector, "TableSelector", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\TableSelector\\index.tsx");reactHotLoader.register(_default, "default", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\components\\TableSelector\\index.tsx");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./src/datasource/DatasourceEditor.jsx":
/*!*********************************************!*\
  !*** ./src/datasource/DatasourceEditor.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "./node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/reduce */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/reduce.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/bind */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/bind.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ "./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js");
/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var src_common_components__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/common/components */ "./src/common/components/index.tsx");
/* harmony import */ var src_components_Radio__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/components/Radio */ "./src/components/Radio/index.tsx");
/* harmony import */ var src_components_Card__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/components/Card */ "./src/components/Card/index.tsx");
/* harmony import */ var src_components_Alert__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/components/Alert */ "./src/components/Alert/index.tsx");
/* harmony import */ var src_components_Badge__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! src/components/Badge */ "./src/components/Badge/index.tsx");
/* harmony import */ var shortid__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! shortid */ "./node_modules/shortid/index.js");
/* harmony import */ var shortid__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(shortid__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/style/index.js");
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/translation/TranslatorSingleton.js");
/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @superset-ui/core */ "./node_modules/@superset-ui/core/esm/connection/SupersetClient.js");
/* harmony import */ var src_components_Button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! src/components/Button */ "./src/components/Button/index.tsx");
/* harmony import */ var src_components_Tabs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! src/components/Tabs */ "./src/components/Tabs/index.ts");
/* harmony import */ var src_components_CertifiedIcon__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! src/components/CertifiedIcon */ "./src/components/CertifiedIcon/index.tsx");
/* harmony import */ var src_components_WarningIconWithTooltip__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! src/components/WarningIconWithTooltip */ "./src/components/WarningIconWithTooltip/index.tsx");
/* harmony import */ var src_components_DatabaseSelector__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! src/components/DatabaseSelector */ "./src/components/DatabaseSelector/index.tsx");
/* harmony import */ var src_components_Icon__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! src/components/Icon */ "./src/components/Icon/index.tsx");
/* harmony import */ var src_components_Label__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! src/components/Label */ "./src/components/Label/index.tsx");
/* harmony import */ var src_components_Loading__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! src/components/Loading */ "./src/components/Loading/index.tsx");
/* harmony import */ var src_components_TableSelector__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! src/components/TableSelector */ "./src/components/TableSelector/index.tsx");
/* harmony import */ var src_components_EditableTitle__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! src/components/EditableTitle */ "./src/components/EditableTitle/index.tsx");
/* harmony import */ var src_utils_getClientErrorObject__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! src/utils/getClientErrorObject */ "./src/utils/getClientErrorObject.ts");
/* harmony import */ var src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! src/explore/components/controls/CheckboxControl */ "./src/explore/components/controls/CheckboxControl.jsx");
/* harmony import */ var src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! src/explore/components/controls/TextControl */ "./src/explore/components/controls/TextControl/index.tsx");
/* harmony import */ var src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! src/explore/components/controls/SelectControl */ "./src/explore/components/controls/SelectControl.jsx");
/* harmony import */ var src_explore_components_controls_TextAreaControl__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! src/explore/components/controls/TextAreaControl */ "./src/explore/components/controls/TextAreaControl.jsx");
/* harmony import */ var src_explore_components_controls_SelectAsyncControl__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! src/explore/components/controls/SelectAsyncControl */ "./src/explore/components/controls/SelectAsyncControl/index.jsx");
/* harmony import */ var src_explore_components_controls_SpatialControl__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! src/explore/components/controls/SpatialControl */ "./src/explore/components/controls/SpatialControl.jsx");
/* harmony import */ var src_CRUD_CollectionTable__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! src/CRUD/CollectionTable */ "./src/CRUD/CollectionTable.tsx");
/* harmony import */ var src_CRUD_Fieldset__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! src/CRUD/Fieldset */ "./src/CRUD/Fieldset.jsx");
/* harmony import */ var src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! src/CRUD/Field */ "./src/CRUD/Field.tsx");
/* harmony import */ var src_messageToasts_enhancers_withToasts__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! src/messageToasts/enhancers/withToasts */ "./src/messageToasts/enhancers/withToasts.tsx");
/* harmony import */ var src_featureFlags__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! src/featureFlags */ "./src/featureFlags.ts");
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */




































const DatasourceContainer = _superset_ui_core__WEBPACK_IMPORTED_MODULE_16__["styled"].div`
  .change-warning {
    margin: 16px 10px 0;
    color: ${({ theme }) => theme.colors.warning.base};
  }

  .change-warning .bold {
    font-weight: ${({ theme }) => theme.typography.weights.bold};
  }

  .form-group.has-feedback > .help-block {
    margin-top: 8px;
  }

  .form-group.form-group-md {
    margin-bottom: 8px;
  }
`;

const FlexRowContainer = _superset_ui_core__WEBPACK_IMPORTED_MODULE_16__["styled"].div`
  align-items: center;
  display: flex;

  > svg {
    margin-right: ${({ theme }) => theme.gridUnit}px;
  }
`;

const StyledTableTabs = Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__["styled"])(src_components_Tabs__WEBPACK_IMPORTED_MODULE_20__["default"])`
  overflow: visible;
  .ant-tabs-content-holder {
    overflow: visible;
  }
`;

const EditLockContainer = _superset_ui_core__WEBPACK_IMPORTED_MODULE_16__["styled"].div`
  font-size: ${_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__["supersetTheme"].typography.sizes.s}px;
  display: flex;
  align-items: center;
  a {
    padding: 0 10px;
  }
`;

const ColumnButtonWrapper = _superset_ui_core__WEBPACK_IMPORTED_MODULE_16__["styled"].div`
  text-align: right;
  ${({ theme }) => `margin-bottom: ${theme.gridUnit * 2}px`}
`;

const checkboxGenerator = (d, onChange) =>
Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_30__["default"], { value: d, onChange: onChange });

const DATA_TYPES = ['STRING', 'NUMERIC', 'DATETIME'];

const DATASOURCE_TYPES_ARR = [
{ key: 'physical', label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Physical (table or view)') },
{ key: 'virtual', label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Virtual (SQL)') }];

const DATASOURCE_TYPES = {};
_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(DATASOURCE_TYPES_ARR).call(DATASOURCE_TYPES_ARR, o => {
  DATASOURCE_TYPES[o.key] = o;
});

function CollectionTabTitle({ title, collection }) {
  return (
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", { "data-test": `collection-tab-${title}` },
    title, " ", Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Badge__WEBPACK_IMPORTED_MODULE_14__["default"], { count: collection ? collection.length : 0, showZero: true })));


}

CollectionTabTitle.propTypes = {
  title: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,
  collection: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.array };


function ColumnCollectionTable({
  columns,
  onChange,
  editableColumnName,
  showExpression,
  allowAddItem,
  allowEditDataType,
  itemGenerator })
{
  return (
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_CollectionTable__WEBPACK_IMPORTED_MODULE_36__["default"], {
      collection: columns,
      tableColumns: ['column_name', 'type', 'is_dttm', 'filterable', 'groupby'],
      allowDeletes: true,
      allowAddItem: allowAddItem,
      itemGenerator: itemGenerator,
      stickyHeader: true,
      expandFieldset:
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(FormContainer, null,
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Fieldset__WEBPACK_IMPORTED_MODULE_37__["default"], { compact: true },
      showExpression &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "expression",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('SQL expression'),
        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextAreaControl__WEBPACK_IMPORTED_MODULE_33__["default"], {
          language: "markdown",
          offerEditInModal: false }) }),




      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "verbose_name",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Label'),
        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], {
          controlId: "verbose_name",
          placeholder: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Label') }) }),



      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "description",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Description'),
        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], {
          controlId: "description",
          placeholder: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Description') }) }),



      allowEditDataType &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "type",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Data type'),
        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_32__["default"], { choices: DATA_TYPES, name: "type", freeForm: true }) }),



      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "python_date_format",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Datetime format'),
        description:
        /* Note the fragmented translations may not work. */
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", null,
        Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('The pattern of timestamp format. For strings use '),
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("a", { href: "https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior" },
        Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Python datetime string pattern')),

        Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(' expression which needs to adhere to the '),
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("a", { href: "https://en.wikipedia.org/wiki/ISO_8601" },
        Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('ISO 8601')),

        Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(` standard to ensure that the lexicographical ordering
                      coincides with the chronological ordering. If the
                      timestamp format does not adhere to the ISO 8601 standard
                      you will need to define an expression and type for
                      transforming the string into a date or timestamp. Note
                      currently time zones are not supported. If time is stored
                      in epoch format, put \`epoch_s\` or \`epoch_ms\`. If no pattern
                      is specified we fall back to using the optional defaults on a per
                      database/column name level via the extra parameter.`)),


        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], {
          controlId: "python_date_format",
          placeholder: "%Y/%m/%d" }) }))),






      columnLabels: {
        column_name: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Column'),
        type: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Data type'),
        groupby: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Is dimension'),
        is_dttm: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Is temporal'),
        filterable: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Is filterable') },

      onChange: onChange,
      itemRenderers: {
        column_name: (v, onItemChange) =>
        editableColumnName ?
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_EditableTitle__WEBPACK_IMPORTED_MODULE_28__["default"], { canEdit: true, title: v, onSaveTitle: onItemChange }) :

        v,

        type: d => d ? Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Label__WEBPACK_IMPORTED_MODULE_25__["default"], null, d) : null,
        is_dttm: checkboxGenerator,
        filterable: checkboxGenerator,
        groupby: checkboxGenerator } }));



}
ColumnCollectionTable.propTypes = {
  columns: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.array.isRequired,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,
  editableColumnName: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,
  showExpression: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,
  allowAddItem: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,
  allowEditDataType: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,
  itemGenerator: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func };

ColumnCollectionTable.defaultProps = {
  editableColumnName: false,
  showExpression: false,
  allowAddItem: false,
  allowEditDataType: false,
  itemGenerator: () => ({
    column_name: '<new column>',
    filterable: true,
    groupby: true }) };



function StackedField({ label, formElement }) {
  return (
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", null,
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", null,
    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("strong", null, label)),

    Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", null, formElement)));


}

StackedField.propTypes = {
  label: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,
  formElement: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.node };


function FormContainer({ children }) {
  return Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Card__WEBPACK_IMPORTED_MODULE_12__["default"], { padded: true }, children);
}

FormContainer.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.node };


const propTypes = {
  datasource: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,
  addSuccessToast: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,
  addDangerToast: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired };


const defaultProps = {
  onChange: () => {} };


class DatasourceEditor extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {
  constructor(props) {var _context, _context2, _context3, _context4, _context5, _context6, _context7, _context8, _context9, _context10;
    super(props);
    this.state = {
      datasource: props.datasource,
      errors: [],
      isDruid:
      props.datasource.type === 'druid' ||
      props.datasource.datasource_type === 'druid',
      isSqla:
      props.datasource.datasource_type === 'table' ||
      props.datasource.type === 'table',
      isEditMode: false,
      databaseColumns: _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(_context = props.datasource.columns).call(_context, col => !col.expression),
      calculatedColumns: _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(_context2 = props.datasource.columns).call(_context2,
      col => !!col.expression),

      metadataLoading: false,
      activeTabKey: 0,
      datasourceType: props.datasource.sql ?
      DATASOURCE_TYPES.virtual.key :
      DATASOURCE_TYPES.physical.key };


    this.onChange = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context3 = this.onChange).call(_context3, this);
    this.onChangeEditMode = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context4 = this.onChangeEditMode).call(_context4, this);
    this.onDatasourcePropChange = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context5 = this.onDatasourcePropChange).call(_context5, this);
    this.onDatasourceChange = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context6 = this.onDatasourceChange).call(_context6, this);
    this.syncMetadata = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context7 = this.syncMetadata).call(_context7, this);
    this.setColumns = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context8 = this.setColumns).call(_context8, this);
    this.validateAndChange = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context9 = this.validateAndChange).call(_context9, this);
    this.handleTabSelect = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context10 = this.handleTabSelect).call(_context10, this);
    this.allowEditSource = !Object(src_featureFlags__WEBPACK_IMPORTED_MODULE_40__["isFeatureEnabled"])(
    src_featureFlags__WEBPACK_IMPORTED_MODULE_40__["FeatureFlag"].DISABLE_DATASET_SOURCE_EDIT);

  }

  onChange() {
    // Emptying SQL if "Physical" radio button is selected
    // Currently the logic to know whether the source is
    // physical or virtual is based on whether SQL is empty or not.
    const { datasourceType, datasource } = this.state;
    const sql =
    datasourceType === DATASOURCE_TYPES.physical.key ? '' : datasource.sql;

    const newDatasource = {
      ...this.state.datasource,
      sql,
      columns: [...this.state.databaseColumns, ...this.state.calculatedColumns] };

    this.props.onChange(newDatasource, this.state.errors);
  }

  onChangeEditMode() {
    this.setState(prevState => ({ isEditMode: !prevState.isEditMode }));
  }

  onDatasourceChange(datasource) {
    this.setState({ datasource }, this.validateAndChange);
  }

  onDatasourcePropChange(attr, value) {
    const datasource = { ...this.state.datasource, [attr]: value };
    this.setState(
    prevState => ({
      datasource: { ...prevState.datasource, [attr]: value } }),

    this.onDatasourceChange(datasource));

  }

  onDatasourceTypeChange(datasourceType) {
    this.setState({ datasourceType });
  }

  setColumns(obj) {
    // update calculatedColumns or databaseColumns
    this.setState(obj, this.validateAndChange);
  }

  validateAndChange() {
    this.validate(this.onChange);
  }

  updateColumns(cols) {var _context11;
    const { databaseColumns } = this.state;
    const databaseColumnNames = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(cols).call(cols, col => col.name);
    const currentCols = _babel_runtime_corejs3_core_js_stable_instance_reduce__WEBPACK_IMPORTED_MODULE_3___default()(databaseColumns).call(databaseColumns,
    (agg, col) => ({
      ...agg,
      [col.column_name]: col }),

    {});

    const finalColumns = [];
    const results = {
      added: [],
      modified: [],
      removed: _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(_context11 = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(databaseColumns).call(databaseColumns,
      col => col.column_name)).call(_context11,
      col => !_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_2___default()(databaseColumnNames).call(databaseColumnNames, col)) };

    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(cols).call(cols, col => {
      const currentCol = currentCols[col.name];
      if (!currentCol) {
        // new column
        finalColumns.push({
          id: shortid__WEBPACK_IMPORTED_MODULE_15___default.a.generate(),
          column_name: col.name,
          type: col.type,
          groupby: true,
          filterable: true,
          is_dttm: col.is_dttm });

        results.added.push(col.name);
      } else if (
      currentCol.type !== col.type ||
      currentCol.is_dttm !== col.is_dttm)
      {
        // modified column
        finalColumns.push({
          ...currentCol,
          type: col.type,
          is_dttm: col.is_dttm });

        results.modified.push(col.name);
      } else {
        // unchanged
        finalColumns.push(currentCol);
      }
    });
    if (
    results.added.length ||
    results.modified.length ||
    results.removed.length)
    {
      this.setColumns({ databaseColumns: finalColumns });
    }
    return results;
  }

  syncMetadata() {
    const { datasource } = this.state;
    const endpoint = `/datasource/external_metadata/${
    datasource.type || datasource.datasource_type
    }/${datasource.id}/`;
    this.setState({ metadataLoading: true });

    _superset_ui_core__WEBPACK_IMPORTED_MODULE_18__["default"].get({ endpoint }).
    then(({ json }) => {
      const results = this.updateColumns(json);
      if (results.modified.length) {
        this.props.addSuccessToast(
        Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Modified columns: %s', results.modified.join(', ')));

      }
      if (results.removed.length) {
        this.props.addSuccessToast(
        Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Removed columns: %s', results.removed.join(', ')));

      }
      if (results.added.length) {
        this.props.addSuccessToast(
        Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('New columns added: %s', results.added.join(', ')));

      }
      this.props.addSuccessToast(Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Metadata has been synced'));
      this.setState({ metadataLoading: false });
    }).
    catch((response) =>
    Object(src_utils_getClientErrorObject__WEBPACK_IMPORTED_MODULE_29__["getClientErrorObject"])(response).then(({ error, statusText }) => {
      this.props.addDangerToast(
      error || statusText || Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('An error has occurred'));

      this.setState({ metadataLoading: false });
    }));

  }

  findDuplicates(arr, accessor) {
    const seen = {};
    const dups = [];
    _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_7___default()(arr).call(arr, obj => {
      const item = accessor(obj);
      if (item in seen) {
        dups.push(item);
      } else {
        seen[item] = null;
      }
    });
    return dups;
  }

  validate(callback) {var _context12;
    let errors = [];
    let dups;
    const { datasource } = this.state;

    // Looking for duplicate column_name
    dups = this.findDuplicates(datasource.columns, obj => obj.column_name);
    errors = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(errors).call(errors,
    _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(dups).call(dups, name => Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Column name [%s] is duplicated', name)));


    // Looking for duplicate metric_name
    dups = this.findDuplicates(datasource.metrics, obj => obj.metric_name);
    errors = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(errors).call(errors,
    _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(dups).call(dups, name => Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Metric name [%s] is duplicated', name)));


    // Making sure calculatedColumns have an expression defined
    const noFilterCalcCols = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_6___default()(_context12 = this.state.calculatedColumns).call(_context12,
    col => !col.expression && !col.json);

    errors = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_1___default()(errors).call(errors,
    _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(noFilterCalcCols).call(noFilterCalcCols, (col) =>
    Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Calculated column [%s] requires an expression', col.column_name)));



    this.setState({ errors }, callback);
  }

  handleTabSelect(activeTabKey) {
    this.setState({ activeTabKey });
  }

  renderSettingsFieldset() {
    const { datasource } = this.state;
    return (
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Fieldset__WEBPACK_IMPORTED_MODULE_37__["default"], {
        title: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Basic'),
        item: datasource,
        onChange: this.onDatasourceChange },

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "description",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Description'),
        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextAreaControl__WEBPACK_IMPORTED_MODULE_33__["default"], { language: "markdown", offerEditInModal: false }) }),


      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "default_endpoint",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Default URL'),
        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(
        'Default URL to redirect to when accessing from the dataset list page'),

        control: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], { controlId: "default_endpoint" }) }),

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        inline: true,
        fieldKey: "filter_select_enabled",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Autocomplete filters'),
        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Whether to populate autocomplete filters options'),
        control: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_30__["default"], null) }),

      this.state.isSqla &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "fetch_values_predicate",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Autocomplete query predicate'),
        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(
        'When using "Autocomplete filters", this can be used to improve performance ' +
        'of the query fetching the values. Use this option to apply a ' +
        'predicate (WHERE clause) to the query selecting the distinct ' +
        'values from the table. Typically the intent would be to limit the scan ' +
        'by applying a relative time filter on a partitioned or indexed time-related field.'),

        control: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], { controlId: "fetch_values_predicate" }) }),


      this.state.isSqla &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "extra",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Extra'),
        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(
        'Extra data to specify table metadata. Currently supports ' +
        'metadata of the format: `{ "certification": { "certified_by": ' +
        '"Data Platform Team", "details": "This table is the source of truth." ' +
        '}, "warning_markdown": "This is a warning." }`.'),

        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextAreaControl__WEBPACK_IMPORTED_MODULE_33__["default"], {
          controlId: "extra",
          language: "json",
          offerEditInModal: false }) }),




      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "owners",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Owners'),
        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Owners of the dataset'),
        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_SelectAsyncControl__WEBPACK_IMPORTED_MODULE_34__["default"], {
          dataEndpoint: "api/v1/dataset/related/owners",
          multi: true,
          mutator: data => {var _context13;return (
              _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(_context13 = data.result).call(_context13, pk => ({
                value: pk.value,
                label: `${pk.text}` })));} }),




        controlProps: {} })));



  }

  renderAdvancedFieldset() {
    const { datasource } = this.state;
    return (
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Fieldset__WEBPACK_IMPORTED_MODULE_37__["default"], {
        title: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Advanced'),
        item: datasource,
        onChange: this.onDatasourceChange },

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "cache_timeout",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Cache timeout'),
        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(
        'The duration of time in seconds before the cache is invalidated'),

        control: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], { controlId: "cache_timeout" }) }),

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "offset",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Hours offset'),
        control: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], { controlId: "offset" }),
        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(
        'The number of hours, negative or positive, to shift the time column. This can be used to move UTC time to local time.') }),


      this.state.isSqla &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "template_params",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Template parameters'),
        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(
        'A set of parameters that become available in the query using Jinja templating syntax'),

        control: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], { controlId: "template_params" }) })));




  }

  renderSpatialTab() {var _context14;
    const { datasource } = this.state;
    const { spatials, all_cols: allCols } = datasource;
    return (
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Tabs__WEBPACK_IMPORTED_MODULE_20__["default"].TabPane, {
        tab: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(CollectionTabTitle, { collection: spatials, title: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Spatial') }),
        key: 4 },

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_CollectionTable__WEBPACK_IMPORTED_MODULE_36__["default"], {
        tableColumns: ['name', 'config'],
        onChange: _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context14 = this.onDatasourcePropChange).call(_context14, this, 'spatials'),
        itemGenerator: () => ({
          name: '<new spatial>',
          type: '<no type>',
          config: null }),

        collection: spatials,
        allowDeletes: true,
        itemRenderers: {
          name: (d, onChange) =>
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_EditableTitle__WEBPACK_IMPORTED_MODULE_28__["default"], { canEdit: true, title: d, onSaveTitle: onChange }),

          config: (v, onChange) =>
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_SpatialControl__WEBPACK_IMPORTED_MODULE_35__["default"], { value: v, onChange: onChange, choices: allCols }) } })));





  }

  renderSourceFieldset() {
    const { datasource } = this.state;
    return (
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", null,
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", { className: "m-l-10 m-t-20 m-b-10" },
      _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(DATASOURCE_TYPES_ARR).call(DATASOURCE_TYPES_ARR, type => {var _context15;return (
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Radio__WEBPACK_IMPORTED_MODULE_11__["Radio"], {
            key: type.key,
            value: type.key,
            inline: true,
            onChange: _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context15 = this.onDatasourceTypeChange).call(_context15, this, type.key),
            checked: this.state.datasourceType === type.key,
            disabled: !this.state.isEditMode },

          type.label));})),



      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("hr", null),
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Fieldset__WEBPACK_IMPORTED_MODULE_37__["default"], { item: datasource, onChange: this.onDatasourceChange, compact: true },
      this.state.datasourceType === DATASOURCE_TYPES.virtual.key &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", null,
      this.state.isSqla &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment, null,
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "databaseSelector",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('virtual'),
        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_DatabaseSelector__WEBPACK_IMPORTED_MODULE_23__["default"], {
          dbId: datasource.database.id,
          schema: datasource.schema,
          onSchemaChange: (schema) =>
          this.state.isEditMode &&
          this.onDatasourcePropChange('schema', schema),

          onDbChange: (database) =>
          this.state.isEditMode &&
          this.onDatasourcePropChange('database', database),

          formMode: false,
          handleError: this.props.addDangerToast,
          readOnly: !this.state.isEditMode }) }),



      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "table_name",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Dataset name'),
        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], {
          controlId: "table_name",
          onChange: table => {
            this.onDatasourcePropChange('table_name', table);
          },
          placeholder: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Dataset name'),
          disabled: !this.state.isEditMode }) }),



      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "sql",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('SQL'),
        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(
        'When specifying SQL, the datasource acts as a view. ' +
        'Superset will use this statement as a subquery while grouping and filtering ' +
        'on the generated parent queries.'),

        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextAreaControl__WEBPACK_IMPORTED_MODULE_33__["default"], {
          language: "sql",
          offerEditInModal: false,
          minLines: 20,
          maxLines: 20,
          readOnly: !this.state.isEditMode }) })),





      this.state.isDruid &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "json",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('JSON'),
        description:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", null,
        Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('The JSON metric or post aggregation definition.')),


        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextAreaControl__WEBPACK_IMPORTED_MODULE_33__["default"], { language: "json", offerEditInModal: false }) })),





      this.state.datasourceType === DATASOURCE_TYPES.physical.key &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_common_components__WEBPACK_IMPORTED_MODULE_10__["Col"], { xs: 24, md: 12 },
      this.state.isSqla &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
        fieldKey: "tableSelector",
        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Physical'),
        control:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_TableSelector__WEBPACK_IMPORTED_MODULE_27__["default"], {
          clearable: false,
          dbId: datasource.database.id,
          handleError: this.props.addDangerToast,
          schema: datasource.schema,
          sqlLabMode: false,
          tableName: datasource.table_name,
          onSchemaChange:
          this.state.isEditMode ?
          (schema) =>
          this.onDatasourcePropChange('schema', schema) :
          undefined,

          onDbChange:
          this.state.isEditMode ?
          (database) =>
          this.onDatasourcePropChange('database', database) :
          undefined,

          onTableChange:
          this.state.isEditMode ?
          (table) =>
          this.onDatasourcePropChange('table_name', table) :
          undefined,

          readOnly: !this.state.isEditMode }),


        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(
        'The pointer to a physical table (or view). Keep in mind that the chart is ' +
        'associated to this Superset logical table, and this logical table points ' +
        'the physical table referenced here.') }))),






      this.allowEditSource &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(EditLockContainer, null,
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("span", { role: "button", tabIndex: 0, onClick: this.onChangeEditMode },
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Icon__WEBPACK_IMPORTED_MODULE_24__["default"], {
        color: _superset_ui_core__WEBPACK_IMPORTED_MODULE_16__["supersetTheme"].colors.grayscale.base,
        name: this.state.isEditMode ? 'lock-unlocked' : 'lock-locked' })),


      !this.state.isEditMode &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", null, Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Click the lock to make changes.')),

      this.state.isEditMode &&
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", null, Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Click the lock to prevent further changes.')))));





  }

  renderErrors() {
    if (this.state.errors.length > 0) {var _context16;
      return (
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Alert__WEBPACK_IMPORTED_MODULE_13__["default"], {
          css: theme => ({ marginBottom: theme.gridUnit * 4 }),
          type: "error",
          message:
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment, null,
          _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(_context16 = this.state.errors).call(_context16, (err) =>
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", { key: err }, err))) }));





    }
    return null;
  }

  renderMetricCollection() {var _this$state$datasourc, _context17;
    return (
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_CollectionTable__WEBPACK_IMPORTED_MODULE_36__["default"], {
        tableColumns: ['metric_name', 'verbose_name', 'expression'],
        columnLabels: {
          metric_name: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Metric'),
          verbose_name: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Label'),
          expression: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('SQL expression') },

        expandFieldset:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(FormContainer, null,
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Fieldset__WEBPACK_IMPORTED_MODULE_37__["default"], { compact: true },
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
          fieldKey: "verbose_name",
          label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Label'),
          control: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], { controlId: "verbose_name" }) }),

        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
          fieldKey: "description",
          label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Description'),
          control:
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], {
            controlId: "description",
            placeholder: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Description') }) }),



        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
          fieldKey: "d3format",
          label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('D3 format'),
          control:
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], { controlId: "d3format", placeholder: "%y/%m/%d" }) }),


        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
          label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Certified by'),
          fieldKey: "certified_by",
          description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(
          'Person or group that has certified this metric'),

          control:
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], {
            controlId: "certified_by",
            placeholder: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Certified by') }) }),



        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
          label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Certification details'),
          fieldKey: "certification_details",
          description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Details of the certification'),
          control:
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], {
            controlId: "certification_details",
            placeholder: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Certification details') }) }),



        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_CRUD_Field__WEBPACK_IMPORTED_MODULE_38__["default"], {
          label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Warning'),
          fieldKey: "warning_markdown",
          description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Optional warning about use of this metric'),
          control:
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextAreaControl__WEBPACK_IMPORTED_MODULE_33__["default"], {
            controlId: "warning_markdown",
            language: "markdown",
            offerEditInModal: false }) }))),






        collection: (_this$state$datasourc = this.state.datasource.metrics) == null ? void 0 : _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_4___default()(_this$state$datasourc).call(_this$state$datasourc, metric => {
          const {
            certification: { details, certified_by: certifiedBy } = {},
            warning_markdown: warningMarkdown } =
          JSON.parse(metric.extra || '{}') || {};
          return {
            ...metric,
            certification_details: details || '',
            warning_markdown: warningMarkdown || '',
            certified_by: certifiedBy };

        }),
        allowAddItem: true,
        onChange: _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_5___default()(_context17 = this.onDatasourcePropChange).call(_context17, this, 'metrics'),
        itemGenerator: () => ({
          metric_name: '<new metric>',
          verbose_name: '',
          expression: '' }),

        itemRenderers: {
          metric_name: (v, onChange, _, record) =>
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(FlexRowContainer, null,
          record.is_certified &&
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_CertifiedIcon__WEBPACK_IMPORTED_MODULE_21__["default"], {
            certifiedBy: record.certified_by,
            details: record.certification_details }),


          record.warning_markdown &&
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_WarningIconWithTooltip__WEBPACK_IMPORTED_MODULE_22__["default"], {
            warningMarkdown: record.warning_markdown }),


          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_EditableTitle__WEBPACK_IMPORTED_MODULE_28__["default"], { canEdit: true, title: v, onSaveTitle: onChange })),


          verbose_name: (v, onChange) =>
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_EditableTitle__WEBPACK_IMPORTED_MODULE_28__["default"], { canEdit: true, title: v, onSaveTitle: onChange }),

          expression: (v, onChange) =>
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_EditableTitle__WEBPACK_IMPORTED_MODULE_28__["default"], {
            canEdit: true,
            title: v,
            onSaveTitle: onChange,
            extraClasses: ['datasource-sql-expression'],
            multiLine: true }),


          description: (v, onChange, label) =>
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(StackedField, {
            label: label,
            formElement: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], { value: v, onChange: onChange }) }),


          d3format: (v, onChange, label) =>
          Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(StackedField, {
            label: label,
            formElement: Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_31__["default"], { value: v, onChange: onChange }) }) },



        allowDeletes: true,
        stickyHeader: true }));


  }

  render() {
    const { datasource, activeTabKey } = this.state;
    return (
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(DatasourceContainer, null,
      this.renderErrors(),
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Alert__WEBPACK_IMPORTED_MODULE_13__["default"], {
        css: theme => ({ marginBottom: theme.gridUnit * 4 }),
        type: "warning",
        message:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment, null,
        ' ',
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("strong", null, Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Be careful.'), " "),
        Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])(
        'Changing these settings will affect all charts using this dataset, including charts owned by other people.')) }),




      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(StyledTableTabs, {
        fullWidth: false,
        id: "table-tabs",
        "data-test": "edit-dataset-tabs",
        onChange: this.handleTabSelect,
        defaultActiveKey: activeTabKey },

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Tabs__WEBPACK_IMPORTED_MODULE_20__["default"].TabPane, { key: 0, tab: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Source') },
      this.renderSourceFieldset()),

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Tabs__WEBPACK_IMPORTED_MODULE_20__["default"].TabPane, {
        tab:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(CollectionTabTitle, {
          collection: datasource.metrics,
          title: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Metrics') }),


        key: 1 },

      this.renderMetricCollection()),

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Tabs__WEBPACK_IMPORTED_MODULE_20__["default"].TabPane, {
        tab:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(CollectionTabTitle, {
          collection: this.state.databaseColumns,
          title: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Columns') }),


        key: 2 },

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("div", null,
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(ColumnButtonWrapper, null,
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("span", { className: "m-t-10 m-r-10" },
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Button__WEBPACK_IMPORTED_MODULE_19__["default"], {
        buttonSize: "small",
        buttonStyle: "primary",
        onClick: this.syncMetadata,
        className: "sync-from-source" },

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])("i", { className: "fa fa-database" }), ' ',
      Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Sync columns from source')))),



      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(ColumnCollectionTable, {
        className: "columns-table",
        columns: this.state.databaseColumns,
        onChange: (databaseColumns) =>
        this.setColumns({ databaseColumns }) }),


      this.state.metadataLoading && Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Loading__WEBPACK_IMPORTED_MODULE_26__["default"], null))),


      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Tabs__WEBPACK_IMPORTED_MODULE_20__["default"].TabPane, {
        tab:
        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(CollectionTabTitle, {
          collection: this.state.calculatedColumns,
          title: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Calculated columns') }),


        key: 3 },

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(ColumnCollectionTable, {
        columns: this.state.calculatedColumns,
        onChange: (calculatedColumns) =>
        this.setColumns({ calculatedColumns }),

        editableColumnName: true,
        showExpression: true,
        allowAddItem: true,
        allowEditDataType: true,
        itemGenerator: () => ({
          column_name: '<new column>',
          filterable: true,
          groupby: true,
          expression: '<enter SQL expression here>',
          __expanded: true }) })),



      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_components_Tabs__WEBPACK_IMPORTED_MODULE_20__["default"].TabPane, { key: 4, tab: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__["t"])('Settings') },
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_common_components__WEBPACK_IMPORTED_MODULE_10__["Row"], { gutter: 16 },
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_common_components__WEBPACK_IMPORTED_MODULE_10__["Col"], { xs: 24, md: 12 },
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(FormContainer, null, this.renderSettingsFieldset())),

      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(src_common_components__WEBPACK_IMPORTED_MODULE_10__["Col"], { xs: 24, md: 12 },
      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_41__["jsx"])(FormContainer, null, this.renderAdvancedFieldset())))))));






  } // @ts-ignore
  __reactstandin__regenerateByEval(key, code) {// @ts-ignore
    this[key] = eval(code);}}
DatasourceEditor.defaultProps = defaultProps;
DatasourceEditor.propTypes = propTypes;const _default =

Object(src_messageToasts_enhancers_withToasts__WEBPACK_IMPORTED_MODULE_39__["default"])(DatasourceEditor);/* harmony default export */ __webpack_exports__["default"] = (_default);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DatasourceContainer, "DatasourceContainer", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(FlexRowContainer, "FlexRowContainer", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(StyledTableTabs, "StyledTableTabs", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(EditLockContainer, "EditLockContainer", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(ColumnButtonWrapper, "ColumnButtonWrapper", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(checkboxGenerator, "checkboxGenerator", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(DATA_TYPES, "DATA_TYPES", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(DATASOURCE_TYPES_ARR, "DATASOURCE_TYPES_ARR", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(DATASOURCE_TYPES, "DATASOURCE_TYPES", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(CollectionTabTitle, "CollectionTabTitle", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(ColumnCollectionTable, "ColumnCollectionTable", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(StackedField, "StackedField", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(FormContainer, "FormContainer", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(propTypes, "propTypes", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(defaultProps, "defaultProps", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(DatasourceEditor, "DatasourceEditor", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");reactHotLoader.register(_default, "default", "G:\\workspace\\boke-pro\\superset-all\\superset\\superset-frontend\\src\\datasource\\DatasourceEditor.jsx");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ })

}]);
//# sourceMappingURL=32.9ed865ea.chunk.js.map